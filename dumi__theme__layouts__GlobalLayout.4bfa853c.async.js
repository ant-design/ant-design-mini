"use strict";(self.webpackChunkantd_mini=self.webpackChunkantd_mini||[]).push([[1032],{67012:function(ie,j,o){o.r(j),o.d(j,{default:function(){return ne}});var J=o(97857),k=o.n(J),D=o(5574),E=o.n(D),w=o(54548),O=o(9361),B=o(25682),T=o(52830),n=o(67294),u=o(27248),F=o(59320),$=o(38199);function le(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function V(f,i){var r=new URL(f),a=r.searchParams,d=a.get("page"),p=H(i.platform),g=p.platform,v=p.disablePlatformSwitch;a.set("platform",g),a.set("theme",i.theme);var y=new URL(r.origin+r.pathname);return y.searchParams.set("compilerServer",a.get("compilerServer")||""),y.searchParams.set("page",""),{url:r.toString(),originPath:y.toString(),page:d,supportPlatform:g,disablePlatformSwitch:v}}var z="alipay";function H(f){var i=!0;return!i&&f==="wechat"?{platform:z,disablePlatformSwitch:!0}:{platform:f,disablePlatformSwitch:!1}}var X={name:"1nm27lw",styles:"background-color:#f9fafb"},Y={name:"1nw5iit",styles:"background-color:#141414"},K=function(){var i=(0,F.Z)(),r=i.token;return{previewerWrapper:(0,u.iv)("@media only screen and (max-width: ",r.screenLG,"px){display:none;}",""),dark:Y,light:X}},Q=function(){var i=K(),r=(0,n.useContext)($.Z),a=r.theme,d=r.platform,p=r.herboxUrl,g=(0,n.useState)(!1),v=E()(g,2),y=v[0],I=v[1],c=(0,n.useRef)(null),s=(0,T.MZ)(),Z=(0,n.useMemo)(function(){var e,t;return(s==null||(e=s.meta)===null||e===void 0||(e=e.frontmatter)===null||e===void 0||(e=e.nav)===null||e===void 0?void 0:e.path)==="/components"||(s==null||(t=s.meta)===null||t===void 0||(t=t.frontmatter)===null||t===void 0||(t=t.nav)===null||t===void 0?void 0:t.path)==="/copilot"},[s]),M=window.location.protocol+"//"+window.location.host+p,L=(0,n.useMemo)(function(){return V(M,{theme:(a==null?void 0:a.find(function(e){return["dark","light"].includes(e)}))||"light",platform:d})},[M,a,d]),R=L.originPath,P=L.page;function m(){var e=c.current;if(e){var t=function(){var S,l;e==null||(S=e.contentWindow)===null||S===void 0||S.postMessage({type:"setIsDarkMode",data:a.includes("dark")});var C=a.includes("dark")?"#000":"#fff";e==null||(l=e.contentWindow)===null||l===void 0||l.postMessage({type:"evaluateJavaScriptInWorkerCode",data:`
          my.setNavigationBar({
            backgroundColor: '`.concat(C,`',
            borderBottomColor: '`).concat(C,`',
          });
      `)})};t()}}function b(){var e=c.current;if(!e)return;var t=a.includes("dark")?"#000":"#fff";function h(){var S;e==null||(S=e.contentWindow)===null||S===void 0||S.postMessage({type:"evaluateJavaScriptInWorkerCode",data:`
        console.log('\u8DF3\u8F6C\u9875\u9762','/`.concat(P,`');
        my.redirectTo({
          url: '/`).concat(P,`',
          success: () => {
            setTimeout(()=>{
              my.setNavigationBar({
                backgroundColor: '`).concat(t,`',
                borderBottomColor: '`).concat(t,`',
              });
            }, 500);
          },
      });
      `)})}h()}function N(e){var t,h=c.current;!h||!e||h==null||(t=h.contentWindow)===null||t===void 0||t.postMessage({type:"evaluateJavaScriptInWorkerCode",data:e})}(0,n.useEffect)(function(){a.length>0&&m()},[a]),(0,n.useEffect)(function(){P&&b()},[P]),(0,n.useEffect)(function(){var e=c.current;e&&(e.onload=function(){m(),window.setMsgToSim=N})},[c.current]);function x(e){if(e.data.type==="onAppReady"){var t=e.data.data;t&&(m(),b())}}return(0,n.useEffect)(function(){return window.addEventListener("message",x),function(){window.removeEventListener("message",x)}},[P]),(0,u.tZ)("div",{className:"previewer ".concat(!p||!Z?"hide":""," ").concat(a.includes("dark")?"theme-dark":"theme-light"),css:(0,u.iv)(i.previewerWrapper," ",a.includes("dark")?i.dark:i.light,";","")},!y&&(0,u.tZ)("div",{className:"previewer-loading"}),(0,u.tZ)("iframe",{ref:c,src:R,onLoad:function(){return I(!0)},allow:"clipboard-read; clipboard-write"}))},q=Q,_=o(96107),ee=768,A="dumi-theme-antd-site-state",G={theme:[],isMobile:!1,direction:"ltr",platform:"alipay",herboxUrl:""},te=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return i.map(function(r){return r==="dark"?O.Z.darkAlgorithm:r==="compact"?O.Z.compactAlgorithm:O.Z.defaultAlgorithm})},re=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},ae=function(i){var r=i,a=re(),d=(r==null?void 0:r.theme)||[],p=d.filter(function(v){return v==="auto"}).length>0;if(p){var g=d.filter(function(v){return v!=="auto"});g.push(a?"dark":"light"),r.theme=g}return Object.assign(G,r)},oe=function(){var i=(0,T.OI)(),r=E()(i,3),a=r[2],d=(0,_.Z)(),p=d.theme,g=d.ssr,v=d.prefersColor,y=(0,n.useState)(G),I=E()(y,2),c=I[0],s=c.theme,Z=c.isMobile,M=c.direction,L=c.platform,R=c.herboxUrl,P=I[1],m=(0,n.useCallback)(function(l){try{var C=JSON.parse(window.localStorage.getItem(A)||"{}"),U=Object.assign(C,l);window.localStorage.setItem(A,JSON.stringify(U)),P(function(W){return k()(k()({},W),l)})}catch(W){console.error(W)}},[]),b=(0,n.useCallback)(function(){m({isMobile:window.innerWidth<ee})},[m]);(0,n.useEffect)(function(){try{var l=JSON.parse(window.localStorage.getItem(A)||"{}");l!=null&&l.theme||(l.theme=[v.default]);var C=ae(l);m(C)}catch(U){console.error(U)}},[v,m]),(0,n.useEffect)(function(){return b(),a((s!=null?s:[]).indexOf("dark")>-1?"dark":"light"),window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}},[s,b,a]);var N=(0,n.useMemo)(function(){return{direction:M,isMobile:Z,theme:s,platform:L,herboxUrl:R,updateSiteConfig:m}},[Z,s,M,L,R,m]),x=n.useState(function(){return(0,w.createCache)()}),e=E()(x,1),t=e[0];(0,T.vj)(function(){var l=(0,w.extractStyle)(t,{plain:!0,types:"style"});return(0,u.tZ)("style",{"data-type":"antd-cssinjs",dangerouslySetInnerHTML:{__html:l}})}),(0,T.vj)(function(){var l=(0,w.extractStyle)(t,{plain:!0,types:["cssVar","token"]});return(0,u.tZ)("style",{"data-type":"antd-css-var","data-rc-order":"prepend","data-rc-priority":"-9999",dangerouslySetInnerHTML:{__html:l}})});var h=(0,u.tZ)($.Z.Provider,{value:N},(0,u.tZ)(B.ZP,{theme:k()(k()({},p),{},{algorithm:te(s)})},(0,u.tZ)(T.j3,null),(0,u.tZ)(q,null))),S=(0,u.tZ)(w.StyleProvider,{cache:t,linters:[w.logicalPropertiesLinter,w.legacyNotSelectorLinter,w.parentSelectorLinter]},h);return g?(o.g.styleCache=t,S):h},ne=oe}}]);
