!(function(){var ov=Object.defineProperty,sv=Object.defineProperties;var lv=Object.getOwnPropertyDescriptors;var Jc=Object.getOwnPropertySymbols;var Od=Object.prototype.hasOwnProperty,Md=Object.prototype.propertyIsEnumerable;var Th=Math.pow,wd=(Zt,Oe,T)=>Oe in Zt?ov(Zt,Oe,{enumerable:!0,configurable:!0,writable:!0,value:T}):Zt[Oe]=T,ar=(Zt,Oe)=>{for(var T in Oe||(Oe={}))Od.call(Oe,T)&&wd(Zt,T,Oe[T]);if(Jc)for(var T of Jc(Oe))Md.call(Oe,T)&&wd(Zt,T,Oe[T]);return Zt},mi=(Zt,Oe)=>sv(Zt,lv(Oe));var xo=(Zt,Oe)=>{var T={};for(var y in Zt)Od.call(Zt,y)&&Oe.indexOf(y)<0&&(T[y]=Zt[y]);if(Zt!=null&&Jc)for(var y of Jc(Zt))Oe.indexOf(y)<0&&Md.call(Zt,y)&&(T[y]=Zt[y]);return T};var Sh=(Zt,Oe,T)=>new Promise((y,M)=>{var U=ee=>{try{re(T.next(ee))}catch(w){M(w)}},xe=ee=>{try{re(T.throw(ee))}catch(w){M(w)}},re=ee=>ee.done?y(ee.value):Promise.resolve(ee.value).then(U,xe);re((T=T.apply(Zt,Oe)).next())});(self.webpackChunkantd_mini=self.webpackChunkantd_mini||[]).push([[1863],{20841:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},89739:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},63606:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},24019:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},80882:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},86548:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},21640:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},1210:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},6171:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},84477:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},60532:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},16664:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ie}});var y=T(97460),M=T(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},xe=U,re=T(55230),ee=function(X,he){return M.createElement(re.Z,(0,y.Z)({},X,{ref:he,icon:xe}))},w=M.forwardRef(ee),ie=w},10535:function(){"use strict"},94363:function(){"use strict"},34637:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Arrow-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Arrow-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-335.000000, -153.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Arrow-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"Arrow-\u7F16\u7EC4-13",transform:"translate(331.000000, 79.000000)"},M.createElement("g",{id:"Arrow-\u6298\u53E0\u7BAD\u5934_Black@2x",transform:"translate(12.000000, 12.000000) rotate(90.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"},M.createElement("rect",{id:"Arrow-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M8.576,10.6224 C8.46400007,10.7357654 8.31136002,10.7997014 8.152,10.8 L7.848,10.8 C7.68897547,10.7980619 7.53693306,10.7343763 7.424,10.6224 L3.3184,6.4672 C3.16044703,6.30862179 3.16044703,6.05217821 3.3184,5.8936 L3.8864,5.3192 C3.95991079,5.24354153 4.06091047,5.20085176 4.1664,5.20085176 C4.27188953,5.20085176 4.37288921,5.24354153 4.4464,5.3192 L8,8.9168 L11.5536,5.3192 C11.6284927,5.24307539 11.7308111,5.20020394 11.8376,5.20020394 C11.9443889,5.20020394 12.0467073,5.24307539 12.1216,5.3192 L12.6816,5.8936 C12.839553,6.05217821 12.839553,6.30862179 12.6816,6.4672 L8.576,10.6224 Z",id:"Arrow-\u8DEF\u5F84"})))))))}var ee=re;Oe.default=ee},56564:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Brush-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.649999976},M.createElement("g",{id:"Brush-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-17.000000, -121.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Brush-brush",transform:"translate(14.000000, 120.000000)"},M.createElement("path",{d:"M8.20652175,3.2826087 L8.20652175,4.10326086 C8.20652175,4.55649455 7.83910325,4.92391304 7.38586957,4.92391304 C6.93263588,4.92391304 6.56521738,4.55649455 6.56521738,4.10326086 L6.56521738,3.2826087 L4.92391304,3.2826087 L4.92391304,8.20652175 L14.7717391,8.20652175 L14.7717391,3.2826087 L13.1304348,3.2826087 L13.1304348,5.74456522 C13.1304348,6.19779891 12.7630163,6.5652174 12.3097826,6.5652174 C11.8565489,6.5652174 11.4891304,6.19779891 11.4891304,5.74456522 L11.4891304,3.2826087 L8.20652175,3.2826087 Z M4.92391304,9.84782609 L4.92391304,11.4891304 L7.72233695,11.4891304 C8.08431263,11.4890155 8.42799204,11.6482243 8.66197039,11.9244136 C8.89594874,12.2006029 8.99650752,12.5657753 8.93690217,12.9228098 L8.60043479,14.9399728 C8.51784643,15.435105 8.73592476,15.9322123 9.15616576,16.2067558 C9.57640676,16.4812994 10.1192454,16.4812994 10.5394864,16.2067558 C10.9597274,15.9322123 11.1778057,15.435105 11.0952174,14.9399728 L10.75875,12.9228098 C10.6991446,12.5657753 10.7997034,12.2006029 11.0336818,11.9244136 C11.2676601,11.6482243 11.6113395,11.4890155 11.9733152,11.4891304 L14.7717391,11.4891304 L14.7717391,9.84782609 L4.92391304,9.84782609 Z M12.7143641,14.6699783 C12.9035912,15.807501 12.4022968,16.9492894 11.4368082,17.5798421 C10.4713197,18.2103948 9.2243325,18.2103948 8.25884395,17.5798421 C7.2933554,16.9492894 6.79206095,15.807501 6.98128804,14.6699783 L7.23815217,13.1304348 L4.92391304,13.1304348 C4.48861206,13.1304348 4.07113988,12.9575121 3.76333561,12.6497079 C3.45553133,12.3419036 3.2826087,11.9244314 3.2826087,11.4891304 L3.2826087,3.2826087 C3.2826087,2.84730772 3.45553133,2.42983554 3.76333561,2.12203126 C4.07113988,1.81422698 4.48861206,1.64130434 4.92391304,1.64130434 L14.7717391,1.64130434 C15.2070401,1.64130434 15.6245123,1.81422698 15.9323166,2.12203126 C16.2401208,2.42983554 16.4130435,2.84730772 16.4130435,3.2826087 L16.4130435,11.4891304 C16.4130435,11.9244314 16.2401208,12.3419036 15.9323166,12.6497079 C15.6245123,12.9575121 15.2070401,13.1304348 14.7717391,13.1304348 L12.4575,13.1304348 L12.7143641,14.6699783 L12.7143641,14.6699783 Z",id:"Brush-\u5F62\u72B6"})))))}var ee=re;Oe.default=ee},74304:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Compact-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Compact-\u9ED8\u8BA4",transform:"translate(-9.000000, -82.500000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Compact-\u9009\u9879\u4E00",transform:"translate(9.268811, 79.500000)"},M.createElement("g",{id:"Compact-smaller",transform:"translate(0.000000, 3.000000)"},M.createElement("rect",{id:"Compact-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M10,14 L10,12 C10,10.8666667 10.8666667,10 12,10 L14,10 C14.4,10 14.6666667,10.2666667 14.6666667,10.6666667 C14.6666667,11.0666667 14.4,11.3333333 14,11.3333333 L12,11.3333333 C11.6,11.3333333 11.3333333,11.6 11.3333333,12 L11.3333333,14 C11.3333333,14.4 11.0666667,14.6666667 10.6666667,14.6666667 C10.2666667,14.6666667 10,14.4 10,14 L10,14 Z M4.66666667,14 L4.66666667,12 C4.66666667,11.6 4.4,11.3333333 4,11.3333333 L2,11.3333333 C1.6,11.3333333 1.33333333,11.0666667 1.33333333,10.6666667 C1.33333333,10.2666667 1.6,10 2,10 L4,10 C5.13333333,10 6,10.8666667 6,12 L6,14 C6,14.4 5.73333333,14.6666667 5.33333333,14.6666667 C4.93333333,14.6666667 4.66666666,14.4 4.66666667,14 L4.66666667,14 Z M12,6 C10.8666667,6 10,5.13333333 10,4 L10,2 C10,1.6 10.2666667,1.33333333 10.6666667,1.33333333 C11.0666667,1.33333333 11.3333333,1.6 11.3333333,2 L11.3333333,4 C11.3333333,4.4 11.6,4.66666667 12,4.66666667 L14,4.66666667 C14.4,4.66666667 14.6666667,4.93333334 14.6666667,5.33333333 C14.6666667,5.73333331 14.4,6 14,6 L12,6 L12,6 Z M2,6 C1.6,6 1.33333333,5.73333333 1.33333333,5.33333333 C1.33333333,4.93333333 1.6,4.66666666 2,4.66666667 L4,4.66666667 C4.4,4.66666667 4.66666667,4.4 4.66666667,4 L4.66666667,2 C4.66666667,1.6 4.93333334,1.33333333 5.33333333,1.33333333 C5.73333331,1.33333333 6,1.6 6,2 L6,4 C6,5.13333333 5.13333333,6 4,6 L2,6 Z",id:"Compact-\u5F62\u72B6"}))))))}var ee=re;Oe.default=ee},90387:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Control-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Control-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-1372.000000, -505.000000)",fillRule:"nonzero"},M.createElement("g",{id:"Control-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"Control-\u7F16\u7EC4-14",transform:"translate(536.000000, 420.000000)"},M.createElement("g",{id:"Control-\u7CFB\u7EDF\u63A7\u5236",transform:"translate(836.000000, 15.000000)"},M.createElement("rect",{id:"Control-\u77E9\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M6,3.5625 L13.75,3.5625 L13.75,4.1875 L6,4.1875 L6,3.5625 Z M2.1875,3.5625 L3.8125,3.5625 L3.8125,4.1875 L2.1875,4.1875 L2.1875,3.5625 Z M8.3125,11.8125 L13.75,11.8125 L13.75,12.4375 L8.3125,12.4375 L8.3125,11.8125 Z M2.1875,11.8125 L6.125,11.8125 L6.125,12.4375 L2.1875,12.4375 L2.1875,11.8125 Z M12.625,7.6875 L13.75,7.6875 L13.75,8.3125 L12.625,8.3125 L12.625,7.6875 Z M2.1875,7.6875 L10.4375,7.6875 L10.4375,8.3125 L2.1875,8.3125 L2.1875,7.6875 Z",id:"Control-\u5F62\u72B6",fill:"currentColor"}),M.createElement("path",{d:"M1.875,3.875 C1.875,4.04758898 2.01491102,4.1875 2.1875,4.1875 C2.36008898,4.1875 2.5,4.04758898 2.5,3.875 C2.5,3.70241102 2.36008898,3.5625 2.1875,3.5625 C2.01491102,3.5625 1.875,3.70241102 1.875,3.875 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,3.875 C13.4375,4.04758898 13.577411,4.1875 13.75,4.1875 C13.922589,4.1875 14.0625,4.04758898 14.0625,3.875 C14.0625,3.70241102 13.922589,3.5625 13.75,3.5625 C13.577411,3.5625 13.4375,3.70241102 13.4375,3.875 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,8 C13.4375,8.17258898 13.577411,8.3125 13.75,8.3125 C13.922589,8.3125 14.0625,8.17258898 14.0625,8 C14.0625,7.82741102 13.922589,7.6875 13.75,7.6875 C13.577411,7.6875 13.4375,7.82741102 13.4375,8 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,12.125 C13.4375,12.297589 13.577411,12.4375 13.75,12.4375 C13.922589,12.4375 14.0625,12.297589 14.0625,12.125 C14.0625,11.952411 13.922589,11.8125 13.75,11.8125 C13.577411,11.8125 13.4375,11.952411 13.4375,12.125 L13.4375,12.125 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M1.875,8 C1.875,8.17258898 2.01491102,8.3125 2.1875,8.3125 C2.36008898,8.3125 2.5,8.17258898 2.5,8 C2.5,7.82741102 2.36008898,7.6875 2.1875,7.6875 C2.01491102,7.6875 1.875,7.82741102 1.875,8 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M1.875,12.125 C1.875,12.297589 2.01491102,12.4375 2.1875,12.4375 C2.36008898,12.4375 2.5,12.297589 2.5,12.125 C2.5,11.952411 2.36008898,11.8125 2.1875,11.8125 C2.01491102,11.8125 1.875,11.952411 1.875,12.125 L1.875,12.125 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M4.90625,5.25 C4.13125,5.25 3.5,4.61875 3.5,3.84375 C3.5,3.06875 4.13125,2.4375 4.90625,2.4375 C5.68125,2.4375 6.3125,3.06875 6.3125,3.84375 C6.3125,4.61875 5.68125,5.25 4.90625,5.25 Z M4.90625,3.0625 C4.475,3.0625 4.125,3.4125 4.125,3.84375 C4.125,4.275 4.475,4.625 4.90625,4.625 C5.3375,4.625 5.6875,4.275 5.6875,3.84375 C5.6875,3.4125 5.3375,3.0625 4.90625,3.0625 Z M11.53125,9.4375 C10.75625,9.4375 10.125,8.80625 10.125,8.03125 C10.125,7.25625 10.75625,6.625 11.53125,6.625 C12.30625,6.625 12.9375,7.25625 12.9375,8.03125 C12.9375,8.80625 12.30625,9.4375 11.53125,9.4375 Z M11.53125,7.25 C11.1,7.25 10.75,7.6 10.75,8.03125 C10.75,8.4625 11.1,8.8125 11.53125,8.8125 C11.9625,8.8125 12.3125,8.4625 12.3125,8.03125 C12.3125,7.6 11.9625,7.25 11.53125,7.25 Z M7.21875,13.5 C6.44375,13.5 5.8125,12.86875 5.8125,12.09375 C5.8125,11.31875 6.44375,10.6875 7.21875,10.6875 C7.99375,10.6875 8.625,11.31875 8.625,12.09375 C8.625,12.86875 7.99375,13.5 7.21875,13.5 Z M7.21875,11.3125 C6.7875,11.3125 6.4375,11.6625 6.4375,12.09375 C6.4375,12.525 6.7875,12.875 7.21875,12.875 C7.65,12.875 8,12.525 8,12.09375 C8,11.6625 7.65,11.3125 7.21875,11.3125 Z",id:"Control-\u5F62\u72B6",fill:"currentColor"})))))))}var ee=re;Oe.default=ee},35791:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Dark-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Dark-\u9ED8\u8BA4",transform:"translate(-9.000000, -49.500000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Dark-\u7F16\u7EC4-17",transform:"translate(0.000000, 42.500000)"},M.createElement("g",{id:"Dark-moon",transform:"translate(9.268811, 7.500000)"},M.createElement("rect",{id:"Dark-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M8,1.33333333 C8.14933333,1.33333333 8.29688889,1.33844444 8.44266667,1.34866666 C8.14755556,1.98422221 8,2.64577777 8,3.33333333 C8,3.96533333 8.12333333,4.56955555 8.37,5.146 C8.61666667,5.72244445 8.94822222,6.21888889 9.36466667,6.63533333 C9.78111112,7.05177777 10.2775556,7.38333332 10.854,7.63 C11.4304444,7.87666668 12.0346667,8.00000001 12.6666667,8 C13.3542222,8 14.0157778,7.85244444 14.6513333,7.55733333 C14.6615556,7.70311111 14.6666667,7.85066667 14.6666667,8 C14.6666667,8.604 14.5868889,9.19422222 14.4273333,9.77066667 C14.2677778,10.3471111 14.0446667,10.8793333 13.758,11.3673333 C13.4713333,11.8553333 13.1233333,12.3042222 12.714,12.714 C12.3046667,13.1237778 11.8557778,13.4717778 11.3673333,13.758 C10.8788889,14.0442222 10.3466667,14.2673333 9.77066667,14.4273333 C9.19466667,14.5873333 8.60444445,14.6671111 8,14.6666685 C7.39555555,14.6662222 6.80533333,14.5864444 6.22933333,14.4273333 C5.65333333,14.2682222 5.1211111,14.0451111 4.63266666,13.758 C4.14422221,13.4708889 3.69533332,13.1228889 3.28599998,12.714 C2.87666665,12.3051111 2.52866665,11.8562222 2.24199998,11.3673333 C1.95533332,10.8784444 1.73222221,10.3462222 1.57266666,9.77066667 C1.4131111,9.19511112 1.33333333,8.6048889 1.33333333,8 C1.33333333,7.3951111 1.4131111,6.80488888 1.57266666,6.22933333 C1.73222221,5.65377778 1.95533332,5.12155555 2.24199998,4.63266666 C2.52866665,4.14377776 2.87666665,3.69488887 3.28599998,3.28599998 C3.69533332,2.8771111 4.14422221,2.5291111 4.63266666,2.24199998 C5.1211111,1.95488887 5.65333333,1.73177776 6.22933333,1.57266666 C6.80533333,1.41355555 7.39555555,1.33377778 8,1.33333333 Z M6.68733333,2.828 C6.11444444,2.97377778 5.58066667,3.20977778 5.086,3.536 C4.59133333,3.86222222 4.166,4.24933333 3.81,4.69733333 C3.454,5.14533333 3.17444444,5.65488889 2.97133333,6.226 C2.76822221,6.79711111 2.66666666,7.38822222 2.66666666,7.99933333 C2.66666666,8.72155555 2.80733332,9.41155555 3.08866666,10.0693333 C3.36999999,10.7271111 3.74933332,11.2948889 4.22666666,11.7726667 C4.70399999,12.2504444 5.27177777,12.6297778 5.92999998,12.9106667 C6.5882222,13.1915556 7.2782222,13.3322222 7.99999998,13.3326667 C8.6111111,13.3326667 9.20222221,13.2311111 9.77333331,13.028 C10.3444444,12.8248889 10.854,12.5453333 11.302,12.1893333 C11.75,11.8333333 12.1371111,11.408 12.4633333,10.9133333 C12.7895555,10.4186666 13.0255555,9.88488887 13.1713333,9.31199998 C13.022,9.32577777 12.8535555,9.33266666 12.666,9.33266666 C11.8535555,9.33266666 11.0775555,9.17377777 10.338,8.85599998 C9.59844443,8.5382222 8.96044443,8.11111109 8.42399998,7.57466666 C7.88755554,7.03822222 7.46044443,6.40022222 7.14266666,5.66066666 C6.82488889,4.92111109 6.66599999,4.14511109 6.66599998,3.33266666 C6.66599998,3.1451111 6.67288888,2.97666666 6.68666666,2.82733333 L6.68733333,2.828 Z",id:"Dark-\u5F62\u72B6"}))))))}var ee=re;Oe.default=ee},95671:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Light-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Light-\u4E3B\u9898\u5305",transform:"translate(-2943.000000, -292.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Light-\u7F16\u7EC4-12",transform:"translate(2415.000000, 222.000000)"},M.createElement("g",{id:"Light-\u89C6\u56FE\u5207\u6362-\u7F16\u8F91\u6001",transform:"translate(518.000000, 60.000000)"},M.createElement("g",{id:"Light-eye",transform:"translate(8.000000, 8.000000)"},M.createElement("g",{id:"Light-sun",transform:"translate(2.000000, 2.000000)"},M.createElement("rect",{id:"Light-\u77E9\u5F62",opacity:0,x:0,y:0,width:13,height:13}),M.createElement("path",{d:"M6.5,9.75 C4.7051875,9.75 3.25,8.2948125 3.25,6.5 C3.25,4.7051875 4.7051875,3.25 6.5,3.25 C8.2948125,3.25 9.75,4.7051875 9.75,6.5 C9.75,8.2948125 8.2948125,9.75 6.5,9.75 Z M6.5,8.66666667 C7.69661696,8.66666667 8.66666667,7.69661696 8.66666667,6.5 C8.66666667,5.30338304 7.69661696,4.33333333 6.5,4.33333333 C5.30338305,4.33333333 4.33333336,5.30338305 4.33333336,6.5 C4.33333336,7.69661695 5.30338305,8.66666667 6.5,8.66666667 Z M5.95833333,1.08333333 C5.95833333,0.784179087 6.20084576,0.541666658 6.5,0.541666658 C6.79915424,0.541666658 7.04166667,0.784179087 7.04166667,1.08333333 L7.04166667,2.16666667 C7.04166667,2.46582091 6.79915424,2.70833334 6.5,2.70833334 C6.20084576,2.70833334 5.95833333,2.46582091 5.95833333,2.16666667 L5.95833333,1.08333333 L5.95833333,1.08333333 Z M5.95833333,10.8333333 C5.95833333,10.5341791 6.20084576,10.2916667 6.5,10.2916667 C6.79915424,10.2916667 7.04166667,10.5341791 7.04166667,10.8333333 L7.04166667,11.9166667 C7.04166667,12.2158209 6.79915424,12.4583333 6.5,12.4583333 C6.20084576,12.4583333 5.95833333,12.2158209 5.95833333,11.9166667 L5.95833333,10.8333333 L5.95833333,10.8333333 Z M1.08333333,7.04166667 C0.784179087,7.04166667 0.541666658,6.79915424 0.541666658,6.5 C0.541666658,6.20084576 0.784179087,5.95833333 1.08333333,5.95833333 L2.16666667,5.95833333 C2.46582091,5.95833333 2.70833334,6.20084576 2.70833334,6.5 C2.70833334,6.79915424 2.46582091,7.04166667 2.16666667,7.04166667 L1.08333333,7.04166667 L1.08333333,7.04166667 Z M10.8333333,7.04166667 C10.5341791,7.04166667 10.2916667,6.79915424 10.2916667,6.5 C10.2916667,6.20084576 10.5341791,5.95833333 10.8333333,5.95833333 L11.9166667,5.95833333 C12.2158209,5.95833333 12.4583333,6.20084576 12.4583333,6.5 C12.4583333,6.79915424 12.2158209,7.04166667 11.9166667,7.04166667 L10.8333333,7.04166667 L10.8333333,7.04166667 Z M2.05454167,2.82045833 C1.84926545,2.60791971 1.85220137,2.27007933 2.06114035,2.06114035 C2.27007933,1.85220137 2.60791971,1.84926545 2.82045833,2.05454167 L3.63295833,2.86704167 C3.83823455,3.07958029 3.83529863,3.41742067 3.62635965,3.62635965 C3.41742067,3.83529863 3.07958029,3.83823455 2.86704167,3.63295833 L2.05454167,2.82045833 L2.05454167,2.82045833 Z M9.36704167,10.1329583 C9.16176545,9.92041971 9.16470137,9.58257933 9.37364035,9.37364035 C9.58257933,9.16470137 9.92041971,9.16176545 10.1329583,9.36704167 L10.9454583,10.1795417 C11.1507346,10.3920803 11.1477986,10.7299207 10.9388596,10.9388596 C10.7299207,11.1477986 10.3920803,11.1507346 10.1795417,10.9454583 L9.36704167,10.1329583 L9.36704167,10.1329583 Z M2.82045833,10.9454583 C2.60791971,11.1507346 2.27007933,11.1477986 2.06114035,10.9388596 C1.85220137,10.7299207 1.84926545,10.3920803 2.05454167,10.1795417 L2.86704167,9.36704167 C3.07958029,9.16176545 3.41742067,9.16470137 3.62635965,9.37364035 C3.83529863,9.58257933 3.83823455,9.92041971 3.63295833,10.1329583 L2.82045833,10.9454583 L2.82045833,10.9454583 Z M10.1329583,3.63295833 C9.92041971,3.83823455 9.58257933,3.83529863 9.37364035,3.62635965 C9.16470137,3.41742067 9.16176545,3.07958029 9.36704167,2.86704167 L10.1795417,2.05454167 C10.3920803,1.84926545 10.7299207,1.85220137 10.9388596,2.06114035 C11.1477986,2.27007933 11.1507346,2.60791971 10.9454583,2.82045833 L10.1329583,3.63295833 L10.1329583,3.63295833 Z",id:"Light-\u5F62\u72B6"}))))))))}var ee=re;Oe.default=ee},63341:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Margin-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Margin-margin",transform:"translate(0.000000, 0.942377)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"Margin-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M11.6666667,2.75858915 L4.33333333,2.75858915 C4.01904762,2.75858915 3.80952382,2.54931688 3.80952382,2.23540845 C3.80952382,1.92150003 4.01904763,1.71222775 4.33333334,1.71222775 L11.6666667,1.71222775 C11.9809524,1.71222775 12.1904762,1.92150003 12.1904762,2.23540845 C12.1904762,2.54931688 11.9809524,2.75858915 11.6666667,2.75858915 Z M11.6666667,14.2685646 L4.33333333,14.2685646 C4.01904762,14.2685646 3.8095238,14.0592923 3.8095238,13.7453839 C3.8095238,13.4314755 4.01904762,13.2222032 4.33333333,13.2222032 L11.6666667,13.2222032 C11.9809524,13.2222032 12.1904762,13.4314755 12.1904762,13.7453839 C12.1904762,14.0592923 11.9809524,14.2685646 11.6666667,14.2685646 Z M13.7619048,12.1758418 C13.447619,12.1758418 13.2380952,11.9665695 13.2380952,11.6526611 L13.2380952,4.32813125 C13.2380952,4.01422283 13.4476191,3.80495055 13.7619048,3.80495055 C14.0761905,3.80495055 14.2857143,4.01422283 14.2857143,4.32813125 L14.2857143,11.6526611 C14.2857143,11.9665695 14.0761905,12.1758418 13.7619048,12.1758418 Z M2.23809524,12.1758418 C1.92380953,12.1758418 1.71428572,11.9665695 1.71428572,11.6526611 L1.71428572,4.32813125 C1.71428572,4.01422283 1.92380953,3.80495055 2.23809524,3.80495055 C2.55238096,3.80495055 2.76190477,4.01422283 2.76190477,4.32813125 L2.76190477,11.6526611 C2.76190477,11.9665695 2.55238096,12.1758418 2.23809524,12.1758418 Z M11.6666667,12.1758418 L4.33333333,12.1758418 C4.01904762,12.1758418 3.8095238,11.9665695 3.8095238,11.6526611 L3.8095238,4.32813125 C3.8095238,4.01422283 4.01904763,3.80495055 4.33333334,3.80495055 L11.6666667,3.80495055 C11.9809524,3.80495055 12.1904762,4.01422283 12.1904762,4.32813125 L12.1904762,11.6526611 C12.1904762,11.9665695 11.9809524,12.1758418 11.6666667,12.1758418 Z M4.85714286,11.1294804 L11.1428571,11.1294804 L11.1428571,4.85131196 L4.85714286,4.85131196 L4.85714286,11.1294804 Z",id:"Margin-\u5F62\u72B6"}))))}var ee=re;Oe.default=ee},95265:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Motion-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Motion-\u5BCC\u6587\u672C\u7F16\u8F91\u5668_\u52A8\u6548",transform:"translate(0.000000, 0.903962)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"Motion-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M6.55644444,12.5262777 L7.99555556,13.9627734 C8.13290682,14.0984321 8.18701716,14.2971622 8.13737053,14.4836147 C8.0877239,14.6700672 7.94192169,14.8156943 7.75524511,14.8652814 C7.56856853,14.9148684 7.36959959,14.860823 7.23377778,14.7236366 L5.79555556,13.2862532 C5.60250935,13.0737079 5.61045949,12.7472435 5.8136232,12.5443237 C6.01678692,12.3414038 6.3436437,12.3334632 6.55644444,12.5262777 L6.55644444,12.5262777 Z M12.2435556,12.6630023 L13.3857778,13.8038533 C13.5231286,13.9395121 13.5772386,14.138242 13.527592,14.3246942 C13.4779453,14.5111464 13.3321433,14.6567734 13.145467,14.7063605 C12.9587906,14.7559476 12.7598219,14.7019025 12.624,14.5647165 L11.4817778,13.4238655 C11.3444269,13.2882067 11.2903169,13.0894768 11.3399636,12.9030246 C11.3896103,12.7165724 11.5354123,12.5709454 11.7220886,12.5213583 C11.9087649,12.4717712 12.1077337,12.5258163 12.2435556,12.6630023 L12.2435556,12.6630023 Z M7.29511111,0.990809123 C7.37066667,1.03342457 7.43377778,1.09645992 7.47644444,1.17192476 L9.23911111,4.29439403 L12.7564444,5.00376364 C12.9258902,5.03768098 13.0638332,5.16026877 13.1172645,5.32441904 C13.1706959,5.4885693 13.1313024,5.66874209 13.0142222,5.79570068 L10.5866667,8.43430705 L10.9982222,11.9953603 C11.018176,12.1667991 10.94398,12.3356549 10.8041422,12.4370491 C10.6643043,12.5384432 10.4805781,12.5566027 10.3235556,12.4845501 L7.06133333,10.9930095 L3.79733333,12.4845501 C3.64031082,12.5566027 3.45658456,12.5384432 3.3167467,12.4370491 C3.17690884,12.3356549 3.10271286,12.1667991 3.12266667,11.9953603 L3.53511111,8.43519487 L1.10577778,5.79570068 C0.988697555,5.66874209 0.949304077,5.4885693 1.00273546,5.32441904 C1.05616684,5.16026877 1.19410976,5.03768098 1.36355556,5.00376364 L4.88177778,4.29439403 L6.64266667,1.17192476 C6.70502264,1.06136833 6.80886024,0.980137913 6.93126543,0.94615878 C7.05367063,0.912179648 7.18458201,0.928244805 7.29511111,0.990809123 Z M7.05955556,2.62440123 L5.57688889,5.25235374 L2.61688889,5.84808216 L4.65955556,8.07030012 L4.31288889,11.0666987 L7.05955556,9.81131866 L9.80533333,11.0666987 L9.45866667,8.07030012 L11.5031111,5.84896999 L8.54222222,5.25235374 L7.05866667,2.62440123 L7.05955556,2.62440123 Z M13.1528889,7.76045031 L14.5911111,9.19694597 C14.7892424,9.40878705 14.7837079,9.73933037 14.5785954,9.9444359 C14.373483,10.1495414 14.0425491,10.1554552 13.8302222,9.95780926 L12.3911111,8.5213136 C12.2537603,8.38565475 12.1996502,8.18692487 12.2492969,8.00047265 C12.2989436,7.81402043 12.4447456,7.66839345 12.6314219,7.61880637 C12.8180983,7.56921929 13.017067,7.62326436 13.1528889,7.76045031 L13.1528889,7.76045031 Z",id:"Motion-\u5F62\u72B6"}))))}var ee=re;Oe.default=ee},53278:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Pick-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.65},M.createElement("g",{id:"Pick-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-541.000000, -387.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Pick-\u7F16\u7EC4-11",transform:"translate(76.000000, 340.000000)"},M.createElement("g",{id:"Pick-Map-Token-\u9762\u677F",transform:"translate(0.000000, 27.000000)"},M.createElement("g",{id:"Pick-token-\u663E\u793A",transform:"translate(-1.002041, -1.000000)"},M.createElement("g",{id:"Pick-\u7F16\u7EC4-2",transform:"translate(12.024490, 20.000000)"},M.createElement("g",{id:"Pick-shangyeguanxi",transform:"translate(453.924490, 1.000000)"},M.createElement("path",{d:"M12.6274816,8.17204883 C12.6358384,8.04673242 12.6401539,7.92030859 12.6401539,7.79288672 C12.6401539,5.50309375 11.2701899,3.53286719 9.30406641,2.65472266 C9.31862927,2.54983203 9.32632854,2.44274023 9.32632854,2.33384375 C9.32632854,1.05430664 8.28750187,0.0169394531 7.00623025,0.0169394531 C5.72484902,0.0169394531 4.68607715,1.05430664 4.68607715,2.33384375 C4.68607715,2.44267188 4.69376272,2.54968164 4.70829819,2.65451758 C2.74188703,3.53256641 1.37158055,5.50290234 1.37158055,7.79288672 C1.37158055,7.92044531 1.37592338,8.04699219 1.38428025,8.17243164 C0.593775725,8.54169531 0.0460860491,9.34289453 0.0460860491,10.2719531 C0.0460860491,11.5515449 1.08474833,12.5888574 2.36612955,12.5888574 C2.80723496,12.5888574 3.21958454,12.4658926 3.57069612,12.2524336 C4.52158393,12.9838105 5.71288912,13.4188223 7.00595625,13.4188223 C8.30016046,13.4188223 9.49238354,12.9830449 10.4436412,12.2505195 C10.7943281,12.4630762 11.2059516,12.5854668 11.6462213,12.5854668 C12.9274382,12.5854668 13.9661004,11.5489746 13.9661004,10.2703672 C13.9661004,9.34171875 13.4181916,8.54095703 12.6274816,8.17204883 Z M7.00623025,1.00913477 C7.73549676,1.00913477 8.32698463,1.59684766 8.33166995,2.32357617 C8.33168365,2.32647461 8.33177955,2.32935938 8.33177955,2.33225781 C8.33177955,2.69178711 8.18805519,3.01775195 7.95488499,3.25620313 C7.71417991,3.50236523 7.37813809,3.65527148 7.00623025,3.65527148 C6.6343361,3.65527148 6.29829428,3.50236523 6.0575618,3.25620313 C5.8243779,3.01775195 5.68062614,2.69178711 5.68062614,2.33225781 C5.68062614,2.32931836 5.68072204,2.32639258 5.68073574,2.32345313 C5.68547586,1.59679297 6.27704593,1.00913477 7.00623025,1.00913477 Z M2.36612955,11.5993965 C1.63399978,11.5993965 1.04047065,11.0058047 1.04047065,10.2734297 C1.04047065,9.84645703 1.24229576,9.46667969 1.55566445,9.22416797 C1.7797654,9.05074023 2.06088482,8.94746289 2.36614325,8.94746289 C2.41639403,8.94746289 2.46597352,8.95036133 2.51477213,8.95580273 C3.17696454,9.02969922 3.69181585,9.59136719 3.69181585,10.273416 C3.69181585,10.4903613 3.6397293,10.6951113 3.5473928,10.8758809 C3.39166744,11.1807637 3.12143934,11.4173555 2.79339819,11.5289863 C2.65931847,11.574623 2.51562151,11.5993965 2.36612955,11.5993965 Z M7.00127093,12.4178633 C5.99141928,12.4178633 5.0570808,12.0957402 4.29537321,11.549084 C4.53905114,11.1824316 4.68111783,10.7425937 4.68111783,10.2695605 C4.68111783,8.99117188 3.64429132,7.95466602 2.36460887,7.95280664 C2.3626772,7.89787305 2.36134833,7.84278906 2.36134833,7.78737695 C2.36134833,5.92565039 3.46242679,4.32079102 5.05001172,3.58529883 C5.46299149,4.22481445 6.18258597,4.64830078 7.00128463,4.64830078 C7.81990109,4.64830078 8.53950926,4.22481445 8.95248903,3.58529883 C10.5400329,4.32079102 11.6411113,5.92565039 11.6411113,7.78737695 C11.6411113,7.84277539 11.6397824,7.89787305 11.6378508,7.95280664 C10.3582094,7.95465234 9.32139662,8.99040625 9.32139662,10.2679746 C9.32139662,10.7413906 9.4639017,11.1815293 9.70827832,11.5482363 C8.94635153,12.0953848 8.01158836,12.4178633 7.00127093,12.4178633 Z M11.6459473,8.94746289 C11.9510962,8.94746289 12.2321197,9.0506582 12.4561658,9.22397656 C12.7696578,9.46647461 12.9715652,9.84632031 12.9715652,10.273375 C12.9715652,11.0056953 12.3780634,11.5993418 11.6459473,11.5993418 C11.4964143,11.5993418 11.3526762,11.574541 11.2185828,11.528877 C10.8907472,11.4172324 10.6206287,11.1807227 10.464917,10.8759902 C10.3725257,10.6951797 10.320398,10.490375 10.320398,10.273375 C10.320398,9.59128516 10.8354138,9.0295625 11.4976062,8.95577539 C11.5463226,8.95034766 11.5957925,8.94746289 11.6459473,8.94746289 Z M7.00557266,6.21029883 C7.91351399,6.21029883 8.64954587,6.94483166 8.64954587,7.85092383 C8.64954587,8.757016 7.91351399,9.49154883 7.00557266,9.49154883 C6.09763132,9.49154883 5.36159944,8.757016 5.36159944,7.85092383 C5.36159944,6.94483166 6.09763132,6.21029883 7.00557266,6.21029883 Z",id:"Pick-\u5F62\u72B6"})))))))))}var ee=re;Oe.default=ee},34786:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"SearchDropdown-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"SearchDropdown-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-23.000000, -198.000000)",fillRule:"nonzero"},M.createElement("g",{id:"SearchDropdown-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"SearchDropdown-\u7F16\u7EC4-15",transform:"translate(16.000000, 123.000000)"},M.createElement("g",{id:"SearchDropdown-search-outlined",transform:"translate(7.000000, 5.000000)"},M.createElement("rect",{id:"SearchDropdown-\u77E9\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:18,height:18}),M.createElement("path",{d:"M15.958,14.99375 L11.41325,10.449 C12.1185,9.53725 12.5,8.4225 12.5,7.25 C12.5,5.8465 11.95225,4.5305 10.96175,3.53825 C9.97125,2.546 8.65175,2 7.25,2 C5.84825,2 4.52875,2.54775 3.53825,3.53825 C2.546,4.52875 2,5.8465 2,7.25 C2,8.65175 2.54775,9.97125 3.53825,10.96175 C4.52875,11.954 5.8465,12.5 7.25,12.5 C8.4225,12.5 9.5355,12.1185 10.44725,11.415 L14.992,15.958 C15.048,16.014 15.139,16.014 15.195,15.958 L15.958,15.19675 C16.014,15.14075 16.014,15.04975 15.958,14.99375 Z M10.022,10.022 C9.28,10.76225 8.2965,11.17 7.25,11.17 C6.2035,11.17 5.22,10.76225 4.478,10.022 C3.73775,9.28 3.33,8.2965 3.33,7.25 C3.33,6.2035 3.73775,5.21825 4.478,4.478 C5.22,3.73775 6.2035,3.33 7.25,3.33 C8.2965,3.33 9.28175,3.736 10.022,4.478 C10.76225,5.22 11.17,6.2035 11.17,7.25 C11.17,8.2965 10.76225,9.28175 10.022,10.022 Z",id:"SearchDropdown-\u5F62\u72B6",fill:"currentColor"}),M.createElement("path",{d:"M17.8616348,7.7578125 L14.0131973,7.7578125 C13.8977676,7.7578125 13.8333145,7.8796875 13.9047988,7.96289062 L15.8290176,10.1941406 C15.8840957,10.2580078 15.9901504,10.2580078 16.0458145,10.1941406 L17.9700332,7.96289062 C18.0415176,7.8796875 17.9770645,7.7578125 17.8616348,7.7578125 Z",id:"SearchDropdown-\u8DEF\u5F84",fill:"currentColor"})))))))}var ee=re;Oe.default=ee},90734:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"ShapeLine-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"ShapeLine-shape-line",transform:"translate(0.000000, 0.923169)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"ShapeLine-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M5.22,13.3173269 C4.90928357,14.1946577 4.03334945,14.7416208 3.10760502,14.6363783 C2.18186059,14.5311359 1.45139881,13.801551 1.34602985,12.8769179 C1.24066088,11.9522848 1.78828141,11.0774022 2.66666667,10.7670588 L2.66666667,5.21373349 C1.78828141,4.90339007 1.24066088,4.02850749 1.34602985,3.1038744 C1.45139881,2.1792413 2.18186059,1.44965643 3.10760502,1.34441396 C4.03334945,1.23917149 4.90928357,1.78613461 5.22,2.66346539 L10.78,2.66346539 C11.0907164,1.78613461 11.9666505,1.23917149 12.892395,1.34441396 C13.8181394,1.44965643 14.5486012,2.1792413 14.6539702,3.1038744 C14.7593391,4.02850749 14.2117186,4.90339007 13.3333333,5.21373349 L13.3333333,10.7670588 C14.2117186,11.0774022 14.7593391,11.9522848 14.6539702,12.8769179 C14.5486012,13.801551 13.8181394,14.5311359 12.892395,14.6363783 C11.9666505,14.7416208 11.0907164,14.1946577 10.78,13.3173269 L5.22,13.3173269 Z M5.22,11.9855942 L10.78,11.9855942 C10.9819939,11.4165133 11.430235,10.9688103 12,10.7670588 L12,5.21373349 C11.430235,5.01198206 10.9819939,4.56427905 10.78,3.99519808 L5.22,3.99519808 C5.01800608,4.56427905 4.56976496,5.01198206 4,5.21373349 L4,10.7670588 C4.56976496,10.9688103 5.01800608,11.4165133 5.22,11.9855942 Z M3.33333333,3.99519809 C3.5715347,3.9952345 3.79165744,3.86832906 3.91076865,3.66229434 C4.02987987,3.45625961 4.02987987,3.20240385 3.91076865,2.99636913 C3.79165744,2.79033441 3.5715347,2.66342897 3.33333333,2.66346538 C2.96518335,2.66352168 2.66676872,2.96162371 2.66676872,3.32933173 C2.66676872,3.69703976 2.96518335,3.99514178 3.33333333,3.99519809 L3.33333333,3.99519809 Z M12.6666667,3.99519809 C12.904868,3.9952345 13.1249908,3.86832906 13.244102,3.66229434 C13.3632132,3.45625961 13.3632132,3.20240385 13.244102,2.99636913 C13.1249908,2.79033441 12.904868,2.66342897 12.6666667,2.66346538 C12.2985167,2.66352168 12.0001021,2.96162371 12.0001021,3.32933173 C12.0001021,3.69703976 12.2985167,3.99514178 12.6666667,3.99519809 L12.6666667,3.99519809 Z M12.6666667,13.3173269 C12.904868,13.3173633 13.1249908,13.1904579 13.244102,12.9844232 C13.3632132,12.7783885 13.3632132,12.5245327 13.244102,12.318498 C13.1249908,12.1124633 12.904868,11.9855578 12.6666667,11.9855942 C12.2985167,11.9856505 12.0001021,12.2837526 12.0001021,12.6514606 C12.0001021,13.0191686 12.2985167,13.3172706 12.6666667,13.3173269 L12.6666667,13.3173269 Z M3.33333333,13.3173269 C3.5715347,13.3173633 3.79165744,13.1904579 3.91076865,12.9844232 C4.02987987,12.7783885 4.02987987,12.5245327 3.91076865,12.318498 C3.79165744,12.1124633 3.5715347,11.9855578 3.33333333,11.9855942 C2.96518335,11.9856505 2.66676872,12.2837526 2.66676872,12.6514606 C2.66676872,13.0191686 2.96518335,13.3172706 3.33333333,13.3173269 L3.33333333,13.3173269 Z",id:"ShapeLine-\u5F62\u72B6"}))))}var ee=re;Oe.default=ee},88079:function(Zt,Oe,T){"use strict";var y=T(18698);Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var M=xe(T(67294));function U(w){if(typeof WeakMap!="function")return null;var ie=new WeakMap,K=new WeakMap;return(U=function(he){return he?K:ie})(w)}function xe(w,ie){if(!ie&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var K=U(ie);if(K&&K.has(w))return K.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var me=he?Object.getOwnPropertyDescriptor(w,Ce):null;me&&(me.get||me.set)?Object.defineProperty(X,Ce,me):X[Ce]=w[Ce]}return X.default=w,K&&K.set(w,X),X}function re(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"TokenPanel-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.85},M.createElement("g",{id:"TokenPanel-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-14.000000, -70.000000)",fill:"currentColor"},M.createElement("g",{id:"TokenPanel-\u7F16\u7EC4-3",transform:"translate(10.000000, 66.000000)"},M.createElement("g",{id:"TokenPanel-\u7F16\u7EC4-20",transform:"translate(4.000000, 4.000000)"},M.createElement("rect",{id:"TokenPanel-\u77E9\u5F62",opacity:.600000024,x:1,y:12,width:7,height:7,rx:.434782594}),M.createElement("path",{d:"M12.3540059,0 L19.5652174,0 C19.8053412,8.08981097e-16 20,0.194658804 20,0.434782609 L20,7.6459941 C20,7.88611791 19.8053412,8.08077671 19.5652174,8.08077671 C19.4499059,8.08077671 19.3393172,8.03496939 19.2577797,7.95343183 L12.0465682,0.74222034 C11.876775,0.572427169 11.876775,0.297138048 12.0465682,0.127344878 C12.1281057,0.0458073219 12.2386944,-6.44951433e-16 12.3540059,0 Z",id:"TokenPanel-\u77E9\u5F62",opacity:.400000006}),M.createElement("circle",{id:"TokenPanel-\u692D\u5706\u5F62",cx:4.34782609,cy:4.34782609,r:4.34782609}),M.createElement("circle",{id:"TokenPanel-\u692D\u5706\u5F62",cx:15.5,cy:15.5,r:3.5}))))))}var ee=re;Oe.default=ee},6308:function(Zt,Oe,T){"use strict";var y,M=T(64836);y={value:!0},y={enumerable:!0,get:function(){return X.default}},y={enumerable:!0,get:function(){return me.default}},y={enumerable:!0,get:function(){return ie.default}},y={enumerable:!0,get:function(){return K.default}},Object.defineProperty(Oe,"Cs",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(Oe,"_k",{enumerable:!0,get:function(){return Ge.default}}),y={enumerable:!0,get:function(){return U.default}},y={enumerable:!0,get:function(){return xe.default}},y={enumerable:!0,get:function(){return re.default}},y={enumerable:!0,get:function(){return he.default}},y={enumerable:!0,get:function(){return ee.default}},y={enumerable:!0,get:function(){return Ce.default}};var U=M(T(63341)),xe=M(T(95265)),re=M(T(53278)),ee=M(T(90734)),w=M(T(35791)),ie=M(T(74304)),K=M(T(90387)),X=M(T(34637)),he=M(T(34786)),Ce=M(T(88079)),me=M(T(56564)),Ge=M(T(95671))},8745:function(Zt,Oe,T){"use strict";var y=T(67294),M=T(93042),U=T(25682),xe=T(53124);function re(w){return ie=>y.createElement(U.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},y.createElement(w,Object.assign({},ie)))}const ee=(w,ie,K,X)=>re(Ce=>{const{prefixCls:me,style:Ge}=Ce,St=y.useRef(null),[rt,de]=y.useState(0),[Ve,Be]=y.useState(0),[tt,et]=(0,M.Z)(!1,{value:Ce.open}),{getPrefixCls:Xe}=y.useContext(xe.E_),ze=Xe(ie||"select",me);y.useEffect(()=>{if(et(!0),typeof ResizeObserver!="undefined"){const dt=new ResizeObserver(oe=>{const pt=oe[0].target;de(pt.offsetHeight+8),Be(pt.offsetWidth)}),ve=setInterval(()=>{var oe;const pt=K?`.${K(ze)}`:`.${ze}-dropdown`,Ie=(oe=St.current)===null||oe===void 0?void 0:oe.querySelector(pt);Ie&&(clearInterval(ve),dt.observe(Ie))},10);return()=>{clearInterval(ve),dt.disconnect()}}},[]);let It=Object.assign(Object.assign({},Ce),{style:Object.assign(Object.assign({},Ge),{margin:0}),open:tt,visible:tt,getPopupContainer:()=>St.current});X&&(It=X(It));const tr={paddingBottom:rt,position:"relative",minWidth:Ve};return y.createElement("div",{ref:St,style:tr},y.createElement(w,Object.assign({},It)))});Oe.Z=ee},87263:function(Zt,Oe,T){"use strict";T.d(Oe,{Cn:function(){return X},u6:function(){return ee}});var y=T(67294),M=T(25976),U=T(43945);const xe=100,ee=xe*10,w={Modal:xe,Drawer:xe,Popover:xe,Popconfirm:xe,Tooltip:xe,Tour:xe},ie={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function K(he){return he in w}function X(he,Ce){const[,me]=(0,M.ZP)(),Ge=y.useContext(U.Z),St=K(he);if(Ce!==void 0)return[Ce,Ce];let rt=Ge!=null?Ge:0;return St?(rt+=(Ge?0:me.zIndexPopupBase)+w[he],rt=Math.min(rt,me.zIndexPopupBase+ee)):rt+=ie[he],[Ge===void 0?Ce:rt,rt]}},80636:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ee}});var y=T(97414);function M(w,ie,K,X){if(X===!1)return{adjustX:!1,adjustY:!1};const he=X&&typeof X=="object"?X:{},Ce={};switch(w){case"top":case"bottom":Ce.shiftX=ie.arrowOffsetHorizontal*2+K,Ce.shiftY=!0,Ce.adjustY=!0;break;case"left":case"right":Ce.shiftY=ie.arrowOffsetVertical*2+K,Ce.shiftX=!0,Ce.adjustX=!0;break}const me=Object.assign(Object.assign({},Ce),he);return me.shiftX||(me.adjustX=!0),me.shiftY||(me.adjustY=!0),me}const U={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},xe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},re=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function ee(w){const{arrowWidth:ie,autoAdjustOverflow:K,arrowPointAtCenter:X,offset:he,borderRadius:Ce,visibleFirst:me}=w,Ge=ie/2,St={};return Object.keys(U).forEach(rt=>{const de=X&&xe[rt]||U[rt],Ve=Object.assign(Object.assign({},de),{offset:[0,0],dynamicInset:!0});switch(St[rt]=Ve,re.has(rt)&&(Ve.autoArrow=!1),rt){case"top":case"topLeft":case"topRight":Ve.offset[1]=-Ge-he;break;case"bottom":case"bottomLeft":case"bottomRight":Ve.offset[1]=Ge+he;break;case"left":case"leftTop":case"leftBottom":Ve.offset[0]=-Ge-he;break;case"right":case"rightTop":case"rightBottom":Ve.offset[0]=Ge+he;break}const Be=(0,y.wZ)({contentRadius:Ce,limitVerticalRadius:!0});if(X)switch(rt){case"topLeft":case"bottomLeft":Ve.offset[0]=-Be.arrowOffsetHorizontal-Ge;break;case"topRight":case"bottomRight":Ve.offset[0]=Be.arrowOffsetHorizontal+Ge;break;case"leftTop":case"rightTop":Ve.offset[1]=-Be.arrowOffsetHorizontal-Ge;break;case"leftBottom":case"rightBottom":Ve.offset[1]=Be.arrowOffsetHorizontal+Ge;break}Ve.overflow=M(rt,Be,ie,K),me&&(Ve.htmlRegion="visibleFirst")}),St}},43945:function(Zt,Oe,T){"use strict";var y=T(67294);const M=y.createContext(void 0);Oe.Z=M},67561:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return xt}});var y=T(75177),M=T(67294),U=T(13144),xe=T.n(U),re=T(56790);const ee=ge=>typeof ge=="object"&&ge!=null&&ge.nodeType===1,w=(ge,je)=>(!je||ge!=="hidden")&&ge!=="visible"&&ge!=="clip",ie=(ge,je)=>{if(ge.clientHeight<ge.scrollHeight||ge.clientWidth<ge.scrollWidth){const ht=getComputedStyle(ge,null);return w(ht.overflowY,je)||w(ht.overflowX,je)||(Mt=>{const nt=(ne=>{if(!ne.ownerDocument||!ne.ownerDocument.defaultView)return null;try{return ne.ownerDocument.defaultView.frameElement}catch(ue){return null}})(Mt);return!!nt&&(nt.clientHeight<Mt.scrollHeight||nt.clientWidth<Mt.scrollWidth)})(ge)}return!1},K=(ge,je,ht,Mt,nt,ne,ue,J)=>ne<ge&&ue>je||ne>ge&&ue<je?0:ne<=ge&&J<=ht||ue>=je&&J>=ht?ne-ge-Mt:ue>je&&J<ht||ne<ge&&J>ht?ue-je+nt:0,X=ge=>{const je=ge.parentElement;return je==null?ge.getRootNode().host||null:je},he=(ge,je)=>{var ht,Mt,nt,ne;if(typeof document=="undefined")return[];const{scrollMode:ue,block:J,inline:Re,boundary:Ae,skipOverflowHiddenElements:Rt}=je,Ht=typeof Ae=="function"?Ae:Vn=>Vn!==Ae;if(!ee(ge))throw new TypeError("Invalid target");const Vt=document.scrollingElement||document.documentElement,Bt=[];let wt=ge;for(;ee(wt)&&Ht(wt);){if(wt=X(wt),wt===Vt){Bt.push(wt);break}wt!=null&&wt===document.body&&ie(wt)&&!ie(document.documentElement)||wt!=null&&ie(wt,Rt)&&Bt.push(wt)}const pr=(Mt=(ht=window.visualViewport)==null?void 0:ht.width)!=null?Mt:innerWidth,Et=(ne=(nt=window.visualViewport)==null?void 0:nt.height)!=null?ne:innerHeight,{scrollX:be,scrollY:jt}=window,{height:Yt,width:sr,top:lr,right:nr,bottom:sn,left:Br}=ge.getBoundingClientRect(),{top:hn,right:Ue,bottom:fr,left:Cr}=(Vn=>{const hr=window.getComputedStyle(Vn);return{top:parseFloat(hr.scrollMarginTop)||0,right:parseFloat(hr.scrollMarginRight)||0,bottom:parseFloat(hr.scrollMarginBottom)||0,left:parseFloat(hr.scrollMarginLeft)||0}})(ge);let Ir=J==="start"||J==="nearest"?lr-hn:J==="end"?sn+fr:lr+Yt/2-hn+fr,Er=Re==="center"?Br+sr/2-Cr+Ue:Re==="end"?nr+Ue:Br-Cr;const ln=[];for(let Vn=0;Vn<Bt.length;Vn++){const hr=Bt[Vn],{height:jn,width:qr,top:Zn,right:Rn,bottom:vi,left:pi}=hr.getBoundingClientRect();if(ue==="if-needed"&&lr>=0&&Br>=0&&sn<=Et&&nr<=pr&&(hr===Vt&&!ie(hr)||lr>=Zn&&sn<=vi&&Br>=pi&&nr<=Rn))return ln;const Jn=getComputedStyle(hr),nn=parseInt(Jn.borderLeftWidth,10),Fr=parseInt(Jn.borderTopWidth,10),vt=parseInt(Jn.borderRightWidth,10),Qr=parseInt(Jn.borderBottomWidth,10);let Te=0,Ke=0;const Ot="offsetWidth"in hr?hr.offsetWidth-hr.clientWidth-nn-vt:0,it="offsetHeight"in hr?hr.offsetHeight-hr.clientHeight-Fr-Qr:0,H="offsetWidth"in hr?hr.offsetWidth===0?0:qr/hr.offsetWidth:0,ye="offsetHeight"in hr?hr.offsetHeight===0?0:jn/hr.offsetHeight:0;if(Vt===hr)Te=J==="start"?Ir:J==="end"?Ir-Et:J==="nearest"?K(jt,jt+Et,Et,Fr,Qr,jt+Ir,jt+Ir+Yt,Yt):Ir-Et/2,Ke=Re==="start"?Er:Re==="center"?Er-pr/2:Re==="end"?Er-pr:K(be,be+pr,pr,nn,vt,be+Er,be+Er+sr,sr),Te=Math.max(0,Te+jt),Ke=Math.max(0,Ke+be);else{Te=J==="start"?Ir-Zn-Fr:J==="end"?Ir-vi+Qr+it:J==="nearest"?K(Zn,vi,jn,Fr,Qr+it,Ir,Ir+Yt,Yt):Ir-(Zn+jn/2)+it/2,Ke=Re==="start"?Er-pi-nn:Re==="center"?Er-(pi+qr/2)+Ot/2:Re==="end"?Er-Rn+vt+Ot:K(pi,Rn,qr,nn,vt+Ot,Er,Er+sr,sr);const{scrollLeft:Ne,scrollTop:le}=hr;Te=ye===0?0:Math.max(0,Math.min(le+Te/ye,hr.scrollHeight-jn/ye+it)),Ke=H===0?0:Math.max(0,Math.min(Ne+Ke/H,hr.scrollWidth-qr/H+Ot)),Ir+=le-Te,Er+=Ne-Ke}ln.push({el:hr,top:Te,left:Ke})}return ln},Ce=ge=>ge===!1?{block:"end",inline:"nearest"}:(je=>je===Object(je)&&Object.keys(je).length!==0)(ge)?ge:{block:"start",inline:"nearest"};function me(ge,je){if(!ge.isConnected||!(nt=>{let ne=nt;for(;ne&&ne.parentNode;){if(ne.parentNode===document)return!0;ne=ne.parentNode instanceof ShadowRoot?ne.parentNode.host:ne.parentNode}return!1})(ge))return;const ht=(nt=>{const ne=window.getComputedStyle(nt);return{top:parseFloat(ne.scrollMarginTop)||0,right:parseFloat(ne.scrollMarginRight)||0,bottom:parseFloat(ne.scrollMarginBottom)||0,left:parseFloat(ne.scrollMarginLeft)||0}})(ge);if((nt=>typeof nt=="object"&&typeof nt.behavior=="function")(je))return je.behavior(he(ge,je));const Mt=typeof je=="boolean"||je==null?void 0:je.behavior;for(const{el:nt,top:ne,left:ue}of he(ge,Ce(je))){const J=ne-ht.top+ht.bottom,Re=ue-ht.left+ht.right;nt.scroll({top:J,left:Re,behavior:Mt})}}function Ge(ge){return ge!=null&&ge===ge.window}function St(ge,je){var ht,Mt;if(typeof window=="undefined")return 0;const nt=je?"scrollTop":"scrollLeft";let ne=0;return Ge(ge)?ne=ge[je?"pageYOffset":"pageXOffset"]:ge instanceof Document?ne=ge.documentElement[nt]:(ge instanceof HTMLElement||ge)&&(ne=ge[nt]),ge&&!Ge(ge)&&typeof ne!="number"&&(ne=(Mt=((ht=ge.ownerDocument)!==null&&ht!==void 0?ht:ge).documentElement)===null||Mt===void 0?void 0:Mt[nt]),ne}var rt=T(75164);function de(ge,je,ht,Mt){const nt=ht-je;return ge/=Mt/2,ge<1?nt/2*ge*ge*ge+je:nt/2*((ge-=2)*ge*ge+2)+je}function Ve(ge){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:ht=()=>window,callback:Mt,duration:nt=450}=je,ne=ht(),ue=St(ne,!0),J=Date.now(),Re=()=>{const Rt=Date.now()-J,Ht=de(Rt>nt?nt:Rt,ue,ge,nt);Ge(ne)?ne.scrollTo(window.pageXOffset,Ht):ne instanceof Document||ne.constructor.name==="HTMLDocument"?ne.documentElement.scrollTop=Ht:ne.scrollTop=Ht,Rt<nt?(0,rt.Z)(Re):typeof Mt=="function"&&Mt()};(0,rt.Z)(Re)}var Be=T(11276),tt=T(98423);function et(ge){let je;const ht=nt=>()=>{je=null,ge.apply(void 0,(0,y.Z)(nt))},Mt=function(){if(je==null){for(var nt=arguments.length,ne=new Array(nt),ue=0;ue<nt;ue++)ne[ue]=arguments[ue];je=(0,rt.Z)(ht(ne))}};return Mt.cancel=()=>{rt.Z.cancel(je),je=null},Mt}var Xe=et,ze=T(53124),It=T(2093);const tr=ge=>{const{componentCls:je}=ge;return{[je]:{position:"fixed",zIndex:ge.zIndexPopup}}},dt=ge=>({zIndexPopup:ge.zIndexBase+10});var ve=(0,It.I$)("Affix",tr,dt);function oe(ge){return ge!==window?ge.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function pt(ge,je,ht){if(ht!==void 0&&Math.round(je.top)>Math.round(ge.top)-ht)return ht+je.top}function Ie(ge,je,ht){if(ht!==void 0&&Math.round(je.bottom)<Math.round(ge.bottom)+ht){const Mt=window.innerHeight-je.bottom;return ht+Mt}}const Lt=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Ft(){return typeof window!="undefined"?window:null}const Ye=0,_e=1;var fe=M.forwardRef((ge,je)=>{var ht;const{style:Mt,offsetTop:nt,offsetBottom:ne,prefixCls:ue,className:J,rootClassName:Re,children:Ae,target:Rt,onChange:Ht}=ge,{getPrefixCls:Vt,getTargetContainer:Bt}=M.useContext(ze.E_),wt=Vt("affix",ue),[pr,Et]=M.useState(!1),[be,jt]=M.useState(),[Yt,sr]=M.useState(),lr=M.useRef(Ye),nr=M.useRef(null),sn=M.useRef(),Br=M.useRef(null),hn=M.useRef(null),Ue=M.useRef(null),fr=(ht=Rt!=null?Rt:Bt)!==null&&ht!==void 0?ht:Ft,Cr=ne===void 0&&nt===void 0?0:nt,Ir=()=>{if(lr.current!==_e||!hn.current||!Br.current||!fr)return;const nn=fr();if(nn){const Fr={status:Ye},vt=oe(Br.current);if(vt.top===0&&vt.left===0&&vt.width===0&&vt.height===0)return;const Qr=oe(nn),Te=pt(vt,Qr,Cr),Ke=Ie(vt,Qr,ne);Te!==void 0?(Fr.affixStyle={position:"fixed",top:Te,width:vt.width,height:vt.height},Fr.placeholderStyle={width:vt.width,height:vt.height}):Ke!==void 0&&(Fr.affixStyle={position:"fixed",bottom:Ke,width:vt.width,height:vt.height},Fr.placeholderStyle={width:vt.width,height:vt.height}),Fr.lastAffix=!!Fr.affixStyle,pr!==Fr.lastAffix&&(Ht==null||Ht(Fr.lastAffix)),lr.current=Fr.status,jt(Fr.affixStyle),sr(Fr.placeholderStyle),Et(Fr.lastAffix)}},Er=()=>{var nn;lr.current=_e,Ir()},ln=Xe(()=>{Er()}),Vn=Xe(()=>{if(fr&&be){const nn=fr();if(nn&&Br.current){const Fr=oe(nn),vt=oe(Br.current),Qr=pt(vt,Fr,Cr),Te=Ie(vt,Fr,ne);if(Qr!==void 0&&be.top===Qr||Te!==void 0&&be.bottom===Te)return}}Er()}),hr=()=>{const nn=fr==null?void 0:fr();nn&&(Lt.forEach(Fr=>{var vt;sn.current&&((vt=nr.current)===null||vt===void 0||vt.removeEventListener(Fr,sn.current)),nn==null||nn.addEventListener(Fr,Vn)}),nr.current=nn,sn.current=Vn)},jn=()=>{Ue.current&&(clearTimeout(Ue.current),Ue.current=null);const nn=fr==null?void 0:fr();Lt.forEach(Fr=>{var vt;nn==null||nn.removeEventListener(Fr,Vn),sn.current&&((vt=nr.current)===null||vt===void 0||vt.removeEventListener(Fr,sn.current))}),ln.cancel(),Vn.cancel()};M.useImperativeHandle(je,()=>({updatePosition:ln})),M.useEffect(()=>(Ue.current=setTimeout(hr),()=>jn()),[]),M.useEffect(()=>{hr()},[Rt,be]),M.useEffect(()=>{ln()},[Rt,nt,ne]);const[qr,Zn,Rn]=ve(wt),vi=xe()(Re,Zn,wt,Rn),pi=xe()({[vi]:be});let Jn=(0,tt.Z)(ge,["prefixCls","offsetTop","offsetBottom","target","onChange","rootClassName"]);return qr(M.createElement(Be.Z,{onResize:ln},M.createElement("div",Object.assign({style:Mt,className:J,ref:Br},Jn),be&&M.createElement("div",{style:Yt,"aria-hidden":"true"}),M.createElement("div",{className:pi,ref:hn,style:be},M.createElement(Be.Z,{onResize:ln},Ae)))))}),Se=T(35792),ft=M.createContext(void 0),Fe=ge=>{const{href:je,title:ht,prefixCls:Mt,children:nt,className:ne,target:ue,replace:J}=ge,Re=M.useContext(ft),{registerLink:Ae,unregisterLink:Rt,scrollTo:Ht,onClick:Vt,activeLink:Bt,direction:wt}=Re||{};M.useEffect(()=>(Ae==null||Ae(je),()=>{Rt==null||Rt(je)}),[je]);const pr=lr=>{J&&(lr.preventDefault(),window.location.replace(je)),Vt==null||Vt(lr,{title:ht,href:je}),Ht==null||Ht(je)},{getPrefixCls:Et}=M.useContext(ze.E_),be=Et("anchor",Mt),jt=Bt===je,Yt=xe()(`${be}-link`,ne,{[`${be}-link-active`]:jt}),sr=xe()(`${be}-link-title`,{[`${be}-link-title-active`]:jt});return M.createElement("div",{className:Yt},M.createElement("a",{className:sr,href:je,title:typeof ht=="string"?ht:"",target:ue,onClick:pr},ht),wt!=="horizontal"?nt:null)},Le=T(54548),Ze=T(14747),Jt=T(45503);const or=ge=>{const{componentCls:je,holderOffsetBlock:ht,motionDurationSlow:Mt,lineWidthBold:nt,colorPrimary:ne,lineType:ue,colorSplit:J,calc:Re}=ge;return{[`${je}-wrapper`]:{marginBlockStart:Re(ht).mul(-1).equal(),paddingBlockStart:ht,[je]:Object.assign(Object.assign({},(0,Ze.Wf)(ge)),{position:"relative",paddingInlineStart:nt,[`${je}-link`]:{paddingBlock:ge.linkPaddingBlock,paddingInline:`${(0,Le.unit)(ge.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},Ze.vS),{position:"relative",display:"block",marginBlockEnd:ge.anchorTitleBlock,color:ge.colorText,transition:`all ${ge.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${je}-link-title`]:{color:ge.colorPrimary},[`${je}-link`]:{paddingBlock:ge.anchorPaddingBlockSecondary}}}),[`&:not(${je}-wrapper-horizontal)`]:{[je]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,Le.unit)(nt)} ${ue} ${J}`,content:'" "'},[`${je}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${Mt} ease-in-out`,width:nt,backgroundColor:ne,[`&${je}-ink-visible`]:{display:"inline-block"}}}},[`${je}-fixed ${je}-ink ${je}-ink`]:{display:"none"}}}},vr=ge=>{const{componentCls:je,motionDurationSlow:ht,lineWidthBold:Mt,colorPrimary:nt}=ge;return{[`${je}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,Le.unit)(ge.lineWidth)} ${ge.lineType} ${ge.colorSplit}`,content:'" "'},[je]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${je}-link:first-of-type`]:{paddingInline:0},[`${je}-ink`]:{position:"absolute",bottom:0,transition:`left ${ht} ease-in-out, width ${ht} ease-in-out`,height:Mt,backgroundColor:nt}}}}},rr=ge=>({linkPaddingBlock:ge.paddingXXS,linkPaddingInlineStart:ge.padding});var jr=(0,It.I$)("Anchor",ge=>{const{fontSize:je,fontSizeLG:ht,paddingXXS:Mt,calc:nt}=ge,ne=(0,Jt.TS)(ge,{holderOffsetBlock:Mt,anchorPaddingBlockSecondary:nt(Mt).div(2).equal(),anchorTitleBlock:nt(je).div(14).mul(3).equal(),anchorBallSize:nt(ht).div(2).equal()});return[or(ne),vr(ne)]},rr);function qe(){return window}function $e(ge,je){if(!ge.getClientRects().length)return 0;const ht=ge.getBoundingClientRect();return ht.width||ht.height?je===window?(je=ge.ownerDocument.documentElement,ht.top-je.clientTop):ht.top-je.getBoundingClientRect().top:ht.top}const Ct=/#([\S ]+)$/;var _r=ge=>{var je;const{rootClassName:ht,prefixCls:Mt,className:nt,style:ne,offsetTop:ue,affix:J=!0,showInkInFixed:Re=!1,children:Ae,items:Rt,direction:Ht="vertical",bounds:Vt,targetOffset:Bt,onClick:wt,onChange:pr,getContainer:Et,getCurrentAnchor:be,replace:jt}=ge,[Yt,sr]=M.useState([]),[lr,nr]=M.useState(null),sn=M.useRef(lr),Br=M.useRef(null),hn=M.useRef(null),Ue=M.useRef(!1),{direction:fr,anchor:Cr,getTargetContainer:Ir,getPrefixCls:Er}=M.useContext(ze.E_),ln=Er("anchor",Mt),Vn=(0,Se.Z)(ln),[hr,jn,qr]=jr(ln,Vn),Zn=(je=Et!=null?Et:Ir)!==null&&je!==void 0?je:qe,Rn=JSON.stringify(Yt),vi=(0,re.useEvent)(le=>{Yt.includes(le)||sr(De=>[].concat((0,y.Z)(De),[le]))}),pi=(0,re.useEvent)(le=>{Yt.includes(le)&&sr(De=>De.filter(yt=>yt!==le))}),Jn=()=>{var le;const De=(le=Br.current)===null||le===void 0?void 0:le.querySelector(`.${ln}-link-title-active`);if(De&&hn.current){const{style:yt}=hn.current,qt=Ht==="horizontal";yt.top=qt?"":`${De.offsetTop+De.clientHeight/2}px`,yt.height=qt?"":`${De.clientHeight}px`,yt.left=qt?`${De.offsetLeft}px`:"",yt.width=qt?`${De.clientWidth}px`:"",qt&&me(De,{scrollMode:"if-needed",block:"nearest"})}},nn=function(le){let De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const qt=[],Pr=Zn();return le.forEach($t=>{const ir=Ct.exec($t==null?void 0:$t.toString());if(!ir)return;const Nt=document.getElementById(ir[1]);if(Nt){const Tr=$e(Nt,Pr);Tr<=De+yt&&qt.push({link:$t,top:Tr})}}),qt.length?qt.reduce((ir,Nt)=>Nt.top>ir.top?Nt:ir).link:""},Fr=(0,re.useEvent)(le=>{if(sn.current===le)return;const De=typeof be=="function"?be(le):le;nr(De),sn.current=De,pr==null||pr(le)}),vt=M.useCallback(()=>{if(Ue.current)return;const le=nn(Yt,Bt!==void 0?Bt:ue||0,Vt);Fr(le)},[Rn,Bt,ue]),Qr=M.useCallback(le=>{Fr(le);const De=Ct.exec(le);if(!De)return;const yt=document.getElementById(De[1]);if(!yt)return;const qt=Zn(),Pr=St(qt,!0),$t=$e(yt,qt);let ir=Pr+$t;ir-=Bt!==void 0?Bt:ue||0,Ue.current=!0,Ve(ir,{getContainer:Zn,callback(){Ue.current=!1}})},[Bt,ue]),Te=xe()(jn,qr,Vn,ht,`${ln}-wrapper`,{[`${ln}-wrapper-horizontal`]:Ht==="horizontal",[`${ln}-rtl`]:fr==="rtl"},nt,Cr==null?void 0:Cr.className),Ke=xe()(ln,{[`${ln}-fixed`]:!J&&!Re}),Ot=xe()(`${ln}-ink`,{[`${ln}-ink-visible`]:lr}),it=Object.assign(Object.assign({maxHeight:ue?`calc(100vh - ${ue}px)`:"100vh"},Cr==null?void 0:Cr.style),ne),H=le=>Array.isArray(le)?le.map(De=>M.createElement(Fe,Object.assign({replace:jt},De,{key:De.key}),Ht==="vertical"&&H(De.children))):null,ye=M.createElement("div",{ref:Br,className:Te,style:it},M.createElement("div",{className:Ke},M.createElement("span",{className:Ot,ref:hn}),"items"in ge?H(Rt):Ae));M.useEffect(()=>{const le=Zn();return vt(),le==null||le.addEventListener("scroll",vt),()=>{le==null||le.removeEventListener("scroll",vt)}},[Rn]),M.useEffect(()=>{typeof be=="function"&&Fr(be(sn.current||""))},[be]),M.useEffect(()=>{Jn()},[Ht,be,Rn,lr]);const Ne=M.useMemo(()=>({registerLink:vi,unregisterLink:pi,scrollTo:Qr,activeLink:lr,onClick:wt,direction:Ht}),[lr,wt,Qr,Ht]);return hr(M.createElement(ft.Provider,{value:Ne},J?M.createElement(fe,{offsetTop:ue,target:Zn},ye):ye))};const zr=_r;zr.Link=Fe;var xt=zr},6226:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return Ce}});var y=T(67294),M=T(13144),U=T.n(M),xe=T(53124),re=T(99134),ee=T(6999),w=function(me,Ge){var St={};for(var rt in me)Object.prototype.hasOwnProperty.call(me,rt)&&Ge.indexOf(rt)<0&&(St[rt]=me[rt]);if(me!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,rt=Object.getOwnPropertySymbols(me);de<rt.length;de++)Ge.indexOf(rt[de])<0&&Object.prototype.propertyIsEnumerable.call(me,rt[de])&&(St[rt[de]]=me[rt[de]]);return St};function ie(me){return typeof me=="number"?`${me} ${me} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(me)?`0 0 ${me}`:me}const K=["xs","sm","md","lg","xl","xxl"];var he=y.forwardRef((me,Ge)=>{const{getPrefixCls:St,direction:rt}=y.useContext(xe.E_),{gutter:de,wrap:Ve}=y.useContext(re.Z),{prefixCls:Be,span:tt,order:et,offset:Xe,push:ze,pull:It,className:tr,children:dt,flex:ve,style:oe}=me,pt=w(me,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Ie=St("col",Be),[Lt,Ft,Ye]=(0,ee.cG)(Ie),_e={};let q={};K.forEach(We=>{let ft={};const bt=me[We];typeof bt=="number"?ft.span=bt:typeof bt=="object"&&(ft=bt||{}),delete pt[We],q=Object.assign(Object.assign({},q),{[`${Ie}-${We}-${ft.span}`]:ft.span!==void 0,[`${Ie}-${We}-order-${ft.order}`]:ft.order||ft.order===0,[`${Ie}-${We}-offset-${ft.offset}`]:ft.offset||ft.offset===0,[`${Ie}-${We}-push-${ft.push}`]:ft.push||ft.push===0,[`${Ie}-${We}-pull-${ft.pull}`]:ft.pull||ft.pull===0,[`${Ie}-rtl`]:rt==="rtl"}),ft.flex&&(q[`${Ie}-${We}-flex`]=!0,_e[`--${Ie}-${We}-flex`]=ie(ft.flex))});const fe=U()(Ie,{[`${Ie}-${tt}`]:tt!==void 0,[`${Ie}-order-${et}`]:et,[`${Ie}-offset-${Xe}`]:Xe,[`${Ie}-push-${ze}`]:ze,[`${Ie}-pull-${It}`]:It},tr,q,Ft,Ye),Se={};if(de&&de[0]>0){const We=de[0]/2;Se.paddingLeft=We,Se.paddingRight=We}return ve&&(Se.flex=ie(ve),Ve===!1&&!Se.minWidth&&(Se.minWidth=0)),Lt(y.createElement("div",Object.assign({},pt,{style:Object.assign(Object.assign(Object.assign({},Se),oe),_e),className:fe,ref:Ge}),dt))}),Ce=he},83159:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return jr}});var y=T(67294),M=T(90814),U=T(13144),xe=T.n(U),re=T(53261),ee=T(56790),w=T(93042),ie=T(98423),K=T(87263),X=T(80636),he=T(8745),Ce=T(96159),me=T(27288),Ge=T(43945),St=T(53124),rt=T(35792),de=T(96077),Ve=T(76529),Be=T(25976),tt=T(54548),et=T(14747),Xe=T(67771),ze=T(33297),It=T(50438),tr=T(97414),dt=T(79511),ve=T(2093),oe=T(45503),Ie=qe=>{const{componentCls:$e,menuCls:Ct,colorError:gr,colorTextLightSolid:_r}=qe,zr=`${Ct}-item`;return{[`${$e}, ${$e}-menu-submenu`]:{[`${Ct} ${zr}`]:{[`&${zr}-danger:not(${zr}-disabled)`]:{color:gr,"&:hover":{color:_r,backgroundColor:gr}}}}}};const Lt=qe=>{const{componentCls:$e,menuCls:Ct,zIndexPopup:gr,dropdownArrowDistance:_r,sizePopupArrow:zr,antCls:xt,iconCls:ge,motionDurationMid:je,paddingBlock:ht,fontSize:Mt,dropdownEdgeChildPadding:nt,colorTextDisabled:ne,fontSizeIcon:ue,controlPaddingHorizontal:J,colorBgElevated:Re}=qe;return[{[$e]:Object.assign(Object.assign({},(0,et.Wf)(qe)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:gr,display:"block","&::before":{position:"absolute",insetBlock:qe.calc(zr).div(2).sub(_r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${xt}-btn`]:{[`& > ${ge}-down, & > ${xt}-btn-icon > ${ge}-down`]:{fontSize:ue}},[`${$e}-wrap`]:{position:"relative",[`${xt}-btn > ${ge}-down`]:{fontSize:ue},[`${ge}-down::before`]:{transition:`transform ${je}`}},[`${$e}-wrap-open`]:{[`${ge}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${xt}-slide-down-enter${xt}-slide-down-enter-active${$e}-placement-bottomLeft,
          &${xt}-slide-down-appear${xt}-slide-down-appear-active${$e}-placement-bottomLeft,
          &${xt}-slide-down-enter${xt}-slide-down-enter-active${$e}-placement-bottom,
          &${xt}-slide-down-appear${xt}-slide-down-appear-active${$e}-placement-bottom,
          &${xt}-slide-down-enter${xt}-slide-down-enter-active${$e}-placement-bottomRight,
          &${xt}-slide-down-appear${xt}-slide-down-appear-active${$e}-placement-bottomRight`]:{animationName:Xe.fJ},[`&${xt}-slide-up-enter${xt}-slide-up-enter-active${$e}-placement-topLeft,
          &${xt}-slide-up-appear${xt}-slide-up-appear-active${$e}-placement-topLeft,
          &${xt}-slide-up-enter${xt}-slide-up-enter-active${$e}-placement-top,
          &${xt}-slide-up-appear${xt}-slide-up-appear-active${$e}-placement-top,
          &${xt}-slide-up-enter${xt}-slide-up-enter-active${$e}-placement-topRight,
          &${xt}-slide-up-appear${xt}-slide-up-appear-active${$e}-placement-topRight`]:{animationName:Xe.Qt},[`&${xt}-slide-down-leave${xt}-slide-down-leave-active${$e}-placement-bottomLeft,
          &${xt}-slide-down-leave${xt}-slide-down-leave-active${$e}-placement-bottom,
          &${xt}-slide-down-leave${xt}-slide-down-leave-active${$e}-placement-bottomRight`]:{animationName:Xe.Uw},[`&${xt}-slide-up-leave${xt}-slide-up-leave-active${$e}-placement-topLeft,
          &${xt}-slide-up-leave${xt}-slide-up-leave-active${$e}-placement-top,
          &${xt}-slide-up-leave${xt}-slide-up-leave-active${$e}-placement-topRight`]:{animationName:Xe.ly}})},(0,tr.ZP)(qe,Re,{arrowPlacement:{top:!0,bottom:!0}}),{[`${$e} ${Ct}`]:{position:"relative",margin:0},[`${Ct}-submenu-popup`]:{position:"absolute",zIndex:gr,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${$e}, ${$e}-menu-submenu`]:{[Ct]:Object.assign(Object.assign({padding:nt,listStyleType:"none",backgroundColor:Re,backgroundClip:"padding-box",borderRadius:qe.borderRadiusLG,outline:"none",boxShadow:qe.boxShadowSecondary},(0,et.Qy)(qe)),{"&:empty":{padding:0,boxShadow:"none"},[`${Ct}-item-group-title`]:{padding:`${(0,tt.unit)(ht)} ${(0,tt.unit)(J)}`,color:qe.colorTextDescription,transition:`all ${je}`},[`${Ct}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${Ct}-item-icon`]:{minWidth:Mt,marginInlineEnd:qe.marginXS,fontSize:qe.fontSizeSM},[`${Ct}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${je}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${Ct}-item, ${Ct}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${(0,tt.unit)(ht)} ${(0,tt.unit)(J)}`,color:qe.colorText,fontWeight:"normal",fontSize:Mt,lineHeight:qe.lineHeight,cursor:"pointer",transition:`all ${je}`,borderRadius:qe.borderRadiusSM,"&:hover, &-active":{backgroundColor:qe.controlItemBgHover}},(0,et.Qy)(qe)),{"&-selected":{color:qe.colorPrimary,backgroundColor:qe.controlItemBgActive,"&:hover, &-active":{backgroundColor:qe.controlItemBgActiveHover}},"&-disabled":{color:ne,cursor:"not-allowed","&:hover":{color:ne,backgroundColor:Re,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,tt.unit)(qe.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:qe.colorSplit},[`${$e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:qe.paddingXS,[`${$e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:qe.colorTextDescription,fontSize:ue,fontStyle:"normal"}}}),[`${Ct}-item-group-list`]:{margin:`0 ${(0,tt.unit)(qe.marginXS)}`,padding:0,listStyle:"none"},[`${Ct}-submenu-title`]:{paddingInlineEnd:qe.calc(J).add(qe.fontSizeSM).equal()},[`${Ct}-submenu-vertical`]:{position:"relative"},[`${Ct}-submenu${Ct}-submenu-disabled ${$e}-menu-submenu-title`]:{[`&, ${$e}-menu-submenu-arrow-icon`]:{color:ne,backgroundColor:Re,cursor:"not-allowed"}},[`${Ct}-submenu-selected ${$e}-menu-submenu-title`]:{color:qe.colorPrimary}})}},[(0,Xe.oN)(qe,"slide-up"),(0,Xe.oN)(qe,"slide-down"),(0,ze.Fm)(qe,"move-up"),(0,ze.Fm)(qe,"move-down"),(0,It._y)(qe,"zoom-big")]]},Ft=qe=>Object.assign(Object.assign({zIndexPopup:qe.zIndexPopupBase+50,paddingBlock:(qe.controlHeight-qe.fontSize*qe.lineHeight)/2},(0,tr.wZ)({contentRadius:qe.borderRadiusLG,limitVerticalRadius:!0})),(0,dt.w)(qe));var Ye=(0,ve.I$)("Dropdown",qe=>{const{marginXXS:$e,sizePopupArrow:Ct,paddingXXS:gr,componentCls:_r}=qe,zr=(0,oe.TS)(qe,{menuCls:`${_r}-menu`,dropdownArrowDistance:qe.calc(Ct).div(2).add($e).equal(),dropdownEdgeChildPadding:gr});return[Lt(zr),Ie(zr)]},Ft,{resetStyle:!1});const _e=null,q=qe=>{const{menu:$e,arrow:Ct,prefixCls:gr,children:_r,trigger:zr,disabled:xt,dropdownRender:ge,getPopupContainer:je,overlayClassName:ht,rootClassName:Mt,overlayStyle:nt,open:ne,onOpenChange:ue,visible:J,onVisibleChange:Re,mouseEnterDelay:Ae=.15,mouseLeaveDelay:Rt=.1,autoAdjustOverflow:Ht=!0,placement:Vt="",overlay:Bt,transitionName:wt}=qe,{getPopupContainer:pr,getPrefixCls:Et,direction:be,dropdown:jt}=y.useContext(St.E_),Yt=(0,me.ln)("Dropdown"),sr=y.useMemo(()=>{const Fr=Et();return wt!==void 0?wt:Vt.includes("top")?`${Fr}-slide-down`:`${Fr}-slide-up`},[Et,Vt,wt]),lr=y.useMemo(()=>Vt?Vt.includes("Center")?Vt.slice(0,Vt.indexOf("Center")):Vt:be==="rtl"?"bottomRight":"bottomLeft",[Vt,be]),nr=Et("dropdown",gr),sn=(0,rt.Z)(nr),[Br,hn,Ue]=Ye(nr,sn),[,fr]=(0,Be.ZP)(),Cr=y.Children.only(_r),Ir=(0,Ce.Tm)(Cr,{className:xe()(`${nr}-trigger`,{[`${nr}-rtl`]:be==="rtl"},Cr.props.className),disabled:xt}),Er=xt?[]:zr;let ln;Er&&Er.includes("contextMenu")&&(ln=!0);const[Vn,hr]=(0,w.Z)(!1,{value:ne!=null?ne:J}),jn=(0,ee.useEvent)(Fr=>{ue==null||ue(Fr,{source:"trigger"}),Re==null||Re(Fr),hr(Fr)}),qr=xe()(ht,Mt,hn,Ue,sn,jt==null?void 0:jt.className,{[`${nr}-rtl`]:be==="rtl"}),Zn=(0,X.Z)({arrowPointAtCenter:typeof Ct=="object"&&Ct.pointAtCenter,autoAdjustOverflow:Ht,offset:fr.marginXXS,arrowWidth:Ct?fr.sizePopupArrow:0,borderRadius:fr.borderRadius}),Rn=y.useCallback(()=>{$e!=null&&$e.selectable&&($e!=null&&$e.multiple)||(ue==null||ue(!1,{source:"menu"}),hr(!1))},[$e==null?void 0:$e.selectable,$e==null?void 0:$e.multiple]),vi=()=>{let Fr;return $e!=null&&$e.items?Fr=y.createElement(de.Z,Object.assign({},$e)):typeof Bt=="function"?Fr=Bt():Fr=Bt,ge&&(Fr=ge(Fr)),Fr=y.Children.only(typeof Fr=="string"?y.createElement("span",null,Fr):Fr),y.createElement(Ve.J,{prefixCls:`${nr}-menu`,rootClassName:xe()(Ue,sn),expandIcon:y.createElement("span",{className:`${nr}-menu-submenu-arrow`},y.createElement(M.Z,{className:`${nr}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Rn,validator:vt=>{let{mode:Qr}=vt}},Fr)},[pi,Jn]=(0,K.Cn)("Dropdown",nt==null?void 0:nt.zIndex);let nn=y.createElement(re.Z,Object.assign({alignPoint:ln},(0,ie.Z)(qe,["rootClassName"]),{mouseEnterDelay:Ae,mouseLeaveDelay:Rt,visible:Vn,builtinPlacements:Zn,arrow:!!Ct,overlayClassName:qr,prefixCls:nr,getPopupContainer:je||pr,transitionName:sr,trigger:Er,overlay:vi,placement:lr,onVisibleChange:jn,overlayStyle:Object.assign(Object.assign(Object.assign({},jt==null?void 0:jt.style),nt),{zIndex:pi})}),Ir);return pi&&(nn=y.createElement(Ge.Z.Provider,{value:Jn},nn)),Br(nn)};function fe(qe){return Object.assign(Object.assign({},qe),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const Se=(0,he.Z)(q,"dropdown",qe=>qe,fe),We=qe=>y.createElement(Se,Object.assign({},qe),y.createElement("span",null));q._InternalPanelDoNotUseOrYouWillBeFired=We;var ft=q,bt=T(89705),Fe=T(10932),Le=T(78957),Ze=T(4173),Jt=function(qe,$e){var Ct={};for(var gr in qe)Object.prototype.hasOwnProperty.call(qe,gr)&&$e.indexOf(gr)<0&&(Ct[gr]=qe[gr]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _r=0,gr=Object.getOwnPropertySymbols(qe);_r<gr.length;_r++)$e.indexOf(gr[_r])<0&&Object.prototype.propertyIsEnumerable.call(qe,gr[_r])&&(Ct[gr[_r]]=qe[gr[_r]]);return Ct};const or=qe=>{const{getPopupContainer:$e,getPrefixCls:Ct,direction:gr}=y.useContext(St.E_),{prefixCls:_r,type:zr="default",danger:xt,disabled:ge,loading:je,onClick:ht,htmlType:Mt,children:nt,className:ne,menu:ue,arrow:J,autoFocus:Re,overlay:Ae,trigger:Rt,align:Ht,open:Vt,onOpenChange:Bt,placement:wt,getPopupContainer:pr,href:Et,icon:be=y.createElement(bt.Z,null),title:jt,buttonsRender:Yt=Rn=>Rn,mouseEnterDelay:sr,mouseLeaveDelay:lr,overlayClassName:nr,overlayStyle:sn,destroyPopupOnHide:Br,dropdownRender:hn}=qe,Ue=Jt(qe,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),fr=Ct("dropdown",_r),Cr=`${fr}-button`,Ir={menu:ue,arrow:J,autoFocus:Re,align:Ht,disabled:ge,trigger:ge?[]:Rt,onOpenChange:Bt,getPopupContainer:pr||$e,mouseEnterDelay:sr,mouseLeaveDelay:lr,overlayClassName:nr,overlayStyle:sn,destroyPopupOnHide:Br,dropdownRender:hn},{compactSize:Er,compactItemClassnames:ln}=(0,Ze.ri)(fr,gr),Vn=xe()(Cr,ln,ne);"overlay"in qe&&(Ir.overlay=Ae),"open"in qe&&(Ir.open=Vt),"placement"in qe?Ir.placement=wt:Ir.placement=gr==="rtl"?"bottomLeft":"bottomRight";const hr=y.createElement(Fe.ZP,{type:zr,danger:xt,disabled:ge,loading:je,onClick:ht,htmlType:Mt,href:Et,title:jt},nt),jn=y.createElement(Fe.ZP,{type:zr,danger:xt,icon:be}),[qr,Zn]=Yt([hr,jn]);return y.createElement(Le.Z.Compact,Object.assign({className:Vn,size:Er,block:!0},Ue),qr,y.createElement(ft,Object.assign({},Ir),Zn))};or.__ANT_BUTTON=!0;var vr=or;const rr=ft;rr.Button=vr;var jr=rr},99134:function(Zt,Oe,T){"use strict";var y=T(67294);const M=(0,y.createContext)({});Oe.Z=M},6999:function(Zt,Oe,T){"use strict";T.d(Oe,{VM:function(){return he},cG:function(){return Ce}});var y=T(54548),M=T(2093),U=T(45503);const xe=me=>{const{componentCls:Ge}=me;return{[Ge]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},re=me=>{const{componentCls:Ge}=me;return{[Ge]:{position:"relative",maxWidth:"100%",minHeight:1}}},ee=(me,Ge)=>{const{prefixCls:St,componentCls:rt,gridColumns:de}=me,Ve={};for(let Be=de;Be>=0;Be--)Be===0?(Ve[`${rt}${Ge}-${Be}`]={display:"none"},Ve[`${rt}-push-${Be}`]={insetInlineStart:"auto"},Ve[`${rt}-pull-${Be}`]={insetInlineEnd:"auto"},Ve[`${rt}${Ge}-push-${Be}`]={insetInlineStart:"auto"},Ve[`${rt}${Ge}-pull-${Be}`]={insetInlineEnd:"auto"},Ve[`${rt}${Ge}-offset-${Be}`]={marginInlineStart:0},Ve[`${rt}${Ge}-order-${Be}`]={order:0}):(Ve[`${rt}${Ge}-${Be}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${Be/de*100}%`,maxWidth:`${Be/de*100}%`}],Ve[`${rt}${Ge}-push-${Be}`]={insetInlineStart:`${Be/de*100}%`},Ve[`${rt}${Ge}-pull-${Be}`]={insetInlineEnd:`${Be/de*100}%`},Ve[`${rt}${Ge}-offset-${Be}`]={marginInlineStart:`${Be/de*100}%`},Ve[`${rt}${Ge}-order-${Be}`]={order:Be});return Ve[`${rt}${Ge}-flex`]={flex:`var(--${St}${Ge}-flex)`},Ve},w=(me,Ge)=>ee(me,Ge),ie=(me,Ge,St)=>({[`@media (min-width: ${(0,y.unit)(Ge)})`]:Object.assign({},w(me,St))}),K=()=>({}),X=()=>({}),he=(0,M.I$)("Grid",xe,K),Ce=(0,M.I$)("Grid",me=>{const Ge=(0,U.TS)(me,{gridColumns:24}),St={"-sm":Ge.screenSMMin,"-md":Ge.screenMDMin,"-lg":Ge.screenLGMin,"-xl":Ge.screenXLMin,"-xxl":Ge.screenXXLMin};return[re(Ge),w(Ge,""),w(Ge,"-xs"),Object.keys(St).map(rt=>ie(Ge,St[rt],rt)).reduce((rt,de)=>Object.assign(Object.assign({},rt),de),{})]},X)},10110:function(Zt,Oe,T){"use strict";var y=T(67294),M=T(76745),U=T(81570);const xe=(re,ee)=>{const w=y.useContext(M.Z),ie=y.useMemo(()=>{var X;const he=ee||U.Z[re],Ce=(X=w==null?void 0:w[re])!==null&&X!==void 0?X:{};return Object.assign(Object.assign({},typeof he=="function"?he():he),Ce||{})},[re,ee,w]),K=y.useMemo(()=>{const X=w==null?void 0:w.locale;return w!=null&&w.exist&&!X?U.Z.locale:X},[w]);return[ie,K]};Oe.Z=xe},76529:function(Zt,Oe,T){"use strict";T.d(Oe,{J:function(){return ee}});var y=T(67294),M=T(56790),U=T(4173),xe=function(w,ie){var K={};for(var X in w)Object.prototype.hasOwnProperty.call(w,X)&&ie.indexOf(X)<0&&(K[X]=w[X]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,X=Object.getOwnPropertySymbols(w);he<X.length;he++)ie.indexOf(X[he])<0&&Object.prototype.propertyIsEnumerable.call(w,X[he])&&(K[X[he]]=w[X[he]]);return K};const re=y.createContext(null),ee=y.forwardRef((w,ie)=>{const{children:K}=w,X=xe(w,["children"]),he=y.useContext(re),Ce=y.useMemo(()=>Object.assign(Object.assign({},he),X),[he,X.prefixCls,X.mode,X.selectable,X.rootClassName]),me=(0,M.supportNodeRef)(K),Ge=(0,M.useComposeRef)(ie,me?K.ref:null);return y.createElement(re.Provider,{value:Ce},y.createElement(U.BR,null,me?y.cloneElement(K,{ref:Ge}):K))});Oe.Z=re},96077:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return nt}});var y=T(67294),M=T(95480),U=T(13144),xe=T.n(U),re=function(ne,ue){var J={};for(var Re in ne)Object.prototype.hasOwnProperty.call(ne,Re)&&ue.indexOf(Re)<0&&(J[Re]=ne[Re]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Re=Object.getOwnPropertySymbols(ne);Ae<Re.length;Ae++)ue.indexOf(Re[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ne,Re[Ae])&&(J[Re[Ae]]=ne[Re[Ae]]);return J};const ee={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},w=y.createContext({}),ie=(()=>{let ne=0;return function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ne+=1,`${ue}${ne}`}})(),K=null;var X=null,he=T(89705),Ce=T(56790),me=T(98423),Ge=T(33603),St=T(96159),rt=T(53124),de=T(35792),Ve=function(ne,ue){var J={};for(var Re in ne)Object.prototype.hasOwnProperty.call(ne,Re)&&ue.indexOf(Re)<0&&(J[Re]=ne[Re]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Re=Object.getOwnPropertySymbols(ne);Ae<Re.length;Ae++)ue.indexOf(Re[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ne,Re[Ae])&&(J[Re[Ae]]=ne[Re[Ae]]);return J},tt=ne=>{const{prefixCls:ue,className:J,dashed:Re}=ne,Ae=Ve(ne,["prefixCls","className","dashed"]),{getPrefixCls:Rt}=y.useContext(rt.E_),Ht=Rt("menu",ue),Vt=xe()({[`${Ht}-item-divider-dashed`]:!!Re},J);return y.createElement(M.iz,Object.assign({className:Vt},Ae))},Xe=(0,y.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),ze=T(50344),It=T(83062),dt=ne=>{var ue;const{className:J,children:Re,icon:Ae,title:Rt,danger:Ht}=ne,{prefixCls:Vt,firstLevel:Bt,direction:wt,disableMenuItemTitleTooltip:pr,inlineCollapsed:Et}=y.useContext(Xe),be=sn=>{const Br=y.createElement("span",{className:`${Vt}-title-content`},Re);return(!Ae||y.isValidElement(Re)&&Re.type==="span")&&Re&&sn&&Bt&&typeof Re=="string"?y.createElement("div",{className:`${Vt}-inline-collapsed-noicon`},Re.charAt(0)):Br},{siderCollapsed:jt}=y.useContext(w);let Yt=Rt;typeof Rt=="undefined"?Yt=Bt?Re:"":Rt===!1&&(Yt="");const sr={title:Yt};!jt&&!Et&&(sr.title=null,sr.open=!1);const lr=(0,ze.Z)(Re).length;let nr=y.createElement(M.ck,Object.assign({},(0,me.Z)(ne,["title","icon","danger"]),{className:xe()({[`${Vt}-item-danger`]:Ht,[`${Vt}-item-only-child`]:(Ae?lr+1:lr)===1},J),title:typeof Rt=="string"?Rt:void 0}),(0,St.Tm)(Ae,{className:xe()(y.isValidElement(Ae)?(ue=Ae.props)===null||ue===void 0?void 0:ue.className:"",`${Vt}-item-icon`)}),be(Et));return pr||(nr=y.createElement(It.Z,Object.assign({},sr,{placement:wt==="rtl"?"left":"right",overlayClassName:`${Vt}-inline-collapsed-tooltip`}),nr)),nr},ve=T(76529),oe=T(54548),pt=T(84780),Ie=T(14747),Lt=T(33507),Ft=T(67771),Ye=T(50438),_e=T(2093),q=T(45503),Se=ne=>{const{componentCls:ue,motionDurationSlow:J,horizontalLineHeight:Re,colorSplit:Ae,lineWidth:Rt,lineType:Ht,itemPaddingInline:Vt}=ne;return{[`${ue}-horizontal`]:{lineHeight:Re,border:0,borderBottom:`${(0,oe.unit)(Rt)} ${Ht} ${Ae}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${ue}-item, ${ue}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:Vt},[`> ${ue}-item:hover,
        > ${ue}-item-active,
        > ${ue}-submenu ${ue}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${ue}-item, ${ue}-submenu-title`]:{transition:[`border-color ${J}`,`background ${J}`].join(",")},[`${ue}-submenu-arrow`]:{display:"none"}}}},ft=ne=>{let{componentCls:ue,menuArrowOffset:J,calc:Re}=ne;return{[`${ue}-rtl`]:{direction:"rtl"},[`${ue}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${ue}-rtl${ue}-vertical,
    ${ue}-submenu-rtl ${ue}-vertical`]:{[`${ue}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,oe.unit)(Re(J).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,oe.unit)(J)})`}}}}};const bt=ne=>Object.assign({},(0,Ie.oN)(ne));var Le=(ne,ue)=>{const{componentCls:J,itemColor:Re,itemSelectedColor:Ae,groupTitleColor:Rt,itemBg:Ht,subMenuItemBg:Vt,itemSelectedBg:Bt,activeBarHeight:wt,activeBarWidth:pr,activeBarBorderWidth:Et,motionDurationSlow:be,motionEaseInOut:jt,motionEaseOut:Yt,itemPaddingInline:sr,motionDurationMid:lr,itemHoverColor:nr,lineType:sn,colorSplit:Br,itemDisabledColor:hn,dangerItemColor:Ue,dangerItemHoverColor:fr,dangerItemSelectedColor:Cr,dangerItemActiveBg:Ir,dangerItemSelectedBg:Er,popupBg:ln,itemHoverBg:Vn,itemActiveBg:hr,menuSubMenuBg:jn,horizontalItemSelectedColor:qr,horizontalItemSelectedBg:Zn,horizontalItemBorderRadius:Rn,horizontalItemHoverBg:vi}=ne;return{[`${J}-${ue}, ${J}-${ue} > ${J}`]:{color:Re,background:Ht,[`&${J}-root:focus-visible`]:Object.assign({},bt(ne)),[`${J}-item-group-title`]:{color:Rt},[`${J}-submenu-selected`]:{[`> ${J}-submenu-title`]:{color:Ae}},[`${J}-item, ${J}-submenu-title`]:{color:Re,[`&:not(${J}-item-disabled):focus-visible`]:Object.assign({},bt(ne))},[`${J}-item-disabled, ${J}-submenu-disabled`]:{color:`${hn} !important`},[`${J}-item:not(${J}-item-selected):not(${J}-submenu-selected)`]:{[`&:hover, > ${J}-submenu-title:hover`]:{color:nr}},[`&:not(${J}-horizontal)`]:{[`${J}-item:not(${J}-item-selected)`]:{"&:hover":{backgroundColor:Vn},"&:active":{backgroundColor:hr}},[`${J}-submenu-title`]:{"&:hover":{backgroundColor:Vn},"&:active":{backgroundColor:hr}}},[`${J}-item-danger`]:{color:Ue,[`&${J}-item:hover`]:{[`&:not(${J}-item-selected):not(${J}-submenu-selected)`]:{color:fr}},[`&${J}-item:active`]:{background:Ir}},[`${J}-item a`]:{"&, &:hover":{color:"inherit"}},[`${J}-item-selected`]:{color:Ae,[`&${J}-item-danger`]:{color:Cr},"a, a:hover":{color:"inherit"}},[`& ${J}-item-selected`]:{backgroundColor:Bt,[`&${J}-item-danger`]:{backgroundColor:Er}},[`&${J}-submenu > ${J}`]:{backgroundColor:jn},[`&${J}-popup > ${J}`]:{backgroundColor:ln},[`&${J}-submenu-popup > ${J}`]:{backgroundColor:ln},[`&${J}-horizontal`]:Object.assign(Object.assign({},ue==="dark"?{borderBottom:0}:{}),{[`> ${J}-item, > ${J}-submenu`]:{top:Et,marginTop:ne.calc(Et).mul(-1).equal(),marginBottom:0,borderRadius:Rn,"&::after":{position:"absolute",insetInline:sr,bottom:0,borderBottom:`${(0,oe.unit)(wt)} solid transparent`,transition:`border-color ${be} ${jt}`,content:'""'},"&:hover, &-active, &-open":{background:vi,"&::after":{borderBottomWidth:wt,borderBottomColor:qr}},"&-selected":{color:qr,backgroundColor:Zn,"&:hover":{backgroundColor:Zn},"&::after":{borderBottomWidth:wt,borderBottomColor:qr}}}}),[`&${J}-root`]:{[`&${J}-inline, &${J}-vertical`]:{borderInlineEnd:`${(0,oe.unit)(Et)} ${sn} ${Br}`}},[`&${J}-inline`]:{[`${J}-sub${J}-inline`]:{background:Vt},[`${J}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,oe.unit)(pr)} solid ${Ae}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${lr} ${Yt}`,`opacity ${lr} ${Yt}`].join(","),content:'""'},[`&${J}-item-danger`]:{"&::after":{borderInlineEndColor:Cr}}},[`${J}-selected, ${J}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${lr} ${jt}`,`opacity ${lr} ${jt}`].join(",")}}}}}};const Ze=ne=>{const{componentCls:ue,itemHeight:J,itemMarginInline:Re,padding:Ae,menuArrowSize:Rt,marginXS:Ht,itemMarginBlock:Vt,itemWidth:Bt}=ne,wt=ne.calc(Rt).add(Ae).add(Ht).equal();return{[`${ue}-item`]:{position:"relative",overflow:"hidden"},[`${ue}-item, ${ue}-submenu-title`]:{height:J,lineHeight:(0,oe.unit)(J),paddingInline:Ae,overflow:"hidden",textOverflow:"ellipsis",marginInline:Re,marginBlock:Vt,width:Bt},[`> ${ue}-item,
            > ${ue}-submenu > ${ue}-submenu-title`]:{height:J,lineHeight:(0,oe.unit)(J)},[`${ue}-item-group-list ${ue}-submenu-title,
            ${ue}-submenu-title`]:{paddingInlineEnd:wt}}};var or=ne=>{const{componentCls:ue,iconCls:J,itemHeight:Re,colorTextLightSolid:Ae,dropdownWidth:Rt,controlHeightLG:Ht,motionDurationMid:Vt,motionEaseOut:Bt,paddingXL:wt,itemMarginInline:pr,fontSizeLG:Et,motionDurationSlow:be,paddingXS:jt,boxShadowSecondary:Yt,collapsedWidth:sr,collapsedIconSize:lr}=ne,nr={height:Re,lineHeight:(0,oe.unit)(Re),listStylePosition:"inside",listStyleType:"disc"};return[{[ue]:{"&-inline, &-vertical":Object.assign({[`&${ue}-root`]:{boxShadow:"none"}},Ze(ne))},[`${ue}-submenu-popup`]:{[`${ue}-vertical`]:Object.assign(Object.assign({},Ze(ne)),{boxShadow:Yt})}},{[`${ue}-submenu-popup ${ue}-vertical${ue}-sub`]:{minWidth:Rt,maxHeight:`calc(100vh - ${(0,oe.unit)(ne.calc(Ht).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${ue}-inline`]:{width:"100%",[`&${ue}-root`]:{[`${ue}-item, ${ue}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${be}`,`background ${be}`,`padding ${Vt} ${Bt}`,`padding-inline calc(50% - ${(0,oe.unit)(ne.calc(Et).div(2).equal())} - ${(0,oe.unit)(pr)})`].join(","),[`> ${ue}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${ue}-sub${ue}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${ue}-submenu > ${ue}-submenu-title`]:nr,[`& ${ue}-item-group-title`]:{paddingInlineStart:wt}},[`${ue}-item`]:nr}},{[`${ue}-inline-collapsed`]:{width:sr,[`&${ue}-root`]:{[`${ue}-item, ${ue}-submenu ${ue}-submenu-title`]:{[`> ${ue}-inline-collapsed-noicon`]:{fontSize:Et,textAlign:"center"}}},[`> ${ue}-item,
          > ${ue}-item-group > ${ue}-item-group-list > ${ue}-item,
          > ${ue}-item-group > ${ue}-item-group-list > ${ue}-submenu > ${ue}-submenu-title,
          > ${ue}-submenu > ${ue}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,oe.unit)(ne.calc(Et).div(2).equal())} - ${(0,oe.unit)(pr)})`,textOverflow:"clip",[`
            ${ue}-submenu-arrow,
            ${ue}-submenu-expand-icon
          `]:{opacity:0},[`${ue}-item-icon, ${J}`]:{margin:0,fontSize:lr,lineHeight:(0,oe.unit)(Re),"+ span":{display:"inline-block",opacity:0}}},[`${ue}-item-icon, ${J}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${ue}-item-icon, ${J}`]:{display:"none"},"a, a:hover":{color:Ae}},[`${ue}-item-group-title`]:Object.assign(Object.assign({},Ie.vS),{paddingInline:jt})}}]};const vr=ne=>{const{componentCls:ue,motionDurationSlow:J,motionDurationMid:Re,motionEaseInOut:Ae,motionEaseOut:Rt,iconCls:Ht,iconSize:Vt,iconMarginInlineEnd:Bt}=ne;return{[`${ue}-item, ${ue}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${J}`,`background ${J}`,`padding ${J} ${Ae}`].join(","),[`${ue}-item-icon, ${Ht}`]:{minWidth:Vt,fontSize:Vt,transition:[`font-size ${Re} ${Rt}`,`margin ${J} ${Ae}`,`color ${J}`].join(","),"+ span":{marginInlineStart:Bt,opacity:1,transition:[`opacity ${J} ${Ae}`,`margin ${J}`,`color ${J}`].join(",")}},[`${ue}-item-icon`]:Object.assign({},(0,Ie.Ro)()),[`&${ue}-item-only-child`]:{[`> ${Ht}, > ${ue}-item-icon`]:{marginInlineEnd:0}}},[`${ue}-item-disabled, ${ue}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${ue}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},rr=ne=>{const{componentCls:ue,motionDurationSlow:J,motionEaseInOut:Re,borderRadius:Ae,menuArrowSize:Rt,menuArrowOffset:Ht}=ne;return{[`${ue}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:ne.margin,width:Rt,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${J} ${Re}, opacity ${J}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:ne.calc(Rt).mul(.6).equal(),height:ne.calc(Rt).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:Ae,transition:[`background ${J} ${Re}`,`transform ${J} ${Re}`,`top ${J} ${Re}`,`color ${J} ${Re}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,oe.unit)(ne.calc(Ht).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,oe.unit)(Ht)})`}}}}},jr=ne=>{const{antCls:ue,componentCls:J,fontSize:Re,motionDurationSlow:Ae,motionDurationMid:Rt,motionEaseInOut:Ht,paddingXS:Vt,padding:Bt,colorSplit:wt,lineWidth:pr,zIndexPopup:Et,borderRadiusLG:be,subMenuItemBorderRadius:jt,menuArrowSize:Yt,menuArrowOffset:sr,lineType:lr,groupTitleLineHeight:nr,groupTitleFontSize:sn}=ne;return[{"":{[`${J}`]:Object.assign(Object.assign({},(0,Ie.dF)()),{"&-hidden":{display:"none"}})},[`${J}-submenu-hidden`]:{display:"none"}},{[J]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ie.Wf)(ne)),(0,Ie.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:Re,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${Ae} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${J}-item`]:{flex:"none"}},[`${J}-item, ${J}-submenu, ${J}-submenu-title`]:{borderRadius:ne.itemBorderRadius},[`${J}-item-group-title`]:{padding:`${(0,oe.unit)(Vt)} ${(0,oe.unit)(Bt)}`,fontSize:sn,lineHeight:nr,transition:`all ${Ae}`},[`&-horizontal ${J}-submenu`]:{transition:[`border-color ${Ae} ${Ht}`,`background ${Ae} ${Ht}`].join(",")},[`${J}-submenu, ${J}-submenu-inline`]:{transition:[`border-color ${Ae} ${Ht}`,`background ${Ae} ${Ht}`,`padding ${Rt} ${Ht}`].join(",")},[`${J}-submenu ${J}-sub`]:{cursor:"initial",transition:[`background ${Ae} ${Ht}`,`padding ${Ae} ${Ht}`].join(",")},[`${J}-title-content`]:{transition:`color ${Ae}`,[`> ${ue}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"}},[`${J}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${J}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:wt,borderStyle:lr,borderWidth:0,borderTopWidth:pr,marginBlock:pr,padding:0,"&-dashed":{borderStyle:"dashed"}}}),vr(ne)),{[`${J}-item-group`]:{[`${J}-item-group-list`]:{margin:0,padding:0,[`${J}-item, ${J}-submenu-title`]:{paddingInline:`${(0,oe.unit)(ne.calc(Re).mul(2).equal())} ${(0,oe.unit)(Bt)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:Et,borderRadius:be,boxShadow:"none",transformOrigin:"0 0",[`&${J}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${J}`]:Object.assign(Object.assign(Object.assign({borderRadius:be},vr(ne)),rr(ne)),{[`${J}-item, ${J}-submenu > ${J}-submenu-title`]:{borderRadius:jt},[`${J}-submenu-title::after`]:{transition:`transform ${Ae} ${Ht}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:ne.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:ne.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:ne.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:ne.paddingXS}}}),rr(ne)),{[`&-inline-collapsed ${J}-submenu-arrow,
        &-inline ${J}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,oe.unit)(sr)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,oe.unit)(ne.calc(sr).mul(-1).equal())})`}},[`${J}-submenu-open${J}-submenu-inline > ${J}-submenu-title > ${J}-submenu-arrow`]:{transform:`translateY(${(0,oe.unit)(ne.calc(Yt).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,oe.unit)(ne.calc(sr).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,oe.unit)(sr)})`}}})},{[`${ue}-layout-header`]:{[J]:{lineHeight:"inherit"}}}]},qe=ne=>{var ue,J,Re;const{colorPrimary:Ae,colorError:Rt,colorTextDisabled:Ht,colorErrorBg:Vt,colorText:Bt,colorTextDescription:wt,colorBgContainer:pr,colorFillAlter:Et,colorFillContent:be,lineWidth:jt,lineWidthBold:Yt,controlItemBgActive:sr,colorBgTextHover:lr,controlHeightLG:nr,lineHeight:sn,colorBgElevated:Br,marginXXS:hn,padding:Ue,fontSize:fr,controlHeightSM:Cr,fontSizeLG:Ir,colorTextLightSolid:Er,colorErrorHover:ln}=ne,Vn=(ue=ne.activeBarWidth)!==null&&ue!==void 0?ue:0,hr=(J=ne.activeBarBorderWidth)!==null&&J!==void 0?J:jt,jn=(Re=ne.itemMarginInline)!==null&&Re!==void 0?Re:ne.marginXXS,qr=new pt.C(Er).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:ne.zIndexPopupBase+50,radiusItem:ne.borderRadiusLG,itemBorderRadius:ne.borderRadiusLG,radiusSubMenuItem:ne.borderRadiusSM,subMenuItemBorderRadius:ne.borderRadiusSM,colorItemText:Bt,itemColor:Bt,colorItemTextHover:Bt,itemHoverColor:Bt,colorItemTextHoverHorizontal:Ae,horizontalItemHoverColor:Ae,colorGroupTitle:wt,groupTitleColor:wt,colorItemTextSelected:Ae,itemSelectedColor:Ae,colorItemTextSelectedHorizontal:Ae,horizontalItemSelectedColor:Ae,colorItemBg:pr,itemBg:pr,colorItemBgHover:lr,itemHoverBg:lr,colorItemBgActive:be,itemActiveBg:sr,colorSubItemBg:Et,subMenuItemBg:Et,colorItemBgSelected:sr,itemSelectedBg:sr,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:Vn,colorActiveBarHeight:Yt,activeBarHeight:Yt,colorActiveBarBorderSize:jt,activeBarBorderWidth:hr,colorItemTextDisabled:Ht,itemDisabledColor:Ht,colorDangerItemText:Rt,dangerItemColor:Rt,colorDangerItemTextHover:Rt,dangerItemHoverColor:Rt,colorDangerItemTextSelected:Rt,dangerItemSelectedColor:Rt,colorDangerItemBgActive:Vt,dangerItemActiveBg:Vt,colorDangerItemBgSelected:Vt,dangerItemSelectedBg:Vt,itemMarginInline:jn,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:nr,groupTitleLineHeight:sn,collapsedWidth:nr*2,popupBg:Br,itemMarginBlock:hn,itemPaddingInline:Ue,horizontalLineHeight:`${nr*1.15}px`,iconSize:fr,iconMarginInlineEnd:Cr-fr,collapsedIconSize:Ir,groupTitleFontSize:fr,darkItemDisabledColor:new pt.C(Er).setAlpha(.25).toRgbString(),darkItemColor:qr,darkDangerItemColor:Rt,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:Er,darkItemSelectedBg:Ae,darkDangerItemSelectedBg:Rt,darkItemHoverBg:"transparent",darkGroupTitleColor:qr,darkItemHoverColor:Er,darkDangerItemHoverColor:ln,darkDangerItemSelectedColor:Er,darkDangerItemActiveBg:Rt,itemWidth:Vn?`calc(100% + ${hr}px)`:`calc(100% - ${jn*2}px)`}};var $e=function(ne){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,_e.I$)("Menu",Ae=>{const{colorBgElevated:Rt,controlHeightLG:Ht,fontSize:Vt,darkItemColor:Bt,darkDangerItemColor:wt,darkItemBg:pr,darkSubMenuItemBg:Et,darkItemSelectedColor:be,darkItemSelectedBg:jt,darkDangerItemSelectedBg:Yt,darkItemHoverBg:sr,darkGroupTitleColor:lr,darkItemHoverColor:nr,darkItemDisabledColor:sn,darkDangerItemHoverColor:Br,darkDangerItemSelectedColor:hn,darkDangerItemActiveBg:Ue,popupBg:fr,darkPopupBg:Cr}=Ae,Ir=Ae.calc(Vt).div(7).mul(5).equal(),Er=(0,q.TS)(Ae,{menuArrowSize:Ir,menuHorizontalHeight:Ae.calc(Ht).mul(1.15).equal(),menuArrowOffset:Ae.calc(Ir).mul(.25).equal(),menuSubMenuBg:Rt,calc:Ae.calc,popupBg:fr}),ln=(0,q.TS)(Er,{itemColor:Bt,itemHoverColor:nr,groupTitleColor:lr,itemSelectedColor:be,itemBg:pr,popupBg:Cr,subMenuItemBg:Et,itemActiveBg:"transparent",itemSelectedBg:jt,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:sr,itemDisabledColor:sn,dangerItemColor:wt,dangerItemHoverColor:Br,dangerItemSelectedColor:hn,dangerItemActiveBg:Ue,dangerItemSelectedBg:Yt,menuSubMenuBg:Et,horizontalItemSelectedColor:be,horizontalItemSelectedBg:jt});return[jr(Er),Se(Er),or(Er),Le(Er,"light"),Le(ln,"dark"),ft(Er),(0,Lt.Z)(Er),(0,Ft.oN)(Er,"slide-up"),(0,Ft.oN)(Er,"slide-down"),(0,Ye._y)(Er,"zoom-big")]},qe,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:J,unitless:{groupTitleLineHeight:!0}})(ne,ue)},Ct=T(87263),_r=ne=>{var ue;const{popupClassName:J,icon:Re,title:Ae,theme:Rt}=ne,Ht=y.useContext(Xe),{prefixCls:Vt,inlineCollapsed:Bt,theme:wt}=Ht,pr=(0,M.Xl)();let Et;if(!Re)Et=Bt&&!pr.length&&Ae&&typeof Ae=="string"?y.createElement("div",{className:`${Vt}-inline-collapsed-noicon`},Ae.charAt(0)):y.createElement("span",{className:`${Vt}-title-content`},Ae);else{const Yt=y.isValidElement(Ae)&&Ae.type==="span";Et=y.createElement(y.Fragment,null,(0,St.Tm)(Re,{className:xe()(y.isValidElement(Re)?(ue=Re.props)===null||ue===void 0?void 0:ue.className:"",`${Vt}-item-icon`)}),Yt?Ae:y.createElement("span",{className:`${Vt}-title-content`},Ae))}const be=y.useMemo(()=>Object.assign(Object.assign({},Ht),{firstLevel:!1}),[Ht]),[jt]=(0,Ct.Cn)("Menu");return y.createElement(Xe.Provider,{value:be},y.createElement(M.Wd,Object.assign({},(0,me.Z)(ne,["icon"]),{title:Et,popupClassName:xe()(Vt,J,`${Vt}-${Rt||wt}`),popupStyle:{zIndex:jt}})))},zr=function(ne,ue){var J={};for(var Re in ne)Object.prototype.hasOwnProperty.call(ne,Re)&&ue.indexOf(Re)<0&&(J[Re]=ne[Re]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Re=Object.getOwnPropertySymbols(ne);Ae<Re.length;Ae++)ue.indexOf(Re[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ne,Re[Ae])&&(J[Re[Ae]]=ne[Re[Ae]]);return J};function xt(ne){return ne===null||ne===!1}const ge={item:dt,submenu:_r,divider:tt};var ht=(0,y.forwardRef)((ne,ue)=>{var J;const Re=y.useContext(ve.Z),Ae=Re||{},{getPrefixCls:Rt,getPopupContainer:Ht,direction:Vt,menu:Bt}=y.useContext(rt.E_),wt=Rt(),{prefixCls:pr,className:Et,style:be,theme:jt="light",expandIcon:Yt,_internalDisableMenuItemTitleTooltip:sr,inlineCollapsed:lr,siderCollapsed:nr,rootClassName:sn,mode:Br,selectable:hn,onClick:Ue,overflowedIndicatorPopupClassName:fr}=ne,Cr=zr(ne,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),Ir=(0,me.Z)(Cr,["collapsedWidth"]);(J=Ae.validator)===null||J===void 0||J.call(Ae,{mode:Br});const Er=(0,Ce.useEvent)(function(){var vt;Ue==null||Ue.apply(void 0,arguments),(vt=Ae.onClick)===null||vt===void 0||vt.call(Ae)}),ln=Ae.mode||Br,Vn=hn!=null?hn:Ae.selectable,hr=y.useMemo(()=>nr!==void 0?nr:lr,[lr,nr]),jn={horizontal:{motionName:`${wt}-slide-up`},inline:(0,Ge.Z)(wt),other:{motionName:`${wt}-zoom-big`}},qr=Rt("menu",pr||Ae.prefixCls),Zn=(0,de.Z)(qr),[Rn,vi,pi]=$e(qr,Zn,!Re),Jn=xe()(`${qr}-${jt}`,Bt==null?void 0:Bt.className,Et),nn=y.useMemo(()=>{var vt,Qr;if(typeof Yt=="function"||xt(Yt))return Yt||null;if(typeof Ae.expandIcon=="function"||xt(Ae.expandIcon))return Ae.expandIcon||null;if(typeof(Bt==null?void 0:Bt.expandIcon)=="function"||xt(Bt==null?void 0:Bt.expandIcon))return(Bt==null?void 0:Bt.expandIcon)||null;const Te=(vt=Yt!=null?Yt:Ae==null?void 0:Ae.expandIcon)!==null&&vt!==void 0?vt:Bt==null?void 0:Bt.expandIcon;return(0,St.Tm)(Te,{className:xe()(`${qr}-submenu-expand-icon`,y.isValidElement(Te)?(Qr=Te.props)===null||Qr===void 0?void 0:Qr.className:void 0)})},[Yt,Ae==null?void 0:Ae.expandIcon,Bt==null?void 0:Bt.expandIcon,qr]),Fr=y.useMemo(()=>({prefixCls:qr,inlineCollapsed:hr||!1,direction:Vt,firstLevel:!0,theme:jt,mode:ln,disableMenuItemTitleTooltip:sr}),[qr,hr,Vt,sr,jt]);return Rn(y.createElement(ve.Z.Provider,{value:null},y.createElement(Xe.Provider,{value:Fr},y.createElement(M.ZP,Object.assign({getPopupContainer:Ht,overflowedIndicator:y.createElement(he.Z,null),overflowedIndicatorPopupClassName:xe()(qr,`${qr}-${jt}`,fr),mode:ln,selectable:Vn,onClick:Er},Ir,{inlineCollapsed:hr,style:Object.assign(Object.assign({},Bt==null?void 0:Bt.style),be),className:Jn,prefixCls:qr,direction:Vt,defaultMotions:jn,expandIcon:nn,ref:ue,rootClassName:xe()(sn,vi,Ae.rootClassName,pi,Zn),_internalComponents:ge})))))});const Mt=(0,y.forwardRef)((ne,ue)=>{const J=(0,y.useRef)(null),Re=y.useContext(w);return(0,y.useImperativeHandle)(ue,()=>({menu:J.current,focus:Ae=>{var Rt;(Rt=J.current)===null||Rt===void 0||Rt.focus(Ae)}})),y.createElement(ht,Object.assign({ref:J},ne,Re))});Mt.Item=dt,Mt.SubMenu=_r,Mt.Divider=tt,Mt.ItemGroup=M.BW;var nt=Mt},45803:function(Zt,Oe,T){"use strict";T.d(Oe,{ZP:function(){return Qr}});var y=T(75177),M=T(67294),U=T(38135);const xe=M.createContext({}),re=M.createContext({message:{},notification:{},modal:{}});var ee=null,w=T(53124),ie=T(25682),K=T(89739),X=T(4340),he=T(21640),Ce=T(97460),me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Ge=me,St=T(55230),rt=function(Ke,Ot){return M.createElement(St.Z,(0,Ce.Z)({},Ke,{ref:Ot,icon:Ge}))},de=M.forwardRef(rt),Ve=de,Be=T(50888),tt=T(13144),et=T.n(tt),Xe=T(74902),ze=T(97685),It=T(91),tr=T(1413),dt=T(73935),ve=T(87462),oe=T(4942),pt=T(94184),Ie=T.n(pt),Lt=T(9402),Ft=T(71002),Ye=T(15105),_e=T(64217),q=M.forwardRef(function(Te,Ke){var Ot=Te.prefixCls,it=Te.style,H=Te.className,ye=Te.duration,Ne=ye===void 0?4.5:ye,le=Te.eventKey,De=Te.content,yt=Te.closable,qt=Te.closeIcon,Pr=qt===void 0?"x":qt,$t=Te.props,ir=Te.onClick,Nt=Te.onNoticeClose,Tr=Te.times,Kt=Te.hovering,xn=M.useState(!1),Mn=(0,ze.Z)(xn,2),yn=Mn[0],An=Mn[1],Pt=Kt||yn,an=function(){Nt(le)},Dr=function(br){(br.key==="Enter"||br.code==="Enter"||br.keyCode===Ye.Z.ENTER)&&an()};M.useEffect(function(){if(!Pt&&Ne>0){var En=setTimeout(function(){an()},Ne*1e3);return function(){clearTimeout(En)}}},[Ne,Pt,Tr]);var kr=M.useMemo(function(){return(0,Ft.Z)(yt)==="object"&&yt!==null?yt:yt?{closeIcon:Pr}:{}},[yt,Pr]),Xr=(0,_e.Z)(kr,!0),un="".concat(Ot,"-notice");return M.createElement("div",(0,ve.Z)({},$t,{ref:Ke,className:Ie()(un,H,(0,oe.Z)({},"".concat(un,"-closable"),yt)),style:it,onMouseEnter:function(br){var Jr;An(!0),$t==null||(Jr=$t.onMouseEnter)===null||Jr===void 0||Jr.call($t,br)},onMouseLeave:function(br){var Jr;An(!1),$t==null||(Jr=$t.onMouseLeave)===null||Jr===void 0||Jr.call($t,br)},onClick:ir}),M.createElement("div",{className:"".concat(un,"-content")},De),yt&&M.createElement("a",(0,ve.Z)({tabIndex:0,className:"".concat(un,"-close"),onKeyDown:Dr,"aria-label":"Close"},Xr,{onClick:function(br){br.preventDefault(),br.stopPropagation(),an()}}),kr.closeIcon))}),fe=q,Se=M.createContext({}),We=function(Ke){var Ot=Ke.children,it=Ke.classNames;return M.createElement(Se.Provider,{value:{classNames:it}},Ot)},ft=We,bt=8,Fe=3,Le=16,Ze=function(Ke){var Ot={offset:bt,threshold:Fe,gap:Le};if(Ke&&(0,Ft.Z)(Ke)==="object"){var it,H,ye;Ot.offset=(it=Ke.offset)!==null&&it!==void 0?it:bt,Ot.threshold=(H=Ke.threshold)!==null&&H!==void 0?H:Fe,Ot.gap=(ye=Ke.gap)!==null&&ye!==void 0?ye:Le}return[!!Ke,Ot]},Jt=Ze,or=["className","style","classNames","styles"],vr=function(Ke){var Ot=Ke.configList,it=Ke.placement,H=Ke.prefixCls,ye=Ke.className,Ne=Ke.style,le=Ke.motion,De=Ke.onAllNoticeRemoved,yt=Ke.onNoticeClose,qt=Ke.stack,Pr=(0,M.useContext)(Se),$t=Pr.classNames,ir=(0,M.useRef)({}),Nt=(0,M.useState)(null),Tr=(0,ze.Z)(Nt,2),Kt=Tr[0],xn=Tr[1],Mn=(0,M.useState)([]),yn=(0,ze.Z)(Mn,2),An=yn[0],Pt=yn[1],an=Ot.map(function(lt){return{config:lt,key:String(lt.key)}}),Dr=Jt(qt),kr=(0,ze.Z)(Dr,2),Xr=kr[0],un=kr[1],En=un.offset,br=un.threshold,Jr=un.gap,Yn=Xr&&(An.length>0||an.length<=br),Hn=typeof le=="function"?le(it):le;return(0,M.useEffect)(function(){Xr&&An.length>1&&Pt(function(lt){return lt.filter(function(Rr){return an.some(function(na){var Ti=na.key;return Rr===Ti})})})},[An,an,Xr]),(0,M.useEffect)(function(){var lt;if(Xr&&ir.current[(lt=an[an.length-1])===null||lt===void 0?void 0:lt.key]){var Rr;xn(ir.current[(Rr=an[an.length-1])===null||Rr===void 0?void 0:Rr.key])}},[an,Xr]),M.createElement(Lt.CSSMotionList,(0,ve.Z)({key:it,className:Ie()(H,"".concat(H,"-").concat(it),$t==null?void 0:$t.list,ye,(0,oe.Z)((0,oe.Z)({},"".concat(H,"-stack"),!!Xr),"".concat(H,"-stack-expanded"),Yn)),style:Ne,keys:an,motionAppear:!0},Hn,{onAllRemoved:function(){De(it)}}),function(lt,Rr){var na=lt.config,Ti=lt.className,Si=lt.style,In=lt.index,Hi=na,Ta=Hi.key,Zi=Hi.times,gi=String(Ta),ai=na,fa=ai.className,Va=ai.style,Ba=ai.classNames,Sa=ai.styles,co=(0,It.Z)(ai,or),Ai=an.findIndex(function(Or){return Or.key===gi}),Ka={};if(Xr){var qa=an.length-1-(Ai>-1?Ai:In-1),oi=it==="top"||it==="bottom"?"-50%":"0";if(qa>0){var _n,we,Ur;Ka.height=Yn?(_n=ir.current[gi])===null||_n===void 0?void 0:_n.offsetHeight:Kt==null?void 0:Kt.offsetHeight;for(var Xi=0,V=0;V<qa;V++){var Ee;Xi+=((Ee=ir.current[an[an.length-1-V].key])===null||Ee===void 0?void 0:Ee.offsetHeight)+Jr}var He=(Yn?Xi:qa*En)*(it.startsWith("top")?1:-1),_t=!Yn&&Kt!==null&&Kt!==void 0&&Kt.offsetWidth&&(we=ir.current[gi])!==null&&we!==void 0&&we.offsetWidth?((Kt==null?void 0:Kt.offsetWidth)-En*2*(qa<3?qa:3))/((Ur=ir.current[gi])===null||Ur===void 0?void 0:Ur.offsetWidth):1;Ka.transform="translate3d(".concat(oi,", ").concat(He,"px, 0) scaleX(").concat(_t,")")}else Ka.transform="translate3d(".concat(oi,", 0, 0)")}return M.createElement("div",{ref:Rr,className:Ie()("".concat(H,"-notice-wrapper"),Ti,Ba==null?void 0:Ba.wrapper),style:(0,tr.Z)((0,tr.Z)((0,tr.Z)({},Si),Ka),Sa==null?void 0:Sa.wrapper),onMouseEnter:function(){return Pt(function(yi){return yi.includes(gi)?yi:[].concat((0,Xe.Z)(yi),[gi])})},onMouseLeave:function(){return Pt(function(yi){return yi.filter(function(qi){return qi!==gi})})}},M.createElement(fe,(0,ve.Z)({},co,{ref:function(yi){Ai>-1?ir.current[gi]=yi:delete ir.current[gi]},prefixCls:H,classNames:Ba,styles:Sa,className:Ie()(fa,$t==null?void 0:$t.notice),style:Va,times:Zi,key:Ta,eventKey:Ta,onNoticeClose:yt,hovering:Xr&&An.length>0})))})},rr=vr,jr=M.forwardRef(function(Te,Ke){var Ot=Te.prefixCls,it=Ot===void 0?"rc-notification":Ot,H=Te.container,ye=Te.motion,Ne=Te.maxCount,le=Te.className,De=Te.style,yt=Te.onAllRemoved,qt=Te.stack,Pr=Te.renderNotifications,$t=M.useState([]),ir=(0,ze.Z)($t,2),Nt=ir[0],Tr=ir[1],Kt=function(Xr){var un,En=Nt.find(function(br){return br.key===Xr});En==null||(un=En.onClose)===null||un===void 0||un.call(En),Tr(function(br){return br.filter(function(Jr){return Jr.key!==Xr})})};M.useImperativeHandle(Ke,function(){return{open:function(Xr){Tr(function(un){var En=(0,Xe.Z)(un),br=En.findIndex(function(Hn){return Hn.key===Xr.key}),Jr=(0,tr.Z)({},Xr);if(br>=0){var Yn;Jr.times=(((Yn=un[br])===null||Yn===void 0?void 0:Yn.times)||0)+1,En[br]=Jr}else Jr.times=0,En.push(Jr);return Ne>0&&En.length>Ne&&(En=En.slice(-Ne)),En})},close:function(Xr){Kt(Xr)},destroy:function(){Tr([])}}});var xn=M.useState({}),Mn=(0,ze.Z)(xn,2),yn=Mn[0],An=Mn[1];M.useEffect(function(){var kr={};Nt.forEach(function(Xr){var un=Xr.placement,En=un===void 0?"topRight":un;En&&(kr[En]=kr[En]||[],kr[En].push(Xr))}),Object.keys(yn).forEach(function(Xr){kr[Xr]=kr[Xr]||[]}),An(kr)},[Nt]);var Pt=function(Xr){An(function(un){var En=(0,tr.Z)({},un),br=En[Xr]||[];return br.length||delete En[Xr],En})},an=M.useRef(!1);if(M.useEffect(function(){Object.keys(yn).length>0?an.current=!0:an.current&&(yt==null||yt(),an.current=!1)},[yn]),!H)return null;var Dr=Object.keys(yn);return(0,dt.createPortal)(M.createElement(M.Fragment,null,Dr.map(function(kr){var Xr=yn[kr],un=M.createElement(rr,{key:kr,configList:Xr,placement:kr,prefixCls:it,className:le==null?void 0:le(kr),style:De==null?void 0:De(kr),motion:ye,onNoticeClose:Kt,onAllNoticeRemoved:Pt,stack:qt});return Pr?Pr(un,{prefixCls:it,key:kr}):un})),H)}),qe=jr,$e=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Ct=function(){return document.body},gr=0;function _r(){for(var Te={},Ke=arguments.length,Ot=new Array(Ke),it=0;it<Ke;it++)Ot[it]=arguments[it];return Ot.forEach(function(H){H&&Object.keys(H).forEach(function(ye){var Ne=H[ye];Ne!==void 0&&(Te[ye]=Ne)})}),Te}function zr(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ke=Te.getContainer,Ot=Ke===void 0?Ct:Ke,it=Te.motion,H=Te.prefixCls,ye=Te.maxCount,Ne=Te.className,le=Te.style,De=Te.onAllRemoved,yt=Te.stack,qt=Te.renderNotifications,Pr=(0,It.Z)(Te,$e),$t=M.useState(),ir=(0,ze.Z)($t,2),Nt=ir[0],Tr=ir[1],Kt=M.useRef(),xn=M.createElement(qe,{container:Nt,ref:Kt,prefixCls:H,motion:it,maxCount:ye,className:Ne,style:le,onAllRemoved:De,stack:yt,renderNotifications:qt}),Mn=M.useState([]),yn=(0,ze.Z)(Mn,2),An=yn[0],Pt=yn[1],an=M.useMemo(function(){return{open:function(kr){var Xr=_r(Pr,kr);(Xr.key===null||Xr.key===void 0)&&(Xr.key="rc-notification-".concat(gr),gr+=1),Pt(function(un){return[].concat((0,Xe.Z)(un),[{type:"open",config:Xr}])})},close:function(kr){Pt(function(Xr){return[].concat((0,Xe.Z)(Xr),[{type:"close",key:kr}])})},destroy:function(){Pt(function(kr){return[].concat((0,Xe.Z)(kr),[{type:"destroy"}])})}}},[]);return M.useEffect(function(){Tr(Ot())}),M.useEffect(function(){Kt.current&&An.length&&(An.forEach(function(Dr){switch(Dr.type){case"open":Kt.current.open(Dr.config);break;case"close":Kt.current.close(Dr.key);break;case"destroy":Kt.current.destroy();break}}),Pt(function(Dr){return Dr.filter(function(kr){return!An.includes(kr)})}))},[An]),[an,xn]}var xt=T(35792),ge=T(54548),je=T(87263),ht=T(14747),Mt=T(2093),nt=T(45503);const ne=Te=>{const{componentCls:Ke,iconCls:Ot,boxShadow:it,colorText:H,colorSuccess:ye,colorError:Ne,colorWarning:le,colorInfo:De,fontSizeLG:yt,motionEaseInOutCirc:qt,motionDurationSlow:Pr,marginXS:$t,paddingXS:ir,borderRadiusLG:Nt,zIndexPopup:Tr,contentPadding:Kt,contentBg:xn}=Te,Mn=`${Ke}-notice`,yn=new ge.Keyframes("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:ir,transform:"translateY(0)",opacity:1}}),An=new ge.Keyframes("MessageMoveOut",{"0%":{maxHeight:Te.height,padding:ir,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),Pt={padding:ir,textAlign:"center",[`${Ke}-custom-content > ${Ot}`]:{verticalAlign:"text-bottom",marginInlineEnd:$t,fontSize:yt},[`${Mn}-content`]:{display:"inline-block",padding:Kt,background:xn,borderRadius:Nt,boxShadow:it,pointerEvents:"all"},[`${Ke}-success > ${Ot}`]:{color:ye},[`${Ke}-error > ${Ot}`]:{color:Ne},[`${Ke}-warning > ${Ot}`]:{color:le},[`${Ke}-info > ${Ot},
      ${Ke}-loading > ${Ot}`]:{color:De}};return[{[Ke]:Object.assign(Object.assign({},(0,ht.Wf)(Te)),{color:H,position:"fixed",top:$t,width:"100%",pointerEvents:"none",zIndex:Tr,[`${Ke}-move-up`]:{animationFillMode:"forwards"},[`
        ${Ke}-move-up-appear,
        ${Ke}-move-up-enter
      `]:{animationName:yn,animationDuration:Pr,animationPlayState:"paused",animationTimingFunction:qt},[`
        ${Ke}-move-up-appear${Ke}-move-up-appear-active,
        ${Ke}-move-up-enter${Ke}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${Ke}-move-up-leave`]:{animationName:An,animationDuration:Pr,animationPlayState:"paused",animationTimingFunction:qt},[`${Ke}-move-up-leave${Ke}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[Ke]:{[`${Mn}-wrapper`]:Object.assign({},Pt)}},{[`${Ke}-notice-pure-panel`]:Object.assign(Object.assign({},Pt),{padding:0,textAlign:"start"})}]},ue=Te=>({zIndexPopup:Te.zIndexPopupBase+je.u6+10,contentBg:Te.colorBgElevated,contentPadding:`${(Te.controlHeightLG-Te.fontSize*Te.lineHeight)/2}px ${Te.paddingSM}px`});var J=(0,Mt.I$)("Message",Te=>{const Ke=(0,nt.TS)(Te,{height:150});return[ne(Ke)]},ue),Re=function(Te,Ke){var Ot={};for(var it in Te)Object.prototype.hasOwnProperty.call(Te,it)&&Ke.indexOf(it)<0&&(Ot[it]=Te[it]);if(Te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var H=0,it=Object.getOwnPropertySymbols(Te);H<it.length;H++)Ke.indexOf(it[H])<0&&Object.prototype.propertyIsEnumerable.call(Te,it[H])&&(Ot[it[H]]=Te[it[H]]);return Ot};const Ae={info:M.createElement(Ve,null),success:M.createElement(K.Z,null),error:M.createElement(X.Z,null),warning:M.createElement(he.Z,null),loading:M.createElement(Be.Z,null)},Rt=Te=>{let{prefixCls:Ke,type:Ot,icon:it,children:H}=Te;return M.createElement("div",{className:et()(`${Ke}-custom-content`,`${Ke}-${Ot}`)},it||Ae[Ot],M.createElement("span",null,H))};var Vt=Te=>{const{prefixCls:Ke,className:Ot,type:it,icon:H,content:ye}=Te,Ne=Re(Te,["prefixCls","className","type","icon","content"]),{getPrefixCls:le}=M.useContext(w.E_),De=Ke||le("message"),yt=(0,xt.Z)(De),[qt,Pr,$t]=J(De,yt);return qt(M.createElement(fe,Object.assign({},Ne,{prefixCls:De,className:et()(Ot,Pr,`${De}-notice-pure-panel`,$t,yt),eventKey:"pure",duration:null,content:M.createElement(Rt,{prefixCls:De,type:it,icon:H},ye)})))},Bt=T(97937),wt=T(27288);function pr(Te,Ke){return{motionName:Ke!=null?Ke:`${Te}-move-up`}}function Et(Te){let Ke;const Ot=new Promise(H=>{Ke=Te(()=>{H(!0)})}),it=()=>{Ke==null||Ke()};return it.then=(H,ye)=>Ot.then(H,ye),it.promise=Ot,it}var be=function(Te,Ke){var Ot={};for(var it in Te)Object.prototype.hasOwnProperty.call(Te,it)&&Ke.indexOf(it)<0&&(Ot[it]=Te[it]);if(Te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var H=0,it=Object.getOwnPropertySymbols(Te);H<it.length;H++)Ke.indexOf(it[H])<0&&Object.prototype.propertyIsEnumerable.call(Te,it[H])&&(Ot[it[H]]=Te[it[H]]);return Ot};const jt=8,Yt=3,sr=Te=>{let{children:Ke,prefixCls:Ot}=Te;const it=(0,xt.Z)(Ot),[H,ye,Ne]=J(Ot,it);return H(M.createElement(ft,{classNames:{list:et()(ye,Ne,it)}},Ke))},lr=(Te,Ke)=>{let{prefixCls:Ot,key:it}=Ke;return M.createElement(sr,{prefixCls:Ot,key:it},Te)},nr=M.forwardRef((Te,Ke)=>{const{top:Ot,prefixCls:it,getContainer:H,maxCount:ye,duration:Ne=Yt,rtl:le,transitionName:De,onAllRemoved:yt}=Te,{getPrefixCls:qt,getPopupContainer:Pr,message:$t,direction:ir}=M.useContext(w.E_),Nt=it||qt("message"),Tr=()=>({left:"50%",transform:"translateX(-50%)",top:Ot!=null?Ot:jt}),Kt=()=>et()({[`${Nt}-rtl`]:le!=null?le:ir==="rtl"}),xn=()=>pr(Nt,De),Mn=M.createElement("span",{className:`${Nt}-close-x`},M.createElement(Bt.Z,{className:`${Nt}-close-icon`})),[yn,An]=zr({prefixCls:Nt,style:Tr,className:Kt,motion:xn,closable:!1,closeIcon:Mn,duration:Ne,getContainer:()=>(H==null?void 0:H())||(Pr==null?void 0:Pr())||document.body,maxCount:ye,onAllRemoved:yt,renderNotifications:lr});return M.useImperativeHandle(Ke,()=>Object.assign(Object.assign({},yn),{prefixCls:Nt,message:$t})),An});let sn=0;function Br(Te){const Ke=M.useRef(null),Ot=(0,wt.ln)("Message");return[M.useMemo(()=>{const H=yt=>{var qt;(qt=Ke.current)===null||qt===void 0||qt.close(yt)},ye=yt=>{if(!Ke.current){const Dr=()=>{};return Dr.then=()=>{},Dr}const{open:qt,prefixCls:Pr,message:$t}=Ke.current,ir=`${Pr}-notice`,{content:Nt,icon:Tr,type:Kt,key:xn,className:Mn,style:yn,onClose:An}=yt,Pt=be(yt,["content","icon","type","key","className","style","onClose"]);let an=xn;return an==null&&(sn+=1,an=`antd-message-${sn}`),Et(Dr=>(qt(Object.assign(Object.assign({},Pt),{key:an,content:M.createElement(Rt,{prefixCls:Pr,type:Kt,icon:Tr},Nt),placement:"top",className:et()(Kt&&`${ir}-${Kt}`,Mn,$t==null?void 0:$t.className),style:Object.assign(Object.assign({},$t==null?void 0:$t.style),yn),onClose:()=>{An==null||An(),Dr()}})),()=>{H(an)}))},le={open:ye,destroy:yt=>{var qt;yt!==void 0?H(yt):(qt=Ke.current)===null||qt===void 0||qt.destroy()}};return["info","success","warning","error","loading"].forEach(yt=>{const qt=(Pr,$t,ir)=>{let Nt;Pr&&typeof Pr=="object"&&"content"in Pr?Nt=Pr:Nt={content:Pr};let Tr,Kt;typeof $t=="function"?Kt=$t:(Tr=$t,Kt=ir);const xn=Object.assign(Object.assign({onClose:Kt,duration:Tr},Nt),{type:yt});return ye(xn)};le[yt]=qt}),le},[]),M.createElement(nr,Object.assign({key:"message-holder"},Te,{ref:Ke}))]}function hn(Te){return Br(Te)}let Ue=null,fr=Te=>Te(),Cr=[],Ir={};function Er(){const{getContainer:Te,duration:Ke,rtl:Ot,maxCount:it,top:H}=Ir,ye=(Te==null?void 0:Te())||document.body;return{getContainer:()=>ye,duration:Ke,rtl:Ot,maxCount:it,top:H}}const ln=M.forwardRef((Te,Ke)=>{const{messageConfig:Ot,sync:it}=Te,{getPrefixCls:H}=(0,M.useContext)(w.E_),ye=Ir.prefixCls||H("message"),Ne=(0,M.useContext)(xe),[le,De]=Br(Object.assign(Object.assign(Object.assign({},Ot),{prefixCls:ye}),Ne.message));return M.useImperativeHandle(Ke,()=>{const yt=Object.assign({},le);return Object.keys(yt).forEach(qt=>{yt[qt]=function(){return it(),le[qt].apply(le,arguments)}}),{instance:yt,sync:it}}),De}),Vn=M.forwardRef((Te,Ke)=>{const[Ot,it]=M.useState(Er),H=()=>{it(Er)};M.useEffect(H,[]);const ye=(0,ie.w6)(),Ne=ye.getRootPrefixCls(),le=ye.getIconPrefixCls(),De=ye.getTheme(),yt=M.createElement(ln,{ref:Ke,sync:H,messageConfig:Ot});return M.createElement(ie.ZP,{prefixCls:Ne,iconPrefixCls:le,theme:De},ye.holderRender?ye.holderRender(yt):yt)});function hr(){if(!Ue){const Te=document.createDocumentFragment(),Ke={fragment:Te};Ue=Ke,fr(()=>{(0,U.s)(M.createElement(Vn,{ref:Ot=>{const{instance:it,sync:H}=Ot||{};Promise.resolve().then(()=>{!Ke.instance&&it&&(Ke.instance=it,Ke.sync=H,hr())})}}),Te)});return}Ue.instance&&(Cr.forEach(Te=>{const{type:Ke,skipped:Ot}=Te;if(!Ot)switch(Ke){case"open":{fr(()=>{const it=Ue.instance.open(Object.assign(Object.assign({},Ir),Te.config));it==null||it.then(Te.resolve),Te.setCloseFn(it)});break}case"destroy":fr(()=>{Ue==null||Ue.instance.destroy(Te.key)});break;default:fr(()=>{var it;const H=(it=Ue.instance)[Ke].apply(it,(0,y.Z)(Te.args));H==null||H.then(Te.resolve),Te.setCloseFn(H)})}}),Cr=[])}function jn(Te){Ir=Object.assign(Object.assign({},Ir),Te),fr(()=>{var Ke;(Ke=Ue==null?void 0:Ue.sync)===null||Ke===void 0||Ke.call(Ue)})}function qr(Te){const Ke=Et(Ot=>{let it;const H={type:"open",config:Te,resolve:Ot,setCloseFn:ye=>{it=ye}};return Cr.push(H),()=>{it?fr(()=>{it()}):H.skipped=!0}});return hr(),Ke}function Zn(Te,Ke){const Ot=(0,ie.w6)(),it=Et(H=>{let ye;const Ne={type:Te,args:Ke,resolve:H,setCloseFn:le=>{ye=le}};return Cr.push(Ne),()=>{ye?fr(()=>{ye()}):Ne.skipped=!0}});return hr(),it}const Rn=Te=>{Cr.push({type:"destroy",key:Te}),hr()},vi=["success","info","warning","error","loading"],Jn={open:qr,destroy:Rn,config:jn,useMessage:hn,_InternalPanelDoNotUseOrYouWillBeFired:Vt};vi.forEach(Te=>{Jn[Te]=function(){for(var Ke=arguments.length,Ot=new Array(Ke),it=0;it<Ke;it++)Ot[it]=arguments[it];return Zn(Te,Ot)}});const nn=()=>{};let Fr=null,vt=null;var Qr=Jn},74627:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return Ft}});var y=T(67294),M=T(13144),U=T.n(M),xe=T(93042),re=T(15105);const ee=Ye=>Ye?typeof Ye=="function"?Ye():Ye:null;var w=T(33603),ie=T(96159),K=T(53124),X=T(83062),he=T(92419),Ce=T(14747),me=T(50438),Ge=T(97414),St=T(79511),rt=T(8796),de=T(2093),Ve=T(45503);const Be=Ye=>{const{componentCls:_e,popoverColor:q,titleMinWidth:fe,fontWeightStrong:Se,innerPadding:We,boxShadowSecondary:ft,colorTextHeading:bt,borderRadiusLG:Fe,zIndexPopup:Le,titleMarginBottom:Ze,colorBgElevated:Jt,popoverBg:or,titleBorderBottom:vr,innerContentPadding:rr,titlePadding:jr}=Ye;return[{[_e]:Object.assign(Object.assign({},(0,Ce.Wf)(Ye)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:Le,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":Jt,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${_e}-content`]:{position:"relative"},[`${_e}-inner`]:{backgroundColor:or,backgroundClip:"padding-box",borderRadius:Fe,boxShadow:ft,padding:We},[`${_e}-title`]:{minWidth:fe,marginBottom:Ze,color:bt,fontWeight:Se,borderBottom:vr,padding:jr},[`${_e}-inner-content`]:{color:q,padding:rr}})},(0,Ge.ZP)(Ye,"var(--antd-arrow-background-color)"),{[`${_e}-pure`]:{position:"relative",maxWidth:"none",margin:Ye.sizePopupArrow,display:"inline-block",[`${_e}-content`]:{display:"inline-block"}}}]},tt=Ye=>{const{componentCls:_e}=Ye;return{[_e]:rt.i.map(q=>{const fe=Ye[`${q}6`];return{[`&${_e}-${q}`]:{"--antd-arrow-background-color":fe,[`${_e}-inner`]:{backgroundColor:fe},[`${_e}-arrow`]:{background:"transparent"}}}})}},et=Ye=>{const{lineWidth:_e,controlHeight:q,fontHeight:fe,padding:Se,wireframe:We,zIndexPopupBase:ft,borderRadiusLG:bt,marginXS:Fe,lineType:Le,colorSplit:Ze,paddingSM:Jt}=Ye,or=q-fe,vr=or/2,rr=or/2-_e,jr=Se;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:ft+30},(0,St.w)(Ye)),(0,Ge.wZ)({contentRadius:bt,limitVerticalRadius:!0})),{innerPadding:We?0:12,titleMarginBottom:We?0:Fe,titlePadding:We?`${vr}px ${jr}px ${rr}px`:0,titleBorderBottom:We?`${_e}px ${Le} ${Ze}`:"none",innerContentPadding:We?`${Jt}px ${jr}px`:0})};var Xe=(0,de.I$)("Popover",Ye=>{const{colorBgElevated:_e,colorText:q}=Ye,fe=(0,Ve.TS)(Ye,{popoverBg:_e,popoverColor:q});return[Be(fe),tt(fe),(0,me._y)(fe,"zoom-big")]},et,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),ze=function(Ye,_e){var q={};for(var fe in Ye)Object.prototype.hasOwnProperty.call(Ye,fe)&&_e.indexOf(fe)<0&&(q[fe]=Ye[fe]);if(Ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Se=0,fe=Object.getOwnPropertySymbols(Ye);Se<fe.length;Se++)_e.indexOf(fe[Se])<0&&Object.prototype.propertyIsEnumerable.call(Ye,fe[Se])&&(q[fe[Se]]=Ye[fe[Se]]);return q};const It=(Ye,_e,q)=>!_e&&!q?null:y.createElement(y.Fragment,null,_e&&y.createElement("div",{className:`${Ye}-title`},ee(_e)),y.createElement("div",{className:`${Ye}-inner-content`},ee(q))),tr=Ye=>{const{hashId:_e,prefixCls:q,className:fe,style:Se,placement:We="top",title:ft,content:bt,children:Fe}=Ye;return y.createElement("div",{className:U()(_e,q,`${q}-pure`,`${q}-placement-${We}`,fe),style:Se},y.createElement("div",{className:`${q}-arrow`}),y.createElement(he.G,Object.assign({},Ye,{className:_e,prefixCls:q}),Fe||It(q,ft,bt)))};var ve=Ye=>{const{prefixCls:_e,className:q}=Ye,fe=ze(Ye,["prefixCls","className"]),{getPrefixCls:Se}=y.useContext(K.E_),We=Se("popover",_e),[ft,bt,Fe]=Xe(We);return ft(y.createElement(tr,Object.assign({},fe,{prefixCls:We,hashId:bt,className:U()(q,Fe)})))},oe=function(Ye,_e){var q={};for(var fe in Ye)Object.prototype.hasOwnProperty.call(Ye,fe)&&_e.indexOf(fe)<0&&(q[fe]=Ye[fe]);if(Ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Se=0,fe=Object.getOwnPropertySymbols(Ye);Se<fe.length;Se++)_e.indexOf(fe[Se])<0&&Object.prototype.propertyIsEnumerable.call(Ye,fe[Se])&&(q[fe[Se]]=Ye[fe[Se]]);return q};const pt=Ye=>{let{title:_e,content:q,prefixCls:fe}=Ye;return y.createElement(y.Fragment,null,_e&&y.createElement("div",{className:`${fe}-title`},ee(_e)),y.createElement("div",{className:`${fe}-inner-content`},ee(q)))},Lt=y.forwardRef((Ye,_e)=>{var q,fe;const{prefixCls:Se,title:We,content:ft,overlayClassName:bt,placement:Fe="top",trigger:Le="hover",children:Ze,mouseEnterDelay:Jt=.1,mouseLeaveDelay:or=.1,onOpenChange:vr,overlayStyle:rr={}}=Ye,jr=oe(Ye,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:qe}=y.useContext(K.E_),$e=qe("popover",Se),[Ct,gr,_r]=Xe($e),zr=qe(),xt=U()(bt,gr,_r),[ge,je]=(0,xe.Z)(!1,{value:(q=Ye.open)!==null&&q!==void 0?q:Ye.visible,defaultValue:(fe=Ye.defaultOpen)!==null&&fe!==void 0?fe:Ye.defaultVisible}),ht=(ne,ue)=>{je(ne,!0),vr==null||vr(ne,ue)},Mt=ne=>{ne.keyCode===re.Z.ESC&&ht(!1,ne)},nt=ne=>{ht(ne)};return Ct(y.createElement(X.Z,Object.assign({placement:Fe,trigger:Le,mouseEnterDelay:Jt,mouseLeaveDelay:or,overlayStyle:rr},jr,{prefixCls:$e,overlayClassName:xt,ref:_e,open:ge,onOpenChange:nt,overlay:We||ft?y.createElement(pt,{prefixCls:$e,title:We,content:ft}):null,transitionName:(0,w.m)(zr,"zoom-big",jr.transitionName),"data-popover-inject":!0}),(0,ie.Tm)(Ze,{onKeyDown:ne=>{var ue,J;y.isValidElement(Ze)&&((J=Ze==null?void 0:(ue=Ze.props).onKeyDown)===null||J===void 0||J.call(ue,ne)),Mt(ne)}})))});Lt._InternalPanelDoNotUseOrYouWillBeFired=ve;var Ft=Lt},6277:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return Be}});var y=T(67294),M=T(13144),U=T.n(M),xe=T(25976);const re=["xxl","xl","lg","md","sm","xs"],ee=tt=>({xs:`(max-width: ${tt.screenXSMax}px)`,sm:`(min-width: ${tt.screenSM}px)`,md:`(min-width: ${tt.screenMD}px)`,lg:`(min-width: ${tt.screenLG}px)`,xl:`(min-width: ${tt.screenXL}px)`,xxl:`(min-width: ${tt.screenXXL}px)`}),w=tt=>{const et=tt,Xe=[].concat(re).reverse();return Xe.forEach((ze,It)=>{const tr=ze.toUpperCase(),dt=`screen${tr}Min`,ve=`screen${tr}`;if(!(et[dt]<=et[ve]))throw new Error(`${dt}<=${ve} fails : !(${et[dt]}<=${et[ve]})`);if(It<Xe.length-1){const oe=`screen${tr}Max`;if(!(et[ve]<=et[oe]))throw new Error(`${ve}<=${oe} fails : !(${et[ve]}<=${et[oe]})`);const Ie=`screen${Xe[It+1].toUpperCase()}Min`;if(!(et[oe]<=et[Ie]))throw new Error(`${oe}<=${Ie} fails : !(${et[oe]}<=${et[Ie]})`)}}),tt};function ie(){const[,tt]=(0,xe.ZP)(),et=ee(w(tt));return y.useMemo(()=>{const Xe=new Map;let ze=-1,It={};return{matchHandlers:{},dispatch(tr){return It=tr,Xe.forEach(dt=>dt(It)),Xe.size>=1},subscribe(tr){return Xe.size||this.register(),ze+=1,Xe.set(ze,tr),tr(It),ze},unsubscribe(tr){Xe.delete(tr),Xe.size||this.unregister()},unregister(){Object.keys(et).forEach(tr=>{const dt=et[tr],ve=this.matchHandlers[dt];ve==null||ve.mql.removeListener(ve==null?void 0:ve.listener)}),Xe.clear()},register(){Object.keys(et).forEach(tr=>{const dt=et[tr],ve=pt=>{let{matches:Ie}=pt;this.dispatch(Object.assign(Object.assign({},It),{[tr]:Ie}))},oe=window.matchMedia(dt);oe.addListener(ve),this.matchHandlers[dt]={mql:oe,listener:ve},ve(oe)})},responsiveMap:et}},[tt])}const K=(tt,et)=>{if(et&&typeof et=="object")for(let Xe=0;Xe<re.length;Xe++){const ze=re[Xe];if(tt[ze]&&et[ze]!==void 0)return et[ze]}};var X=T(53124),he=T(99134),Ce=T(6999),me=function(tt,et){var Xe={};for(var ze in tt)Object.prototype.hasOwnProperty.call(tt,ze)&&et.indexOf(ze)<0&&(Xe[ze]=tt[ze]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var It=0,ze=Object.getOwnPropertySymbols(tt);It<ze.length;It++)et.indexOf(ze[It])<0&&Object.prototype.propertyIsEnumerable.call(tt,ze[It])&&(Xe[ze[It]]=tt[ze[It]]);return Xe};const Ge=null,St=null;function rt(tt,et){const[Xe,ze]=y.useState(typeof tt=="string"?tt:""),It=()=>{if(typeof tt=="string"&&ze(tt),typeof tt=="object")for(let tr=0;tr<re.length;tr++){const dt=re[tr];if(!et[dt])continue;const ve=tt[dt];if(ve!==void 0){ze(ve);return}}};return y.useEffect(()=>{It()},[JSON.stringify(tt),et]),Xe}var Ve=y.forwardRef((tt,et)=>{const{prefixCls:Xe,justify:ze,align:It,className:tr,style:dt,children:ve,gutter:oe=0,wrap:pt}=tt,Ie=me(tt,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Lt,direction:Ft}=y.useContext(X.E_),[Ye,_e]=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[q,fe]=y.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Se=rt(It,q),We=rt(ze,q),ft=y.useRef(oe),bt=ie();y.useEffect(()=>{const _r=bt.subscribe(zr=>{fe(zr);const xt=ft.current||0;(!Array.isArray(xt)&&typeof xt=="object"||Array.isArray(xt)&&(typeof xt[0]=="object"||typeof xt[1]=="object"))&&_e(zr)});return()=>bt.unsubscribe(_r)},[]);const Fe=()=>{const _r=[void 0,void 0];return(Array.isArray(oe)?oe:[oe,void 0]).forEach((xt,ge)=>{if(typeof xt=="object")for(let je=0;je<re.length;je++){const ht=re[je];if(Ye[ht]&&xt[ht]!==void 0){_r[ge]=xt[ht];break}}else _r[ge]=xt}),_r},Le=Lt("row",Xe),[Ze,Jt,or]=(0,Ce.VM)(Le),vr=Fe(),rr=U()(Le,{[`${Le}-no-wrap`]:pt===!1,[`${Le}-${We}`]:We,[`${Le}-${Se}`]:Se,[`${Le}-rtl`]:Ft==="rtl"},tr,Jt,or),jr={},qe=vr[0]!=null&&vr[0]>0?vr[0]/-2:void 0;qe&&(jr.marginLeft=qe,jr.marginRight=qe);const[$e,Ct]=vr;jr.rowGap=Ct;const gr=y.useMemo(()=>({gutter:[$e,Ct],wrap:pt}),[$e,Ct,pt]);return Ze(y.createElement(he.Z.Provider,{value:gr},y.createElement("div",Object.assign({},Ie,{className:rr,style:Object.assign(Object.assign({},jr),dt),ref:et}),ve)))}),Be=Ve},40719:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return ml}});var y=T(67294),M=T(13144),U=T.n(M),xe=T(87462),re=T(74902),ee=T(4942),w=T(1413),ie=T(97685),K=T(91),X=T(71002),he=T(93042),Ce=T(80334),me=T(94184),Ge=T.n(me),St=T(8410),rt=T(31131),de=T(15105),Ve=T(42550),Be=function(A){var Z=A.className,G=A.customizeIcon,Pe=A.customizeIconProps,gt=A.children,Tt=A.onMouseDown,Ut=A.onClick,xr=typeof G=="function"?G(Pe):G;return y.createElement("span",{className:Z,onMouseDown:function(wr){wr.preventDefault(),Tt==null||Tt(wr)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Ut,"aria-hidden":!0},xr!==void 0?xr:y.createElement("span",{className:Ge()(Z.split(/\s+/).map(function(Vr){return"".concat(Vr,"-icon")}))},gt))},tt=Be,et=function(A,Z,G,Pe,gt){var Tt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Ut=arguments.length>6?arguments[6]:void 0,xr=arguments.length>7?arguments[7]:void 0,Vr=y.useMemo(function(){if((0,X.Z)(Pe)==="object")return Pe.clearIcon;if(gt)return gt},[Pe,gt]),wr=y.useMemo(function(){return!!(!Tt&&Pe&&(G.length||Ut)&&!(xr==="combobox"&&Ut===""))},[Pe,Tt,G.length,Ut,xr]);return{allowClear:wr,clearIcon:y.createElement(tt,{className:"".concat(A,"-clear"),onMouseDown:Z,customizeIcon:Vr},"\xD7")}},Xe=y.createContext(null);function ze(){return y.useContext(Xe)}function It(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,A=y.useState(!1),Z=(0,ie.Z)(A,2),G=Z[0],Pe=Z[1],gt=y.useRef(null),Tt=function(){window.clearTimeout(gt.current)};y.useEffect(function(){return Tt},[]);var Ut=function(Vr,wr){Tt(),gt.current=window.setTimeout(function(){Pe(Vr),wr&&wr()},E)};return[G,Ut,Tt]}function tr(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,A=y.useRef(null),Z=y.useRef(null);y.useEffect(function(){return function(){window.clearTimeout(Z.current)}},[]);function G(Pe){(Pe||A.current===null)&&(A.current=Pe),window.clearTimeout(Z.current),Z.current=window.setTimeout(function(){A.current=null},E)}return[function(){return A.current},G]}function dt(E,A,Z,G){var Pe=y.useRef(null);Pe.current={open:A,triggerOpen:Z,customizedTrigger:G},y.useEffect(function(){function gt(Tt){var Ut;if(!((Ut=Pe.current)!==null&&Ut!==void 0&&Ut.customizedTrigger)){var xr=Tt.target;xr.shadowRoot&&Tt.composed&&(xr=Tt.composedPath()[0]||xr),Pe.current.open&&E().filter(function(Vr){return Vr}).every(function(Vr){return!Vr.contains(xr)&&Vr!==xr})&&Pe.current.triggerOpen(!1)}}return window.addEventListener("mousedown",gt),function(){return window.removeEventListener("mousedown",gt)}},[])}function ve(E){return![de.Z.ESC,de.Z.SHIFT,de.Z.BACKSPACE,de.Z.TAB,de.Z.WIN_KEY,de.Z.ALT,de.Z.META,de.Z.WIN_KEY_RIGHT,de.Z.CTRL,de.Z.SEMICOLON,de.Z.EQUALS,de.Z.CAPS_LOCK,de.Z.CONTEXT_MENU,de.Z.F1,de.Z.F2,de.Z.F3,de.Z.F4,de.Z.F5,de.Z.F6,de.Z.F7,de.Z.F8,de.Z.F9,de.Z.F10,de.Z.F11,de.Z.F12].includes(E)}var oe=T(64217),pt=T(39983),Ie=function(A,Z){var G,Pe=A.prefixCls,gt=A.id,Tt=A.inputElement,Ut=A.disabled,xr=A.tabIndex,Vr=A.autoFocus,wr=A.autoComplete,ur=A.editable,en=A.activeDescendantId,zt=A.value,Zr=A.maxLength,tn=A.onKeyDown,Xt=A.onMouseDown,dn=A.onChange,Fn=A.onPaste,Dn=A.onCompositionStart,mn=A.onCompositionEnd,ri=A.open,vn=A.attrs,Bn=Tt||y.createElement("input",null),bi=Bn,Vi=bi.ref,Nr=bi.props,fi=Nr.onKeyDown,wi=Nr.onChange,xi=Nr.onMouseDown,si=Nr.onCompositionStart,Oi=Nr.onCompositionEnd,Ii=Nr.style;return(0,Ce.Kp)(!("maxLength"in Bn.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Bn=y.cloneElement(Bn,(0,w.Z)((0,w.Z)((0,w.Z)({type:"search"},Nr),{},{id:gt,ref:(0,Ve.sQ)(Z,Vi),disabled:Ut,tabIndex:xr,autoComplete:wr||"off",autoFocus:Vr,className:Ge()("".concat(Pe,"-selection-search-input"),(G=Bn)===null||G===void 0||(G=G.props)===null||G===void 0?void 0:G.className),role:"combobox","aria-expanded":ri||!1,"aria-haspopup":"listbox","aria-owns":"".concat(gt,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(gt,"_list"),"aria-activedescendant":ri?en:void 0},vn),{},{value:ur?zt:"",maxLength:Zr,readOnly:!ur,unselectable:ur?null:"on",style:(0,w.Z)((0,w.Z)({},Ii),{},{opacity:ur?null:0}),onKeyDown:function(on){tn(on),fi&&fi(on)},onMouseDown:function(on){Xt(on),xi&&xi(on)},onChange:function(on){dn(on),wi&&wi(on)},onCompositionStart:function(on){Dn(on),si&&si(on)},onCompositionEnd:function(on){mn(on),Oi&&Oi(on)},onPaste:Fn})),Bn},Lt=y.forwardRef(Ie),Ft=Lt;function Ye(E){return Array.isArray(E)?E:E!==void 0?[E]:[]}var _e=typeof window!="undefined"&&window.document&&window.document.documentElement,q=_e;function fe(E){return E!=null}function Se(E){return!E&&E!==0}function We(E){return["string","number"].includes((0,X.Z)(E))}function ft(E){var A=void 0;return E&&(We(E.title)?A=E.title.toString():We(E.label)&&(A=E.label.toString())),A}function bt(E,A){q?y.useLayoutEffect(E,A):y.useEffect(E,A)}function Fe(E){var A;return(A=E.key)!==null&&A!==void 0?A:E.value}var Le=function(A){A.preventDefault(),A.stopPropagation()},Ze=function(A){var Z=A.id,G=A.prefixCls,Pe=A.values,gt=A.open,Tt=A.searchValue,Ut=A.autoClearSearchValue,xr=A.inputRef,Vr=A.placeholder,wr=A.disabled,ur=A.mode,en=A.showSearch,zt=A.autoFocus,Zr=A.autoComplete,tn=A.activeDescendantId,Xt=A.tabIndex,dn=A.removeIcon,Fn=A.maxTagCount,Dn=A.maxTagTextLength,mn=A.maxTagPlaceholder,ri=mn===void 0?function(zn){return"+ ".concat(zn.length," ...")}:mn,vn=A.tagRender,Bn=A.onToggleOpen,bi=A.onRemove,Vi=A.onInputChange,Nr=A.onInputPaste,fi=A.onInputKeyDown,wi=A.onInputMouseDown,xi=A.onInputCompositionStart,si=A.onInputCompositionEnd,Oi=y.useRef(null),Ii=(0,y.useState)(0),ei=(0,ie.Z)(Ii,2),on=ei[0],ni=ei[1],li=(0,y.useState)(!1),ha=(0,ie.Z)(li,2),Xn=ha[0],$i=ha[1],Yi="".concat(G,"-selection"),Gi=gt||ur==="multiple"&&Ut===!1||ur==="tags"?Tt:"",ho=ur==="tags"||ur==="multiple"&&Ut===!1||en&&(gt||Xn);bt(function(){ni(Oi.current.scrollWidth)},[Gi]);var _i=function(Hr,Gn,Cn,ji,cn){return y.createElement("span",{title:ft(Hr),className:Ge()("".concat(Yi,"-item"),(0,ee.Z)({},"".concat(Yi,"-item-disabled"),Cn))},y.createElement("span",{className:"".concat(Yi,"-item-content")},Gn),ji&&y.createElement(tt,{className:"".concat(Yi,"-item-remove"),onMouseDown:Le,onClick:cn,customizeIcon:dn},"\xD7"))},Wa=function(Hr,Gn,Cn,ji,cn,Wn){var wa=function(Kn){Le(Kn),Bn(!gt)};return y.createElement("span",{onMouseDown:wa},vn({label:Gn,value:Hr,disabled:Cn,closable:ji,onClose:cn,isMaxTag:!!Wn}))},Bi=function(Hr){var Gn=Hr.disabled,Cn=Hr.label,ji=Hr.value,cn=!wr&&!Gn,Wn=Cn;if(typeof Dn=="number"&&(typeof Cn=="string"||typeof Cn=="number")){var wa=String(Wn);wa.length>Dn&&(Wn="".concat(wa.slice(0,Dn),"..."))}var pa=function(Oa){Oa&&Oa.stopPropagation(),bi(Hr)};return typeof vn=="function"?Wa(ji,Wn,Gn,cn,pa):_i(Hr,Wn,Gn,cn,pa)},bn=function(Hr){var Gn=typeof ri=="function"?ri(Hr):ri;return typeof vn=="function"?Wa(void 0,Gn,!1,!1,void 0,!0):_i({title:Gn},Gn,!1)},$r=y.createElement("div",{className:"".concat(Yi,"-search"),style:{width:on},onFocus:function(){$i(!0)},onBlur:function(){$i(!1)}},y.createElement(Ft,{ref:xr,open:gt,prefixCls:G,id:Z,inputElement:null,disabled:wr,autoFocus:zt,autoComplete:Zr,editable:ho,activeDescendantId:tn,value:Gi,onKeyDown:fi,onMouseDown:wi,onChange:Vi,onPaste:Nr,onCompositionStart:xi,onCompositionEnd:si,tabIndex:Xt,attrs:(0,oe.Z)(A,!0)}),y.createElement("span",{ref:Oi,className:"".concat(Yi,"-search-mirror"),"aria-hidden":!0},Gi,"\xA0")),Nn=y.createElement(pt.Z,{prefixCls:"".concat(Yi,"-overflow"),data:Pe,renderItem:Bi,renderRest:bn,suffix:$r,itemKey:Fe,maxCount:Fn});return y.createElement(y.Fragment,null,Nn,!Pe.length&&!Gi&&y.createElement("span",{className:"".concat(Yi,"-placeholder")},Vr))},Jt=Ze,or=function(A){var Z=A.inputElement,G=A.prefixCls,Pe=A.id,gt=A.inputRef,Tt=A.disabled,Ut=A.autoFocus,xr=A.autoComplete,Vr=A.activeDescendantId,wr=A.mode,ur=A.open,en=A.values,zt=A.placeholder,Zr=A.tabIndex,tn=A.showSearch,Xt=A.searchValue,dn=A.activeValue,Fn=A.maxLength,Dn=A.onInputKeyDown,mn=A.onInputMouseDown,ri=A.onInputChange,vn=A.onInputPaste,Bn=A.onInputCompositionStart,bi=A.onInputCompositionEnd,Vi=A.title,Nr=y.useState(!1),fi=(0,ie.Z)(Nr,2),wi=fi[0],xi=fi[1],si=wr==="combobox",Oi=si||tn,Ii=en[0],ei=Xt||"";si&&dn&&!wi&&(ei=dn),y.useEffect(function(){si&&xi(!1)},[si,dn]);var on=wr!=="combobox"&&!ur&&!tn?!1:!!ei,ni=Vi===void 0?ft(Ii):Vi,li=y.useMemo(function(){return Ii?null:y.createElement("span",{className:"".concat(G,"-selection-placeholder"),style:on?{visibility:"hidden"}:void 0},zt)},[Ii,on,zt,G]);return y.createElement(y.Fragment,null,y.createElement("span",{className:"".concat(G,"-selection-search")},y.createElement(Ft,{ref:gt,prefixCls:G,id:Pe,open:ur,inputElement:Z,disabled:Tt,autoFocus:Ut,autoComplete:xr,editable:Oi,activeDescendantId:Vr,value:ei,onKeyDown:Dn,onMouseDown:mn,onChange:function(Xn){xi(!0),ri(Xn)},onPaste:vn,onCompositionStart:Bn,onCompositionEnd:bi,tabIndex:Zr,attrs:(0,oe.Z)(A,!0),maxLength:si?Fn:void 0})),!si&&Ii?y.createElement("span",{className:"".concat(G,"-selection-item"),title:ni,style:on?{visibility:"hidden"}:void 0},Ii.label):null,li)},vr=or,rr=function(A,Z){var G=(0,y.useRef)(null),Pe=(0,y.useRef)(!1),gt=A.prefixCls,Tt=A.open,Ut=A.mode,xr=A.showSearch,Vr=A.tokenWithEnter,wr=A.disabled,ur=A.autoClearSearchValue,en=A.onSearch,zt=A.onSearchSubmit,Zr=A.onToggleOpen,tn=A.onInputKeyDown,Xt=A.domRef;y.useImperativeHandle(Z,function(){return{focus:function(on){G.current.focus(on)},blur:function(){G.current.blur()}}});var dn=tr(0),Fn=(0,ie.Z)(dn,2),Dn=Fn[0],mn=Fn[1],ri=function(on){var ni=on.which;(ni===de.Z.UP||ni===de.Z.DOWN)&&on.preventDefault(),tn&&tn(on),ni===de.Z.ENTER&&Ut==="tags"&&!Pe.current&&!Tt&&(zt==null||zt(on.target.value)),ve(ni)&&Zr(!0)},vn=function(){mn(!0)},Bn=(0,y.useRef)(null),bi=function(on){en(on,!0,Pe.current)!==!1&&Zr(!0)},Vi=function(){Pe.current=!0},Nr=function(on){Pe.current=!1,Ut!=="combobox"&&bi(on.target.value)},fi=function(on){var ni=on.target.value;if(Vr&&Bn.current&&/[\r\n]/.test(Bn.current)){var li=Bn.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");ni=ni.replace(li,Bn.current)}Bn.current=null,bi(ni)},wi=function(on){var ni=on.clipboardData,li=ni==null?void 0:ni.getData("text");Bn.current=li||""},xi=function(on){var ni=on.target;if(ni!==G.current){var li=document.body.style.msTouchAction!==void 0;li?setTimeout(function(){G.current.focus()}):G.current.focus()}},si=function(on){var ni=Dn();on.target!==G.current&&!ni&&!(Ut==="combobox"&&wr)&&on.preventDefault(),(Ut!=="combobox"&&(!xr||!ni)||!Tt)&&(Tt&&ur!==!1&&en("",!0,!1),Zr())},Oi={inputRef:G,onInputKeyDown:ri,onInputMouseDown:vn,onInputChange:fi,onInputPaste:wi,onInputCompositionStart:Vi,onInputCompositionEnd:Nr},Ii=Ut==="multiple"||Ut==="tags"?y.createElement(Jt,(0,xe.Z)({},A,Oi)):y.createElement(vr,(0,xe.Z)({},A,Oi));return y.createElement("div",{ref:Xt,className:"".concat(gt,"-selector"),onClick:xi,onMouseDown:si},Ii)},jr=y.forwardRef(rr),qe=jr,$e=T(6997),Ct=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],gr=function(A){var Z=A===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"}}},_r=function(A,Z){var G=A.prefixCls,Pe=A.disabled,gt=A.visible,Tt=A.children,Ut=A.popupElement,xr=A.animation,Vr=A.transitionName,wr=A.dropdownStyle,ur=A.dropdownClassName,en=A.direction,zt=en===void 0?"ltr":en,Zr=A.placement,tn=A.builtinPlacements,Xt=A.dropdownMatchSelectWidth,dn=A.dropdownRender,Fn=A.dropdownAlign,Dn=A.getPopupContainer,mn=A.empty,ri=A.getTriggerDOMNode,vn=A.onPopupVisibleChange,Bn=A.onPopupMouseEnter,bi=(0,K.Z)(A,Ct),Vi="".concat(G,"-dropdown"),Nr=Ut;dn&&(Nr=dn(Ut));var fi=y.useMemo(function(){return tn||gr(Xt)},[tn,Xt]),wi=xr?"".concat(Vi,"-").concat(xr):Vr,xi=typeof Xt=="number",si=y.useMemo(function(){return xi?null:Xt===!1?"minWidth":"width"},[Xt,xi]),Oi=wr;xi&&(Oi=(0,w.Z)((0,w.Z)({},Oi),{},{width:Xt}));var Ii=y.useRef(null);return y.useImperativeHandle(Z,function(){return{getPopupElement:function(){var on;return(on=Ii.current)===null||on===void 0?void 0:on.popupElement}}}),y.createElement($e.Z,(0,xe.Z)({},bi,{showAction:vn?["click"]:[],hideAction:vn?["click"]:[],popupPlacement:Zr||(zt==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:fi,prefixCls:Vi,popupTransitionName:wi,popup:y.createElement("div",{onMouseEnter:Bn},Nr),ref:Ii,stretch:si,popupAlign:Fn,popupVisible:gt,getPopupContainer:Dn,popupClassName:Ge()(ur,(0,ee.Z)({},"".concat(Vi,"-empty"),mn)),popupStyle:Oi,getTriggerDOMNode:ri,onPopupVisibleChange:vn}),Tt)},zr=y.forwardRef(_r),xt=zr,ge=T(84506);function je(E,A){var Z=E.key,G;return"value"in E&&(G=E.value),Z!=null?Z:G!==void 0?G:"rc-index-key-".concat(A)}function ht(E){return typeof E!="undefined"&&!Number.isNaN(E)}function Mt(E,A){var Z=E||{},G=Z.label,Pe=Z.value,gt=Z.options,Tt=Z.groupLabel,Ut=G||(A?"children":"label");return{label:Ut,value:Pe||"value",options:gt||"options",groupLabel:Tt||Ut}}function nt(E){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=A.fieldNames,G=A.childrenAsData,Pe=[],gt=Mt(Z,!1),Tt=gt.label,Ut=gt.value,xr=gt.options,Vr=gt.groupLabel;function wr(ur,en){Array.isArray(ur)&&ur.forEach(function(zt){if(en||!(xr in zt)){var Zr=zt[Ut];Pe.push({key:je(zt,Pe.length),groupOption:en,data:zt,label:zt[Tt],value:Zr})}else{var tn=zt[Vr];tn===void 0&&G&&(tn=zt.label),Pe.push({key:je(zt,Pe.length),group:!0,data:zt,label:tn}),wr(zt[xr],!0)}})}return wr(E,!1),Pe}function ne(E){var A=(0,w.Z)({},E);return"props"in A||Object.defineProperty(A,"props",{get:function(){return(0,Ce.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),A}}),A}var ue=function(A,Z,G){if(!Z||!Z.length)return null;var Pe=!1,gt=function Ut(xr,Vr){var wr=(0,ge.Z)(Vr),ur=wr[0],en=wr.slice(1);if(!ur)return[xr];var zt=xr.split(ur);return Pe=Pe||zt.length>1,zt.reduce(function(Zr,tn){return[].concat((0,re.Z)(Zr),(0,re.Z)(Ut(tn,en)))},[]).filter(Boolean)},Tt=gt(A,Z);return Pe?typeof G!="undefined"?Tt.slice(0,G):Tt:null},J=y.createContext(null),Re=J;function Ae(E){var A=E.visible,Z=E.values;if(!A)return null;var G=50;return y.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(Z.slice(0,G).map(function(Pe){var gt=Pe.label,Tt=Pe.value;return["number","string"].includes((0,X.Z)(gt))?gt:Tt}).join(", ")),Z.length>G?", ...":null)}var Rt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Ht=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Vt=function(A){return A==="tags"||A==="multiple"},Bt=y.forwardRef(function(E,A){var Z,G=E.id,Pe=E.prefixCls,gt=E.className,Tt=E.showSearch,Ut=E.tagRender,xr=E.direction,Vr=E.omitDomProps,wr=E.displayValues,ur=E.onDisplayValuesChange,en=E.emptyOptions,zt=E.notFoundContent,Zr=zt===void 0?"Not Found":zt,tn=E.onClear,Xt=E.mode,dn=E.disabled,Fn=E.loading,Dn=E.getInputElement,mn=E.getRawInputElement,ri=E.open,vn=E.defaultOpen,Bn=E.onDropdownVisibleChange,bi=E.activeValue,Vi=E.onActiveValueChange,Nr=E.activeDescendantId,fi=E.searchValue,wi=E.autoClearSearchValue,xi=E.onSearch,si=E.onSearchSplit,Oi=E.tokenSeparators,Ii=E.allowClear,ei=E.suffixIcon,on=E.clearIcon,ni=E.OptionList,li=E.animation,ha=E.transitionName,Xn=E.dropdownStyle,$i=E.dropdownClassName,Yi=E.dropdownMatchSelectWidth,Gi=E.dropdownRender,ho=E.dropdownAlign,_i=E.placement,Wa=E.builtinPlacements,Bi=E.getPopupContainer,bn=E.showAction,$r=bn===void 0?[]:bn,Nn=E.onFocus,zn=E.onBlur,Hr=E.onKeyUp,Gn=E.onKeyDown,Cn=E.onMouseDown,ji=(0,K.Z)(E,Rt),cn=Vt(Xt),Wn=(Tt!==void 0?Tt:cn)||Xt==="combobox",wa=(0,w.Z)({},ji);Ht.forEach(function(On){delete wa[On]}),Vr==null||Vr.forEach(function(On){delete wa[On]});var pa=y.useState(!1),Kn=(0,ie.Z)(pa,2),Oa=Kn[0],ia=Kn[1];y.useEffect(function(){ia((0,rt.Z)())},[]);var mo=y.useRef(null),Ua=y.useRef(null),Mi=y.useRef(null),ga=y.useRef(null),Ma=y.useRef(null),Aa=y.useRef(!1),Ci=It(),Li=(0,ie.Z)(Ci,3),ya=Li[0],da=Li[1],no=Li[2];y.useImperativeHandle(A,function(){var On,Un;return{focus:(On=ga.current)===null||On===void 0?void 0:On.focus,blur:(Un=ga.current)===null||Un===void 0?void 0:Un.blur,scrollTo:function(Di){var ta;return(ta=Ma.current)===null||ta===void 0?void 0:ta.scrollTo(Di)},nativeElement:mo.current||Ua.current}});var aa=y.useMemo(function(){var On;if(Xt!=="combobox")return fi;var Un=(On=wr[0])===null||On===void 0?void 0:On.value;return typeof Un=="string"||typeof Un=="number"?String(Un):""},[fi,Xt,wr]),vo=Xt==="combobox"&&typeof Dn=="function"&&Dn()||null,ba=typeof mn=="function"&&mn(),Zs=(0,Ve.x1)(Ua,ba==null||(Z=ba.props)===null||Z===void 0?void 0:Z.ref),Os=y.useState(!1),ds=(0,ie.Z)(Os,2),Qo=ds[0],ms=ds[1];(0,St.Z)(function(){ms(!0)},[]);var vs=(0,he.Z)(!1,{defaultValue:vn,value:ri}),Jo=(0,ie.Z)(vs,2),Ms=Jo[0],So=Jo[1],ea=Qo?Ms:!1,Xs=!Zr&&en;(dn||Xs&&ea&&Xt==="combobox")&&(ea=!1);var Bo=Xs?!1:ea,Yr=y.useCallback(function(On){var Un=On!==void 0?On:!ea;dn||(So(Un),ea!==Un&&(Bn==null||Bn(Un)))},[dn,ea,So,Bn]),wn=y.useMemo(function(){return(Oi||[]).some(function(On){return[`
`,`\r
`].includes(On)})},[Oi]),pn=y.useContext(Re)||{},Pn=pn.maxCount,Ei=pn.rawValues,Fi=function(Un,Da,Di){if(!(cn&&ht(Pn)&&(Ei==null?void 0:Ei.size)>=Pn)){var ta=!0,oa=Un;Vi==null||Vi(null);var ii=ue(Un,Oi,ht(Pn)?Pn-Ei.size:void 0),Ia=Di?null:ii;return Xt!=="combobox"&&Ia&&(oa="",si==null||si(Ia),Yr(!1),ta=!1),xi&&aa!==oa&&xi(oa,{source:Da?"typing":"effect"}),ta}},io=function(Un){!Un||!Un.trim()||xi(Un,{source:"submit"})};y.useEffect(function(){!ea&&!cn&&Xt!=="combobox"&&Fi("",!1,!1)},[ea]),y.useEffect(function(){Ms&&dn&&So(!1),dn&&!Aa.current&&da(!1)},[dn]);var ao=tr(),wo=(0,ie.Z)(ao,2),ma=wo[0],Oo=wo[1],oo=function(Un){var Da=ma(),Di=Un.which;if(Di===de.Z.ENTER&&(Xt!=="combobox"&&Un.preventDefault(),ea||Yr(!0)),Oo(!!aa),Di===de.Z.BACKSPACE&&!Da&&cn&&!aa&&wr.length){for(var ta=(0,re.Z)(wr),oa=null,ii=ta.length-1;ii>=0;ii-=1){var Ia=ta[ii];if(!Ia.disabled){ta.splice(ii,1),oa=Ia;break}}oa&&ur(ta,{type:"remove",values:[oa]})}for(var Ao=arguments.length,go=new Array(Ao>1?Ao-1:0),ka=1;ka<Ao;ka++)go[ka-1]=arguments[ka];if(ea){var Ps;(Ps=Ma.current)===null||Ps===void 0||Ps.onKeyDown.apply(Ps,[Un].concat(go))}Gn==null||Gn.apply(void 0,[Un].concat(go))},qo=function(Un){for(var Da=arguments.length,Di=new Array(Da>1?Da-1:0),ta=1;ta<Da;ta++)Di[ta-1]=arguments[ta];if(ea){var oa;(oa=Ma.current)===null||oa===void 0||oa.onKeyUp.apply(oa,[Un].concat(Di))}Hr==null||Hr.apply(void 0,[Un].concat(Di))},Mo=function(Un){var Da=wr.filter(function(Di){return Di!==Un});ur(Da,{type:"remove",values:[Un]})},zo=y.useRef(!1),po=function(){da(!0),dn||(Nn&&!zo.current&&Nn.apply(void 0,arguments),$r.includes("focus")&&Yr(!0)),zo.current=!0},vl=function(){Aa.current=!0,da(!1,function(){zo.current=!1,Aa.current=!1,Yr(!1)}),!dn&&(aa&&(Xt==="tags"?xi(aa,{source:"submit"}):Xt==="multiple"&&xi("",{source:"blur"})),zn&&zn.apply(void 0,arguments))},es=[];y.useEffect(function(){return function(){es.forEach(function(On){return clearTimeout(On)}),es.splice(0,es.length)}},[]);var ps=function(Un){var Da,Di=Un.target,ta=(Da=Mi.current)===null||Da===void 0?void 0:Da.getPopupElement();if(ta&&ta.contains(Di)){var oa=setTimeout(function(){var go=es.indexOf(oa);if(go!==-1&&es.splice(go,1),no(),!Oa&&!ta.contains(document.activeElement)){var ka;(ka=ga.current)===null||ka===void 0||ka.focus()}});es.push(oa)}for(var ii=arguments.length,Ia=new Array(ii>1?ii-1:0),Ao=1;Ao<ii;Ao++)Ia[Ao-1]=arguments[Ao];Cn==null||Cn.apply(void 0,[Un].concat(Ia))},ts=y.useState({}),gs=(0,ie.Z)(ts,2),ys=gs[1];function bs(){ys({})}var xs;ba&&(xs=function(Un){Yr(Un)}),dt(function(){var On;return[mo.current,(On=Mi.current)===null||On===void 0?void 0:On.getPopupElement()]},Bo,Yr,!!ba);var As=y.useMemo(function(){return(0,w.Z)((0,w.Z)({},E),{},{notFoundContent:Zr,open:ea,triggerOpen:Bo,id:G,showSearch:Wn,multiple:cn,toggleOpen:Yr})},[E,Zr,Bo,ea,G,Wn,cn,Yr]),rs=!!ei||Fn,Is;rs&&(Is=y.createElement(tt,{className:Ge()("".concat(Pe,"-arrow"),(0,ee.Z)({},"".concat(Pe,"-arrow-loading"),Fn)),customizeIcon:ei,customizeIconProps:{loading:Fn,searchValue:aa,open:ea,focused:ya,showSearch:Wn}}));var Ys=function(){var Un;tn==null||tn(),(Un=ga.current)===null||Un===void 0||Un.focus(),ur([],{type:"clear",values:wr}),Fi("",!1,!1)},$l=et(Pe,Ys,wr,Ii,on,dn,aa,Xt),Ks=$l.allowClear,pl=$l.clearIcon,Uo=y.createElement(ni,{ref:Ma}),Qs=Ge()(Pe,gt,(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)({},"".concat(Pe,"-focused"),ya),"".concat(Pe,"-multiple"),cn),"".concat(Pe,"-single"),!cn),"".concat(Pe,"-allow-clear"),Ii),"".concat(Pe,"-show-arrow"),rs),"".concat(Pe,"-disabled"),dn),"".concat(Pe,"-loading"),Fn),"".concat(Pe,"-open"),ea),"".concat(Pe,"-customize-input"),vo),"".concat(Pe,"-show-search"),Wn)),gl=y.createElement(xt,{ref:Mi,disabled:dn,prefixCls:Pe,visible:Bo,popupElement:Uo,animation:li,transitionName:ha,dropdownStyle:Xn,dropdownClassName:$i,direction:xr,dropdownMatchSelectWidth:Yi,dropdownRender:Gi,dropdownAlign:ho,placement:_i,builtinPlacements:Wa,getPopupContainer:Bi,empty:en,getTriggerDOMNode:function(Un){return Ua.current||Un},onPopupVisibleChange:xs,onPopupMouseEnter:bs},ba?y.cloneElement(ba,{ref:Zs}):y.createElement(qe,(0,xe.Z)({},E,{domRef:Ua,prefixCls:Pe,inputElement:vo,ref:ga,id:G,showSearch:Wn,autoClearSearchValue:wi,mode:Xt,activeDescendantId:Nr,tagRender:Ut,values:wr,open:ea,onToggleOpen:Yr,activeValue:bi,searchValue:aa,onSearch:Fi,onSearchSubmit:io,onRemove:Mo,tokenWithEnter:wn}))),Js;return ba?Js=gl:Js=y.createElement("div",(0,xe.Z)({className:Qs},wa,{ref:mo,onMouseDown:ps,onKeyDown:oo,onKeyUp:qo,onFocus:po,onBlur:vl}),y.createElement(Ae,{visible:ya&&!ea,values:wr}),gl,Is,Ks&&pl),y.createElement(Xe.Provider,{value:As},Js)}),wt=Bt,pr=function(){return null};pr.isSelectOptGroup=!0;var Et=pr,be=function(){return null};be.isSelectOption=!0;var jt=be,Yt=T(56982),sr=T(98423),lr=T(87718);function nr(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var sn=["disabled","title","children","style","className"];function Br(E){return typeof E=="string"||typeof E=="number"}var hn=function(A,Z){var G=ze(),Pe=G.prefixCls,gt=G.id,Tt=G.open,Ut=G.multiple,xr=G.mode,Vr=G.searchValue,wr=G.toggleOpen,ur=G.notFoundContent,en=G.onPopupScroll,zt=y.useContext(Re),Zr=zt.maxCount,tn=zt.flattenOptions,Xt=zt.onActiveValue,dn=zt.defaultActiveFirstOption,Fn=zt.onSelect,Dn=zt.menuItemSelectedIcon,mn=zt.rawValues,ri=zt.fieldNames,vn=zt.virtual,Bn=zt.direction,bi=zt.listHeight,Vi=zt.listItemHeight,Nr=zt.optionRender,fi="".concat(Pe,"-item"),wi=(0,Yt.Z)(function(){return tn},[Tt,tn],function(bn,$r){return $r[0]&&bn[1]!==$r[1]}),xi=y.useRef(null),si=y.useMemo(function(){return Ut&&ht(Zr)&&(mn==null?void 0:mn.size)>=Zr},[Ut,Zr,mn==null?void 0:mn.size]),Oi=function($r){$r.preventDefault()},Ii=function($r){var Nn;(Nn=xi.current)===null||Nn===void 0||Nn.scrollTo(typeof $r=="number"?{index:$r}:$r)},ei=function($r){for(var Nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,zn=wi.length,Hr=0;Hr<zn;Hr+=1){var Gn=($r+Hr*Nn+zn)%zn,Cn=wi[Gn]||{},ji=Cn.group,cn=Cn.data;if(!ji&&!(cn!=null&&cn.disabled)&&!si)return Gn}return-1},on=y.useState(function(){return ei(0)}),ni=(0,ie.Z)(on,2),li=ni[0],ha=ni[1],Xn=function($r){var Nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ha($r);var zn={source:Nn?"keyboard":"mouse"},Hr=wi[$r];if(!Hr){Xt(null,-1,zn);return}Xt(Hr.value,$r,zn)};(0,y.useEffect)(function(){Xn(dn!==!1?ei(0):-1)},[wi.length,Vr]);var $i=y.useCallback(function(bn){return mn.has(bn)&&xr!=="combobox"},[xr,(0,re.Z)(mn).toString(),mn.size]);(0,y.useEffect)(function(){var bn=setTimeout(function(){if(!Ut&&Tt&&mn.size===1){var Nn=Array.from(mn)[0],zn=wi.findIndex(function(Hr){var Gn=Hr.data;return Gn.value===Nn});zn!==-1&&(Xn(zn),Ii(zn))}});if(Tt){var $r;($r=xi.current)===null||$r===void 0||$r.scrollTo(void 0)}return function(){return clearTimeout(bn)}},[Tt,Vr]);var Yi=function($r){$r!==void 0&&Fn($r,{selected:!mn.has($r)}),Ut||wr(!1)};if(y.useImperativeHandle(Z,function(){return{onKeyDown:function($r){var Nn=$r.which,zn=$r.ctrlKey;switch(Nn){case de.Z.N:case de.Z.P:case de.Z.UP:case de.Z.DOWN:{var Hr=0;if(Nn===de.Z.UP?Hr=-1:Nn===de.Z.DOWN?Hr=1:nr()&&zn&&(Nn===de.Z.N?Hr=1:Nn===de.Z.P&&(Hr=-1)),Hr!==0){var Gn=ei(li+Hr,Hr);Ii(Gn),Xn(Gn,!0)}break}case de.Z.ENTER:{var Cn,ji=wi[li];ji&&!(ji!=null&&(Cn=ji.data)!==null&&Cn!==void 0&&Cn.disabled)&&!si?Yi(ji.value):Yi(void 0),Tt&&$r.preventDefault();break}case de.Z.ESC:wr(!1),Tt&&$r.stopPropagation()}},onKeyUp:function(){},scrollTo:function($r){Ii($r)}}}),wi.length===0)return y.createElement("div",{role:"listbox",id:"".concat(gt,"_list"),className:"".concat(fi,"-empty"),onMouseDown:Oi},ur);var Gi=Object.keys(ri).map(function(bn){return ri[bn]}),ho=function($r){return $r.label};function _i(bn,$r){var Nn=bn.group;return{role:Nn?"presentation":"option",id:"".concat(gt,"_list_").concat($r)}}var Wa=function($r){var Nn=wi[$r];if(!Nn)return null;var zn=Nn.data||{},Hr=zn.value,Gn=Nn.group,Cn=(0,oe.Z)(zn,!0),ji=ho(Nn);return Nn?y.createElement("div",(0,xe.Z)({"aria-label":typeof ji=="string"&&!Gn?ji:null},Cn,{key:$r},_i(Nn,$r),{"aria-selected":$i(Hr)}),Hr):null},Bi={role:"listbox",id:"".concat(gt,"_list")};return y.createElement(y.Fragment,null,vn&&y.createElement("div",(0,xe.Z)({},Bi,{style:{height:0,width:0,overflow:"hidden"}}),Wa(li-1),Wa(li),Wa(li+1)),y.createElement(lr.Z,{itemKey:"key",ref:xi,data:wi,height:bi,itemHeight:Vi,fullHeight:!1,onMouseDown:Oi,onScroll:en,virtual:vn,direction:Bn,innerProps:vn?null:Bi},function(bn,$r){var Nn=bn.group,zn=bn.groupOption,Hr=bn.data,Gn=bn.label,Cn=bn.value,ji=Hr.key;if(Nn){var cn,Wn=(cn=Hr.title)!==null&&cn!==void 0?cn:Br(Gn)?Gn.toString():void 0;return y.createElement("div",{className:Ge()(fi,"".concat(fi,"-group"),Hr.className),title:Wn},Gn!==void 0?Gn:ji)}var wa=Hr.disabled,pa=Hr.title,Kn=Hr.children,Oa=Hr.style,ia=Hr.className,mo=(0,K.Z)(Hr,sn),Ua=(0,sr.Z)(mo,Gi),Mi=$i(Cn),ga=wa||!Mi&&si,Ma="".concat(fi,"-option"),Aa=Ge()(fi,Ma,ia,(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)({},"".concat(Ma,"-grouped"),zn),"".concat(Ma,"-active"),li===$r&&!ga),"".concat(Ma,"-disabled"),ga),"".concat(Ma,"-selected"),Mi)),Ci=ho(bn),Li=!Dn||typeof Dn=="function"||Mi,ya=typeof Ci=="number"?Ci:Ci||Cn,da=Br(ya)?ya.toString():void 0;return pa!==void 0&&(da=pa),y.createElement("div",(0,xe.Z)({},(0,oe.Z)(Ua),vn?{}:_i(bn,$r),{"aria-selected":Mi,className:Aa,title:da,onMouseMove:function(){li===$r||ga||Xn($r)},onClick:function(){ga||Yi(Cn)},style:Oa}),y.createElement("div",{className:"".concat(Ma,"-content")},typeof Nr=="function"?Nr(bn,{index:$r}):ya),y.isValidElement(Dn)||Mi,Li&&y.createElement(tt,{className:"".concat(fi,"-option-state"),customizeIcon:Dn,customizeIconProps:{value:Cn,disabled:ga,isSelected:Mi}},Mi?"\u2713":null))}))},Ue=y.forwardRef(hn),fr=Ue,Cr=function(E,A){var Z=y.useRef({values:new Map,options:new Map}),G=y.useMemo(function(){var gt=Z.current,Tt=gt.values,Ut=gt.options,xr=E.map(function(ur){if(ur.label===void 0){var en;return(0,w.Z)((0,w.Z)({},ur),{},{label:(en=Tt.get(ur.value))===null||en===void 0?void 0:en.label})}return ur}),Vr=new Map,wr=new Map;return xr.forEach(function(ur){Vr.set(ur.value,ur),wr.set(ur.value,A.get(ur.value)||Ut.get(ur.value))}),Z.current.values=Vr,Z.current.options=wr,xr},[E,A]),Pe=y.useCallback(function(gt){return A.get(gt)||Z.current.options.get(gt)},[A]);return[G,Pe]};function Ir(E,A){return Ye(E).join("").toUpperCase().includes(A)}var Er=function(E,A,Z,G,Pe){return y.useMemo(function(){if(!Z||G===!1)return E;var gt=A.options,Tt=A.label,Ut=A.value,xr=[],Vr=typeof G=="function",wr=Z.toUpperCase(),ur=Vr?G:function(zt,Zr){return Pe?Ir(Zr[Pe],wr):Zr[gt]?Ir(Zr[Tt!=="children"?Tt:"label"],wr):Ir(Zr[Ut],wr)},en=Vr?function(zt){return ne(zt)}:function(zt){return zt};return E.forEach(function(zt){if(zt[gt]){var Zr=ur(Z,en(zt));if(Zr)xr.push(zt);else{var tn=zt[gt].filter(function(Xt){return ur(Z,en(Xt))});tn.length&&xr.push((0,w.Z)((0,w.Z)({},zt),{},(0,ee.Z)({},gt,tn)))}return}ur(Z,en(zt))&&xr.push(zt)}),xr},[E,G,Pe,Z,A])},ln=T(98924),Vn=0,hr=(0,ln.Z)();function jn(){var E;return hr?(E=Vn,Vn+=1):E="TEST_OR_SSR",E}function qr(E){var A=y.useState(),Z=(0,ie.Z)(A,2),G=Z[0],Pe=Z[1];return y.useEffect(function(){Pe("rc_select_".concat(jn()))},[]),E||G}var Zn=T(50344),Rn=["children","value"],vi=["children"];function pi(E){var A=E,Z=A.key,G=A.props,Pe=G.children,gt=G.value,Tt=(0,K.Z)(G,Rn);return(0,w.Z)({key:Z,value:gt!==void 0?gt:Z,children:Pe},Tt)}function Jn(E){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Zn.Z)(E).map(function(Z,G){if(!y.isValidElement(Z)||!Z.type)return null;var Pe=Z,gt=Pe.type.isSelectOptGroup,Tt=Pe.key,Ut=Pe.props,xr=Ut.children,Vr=(0,K.Z)(Ut,vi);return A||!gt?pi(Z):(0,w.Z)((0,w.Z)({key:"__RC_SELECT_GRP__".concat(Tt===null?G:Tt,"__"),label:Tt},Vr),{},{options:Jn(xr)})}).filter(function(Z){return Z})}var nn=function(A,Z,G,Pe,gt){return y.useMemo(function(){var Tt=A,Ut=!A;Ut&&(Tt=Jn(Z));var xr=new Map,Vr=new Map,wr=function(zt,Zr,tn){tn&&typeof tn=="string"&&zt.set(Zr[tn],Zr)},ur=function en(zt){for(var Zr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tn=0;tn<zt.length;tn+=1){var Xt=zt[tn];!Xt[G.options]||Zr?(xr.set(Xt[G.value],Xt),wr(Vr,Xt,G.label),wr(Vr,Xt,Pe),wr(Vr,Xt,gt)):en(Xt[G.options],!0)}};return ur(Tt),{options:Tt,valueOptions:xr,labelOptions:Vr}},[A,Z,G,Pe,gt])},Fr=nn;function vt(E){var A=y.useRef();A.current=E;var Z=y.useCallback(function(){return A.current.apply(A,arguments)},[]);return Z}function Qr(E){var A=E.mode,Z=E.options,G=E.children,Pe=E.backfill,gt=E.allowClear,Tt=E.placeholder,Ut=E.getInputElement,xr=E.showSearch,Vr=E.onSearch,wr=E.defaultOpen,ur=E.autoFocus,en=E.labelInValue,zt=E.value,Zr=E.inputValue,tn=E.optionLabelProp,Xt=isMultiple(A),dn=xr!==void 0?xr:Xt||A==="combobox",Fn=Z||convertChildrenToData(G);if(warning(A!=="tags"||Fn.every(function(vn){return!vn.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),A==="tags"||A==="combobox"){var Dn=Fn.some(function(vn){return vn.options?vn.options.some(function(Bn){return typeof("value"in Bn?Bn.value:Bn.key)=="number"}):typeof("value"in vn?vn.value:vn.key)=="number"});warning(!Dn,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(A!=="combobox"||!tn,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(A==="combobox"||!Pe,"`backfill` only works with `combobox` mode."),warning(A==="combobox"||!Ut,"`getInputElement` only work with `combobox` mode."),noteOnce(A!=="combobox"||!Ut||!gt||!Tt,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Vr&&!dn&&A!=="combobox"&&A!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!wr||ur,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),zt!=null){var mn=toArray(zt);warning(!en||mn.every(function(vn){return _typeof(vn)==="object"&&("key"in vn||"value"in vn)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Xt||Array.isArray(zt),"`value` should be array when `mode` is `multiple` or `tags`")}if(G){var ri=null;toNodeArray(G).some(function(vn){if(!React.isValidElement(vn)||!vn.type)return!1;var Bn=vn,bi=Bn.type;if(bi.isSelectOption)return!1;if(bi.isSelectOptGroup){var Vi=toNodeArray(vn.props.children).every(function(Nr){return!React.isValidElement(Nr)||!vn.type||Nr.type.isSelectOption?!0:(ri=Nr.type,!1)});return!Vi}return ri=bi,!0}),ri&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(ri.displayName||ri.name||ri,"`.")),warning(Zr===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Te(E,A){if(E){var Z=function G(Pe){for(var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Tt=0;Tt<Pe.length;Tt++){var Ut=Pe[Tt];if(Ut[A==null?void 0:A.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!gt&&Array.isArray(Ut[A==null?void 0:A.options])&&G(Ut[A==null?void 0:A.options],!0))break}};Z(E)}}var Ke=null,Ot=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],it=["inputValue"];function H(E){return!E||(0,X.Z)(E)!=="object"}var ye=y.forwardRef(function(E,A){var Z=E.id,G=E.mode,Pe=E.prefixCls,gt=Pe===void 0?"rc-select":Pe,Tt=E.backfill,Ut=E.fieldNames,xr=E.inputValue,Vr=E.searchValue,wr=E.onSearch,ur=E.autoClearSearchValue,en=ur===void 0?!0:ur,zt=E.onSelect,Zr=E.onDeselect,tn=E.dropdownMatchSelectWidth,Xt=tn===void 0?!0:tn,dn=E.filterOption,Fn=E.filterSort,Dn=E.optionFilterProp,mn=E.optionLabelProp,ri=E.options,vn=E.optionRender,Bn=E.children,bi=E.defaultActiveFirstOption,Vi=E.menuItemSelectedIcon,Nr=E.virtual,fi=E.direction,wi=E.listHeight,xi=wi===void 0?200:wi,si=E.listItemHeight,Oi=si===void 0?20:si,Ii=E.labelRender,ei=E.value,on=E.defaultValue,ni=E.labelInValue,li=E.onChange,ha=E.maxCount,Xn=(0,K.Z)(E,Ot),$i=qr(Z),Yi=Vt(G),Gi=!!(!ri&&Bn),ho=y.useMemo(function(){return dn===void 0&&G==="combobox"?!1:dn},[dn,G]),_i=y.useMemo(function(){return Mt(Ut,Gi)},[JSON.stringify(Ut),Gi]),Wa=(0,he.Z)("",{value:Vr!==void 0?Vr:xr,postState:function(wn){return wn||""}}),Bi=(0,ie.Z)(Wa,2),bn=Bi[0],$r=Bi[1],Nn=Fr(ri,Bn,_i,Dn,mn),zn=Nn.valueOptions,Hr=Nn.labelOptions,Gn=Nn.options,Cn=y.useCallback(function(Yr){var wn=Ye(Yr);return wn.map(function(pn){var Pn,Ei,Fi,io,ao;if(H(pn))Pn=pn;else{var wo;Fi=pn.key,Ei=pn.label,Pn=(wo=pn.value)!==null&&wo!==void 0?wo:Fi}var ma=zn.get(Pn);if(ma){var Oo;if(Ei===void 0&&(Ei=ma==null?void 0:ma[mn||_i.label]),Fi===void 0&&(Fi=(Oo=ma==null?void 0:ma.key)!==null&&Oo!==void 0?Oo:Pn),io=ma==null?void 0:ma.disabled,ao=ma==null?void 0:ma.title,0)var oo}return{label:Ei,value:Pn,key:Fi,disabled:io,title:ao}})},[_i,mn,zn]),ji=(0,he.Z)(on,{value:ei}),cn=(0,ie.Z)(ji,2),Wn=cn[0],wa=cn[1],pa=y.useMemo(function(){var Yr,wn=Yi&&Wn===null?[]:Wn,pn=Cn(wn);return G==="combobox"&&Se((Yr=pn[0])===null||Yr===void 0?void 0:Yr.value)?[]:pn},[Wn,Cn,G,Yi]),Kn=Cr(pa,zn),Oa=(0,ie.Z)(Kn,2),ia=Oa[0],mo=Oa[1],Ua=y.useMemo(function(){if(!G&&ia.length===1){var Yr=ia[0];if(Yr.value===null&&(Yr.label===null||Yr.label===void 0))return[]}return ia.map(function(wn){var pn;return(0,w.Z)((0,w.Z)({},wn),{},{label:(pn=typeof Ii=="function"?Ii(wn):wn.label)!==null&&pn!==void 0?pn:wn.value})})},[G,ia,Ii]),Mi=y.useMemo(function(){return new Set(ia.map(function(Yr){return Yr.value}))},[ia]);y.useEffect(function(){if(G==="combobox"){var Yr,wn=(Yr=ia[0])===null||Yr===void 0?void 0:Yr.value;$r(fe(wn)?String(wn):"")}},[ia]);var ga=vt(function(Yr,wn){var pn=wn!=null?wn:Yr;return(0,ee.Z)((0,ee.Z)({},_i.value,Yr),_i.label,pn)}),Ma=y.useMemo(function(){if(G!=="tags")return Gn;var Yr=(0,re.Z)(Gn),wn=function(Pn){return zn.has(Pn)};return(0,re.Z)(ia).sort(function(pn,Pn){return pn.value<Pn.value?-1:1}).forEach(function(pn){var Pn=pn.value;wn(Pn)||Yr.push(ga(Pn,pn.label))}),Yr},[ga,Gn,zn,ia,G]),Aa=Er(Ma,_i,bn,ho,Dn),Ci=y.useMemo(function(){return G!=="tags"||!bn||Aa.some(function(Yr){return Yr[Dn||"value"]===bn})||Aa.some(function(Yr){return Yr[_i.value]===bn})?Aa:[ga(bn)].concat((0,re.Z)(Aa))},[ga,Dn,G,Aa,bn,_i]),Li=y.useMemo(function(){return Fn?(0,re.Z)(Ci).sort(function(Yr,wn){return Fn(Yr,wn)}):Ci},[Ci,Fn]),ya=y.useMemo(function(){return nt(Li,{fieldNames:_i,childrenAsData:Gi})},[Li,_i,Gi]),da=function(wn){var pn=Cn(wn);if(wa(pn),li&&(pn.length!==ia.length||pn.some(function(Fi,io){var ao;return((ao=ia[io])===null||ao===void 0?void 0:ao.value)!==(Fi==null?void 0:Fi.value)}))){var Pn=ni?pn:pn.map(function(Fi){return Fi.value}),Ei=pn.map(function(Fi){return ne(mo(Fi.value))});li(Yi?Pn:Pn[0],Yi?Ei:Ei[0])}},no=y.useState(null),aa=(0,ie.Z)(no,2),vo=aa[0],ba=aa[1],Zs=y.useState(0),Os=(0,ie.Z)(Zs,2),ds=Os[0],Qo=Os[1],ms=bi!==void 0?bi:G!=="combobox",vs=y.useCallback(function(Yr,wn){var pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Pn=pn.source,Ei=Pn===void 0?"keyboard":Pn;Qo(wn),Tt&&G==="combobox"&&Yr!==null&&Ei==="keyboard"&&ba(String(Yr))},[Tt,G]),Jo=function(wn,pn,Pn){var Ei=function(){var zo,po=mo(wn);return[ni?{label:po==null?void 0:po[_i.label],value:wn,key:(zo=po==null?void 0:po.key)!==null&&zo!==void 0?zo:wn}:wn,ne(po)]};if(pn&&zt){var Fi=Ei(),io=(0,ie.Z)(Fi,2),ao=io[0],wo=io[1];zt(ao,wo)}else if(!pn&&Zr&&Pn!=="clear"){var ma=Ei(),Oo=(0,ie.Z)(ma,2),oo=Oo[0],qo=Oo[1];Zr(oo,qo)}},Ms=vt(function(Yr,wn){var pn,Pn=Yi?wn.selected:!0;Pn?pn=Yi?[].concat((0,re.Z)(ia),[Yr]):[Yr]:pn=ia.filter(function(Ei){return Ei.value!==Yr}),da(pn),Jo(Yr,Pn),G==="combobox"?ba(""):(!Vt||en)&&($r(""),ba(""))}),So=function(wn,pn){da(wn);var Pn=pn.type,Ei=pn.values;(Pn==="remove"||Pn==="clear")&&Ei.forEach(function(Fi){Jo(Fi.value,!1,Pn)})},ea=function(wn,pn){if($r(wn),ba(null),pn.source==="submit"){var Pn=(wn||"").trim();if(Pn){var Ei=Array.from(new Set([].concat((0,re.Z)(Mi),[Pn])));da(Ei),Jo(Pn,!0),$r("")}return}pn.source!=="blur"&&(G==="combobox"&&da(wn),wr==null||wr(wn))},Xs=function(wn){var pn=wn;G!=="tags"&&(pn=wn.map(function(Ei){var Fi=Hr.get(Ei);return Fi==null?void 0:Fi.value}).filter(function(Ei){return Ei!==void 0}));var Pn=Array.from(new Set([].concat((0,re.Z)(Mi),(0,re.Z)(pn))));da(Pn),Pn.forEach(function(Ei){Jo(Ei,!0)})},Bo=y.useMemo(function(){var Yr=Nr!==!1&&Xt!==!1;return(0,w.Z)((0,w.Z)({},Nn),{},{flattenOptions:ya,onActiveValue:vs,defaultActiveFirstOption:ms,onSelect:Ms,menuItemSelectedIcon:Vi,rawValues:Mi,fieldNames:_i,virtual:Yr,direction:fi,listHeight:xi,listItemHeight:Oi,childrenAsData:Gi,maxCount:ha,optionRender:vn})},[ha,Nn,ya,vs,ms,Ms,Vi,Mi,_i,Nr,Xt,fi,xi,Oi,Gi,vn]);return y.createElement(Re.Provider,{value:Bo},y.createElement(wt,(0,xe.Z)({},Xn,{id:$i,prefixCls:gt,ref:A,omitDomProps:it,mode:G,displayValues:Ua,onDisplayValuesChange:So,direction:fi,searchValue:bn,onSearch:ea,autoClearSearchValue:en,onSearchSplit:Xs,dropdownMatchSelectWidth:Xt,OptionList:fr,emptyOptions:!ya.length,activeValue:vo,activeDescendantId:"".concat($i,"_list_").concat(ds)})))}),Ne=ye;Ne.Option=jt,Ne.OptGroup=Et;var le=Ne,De=le,yt=T(87263),qt=T(33603),Pr=T(8745),$t=T(9708),ir=T(53124),Nt=T(10110),Tr=T(84780),Kt=T(25976),Mn=()=>{const[,E]=(0,Kt.ZP)(),Z=new Tr.C(E.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return y.createElement("svg",{style:Z,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(24 31.67)"},y.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),y.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),y.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),y.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),y.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),y.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),y.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},y.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),y.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},An=()=>{const[,E]=(0,Kt.ZP)(),{colorFill:A,colorFillTertiary:Z,colorFillQuaternary:G,colorBgContainer:Pe}=E,{borderColor:gt,shadowColor:Tt,contentColor:Ut}=(0,y.useMemo)(()=>({borderColor:new Tr.C(A).onBackground(Pe).toHexShortString(),shadowColor:new Tr.C(Z).onBackground(Pe).toHexShortString(),contentColor:new Tr.C(G).onBackground(Pe).toHexShortString()}),[A,Z,G,Pe]);return y.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},y.createElement("ellipse",{fill:Tt,cx:"32",cy:"33",rx:"32",ry:"7"}),y.createElement("g",{fillRule:"nonzero",stroke:gt},y.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),y.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:Ut}))))},Pt=T(2093),an=T(45503);const Dr=E=>{const{componentCls:A,margin:Z,marginXS:G,marginXL:Pe,fontSize:gt,lineHeight:Tt}=E;return{[A]:{marginInline:G,fontSize:gt,lineHeight:Tt,textAlign:"center",[`${A}-image`]:{height:E.emptyImgHeight,marginBottom:G,opacity:E.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${A}-description`]:{color:E.colorText},[`${A}-footer`]:{marginTop:Z},"&-normal":{marginBlock:Pe,color:E.colorTextDescription,[`${A}-description`]:{color:E.colorTextDescription},[`${A}-image`]:{height:E.emptyImgHeightMD}},"&-small":{marginBlock:G,color:E.colorTextDescription,[`${A}-image`]:{height:E.emptyImgHeightSM}}}}};var kr=(0,Pt.I$)("Empty",E=>{const{componentCls:A,controlHeightLG:Z,calc:G}=E,Pe=(0,an.TS)(E,{emptyImgCls:`${A}-img`,emptyImgHeight:G(Z).mul(2.5).equal(),emptyImgHeightMD:Z,emptyImgHeightSM:G(Z).mul(.875).equal()});return[Dr(Pe)]}),Xr=function(E,A){var Z={};for(var G in E)Object.prototype.hasOwnProperty.call(E,G)&&A.indexOf(G)<0&&(Z[G]=E[G]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,G=Object.getOwnPropertySymbols(E);Pe<G.length;Pe++)A.indexOf(G[Pe])<0&&Object.prototype.propertyIsEnumerable.call(E,G[Pe])&&(Z[G[Pe]]=E[G[Pe]]);return Z};const un=y.createElement(Mn,null),En=y.createElement(An,null),br=E=>{var{className:A,rootClassName:Z,prefixCls:G,image:Pe=un,description:gt,children:Tt,imageStyle:Ut,style:xr}=E,Vr=Xr(E,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:wr,direction:ur,empty:en}=y.useContext(ir.E_),zt=wr("empty",G),[Zr,tn,Xt]=kr(zt),[dn]=(0,Nt.Z)("Empty"),Fn=typeof gt!="undefined"?gt:dn==null?void 0:dn.description,Dn=typeof Fn=="string"?Fn:"empty";let mn=null;return typeof Pe=="string"?mn=y.createElement("img",{alt:Dn,src:Pe}):mn=Pe,Zr(y.createElement("div",Object.assign({className:U()(tn,Xt,zt,en==null?void 0:en.className,{[`${zt}-normal`]:Pe===En,[`${zt}-rtl`]:ur==="rtl"},A,Z),style:Object.assign(Object.assign({},en==null?void 0:en.style),xr)},Vr),y.createElement("div",{className:`${zt}-image`,style:Ut},mn),Fn&&y.createElement("div",{className:`${zt}-description`},Fn),Tt&&y.createElement("div",{className:`${zt}-footer`},Tt)))};br.PRESENTED_IMAGE_DEFAULT=un,br.PRESENTED_IMAGE_SIMPLE=En;var Jr=br,Hn=E=>{const{componentName:A}=E,{getPrefixCls:Z}=(0,y.useContext)(ir.E_),G=Z("empty");switch(A){case"Table":case"List":return y.createElement(Jr,{image:Jr.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return y.createElement(Jr,{image:Jr.PRESENTED_IMAGE_SIMPLE,className:`${G}-small`});default:return y.createElement(Jr,null)}},lt=T(98866),Rr=T(35792),na=T(98675),Ti=T(78347),Si=T(27833),In=T(4173);const Hi=E=>{const Z={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:E==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},Z),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},Z),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},Z),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},Z),{points:["br","tr"],offset:[0,-4]})}};function Ta(E,A){return E||Hi(A)}var Zi=Ta,gi=T(14747),ai=T(80110),fa=T(67771),Va=T(33297);const Ba=E=>{const{optionHeight:A,optionFontSize:Z,optionLineHeight:G,optionPadding:Pe}=E;return{position:"relative",display:"block",minHeight:A,padding:Pe,color:E.colorText,fontWeight:"normal",fontSize:Z,lineHeight:G,boxSizing:"border-box"}};var co=E=>{const{antCls:A,componentCls:Z}=E,G=`${Z}-item`,Pe=`&${A}-slide-up-enter${A}-slide-up-enter-active`,gt=`&${A}-slide-up-appear${A}-slide-up-appear-active`,Tt=`&${A}-slide-up-leave${A}-slide-up-leave-active`,Ut=`${Z}-dropdown-placement-`;return[{[`${Z}-dropdown`]:Object.assign(Object.assign({},(0,gi.Wf)(E)),{position:"absolute",top:-9999,zIndex:E.zIndexPopup,boxSizing:"border-box",padding:E.paddingXXS,overflow:"hidden",fontSize:E.fontSize,fontVariant:"initial",backgroundColor:E.colorBgElevated,borderRadius:E.borderRadiusLG,outline:"none",boxShadow:E.boxShadowSecondary,[`
          ${Pe}${Ut}bottomLeft,
          ${gt}${Ut}bottomLeft
        `]:{animationName:fa.fJ},[`
          ${Pe}${Ut}topLeft,
          ${gt}${Ut}topLeft,
          ${Pe}${Ut}topRight,
          ${gt}${Ut}topRight
        `]:{animationName:fa.Qt},[`${Tt}${Ut}bottomLeft`]:{animationName:fa.Uw},[`
          ${Tt}${Ut}topLeft,
          ${Tt}${Ut}topRight
        `]:{animationName:fa.ly},"&-hidden":{display:"none"},[`${G}`]:Object.assign(Object.assign({},Ba(E)),{cursor:"pointer",transition:`background ${E.motionDurationSlow} ease`,borderRadius:E.borderRadiusSM,"&-group":{color:E.colorTextDescription,fontSize:E.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},gi.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${G}-option-disabled)`]:{backgroundColor:E.optionActiveBg},[`&-selected:not(${G}-option-disabled)`]:{color:E.optionSelectedColor,fontWeight:E.optionSelectedFontWeight,backgroundColor:E.optionSelectedBg,[`${G}-option-state`]:{color:E.colorPrimary},[`&:has(+ ${G}-option-selected:not(${G}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${G}-option-selected:not(${G}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${G}-option-selected`]:{backgroundColor:E.colorBgContainerDisabled},color:E.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:E.calc(E.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Ba(E)),{color:E.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},(0,fa.oN)(E,"slide-up"),(0,fa.oN)(E,"slide-down"),(0,Va.Fm)(E,"move-up"),(0,Va.Fm)(E,"move-down")]},Ai=T(54548);const Ka=E=>{const{multipleSelectItemHeight:A,paddingXXS:Z,lineWidth:G,INTERNAL_FIXED_ITEM_MARGIN:Pe}=E,gt=E.max(E.calc(Z).sub(G).equal(),0),Tt=E.max(E.calc(gt).sub(Pe).equal(),0);return{basePadding:gt,containerPadding:Tt,itemHeight:(0,Ai.unit)(A),itemLineHeight:(0,Ai.unit)(E.calc(A).sub(E.calc(E.lineWidth).mul(2)).equal())}},qa=E=>{const{multipleSelectItemHeight:A,selectHeight:Z,lineWidth:G}=E;return E.calc(Z).sub(A).div(2).sub(G).equal()},oi=E=>{const{componentCls:A,iconCls:Z,borderRadiusSM:G,motionDurationSlow:Pe,paddingXS:gt,multipleItemColorDisabled:Tt,multipleItemBorderColorDisabled:Ut,colorIcon:xr,colorIconHover:Vr,INTERNAL_FIXED_ITEM_MARGIN:wr}=E;return{[`${A}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${A}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:wr,borderRadius:G,cursor:"default",transition:`font-size ${Pe}, line-height ${Pe}, height ${Pe}`,marginInlineEnd:E.calc(wr).mul(2).equal(),paddingInlineStart:gt,paddingInlineEnd:E.calc(gt).div(2).equal(),[`${A}-disabled&`]:{color:Tt,borderColor:Ut,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:E.calc(gt).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,gi.Ro)()),{display:"inline-flex",alignItems:"center",color:xr,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Z}`]:{verticalAlign:"-0.2em"},"&:hover":{color:Vr}})}}}},_n=(E,A)=>{const{componentCls:Z,INTERNAL_FIXED_ITEM_MARGIN:G}=E,Pe=`${Z}-selection-overflow`,gt=E.multipleSelectItemHeight,Tt=qa(E),Ut=A?`${Z}-${A}`:"",xr=Ka(E);return{[`${Z}-multiple${Ut}`]:Object.assign(Object.assign({},oi(E)),{[`${Z}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:xr.basePadding,paddingBlock:xr.containerPadding,borderRadius:E.borderRadius,[`${Z}-disabled&`]:{background:E.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,Ai.unit)(G)} 0`,lineHeight:(0,Ai.unit)(gt),visibility:"hidden",content:'"\\a0"'}},[`${Z}-selection-item`]:{height:xr.itemHeight,lineHeight:(0,Ai.unit)(xr.itemLineHeight)},[`${Pe}-item + ${Pe}-item`]:{[`${Z}-selection-search`]:{marginInlineStart:0}},[`${Pe}-item-suffix`]:{height:"100%"},[`${Z}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:E.calc(E.inputPaddingHorizontalBase).sub(Tt).equal(),"\n          &-input,\n          &-mirror\n        ":{height:gt,fontFamily:E.fontFamily,lineHeight:(0,Ai.unit)(gt),transition:`all ${E.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Z}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:E.inputPaddingHorizontalBase,insetInlineEnd:E.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${E.motionDurationSlow}`}})}};function we(E,A){const{componentCls:Z}=E,G=A?`${Z}-${A}`:"",Pe={[`${Z}-multiple${G}`]:{fontSize:E.fontSize,[`${Z}-selector`]:{[`${Z}-show-search&`]:{cursor:"text"}},[`
        &${Z}-show-arrow ${Z}-selector,
        &${Z}-allow-clear ${Z}-selector
      `]:{paddingInlineEnd:E.calc(E.fontSizeIcon).add(E.controlPaddingHorizontal).equal()}}};return[_n(E,A),Pe]}var Xi=E=>{const{componentCls:A}=E,Z=(0,an.TS)(E,{selectHeight:E.controlHeightSM,multipleSelectItemHeight:E.multipleItemHeightSM,borderRadius:E.borderRadiusSM,borderRadiusSM:E.borderRadiusXS}),G=(0,an.TS)(E,{fontSize:E.fontSizeLG,selectHeight:E.controlHeightLG,multipleSelectItemHeight:E.multipleItemHeightLG,borderRadius:E.borderRadiusLG,borderRadiusSM:E.borderRadius});return[we(E),we(Z,"sm"),{[`${A}-multiple${A}-sm`]:{[`${A}-selection-placeholder`]:{insetInline:E.calc(E.controlPaddingHorizontalSM).sub(E.lineWidth).equal()},[`${A}-selection-search`]:{marginInlineStart:2}}},we(G,"lg")]};function V(E,A){const{componentCls:Z,inputPaddingHorizontalBase:G,borderRadius:Pe}=E,gt=E.calc(E.controlHeight).sub(E.calc(E.lineWidth).mul(2)).equal(),Tt=A?`${Z}-${A}`:"";return{[`${Z}-single${Tt}`]:{fontSize:E.fontSize,height:E.controlHeight,[`${Z}-selector`]:Object.assign(Object.assign({},(0,gi.Wf)(E,!0)),{display:"flex",borderRadius:Pe,[`${Z}-selection-search`]:{position:"absolute",top:0,insetInlineStart:G,insetInlineEnd:G,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${Z}-selection-item,
          ${Z}-selection-placeholder
        `]:{padding:0,lineHeight:(0,Ai.unit)(gt),transition:`all ${E.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${Z}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${Z}-selection-item:empty:after`,`${Z}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${Z}-show-arrow ${Z}-selection-item,
        &${Z}-show-arrow ${Z}-selection-placeholder
      `]:{paddingInlineEnd:E.showArrowPaddingInlineEnd},[`&${Z}-open ${Z}-selection-item`]:{color:E.colorTextPlaceholder},[`&:not(${Z}-customize-input)`]:{[`${Z}-selector`]:{width:"100%",height:"100%",padding:`0 ${(0,Ai.unit)(G)}`,[`${Z}-selection-search-input`]:{height:gt},"&:after":{lineHeight:(0,Ai.unit)(gt)}}},[`&${Z}-customize-input`]:{[`${Z}-selector`]:{"&:after":{display:"none"},[`${Z}-selection-search`]:{position:"static",width:"100%"},[`${Z}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,Ai.unit)(G)}`,"&:after":{display:"none"}}}}}}}function Ee(E){const{componentCls:A}=E,Z=E.calc(E.controlPaddingHorizontalSM).sub(E.lineWidth).equal();return[V(E),V((0,an.TS)(E,{controlHeight:E.controlHeightSM,borderRadius:E.borderRadiusSM}),"sm"),{[`${A}-single${A}-sm`]:{[`&:not(${A}-customize-input)`]:{[`${A}-selection-search`]:{insetInlineStart:Z,insetInlineEnd:Z},[`${A}-selector`]:{padding:`0 ${(0,Ai.unit)(Z)}`},[`&${A}-show-arrow ${A}-selection-search`]:{insetInlineEnd:E.calc(Z).add(E.calc(E.fontSize).mul(1.5)).equal()},[`
            &${A}-show-arrow ${A}-selection-item,
            &${A}-show-arrow ${A}-selection-placeholder
          `]:{paddingInlineEnd:E.calc(E.fontSize).mul(1.5).equal()}}}},V((0,an.TS)(E,{controlHeight:E.singleItemHeightLG,fontSize:E.fontSizeLG,borderRadius:E.borderRadiusLG}),"lg")]}const He=E=>{const{fontSize:A,lineHeight:Z,lineWidth:G,controlHeight:Pe,controlHeightSM:gt,controlHeightLG:Tt,paddingXXS:Ut,controlPaddingHorizontal:xr,zIndexPopupBase:Vr,colorText:wr,fontWeightStrong:ur,controlItemBgActive:en,controlItemBgHover:zt,colorBgContainer:Zr,colorFillSecondary:tn,colorBgContainerDisabled:Xt,colorTextDisabled:dn}=E,Fn=Ut*2,Dn=G*2,mn=Math.min(Pe-Fn,Pe-Dn),ri=Math.min(gt-Fn,gt-Dn),vn=Math.min(Tt-Fn,Tt-Dn);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(Ut/2),zIndexPopup:Vr+50,optionSelectedColor:wr,optionSelectedFontWeight:ur,optionSelectedBg:en,optionActiveBg:zt,optionPadding:`${(Pe-A*Z)/2}px ${xr}px`,optionFontSize:A,optionLineHeight:Z,optionHeight:Pe,selectorBg:Zr,clearBg:Zr,singleItemHeightLG:Tt,multipleItemBg:tn,multipleItemBorderColor:"transparent",multipleItemHeight:mn,multipleItemHeightSM:ri,multipleItemHeightLG:vn,multipleSelectorBgDisabled:Xt,multipleItemColorDisabled:dn,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(E.fontSize*1.25)}},_t=(E,A)=>{const{componentCls:Z,antCls:G,controlOutlineWidth:Pe}=E;return{[`&:not(${Z}-customize-input) ${Z}-selector`]:{border:`${(0,Ai.unit)(E.lineWidth)} ${E.lineType} ${A.borderColor}`,background:E.selectorBg},[`&:not(${Z}-disabled):not(${Z}-customize-input):not(${G}-pagination-size-changer)`]:{[`&:hover ${Z}-selector`]:{borderColor:A.hoverBorderHover},[`${Z}-focused& ${Z}-selector`]:{borderColor:A.activeBorderColor,boxShadow:`0 0 0 ${(0,Ai.unit)(Pe)} ${A.activeShadowColor}`,outline:0}}}},Or=(E,A)=>({[`&${E.componentCls}-status-${A.status}`]:Object.assign({},_t(E,A))}),yi=E=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},_t(E,{borderColor:E.colorBorder,hoverBorderHover:E.colorPrimaryHover,activeBorderColor:E.colorPrimary,activeShadowColor:E.controlOutline})),Or(E,{status:"error",borderColor:E.colorError,hoverBorderHover:E.colorErrorHover,activeBorderColor:E.colorError,activeShadowColor:E.colorErrorOutline})),Or(E,{status:"warning",borderColor:E.colorWarning,hoverBorderHover:E.colorWarningHover,activeBorderColor:E.colorWarning,activeShadowColor:E.colorWarningOutline})),{[`&${E.componentCls}-disabled`]:{[`&:not(${E.componentCls}-customize-input) ${E.componentCls}-selector`]:{background:E.colorBgContainerDisabled,color:E.colorTextDisabled}},[`&${E.componentCls}-multiple ${E.componentCls}-selection-item`]:{background:E.multipleItemBg,border:`${(0,Ai.unit)(E.lineWidth)} ${E.lineType} ${E.multipleItemBorderColor}`}})}),qi=(E,A)=>{const{componentCls:Z,antCls:G}=E;return{[`&:not(${Z}-customize-input) ${Z}-selector`]:{background:A.bg,border:`${(0,Ai.unit)(E.lineWidth)} ${E.lineType} transparent`,color:A.color},[`&:not(${Z}-disabled):not(${Z}-customize-input):not(${G}-pagination-size-changer)`]:{[`&:hover ${Z}-selector`]:{background:A.hoverBg},[`${Z}-focused& ${Z}-selector`]:{background:E.selectorBg,borderColor:A.activeBorderColor,outline:0}}}},ke=(E,A)=>({[`&${E.componentCls}-status-${A.status}`]:Object.assign({},qi(E,A))}),La=E=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},qi(E,{bg:E.colorFillTertiary,hoverBg:E.colorFillSecondary,activeBorderColor:E.colorPrimary,color:E.colorText})),ke(E,{status:"error",bg:E.colorErrorBg,hoverBg:E.colorErrorBgHover,activeBorderColor:E.colorError,color:E.colorError})),ke(E,{status:"warning",bg:E.colorWarningBg,hoverBg:E.colorWarningBgHover,activeBorderColor:E.colorWarning,color:E.colorWarning})),{[`&${E.componentCls}-disabled`]:{[`&:not(${E.componentCls}-customize-input) ${E.componentCls}-selector`]:{borderColor:E.colorBorder,background:E.colorBgContainerDisabled,color:E.colorTextDisabled}},[`&${E.componentCls}-multiple ${E.componentCls}-selection-item`]:{background:E.colorBgContainer,border:`${(0,Ai.unit)(E.lineWidth)} ${E.lineType} ${E.colorSplit}`}})}),qn=E=>({"&-borderless":{[`${E.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${E.componentCls}-disabled`]:{[`&:not(${E.componentCls}-customize-input) ${E.componentCls}-selector`]:{color:E.colorTextDisabled}},[`&${E.componentCls}-multiple ${E.componentCls}-selection-item`]:{background:E.multipleItemBg,border:`${(0,Ai.unit)(E.lineWidth)} ${E.lineType} ${E.multipleItemBorderColor}`}}});var ro=E=>({[E.componentCls]:Object.assign(Object.assign(Object.assign({},yi(E)),La(E)),qn(E))});const No=E=>{const{componentCls:A}=E;return{position:"relative",transition:`all ${E.motionDurationMid} ${E.motionEaseInOut}`,input:{cursor:"pointer"},[`${A}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${A}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Vo=E=>{const{componentCls:A}=E;return{[`${A}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Co=E=>{const{antCls:A,componentCls:Z,inputPaddingHorizontalBase:G,iconCls:Pe}=E;return{[Z]:Object.assign(Object.assign({},(0,gi.Wf)(E)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${Z}-customize-input) ${Z}-selector`]:Object.assign(Object.assign({},No(E)),Vo(E)),[`${Z}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},gi.vS),{[`> ${A}-typography`]:{display:"inline"}}),[`${Z}-selection-placeholder`]:Object.assign(Object.assign({},gi.vS),{flex:1,color:E.colorTextPlaceholder,pointerEvents:"none"}),[`${Z}-arrow`]:Object.assign(Object.assign({},(0,gi.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:G,height:E.fontSizeIcon,marginTop:E.calc(E.fontSizeIcon).mul(-1).div(2).equal(),color:E.colorTextQuaternary,fontSize:E.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${E.motionDurationSlow} ease`,[Pe]:{verticalAlign:"top",transition:`transform ${E.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${Z}-suffix)`]:{pointerEvents:"auto"}},[`${Z}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${Z}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:G,zIndex:1,display:"inline-block",width:E.fontSizeIcon,height:E.fontSizeIcon,marginTop:E.calc(E.fontSizeIcon).mul(-1).div(2).equal(),color:E.colorTextQuaternary,fontSize:E.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${E.motionDurationMid} ease, opacity ${E.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:E.colorTextTertiary}},"&:hover":{[`${Z}-clear`]:{opacity:1},[`${Z}-arrow:not(:last-child)`]:{opacity:0}}}),[`${Z}-has-feedback`]:{[`${Z}-clear`]:{insetInlineEnd:E.calc(G).add(E.fontSize).add(E.paddingXS).equal()}}}},Fa=E=>{const{componentCls:A}=E;return[{[A]:{[`&${A}-in-form-item`]:{width:"100%"}}},Co(E),Ee(E),Xi(E),co(E),{[`${A}-rtl`]:{direction:"rtl"}},(0,ai.c)(E,{borderElCls:`${A}-selector`,focusElCls:`${A}-focused`})]};var za=(0,Pt.I$)("Select",(E,A)=>{let{rootPrefixCls:Z}=A;const G=(0,an.TS)(E,{rootPrefixCls:Z,inputPaddingHorizontalBase:E.calc(E.paddingSM).sub(1).equal(),multipleSelectItemHeight:E.multipleItemHeight,selectHeight:E.controlHeight});return[Fa(G),ro(G)]},He,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),us=T(63606),cs=T(4340),Eo=T(97937),F=T(80882),Ws=T(50888),Sr=T(68795);function Ln(E){let{suffixIcon:A,clearIcon:Z,menuItemSelectedIcon:G,removeIcon:Pe,loading:gt,multiple:Tt,hasFeedback:Ut,prefixCls:xr,showSuffixIcon:Vr,feedbackIcon:wr,showArrow:ur,componentName:en}=E;const zt=Z!=null?Z:y.createElement(cs.Z,null),Zr=Fn=>A===null&&!Ut&&!ur?null:y.createElement(y.Fragment,null,Vr!==!1&&Fn,Ut&&wr);let tn=null;if(A!==void 0)tn=Zr(A);else if(gt)tn=Zr(y.createElement(Ws.Z,{spin:!0}));else{const Fn=`${xr}-suffix`;tn=Dn=>{let{open:mn,showSearch:ri}=Dn;return Zr(mn&&ri?y.createElement(Sr.Z,{className:Fn}):y.createElement(F.Z,{className:Fn}))}}let Xt=null;G!==void 0?Xt=G:Tt?Xt=y.createElement(us.Z,null):Xt=null;let dn=null;return Pe!==void 0?dn=Pe:dn=y.createElement(Eo.Z,null),{clearIcon:zt,suffixIcon:tn,itemIcon:Xt,removeIcon:dn}}function la(E,A){return A!==void 0?A:E!==null}var fs=function(E,A){var Z={};for(var G in E)Object.prototype.hasOwnProperty.call(E,G)&&A.indexOf(G)<0&&(Z[G]=E[G]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,G=Object.getOwnPropertySymbols(E);Pe<G.length;Pe++)A.indexOf(G[Pe])<0&&Object.prototype.propertyIsEnumerable.call(E,G[Pe])&&(Z[G[Pe]]=E[G[Pe]]);return Z};const fo="SECRET_COMBOBOX_MODE_DO_NOT_USE",kl=(E,A)=>{var Z;const{prefixCls:G,bordered:Pe,className:gt,rootClassName:Tt,getPopupContainer:Ut,popupClassName:xr,dropdownClassName:Vr,listHeight:wr=256,placement:ur,listItemHeight:en,size:zt,disabled:Zr,notFoundContent:tn,status:Xt,builtinPlacements:dn,dropdownMatchSelectWidth:Fn,popupMatchSelectWidth:Dn,direction:mn,style:ri,allowClear:vn,variant:Bn,dropdownStyle:bi,transitionName:Vi,tagRender:Nr,maxCount:fi}=E,wi=fs(E,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:xi,getPrefixCls:si,renderEmpty:Oi,direction:Ii,virtual:ei,popupMatchSelectWidth:on,popupOverflow:ni,select:li}=y.useContext(ir.E_),[,ha]=(0,Kt.ZP)(),Xn=en!=null?en:ha==null?void 0:ha.controlHeight,$i=si("select",G),Yi=si(),Gi=mn!=null?mn:Ii,{compactSize:ho,compactItemClassnames:_i}=(0,In.ri)($i,Gi),[Wa,Bi]=(0,Si.Z)(Bn,Pe),bn=(0,Rr.Z)($i),[$r,Nn,zn]=za($i,bn),Hr=y.useMemo(()=>{const{mode:vo}=E;if(vo!=="combobox")return vo===fo?"combobox":vo},[E.mode]),Gn=Hr==="multiple"||Hr==="tags",Cn=la(E.suffixIcon,E.showArrow),ji=(Z=Dn!=null?Dn:Fn)!==null&&Z!==void 0?Z:on,{status:cn,hasFeedback:Wn,isFormItemInput:wa,feedbackIcon:pa}=y.useContext(Ti.aM),Kn=(0,$t.F)(cn,Xt);let Oa;tn!==void 0?Oa=tn:Hr==="combobox"?Oa=null:Oa=(Oi==null?void 0:Oi("Select"))||y.createElement(Hn,{componentName:"Select"});const{suffixIcon:ia,itemIcon:mo,removeIcon:Ua,clearIcon:Mi}=Ln(Object.assign(Object.assign({},wi),{multiple:Gn,hasFeedback:Wn,feedbackIcon:pa,showSuffixIcon:Cn,prefixCls:$i,componentName:"Select"})),ga=vn===!0?{clearIcon:Mi}:vn,Ma=(0,sr.Z)(wi,["suffixIcon","itemIcon"]),Aa=U()(xr||Vr,{[`${$i}-dropdown-${Gi}`]:Gi==="rtl"},Tt,zn,bn,Nn),Ci=(0,na.Z)(vo=>{var ba;return(ba=zt!=null?zt:ho)!==null&&ba!==void 0?ba:vo}),Li=y.useContext(lt.Z),ya=Zr!=null?Zr:Li,da=U()({[`${$i}-lg`]:Ci==="large",[`${$i}-sm`]:Ci==="small",[`${$i}-rtl`]:Gi==="rtl",[`${$i}-${Wa}`]:Bi,[`${$i}-in-form-item`]:wa},(0,$t.Z)($i,Kn,Wn),_i,li==null?void 0:li.className,gt,Tt,zn,bn,Nn),no=y.useMemo(()=>ur!==void 0?ur:Gi==="rtl"?"bottomRight":"bottomLeft",[ur,Gi]),[aa]=(0,yt.Cn)("SelectLike",bi==null?void 0:bi.zIndex);return $r(y.createElement(De,Object.assign({ref:A,virtual:ei,showSearch:li==null?void 0:li.showSearch},Ma,{style:Object.assign(Object.assign({},li==null?void 0:li.style),ri),dropdownMatchSelectWidth:ji,transitionName:(0,qt.m)(Yi,"slide-up",Vi),builtinPlacements:Zi(dn,ni),listHeight:wr,listItemHeight:Xn,mode:Hr,prefixCls:$i,placement:no,direction:Gi,suffixIcon:ia,menuItemSelectedIcon:mo,removeIcon:Ua,allowClear:ga,notFoundContent:Oa,className:da,getPopupContainer:Ut||xi,dropdownClassName:Aa,disabled:ya,dropdownStyle:Object.assign(Object.assign({},bi),{zIndex:aa}),maxCount:Gn?fi:void 0,tagRender:Gn?Nr:void 0})))},To=y.forwardRef(kl),hs=(0,Pr.Z)(To);To.SECRET_COMBOBOX_MODE_DO_NOT_USE=fo,To.Option=jt,To.OptGroup=Et,To._InternalPanelDoNotUseOrYouWillBeFired=hs;var ml=To},78957:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return de}});var y=T(67294),M=T(13144),U=T.n(M),xe=T(50344);function re(Ve){return["small","middle","large"].includes(Ve)}function ee(Ve){return Ve?typeof Ve=="number"&&!Number.isNaN(Ve):!1}var w=T(53124),ie=T(4173);const K=y.createContext({latestIndex:0}),X=K.Provider;var Ce=Ve=>{let{className:Be,index:tt,children:et,split:Xe,style:ze}=Ve;const{latestIndex:It}=y.useContext(K);return et==null?null:y.createElement(y.Fragment,null,y.createElement("div",{className:Be,style:ze},et),tt<It&&Xe&&y.createElement("span",{className:`${Be}-split`},Xe))},me=T(51916),Ge=function(Ve,Be){var tt={};for(var et in Ve)Object.prototype.hasOwnProperty.call(Ve,et)&&Be.indexOf(et)<0&&(tt[et]=Ve[et]);if(Ve!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,et=Object.getOwnPropertySymbols(Ve);Xe<et.length;Xe++)Be.indexOf(et[Xe])<0&&Object.prototype.propertyIsEnumerable.call(Ve,et[Xe])&&(tt[et[Xe]]=Ve[et[Xe]]);return tt};const rt=y.forwardRef((Ve,Be)=>{var tt,et;const{getPrefixCls:Xe,space:ze,direction:It}=y.useContext(w.E_),{size:tr=(ze==null?void 0:ze.size)||"small",align:dt,className:ve,rootClassName:oe,children:pt,direction:Ie="horizontal",prefixCls:Lt,split:Ft,style:Ye,wrap:_e=!1,classNames:q,styles:fe}=Ve,Se=Ge(Ve,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[We,ft]=Array.isArray(tr)?tr:[tr,tr],bt=re(ft),Fe=re(We),Le=ee(ft),Ze=ee(We),Jt=(0,xe.Z)(pt,{keepEmpty:!0}),or=dt===void 0&&Ie==="horizontal"?"center":dt,vr=Xe("space",Lt),[rr,jr,qe]=(0,me.Z)(vr),$e=U()(vr,ze==null?void 0:ze.className,jr,`${vr}-${Ie}`,{[`${vr}-rtl`]:It==="rtl",[`${vr}-align-${or}`]:or,[`${vr}-gap-row-${ft}`]:bt,[`${vr}-gap-col-${We}`]:Fe},ve,oe,qe),Ct=U()(`${vr}-item`,(tt=q==null?void 0:q.item)!==null&&tt!==void 0?tt:(et=ze==null?void 0:ze.classNames)===null||et===void 0?void 0:et.item);let gr=0;const _r=Jt.map((ge,je)=>{var ht,Mt;ge!=null&&(gr=je);const nt=ge&&ge.key||`${Ct}-${je}`;return y.createElement(Ce,{className:Ct,key:nt,index:je,split:Ft,style:(ht=fe==null?void 0:fe.item)!==null&&ht!==void 0?ht:(Mt=ze==null?void 0:ze.styles)===null||Mt===void 0?void 0:Mt.item},ge)}),zr=y.useMemo(()=>({latestIndex:gr}),[gr]);if(Jt.length===0)return null;const xt={};return _e&&(xt.flexWrap="wrap"),!Fe&&Ze&&(xt.columnGap=We),!bt&&Le&&(xt.rowGap=ft),rr(y.createElement("div",Object.assign({ref:Be,className:$e,style:Object.assign(Object.assign(Object.assign({},xt),ze==null?void 0:ze.style),Ye)},Se),y.createElement(X,{value:zr},_r)))});rt.Compact=ie.ZP;var de=rt},33297:function(Zt,Oe,T){"use strict";T.d(Oe,{Fm:function(){return Ce}});var y=T(54548),M=T(93590);const U=new y.Keyframes("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),xe=new y.Keyframes("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),re=new y.Keyframes("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ee=new y.Keyframes("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),w=new y.Keyframes("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ie=new y.Keyframes("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),K=new y.Keyframes("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),X=new y.Keyframes("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),he={"move-up":{inKeyframes:K,outKeyframes:X},"move-down":{inKeyframes:U,outKeyframes:xe},"move-left":{inKeyframes:re,outKeyframes:ee},"move-right":{inKeyframes:w,outKeyframes:ie}},Ce=(me,Ge)=>{const{antCls:St}=me,rt=`${St}-${Ge}`,{inKeyframes:de,outKeyframes:Ve}=he[Ge];return[(0,M.R)(rt,de,Ve,me.motionDurationMid),{[`
        ${rt}-enter,
        ${rt}-appear
      `]:{opacity:0,animationTimingFunction:me.motionEaseOutCirc},[`${rt}-leave`]:{animationTimingFunction:me.motionEaseInOutCirc}}]}},50438:function(Zt,Oe,T){"use strict";T.d(Oe,{_y:function(){return rt}});var y=T(54548),M=T(93590);const U=new y.Keyframes("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),xe=new y.Keyframes("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),re=new y.Keyframes("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ee=new y.Keyframes("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),w=new y.Keyframes("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),ie=new y.Keyframes("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),K=new y.Keyframes("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),X=new y.Keyframes("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),he=new y.Keyframes("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Ce=new y.Keyframes("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),me=new y.Keyframes("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Ge=new y.Keyframes("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),St={zoom:{inKeyframes:U,outKeyframes:xe},"zoom-big":{inKeyframes:re,outKeyframes:ee},"zoom-big-fast":{inKeyframes:re,outKeyframes:ee},"zoom-left":{inKeyframes:K,outKeyframes:X},"zoom-right":{inKeyframes:he,outKeyframes:Ce},"zoom-up":{inKeyframes:w,outKeyframes:ie},"zoom-down":{inKeyframes:me,outKeyframes:Ge}},rt=(de,Ve)=>{const{antCls:Be}=de,tt=`${Be}-${Ve}`,{inKeyframes:et,outKeyframes:Xe}=St[Ve];return[(0,M.R)(tt,et,Xe,Ve==="zoom-big-fast"?de.motionDurationFast:de.motionDurationMid),{[`
        ${tt}-enter,
        ${tt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:de.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${tt}-leave`]:{animationTimingFunction:de.motionEaseInOutCirc}}]}},97414:function(Zt,Oe,T){"use strict";T.d(Oe,{ZP:function(){return re},qN:function(){return M},wZ:function(){return U}});var y=T(79511);const M=8;function U(ee){const{contentRadius:w,limitVerticalRadius:ie}=ee,K=w>12?w+2:12;return{arrowOffsetHorizontal:K,arrowOffsetVertical:ie?M:K}}function xe(ee,w){return ee?w:{}}function re(ee,w,ie){const{componentCls:K,boxShadowPopoverArrow:X,arrowOffsetVertical:he,arrowOffsetHorizontal:Ce}=ee,{arrowDistance:me=0,arrowPlacement:Ge={left:!0,right:!0,top:!0,bottom:!0}}=ie||{};return{[K]:Object.assign(Object.assign(Object.assign(Object.assign({[`${K}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,y.W)(ee,w,X)),{"&:before":{background:w}})]},xe(!!Ge.top,{[[`&-placement-top > ${K}-arrow`,`&-placement-topLeft > ${K}-arrow`,`&-placement-topRight > ${K}-arrow`].join(",")]:{bottom:me,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${K}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${K}-arrow`]:{left:{_skip_check_:!0,value:Ce}},[`&-placement-topRight > ${K}-arrow`]:{right:{_skip_check_:!0,value:Ce}}})),xe(!!Ge.bottom,{[[`&-placement-bottom > ${K}-arrow`,`&-placement-bottomLeft > ${K}-arrow`,`&-placement-bottomRight > ${K}-arrow`].join(",")]:{top:me,transform:"translateY(-100%)"},[`&-placement-bottom > ${K}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${K}-arrow`]:{left:{_skip_check_:!0,value:Ce}},[`&-placement-bottomRight > ${K}-arrow`]:{right:{_skip_check_:!0,value:Ce}}})),xe(!!Ge.left,{[[`&-placement-left > ${K}-arrow`,`&-placement-leftTop > ${K}-arrow`,`&-placement-leftBottom > ${K}-arrow`].join(",")]:{right:{_skip_check_:!0,value:me},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${K}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${K}-arrow`]:{top:he},[`&-placement-leftBottom > ${K}-arrow`]:{bottom:he}})),xe(!!Ge.right,{[[`&-placement-right > ${K}-arrow`,`&-placement-rightTop > ${K}-arrow`,`&-placement-rightBottom > ${K}-arrow`].join(",")]:{left:{_skip_check_:!0,value:me},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${K}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${K}-arrow`]:{top:he},[`&-placement-rightBottom > ${K}-arrow`]:{bottom:he}}))}}},79511:function(Zt,Oe,T){"use strict";T.d(Oe,{W:function(){return U},w:function(){return M}});var y=T(54548);function M(xe){const{sizePopupArrow:re,borderRadiusXS:ee,borderRadiusOuter:w}=xe,ie=re/2,K=0,X=ie,he=w*1/Math.sqrt(2),Ce=ie-w*(1-1/Math.sqrt(2)),me=ie-ee*(1/Math.sqrt(2)),Ge=w*(Math.sqrt(2)-1)+ee*(1/Math.sqrt(2)),St=2*ie-me,rt=Ge,de=2*ie-he,Ve=Ce,Be=2*ie-K,tt=X,et=ie*Math.sqrt(2)+w*(Math.sqrt(2)-2),Xe=w*(Math.sqrt(2)-1),ze=`polygon(${Xe}px 100%, 50% ${Xe}px, ${2*ie-Xe}px 100%, ${Xe}px 100%)`,It=`path('M ${K} ${X} A ${w} ${w} 0 0 0 ${he} ${Ce} L ${me} ${Ge} A ${ee} ${ee} 0 0 1 ${St} ${rt} L ${de} ${Ve} A ${w} ${w} 0 0 0 ${Be} ${tt} Z')`;return{arrowShadowWidth:et,arrowPath:It,arrowPolygon:ze}}const U=(xe,re,ee)=>{const{sizePopupArrow:w,arrowPolygon:ie,arrowPath:K,arrowShadowWidth:X,borderRadiusXS:he,calc:Ce}=xe;return{pointerEvents:"none",width:w,height:w,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:w,height:Ce(w).div(2).equal(),background:re,clipPath:{_multi_value_:!0,value:[ie,K]},content:'""'},"&::after":{content:'""',position:"absolute",width:X,height:X,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,y.unit)(he)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:ee,zIndex:0,background:"transparent"}}}},83062:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return Ye}});var y=T(67294),M=T(13144),U=T.n(M),xe=T(92419),re=T(93042),ee=T(87263),w=T(33603),ie=T(80636),K=T(96159),X=T(27288),he=T(43945),Ce=T(53124),me=T(4173),Ge=T(25976),St=T(54548),rt=T(14747),de=T(50438),Ve=T(97414),Be=T(79511),tt=T(98719),et=T(45503),Xe=T(2093);const ze=_e=>{const{componentCls:q,tooltipMaxWidth:fe,tooltipColor:Se,tooltipBg:We,tooltipBorderRadius:ft,zIndexPopup:bt,controlHeight:Fe,boxShadowSecondary:Le,paddingSM:Ze,paddingXS:Jt}=_e;return[{[q]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,rt.Wf)(_e)),{position:"absolute",zIndex:bt,display:"block",width:"max-content",maxWidth:fe,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":We,[`${q}-inner`]:{minWidth:"1em",minHeight:Fe,padding:`${(0,St.unit)(_e.calc(Ze).div(2).equal())} ${(0,St.unit)(Jt)}`,color:Se,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:We,borderRadius:ft,boxShadow:Le,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${q}-inner`]:{borderRadius:_e.min(ft,Ve.qN)}},[`${q}-content`]:{position:"relative"}}),(0,tt.Z)(_e,(or,vr)=>{let{darkColor:rr}=vr;return{[`&${q}-${or}`]:{[`${q}-inner`]:{backgroundColor:rr},[`${q}-arrow`]:{"--antd-arrow-background-color":rr}}}})),{"&-rtl":{direction:"rtl"}})},(0,Ve.ZP)(_e,"var(--antd-arrow-background-color)"),{[`${q}-pure`]:{position:"relative",maxWidth:"none",margin:_e.sizePopupArrow}}]},It=_e=>Object.assign(Object.assign({zIndexPopup:_e.zIndexPopupBase+70},(0,Ve.wZ)({contentRadius:_e.borderRadius,limitVerticalRadius:!0})),(0,Be.w)((0,et.TS)(_e,{borderRadiusOuter:Math.min(_e.borderRadiusOuter,4)})));var tr=function(_e){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Xe.I$)("Tooltip",Se=>{const{borderRadius:We,colorTextLightSolid:ft,colorBgSpotlight:bt}=Se,Fe=(0,et.TS)(Se,{tooltipMaxWidth:250,tooltipColor:ft,tooltipBorderRadius:We,tooltipBg:bt});return[ze(Fe),(0,de._y)(Se,"zoom-big-fast")]},It,{resetStyle:!1,injectStyle:q})(_e)},dt=T(98787);function ve(_e,q){const fe=(0,dt.o2)(q),Se=U()({[`${_e}-${q}`]:q&&fe}),We={},ft={};return q&&!fe&&(We.background=q,ft["--antd-arrow-background-color"]=q),{className:Se,overlayStyle:We,arrowStyle:ft}}var pt=_e=>{const{prefixCls:q,className:fe,placement:Se="top",title:We,color:ft,overlayInnerStyle:bt}=_e,{getPrefixCls:Fe}=y.useContext(Ce.E_),Le=Fe("tooltip",q),[Ze,Jt,or]=tr(Le),vr=ve(Le,ft),rr=vr.arrowStyle,jr=Object.assign(Object.assign({},bt),vr.overlayStyle),qe=U()(Jt,or,Le,`${Le}-pure`,`${Le}-placement-${Se}`,fe,vr.className);return Ze(y.createElement("div",{className:qe,style:rr},y.createElement("div",{className:`${Le}-arrow`}),y.createElement(xe.G,Object.assign({},_e,{className:Jt,prefixCls:Le,overlayInnerStyle:jr}),We)))},Ie=function(_e,q){var fe={};for(var Se in _e)Object.prototype.hasOwnProperty.call(_e,Se)&&q.indexOf(Se)<0&&(fe[Se]=_e[Se]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var We=0,Se=Object.getOwnPropertySymbols(_e);We<Se.length;We++)q.indexOf(Se[We])<0&&Object.prototype.propertyIsEnumerable.call(_e,Se[We])&&(fe[Se[We]]=_e[Se[We]]);return fe};const Ft=y.forwardRef((_e,q)=>{var fe,Se;const{prefixCls:We,openClassName:ft,getTooltipContainer:bt,overlayClassName:Fe,color:Le,overlayInnerStyle:Ze,children:Jt,afterOpenChange:or,afterVisibleChange:vr,destroyTooltipOnHide:rr,arrow:jr=!0,title:qe,overlay:$e,builtinPlacements:Ct,arrowPointAtCenter:gr=!1,autoAdjustOverflow:_r=!0}=_e,zr=!!jr,[,xt]=(0,Ge.ZP)(),{getPopupContainer:ge,getPrefixCls:je,direction:ht}=y.useContext(Ce.E_),Mt=(0,X.ln)("Tooltip"),nt=y.useRef(null),ne=()=>{var Rn;(Rn=nt.current)===null||Rn===void 0||Rn.forceAlign()};y.useImperativeHandle(q,()=>{var Rn;return{forceAlign:ne,forcePopupAlign:()=>{Mt.deprecated(!1,"forcePopupAlign","forceAlign"),ne()},nativeElement:(Rn=nt.current)===null||Rn===void 0?void 0:Rn.nativeElement}});const[ue,J]=(0,re.Z)(!1,{value:(fe=_e.open)!==null&&fe!==void 0?fe:_e.visible,defaultValue:(Se=_e.defaultOpen)!==null&&Se!==void 0?Se:_e.defaultVisible}),Re=!qe&&!$e&&qe!==0,Ae=Rn=>{var vi,pi;J(Re?!1:Rn),Re||((vi=_e.onOpenChange)===null||vi===void 0||vi.call(_e,Rn),(pi=_e.onVisibleChange)===null||pi===void 0||pi.call(_e,Rn))},Rt=y.useMemo(()=>{var Rn,vi;let pi=gr;return typeof jr=="object"&&(pi=(vi=(Rn=jr.pointAtCenter)!==null&&Rn!==void 0?Rn:jr.arrowPointAtCenter)!==null&&vi!==void 0?vi:gr),Ct||(0,ie.Z)({arrowPointAtCenter:pi,autoAdjustOverflow:_r,arrowWidth:zr?xt.sizePopupArrow:0,borderRadius:xt.borderRadius,offset:xt.marginXXS,visibleFirst:!0})},[gr,jr,Ct,xt]),Ht=y.useMemo(()=>qe===0?qe:$e||qe||"",[$e,qe]),Vt=y.createElement(me.BR,null,typeof Ht=="function"?Ht():Ht),{getPopupContainer:Bt,placement:wt="top",mouseEnterDelay:pr=.1,mouseLeaveDelay:Et=.1,overlayStyle:be,rootClassName:jt}=_e,Yt=Ie(_e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),sr=je("tooltip",We),lr=je(),nr=_e["data-popover-inject"];let sn=ue;!("open"in _e)&&!("visible"in _e)&&Re&&(sn=!1);const Br=y.isValidElement(Jt)&&!(0,K.M2)(Jt)?Jt:y.createElement("span",null,Jt),hn=Br.props,Ue=!hn.className||typeof hn.className=="string"?U()(hn.className,ft||`${sr}-open`):hn.className,[fr,Cr,Ir]=tr(sr,!nr),Er=ve(sr,Le),ln=Er.arrowStyle,Vn=Object.assign(Object.assign({},Ze),Er.overlayStyle),hr=U()(Fe,{[`${sr}-rtl`]:ht==="rtl"},Er.className,jt,Cr,Ir),[jn,qr]=(0,ee.Cn)("Tooltip",Yt.zIndex),Zn=y.createElement(xe.Z,Object.assign({},Yt,{zIndex:jn,showArrow:zr,placement:wt,mouseEnterDelay:pr,mouseLeaveDelay:Et,prefixCls:sr,overlayClassName:hr,overlayStyle:Object.assign(Object.assign({},ln),be),getTooltipContainer:Bt||bt||ge,ref:nt,builtinPlacements:Rt,overlay:Vt,visible:sn,onVisibleChange:Ae,afterVisibleChange:or!=null?or:vr,overlayInnerStyle:Vn,arrowContent:y.createElement("span",{className:`${sr}-arrow-content`}),motion:{motionName:(0,w.m)(lr,"zoom-big-fast",_e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!rr}),sn?(0,K.Tm)(Br,{className:Ue}):Br);return fr(y.createElement(he.Z.Provider,{value:qr},Zn))});Ft._InternalPanelDoNotUseOrYouWillBeFired=pt;var Ye=Ft},21598:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return it}});var y=T(67294),M=T(86548),U=T(13144),xe=T.n(U),re=T(11276),ee=T(50344),w=T(8410),ie=T(93042),K=T(98423),X=T(42550),he=T(98924),Ce=function(ye){if((0,he.Z)()&&window.document.documentElement){var Ne=Array.isArray(ye)?ye:[ye],le=window.document.documentElement;return Ne.some(function(De){return De in le.style})}return!1},me=function(ye,Ne){if(!Ce(ye))return!1;var le=document.createElement("div"),De=le.style[ye];return le.style[ye]=Ne,le.style[ye]!==De};function Ge(H,ye){return!Array.isArray(H)&&ye!==void 0?me(H,ye):Ce(H)}var St=T(15105),rt=function(H,ye){var Ne={};for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&ye.indexOf(le)<0&&(Ne[le]=H[le]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,le=Object.getOwnPropertySymbols(H);De<le.length;De++)ye.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(H,le[De])&&(Ne[le[De]]=H[le[De]]);return Ne};const de={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"};var Be=y.forwardRef((H,ye)=>{const Ne=Nt=>{const{keyCode:Tr}=Nt;Tr===St.Z.ENTER&&Nt.preventDefault()},le=Nt=>{const{keyCode:Tr}=Nt,{onClick:Kt}=H;Tr===St.Z.ENTER&&Kt&&Kt()},{style:De,noStyle:yt,disabled:qt,tabIndex:Pr=0}=H,$t=rt(H,["style","noStyle","disabled","tabIndex"]);let ir={};return yt||(ir=Object.assign({},de)),qt&&(ir.pointerEvents="none"),ir=Object.assign(Object.assign({},ir),De),y.createElement("div",Object.assign({role:"button",tabIndex:Pr,ref:ye},$t,{onKeyDown:Ne,onKeyUp:le,style:ir}))}),tt=T(53124),et=T(10110),Xe=T(83062),ze=T(97460),It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},tr=It,dt=T(55230),ve=function(ye,Ne){return y.createElement(dt.Z,(0,ze.Z)({},ye,{ref:Ne,icon:tr}))},oe=y.forwardRef(ve),pt=oe,Ie=T(96159),Lt=T(22913);const Ft=H=>({color:H.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${H.motionDurationSlow}`,"&:focus, &:hover":{color:H.colorLinkHover},"&:active":{color:H.colorLinkActive}});var Ye=T(2093),_e=T(39953),q=T(54548);const fe=(H,ye,Ne,le)=>{const{titleMarginBottom:De,fontWeightStrong:yt}=le;return{marginBottom:De,color:Ne,fontWeight:yt,fontSize:H,lineHeight:ye}},Se=H=>{const ye=[1,2,3,4,5],Ne={};return ye.forEach(le=>{Ne[`
      h${le}&,
      div&-h${le},
      div&-h${le} > textarea,
      h${le}
    `]=fe(H[`fontSizeHeading${le}`],H[`lineHeightHeading${le}`],H.colorTextHeading,H)}),Ne},We=H=>{const{componentCls:ye}=H;return{"a&, a":Object.assign(Object.assign({},Ft(H)),{textDecoration:H.linkDecoration,"&:active, &:hover":{textDecoration:H.linkHoverDecoration},[`&[disabled], &${ye}-disabled`]:{color:H.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:H.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},ft=H=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:H.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:H.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:_e.gold[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:H.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),bt=H=>{const{componentCls:ye,paddingSM:Ne}=H,le=Ne;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:H.calc(H.paddingSM).mul(-1).equal(),marginTop:H.calc(le).mul(-1).equal(),marginBottom:`calc(1em - ${(0,q.unit)(le)})`},[`${ye}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:H.calc(H.marginXS).add(2).equal(),insetBlockEnd:H.marginXS,color:H.colorTextDescription,fontWeight:"normal",fontSize:H.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},Fe=H=>({[`${H.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:H.colorSuccess}},[`${H.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Le=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Ze=H=>{const{componentCls:ye,titleMarginTop:Ne}=H;return{[ye]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:H.colorText,wordBreak:"break-word",lineHeight:H.lineHeight,[`&${ye}-secondary`]:{color:H.colorTextDescription},[`&${ye}-success`]:{color:H.colorSuccess},[`&${ye}-warning`]:{color:H.colorWarning},[`&${ye}-danger`]:{color:H.colorError,"a&:active, a&:focus":{color:H.colorErrorActive},"a&:hover":{color:H.colorErrorHover}},[`&${ye}-disabled`]:{color:H.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Se(H)),{[`
      & + h1${ye},
      & + h2${ye},
      & + h3${ye},
      & + h4${ye},
      & + h5${ye}
      `]:{marginTop:Ne},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:Ne}}}),ft(H)),We(H)),{[`
        ${ye}-expand,
        ${ye}-collapse,
        ${ye}-edit,
        ${ye}-copy
      `]:Object.assign(Object.assign({},Ft(H)),{marginInlineStart:H.marginXXS})}),bt(H)),Fe(H)),Le()),{"&-rtl":{direction:"rtl"}})}},Jt=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var or=(0,Ye.I$)("Typography",H=>[Ze(H)],Jt),rr=H=>{const{prefixCls:ye,"aria-label":Ne,className:le,style:De,direction:yt,maxLength:qt,autoSize:Pr=!0,value:$t,onSave:ir,onCancel:Nt,onEnd:Tr,component:Kt,enterIcon:xn=y.createElement(pt,null)}=H,Mn=y.useRef(null),yn=y.useRef(!1),An=y.useRef(),[Pt,an]=y.useState($t);y.useEffect(()=>{an($t)},[$t]),y.useEffect(()=>{if(Mn.current&&Mn.current.resizableTextArea){const{textArea:Ti}=Mn.current.resizableTextArea;Ti.focus();const{length:Si}=Ti.value;Ti.setSelectionRange(Si,Si)}},[]);const Dr=Ti=>{let{target:Si}=Ti;an(Si.value.replace(/[\n\r]/g,""))},kr=()=>{yn.current=!0},Xr=()=>{yn.current=!1},un=Ti=>{let{keyCode:Si}=Ti;yn.current||(An.current=Si)},En=()=>{ir(Pt.trim())},br=Ti=>{let{keyCode:Si,ctrlKey:In,altKey:Hi,metaKey:Ta,shiftKey:Zi}=Ti;An.current===Si&&!yn.current&&!In&&!Hi&&!Ta&&!Zi&&(Si===St.Z.ENTER?(En(),Tr==null||Tr()):Si===St.Z.ESC&&Nt())},Jr=()=>{En()},Yn=Kt?`${ye}-${Kt}`:"",[Hn,lt,Rr]=or(ye),na=xe()(ye,`${ye}-edit-content`,{[`${ye}-rtl`]:yt==="rtl"},le,Yn,lt,Rr);return Hn(y.createElement("div",{className:na,style:De},y.createElement(Lt.Z,{ref:Mn,maxLength:qt,value:Pt,onChange:Dr,onKeyDown:un,onKeyUp:br,onCompositionStart:kr,onCompositionEnd:Xr,onBlur:Jr,"aria-label":Ne,rows:1,autoSize:Pr}),xn!==null?(0,Ie.Tm)(xn,{className:`${ye}-edit-content-confirm`}):null))},jr=T(20640),qe=T.n(jr),$e=T(56790),Ct=function(H,ye,Ne,le){function De(yt){return yt instanceof Ne?yt:new Ne(function(qt){qt(yt)})}return new(Ne||(Ne=Promise))(function(yt,qt){function Pr(Nt){try{ir(le.next(Nt))}catch(Tr){qt(Tr)}}function $t(Nt){try{ir(le.throw(Nt))}catch(Tr){qt(Tr)}}function ir(Nt){Nt.done?yt(Nt.value):De(Nt.value).then(Pr,$t)}ir((le=le.apply(H,ye||[])).next())})},_r=H=>{let{copyConfig:ye,children:Ne}=H;const[le,De]=y.useState(!1),[yt,qt]=y.useState(!1),Pr=y.useRef(null),$t=()=>{Pr.current&&clearTimeout(Pr.current)},ir={};ye.format&&(ir.format=ye.format),y.useEffect(()=>$t,[]);const Nt=(0,$e.useEvent)(Tr=>Ct(void 0,void 0,void 0,function*(){var Kt;Tr==null||Tr.preventDefault(),Tr==null||Tr.stopPropagation(),qt(!0);try{const xn=typeof ye.text=="function"?yield ye.text():ye.text;qe()(xn||String(Ne)||"",ir),qt(!1),De(!0),$t(),Pr.current=setTimeout(()=>{De(!1)},3e3),(Kt=ye.onCopy)===null||Kt===void 0||Kt.call(ye,Tr)}catch(xn){throw qt(!1),xn}}));return{copied:le,copyLoading:yt,onClick:Nt}};function zr(H,ye){return y.useMemo(()=>{const Ne=!!H;return[Ne,Object.assign(Object.assign({},ye),Ne&&typeof H=="object"?H:null)]},[H])}var ge=(H,ye)=>{const Ne=y.useRef(!1);y.useEffect(()=>{Ne.current?H():Ne.current=!0},ye)},ht=H=>{const ye=(0,y.useRef)();return(0,y.useEffect)(()=>{ye.current=H}),ye.current},Mt=function(H,ye){var Ne={};for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&ye.indexOf(le)<0&&(Ne[le]=H[le]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,le=Object.getOwnPropertySymbols(H);De<le.length;De++)ye.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(H,le[De])&&(Ne[le[De]]=H[le[De]]);return Ne},ne=y.forwardRef((H,ye)=>{const{prefixCls:Ne,component:le="article",className:De,rootClassName:yt,setContentRef:qt,children:Pr,direction:$t,style:ir}=H,Nt=Mt(H,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:Tr,direction:Kt,typography:xn}=y.useContext(tt.E_),Mn=$t!=null?$t:Kt;let yn=ye;qt&&(yn=(0,X.sQ)(ye,qt));const An=Tr("typography",Ne),[Pt,an,Dr]=or(An),kr=xe()(An,xn==null?void 0:xn.className,{[`${An}-rtl`]:Mn==="rtl"},De,yt,an,Dr),Xr=Object.assign(Object.assign({},xn==null?void 0:xn.style),ir);return Pt(y.createElement(le,Object.assign({className:kr,style:Xr,ref:yn},Nt),Pr))}),ue=T(63606),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},Re=J,Ae=function(ye,Ne){return y.createElement(dt.Z,(0,ze.Z)({},ye,{ref:Ne,icon:Re}))},Rt=y.forwardRef(Ae),Ht=Rt,Vt=T(50888);function Bt(H){return H===!1?[!1,!1]:Array.isArray(H)?H:[H]}function wt(H,ye,Ne){return H===!0||H===void 0?ye:H||Ne&&ye}var Et=H=>{const{prefixCls:ye,copied:Ne,locale:le,iconOnly:De,tooltips:yt,icon:qt,loading:Pr,tabIndex:$t,onCopy:ir}=H,Nt=Bt(yt),Tr=Bt(qt),{copied:Kt,copy:xn}=le!=null?le:{},Mn=Ne?wt(Nt[1],Kt):wt(Nt[0],xn),An=typeof Mn=="string"?Mn:Ne?Kt:xn;return y.createElement(Xe.Z,{key:"copy",title:Mn},y.createElement(Be,{className:xe()(`${ye}-copy`,{[`${ye}-copy-success`]:Ne,[`${ye}-copy-icon-only`]:De}),onClick:ir,"aria-label":An,tabIndex:$t},Ne?wt(Tr[1],y.createElement(ue.Z,null),!0):wt(Tr[0],Pr?y.createElement(Vt.Z,null):y.createElement(Ht,null),!0)))},be=T(75177);const jt=y.forwardRef((H,ye)=>{let{style:Ne,children:le}=H;const De=y.useRef(null);return y.useImperativeHandle(ye,()=>({isExceed:()=>{const yt=De.current;return yt.scrollHeight>yt.clientHeight},getHeight:()=>De.current.clientHeight})),y.createElement("span",{"aria-hidden":!0,ref:De,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},Ne)},le)});function Yt(H){const ye=typeof H;return ye==="string"||ye==="number"}function sr(H){let ye=0;return H.forEach(Ne=>{Yt(Ne)?ye+=String(Ne).length:ye+=1}),ye}function lr(H,ye){let Ne=0;const le=[];for(let De=0;De<H.length;De+=1){if(Ne===ye)return le;const yt=H[De],Pr=Yt(yt)?String(yt).length:1,$t=Ne+Pr;if($t>ye){const ir=ye-Ne;return le.push(String(yt).slice(0,ir)),le}le.push(yt),Ne=$t}return H}const nr=0,sn=1,Br=2,hn=3,Ue={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function fr(H){const{enableMeasure:ye,width:Ne,text:le,children:De,rows:yt,expanded:qt,miscDeps:Pr,onEllipsis:$t}=H,ir=y.useMemo(()=>(0,ee.Z)(le),[le]),Nt=y.useMemo(()=>sr(ir),[le]),Tr=y.useMemo(()=>De(ir,!1),[le]),[Kt,xn]=y.useState(null),Mn=y.useRef(null),yn=y.useRef(null),An=y.useRef(null),Pt=y.useRef(null),[an,Dr]=y.useState(!1),[kr,Xr]=y.useState(nr),[un,En]=y.useState(0);(0,w.Z)(()=>{Xr(ye&&Ne&&Nt?sn:nr)},[Ne,le,yt,ye,ir]),(0,w.Z)(()=>{var Hn,lt,Rr,na;if(kr===sn){const Ti=!!(!((Hn=yn.current)===null||Hn===void 0)&&Hn.isExceed());Xr(Ti?Br:hn),xn(Ti?[0,Nt]:null),Dr(Ti);const Si=((lt=yn.current)===null||lt===void 0?void 0:lt.getHeight())||0,In=yt===1?0:((Rr=An.current)===null||Rr===void 0?void 0:Rr.getHeight())||0,Hi=((na=Pt.current)===null||na===void 0?void 0:na.getHeight())||0,Ta=In+Hi,Zi=Math.max(Si,Ta);En(Zi+1),$t(Ti)}},[kr]);const br=Kt?Math.ceil((Kt[0]+Kt[1])/2):0;(0,w.Z)(()=>{var Hn;const[lt,Rr]=Kt||[0,0];if(lt!==Rr){const Ti=(((Hn=Mn.current)===null||Hn===void 0?void 0:Hn.getHeight())||0)>un;let Si=br;Rr-lt===1&&(Si=Ti?lt:Rr),xn(Ti?[lt,Si]:[Si,Rr])}},[Kt,br]);const Jr=y.useMemo(()=>{if(kr!==Br||!Kt||Kt[0]!==Kt[1]){const Hn=De(ir,!1);return kr!==hn&&kr!==nr?y.createElement("span",{style:Object.assign(Object.assign({},Ue),{WebkitLineClamp:yt})},Hn):Hn}return De(qt?ir:lr(ir,Kt[0]),an)},[qt,kr,Kt,ir].concat((0,be.Z)(Pr))),Yn={width:Ne,whiteSpace:"normal",margin:0,padding:0};return y.createElement(y.Fragment,null,Jr,kr===sn&&y.createElement(y.Fragment,null,y.createElement(jt,{style:Object.assign(Object.assign(Object.assign({},Yn),Ue),{WebkitLineClamp:yt}),ref:yn},Tr),y.createElement(jt,{style:Object.assign(Object.assign(Object.assign({},Yn),Ue),{WebkitLineClamp:yt-1}),ref:An},Tr),y.createElement(jt,{style:Object.assign(Object.assign(Object.assign({},Yn),Ue),{WebkitLineClamp:1}),ref:Pt},De([],!0))),kr===Br&&Kt&&Kt[0]!==Kt[1]&&y.createElement(jt,{style:Object.assign(Object.assign({},Yn),{top:400}),ref:Mn},De(lr(ir,br),!0)))}var Ir=H=>{let{enableEllipsis:ye,isEllipsis:Ne,children:le,tooltipProps:De}=H;return!(De!=null&&De.title)||!ye?le:y.createElement(Xe.Z,Object.assign({open:Ne?void 0:!1},De),le)},Er=function(H,ye){var Ne={};for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&ye.indexOf(le)<0&&(Ne[le]=H[le]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,le=Object.getOwnPropertySymbols(H);De<le.length;De++)ye.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(H,le[De])&&(Ne[le[De]]=H[le[De]]);return Ne};function ln(H,ye){let{mark:Ne,code:le,underline:De,delete:yt,strong:qt,keyboard:Pr,italic:$t}=H,ir=ye;function Nt(Tr,Kt){Kt&&(ir=y.createElement(Tr,{},ir))}return Nt("strong",qt),Nt("u",De),Nt("del",yt),Nt("code",le),Nt("mark",Ne),Nt("kbd",Pr),Nt("i",$t),ir}const Vn="...";var jn=y.forwardRef((H,ye)=>{var Ne,le,De;const{prefixCls:yt,className:qt,style:Pr,type:$t,disabled:ir,children:Nt,ellipsis:Tr,editable:Kt,copyable:xn,component:Mn,title:yn}=H,An=Er(H,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:Pt,direction:an}=y.useContext(tt.E_),[Dr]=(0,et.Z)("Text"),kr=y.useRef(null),Xr=y.useRef(null),un=Pt("typography",yt),En=(0,K.Z)(An,["mark","code","delete","underline","strong","keyboard","italic"]),[br,Jr]=zr(Kt),[Yn,Hn]=(0,ie.Z)(!1,{value:Jr.editing}),{triggerType:lt=["icon"]}=Jr,Rr=Sr=>{var Ln;Sr&&((Ln=Jr.onStart)===null||Ln===void 0||Ln.call(Jr)),Hn(Sr)},na=ht(Yn);ge(()=>{var Sr;!Yn&&na&&((Sr=Xr.current)===null||Sr===void 0||Sr.focus())},[Yn]);const Ti=Sr=>{Sr==null||Sr.preventDefault(),Rr(!0)},Si=Sr=>{var Ln;(Ln=Jr.onChange)===null||Ln===void 0||Ln.call(Jr,Sr),Rr(!1)},In=()=>{var Sr;(Sr=Jr.onCancel)===null||Sr===void 0||Sr.call(Jr),Rr(!1)},[Hi,Ta]=zr(xn),{copied:Zi,copyLoading:gi,onClick:ai}=_r({copyConfig:Ta,children:Nt}),[fa,Va]=y.useState(!1),[Ba,Sa]=y.useState(!1),[co,Ai]=y.useState(!1),[Ka,qa]=y.useState(!1),[oi,_n]=y.useState(!0),[we,Ur]=zr(Tr,{expandable:!1,symbol:Sr=>Sr?Dr==null?void 0:Dr.collapse:Dr==null?void 0:Dr.expand}),[Xi,V]=(0,ie.Z)(Ur.defaultExpanded||!1,{value:Ur.expanded}),Ee=we&&(!Xi||Ur.expandable==="collapsible"),{rows:He=1}=Ur,_t=y.useMemo(()=>Ee&&(Ur.suffix!==void 0||Ur.onEllipsis||Ur.expandable||br||Hi),[Ee,Ur,br,Hi]);(0,w.Z)(()=>{we&&!_t&&(Va(Ge("webkitLineClamp")),Sa(Ge("textOverflow")))},[_t,we]);const[Or,yi]=y.useState(Ee),qi=y.useMemo(()=>_t?!1:He===1?Ba:fa,[_t,Ba,fa]);(0,w.Z)(()=>{yi(qi&&Ee)},[qi,Ee]);const ke=Ee&&(Or?Ka:co),La=Ee&&He===1&&Or,qn=Ee&&He>1&&Or,Ko=(Sr,Ln)=>{var la;V(Ln.expanded),(la=Ur.onExpand)===null||la===void 0||la.call(Ur,Sr,Ln)},[ro,No]=y.useState(0),Vo=Sr=>{let{offsetWidth:Ln}=Sr;No(Ln)},Co=Sr=>{var Ln;Ai(Sr),co!==Sr&&((Ln=Ur.onEllipsis)===null||Ln===void 0||Ln.call(Ur,Sr))};y.useEffect(()=>{const Sr=kr.current;if(we&&Or&&Sr){const Ln=qn?Sr.offsetHeight<Sr.scrollHeight:Sr.offsetWidth<Sr.scrollWidth;Ka!==Ln&&qa(Ln)}},[we,Or,Nt,qn,oi,ro]),y.useEffect(()=>{const Sr=kr.current;if(typeof IntersectionObserver=="undefined"||!Sr||!Or||!Ee)return;const Ln=new IntersectionObserver(()=>{_n(!!Sr.offsetParent)});return Ln.observe(Sr),()=>{Ln.disconnect()}},[Or,Ee]);let Fa={};Ur.tooltip===!0?Fa={title:(Ne=Jr.text)!==null&&Ne!==void 0?Ne:Nt}:y.isValidElement(Ur.tooltip)?Fa={title:Ur.tooltip}:typeof Ur.tooltip=="object"?Fa=Object.assign({title:(le=Jr.text)!==null&&le!==void 0?le:Nt},Ur.tooltip):Fa={title:Ur.tooltip};const za=y.useMemo(()=>{const Sr=Ln=>["string","number"].includes(typeof Ln);if(!(!we||Or)){if(Sr(Jr.text))return Jr.text;if(Sr(Nt))return Nt;if(Sr(yn))return yn;if(Sr(Fa.title))return Fa.title}},[we,Or,yn,Fa.title,ke]);if(Yn)return y.createElement(rr,{value:(De=Jr.text)!==null&&De!==void 0?De:typeof Nt=="string"?Nt:"",onSave:Si,onCancel:In,onEnd:Jr.onEnd,prefixCls:un,className:qt,style:Pr,direction:an,component:Mn,maxLength:Jr.maxLength,autoSize:Jr.autoSize,enterIcon:Jr.enterIcon});const us=()=>{const{expandable:Sr,symbol:Ln}=Ur;return!Sr||Xi&&Sr!=="collapsible"?null:y.createElement("a",{key:"expand",className:`${un}-${Xi?"collapse":"expand"}`,onClick:la=>Ko(la,{expanded:!Xi}),"aria-label":Xi?Dr.collapse:Dr==null?void 0:Dr.expand},typeof Ln=="function"?Ln(Xi):Ln)},cs=()=>{if(!br)return;const{icon:Sr,tooltip:Ln,tabIndex:la}=Jr,fs=(0,ee.Z)(Ln)[0]||(Dr==null?void 0:Dr.edit),fo=typeof fs=="string"?fs:"";return lt.includes("icon")?y.createElement(Xe.Z,{key:"edit",title:Ln===!1?"":fs},y.createElement(Be,{ref:Xr,className:`${un}-edit`,onClick:Ti,"aria-label":fo,tabIndex:la},Sr||y.createElement(M.Z,{role:"button"}))):null},Eo=()=>Hi?y.createElement(Et,Object.assign({key:"copy"},Ta,{prefixCls:un,copied:Zi,locale:Dr,onCopy:ai,loading:gi,iconOnly:Nt==null})):null,F=Sr=>[Sr&&us(),cs(),Eo()],Ws=Sr=>[Sr&&!Xi&&y.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Vn),Ur.suffix,F(Sr)];return y.createElement(re.Z,{onResize:Vo,disabled:!Ee},Sr=>y.createElement(Ir,{tooltipProps:Fa,enableEllipsis:Ee,isEllipsis:ke},y.createElement(ne,Object.assign({className:xe()({[`${un}-${$t}`]:$t,[`${un}-disabled`]:ir,[`${un}-ellipsis`]:we,[`${un}-single-line`]:Ee&&He===1&&!Xi,[`${un}-ellipsis-single-line`]:La,[`${un}-ellipsis-multiple-line`]:qn},qt),prefixCls:yt,style:Object.assign(Object.assign({},Pr),{WebkitLineClamp:qn?He:void 0}),component:Mn,ref:(0,X.sQ)(Sr,kr,ye),direction:an,onClick:lt.includes("text")?Ti:void 0,"aria-label":za==null?void 0:za.toString(),title:yn},En),y.createElement(fr,{enableMeasure:Ee&&!Or,text:Nt,rows:He,width:ro,onEllipsis:Co,expanded:Xi,miscDeps:[Zi,Xi,gi,br,Hi]},(Ln,la)=>ln(H,y.createElement(y.Fragment,null,Ln.length>0&&la&&!Xi&&za?y.createElement("span",{key:"show-content","aria-hidden":!0},Ln):Ln,Ws(la)))))))}),qr=function(H,ye){var Ne={};for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&ye.indexOf(le)<0&&(Ne[le]=H[le]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,le=Object.getOwnPropertySymbols(H);De<le.length;De++)ye.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(H,le[De])&&(Ne[le[De]]=H[le[De]]);return Ne},Rn=y.forwardRef((H,ye)=>{var{ellipsis:Ne,rel:le}=H,De=qr(H,["ellipsis","rel"]);const yt=Object.assign(Object.assign({},De),{rel:le===void 0&&De.target==="_blank"?"noopener noreferrer":le});return delete yt.navigate,y.createElement(jn,Object.assign({},yt,{ref:ye,ellipsis:!!Ne,component:"a"}))}),pi=y.forwardRef((H,ye)=>y.createElement(jn,Object.assign({ref:ye},H,{component:"div"}))),Jn=function(H,ye){var Ne={};for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&ye.indexOf(le)<0&&(Ne[le]=H[le]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,le=Object.getOwnPropertySymbols(H);De<le.length;De++)ye.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(H,le[De])&&(Ne[le[De]]=H[le[De]]);return Ne};const nn=(H,ye)=>{var{ellipsis:Ne}=H,le=Jn(H,["ellipsis"]);const De=y.useMemo(()=>Ne&&typeof Ne=="object"?(0,K.Z)(Ne,["expandable","rows"]):Ne,[Ne]);return y.createElement(jn,Object.assign({ref:ye},le,{ellipsis:De,component:"span"}))};var Fr=y.forwardRef(nn),vt=function(H,ye){var Ne={};for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&ye.indexOf(le)<0&&(Ne[le]=H[le]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,le=Object.getOwnPropertySymbols(H);De<le.length;De++)ye.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(H,le[De])&&(Ne[le[De]]=H[le[De]]);return Ne};const Qr=[1,2,3,4,5];var Ke=y.forwardRef((H,ye)=>{const{level:Ne=1}=H,le=vt(H,["level"]);let De;return Qr.includes(Ne)?De=`h${Ne}`:De="h1",y.createElement(jn,Object.assign({ref:ye},le,{component:De}))});const Ot=ne;Ot.Text=Fr,Ot.Link=Rn,Ot.Title=Ke,Ot.Paragraph=pi;var it=Ot},27484:function(Zt){(function(Oe,T){Zt.exports=T()})(this,function(){"use strict";var Oe=1e3,T=6e4,y=36e5,M="millisecond",U="second",xe="minute",re="hour",ee="day",w="week",ie="month",K="quarter",X="year",he="date",Ce="Invalid Date",me=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ge=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,St={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(dt){var ve=["th","st","nd","rd"],oe=dt%100;return"["+dt+(ve[(oe-20)%10]||ve[oe]||ve[0])+"]"}},rt=function(dt,ve,oe){var pt=String(dt);return!pt||pt.length>=ve?dt:""+Array(ve+1-pt.length).join(oe)+dt},de={s:rt,z:function(dt){var ve=-dt.utcOffset(),oe=Math.abs(ve),pt=Math.floor(oe/60),Ie=oe%60;return(ve<=0?"+":"-")+rt(pt,2,"0")+":"+rt(Ie,2,"0")},m:function dt(ve,oe){if(ve.date()<oe.date())return-dt(oe,ve);var pt=12*(oe.year()-ve.year())+(oe.month()-ve.month()),Ie=ve.clone().add(pt,ie),Lt=oe-Ie<0,Ft=ve.clone().add(pt+(Lt?-1:1),ie);return+(-(pt+(oe-Ie)/(Lt?Ie-Ft:Ft-Ie))||0)},a:function(dt){return dt<0?Math.ceil(dt)||0:Math.floor(dt)},p:function(dt){return{M:ie,y:X,w,d:ee,D:he,h:re,m:xe,s:U,ms:M,Q:K}[dt]||String(dt||"").toLowerCase().replace(/s$/,"")},u:function(dt){return dt===void 0}},Ve="en",Be={};Be[Ve]=St;var tt=function(dt){return dt instanceof It},et=function dt(ve,oe,pt){var Ie;if(!ve)return Ve;if(typeof ve=="string"){var Lt=ve.toLowerCase();Be[Lt]&&(Ie=Lt),oe&&(Be[Lt]=oe,Ie=Lt);var Ft=ve.split("-");if(!Ie&&Ft.length>1)return dt(Ft[0])}else{var Ye=ve.name;Be[Ye]=ve,Ie=Ye}return!pt&&Ie&&(Ve=Ie),Ie||!pt&&Ve},Xe=function(dt,ve){if(tt(dt))return dt.clone();var oe=typeof ve=="object"?ve:{};return oe.date=dt,oe.args=arguments,new It(oe)},ze=de;ze.l=et,ze.i=tt,ze.w=function(dt,ve){return Xe(dt,{locale:ve.$L,utc:ve.$u,x:ve.$x,$offset:ve.$offset})};var It=function(){function dt(oe){this.$L=et(oe.locale,null,!0),this.parse(oe)}var ve=dt.prototype;return ve.parse=function(oe){this.$d=function(pt){var Ie=pt.date,Lt=pt.utc;if(Ie===null)return new Date(NaN);if(ze.u(Ie))return new Date;if(Ie instanceof Date)return new Date(Ie);if(typeof Ie=="string"&&!/Z$/i.test(Ie)){var Ft=Ie.match(me);if(Ft){var Ye=Ft[2]-1||0,_e=(Ft[7]||"0").substring(0,3);return Lt?new Date(Date.UTC(Ft[1],Ye,Ft[3]||1,Ft[4]||0,Ft[5]||0,Ft[6]||0,_e)):new Date(Ft[1],Ye,Ft[3]||1,Ft[4]||0,Ft[5]||0,Ft[6]||0,_e)}}return new Date(Ie)}(oe),this.$x=oe.x||{},this.init()},ve.init=function(){var oe=this.$d;this.$y=oe.getFullYear(),this.$M=oe.getMonth(),this.$D=oe.getDate(),this.$W=oe.getDay(),this.$H=oe.getHours(),this.$m=oe.getMinutes(),this.$s=oe.getSeconds(),this.$ms=oe.getMilliseconds()},ve.$utils=function(){return ze},ve.isValid=function(){return this.$d.toString()!==Ce},ve.isSame=function(oe,pt){var Ie=Xe(oe);return this.startOf(pt)<=Ie&&Ie<=this.endOf(pt)},ve.isAfter=function(oe,pt){return Xe(oe)<this.startOf(pt)},ve.isBefore=function(oe,pt){return this.endOf(pt)<Xe(oe)},ve.$g=function(oe,pt,Ie){return ze.u(oe)?this[pt]:this.set(Ie,oe)},ve.unix=function(){return Math.floor(this.valueOf()/1e3)},ve.valueOf=function(){return this.$d.getTime()},ve.startOf=function(oe,pt){var Ie=this,Lt=!!ze.u(pt)||pt,Ft=ze.p(oe),Ye=function(Fe,Le){var Ze=ze.w(Ie.$u?Date.UTC(Ie.$y,Le,Fe):new Date(Ie.$y,Le,Fe),Ie);return Lt?Ze:Ze.endOf(ee)},_e=function(Fe,Le){return ze.w(Ie.toDate()[Fe].apply(Ie.toDate("s"),(Lt?[0,0,0,0]:[23,59,59,999]).slice(Le)),Ie)},q=this.$W,fe=this.$M,Se=this.$D,We="set"+(this.$u?"UTC":"");switch(Ft){case X:return Lt?Ye(1,0):Ye(31,11);case ie:return Lt?Ye(1,fe):Ye(0,fe+1);case w:var ft=this.$locale().weekStart||0,bt=(q<ft?q+7:q)-ft;return Ye(Lt?Se-bt:Se+(6-bt),fe);case ee:case he:return _e(We+"Hours",0);case re:return _e(We+"Minutes",1);case xe:return _e(We+"Seconds",2);case U:return _e(We+"Milliseconds",3);default:return this.clone()}},ve.endOf=function(oe){return this.startOf(oe,!1)},ve.$set=function(oe,pt){var Ie,Lt=ze.p(oe),Ft="set"+(this.$u?"UTC":""),Ye=(Ie={},Ie[ee]=Ft+"Date",Ie[he]=Ft+"Date",Ie[ie]=Ft+"Month",Ie[X]=Ft+"FullYear",Ie[re]=Ft+"Hours",Ie[xe]=Ft+"Minutes",Ie[U]=Ft+"Seconds",Ie[M]=Ft+"Milliseconds",Ie)[Lt],_e=Lt===ee?this.$D+(pt-this.$W):pt;if(Lt===ie||Lt===X){var q=this.clone().set(he,1);q.$d[Ye](_e),q.init(),this.$d=q.set(he,Math.min(this.$D,q.daysInMonth())).$d}else Ye&&this.$d[Ye](_e);return this.init(),this},ve.set=function(oe,pt){return this.clone().$set(oe,pt)},ve.get=function(oe){return this[ze.p(oe)]()},ve.add=function(oe,pt){var Ie,Lt=this;oe=Number(oe);var Ft=ze.p(pt),Ye=function(fe){var Se=Xe(Lt);return ze.w(Se.date(Se.date()+Math.round(fe*oe)),Lt)};if(Ft===ie)return this.set(ie,this.$M+oe);if(Ft===X)return this.set(X,this.$y+oe);if(Ft===ee)return Ye(1);if(Ft===w)return Ye(7);var _e=(Ie={},Ie[xe]=T,Ie[re]=y,Ie[U]=Oe,Ie)[Ft]||1,q=this.$d.getTime()+oe*_e;return ze.w(q,this)},ve.subtract=function(oe,pt){return this.add(-1*oe,pt)},ve.format=function(oe){var pt=this,Ie=this.$locale();if(!this.isValid())return Ie.invalidDate||Ce;var Lt=oe||"YYYY-MM-DDTHH:mm:ssZ",Ft=ze.z(this),Ye=this.$H,_e=this.$m,q=this.$M,fe=Ie.weekdays,Se=Ie.months,We=function(Le,Ze,Jt,or){return Le&&(Le[Ze]||Le(pt,Lt))||Jt[Ze].slice(0,or)},ft=function(Le){return ze.s(Ye%12||12,Le,"0")},bt=Ie.meridiem||function(Le,Ze,Jt){var or=Le<12?"AM":"PM";return Jt?or.toLowerCase():or},Fe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:ze.s(q+1,2,"0"),MMM:We(Ie.monthsShort,q,Se,3),MMMM:We(Se,q),D:this.$D,DD:ze.s(this.$D,2,"0"),d:String(this.$W),dd:We(Ie.weekdaysMin,this.$W,fe,2),ddd:We(Ie.weekdaysShort,this.$W,fe,3),dddd:fe[this.$W],H:String(Ye),HH:ze.s(Ye,2,"0"),h:ft(1),hh:ft(2),a:bt(Ye,_e,!0),A:bt(Ye,_e,!1),m:String(_e),mm:ze.s(_e,2,"0"),s:String(this.$s),ss:ze.s(this.$s,2,"0"),SSS:ze.s(this.$ms,3,"0"),Z:Ft};return Lt.replace(Ge,function(Le,Ze){return Ze||Fe[Le]||Ft.replace(":","")})},ve.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ve.diff=function(oe,pt,Ie){var Lt,Ft=ze.p(pt),Ye=Xe(oe),_e=(Ye.utcOffset()-this.utcOffset())*T,q=this-Ye,fe=ze.m(this,Ye);return fe=(Lt={},Lt[X]=fe/12,Lt[ie]=fe,Lt[K]=fe/3,Lt[w]=(q-_e)/6048e5,Lt[ee]=(q-_e)/864e5,Lt[re]=q/y,Lt[xe]=q/T,Lt[U]=q/Oe,Lt)[Ft]||q,Ie?fe:ze.a(fe)},ve.daysInMonth=function(){return this.endOf(ie).$D},ve.$locale=function(){return Be[this.$L]},ve.locale=function(oe,pt){if(!oe)return this.$L;var Ie=this.clone(),Lt=et(oe,pt,!0);return Lt&&(Ie.$L=Lt),Ie},ve.clone=function(){return ze.w(this.$d,this)},ve.toDate=function(){return new Date(this.valueOf())},ve.toJSON=function(){return this.isValid()?this.toISOString():null},ve.toISOString=function(){return this.$d.toISOString()},ve.toString=function(){return this.$d.toUTCString()},dt}(),tr=It.prototype;return Xe.prototype=tr,[["$ms",M],["$s",U],["$m",xe],["$H",re],["$W",ee],["$M",ie],["$y",X],["$D",he]].forEach(function(dt){tr[dt[1]]=function(ve){return this.$g(ve,dt[0],dt[1])}}),Xe.extend=function(dt,ve){return dt.$i||(dt(ve,It,Xe),dt.$i=!0),Xe},Xe.locale=et,Xe.isDayjs=tt,Xe.unix=function(dt){return Xe(1e3*dt)},Xe.en=Be[Ve],Xe.Ls=Be,Xe.p={},Xe})},78181:function(Zt,Oe,T){"use strict";T.d(Oe,{ZP:function(){return bt}});var y=T(67294),M=Object.defineProperty,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,ee=(Fe,Le,Ze)=>Le in Fe?M(Fe,Le,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):Fe[Le]=Ze,w=(Fe,Le)=>{for(var Ze in Le||(Le={}))xe.call(Le,Ze)&&ee(Fe,Ze,Le[Ze]);if(U)for(var Ze of U(Le))re.call(Le,Ze)&&ee(Fe,Ze,Le[Ze]);return Fe};const ie=Fe=>y.createElement("svg",w({viewBox:"64 64 896 896"},Fe),y.createElement("path",{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}));var K="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODYyIDQ2NS4zaC04MWMtNC42IDAtOSAyLTEyLjEgNS41TDU1MCA3MjMuMVYxNjBjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djU2My4xTDI1NS4xIDQ3MC44Yy0zLTMuNS03LjQtNS41LTEyLjEtNS41aC04MWMtNi44IDAtMTAuNSA4LjEtNiAxMy4yTDQ4Ny45IDg2MWEzMS45NiAzMS45NiAwIDAgMCA0OC4zIDBMODY4IDQ3OC41YzQuNS01LjIuOC0xMy4yLTYtMTMuMnoiLz48L3N2Zz4=",X=Object.defineProperty,he=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Ge=(Fe,Le,Ze)=>Le in Fe?X(Fe,Le,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):Fe[Le]=Ze,St=(Fe,Le)=>{for(var Ze in Le||(Le={}))Ce.call(Le,Ze)&&Ge(Fe,Ze,Le[Ze]);if(he)for(var Ze of he(Le))me.call(Le,Ze)&&Ge(Fe,Ze,Le[Ze]);return Fe};const rt=Fe=>y.createElement("svg",St({viewBox:"64 64 896 896"},Fe),y.createElement("path",{d:"M868 545.5 536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}));var de="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODY4IDU0NS41IDUzNi4xIDE2M2EzMS45NiAzMS45NiAwIDAgMC00OC4zIDBMMTU2IDU0NS41YTcuOTcgNy45NyAwIDAgMCA2IDEzLjJoODFjNC42IDAgOS0yIDEyLjEtNS41TDQ3NCAzMDAuOVY4NjRjMCA0LjQgMy42IDggOCA4aDYwYzQuNCAwIDgtMy42IDgtOFYzMDAuOWwyMTguOSAyNTIuM2MzIDMuNSA3LjQgNS41IDEyLjEgNS41aDgxYzYuOCAwIDEwLjUtOCA2LTEzLjJ6Ii8+PC9zdmc+",Ve=Object.defineProperty,Be=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,Xe=(Fe,Le,Ze)=>Le in Fe?Ve(Fe,Le,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):Fe[Le]=Ze,ze=(Fe,Le)=>{for(var Ze in Le||(Le={}))tt.call(Le,Ze)&&Xe(Fe,Ze,Le[Ze]);if(Be)for(var Ze of Be(Le))et.call(Le,Ze)&&Xe(Fe,Ze,Le[Ze]);return Fe};const It=Fe=>y.createElement("svg",ze({viewBox:"64 64 896 896"},Fe),y.createElement("path",{d:"M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}));var tr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNOTA5LjYgODU0LjUgNjQ5LjkgNTk0LjhDNjkwLjIgNTQyLjcgNzEyIDQ3OSA3MTIgNDEyYzAtODAuMi0zMS4zLTE1NS40LTg3LjktMjEyLjEtNTYuNi01Ni43LTEzMi04Ny45LTIxMi4xLTg3LjlzLTE1NS41IDMxLjMtMjEyLjEgODcuOUMxNDMuMiAyNTYuNSAxMTIgMzMxLjggMTEyIDQxMmMwIDgwLjEgMzEuMyAxNTUuNSA4Ny45IDIxMi4xQzI1Ni41IDY4MC44IDMzMS44IDcxMiA0MTIgNzEyYzY3IDAgMTMwLjYtMjEuOCAxODIuNy02MmwyNTkuNyAyNTkuNmE4LjIgOC4yIDAgMCAwIDExLjYgMGw0My42LTQzLjVhOC4yIDguMiAwIDAgMCAwLTExLjZ6TTU3MC40IDU3MC40QzUyOCA2MTIuNyA0NzEuOCA2MzYgNDEyIDYzNnMtMTE2LTIzLjMtMTU4LjQtNjUuNkMyMTEuMyA1MjggMTg4IDQ3MS44IDE4OCA0MTJzMjMuMy0xMTYuMSA2NS42LTE1OC40QzI5NiAyMTEuMyAzNTIuMiAxODggNDEyIDE4OHMxMTYuMSAyMy4yIDE1OC40IDY1LjZTNjM2IDM1Mi4yIDYzNiA0MTJzLTIzLjMgMTE2LjEtNjUuNiAxNTguNHoiLz48L3N2Zz4=",dt=T(54037),ve=T(47727),oe=(0,y.forwardRef)(function(Fe,Le){var Ze=(0,dt.YB)(),Jt=(0,y.useRef)(!1),or=(0,y.useRef)(null);return(0,y.useImperativeHandle)(Le,function(){return or.current}),y.createElement("input",{className:"dumi-default-search-bar-input",onCompositionStart:function(){return Jt.current=!0},onCompositionEnd:function(rr){Jt.current=!1,Fe.onChange(rr.currentTarget.value)},onFocus:Fe.onFocus,onBlur:Fe.onBlur,onMouseEnter:Fe.onMouseEnter,onKeyDown:function(rr){["ArrowDown","ArrowUp"].includes(rr.key)&&rr.preventDefault(),rr.key==="Escape"&&!Jt.current&&rr.currentTarget.blur()},onChange:function(rr){var jr=rr.target.value;setTimeout(function(){Jt.current||Fe.onChange(jr)},1)},placeholder:Ze.formatMessage({id:"header.search.placeholder"}),ref:or})}),pt=function(Le){return(0,y.useEffect)(function(){if(Le.visible)document.body.style.overflow="hidden";else if(document.body.style.overflow){var Ze;document.body.style.overflow="",(Ze=Le.onClose)===null||Ze===void 0||Ze.call(Le)}},[Le.visible]),Le.visible?y.createElement("div",{className:"dumi-default-search-modal"},y.createElement("div",{className:"dumi-default-search-modal-mask",onClick:Le.onMaskClick}),y.createElement("div",{className:"dumi-default-search-modal-content"},Le.children)):null},Ie;function Lt(Fe,Le){return fe(Fe)||q(Fe,Le)||Ye(Fe,Le)||Ft()}function Ft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(Fe,Le){if(Fe){if(typeof Fe=="string")return _e(Fe,Le);var Ze=Object.prototype.toString.call(Fe).slice(8,-1);if(Ze==="Object"&&Fe.constructor&&(Ze=Fe.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(Fe);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return _e(Fe,Le)}}function _e(Fe,Le){(Le==null||Le>Fe.length)&&(Le=Fe.length);for(var Ze=0,Jt=new Array(Le);Ze<Le;Ze++)Jt[Ze]=Fe[Ze];return Jt}function q(Fe,Le){var Ze=Fe==null?null:typeof Symbol!="undefined"&&Fe[Symbol.iterator]||Fe["@@iterator"];if(Ze!=null){var Jt,or,vr,rr,jr=[],qe=!0,$e=!1;try{if(vr=(Ze=Ze.call(Fe)).next,Le===0){if(Object(Ze)!==Ze)return;qe=!1}else for(;!(qe=(Jt=vr.call(Ze)).done)&&(jr.push(Jt.value),jr.length!==Le);qe=!0);}catch(Ct){$e=!0,or=Ct}finally{try{if(!qe&&Ze.return!=null&&(rr=Ze.return(),Object(rr)!==rr))return}finally{if($e)throw or}}return jr}}function fe(Fe){if(Array.isArray(Fe))return Fe}var Se=/(mac|iphone|ipod|ipad)/i.test(typeof navigator!="undefined"?(Ie=navigator)===null||Ie===void 0?void 0:Ie.platform:""),We=function(Le){return["TEXTAREA","INPUT"].includes(Le.tagName)||Le.contentEditable==="true"},ft=function(){var Le=(0,y.useState)(!1),Ze=Lt(Le,2),Jt=Ze[0],or=Ze[1],vr=(0,y.useRef)(null),rr=(0,y.useRef)(null),jr=(0,y.useState)("\u2318"),qe=Lt(jr,2),$e=qe[0],Ct=qe[1],gr=(0,dt.OO)(),_r=gr.keywords,zr=gr.setKeywords,xt=gr.result,ge=gr.loading,je=gr.load,ht=(0,y.useState)(!1),Mt=Lt(ht,2),nt=Mt[0],ne=Mt[1];return(0,y.useEffect)(function(){Se||Ct("Ctrl");var ue=function(Re){if(((Se?Re.metaKey:Re.ctrlKey)&&Re.key==="k"||Re.key==="/"&&!We(Re.target))&&(Re.preventDefault(),vr.current)){var Ae=vr.current.getBoundingClientRect(),Rt=Ae.top,Ht=Ae.bottom,Vt=Ae.left,Bt=Ae.right,wt=Rt>=0&&Vt>=0&&Ht<=window.innerHeight&&Bt<=window.innerWidth;wt?vr.current.focus():(zr(""),ne(!0),setTimeout(function(){var pr;(pr=rr.current)===null||pr===void 0||pr.focus()}))}Re.key==="Escape"&&(Re.preventDefault(),ne(!1))};return document.addEventListener("keydown",ue),function(){return document.removeEventListener("keydown",ue)}},[]),y.createElement("div",{className:"dumi-default-search-bar"},y.createElement(It,{className:"dumi-default-search-bar-svg"}),y.createElement(oe,{onFocus:function(){or(!0),je()},onMouseEnter:function(){je()},onBlur:function(){setTimeout(function(){or(!1)},1)},onChange:function(J){return zr(J)},ref:vr}),y.createElement("span",{className:"dumi-default-search-shortcut"},$e," K"),_r.trim()&&Jt&&!nt&&y.createElement("div",{className:"dumi-default-search-popover"},y.createElement("section",null,y.createElement(ve.Z,{data:xt,loading:ge}))),y.createElement(pt,{visible:nt,onMaskClick:function(){ne(!1)},onClose:function(){return zr("")}},y.createElement("div",{style:{position:"relative"}},y.createElement(It,{className:"dumi-default-search-bar-svg"}),y.createElement(oe,{onFocus:function(){return or(!0)},onBlur:function(){setTimeout(function(){or(!1)},1)},onChange:function(J){return zr(J)},ref:rr})),y.createElement(ve.Z,{data:xt,loading:ge,onItemSelect:function(){ne(!1)}}),y.createElement("footer",null,y.createElement("ul",{className:"dumi-default-search-modal-commands"},y.createElement("li",{className:"dumi-default-search-modal-commands-arrow"},y.createElement("span",{className:"dumi-default-search-modal-shortcut"},y.createElement(rt,{width:"10px",height:"10px",fill:"rgba(0, 0, 0, 0.45)"})),y.createElement("span",{className:"dumi-default-search-modal-shortcut"},y.createElement(ie,{width:"10px",height:"10px",fill:"rgba(0, 0, 0, 0.45)"})),y.createElement("span",{className:"dumi-default-search-modal-commands-text"},"to navigate")),y.createElement("li",null,y.createElement("span",{className:"dumi-default-search-modal-shortcut"},"esc"),y.createElement("span",{className:"dumi-default-search-modal-commands-text"},"to close"))))))},bt=ft},74932:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return _e}});var y=T(67294),M=Object.defineProperty,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,ee=(q,fe,Se)=>fe in q?M(q,fe,{enumerable:!0,configurable:!0,writable:!0,value:Se}):q[fe]=Se,w=(q,fe)=>{for(var Se in fe||(fe={}))xe.call(fe,Se)&&ee(q,Se,fe[Se]);if(U)for(var Se of U(fe))re.call(fe,Se)&&ee(q,Se,fe[Se]);return q};const ie=q=>y.createElement("svg",w({viewBox:"0 0 1024 1024"},q),y.createElement("path",{d:"m885.2 446.3-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0 0 60.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}));var K="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48cGF0aCBkPSJtODg1LjIgNDQ2LjMtLjItLjgtMTEyLjItMjg1LjFjLTUtMTYuMS0xOS45LTI3LjItMzYuOC0yNy4ySDI4MS4yYy0xNyAwLTMyLjEgMTEuMy0zNi45IDI3LjZMMTM5LjQgNDQzbC0uMy43LS4yLjhjLTEuMyA0LjktMS43IDkuOS0xIDE0LjgtLjEgMS42LS4yIDMuMi0uMiA0LjhWODMwYTYwLjkgNjAuOSAwIDAgMCA2MC44IDYwLjhoNjI3LjJjMzMuNSAwIDYwLjgtMjcuMyA2MC45LTYwLjhWNDY0LjFjMC0xLjMgMC0yLjYtLjEtMy43LjQtNC45IDAtOS42LTEuMy0xNC4xem0tMjk1LjgtNDMtLjMgMTUuN2MtLjggNDQuOS0zMS44IDc1LjEtNzcuMSA3NS4xLTIyLjEgMC00MS4xLTcuMS01NC44LTIwLjZTNDM2IDQ0MS4yIDQzNS42IDQxOWwtLjMtMTUuN0gyMjkuNUwzMDkgMjEwaDM5OS4ybDgxLjcgMTkzLjNINTg5LjR6bS0zNzUgNzYuOGgxNTcuM2MyNC4zIDU3LjEgNzYgOTAuOCAxNDAuNCA5MC44IDMzLjcgMCA2NS05LjQgOTAuMy0yNy4yIDIyLjItMTUuNiAzOS41LTM3LjQgNTAuNy02My42aDE1Ni41VjgxNEgyMTQuNFY0ODAuMXoiLz48L3N2Zz4=",X=function(q,fe,Se,We){function ft(bt){return bt instanceof Se?bt:new Se(function(Fe){Fe(bt)})}return new(Se||(Se=Promise))(function(bt,Fe){function Le(or){try{Jt(We.next(or))}catch(vr){Fe(vr)}}function Ze(or){try{Jt(We.throw(or))}catch(vr){Fe(vr)}}function Jt(or){or.done?bt(or.value):ft(or.value).then(Le,Ze)}Jt((We=We.apply(q,fe||[])).next())})};function he(q){let fe=0,Se=0,We=q;do fe+=We.offsetTop||0,Se+=We.offsetLeft||0,We=We.offsetParent;while(We);return{top:fe,left:Se}}class Ce{constructor(fe){this.element=fe}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(fe,Se){return he(fe).left-he(Se).left}getVerticalElementScrollOffset(fe,Se){return he(fe).top-he(Se).top}scrollTo(fe,Se){this.element.scrollLeft=fe,this.element.scrollTop=Se}}class me{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(fe){return(window.scrollX||document.documentElement.scrollLeft)+fe.getBoundingClientRect().left}getVerticalElementScrollOffset(fe){return(window.scrollY||document.documentElement.scrollTop)+fe.getBoundingClientRect().top}scrollTo(fe,Se){window.scrollTo(fe,Se)}}const Ge={elements:[],cancelMethods:[],add:(q,fe)=>{Ge.elements.push(q),Ge.cancelMethods.push(fe)},remove:(q,fe)=>{const Se=Ge.elements.indexOf(q);Se>-1&&(fe&&Ge.cancelMethods[Se](),Ge.elements.splice(Se,1),Ge.cancelMethods.splice(Se,1))}},St=typeof window!="undefined",rt={cancelOnUserAction:!0,easing:q=>--q*q*q+1,elementToScroll:St?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};function de(q){return X(this,arguments,void 0,function*(fe,Se={}){if(St){if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill."}else return new Promise(je=>{je(!1)});let We,ft,bt,Fe=Object.assign(Object.assign({},rt),Se);const Le=Fe.elementToScroll===window,Ze=!!Fe.elementToScroll.nodeName;if(!Le&&!Ze)throw"Element to scroll needs to be either window or DOM element.";const Jt=[{property:"scroll-behavior",value:"smooth"},{property:"scroll-snap-type",value:"mandatory"}],or=Le?document.documentElement:Fe.elementToScroll,vr=getComputedStyle(or);Jt.forEach(({property:je,value:ht})=>{const Mt=vr.getPropertyValue(je);Mt.includes(ht)&&console.warn(`${or.tagName} has "${je}: ${Mt}" which can break animated-scroll-to's animations`)});const rr=Le?new me:new Ce(Fe.elementToScroll);if(fe instanceof Element){if(bt=fe,Ze&&(!Fe.elementToScroll.contains(bt)||Fe.elementToScroll.isSameNode(bt)))throw"options.elementToScroll has to be a parent of scrollToElement";We=rr.getHorizontalElementScrollOffset(bt,Fe.elementToScroll),ft=rr.getVerticalElementScrollOffset(bt,Fe.elementToScroll)}else if(typeof fe=="number")We=rr.getHorizontalScroll(),ft=fe;else if(Array.isArray(fe)&&fe.length===2)We=fe[0]===null?rr.getHorizontalScroll():fe[0],ft=fe[1]===null?rr.getVerticalScroll():fe[1];else throw`Wrong function signature. Check documentation.
Available method signatures are:
  animateScrollTo(y:number, options)
  animateScrollTo([x:number | null, y:number | null], options)
  animateScrollTo(scrollToElement:Element, options)`;We+=Fe.horizontalOffset,ft+=Fe.verticalOffset;const jr=rr.getMaxHorizontalScroll(),qe=rr.getHorizontalScroll();We>jr&&(We=jr);const $e=We-qe,Ct=rr.getMaxVerticalScroll(),gr=rr.getVerticalScroll();ft>Ct&&(ft=Ct);const _r=ft-gr,zr=Math.abs(Math.round($e/1e3*Fe.speed)),xt=Math.abs(Math.round(_r/1e3*Fe.speed));let ge=zr>xt?zr:xt;return ge<Fe.minDuration?ge=Fe.minDuration:ge>Fe.maxDuration&&(ge=Fe.maxDuration),new Promise((je,ht)=>{$e===0&&_r===0&&je(!0),Ge.remove(rr.element,!0);let Mt;const nt=()=>{Ae(),cancelAnimationFrame(Mt),je(!1)};Ge.add(rr.element,nt);const ne=Vt=>Vt.preventDefault(),ue=Fe.cancelOnUserAction?nt:ne,J=Fe.cancelOnUserAction?{passive:!0}:{passive:!1},Re=["wheel","touchstart","keydown","mousedown"],Ae=()=>{Re.forEach(Vt=>{rr.element.removeEventListener(Vt,ue,J)})};Re.forEach(Vt=>{rr.element.addEventListener(Vt,ue,J)});const Rt=Date.now(),Ht=()=>{var Vt=Date.now()-Rt,Bt=Vt/ge;const wt=Math.round(qe+$e*Fe.easing(Bt)),pr=Math.round(gr+_r*Fe.easing(Bt));Vt<ge&&(wt!==We||pr!==ft)?(rr.scrollTo(wt,pr),Mt=requestAnimationFrame(Ht)):(rr.scrollTo(We,ft),cancelAnimationFrame(Mt),Ae(),Ge.remove(rr.element,!1),je(!0))};Mt=requestAnimationFrame(Ht)})})}var Ve=de,Be=T(54037);function tt(q,fe){return tr(q)||It(q,fe)||Xe(q,fe)||et()}function et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(q,fe){if(q){if(typeof q=="string")return ze(q,fe);var Se=Object.prototype.toString.call(q).slice(8,-1);if(Se==="Object"&&q.constructor&&(Se=q.constructor.name),Se==="Map"||Se==="Set")return Array.from(q);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return ze(q,fe)}}function ze(q,fe){(fe==null||fe>q.length)&&(fe=q.length);for(var Se=0,We=new Array(fe);Se<fe;Se++)We[Se]=q[Se];return We}function It(q,fe){var Se=q==null?null:typeof Symbol!="undefined"&&q[Symbol.iterator]||q["@@iterator"];if(Se!=null){var We,ft,bt,Fe,Le=[],Ze=!0,Jt=!1;try{if(bt=(Se=Se.call(q)).next,fe===0){if(Object(Se)!==Se)return;Ze=!1}else for(;!(Ze=(We=bt.call(Se)).done)&&(Le.push(We.value),Le.length!==fe);Ze=!0);}catch(or){Jt=!0,ft=or}finally{try{if(!Ze&&Se.return!=null&&(Fe=Se.return(),Object(Fe)!==Fe))return}finally{if(Jt)throw ft}}return Le}}function tr(q){if(Array.isArray(q))return q}var dt=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M5.333 10.667h21.334c.889 0 1.333.444 1.333 1.333s-.444 1.333-1.333 1.333H5.333C4.444 13.333 4 12.89 4 12s.444-1.333 1.333-1.333Z"}),y.createElement("path",{d:"M13.207 2.667h.126a1.206 1.206 0 0 1 1.2 1.326l-2.413 24.14a1.333 1.333 0 0 1-1.327 1.2h-.126a1.206 1.206 0 0 1-1.2-1.326l2.413-24.14c.068-.682.642-1.2 1.327-1.2Zm8 0h.126a1.206 1.206 0 0 1 1.2 1.326l-2.413 24.14a1.333 1.333 0 0 1-1.327 1.2h-.126a1.206 1.206 0 0 1-1.2-1.326l2.413-24.14c.068-.682.642-1.2 1.327-1.2Z"}),y.createElement("path",{d:"M5.333 18.667h21.334c.889 0 1.333.444 1.333 1.333s-.444 1.333-1.333 1.333H5.333C4.444 21.333 4 20.89 4 20s.444-1.333 1.333-1.333Z"}))},ve=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M9.402 0h14.78L30 6.16V24.5c0 1.933-1.71 3.5-3.589 3.5H9.401C7.524 28 6 26.433 6 24.5v-21C6 1.567 7.523 0 9.402 0ZM23 2v4.183c0 .451.366.817.817.817H28l-5-5Zm3.333 24c.92 0 1.667-.768 1.667-1.714V8.857h-5c-.92 0-1.667-.767-1.667-1.714V2H9.667C8.747 2 8 2.768 8 3.714v20.572C8 25.232 8.746 26 9.667 26h16.666Z"}))},oe=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M6.12 14.589h6.628l1.52 4.004h2.485l-5.938-15.19H8.053L2.115 18.732H4.6l1.52-4.143ZM8.88 6.855c.139-.414.277-.828.415-1.38h.138c0 .138.138.414.414 1.104 0 .138.138.276.138.276 0 .138.829 2.072 2.21 5.938H6.672c1.519-3.866 2.21-5.8 2.21-5.938Zm8.148 2.348h12.705v1.933H17.029V9.203ZM2.115 20.665h27.619v1.933H2.114v-1.933Zm14.914-5.662h12.705v1.933H17.029v-1.933ZM2.115 26.327h27.619v1.933H2.114v-1.933ZM17.029 3.54h12.705v1.934H17.029V3.54Z"}))},pt=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M28 6h-5a5 5 0 0 0-10 0H8a2 2 0 0 0-2 2v5a5 5 0 0 0 0 10v5a2 2 0 0 0 2 2h7v-2a3 3 0 0 1 6 0v2h7a2 2 0 0 0 2-2v-7h-2a3 3 0 0 1 0-6h2V8a2 2 0 0 0-2-2Zm-5 12a5 5 0 0 0 5 5v5h-5a5 5 0 0 0-10 0H8v-7H6a3 3 0 0 1 0-6h2V8h7V6a3 3 0 0 1 6 0v2h7v5a5 5 0 0 0-5 5Z"}))},Ie={title:dt,page:ve,content:oe,demo:pt},Lt=function(fe){return y.createElement(y.Fragment,null,fe.texts.map(function(Se,We){return y.createElement(y.Fragment,{key:We},Se.highlighted?y.createElement("mark",null,Se.text):Se.text)}))},Ft=function(fe){var Se=(0,y.useCallback)(function(){var Le=0,Ze=[];return fe.forEach(function(Jt){Jt.title&&Ze.push({type:"title",value:{title:Jt.title}}),Jt.hints.forEach(function(or){Ze.push({type:"hint",activeIndex:Le++,value:or})})}),[Ze,Le]},[fe]),We=(0,y.useState)(Se),ft=tt(We,2),bt=ft[0],Fe=ft[1];return(0,y.useEffect)(function(){Fe(Se)},[fe]),bt},Ye=function(fe){var Se=Ft(fe.data),We=tt(Se,2),ft=We[0],bt=We[1],Fe=(0,y.useState)(-1),Le=tt(Fe,2),Ze=Le[0],Jt=Le[1],or=(0,Be.TH)(),vr=or.pathname,rr=function($e){var Ct;(Ct=fe.onItemSelect)===null||Ct===void 0||Ct.call(fe,$e);var gr=new URL($e==null?void 0:$e.link,location.origin);(gr==null?void 0:gr.pathname)===vr&&!gr.hash&&setTimeout(function(){Ve(0,{maxDuration:300})},1)};(0,y.useEffect)(function(){var qe=function(Ct){if(Ct.key==="ArrowDown")Jt((Ze+1)%bt);else if(Ct.key==="ArrowUp")Jt((Ze+bt-1)%bt);else if(Ct.key==="Enter"&&Ze>=0){var gr=ft.find(function(_r){return _r.type==="hint"&&_r.activeIndex===Ze}).value;Be.m8.push(gr.link),rr==null||rr(gr),document.activeElement.blur()}["Escape","Enter"].includes(Ct.key)&&Jt(-1)};return document.addEventListener("keydown",qe),function(){return document.removeEventListener("keydown",qe)}});var jr=null;return fe.loading?jr=y.createElement("div",{className:"dumi-default-search-empty"},y.createElement(ie,null),y.createElement(Be._H,{id:"search.loading"})):fe.data.length?jr=y.createElement("dl",null,ft.map(function(qe,$e){return qe.type==="title"?y.createElement("dt",{key:String($e)},qe.value.title):y.createElement("dd",{key:String($e)},y.createElement(Be.rU,{to:qe.value.link,"data-active":Ze===qe.activeIndex||void 0,onClick:function(){return rr==null?void 0:rr(qe.value)}},y.createElement(Ie[qe.value.type]),y.createElement("h4",null,y.createElement(Lt,{texts:qe.value.highlightTitleTexts})),y.createElement("p",null,y.createElement(Lt,{texts:qe.value.highlightTexts}))))})):jr=y.createElement("div",{className:"dumi-default-search-empty"},y.createElement(ie,null),y.createElement(Be._H,{id:"search.not.found"})),y.createElement("div",{className:"dumi-default-search-result",onMouseEnter:function(){return Jt(-1)},onMouseDownCapture:function($e){return $e.preventDefault()},onMouseUpCapture:function(){document.activeElement.blur()}},jr)},_e=Ye},83465:function(Zt,Oe,T){Zt=T.nmd(Zt);var y=200,M="__lodash_hash_undefined__",U=9007199254740991,xe="[object Arguments]",re="[object Array]",ee="[object Boolean]",w="[object Date]",ie="[object Error]",K="[object Function]",X="[object GeneratorFunction]",he="[object Map]",Ce="[object Number]",me="[object Object]",Ge="[object Promise]",St="[object RegExp]",rt="[object Set]",de="[object String]",Ve="[object Symbol]",Be="[object WeakMap]",tt="[object ArrayBuffer]",et="[object DataView]",Xe="[object Float32Array]",ze="[object Float64Array]",It="[object Int8Array]",tr="[object Int16Array]",dt="[object Int32Array]",ve="[object Uint8Array]",oe="[object Uint8ClampedArray]",pt="[object Uint16Array]",Ie="[object Uint32Array]",Lt=/[\\^$.*+?()[\]{}|]/g,Ft=/\w*$/,Ye=/^\[object .+?Constructor\]$/,_e=/^(?:0|[1-9]\d*)$/,q={};q[xe]=q[re]=q[tt]=q[et]=q[ee]=q[w]=q[Xe]=q[ze]=q[It]=q[tr]=q[dt]=q[he]=q[Ce]=q[me]=q[St]=q[rt]=q[de]=q[Ve]=q[ve]=q[oe]=q[pt]=q[Ie]=!0,q[ie]=q[K]=q[Be]=!1;var fe=typeof T.g=="object"&&T.g&&T.g.Object===Object&&T.g,Se=typeof self=="object"&&self&&self.Object===Object&&self,We=fe||Se||Function("return this")(),ft=Oe&&!Oe.nodeType&&Oe,bt=ft&&!0&&Zt&&!Zt.nodeType&&Zt,Fe=bt&&bt.exports===ft;function Le(V,Ee){return V.set(Ee[0],Ee[1]),V}function Ze(V,Ee){return V.add(Ee),V}function Jt(V,Ee){for(var He=-1,_t=V?V.length:0;++He<_t&&Ee(V[He],He,V)!==!1;);return V}function or(V,Ee){for(var He=-1,_t=Ee.length,Or=V.length;++He<_t;)V[Or+He]=Ee[He];return V}function vr(V,Ee,He,_t){var Or=-1,yi=V?V.length:0;for(_t&&yi&&(He=V[++Or]);++Or<yi;)He=Ee(He,V[Or],Or,V);return He}function rr(V,Ee){for(var He=-1,_t=Array(V);++He<V;)_t[He]=Ee(He);return _t}function jr(V,Ee){return V==null?void 0:V[Ee]}function qe(V){var Ee=!1;if(V!=null&&typeof V.toString!="function")try{Ee=!!(V+"")}catch(He){}return Ee}function $e(V){var Ee=-1,He=Array(V.size);return V.forEach(function(_t,Or){He[++Ee]=[Or,_t]}),He}function Ct(V,Ee){return function(He){return V(Ee(He))}}function gr(V){var Ee=-1,He=Array(V.size);return V.forEach(function(_t){He[++Ee]=_t}),He}var _r=Array.prototype,zr=Function.prototype,xt=Object.prototype,ge=We["__core-js_shared__"],je=function(){var V=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return V?"Symbol(src)_1."+V:""}(),ht=zr.toString,Mt=xt.hasOwnProperty,nt=xt.toString,ne=RegExp("^"+ht.call(Mt).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=Fe?We.Buffer:void 0,J=We.Symbol,Re=We.Uint8Array,Ae=Ct(Object.getPrototypeOf,Object),Rt=Object.create,Ht=xt.propertyIsEnumerable,Vt=_r.splice,Bt=Object.getOwnPropertySymbols,wt=ue?ue.isBuffer:void 0,pr=Ct(Object.keys,Object),Et=Hn(We,"DataView"),be=Hn(We,"Map"),jt=Hn(We,"Promise"),Yt=Hn(We,"Set"),sr=Hn(We,"WeakMap"),lr=Hn(Object,"create"),nr=gi(Et),sn=gi(be),Br=gi(jt),hn=gi(Yt),Ue=gi(sr),fr=J?J.prototype:void 0,Cr=fr?fr.valueOf:void 0;function Ir(V){var Ee=-1,He=V?V.length:0;for(this.clear();++Ee<He;){var _t=V[Ee];this.set(_t[0],_t[1])}}function Er(){this.__data__=lr?lr(null):{}}function ln(V){return this.has(V)&&delete this.__data__[V]}function Vn(V){var Ee=this.__data__;if(lr){var He=Ee[V];return He===M?void 0:He}return Mt.call(Ee,V)?Ee[V]:void 0}function hr(V){var Ee=this.__data__;return lr?Ee[V]!==void 0:Mt.call(Ee,V)}function jn(V,Ee){var He=this.__data__;return He[V]=lr&&Ee===void 0?M:Ee,this}Ir.prototype.clear=Er,Ir.prototype.delete=ln,Ir.prototype.get=Vn,Ir.prototype.has=hr,Ir.prototype.set=jn;function qr(V){var Ee=-1,He=V?V.length:0;for(this.clear();++Ee<He;){var _t=V[Ee];this.set(_t[0],_t[1])}}function Zn(){this.__data__=[]}function Rn(V){var Ee=this.__data__,He=qt(Ee,V);if(He<0)return!1;var _t=Ee.length-1;return He==_t?Ee.pop():Vt.call(Ee,He,1),!0}function vi(V){var Ee=this.__data__,He=qt(Ee,V);return He<0?void 0:Ee[He][1]}function pi(V){return qt(this.__data__,V)>-1}function Jn(V,Ee){var He=this.__data__,_t=qt(He,V);return _t<0?He.push([V,Ee]):He[_t][1]=Ee,this}qr.prototype.clear=Zn,qr.prototype.delete=Rn,qr.prototype.get=vi,qr.prototype.has=pi,qr.prototype.set=Jn;function nn(V){var Ee=-1,He=V?V.length:0;for(this.clear();++Ee<He;){var _t=V[Ee];this.set(_t[0],_t[1])}}function Fr(){this.__data__={hash:new Ir,map:new(be||qr),string:new Ir}}function vt(V){return Yn(this,V).delete(V)}function Qr(V){return Yn(this,V).get(V)}function Te(V){return Yn(this,V).has(V)}function Ke(V,Ee){return Yn(this,V).set(V,Ee),this}nn.prototype.clear=Fr,nn.prototype.delete=vt,nn.prototype.get=Qr,nn.prototype.has=Te,nn.prototype.set=Ke;function Ot(V){this.__data__=new qr(V)}function it(){this.__data__=new qr}function H(V){return this.__data__.delete(V)}function ye(V){return this.__data__.get(V)}function Ne(V){return this.__data__.has(V)}function le(V,Ee){var He=this.__data__;if(He instanceof qr){var _t=He.__data__;if(!be||_t.length<y-1)return _t.push([V,Ee]),this;He=this.__data__=new nn(_t)}return He.set(V,Ee),this}Ot.prototype.clear=it,Ot.prototype.delete=H,Ot.prototype.get=ye,Ot.prototype.has=Ne,Ot.prototype.set=le;function De(V,Ee){var He=Ba(V)||Va(V)?rr(V.length,String):[],_t=He.length,Or=!!_t;for(var yi in V)(Ee||Mt.call(V,yi))&&!(Or&&(yi=="length"||In(yi,_t)))&&He.push(yi);return He}function yt(V,Ee,He){var _t=V[Ee];(!(Mt.call(V,Ee)&&fa(_t,He))||He===void 0&&!(Ee in V))&&(V[Ee]=He)}function qt(V,Ee){for(var He=V.length;He--;)if(fa(V[He][0],Ee))return He;return-1}function Pr(V,Ee){return V&&En(Ee,we(Ee),V)}function $t(V,Ee,He,_t,Or,yi,qi){var ke;if(_t&&(ke=yi?_t(V,Or,yi,qi):_t(V)),ke!==void 0)return ke;if(!oi(V))return V;var La=Ba(V);if(La){if(ke=na(V),!Ee)return un(V,ke)}else{var qn=Rr(V),Ko=qn==K||qn==X;if(Ai(V))return Mn(V,Ee);if(qn==me||qn==xe||Ko&&!yi){if(qe(V))return yi?V:{};if(ke=Ti(Ko?{}:V),!Ee)return br(V,Pr(ke,V))}else{if(!q[qn])return yi?V:{};ke=Si(V,qn,$t,Ee)}}qi||(qi=new Ot);var ro=qi.get(V);if(ro)return ro;if(qi.set(V,ke),!La)var No=He?Jr(V):we(V);return Jt(No||V,function(Vo,Co){No&&(Co=Vo,Vo=V[Co]),yt(ke,Co,$t(Vo,Ee,He,_t,Co,V,qi))}),ke}function ir(V){return oi(V)?Rt(V):{}}function Nt(V,Ee,He){var _t=Ee(V);return Ba(V)?_t:or(_t,He(V))}function Tr(V){return nt.call(V)}function Kt(V){if(!oi(V)||Ta(V))return!1;var Ee=Ka(V)||qe(V)?ne:Ye;return Ee.test(gi(V))}function xn(V){if(!Zi(V))return pr(V);var Ee=[];for(var He in Object(V))Mt.call(V,He)&&He!="constructor"&&Ee.push(He);return Ee}function Mn(V,Ee){if(Ee)return V.slice();var He=new V.constructor(V.length);return V.copy(He),He}function yn(V){var Ee=new V.constructor(V.byteLength);return new Re(Ee).set(new Re(V)),Ee}function An(V,Ee){var He=Ee?yn(V.buffer):V.buffer;return new V.constructor(He,V.byteOffset,V.byteLength)}function Pt(V,Ee,He){var _t=Ee?He($e(V),!0):$e(V);return vr(_t,Le,new V.constructor)}function an(V){var Ee=new V.constructor(V.source,Ft.exec(V));return Ee.lastIndex=V.lastIndex,Ee}function Dr(V,Ee,He){var _t=Ee?He(gr(V),!0):gr(V);return vr(_t,Ze,new V.constructor)}function kr(V){return Cr?Object(Cr.call(V)):{}}function Xr(V,Ee){var He=Ee?yn(V.buffer):V.buffer;return new V.constructor(He,V.byteOffset,V.length)}function un(V,Ee){var He=-1,_t=V.length;for(Ee||(Ee=Array(_t));++He<_t;)Ee[He]=V[He];return Ee}function En(V,Ee,He,_t){He||(He={});for(var Or=-1,yi=Ee.length;++Or<yi;){var qi=Ee[Or],ke=_t?_t(He[qi],V[qi],qi,He,V):void 0;yt(He,qi,ke===void 0?V[qi]:ke)}return He}function br(V,Ee){return En(V,lt(V),Ee)}function Jr(V){return Nt(V,we,lt)}function Yn(V,Ee){var He=V.__data__;return Hi(Ee)?He[typeof Ee=="string"?"string":"hash"]:He.map}function Hn(V,Ee){var He=jr(V,Ee);return Kt(He)?He:void 0}var lt=Bt?Ct(Bt,Object):Ur,Rr=Tr;(Et&&Rr(new Et(new ArrayBuffer(1)))!=et||be&&Rr(new be)!=he||jt&&Rr(jt.resolve())!=Ge||Yt&&Rr(new Yt)!=rt||sr&&Rr(new sr)!=Be)&&(Rr=function(V){var Ee=nt.call(V),He=Ee==me?V.constructor:void 0,_t=He?gi(He):void 0;if(_t)switch(_t){case nr:return et;case sn:return he;case Br:return Ge;case hn:return rt;case Ue:return Be}return Ee});function na(V){var Ee=V.length,He=V.constructor(Ee);return Ee&&typeof V[0]=="string"&&Mt.call(V,"index")&&(He.index=V.index,He.input=V.input),He}function Ti(V){return typeof V.constructor=="function"&&!Zi(V)?ir(Ae(V)):{}}function Si(V,Ee,He,_t){var Or=V.constructor;switch(Ee){case tt:return yn(V);case ee:case w:return new Or(+V);case et:return An(V,_t);case Xe:case ze:case It:case tr:case dt:case ve:case oe:case pt:case Ie:return Xr(V,_t);case he:return Pt(V,_t,He);case Ce:case de:return new Or(V);case St:return an(V);case rt:return Dr(V,_t,He);case Ve:return kr(V)}}function In(V,Ee){return Ee=Ee==null?U:Ee,!!Ee&&(typeof V=="number"||_e.test(V))&&V>-1&&V%1==0&&V<Ee}function Hi(V){var Ee=typeof V;return Ee=="string"||Ee=="number"||Ee=="symbol"||Ee=="boolean"?V!=="__proto__":V===null}function Ta(V){return!!je&&je in V}function Zi(V){var Ee=V&&V.constructor,He=typeof Ee=="function"&&Ee.prototype||xt;return V===He}function gi(V){if(V!=null){try{return ht.call(V)}catch(Ee){}try{return V+""}catch(Ee){}}return""}function ai(V){return $t(V,!0,!0)}function fa(V,Ee){return V===Ee||V!==V&&Ee!==Ee}function Va(V){return co(V)&&Mt.call(V,"callee")&&(!Ht.call(V,"callee")||nt.call(V)==xe)}var Ba=Array.isArray;function Sa(V){return V!=null&&qa(V.length)&&!Ka(V)}function co(V){return _n(V)&&Sa(V)}var Ai=wt||Xi;function Ka(V){var Ee=oi(V)?nt.call(V):"";return Ee==K||Ee==X}function qa(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=U}function oi(V){var Ee=typeof V;return!!V&&(Ee=="object"||Ee=="function")}function _n(V){return!!V&&typeof V=="object"}function we(V){return Sa(V)?De(V):xn(V)}function Ur(){return[]}function Xi(){return!1}Zt.exports=ai},50010:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return dt}});var y=T(1413),M=T(97685),U=T(67294),xe=T(54535),re=T(8410),ee=T(4942),w=T(87462),ie=T(94184),K=T.n(ie),X=T(9402),he=T(15105),Ce=T(64217),me=U.createContext(null),Ge=me,St=function(oe){var pt=oe.prefixCls,Ie=oe.className,Lt=oe.style,Ft=oe.children,Ye=oe.containerRef,_e=oe.onMouseEnter,q=oe.onMouseOver,fe=oe.onMouseLeave,Se=oe.onClick,We=oe.onKeyDown,ft=oe.onKeyUp,bt={onMouseEnter:_e,onMouseOver:q,onMouseLeave:fe,onClick:Se,onKeyDown:We,onKeyUp:ft};return U.createElement(U.Fragment,null,U.createElement("div",(0,w.Z)({className:K()("".concat(pt,"-content"),Ie),style:(0,y.Z)({},Lt),"aria-modal":"true",role:"dialog",ref:Ye},bt),Ft))},rt=St,de=T(80334);function Ve(ve){return typeof ve=="string"&&String(Number(ve))===ve?((0,de.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(ve)):ve}function Be(ve){warning(!("wrapperClassName"in ve),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!ve.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var tt={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function et(ve,oe){var pt,Ie,Lt,Ft,Ye=ve.prefixCls,_e=ve.open,q=ve.placement,fe=ve.inline,Se=ve.push,We=ve.forceRender,ft=ve.autoFocus,bt=ve.keyboard,Fe=ve.rootClassName,Le=ve.rootStyle,Ze=ve.zIndex,Jt=ve.className,or=ve.style,vr=ve.motion,rr=ve.width,jr=ve.height,qe=ve.children,$e=ve.contentWrapperStyle,Ct=ve.mask,gr=ve.maskClosable,_r=ve.maskMotion,zr=ve.maskClassName,xt=ve.maskStyle,ge=ve.afterOpenChange,je=ve.onClose,ht=ve.onMouseEnter,Mt=ve.onMouseOver,nt=ve.onMouseLeave,ne=ve.onClick,ue=ve.onKeyDown,J=ve.onKeyUp,Re=U.useRef(),Ae=U.useRef(),Rt=U.useRef();U.useImperativeHandle(oe,function(){return Re.current});var Ht=function(fr){var Cr=fr.keyCode,Ir=fr.shiftKey;switch(Cr){case he.Z.TAB:{if(Cr===he.Z.TAB){if(!Ir&&document.activeElement===Rt.current){var Er;(Er=Ae.current)===null||Er===void 0||Er.focus({preventScroll:!0})}else if(Ir&&document.activeElement===Ae.current){var ln;(ln=Rt.current)===null||ln===void 0||ln.focus({preventScroll:!0})}}break}case he.Z.ESC:{je&&bt&&(fr.stopPropagation(),je(fr));break}}};U.useEffect(function(){if(_e&&ft){var Ue;(Ue=Re.current)===null||Ue===void 0||Ue.focus({preventScroll:!0})}},[_e]);var Vt=U.useState(!1),Bt=(0,M.Z)(Vt,2),wt=Bt[0],pr=Bt[1],Et=U.useContext(Ge),be;Se===!1?be={distance:0}:Se===!0?be={}:be=Se||{};var jt=(pt=(Ie=(Lt=be)===null||Lt===void 0?void 0:Lt.distance)!==null&&Ie!==void 0?Ie:Et==null?void 0:Et.pushDistance)!==null&&pt!==void 0?pt:180,Yt=U.useMemo(function(){return{pushDistance:jt,push:function(){pr(!0)},pull:function(){pr(!1)}}},[jt]);U.useEffect(function(){if(_e){var Ue;Et==null||(Ue=Et.push)===null||Ue===void 0||Ue.call(Et)}else{var fr;Et==null||(fr=Et.pull)===null||fr===void 0||fr.call(Et)}},[_e]),U.useEffect(function(){return function(){var Ue;Et==null||(Ue=Et.pull)===null||Ue===void 0||Ue.call(Et)}},[]);var sr=Ct&&U.createElement(X.default,(0,w.Z)({key:"mask"},_r,{visible:_e}),function(Ue,fr){var Cr=Ue.className,Ir=Ue.style;return U.createElement("div",{className:K()("".concat(Ye,"-mask"),Cr,zr),style:(0,y.Z)((0,y.Z)({},Ir),xt),onClick:gr&&_e?je:void 0,ref:fr})}),lr=typeof vr=="function"?vr(q):vr,nr={};if(wt&&jt)switch(q){case"top":nr.transform="translateY(".concat(jt,"px)");break;case"bottom":nr.transform="translateY(".concat(-jt,"px)");break;case"left":nr.transform="translateX(".concat(jt,"px)");break;default:nr.transform="translateX(".concat(-jt,"px)");break}q==="left"||q==="right"?nr.width=Ve(rr):nr.height=Ve(jr);var sn={onMouseEnter:ht,onMouseOver:Mt,onMouseLeave:nt,onClick:ne,onKeyDown:ue,onKeyUp:J},Br=U.createElement(X.default,(0,w.Z)({key:"panel"},lr,{visible:_e,forceRender:We,onVisibleChanged:function(fr){ge==null||ge(fr)},removeOnLeave:!1,leavedClassName:"".concat(Ye,"-content-wrapper-hidden")}),function(Ue,fr){var Cr=Ue.className,Ir=Ue.style;return U.createElement("div",(0,w.Z)({className:K()("".concat(Ye,"-content-wrapper"),Cr),style:(0,y.Z)((0,y.Z)((0,y.Z)({},nr),Ir),$e)},(0,Ce.Z)(ve,{data:!0})),U.createElement(rt,(0,w.Z)({containerRef:fr,prefixCls:Ye,className:Jt,style:or},sn),qe))}),hn=(0,y.Z)({},Le);return Ze&&(hn.zIndex=Ze),U.createElement(Ge.Provider,{value:Yt},U.createElement("div",{className:K()(Ye,"".concat(Ye,"-").concat(q),Fe,(Ft={},(0,ee.Z)(Ft,"".concat(Ye,"-open"),_e),(0,ee.Z)(Ft,"".concat(Ye,"-inline"),fe),Ft)),style:hn,tabIndex:-1,ref:Re,onKeyDown:Ht},sr,U.createElement("div",{tabIndex:0,ref:Ae,style:tt,"aria-hidden":"true","data-sentinel":"start"}),Br,U.createElement("div",{tabIndex:0,ref:Rt,style:tt,"aria-hidden":"true","data-sentinel":"end"})))}var Xe=U.forwardRef(et),ze=Xe,It=function(oe){var pt=oe.open,Ie=pt===void 0?!1:pt,Lt=oe.prefixCls,Ft=Lt===void 0?"rc-drawer":Lt,Ye=oe.placement,_e=Ye===void 0?"right":Ye,q=oe.autoFocus,fe=q===void 0?!0:q,Se=oe.keyboard,We=Se===void 0?!0:Se,ft=oe.width,bt=ft===void 0?378:ft,Fe=oe.mask,Le=Fe===void 0?!0:Fe,Ze=oe.maskClosable,Jt=Ze===void 0?!0:Ze,or=oe.getContainer,vr=oe.forceRender,rr=oe.afterOpenChange,jr=oe.destroyOnClose,qe=oe.onMouseEnter,$e=oe.onMouseOver,Ct=oe.onMouseLeave,gr=oe.onClick,_r=oe.onKeyDown,zr=oe.onKeyUp,xt=U.useState(!1),ge=(0,M.Z)(xt,2),je=ge[0],ht=ge[1],Mt=U.useState(!1),nt=(0,M.Z)(Mt,2),ne=nt[0],ue=nt[1];(0,re.Z)(function(){ue(!0)},[]);var J=ne?Ie:!1,Re=U.useRef(),Ae=U.useRef();(0,re.Z)(function(){J&&(Ae.current=document.activeElement)},[J]);var Rt=function(wt){var pr;if(ht(wt),rr==null||rr(wt),!wt&&Ae.current&&!(!((pr=Re.current)===null||pr===void 0)&&pr.contains(Ae.current))){var Et;(Et=Ae.current)===null||Et===void 0||Et.focus({preventScroll:!0})}};if(!vr&&!je&&!J&&jr)return null;var Ht={onMouseEnter:qe,onMouseOver:$e,onMouseLeave:Ct,onClick:gr,onKeyDown:_r,onKeyUp:zr},Vt=(0,y.Z)((0,y.Z)({},oe),{},{open:J,prefixCls:Ft,placement:_e,autoFocus:fe,keyboard:We,width:bt,mask:Le,maskClosable:Jt,inline:or===!1,afterOpenChange:Rt,ref:Re},Ht);return U.createElement(xe.Z,{open:J||vr||je,autoDestroy:!1,getContainer:or,autoLock:Le&&(J||je)},U.createElement(ze,Vt))},tr=It,dt=tr},91298:function(Zt,Oe,T){"use strict";T.d(Oe,{Z:function(){return he}});var y=T(1413),M=T(4942),U=T(91),xe=T(67294),re=T(94184),ee=T.n(re),w=function(me){var Ge=me.prefixCls,St=me.icon,rt=me.title,de=me.items,Ve=de===void 0?[]:de,Be=me.style,tt=me.className;return xe.createElement("div",{className:ee()("".concat(Ge,"-column"),tt),style:Be},(rt||St)&&xe.createElement("h2",null,St&&xe.createElement("span",{className:"".concat(Ge,"-column-icon")},St),rt),Ve.map(function(et,Xe){var ze=et.LinkComponent||"a";return xe.createElement("div",{className:ee()("".concat(Ge,"-item"),et.className),style:et.style,key:Xe},xe.createElement(ze,{href:et.url,to:typeof ze!="string"?et.url:void 0,target:et.openExternal?"_blank":void 0,rel:et.openExternal?"noopener noreferrer":void 0},et.icon&&xe.createElement("span",{className:"".concat(Ge,"-item-icon")},et.icon),et.title),et.description&&xe.createElement(xe.Fragment,null,xe.createElement("span",{className:"".concat(Ge,"-item-separator")},"-"),xe.createElement("span",{className:"".concat(Ge,"-item-description")},et.description)))}))},ie=w,K=["prefixCls","className","style","bottom","columns","maxColumnsPerRow","backgroundColor","columnLayout","theme"],X=function(me){var Ge=me.prefixCls,St=Ge===void 0?"rc-footer":Ge,rt=me.className,de=me.style,Ve=me.bottom,Be=me.columns,tt=me.maxColumnsPerRow,et=me.backgroundColor,Xe=me.columnLayout,ze=me.theme,It=ze===void 0?"dark":ze,tr=(0,U.Z)(me,K),dt=ee()("".concat(St),rt,(0,M.Z)({},"".concat(St,"-").concat(It),!!It)),ve=typeof tt=="number"&&tt>0;return xe.createElement("footer",(0,y.Z)((0,y.Z)({},tr),{},{className:dt,style:(0,y.Z)((0,y.Z)({},de),{},{backgroundColor:et})}),xe.createElement("section",{className:"".concat(St,"-container")},Be&&Be.length>0&&xe.createElement("section",{className:"".concat(St,"-columns"),style:{justifyContent:Xe,flexWrap:ve?"wrap":void 0}},Be.map(function(oe,pt){var Ie=oe.title,Lt=oe.icon,Ft=oe.style,Ye=oe.className,_e=oe.items,q=_e===void 0?[]:_e,fe=(0,y.Z)({},Ft);return ve&&(fe.flex="0 0 ".concat(100/(tt+1)+.1,"%")),xe.createElement(ie,{key:pt,prefixCls:St,title:Ie,icon:Lt,items:q,style:fe,className:Ye})}))),Ve&&xe.createElement("section",{className:"".concat(St,"-bottom")},xe.createElement("div",{className:"".concat(St,"-bottom-container")},Ve)))},he=X},92419:function(Zt,Oe,T){"use strict";T.d(Oe,{G:function(){return xe},Z:function(){return de}});var y=T(94184),M=T.n(y),U=T(67294);function xe(Ve){var Be=Ve.children,tt=Ve.prefixCls,et=Ve.id,Xe=Ve.overlayInnerStyle,ze=Ve.className,It=Ve.style;return U.createElement("div",{className:M()("".concat(tt,"-content"),ze),style:It},U.createElement("div",{className:"".concat(tt,"-inner"),id:et,role:"tooltip",style:Xe},typeof Be=="function"?Be():Be))}var re=T(87462),ee=T(1413),w=T(91),ie=T(6997),K={shiftX:64,adjustY:1},X={adjustX:1,shiftY:!0},he=[0,0],Ce={left:{points:["cr","cl"],overflow:X,offset:[-4,0],targetOffset:he},right:{points:["cl","cr"],overflow:X,offset:[4,0],targetOffset:he},top:{points:["bc","tc"],overflow:K,offset:[0,-4],targetOffset:he},bottom:{points:["tc","bc"],overflow:K,offset:[0,4],targetOffset:he},topLeft:{points:["bl","tl"],overflow:K,offset:[0,-4],targetOffset:he},leftTop:{points:["tr","tl"],overflow:X,offset:[-4,0],targetOffset:he},topRight:{points:["br","tr"],overflow:K,offset:[0,-4],targetOffset:he},rightTop:{points:["tl","tr"],overflow:X,offset:[4,0],targetOffset:he},bottomRight:{points:["tr","br"],overflow:K,offset:[0,4],targetOffset:he},rightBottom:{points:["bl","br"],overflow:X,offset:[4,0],targetOffset:he},bottomLeft:{points:["tl","bl"],overflow:K,offset:[0,4],targetOffset:he},leftBottom:{points:["br","bl"],overflow:X,offset:[-4,0],targetOffset:he}},me=null,Ge=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],St=function(Be,tt){var et=Be.overlayClassName,Xe=Be.trigger,ze=Xe===void 0?["hover"]:Xe,It=Be.mouseEnterDelay,tr=It===void 0?0:It,dt=Be.mouseLeaveDelay,ve=dt===void 0?.1:dt,oe=Be.overlayStyle,pt=Be.prefixCls,Ie=pt===void 0?"rc-tooltip":pt,Lt=Be.children,Ft=Be.onVisibleChange,Ye=Be.afterVisibleChange,_e=Be.transitionName,q=Be.animation,fe=Be.motion,Se=Be.placement,We=Se===void 0?"right":Se,ft=Be.align,bt=ft===void 0?{}:ft,Fe=Be.destroyTooltipOnHide,Le=Fe===void 0?!1:Fe,Ze=Be.defaultVisible,Jt=Be.getTooltipContainer,or=Be.overlayInnerStyle,vr=Be.arrowContent,rr=Be.overlay,jr=Be.id,qe=Be.showArrow,$e=qe===void 0?!0:qe,Ct=(0,w.Z)(Be,Ge),gr=(0,U.useRef)(null);(0,U.useImperativeHandle)(tt,function(){return gr.current});var _r=(0,ee.Z)({},Ct);"visible"in Be&&(_r.popupVisible=Be.visible);var zr=function(){return U.createElement(xe,{key:"content",prefixCls:Ie,id:jr,overlayInnerStyle:or},rr)};return U.createElement(ie.Z,(0,re.Z)({popupClassName:et,prefixCls:Ie,popup:zr,action:ze,builtinPlacements:Ce,popupPlacement:We,ref:gr,popupAlign:bt,getPopupContainer:Jt,onPopupVisibleChange:Ft,afterPopupVisibleChange:Ye,popupTransitionName:_e,popupAnimation:q,popupMotion:fe,defaultPopupVisible:Ze,autoDestroy:Le,mouseLeaveDelay:ve,popupStyle:oe,mouseEnterDelay:tr,arrow:$e},_r),Lt)},rt=(0,U.forwardRef)(St),de=rt},75251:function(Zt,Oe,T){"use strict";var y;var M=T(67294),U=Symbol.for("react.element"),xe=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,ee=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function ie(K,X,he){var Ce,me={},Ge=null,St=null;he!==void 0&&(Ge=""+he),X.key!==void 0&&(Ge=""+X.key),X.ref!==void 0&&(St=X.ref);for(Ce in X)re.call(X,Ce)&&!w.hasOwnProperty(Ce)&&(me[Ce]=X[Ce]);if(K&&K.defaultProps)for(Ce in X=K.defaultProps,X)me[Ce]===void 0&&(me[Ce]=X[Ce]);return{$$typeof:U,type:K,key:Ge,ref:St,props:me,_owner:ee.current}}y=xe,Oe.jsx=ie,Oe.jsxs=ie},85893:function(Zt,Oe,T){"use strict";Zt.exports=T(75251)},87256:function(Zt,Oe,T){"use strict";T.d(Oe,{J5N:function(){return tv}});function y(i,o,n,e,t,r,a){try{var s=i[r](a),l=s.value}catch(u){n(u);return}s.done?o(l):Promise.resolve(l).then(e,t)}function M(i){return function(){var o=this,n=arguments;return new Promise(function(e,t){var r=i.apply(o,n);function a(l){y(r,e,t,a,s,"next",l)}function s(l){y(r,e,t,a,s,"throw",l)}a(void 0)})}}function U(i,o){return o!=null&&typeof Symbol!="undefined"&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](i):U(i,o)}function xe(i){"@swc/helpers - typeof";return i&&typeof Symbol!="undefined"&&i.constructor===Symbol?"symbol":typeof i}function re(i,o,n,e){var t=arguments.length,r=t<3?o:e===null?e=Object.getOwnPropertyDescriptor(o,n):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,o,n,e);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(r=(t<3?a(r):t>3?a(o,n,r):a(o,n))||r);return t>3&&r&&Object.defineProperty(o,n,r),r}function ee(i,o){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,t,r,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(h){return l([u,h])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(e=1,t&&(r=u[0]&2?t.return:u[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,u[1])).done)return r;switch(t=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,t=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=o.call(i,n)}catch(h){u=[6,h],t=0}finally{e=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var w,ie=new Uint8Array(16);function K(){if(!w&&(w=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!w))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(ie)}for(var X=[],he=0;he<256;++he)X.push((he+256).toString(16).slice(1));function Ce(i,o){return o===void 0&&(o=0),X[i[o+0]]+X[i[o+1]]+X[i[o+2]]+X[i[o+3]]+"-"+X[i[o+4]]+X[i[o+5]]+"-"+X[i[o+6]]+X[i[o+7]]+"-"+X[i[o+8]]+X[i[o+9]]+"-"+X[i[o+10]]+X[i[o+11]]+X[i[o+12]]+X[i[o+13]]+X[i[o+14]]+X[i[o+15]]}var me=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ge={randomUUID:me};function St(i,o,n){if(Ge.randomUUID&&!o&&!i)return Ge.randomUUID();i=i||{};var e=i.random||(i.rng||K)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,o){n=n||0;for(var t=0;t<16;++t)o[n+t]=e[t];return o}return Ce(e)}function rt(i,o){return i.includes(o)||i.push(o),i}function de(i,o){var n=i.indexOf(o);return n>-1&&i.splice(n,1),i}function Ve(i,o,n,e){if(e===void 0&&(e=!1),!i.includes(o)&&(i.push(o),i.length!==1)){var t=i.length-1;if(t){var r=i[t];if(e)for(;i[t-1][n]<r[n]&&(i[t]=i[t-1],t--,t!==0););else for(;i[t-1][n]>r[n]&&(i[t]=i[t-1],t--,t!==0););i[t]=r}}}function Be(i,o,n,e){e===void 0&&(e=1);var t=i.buffer;if(t.byteLength<i.BYTES_PER_ELEMENT*o){var r=Math.ceil(o*e);Number.isNaN(n)||(r=Math.min(r,n));var a=new ArrayBuffer(i.BYTES_PER_ELEMENT*r),s=new i.constructor(a);return s.set(i),s}return i}function tt(i,o){var n=[0,0,0,0];if(_r(i)){i=i.replace(/[\s\t\r\n]/g,"");var e=/rgba?\(([.\d]+),([.\d]+),([.\d]+),?([.\d]+)?\)/.exec(i);if(e){var t=+e[4];n=[+e[1],+e[2],+e[3],isNaN(t)?255:t*255]}else/^#[a-f\d]{3}$/i.test(i)?n=[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),255]:(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))&&(n=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255])}else U(i,Array)&&(n=[i[0],i[1],i[2],isNaN(i[3])?255:i[3]]);if(o)for(var r=0;r<4;r++)n[r]/=255;return n}function et(i,o,n){if(i.length){for(var e,t=1;t<=i.length-1;t++){var r=i[t-1],a=i[t];if(r.stop<=o&&o<=a.stop){e=ze(r.color,a.color,(o-r.stop)/(a.stop-r.stop));break}}return e||(e=i[i.length-1].color),n?e.map(function(s){return s/255}):e}return[0,0,0,0]}function Xe(i){var o=[];if(U(i,Array)?i.forEach(function(e){var t=e[0],r=e[1],a=e[2],s=e[3],l=e[4];o.push({stop:It(t),color:[r,a,s,l]})}):Object.keys(i).forEach(function(e){var t=i[e],r=tt(t);o.push({stop:It(e),color:r})}),o=o.sort(function(e,t){return e.stop-t.stop}),o.length){o[0].stop!==0&&o.unshift({stop:0,color:o[0].color.slice()});var n=o[o.length-1];n.stop!==1&&o.push({stop:1,color:n.color.slice()})}return o}function ze(i,o,n,e){var t=[],r=1-n;if(e)for(var a=0;a<4;a++)t[a]=i[a]*r+o[a]*n;else{for(var s=0;s<3;s++)t[s]=Math.round(Math.sqrt(i[s]*i[s]*r+o[s]*o[s]*n));t[3]=Math.round(i[3]*r+o[3]*n)}return t}function It(i){var o=/^(-)?([\d+.]+)%$/.exec(i);return o?+o[2]/100*(o[1]?-1:1):+i}function tr(){if(typeof screen=="object"&&typeof document=="object"){var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=screen.width,n=o/i;return Math.min(2*n,2)}return 1}function dt(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}function ve(){var i=navigator.userAgent.toLowerCase(),o=i.match(/cpu (iphone )?os (.*?) like mac os/);return o?parseInt(o[2],10):0}function oe(){return/\b[Aa]ndroid\b/.test(navigator.userAgent)}function pt(){return oe()||/\b(iPad|iPhone|iPod)\b/.test(navigator.userAgent)}function Ie(){return Lt()||Ft()}function Lt(){var i;return typeof my!="undefined"&&((i=my)==null?void 0:i.renderTarget)==="web"}function Ft(){return window.__wxjs_environment==="miniprogram"}function Ye(i){_r(i)&&(i=tt(i));for(var o=i,n={width:1,height:1,data:new Uint8Array(1*1*4)},e=n.data,t=0;t<4;t++)e[t]=o[t];return n}function _e(i){var o=128,n={width:o,height:1,data:new Uint8Array(o*1*4)},e=n.data,t=Xe(i);if(t.length){e.set(t[0].color,0);for(var r=1,a=0;r<o-1;r++){for(var s=r/o,l=void 0,u=void 0,h=a;h<t.length&&(l=t[h],u=t[h+1],!(l.stop<=s&&u.stop>s));h++);var m=ze(l.color,u.color,(s-l.stop)/(u.stop-l.stop));e.set(m,r*4)}e.set(t[t.length-1].color,(o-1)*4)}return n}var q;(function(i){i[i.none=1]="none",i[i.ascending=2]="ascending",i[i.descending=3]="descending"})(q||(q={}));function fe(i,o){o===void 0&&(o=2);var n=i.length;if(n<=1||o===1)return i;if(n<=30){for(var e=1;e<n;e++)We(i,e,o);return i}else return ft(i,o)}function Se(i,o,n){return n===void 0&&(n=2),i.includes(o)||(i.push(o),i.length===1)||n!==1&&We(i,i.length-1,n),i}function We(i,o,n){var e=i[o];if(n!==2)for(;o>=1&&i[o-1].priority<e.priority&&(i[o]=i[o-1],o--,o!==0););else for(;o>=1&&i[o-1].priority>e.priority&&(i[o]=i[o-1],o--,o!==0););i[o]=e}function ft(i,o,n,e){if(n===void 0&&(n=0),e===void 0&&(e=i.length-1),n>=e)return i;for(var t=i[n],r=n,a=e;r<a;){if(o===2){for(;i[a].priority>t.priority&&a>=r;)a--;for(;i[r].priority<=t.priority&&r<a;)r++}else{for(;i[a].priority<t.priority&&a>=r;)a--;for(;i[r].priority>=t.priority&&r<a;)r++}var s;s=[i[a],i[r]],i[r]=s[0],i[a]=s[1]}var l;return l=[i[r],i[n]],i[n]=l[0],i[r]=l[1],ft(i,o,n,r-1),ft(i,o,a+1,e),i}function bt(i,o){if(o===void 0&&(o="item doesn't exist"),i==null)throw new Error(o)}function Fe(i,o){if(o===void 0&&(o="asserts failed"),!i)throw new Error(o)}function Le(i){return/^[^\d.][\w-]*$/.test(i)}var Ze="[Galacean Effects]",Jt;function or(i){return["%c"+Ze,"color: #AA0100",""+i]}function vr(i){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];var t;(t=console).error.apply(t,[].concat(or(i),[n])),Jt==null||Jt("error",i,n)}function rr(i){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];var t;(t=console).debug.apply(t,[].concat(or(i))),Jt==null||Jt("info",i,n)}function jr(i){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];var t;(t=console).warn.apply(t,[].concat(or(i))),Jt==null||Jt("warn",i,n)}function qe(i){i&&xt(i)&&(Jt=i)}var $e={error:vr,info:rr,warn:jr,register:qe},Ct;(function(i){i[i.destroy=0]="destroy",i[i.keep=1]="keep",i[i.force=0]="force"})(Ct||(Ct={}));function gr(){}function _r(i){return typeof i=="string"}var zr=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function xt(i){return Object.prototype.toString.call(i)==="[object Function]"}function ge(i){return Object.prototype.toString.call(i)==="[object Object]"}function je(i){var o;return typeof i=="object"&&i!==null&&((o=i.tagName)==null?void 0:o.toUpperCase())==="CANVAS"}function ht(i,o){return i+Math.random()*(o-i)}function Mt(){throw new Error("Destroyed item cannot be used again.")}function nt(){return St().replace(/-/g,"")}function ne(i,o,n){o===void 0&&(o="base64File"),n===void 0&&(n="");for(var e=i.split(",")[1]||i,t=atob(e),r=[],a=0;a<t.length;a+=512){for(var s=t.slice(a,a+512),l=new Array(s.length),u=0;u<s.length;u++)l[u]=s.charCodeAt(u);var h=new Uint8Array(l);r.push(h)}var m=new Blob(r,{type:n}),v=new File([m],o,{type:n});return v}function ue(i,o){o.forEach(function(n){Object.getOwnPropertyNames(n.prototype).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n.prototype,e);if(!t)throw new Error("Cannot find property descriptor of class "+n);Object.defineProperty(i.prototype,e,t)})})}var J={},Re=[],Ae={};function Rt(i,o,n,e){Ae[i]&&$e.error("Duplicate registration for plugin "+i+"."),Ae[i]=n,J[i]=o,e&&rt(Re,i)}function Ht(i){delete Ae[i],delete J[i],de(Re,i)}var Vt=function(){function i(n){var e={},t=[],r=function(a){var s=J[a];t.includes(s)||(t.push(s),e[a]=s)};Re.forEach(r),n.forEach(r),this.plugins=Object.keys(e).map(function(a){var s=J[a];if(!s)throw new Error("The plugin '"+a+"' not found."+wt(a));var l=new s;return l.name=a,l}).sort(function(a,s){return a.order-s.order})}var o=i.prototype;return o.initializeComposition=function(e,t){this.plugins.forEach(function(r){return r.onCompositionConstructed(e,t)})},o.destroyComposition=function(e){this.plugins.forEach(function(t){return t.onCompositionDestroyed(e)})},o.resetComposition=function(e,t){this.plugins.forEach(function(r){return r.onCompositionReset(e,t)})},o.processRawJSON=function(e,t){var r=this;return M(function(){return ee(this,function(a){return[2,r.callStatic("processRawJSON",e,t)]})})()},o.processAssets=function(e,t){var r=this;return M(function(){return ee(this,function(a){return[2,r.callStatic("processAssets",e,t)]})})()},o.precompile=function(e,t,r){var a=this;return M(function(){return ee(this,function(s){return[2,a.callStatic("precompile",e,t,r)]})})()},o.loadResources=function(e,t){var r=this;return M(function(){return ee(this,function(a){return[2,r.callStatic("prepareResource",e,t)]})})()},o.callStatic=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s=this;return M(function(){var l,u,h,m,v,p,b;return ee(this,function(x){for(l=[],u=s.plugins,h=0;h<u.length;h++)m=u[h],v=J[m.name],e in v&&l.push(Promise.resolve((b=v[e])==null?void 0:(p=b).call.apply(p,[].concat([v],r))));return[2,Promise.all(l)]})})()},i}(),Bt={"alipay-downgrade":"@galacean/effects-plugin-alipay-downgrade",downgrade:"@galacean/effects-plugin-downgrade","editor-gizmo":"@galacean/effects-plugin-editor-gizmo",model:"@galacean/effects-plugin-model",video:"@galacean/effects-plugin-multimedia",audio:"@galacean/effects-plugin-multimedia","orientation-transformer":"@galacean/effects-plugin-orientation-transformer",richtext:"@galacean/effects-plugin-rich-text",spine:"@galacean/effects-plugin-spine"};function wt(i){var o=Bt[i];return o?`
\u8BF7\u6309\u5982\u4E0B\u547D\u4EE4\u8FDB\u884C\u64CD\u4F5C\uFF08Please follow the commands below to proceed\uFF09\uFF1A
1\u3001\u4F7F\u7528 npm \u5B89\u88C5\u63D2\u4EF6\uFF08Install Plugin\uFF09\uFF1Anpm i `+o+`@latest --save
2\u3001\u5BFC\u5165\u63D2\u4EF6\uFF08Import Plugin\uFF09\uFF1Aimport '`+o+"'":""}var pr=function(){function i(){this.order=100,this.name=""}var o=i.prototype;return o.onCompositionConstructed=function(e,t){},o.onCompositionItemLifeBegin=function(e,t){},o.onCompositionItemLifeEnd=function(e,t){},o.onCompositionItemRemoved=function(e,t){},o.onCompositionReset=function(e,t){},o.onCompositionWillReset=function(e,t){},o.onCompositionDestroyed=function(e){},o.onCompositionUpdate=function(e,t){},o.prepareRenderFrame=function(e,t){return!1},o.postProcessFrame=function(e,t){},i.precompile=function(e,t){return Promise.resolve()},i}();function Et(i,o){return Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Et(i,o)}function be(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&Et(i,o)}var jt;(function(i){i.S="S",i.APlus="A+",i.A="A",i.BPlus="B+",i.B="B"})(jt||(jt={}));var Yt;(function(i){i[i.ALPHA=0]="ALPHA",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.BRIGHTNESS=3]="BRIGHTNESS",i[i.SUBTRACTION=4]="SUBTRACTION",i[i.STRONG_LIGHT=5]="STRONG_LIGHT",i[i.WEAK_LIGHT=6]="WEAK_LIGHT",i[i.SUPERPOSITION=7]="SUPERPOSITION"})(Yt||(Yt={}));var sr;(function(i){i[i.DOUBLE=1032]="DOUBLE",i[i.FRONT=1028]="FRONT",i[i.BACK=1029]="BACK"})(sr||(sr={}));var lr;(function(i){i[i.NONE=0]="NONE",i[i.MASK=1]="MASK",i[i.OBSCURED=2]="OBSCURED",i[i.REVERSE_OBSCURED=3]="REVERSE_OBSCURED"})(lr||(lr={}));var nr;(function(i){i[i.NONE=0]="NONE",i[i.SPHERE=1]="SPHERE",i[i.CONE=2]="CONE",i[i.HEMISPHERE=3]="HEMISPHERE",i[i.CIRCLE=4]="CIRCLE",i[i.DONUT=5]="DONUT",i[i.RECTANGLE=6]="RECTANGLE",i[i.RECTANGLE_EDGE=7]="RECTANGLE_EDGE",i[i.EDGE=8]="EDGE",i[i.TEXTURE=9]="TEXTURE"})(nr||(nr={}));var sn;(function(i){i[i.GYROSCOPE=0]="GYROSCOPE",i[i.SPINE=1]="SPINE"})(sn||(sn={}));var Br;(function(i){i[i.CLICK=0]="CLICK",i[i.MESSAGE=1]="MESSAGE",i[i.DRAG=2]="DRAG"})(Br||(Br={}));var hn;(function(i){i[i.NONE=0]="NONE",i[i.NOTIFY=1]="NOTIFY",i[i.RESUME_PLAYER=2]="RESUME_PLAYER",i[i.REMOVE=3]="REMOVE",i[i.PAUSE=4]="PAUSE"})(hn||(hn={}));var Ue;(function(i){i.base="0",i.sprite="1",i.particle="2",i.null="3",i.interact="4",i.plugin="5",i.camera="6",i.composition="7",i.spine="spine",i.mesh="mesh",i.tree="tree",i.text="text",i.light="light",i.skybox="skybox",i.effect="effect",i.shape="shape",i.postProcessVolume="postProcessVolume",i.node="node",i.video="video",i.audio="audio",i.richtext="richtext"})(Ue||(Ue={}));var fr;(function(i){i[i.BILLBOARD=0]="BILLBOARD",i[i.MESH=1]="MESH",i[i.VERTICAL_BILLBOARD=2]="VERTICAL_BILLBOARD",i[i.HORIZONTAL_BILLBOARD=3]="HORIZONTAL_BILLBOARD"})(fr||(fr={}));var Cr;(function(i){i[i.PARTICLE_ORIGIN_CENTER=0]="PARTICLE_ORIGIN_CENTER",i[i.PARTICLE_ORIGIN_LEFT_TOP=1]="PARTICLE_ORIGIN_LEFT_TOP",i[i.PARTICLE_ORIGIN_LEFT_CENTER=2]="PARTICLE_ORIGIN_LEFT_CENTER",i[i.PARTICLE_ORIGIN_LEFT_BOTTOM=3]="PARTICLE_ORIGIN_LEFT_BOTTOM",i[i.PARTICLE_ORIGIN_CENTER_TOP=4]="PARTICLE_ORIGIN_CENTER_TOP",i[i.PARTICLE_ORIGIN_CENTER_BOTTOM=5]="PARTICLE_ORIGIN_CENTER_BOTTOM",i[i.PARTICLE_ORIGIN_RIGHT_TOP=6]="PARTICLE_ORIGIN_RIGHT_TOP",i[i.PARTICLE_ORIGIN_RIGHT_CENTER=7]="PARTICLE_ORIGIN_RIGHT_CENTER",i[i.PARTICLE_ORIGIN_RIGHT_BOTTOM=8]="PARTICLE_ORIGIN_RIGHT_BOTTOM"})(Cr||(Cr={}));var Ir;(function(i){i.Opaque="Opaque",i.Transparent="Transparent"})(Ir||(Ir={}));var Er;(function(i){i.Both="Both",i.Back="Back",i.Front="Front"})(Er||(Er={}));var ln=0,Vn=1,hr=2,jn=3,qr=4,Zn=5,Rn=6,vi=1,pi=0,Jn=2,nn=1,Fr;(function(i){i[i.portrait=1]="portrait",i[i.landscape=0]="landscape"})(Fr||(Fr={}));var vt;(function(i){i[i.CONSTANT=0]="CONSTANT",i[i.CONSTANT_VEC2=1]="CONSTANT_VEC2",i[i.CONSTANT_VEC3=2]="CONSTANT_VEC3",i[i.CONSTANT_VEC4=3]="CONSTANT_VEC4",i[i.RANDOM=4]="RANDOM",i[i.LINE=5]="LINE",i[i.CURVE=6]="CURVE",i[i.BEZIER_PATH=7]="BEZIER_PATH",i[i.RGBA_COLOR=8]="RGBA_COLOR",i[i.GRADIENT_COLOR=9]="GRADIENT_COLOR",i[i.SHAPE_POINTS=10]="SHAPE_POINTS",i[i.SHAPE_SPLITS=11]="SHAPE_SPLITS",i[i.LINEAR_PATH=12]="LINEAR_PATH",i[i.COLORS=13]="COLORS",i[i.BINARY=20]="BINARY",i[i.BEZIER_CURVE=21]="BEZIER_CURVE",i[i.BEZIER_CURVE_PATH=22]="BEZIER_CURVE_PATH",i[i.BEZIER_CURVE_QUAT=23]="BEZIER_CURVE_QUAT",i[i.COLOR_CURVE=24]="COLOR_CURVE",i[i.VECTOR4_CURVE=25]="VECTOR4_CURVE"})(vt||(vt={}));var Qr;(function(i){i[i.AUTO=0]="AUTO",i[i.EASE=1]="EASE",i[i.EASE_IN=2]="EASE_IN",i[i.EASE_OUT=3]="EASE_OUT",i[i.LINE=4]="LINE",i[i.HOLD=5]="HOLD",i[i.LINE_OUT=6]="LINE_OUT"})(Qr||(Qr={}));var Te;(function(i){i[i.destroy=0]="destroy",i[i.restart=5]="restart",i[i.forward=2]="forward",i[i.freeze=4]="freeze"})(Te||(Te={}));var Ke;(function(i){i[i.destroyChildren=6]="destroyChildren"})(Ke||(Ke={}));var Ot;(function(i){i[i.none=0]="none",i[i.removeParticle=1]="removeParticle"})(Ot||(Ot={}));var it;(function(i){i[i.RANDOM=0]="RANDOM",i[i.UNIDIRECTIONAL_CYCLE=1]="UNIDIRECTIONAL_CYCLE",i[i.BIDIRECTIONAL_CYCLE=2]="BIDIRECTIONAL_CYCLE",i[i.UNIFORM_BURST=3]="UNIFORM_BURST"})(it||(it={}));var H;(function(i){i.point="point",i.spot="spot",i.directional="directional",i.ambient="ambient"})(H||(H={}));var ye;(function(i){i[i.box=2]="box",i[i.sphere=3]="sphere"})(ye||(ye={}));var Ne;(function(i){i.orthographic="orthographic",i.perspective="perspective"})(Ne||(Ne={}));var le;(function(i){i.unlit="unlit",i.pbr="pbr",i.hair="hair"})(le||(le={}));var De;(function(i){i[i.opaque=100]="opaque",i[i.masked=101]="masked",i[i.translucent=102]="translucent",i[i.additive=103]="additive"})(De||(De={}));var yt;(function(i){i.none="none",i.uv="uv",i.normal="normal",i.basecolor="basecolor",i.alpha="alpha",i.metallic="metallic",i.roughness="roughness",i.ao="ao",i.emissive="emissive",i.diffuse="diffuse"})(yt||(yt={}));var qt;(function(i){i[i.display=0]="display",i[i.clip=1]="clip",i[i.ellipsis=2]="ellipsis"})(qt||(qt={}));var Pr;(function(i){i[i.top=0]="top",i[i.middle=1]="middle",i[i.bottom=2]="bottom"})(Pr||(Pr={}));var $t;(function(i){i[i.left=0]="left",i[i.middle=1]="middle",i[i.right=2]="right"})($t||($t={}));var ir;(function(i){i.normal="normal",i.bold="bold",i.lighter="lighter"})(ir||(ir={}));var Nt;(function(i){i.normal="normal",i.italic="italic",i.oblique="oblique"})(Nt||(Nt={}));var Tr={WhiteTexture:"whitetexture00000000000000000000",TransparentTexture:"transparenttexture00000000000000000000",PBRShader:"pbr00000000000000000000000000000",UnlitShader:"unlit000000000000000000000000000"},Kt;(function(i){i[i.Custom=0]="Custom",i[i.Rectangle=1]="Rectangle",i[i.Ellipse=2]="Ellipse",i[i.Polygon=3]="Polygon",i[i.Star=4]="Star"})(Kt||(Kt={}));var xn;xn||(xn={});var Mn;Mn||(Mn={});var yn;(function(i){i.video="video",i.image="image"})(yn||(yn={}));var An;(function(i){i.video="video",i.audio="audio"})(An||(An={}));var Pt;(function(i){i.VFXItemData="VFXItemData",i.EffectComponent="EffectComponent",i.Material="Material",i.Shader="Shader",i.SpriteComponent="SpriteComponent",i.ParticleSystem="ParticleSystem",i.InteractComponent="InteractComponent",i.CameraController="CameraController",i.PostProcessVolume="PostProcessVolume",i.Geometry="Geometry",i.Texture="Texture",i.Image="Image",i.AnimationClip="AnimationClip",i.TextComponent="TextComponent",i.BinaryAsset="BinaryAsset",i.TrackAsset="TrackAsset",i.TimelineAsset="TimelineAsset",i.ObjectBindingTrack="ObjectBindingTrack",i.TransformTrack="TransformTrack",i.SpriteColorTrack="SpriteColorTrack",i.ActivationTrack="ActivationTrack",i.SubCompositionTrack="SubCompositionTrack",i.FloatPropertyTrack="FloatPropertyTrack",i.ColorPropertyTrack="ColorPropertyTrack",i.Vector4PropertyTrack="Vector4PropertyTrack",i.TransformPlayableAsset="TransformPlayableAsset",i.SpriteColorPlayableAsset="SpriteColorPlayableAsset",i.ActivationPlayableAsset="ActivationPlayableAsset",i.SubCompositionPlayableAsset="SubCompositionPlayableAsset",i.FloatPropertyPlayableAsset="FloatPropertyPlayableAsset",i.ColorPropertyPlayableAsset="ColorPropertyPlayableAsset",i.MeshComponent="MeshComponent",i.SkyboxComponent="SkyboxComponent",i.LightComponent="LightComponent",i.CameraComponent="CameraComponent",i.ModelPluginComponent="ModelPluginComponent",i.TreeComponent="TreeComponent",i.AnimationComponent="AnimationComponent",i.SpineComponent="SpineComponent",i.VideoComponent="VideoComponent",i.AudioComponent="AudioComponent",i.RichTextComponent="RichTextComponent",i.OrientationComponent="OrientationComponent",i.ShapeComponent="ShapeComponent",i.TimelineClip="TimelineClip"})(Pt||(Pt={}));var an;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(an||(an={}));var Dr;(function(i){i[i.Float16=0]="Float16",i[i.Float32=1]="Float32",i[i.Int8=2]="Int8",i[i.Int16=3]="Int16",i[i.Int32=4]="Int32",i[i.UInt8=5]="UInt8",i[i.UInt16=6]="UInt16",i[i.UInt32=7]="UInt32"})(Dr||(Dr={}));var kr;(function(i){i[i.None=-1]="None",i[i.UInt8=0]="UInt8",i[i.UInt16=1]="UInt16",i[i.UInt32=2]="UInt32"})(kr||(kr={}));var Xr;(function(i){i.Position="POSITION",i.Uv="TEXCOORD0",i.Uv2="TEXCOORD1",i.Normal="NORMAL",i.Tangent="TANGENT",i.Color="COLOR",i.Joints="JOINTS",i.Weights="WEIGHTS",i.PositionBS0="POSITION_BS0",i.PositionBS1="POSITION_BS1",i.PositionBS2="POSITION_BS2",i.PositionBS3="POSITION_BS3",i.PositionBS4="POSITION_BS4",i.PositionBS5="POSITION_BS5",i.PositionBS6="POSITION_BS6",i.PositionBS7="POSITION_BS7",i.NormalBS0="NORMAL_BS0",i.NormalBS1="NORMAL_BS1",i.NormalBS2="NORMAL_BS2",i.NormalBS3="NORMAL_BS3",i.TangentBS0="TANGENT_BS0",i.TangentBS1="TANGENT_BS1",i.TangentBS2="TANGENT_BS2",i.TangentBS3="TANGENT_BS3"})(Xr||(Xr={}));var un=Object.freeze({__proto__:null,get RenderLevel(){return jt},get BlendingMode(){return Yt},get SideMode(){return sr},get MaskMode(){return lr},get ParticleEmitterShapeType(){return nr},get PluginType(){return sn},get InteractType(){return Br},get InteractBehavior(){return hn},get ItemType(){return Ue},get RenderMode(){return fr},get ParticleOrigin(){return Cr},get RenderType(){return Ir},get RenderFace(){return Er},get CameraClipMode(){return Fr},END_BEHAVIOR_DESTROY:ln,END_BEHAVIOR_PAUSE:Vn,END_BEHAVIOR_FORWARD:hr,END_BEHAVIOR_PAUSE_AND_DESTROY:jn,END_BEHAVIOR_FREEZE:qr,END_BEHAVIOR_RESTART:Zn,END_BEHAVIOR_DESTROY_CHILDREN:Rn,CAMERA_CLIP_MODE_VERTICAL:vi,CAMERA_CLIP_MODE_NORMAL:pi,MESSAGE_ITEM_PHRASE_BEGIN:Jn,MESSAGE_ITEM_PHRASE_END:nn,get ValueType(){return vt},get BezierKeyframeType(){return Qr},get EndBehavior(){return Te},get ParentItemEndBehavior(){return Ke},get ParticleInteractionBehavior(){return Ot},get ShapeArcMode(){return it},get LightType(){return H},get ModelBoundingType(){return ye},get CameraType(){return Ne},get MaterialType(){return le},get MaterialBlending(){return De},get RenderMode3D(){return yt},get TextOverflow(){return qt},get TextBaseline(){return Pr},get TextAlignment(){return $t},get TextWeight(){return ir},get FontStyle(){return Nt},BuiltinObjectGUID:Tr,get ShapePrimitiveType(){return Kt},get ShapeConnectType(){return xn},get ShapePointType(){return Mn},get BackgroundType(){return yn},get MultimediaType(){return An},get DataType(){return Pt},get GeometryType(){return an},get VertexFormatType(){return Dr},get IndexFormatType(){return kr},get VertexBufferSemantic(){return Xr}});function En(i,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function br(i,o,n){return o&&En(i.prototype,o),n&&En(i,n),i}var Jr=new Map,Yn=new Map,Hn={};function lt(i){return function(o,n){Hn[i]&&console.warn("Class "+i+" is already registered."),Hn[i]=o}}function Rr(i,o){return Ti(i,o)}function na(i){var o=i.constructor;if(Yn.get(o))return Yn.get(o);var n={};Yn.set(o,n);for(var e=i,t=o;t;){var r=Jr.get(t);for(var a in r)n[a]=r[a];var s=Object.getPrototypeOf(e);if(t=Object.getPrototypeOf(s).constructor,t===Object)break;e=s}return n}function Ti(i,o){return function(n,e){var t=Si(n);t&&(t[e]||(t[e]={type:i,sourceName:o}))}}function Si(i){var o=i.constructor;return Jr.get(o)||Jr.set(o,{}),Jr.get(o)}var In=function(){function i(n){this.engine=n,this.guid=nt(),this.taggedProperties={},this.engine.addInstance(this)}var o=i.prototype;return o.getInstanceId=function(){return this.guid},o.setInstanceId=function(e){this.engine.removeInstance(this.guid),this.guid=e,this.engine.addInstance(this)},o.toData=function(){},o.fromData=function(e){e.id&&this.setInstanceId(e.id)},o.dispose=function(){},i.is=function(e){return U(e,i)&&"guid"in e},i}(),Hi=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.isAwakeCalled=!1,e.isStartCalled=!1,e.isEnableCalled=!1,e._enabled=!0,e}var n=o.prototype;return n.onAwake=function(){},n.onEnable=function(){},n.onDisable=function(){},n.onStart=function(){},n.onUpdate=function(t){},n.onLateUpdate=function(t){},n.onDestroy=function(){},n.enable=function(){this.item.composition&&(this.item.composition.sceneTicking.addComponent(this),this.isEnableCalled=!0),this.onEnable()},n.disable=function(){this.onDisable(),this.item.composition&&(this.isEnableCalled=!1,this.item.composition.sceneTicking.removeComponent(this))},n.setVFXItem=function(t){this.item=t,t.isDuringPlay&&(this.isAwakeCalled||(this.onAwake(),this.isAwakeCalled=!0),t.isActive&&this.enabled&&(this.start(),this.enable()))},n.fromData=function(t){i.prototype.fromData.call(this,t),t.item&&(this.item=t.item)},n.dispose=function(){this.isEnableCalled&&this.disable(),this.isAwakeCalled&&(this.isAwakeCalled=!1,this.onDestroy()),this.item&&de(this.item.components,this)},n.start=function(){this.isStartCalled||(this.isStartCalled=!0,this.onStart())},br(o,[{key:"transform",get:function(){return this.item.transform}},{key:"isActiveAndEnabled",get:function(){return this.item.isActive&&this.enabled}},{key:"enabled",get:function(){return this._enabled},set:function(t){this.enabled!==t&&(this._enabled=t,t?this.isActiveAndEnabled&&(this.enable(),this.isStartCalled||(this.onStart(),this.isStartCalled=!0)):this.isEnableCalled&&this.disable())}}]),o}(In);re([Rr()],Hi.prototype,"_enabled",void 0);var Ta=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.setVFXItem=function(t){i.prototype.setVFXItem.call(this,t)},n.dispose=function(){i.prototype.dispose.call(this)},o}(Hi),Zi=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.materials=[],e._priority=0,e}var n=o.prototype;return n.render=function(t){},n.setVFXItem=function(t){i.prototype.setVFXItem.call(this,t),this.item.rendererComponents.push(this)},n.onEnable=function(){var t;(t=this.item.composition)==null||t.renderFrame.addMeshToDefaultRenderPass(this)},n.onDisable=function(){var t;(t=this.item.composition)==null||t.renderFrame.removeMeshFromDefaultRenderPass(this)},n.fromData=function(t){i.prototype.fromData.call(this,t)},n.toData=function(){i.prototype.toData.call(this)},n.dispose=function(){this.item&&de(this.item.rendererComponents,this),i.prototype.dispose.call(this)},br(o,[{key:"priority",get:function(){return this._priority},set:function(t){this._priority=t}},{key:"material",get:function(){return this.materials[0]},set:function(t){this.materials.length===0?this.materials.push(t):this.materials[0]=t}}]),o}(Hi);re([Rr()],Zi.prototype,"materials",void 0),re([Rr()],Zi.prototype,"_priority",void 0);var gi=Math.PI*2,ai=Math.PI/180,fa=180/Math.PI,Va=1e-6;function Ba(i){return isNaN(i)||Math.abs(i)<Va}function Sa(i,o){return Math.abs(i-o)<Va||i===1/0&&o===1/0||i===-1/0&&o===-1/0}var co=function(i,o,n,e){return Ai(i,o,1-Math.exp(-n*e))},Ai=function(i,o,n){return(1-n)*i+n*o},Ka=function(i){return i*ai},qa=function(i){return i*fa};function oi(i,o,n){var e=isNaN(o)?-1/0:o,t=isNaN(n)?1/0:n,r=Math.min(e,t),a=Math.max(e,t);return Math.min(Math.max(i,r),a)}var _n=function(){function i(n,e){n===void 0&&(n=0),e===void 0&&(e=0),this.x=n,this.y=e}var o=i.prototype;return o.set=function(e,t){return this.x=e,this.y=t,this},o.setZero=function(){return this.x=0,this.y=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.x=(r=e[t])!=null?r:0;var a;return this.y=(a=e[t+1])!=null?a:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this},o.clone=function(){return new i(this.x,this.y)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e):U(e,Array)?(this.x+=e[0],this.y+=e[1]):(this.x+=e.x,this.y+=e.y),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e):U(e,Array)?(this.x-=e[0],this.y-=e[1]):(this.x-=e.x,this.y-=e.y),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e):U(e,Array)?(this.x*=e[0],this.y*=e[1]):(this.x*=e.x,this.y*=e.y),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e):U(e,Array)?(this.x/=e[0],this.y/=e[1]):(this.x/=e.x,this.y/=e.y),this},o.scale=function(e){return this.x*=e,this.y*=e,this},o.sum=function(){return this.x+this.y},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.lengthSquared=function(){return this.x*this.x+this.y*this.y},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},o.lerpVectors=function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this},o.dot=function(e){return this.x*e.x+this.y*e.y},o.cross=function(e){return this.x*e.y-this.y*e.x},o.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},o.distanceSquared=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},o.equals=function(e){return this.x===e.x&&this.y===e.y},o.isZero=function(){var e=Va,t=this,r=t.x,a=t.y;return Math.abs(r)<=e&&Math.abs(a)<=e},o.toArray=function(){return[this.x,this.y]},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();_n.ONE=new _n(1,1),_n.ZERO=new _n(0,0);var we=function(){function i(n,e,t){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),this.x=n,this.y=e,this.z=t}var o=i.prototype;return o.set=function(e,t,r){return this.x=e,this.y=t,this.z=r,this},o.setZero=function(){return this.x=0,this.y=0,this.z=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this.z=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.x=(r=e[t])!=null?r:0;var a;this.y=(a=e[t+1])!=null?a:0;var s;return this.z=(s=e[t+2])!=null?s:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},o.clone=function(){return new i(this.x,this.y,this.z)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e,this.z+=e):U(e,Array)?(this.x+=e[0],this.y+=e[1],this.z+=e[2]):(this.x+=e.x,this.y+=e.y,this.z+=e.z),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},o.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e,this.z-=e):U(e,Array)?(this.x-=e[0],this.y-=e[1],this.z-=e[2]):(this.x-=e.x,this.y-=e.y,this.z-=e.z),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e):U(e,Array)?(this.x*=e[0],this.y*=e[1],this.z*=e[2]):(this.x*=e.x,this.y*=e.y,this.z*=e.z),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e):U(e,Array)?(this.x/=e[0],this.y/=e[1],this.z/=e[2]):(this.x/=e.x,this.y/=e.y,this.z/=e.z),this},o.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this},o.sum=function(){return this.x+this.y+this.z},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e),this.z=Math.min(this.z,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),this.z=Math.max(this.z,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},o.lerpVectors=function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},o.cross=function(e){return this.crossVectors(this,e)},o.crossVectors=function(e,t){var r=e.x,a=e.y,s=e.z,l=t.x,u=t.y,h=t.z;return this.x=a*h-s*u,this.y=s*l-r*h,this.z=r*u-a*l,this},o.reflect=function(e){return this.subtract(e.clone().multiply(2*this.dot(e)))},o.distance=function(e){return Math.sqrt(this.distanceSquared(e))},o.distanceSquared=function(e){var t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},o.isZero=function(){var e=Va,t=this,r=t.x,a=t.y,s=t.z;return Math.abs(r)<=e&&Math.abs(a)<=e&&Math.abs(s)<=e},o.toArray=function(){return[this.x,this.y,this.z]},o.toVector2=function(){return new _n(this.x,this.y)},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},o.applyEuler=function(e,t){return e.rotateVector3(this,t)},o.applyQuaternion=function(e,t){return e.rotateVector3(this,t)},o.applyMatrix=function(e,t){return e.transformPoint(this,t)},o.applyNormalMatrix=function(e,t){return e.transformNormal(this,t)},o.applyProjectionMatrix=function(e,t){return e.projectPoint(this,t)},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();we.X=new we(1,0,0),we.Y=new we(0,1,0),we.Z=new we(0,0,1),we.ONE=new we(1,1,1),we.ZERO=new we(0,0,0);var Ur=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),this.x=n,this.y=e,this.z=t,this.w=r}var o=i.prototype;return o.set=function(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this},o.setZero=function(){return this.x=0,this.y=0,this.z=0,this.w=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.x=(r=e[t])!=null?r:0;var a;this.y=(a=e[t+1])!=null?a:0;var s;this.z=(s=e[t+2])!=null?s:0;var l;return this.w=(l=e[t+3])!=null?l:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.clone=function(){return new i(this.x,this.y,this.z,this.w)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e,this.z+=e,this.w+=e):U(e,Array)?(this.x+=e[0],this.y+=e[1],this.z+=e[2],this.w+=e[3]):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},o.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e,this.z-=e,this.w-=e):U(e,Array)?(this.x-=e[0],this.y-=e[1],this.z-=e[2],this.w-=e[3]):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):U(e,Array)?(this.x*=e[0],this.y*=e[1],this.z*=e[2],this.w*=e[3]):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this.w=e.w*t.w,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e,this.w/=e):U(e,Array)?(this.x/=e[0],this.y/=e[1],this.z/=e[2],this.w/=e[3]):(this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w),this},o.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},o.sum=function(){return this.x+this.y+this.z+this.w},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e),this.z=Math.min(this.z,e),this.w=Math.min(this.w,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),this.z=Math.max(this.z,e),this.w=Math.max(this.w,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this.w=Math.abs(this.w),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},o.lerpVectors=function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},o.isZero=function(){var e=Va,t=this,r=t.x,a=t.y,s=t.z,l=t.w;return Math.abs(r)<=e&&Math.abs(a)<=e&&Math.abs(s)<=e&&Math.abs(l)<=e},o.toArray=function(){return[this.x,this.y,this.z,this.w]},o.toVector3=function(){return new we(this.x,this.y,this.z)},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},o.applyMatrix=function(e,t){return e.transformVector4(this,t)},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();Ur.ONE=new Ur(1,1,1,1),Ur.ZERO=new Ur(0,0,0,0);var Xi=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.meshCollider=new vf,e.getHitTestParams=function(t){var r=e.transform.getWorldMatrix();e.meshCollider.setGeometry(e.geometry,r);var a=e.meshCollider.getBoundingBoxData();if(a)return{type:a.type,triangles:a.area}},e}var n=o.prototype;return n.render=function(t){t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.transform.getWorldMatrix()),t.drawGeometry(this.geometry,this.material)},n.getBoundingBox=function(){var t=this.transform.getWorldMatrix();this.meshCollider.setGeometry(this.geometry,t);var r=this.meshCollider.getBoundingBox();return r},o}(Zi);re([Rr()],Xi.prototype,"geometry",void 0);var V=function(i){be(o,i);function o(e){var t;return t=i.call(this,e)||this,t.name="EffectComponent",t}var n=o.prototype;return n.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},n.onUpdate=function(t){var r=this.item.time,a,s=(a=this.material.getVector4("_Time"))!=null?a:new Ur;this.material.setVector4("_Time",s.set(r/20,r,r*2,r*3))},n.fromData=function(t){i.prototype.fromData.call(this,t),this.material=this.materials[0]},o}(Xi);V=re([lt(Pt.EffectComponent)],V);var Ee=function(i){be(o,i);function o(e){var t;return t=i.call(this,e)||this,t.bloom={threshold:0,intensity:0,active:!1},t.vignette={intensity:0,smoothness:0,roundness:0,active:!1},t.tonemapping={active:!1},t.colorAdjustments={brightness:0,saturation:0,contrast:0,active:!1},t}var n=o.prototype;return n.onStart=function(){var t=this.item.composition;t&&(t.renderFrame.globalVolume=this)},o}(Ta);re([Rr()],Ee.prototype,"bloom",void 0),re([Rr()],Ee.prototype,"vignette",void 0),re([Rr()],Ee.prototype,"tonemapping",void 0),re([Rr()],Ee.prototype,"colorAdjustments",void 0),Ee=re([lt(Pt.PostProcessVolume)],Ee);function He(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var _t=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=1),this.x=n,this.y=e,this.z=t,this.w=r}var o=i.prototype;return o.set=function(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this},o.setFromEuler=function(e){return e.toQuaternion(this),this},o.setFromAxisAngle=function(e,t){var r=t/2,a=Math.sin(r),s=i.tempVec0;return s.copyFrom(e).normalize(),this.x=s.x*a,this.y=s.y*a,this.z=s.z*a,this.w=Math.cos(r),this},o.setFromVector4=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.setFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},o.setFromRotationMatrix=function(e){var t=e.elements,r=t[0],a=t[4],s=t[8],l=t[1],u=t[5],h=t[9],m=t[2],v=t[6],p=t[10],b=r+u+p;if(b>0){var x=.5/Math.sqrt(b+1);this.w=.25/x,this.x=(v-h)*x,this.y=(s-m)*x,this.z=(l-a)*x}else if(r>u&&r>p){var P=2*Math.sqrt(1+r-u-p);this.w=(v-h)/P,this.x=.25*P,this.y=(a+l)/P,this.z=(s+m)/P,this.negate()}else if(u>p){var B=2*Math.sqrt(1+u-r-p);this.w=(s-m)/B,this.x=(a+l)/B,this.y=.25*B,this.z=(h+v)/B,this.negate()}else{var D=2*Math.sqrt(1+p-r-u);this.w=(l-a)/D,this.x=(s+m)/D,this.y=(h+v)/D,this.z=.25*D,this.negate()}return this},o.setFromUnitVectors=function(e,t){var r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this.x=-e.y,this.y=e.x,this.z=0,this.w=r):(this.x=0,this.y=-e.z,this.z=e.y,this.w=r)):(this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this.w=r),this.normalize()},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.clone=function(){return new i(this.x,this.y,this.z,this.w)},o.angleTo=function(e){return 2*Math.acos(Math.abs(oi(this.dot(e),-1,1)))},o.rotateTowards=function(e,t){var r=this.angleTo(e);if(r===0)return this;var a=Math.min(1,t/r);return this.slerp(e,a),this},o.identity=function(){return this.set(0,0,0,1)},o.invert=function(){return this.conjugate()},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},o.conjugate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},o.normalize=function(){var e=this.length();return e===0?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},o.multiply=function(e){return this.multiplyQuaternions(this,e)},o.premultiply=function(e){return this.multiplyQuaternions(e,this)},o.multiplyQuaternions=function(e,t){var r=e.x,a=e.y,s=e.z,l=e.w,u=t.x,h=t.y,m=t.z,v=t.w;return this.x=r*v+l*u+a*m-s*h,this.y=a*v+l*h+s*u-r*m,this.z=s*v+l*m+r*h-a*u,this.w=l*v-r*u-a*h-s*m,this},o.slerp=function(e,t){if(t===0)return this;if(t===1)return this.copyFrom(e);var r=this,a=r.x,s=r.y,l=r.z,u=r.w,h=u*e.w+a*e.x+s*e.y+l*e.z;if(h<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,h=-h):this.copyFrom(e),h>=1)return this.w=u,this.x=a,this.y=s,this.z=l,this;var m=1-h*h;if(m<=Number.EPSILON){var v=1-t;return this.w=v*u+t*this.w,this.x=v*a+t*this.x,this.y=v*s+t*this.y,this.z=v*l+t*this.z,this.normalize(),this}var p=Math.sqrt(m),b=Math.atan2(p,h),x=Math.sin((1-t)*b)/p,P=Math.sin(t*b)/p;return this.w=u*x+this.w*P,this.x=a*x+this.x*P,this.y=s*x+this.y*P,this.z=l*x+this.z*P,this},o.slerpQuaternions=function(e,t,r){this.copyFrom(e).slerp(t,r)},o.rotateVector3=function(e,t){var r=this,a=r.x,s=r.y,l=r.z,u=r.w,h=e.x,m=e.y,v=e.z,p=u*h+s*v-l*m,b=u*m+l*h-a*v,x=u*v+a*m-s*h,P=-a*h-s*m-l*v,B=t!=null?t:e;return B.x=p*u+P*-a+b*-l-x*-s,B.y=b*u+P*-s+x*-a-p*-l,B.z=x*u+P*-l+p*-s-b*-a,B},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},o.toArray=function(){return[this.x,this.y,this.z,this.w]},o.toVector4=function(e){return e.set(this.x,this.y,this.z,this.w)},o.toEuler=function(e){return e.setFromQuaternion(this)},o.toMatrix4=function(e){return e.compose(we.ZERO,this,we.ONE)},i.fromEuler=function(e){return new i().setFromEuler(e)},i.fromAxisAngle=function(e,t){return new i().setFromAxisAngle(e,t)},i.fromVector4=function(e){return new i().setFromVector4(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromRotationMatrix=function(e){return new i().setFromRotationMatrix(e)},i.fromUnitVectors=function(e,t){return new i().setFromUnitVectors(e,t)},i}();_t.tempVec0=new we;var Or=function(){function i(n,e,t,r,a,s,l,u,h,m,v,p,b,x,P,B){n===void 0&&(n=1),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=1),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=0),m===void 0&&(m=0),v===void 0&&(v=1),p===void 0&&(p=0),b===void 0&&(b=0),x===void 0&&(x=0),P===void 0&&(P=0),B===void 0&&(B=1),this.elements=[n,e,t,r,a,s,l,u,h,m,v,p,b,x,P,B]}var o=i.prototype;return o.set=function(e,t,r,a,s,l,u,h,m,v,p,b,x,P,B,D){var _=this.elements;return _[0]=e,_[1]=t,_[2]=r,_[3]=a,_[4]=s,_[5]=l,_[6]=u,_[7]=h,_[8]=m,_[9]=v,_[10]=p,_[11]=b,_[12]=x,_[13]=P,_[14]=B,_[15]=D,this},o.setFromRowMajorData=function(e,t,r,a,s,l,u,h,m,v,p,b,x,P,B,D){var _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=a,_[1]=s,_[5]=l,_[9]=u,_[13]=h,_[2]=m,_[6]=v,_[10]=p,_[14]=b,_[3]=x,_[7]=P,_[11]=B,_[15]=D,this},o.setFromColumnVectors=function(e,t,r,a){return this.set(e.x,e.y,e.z,e.w,t.x,t.y,t.z,t.w,r.x,r.y,r.z,r.w,a.x,a.y,a.z,a.w)},o.setFromMatrix3=function(e){var t=e.elements;return this.set(t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1),this},o.setFromArray=function(e,t){t===void 0&&(t=0);for(var r=0;r<16;r++)this.elements[r]=e[t+r];return this},o.setFromScale=function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)},o.setFromTranslation=function(e,t,r){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1)},o.setFromRotationX=function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,r,0,0,-r,t,0,0,0,0,1)},o.setFromRotationY=function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,-r,0,0,1,0,0,r,0,t,0,0,0,0,1)},o.setFromRotationZ=function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,r,0,0,-r,t,0,0,0,0,1,0,0,0,0,1)},o.setFromRotationAxis=function(e,t){var r=i.tempVec0;r.copyFrom(e).normalize();var a=Math.cos(t),s=Math.sin(t),l=1-a,u=r.x,h=r.y,m=r.z,v=l*u,p=l*h;return this.set(v*u+a,v*h+s*m,v*m-s*h,0,v*h-s*m,p*h+a,p*m+s*u,0,v*m+s*h,p*m-s*u,l*m*m+a,0,0,0,0,1)},o.setFromEuler=function(e){return e.toMatrix4(this),this},o.setFromQuaternion=function(e){return this.compose(we.ZERO,e,we.ONE)},o.setFromShear=function(e,t,r){return this.set(1,e,e,0,t,1,t,0,r,r,1,0,0,0,0,1)},o.setFromBasis=function(e,t,r){return this.set(e.x,e.y,e.z,0,t.x,t.y,t.z,0,r.x,r.y,r.z,0,0,0,0,1)},o.setZero=function(){for(var e=0;e<16;e++)this.elements[e]=0;return this},o.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},o.isIdentity=function(){var e=this.elements;return e[0]===1&&e[4]===0&&e[8]===0&&e[12]===0&&e[1]===0&&e[5]===1&&e[9]===0&&e[13]===0&&e[2]===0&&e[6]===0&&e[10]===1&&e[14]===0&&e[3]===0&&e[7]===0&&e[11]===0&&e[15]===1},o.clone=function(){var e=this.elements;return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},o.copyFrom=function(e){return this.elements=[].concat(e.elements),this},o.getColumnVector=function(e,t){return t.set(this.elements[e*4],this.elements[e*4+1],this.elements[e*4+2],this.elements[e*4+3])},o.lookAt=function(e,t,r){var a=i.tempVec0,s=i.tempVec1,l=i.tempVec2;l.subtractVectors(e,t),l.normalize(),a.crossVectors(r,l),a.normalize(),s.crossVectors(l,a);var u=this.elements;return u[0]=a.x,u[1]=s.x,u[2]=l.x,u[3]=0,u[4]=a.y,u[5]=s.y,u[6]=l.y,u[7]=0,u[8]=a.z,u[9]=s.z,u[10]=l.z,u[11]=0,u[12]=-a.dot(e),u[13]=-s.dot(e),u[14]=-l.dot(e),u[15]=1,this},o.addScaledMatrix=function(e,t){for(var r=this.elements,a=e.elements,s=0;s<16;s++)r[s]+=a[s]*t;return this},o.multiply=function(e){if(typeof e=="number"){for(var t=0;t<16;t++)this.elements[t]*=e;return this}else return this.multiplyMatrices(this,e)},o.premultiply=function(e){return this.multiplyMatrices(e,this)},o.multiplyMatrices=function(e,t){var r=e.elements,a=t.elements,s=this.elements,l=r[0],u=r[4],h=r[8],m=r[12],v=r[1],p=r[5],b=r[9],x=r[13],P=r[2],B=r[6],D=r[10],_=r[14],Y=r[3],k=r[7],W=r[11],te=r[15],ae=a[0],se=a[4],Qe=a[8],Je=a[12],at=a[1],ut=a[5],At=a[9],Gt=a[13],Wt=a[2],Qt=a[6],er=a[10],Dt=a[14],Lr=a[3],cr=a[7],Mr=a[11],Gr=a[15];return s[0]=l*ae+u*at+h*Wt+m*Lr,s[4]=l*se+u*ut+h*Qt+m*cr,s[8]=l*Qe+u*At+h*er+m*Mr,s[12]=l*Je+u*Gt+h*Dt+m*Gr,s[1]=v*ae+p*at+b*Wt+x*Lr,s[5]=v*se+p*ut+b*Qt+x*cr,s[9]=v*Qe+p*At+b*er+x*Mr,s[13]=v*Je+p*Gt+b*Dt+x*Gr,s[2]=P*ae+B*at+D*Wt+_*Lr,s[6]=P*se+B*ut+D*Qt+_*cr,s[10]=P*Qe+B*At+D*er+_*Mr,s[14]=P*Je+B*Gt+D*Dt+_*Gr,s[3]=Y*ae+k*at+W*Wt+te*Lr,s[7]=Y*se+k*ut+W*Qt+te*cr,s[11]=Y*Qe+k*At+W*er+te*Mr,s[15]=Y*Je+k*Gt+W*Dt+te*Gr,this},o.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},o.determinant=function(){var e=this.elements,t=e[0],r=e[4],a=e[8],s=e[12],l=e[1],u=e[5],h=e[9],m=e[13],v=e[2],p=e[6],b=e[10],x=e[14],P=e[3],B=e[7],D=e[11],_=e[15];return P*(+s*h*p-a*m*p-s*u*b+r*m*b+a*u*x-r*h*x)+B*(+t*h*x-t*m*b+s*l*b-a*l*x+a*m*v-s*h*v)+D*(+t*m*p-t*u*x-s*l*p+r*l*x+s*u*v-r*m*v)+_*(-a*u*v-t*h*p+t*u*b+a*l*p-r*l*b+r*h*v)},o.transpose=function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},o.invert=function(){var e=this.elements,t=e[0],r=e[1],a=e[2],s=e[3],l=e[4],u=e[5],h=e[6],m=e[7],v=e[8],p=e[9],b=e[10],x=e[11],P=e[12],B=e[13],D=e[14],_=e[15],Y=p*D*m-B*b*m+B*h*x-u*D*x-p*h*_+u*b*_,k=P*b*m-v*D*m-P*h*x+l*D*x+v*h*_-l*b*_,W=v*B*m-P*p*m+P*u*x-l*B*x-v*u*_+l*p*_,te=P*p*h-v*B*h-P*u*b+l*B*b+v*u*D-l*p*D,ae=t*Y+r*k+a*W+s*te;if(ae===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var se=1/ae;return e[0]=Y*se,e[1]=(B*b*s-p*D*s-B*a*x+r*D*x+p*a*_-r*b*_)*se,e[2]=(u*D*s-B*h*s+B*a*m-r*D*m-u*a*_+r*h*_)*se,e[3]=(p*h*s-u*b*s-p*a*m+r*b*m+u*a*x-r*h*x)*se,e[4]=k*se,e[5]=(v*D*s-P*b*s+P*a*x-t*D*x-v*a*_+t*b*_)*se,e[6]=(P*h*s-l*D*s-P*a*m+t*D*m+l*a*_-t*h*_)*se,e[7]=(l*b*s-v*h*s+v*a*m-t*b*m-l*a*x+t*h*x)*se,e[8]=W*se,e[9]=(P*p*s-v*B*s-P*r*x+t*B*x+v*r*_-t*p*_)*se,e[10]=(l*B*s-P*u*s+P*r*m-t*B*m-l*r*_+t*u*_)*se,e[11]=(v*u*s-l*p*s-v*r*m+t*p*m+l*r*x-t*u*x)*se,e[12]=te*se,e[13]=(v*B*a-P*p*a+P*r*b-t*B*b-v*r*D+t*p*D)*se,e[14]=(P*u*a-l*B*a-P*r*h+t*B*h+l*r*D-t*u*D)*se,e[15]=(l*p*a-v*u*a+v*r*h-t*p*h-l*r*b+t*u*b)*se,this},o.extractBasis=function(e,t,r){var a=this.elements;return e.set(a[0],a[1],a[2]),t.set(a[4],a[5],a[6]),r.set(a[8],a[9],a[10]),this},o.compose=function(e,t,r,a){a===void 0&&(a=we.ZERO);var s=this.elements,l=t.x,u=t.y,h=t.z,m=t.w,v=-a.x,p=-a.y,b=-a.z,x=l+l,P=u+u,B=h+h,D=l*x,_=l*P,Y=l*B,k=u*P,W=u*B,te=h*B,ae=m*x,se=m*P,Qe=m*B,Je=r.x,at=r.y,ut=r.z;return s[0]=(1-(k+te))*Je,s[1]=(_+Qe)*Je,s[2]=(Y-se)*Je,s[3]=0,s[4]=(_-Qe)*at,s[5]=(1-(D+te))*at,s[6]=(W+ae)*at,s[7]=0,s[8]=(Y+se)*ut,s[9]=(W-ae)*ut,s[10]=(1-(D+k))*ut,s[11]=0,s[12]=v*s[0]+p*s[4]+b*s[8]-v+e.x,s[13]=v*s[1]+p*s[5]+b*s[9]-p+e.y,s[14]=v*s[2]+p*s[6]+b*s[10]-b+e.z,this},o.decompose=function(e,t,r){var a=i.tempVec0,s=this.elements,l=a.set(s[0],s[1],s[2]).length(),u=a.set(s[4],s[5],s[6]).length(),h=a.set(s[8],s[9],s[10]).length(),m=this.determinant();m<0&&(l=-l),e.x=s[12],e.y=s[13],e.z=s[14];var v=i.tempMat0;v.copyFrom(this);var p=1/l,b=1/u,x=1/h;return v.elements[0]*=p,v.elements[1]*=p,v.elements[2]*=p,v.elements[4]*=b,v.elements[5]*=b,v.elements[6]*=b,v.elements[8]*=x,v.elements[9]*=x,v.elements[10]*=x,t.setFromRotationMatrix(v),r.x=l,r.y=u,r.z=h,this},o.getTranslation=function(e){var t=this.elements;return e.set(t[12],t[13],t[14])},o.getScale=function(e){var t=this.elements;return e.set(Math.hypot(t[0],t[1],t[2]),Math.hypot(t[4],t[5],t[6]),Math.hypot(t[8],t[9],t[10]))},o.getTransform=function(){var e=new we,t=new _t,r=new we;return this.decompose(e,t,r),{translation:e,rotation:t,scale:r}},o.orthographic=function(e,t,r,a,s,l){var u=1/(t-e),h=1/(r-a),m=1/(l-s),v=-(t+e)*u,p=-(r+a)*h,b=-(l+s)*m;u*=2,h*=2,m*=-2;var x=this.elements;return x[0]=u,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=h,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=m,x[11]=0,x[12]=v,x[13]=p,x[14]=b,x[15]=1,this},o.perspective=function(e,t,r,a,s){var l=1/Math.tan(e*.5),u=1/(r-a),h=this.elements;return h[0]=s?l:l/t,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=s?l*t:l,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=(a+r)*u,h[11]=-1,h[12]=0,h[13]=0,h[14]=2*a*r*u,h[15]=0,(a===null||a===1/0)&&(h[10]=-1,h[14]=-2*r),this},o.projectPoint=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;u.x=l[0]*r+l[4]*a+l[8]*s+l[12],u.y=l[1]*r+l[5]*a+l[9]*s+l[13],u.z=l[2]*r+l[6]*a+l[10]*s+l[14];var h=l[3]*r+l[7]*a+l[11]*s+l[15];return u.multiply(1/h)},o.transformPoint=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;return u.x=l[0]*r+l[4]*a+l[8]*s+l[12],u.y=l[1]*r+l[5]*a+l[9]*s+l[13],u.z=l[2]*r+l[6]*a+l[10]*s+l[14],u},o.transformNormal=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;return u.x=l[0]*r+l[4]*a+l[8]*s,u.y=l[1]*r+l[5]*a+l[9]*s,u.z=l[2]*r+l[6]*a+l[10]*s,u.normalize()},o.transformVector4=function(e,t){var r=e.x,a=e.y,s=e.z,l=e.w,u=this.elements,h=t!=null?t:e;return h.x=u[0]*r+u[4]*a+u[8]*s+u[12]*l,h.y=u[1]*r+u[5]*a+u[9]*s+u[13]*l,h.z=u[2]*r+u[6]*a+u[10]*s+u[14]*l,h.w=u[3]*r+u[7]*a+u[11]*s+u[15]*l,h},o.equals=function(e){for(var t=this.elements,r=e.elements,a=0;a<16;a++)if(!Sa(t[a],r[a]))return!1;return!0},o.toArray=function(){return[].concat(this.elements)},o.fill=function(e,t){t===void 0&&(t=0);var r=this.elements;e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15]},i.fromIdentity=function(){return new i(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},i.fromLookAt=function(e,t,r){return new i().lookAt(e,t,r)},i.fromPerspective=function(e,t,r,a,s){return new i().perspective(e,t,r,a,s)},i.fromColumnVectors=function(e,t,r,a){return new i().setFromColumnVectors(e,t,r,a)},i.fromMatrix3=function(e){return new i().setFromMatrix3(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromScale=function(e,t,r){return new i().setFromScale(e,t,r)},i.fromTranslation=function(e,t,r){return new i().setFromTranslation(e,t,r)},i.fromRotationX=function(e){return new i().setFromRotationX(e)},i.fromRotationY=function(e){return new i().setFromRotationY(e)},i.fromRotationZ=function(e){return new i().setFromRotationZ(e)},i.fromRotationAxis=function(e,t){return new i().setFromRotationAxis(e,t)},i.fromEuler=function(e){return new i().setFromEuler(e)},i.fromQuaternion=function(e){return new i().setFromQuaternion(e)},i.fromShear=function(e,t,r){return new i().setFromShear(e,t,r)},i.fromBasis=function(e,t,r){return new i().setFromBasis(e,t,r)},i.fromRowMajorData=function(e,t,r,a,s,l,u,h,m,v,p,b,x,P,B,D){return new i(e,s,m,x,t,l,v,P,r,u,p,B,a,h,b,D)},i}();Or.IDENTITY=new Or(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),Or.ZERO=new Or(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),Or.tempVec0=new we,Or.tempVec1=new we,Or.tempVec2=new we,Or.tempMat0=new Or;function yi(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,e=new Array(o);n<o;n++)e[n]=i[n];return e}function qi(i,o){if(i){if(typeof i=="string")return yi(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(i,o)}}function ke(i,o){var n=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(n)return(n=n.call(i)).next.bind(n);if(Array.isArray(i)||(n=qi(i))||o&&i&&typeof i.length=="number"){n&&(i=n);var e=0;return function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var La;(function(i){i[i.noShader=0]="noShader",i[i.success=1]="success",i[i.fail=2]="fail",i[i.compiling=3]="compiling"})(La||(La={}));var qn;(function(i){i.GLSL1="100",i.GLSL3="300 es"})(qn||(qn={}));var Ko=function(i){be(o,i);function o(n,e){var t;return t=i.call(this,n)||this,t.source=e,t}return o}(In),ro=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createVariant=function(t){var r=[];if(t)for(var a=ke(Object.keys(t)),s;!(s=a()).done;){var l=s.value;r.push([l,t[l]])}var u=this.engine.getShaderLibrary().createShader(this.shaderData,r);return u.shader=this,u},n.fromData=function(t){i.prototype.fromData.call(this,t),this.shaderData=t},o}(In);ro=re([lt(Pt.Shader)],ro);var No="effects-internal-copy",Vo="effects-internal-copy-mesh",Co=`
precision highp float;
attribute vec2 aPos;
varying vec2 vTex;
void main(){
    gl_Position = vec4(aPos,0.,1.0);
    vTex = (aPos + vec2(1.0))/2.;
}`,Fa=`precision mediump float;
varying vec2 vTex;

#ifdef DEPTH_TEXTURE
uniform sampler2D uDepth;
#extension GL_EXT_frag_depth : enable
#endif
void main(){
    #ifdef DEPTH_TEXTURE
    gl_FragDepthEXT = texture2D(uDepth,vTex).r;
    #endif
}
`;function za(i,o){var n=i===2;return{name:No,vertex:Co,fragment:Fa,glslVersion:n?qn.GLSL3:qn.GLSL1,macros:[["DEPTH_TEXTURE",!!o]],cacheId:Vo+ +o}}function us(i,o,n){o===void 0&&(o="webgl");var e;if(o==="webgl2"&&(e=i.getContext("webgl2",n),e||console.debug("WebGL2 context retrieval failed, falling back to WebGL context.")),(!e||o==="webgl")&&(e=i.getContext("webgl",n)),!e)throw new Error("This browser does not support WebGL or the WebGL version is incorrect. Please check your WebGL version.");return e}function cs(i){var o=i.getExtension("EXT_disjoint_timer_query_webgl2");if(o){var n=i.createQuery(),e=M(function(){return ee(this,function(t){return[2,new Promise(function(r,a){if(n){var s=i.getQueryParameter(n,i.QUERY_RESULT_AVAILABLE),l=i.getParameter(o.GPU_DISJOINT_EXT);if(s&&!l){var u=i.getQueryParameter(n,i.QUERY_RESULT);r(u/1e3/1e3)}(s||l)&&(i.deleteQuery(n),n=null),s!==null&&n&&window.setTimeout(function(){e().then(r).catch},1)}})]})});return n?{begin:function(){n&&i.beginQuery(o.TIME_ELAPSED_EXT,n)},end:function(){i.endQuery(o.TIME_ELAPSED_EXT)},getTime:e}:void 0}}var Eo=[],F={};Eo.length||Ws();function Ws(){typeof WebGL2RenderingContext=="function"?Ln(WebGL2RenderingContext):typeof WebGLRenderingContext!="undefined"?(Ln(WebGLRenderingContext),Ln(WebGLRenderingContext.prototype)):Eo.push("iOS16 lockdown mode, WebGL Constants not in global"),!Eo.length&&!("HALF_FLOAT"in F)&&(F.HALF_FLOAT=5131)}function Sr(i){return typeof WebGL2RenderingContext!="undefined"&&i.constructor.name==="WebGL2RenderingContext"}function Ln(i){for(var o in i)/^[A-Z_]/.test(o)&&(F[o]=i[o])}function la(i){switch(i){case Dr.Float32:return WebGLRenderingContext.FLOAT;case Dr.Int16:return WebGLRenderingContext.SHORT;case Dr.Int8:return WebGLRenderingContext.BYTE;case Dr.UInt16:return WebGLRenderingContext.UNSIGNED_SHORT;case Dr.UInt8:return WebGLRenderingContext.UNSIGNED_BYTE;default:return WebGLRenderingContext.FLOAT}}function fs(i){switch(i){case WebGLRenderingContext.FLOAT:return Dr.Float32;case WebGLRenderingContext.SHORT:return Dr.Int16;case WebGLRenderingContext.BYTE:return Dr.Int8;case WebGLRenderingContext.UNSIGNED_SHORT:return Dr.UInt16;case WebGLRenderingContext.UNSIGNED_BYTE:return Dr.UInt8;default:return Dr.Float32}}var fo;(function(i){i[i.vertex=0]="vertex",i[i.fragment=1]="fragment"})(fo||(fo={}));function kl(i,o){return i==null?o:i}function To(i){switch(i){case Yt.ALPHA:return 1;case Yt.ADD:return 1;case Yt.SUBTRACTION:return 1;case Yt.STRONG_LIGHT:return 1;case Yt.WEAK_LIGHT:return 1;case Yt.SUPERPOSITION:return 2;case Yt.BRIGHTNESS:return 3;case Yt.MULTIPLY:return 0;default:return 1}}function hs(i,o){switch(o){case void 0:i.blendFunction=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA];break;case Yt.ALPHA:i.blendFunction=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA];break;case Yt.ADD:i.blendFunction=[F.ONE,F.ONE,F.ONE,F.ONE];break;case Yt.SUBTRACTION:i.blendFunction=[F.ONE,F.ONE,F.ZERO,F.ONE],i.blendEquation=[F.FUNC_REVERSE_SUBTRACT,F.FUNC_REVERSE_SUBTRACT];break;case Yt.SUPERPOSITION:i.blendFunction=[F.ONE,F.ONE,F.ONE,F.ONE];break;case Yt.MULTIPLY:i.blendFunction=[F.DST_COLOR,F.ONE_MINUS_SRC_ALPHA,F.DST_COLOR,F.ONE_MINUS_SRC_ALPHA];break;case Yt.BRIGHTNESS:i.blendFunction=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA];break;case Yt.STRONG_LIGHT:i.blendFunction=[F.DST_COLOR,F.DST_ALPHA,F.ZERO,F.ONE];break;case Yt.WEAK_LIGHT:i.blendFunction=[F.DST_COLOR,F.ZERO,F.ZERO,F.ONE];break;default:console.warn("BlendMode "+o+" not in specification, please set blend params separately.")}}function ml(i,o){o===sr.DOUBLE?i.culling=!1:(i.culling=!0,i.frontFace=F.CW,i.cullFace=o===sr.BACK?F.BACK:F.FRONT)}function E(i,o){switch(o){case void 0:i.stencilTest=!1;break;case lr.MASK:i.stencilTest=!0,i.stencilFunc=[F.ALWAYS,F.ALWAYS],i.stencilOpZPass=[F.REPLACE,F.REPLACE];break;case lr.OBSCURED:i.stencilTest=!0,i.stencilFunc=[F.EQUAL,F.EQUAL];break;case lr.REVERSE_OBSCURED:i.stencilTest=!0,i.stencilFunc=[F.NOTEQUAL,F.NOTEQUAL];break;case lr.NONE:i.stencilTest=!1;break;default:console.warn("MaskMode "+o+" not in specification, please set stencil params seperately.")}}function A(){return A=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o},A.apply(this,arguments)}var Z;(function(i){i[i.whatever=0]="whatever",i[i.clear=2]="clear"})(Z||(Z={}));var G;(function(i){i[i.none=0]="none",i[i.data=1]="data",i[i.image=2]="image",i[i.compressed=3]="compressed",i[i.video=4]="video",i[i.canvas=5]="canvas",i[i.framebuffer=6]="framebuffer",i[i.mipmaps=7]="mipmaps"})(G||(G={}));var Pe=function(){function i(){this.callbacks={}}var o=i.prototype;return o.downloadJSON=function(e,t,r){this.download(e,"json",t,r)},o.downloadBinary=function(e,t,r){this.download(e,"arraybuffer",t,r)},o.downloadBlob=function(e,t,r){this.download(e,"blob",t,r)},o.download=function(e,t,r,a){var s=this;if(t===void 0&&(t="json"),!this.start(e,r,a)){var l=new XMLHttpRequest,u=function(){s.finish(e,l.status,l.response)},h=function(){l.status==200||l.status==0?s.finish(e,200,l.response):u()};l.responseType=t,l.addEventListener("load",h),l.addEventListener("error",u),l.open("GET",e,!0),l.send()}},o.start=function(e,t,r){var a=this.callbacks[e];try{if(a)return!0;this.callbacks[e]=a=[]}finally{a.push(t,r)}},o.finish=function(e,t,r){var a=this.callbacks[e];delete this.callbacks[e];for(var s=t==200||t==0?[r]:[t,r],l=s.length-1,u=a.length;l<u;l+=2)a[l].apply(null,s)},i}(),gt=!1,Tt=!1;function Ut(i,o){return xr.apply(this,arguments)}function xr(){return xr=M(function(i,o){var n,e,t;return ee(this,function(r){switch(r.label){case 0:return gt||!o?[4,ur(i)]:[3,2];case 1:return n=r.sent(),[2,{image:n,url:i}];case 2:return r.trys.push([2,4,,6]),[4,ur(o)];case 3:return e=r.sent(),[2,{image:e,url:o}];case 4:return r.sent(),gt=!0,[4,ur(i)];case 5:return t=r.sent(),[2,{image:t,url:i}];case 6:return[2]}})}),xr.apply(this,arguments)}function Vr(i,o){return wr.apply(this,arguments)}function wr(){return wr=M(function(i,o){var n,e,t;return ee(this,function(r){switch(r.label){case 0:return Tt||!o?[4,ur(i)]:[3,2];case 1:return n=r.sent(),[2,{image:n,url:i}];case 2:return r.trys.push([2,4,,6]),[4,ur(o)];case 3:return e=r.sent(),[2,{image:e,url:o}];case 4:return r.sent(),Tt=!0,[4,ur(i)];case 5:return t=r.sent(),[2,{image:t,url:i}];case 6:return[2]}})}),wr.apply(this,arguments)}function ur(i){return en.apply(this,arguments)}function en(){return en=M(function(i){var o,n;return ee(this,function(e){if(o="",U(i,HTMLImageElement)){if(i.complete)return[2,i];o=i.src}else U(i,Blob)?(o=URL.createObjectURL(i),n=!0):typeof i=="string"&&(o=i);if(!o)throw new Error("Invalid url type: "+JSON.stringify(i)+".");return[2,new Promise(function(t,r){var a=new Image;/^data:/.test(o)||(a.crossOrigin="*"),a.onload=function(){return a.onload=null,n&&URL.revokeObjectURL(o),t(a)},a.onerror=function(s){return a.onerror=null,n&&URL.revokeObjectURL(o),r("Load image fail: "+o+", reason: "+JSON.stringify(s))},a.src=o})]})}),en.apply(this,arguments)}function zt(i){return Zr.apply(this,arguments)}function Zr(){return Zr=M(function(i){return ee(this,function(o){return[2,new Promise(function(n,e){new Pe().downloadBinary(i,n,function(t,r){e("Couldn't load bins "+i+": status "+t+", "+r)})})]})}),Zr.apply(this,arguments)}function tn(i){return Xt.apply(this,arguments)}function Xt(){return Xt=M(function(i){return ee(this,function(o){return[2,new Promise(function(n,e){new Pe().downloadBlob(i,n,function(t,r){e("Couldn't load blob "+i+": status "+t+", "+r)})})]})}),Xt.apply(this,arguments)}function dn(i){return Fn.apply(this,arguments)}function Fn(){return Fn=M(function(i){var o;return ee(this,function(n){return o=document.createElement("video"),typeof i=="string"?o.src=i:o.srcObject=i,o.crossOrigin="anonymous",o.muted=!0,oe()&&o.setAttribute("renderer","standard"),o.setAttribute("playsinline","playsinline"),[2,new Promise(function(e,t){var r=o.play();r?r.then(function(){return e(o)}):o.addEventListener("loadeddata",function a(){e(o),o.removeEventListener("loadeddata",a)},!0),o.addEventListener("error",function(a){t("Load video fail.")})})]})}),Fn.apply(this,arguments)}function Dn(i,o){return mn.apply(this,arguments)}function mn(){return mn=M(function(i,o){return ee(this,function(n){switch(n.label){case 0:if(!Array.isArray(i))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,5]),[4,o(i[0])];case 2:return[2,n.sent()];case 3:return n.sent(),[4,o(i[1])];case 4:return[2,n.sent()];case 5:return[2,o(i)]}})}),mn.apply(this,arguments)}function ri(i,o,n){return vn.apply(this,arguments)}function vn(){return vn=M(function(i,o,n,e){var t,r,a,s,l,u,h,m,v;return ee(this,function(p){switch(p.label){case 0:return e===void 0&&(e=[]),i.target!==34067?[3,2]:(t=i.mipmaps,r=i.target,a=t.map(function(b){return Promise.all(b.map(function(x){if(x.id){var P=n[x.id];return P}else return Bn(x,o)}))}),[4,Promise.all(a)]);case 1:return s=p.sent(),[2,A({keepImageSource:!1},i,{mipmaps:s,sourceFrom:{target:r,type:G.mipmaps}})];case 2:return l=i.mipmaps,u=i.target,h=l.map(function(b){return Bn(b,o)}),[4,Promise.all(h)];case 3:return m=p.sent(),v=e[l[0][1][0]].url,[2,A({keepImageSource:!1},i,{mipmaps:m,sourceType:G.mipmaps,sourceFrom:{target:u,bin:v,type:G.mipmaps,mipmaps:l.map(function(b){return[b[1][1],b[1][2]]})}})];case 4:return[2]}})}),vn.apply(this,arguments)}function Bn(i,o){return bi.apply(this,arguments)}function bi(){return bi=M(function(i,o){var n,e,t,r,a;return ee(this,function(s){if(n=i[1],e=n[0],t=n[1],r=n[2],a=o[e],!a)throw new Error("Invalid bin pointer: "+JSON.stringify(i)+".");return[2,ur(new Blob([new Uint8Array(a,t,r)]))]})}),bi.apply(this,arguments)}var Vi=1,Nr=function(i){be(o,i);function o(e){var t;return t=i.call(this,e)||this,t.destroyed=!1,t.id="Tex"+Vi++,t}var n=o.prototype;return n.getWidth=function(){return this.width||0},n.getHeight=function(){return this.height||0},n.uploadCurrentVideoFrame=function(){},n.offloadData=function(){},n.reloadData=function(){},n.initialize=function(){},n.assembleOptions=function(t){var r=t.target,a=r===void 0?F.TEXTURE_2D:r,s=t.format,l=s===void 0?F.RGBA:s;return t.sourceType||("image"in t?t.sourceType=G.image:"data"in t?t.sourceType=G.data:"video"in t?t.sourceType=G.video:t.sourceType=0),A({minFilter:F.NEAREST,magFilter:F.NEAREST,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE,target:a,format:F.RGBA,internalFormat:l,type:F.UNSIGNED_BYTE},t)},o.fromImage=function(t,r,a){return M(function(){var s,l;return ee(this,function(u){switch(u.label){case 0:return[4,ur(t)];case 1:return s=u.sent(),l=o.create(r,A({sourceType:G.image,image:s,target:F.TEXTURE_2D,id:nt(),flipY:!0},a)),l.initialize(),[2,l]}})})()},o.fromVideo=function(t,r,a){return M(function(){var s,l;return ee(this,function(u){switch(u.label){case 0:return[4,dn(t)];case 1:return s=u.sent(),l=o.create(r,A({sourceType:G.video,video:s,id:nt(),flipY:!0},a)),l.initialize(),[2,l]}})})()},br(o,[{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(In);function fi(i,o,n,e){var t=o.length/n/e,r,a;return t===4||t===0?a=r=F.RGBA:t===3?a=r=F.RGB:t===2?a=r=F.LUMINANCE_ALPHA:a=r=F.LUMINANCE,Nr.createWithData(i,{data:o,width:n,height:e},{type:F.HALF_FLOAT,format:r,internalFormat:a,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE})}var wi={type:F.UNSIGNED_BYTE,format:F.RGBA,internalFormat:F.RGBA,wrapS:F.MIRRORED_REPEAT,wrapT:F.MIRRORED_REPEAT,minFilter:F.NEAREST,magFilter:F.NEAREST};function xi(i){return Nr.create(i,A({id:Tr.WhiteTexture,data:{width:1,height:1,data:new Uint8Array([255,255,255,255])},sourceType:G.data},wi))}function si(i){return Nr.create(i,A({id:Tr.TransparentTexture,data:{width:1,height:1,data:new Uint8Array([0,0,0,0])},sourceType:G.data},wi))}var Oi=12+13*4,Ii=0,ei=2,on=function(){function i(n,e,t){t===void 0&&(t=0),this.arrayBuffer=n,this.baseOffset=t;var r=new Uint8Array(this.arrayBuffer,this.baseOffset,12);if(r[0]!==171||r[1]!==75||r[2]!==84||r[3]!==88||r[4]!==32||r[5]!==49||r[6]!==49||r[7]!==187||r[8]!==13||r[9]!==10||r[10]!==26||r[11]!==10)throw new Error("Texture missing KTX identifier.");var a=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(this.arrayBuffer,this.baseOffset+12,13*a),l=s.getUint32(0,!0),u=l===67305985;if(this.glType=s.getUint32(1*a,u),this.glTypeSize=s.getUint32(2*a,u),this.glFormat=s.getUint32(3*a,u),this.glInternalFormat=s.getUint32(4*a,u),this.glBaseInternalFormat=s.getUint32(5*a,u),this.pixelWidth=s.getUint32(6*a,u),this.pixelHeight=s.getUint32(7*a,u),this.pixelDepth=s.getUint32(8*a,u),this.numberOfArrayElements=s.getUint32(9*a,u),this.numberOfFaces=s.getUint32(10*a,u),this.numberOfMipmapLevels=s.getUint32(11*a,u),this.bytesOfKeyValueData=s.getUint32(12*a,u),this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),this.pixelHeight===0||this.pixelDepth!==0){$e.warn("Only 2D textures currently supported.");return}if(this.numberOfArrayElements!==0){$e.warn("Texture arrays not currently supported.");return}if(this.numberOfFaces!==e){$e.warn("Number of faces expected "+e+", but found "+this.numberOfFaces+".");return}this.glType===0?this.loadType=Ii:this.loadType=ei}var o=i.prototype;return o.mipmaps=function(e){for(var t=[],r=Oi+this.bytesOfKeyValueData,a=this.pixelWidth,s=this.pixelHeight,l=e?this.numberOfMipmapLevels:1,u=0;u<l;u++){for(var h=new Int32Array(this.arrayBuffer,this.baseOffset+r,1)[0],m=0;m<this.numberOfFaces;m++){var v=new Uint8Array(this.arrayBuffer,this.baseOffset+r+4,h);t.push({data:v,width:a,height:s}),r+=h+4,r+=3-(h+3)%4}a=Math.max(1,a*.5),s=Math.max(1,s*.5)}return t},i}();function ni(i){var o=new on(i,1),n=o.numberOfMipmapLevels,e=o.pixelWidth,t=o.pixelHeight,r=o.glType,a=o.numberOfFaces,s=o.glInternalFormat,l=o.glFormat,u=n>=Math.floor(Math.log2(Math.max(e,t))+1);return{sourceType:G.compressed,type:r,target:a===6?F.TEXTURE_CUBE_MAP:F.TEXTURE_2D,internalFormat:s,format:l,mipmaps:o.mipmaps(u)}}var li=function(){function i(){this.reloadPending={}}var o=i.prototype;return o.reload=function(e){var t=this;return M(function(){var r,a;return ee(this,function(s){switch(s.label){case 0:return r=e.id,t.reloadPending[r]?[2]:e.sourceFrom?(t.reloadPending[r]=!0,[4,t.loadSource(e.sourceFrom)]):[3,2];case 1:return a=s.sent(),e.updateSource(a),t.reloadPending[r]=!1,[3,3];case 2:throw new Error("No source from.");case 3:return[2]}})})()},o.canOffloadTexture=function(e){if(e){var t=e.type;if(t===G.compressed||t===G.image){var r=e.target,a=e.map,s=e.url;return r===F.TEXTURE_CUBE_MAP?typeof a=="object"&&!!a:_r(s)&&s.length>0}if(t===G.mipmaps){var l=e.bin,u=e.mipmaps,h=e.target,m=e.maps,v=e.urls;return l?u.length>0:h===F.TEXTURE_CUBE_MAP?m.every(function(p){return typeof p=="object"&&p}):v.every(function(p){return _r(p)&&p.length>0})}}return!1},o.loadSource=function(e,t){var r=this;return M(function(){var a,s,l,u,h,m,v,p,b,x,P,B,D,_,Y,k,W,te;return ee(this,function(ae){switch(ae.label){case 0:return a=e.type,s=e.target,l=e.map,u=e.url,h=e.bin,m=e.mipmaps,v=e.urls,p=e.maps,s===F.TEXTURE_CUBE_MAP&&a!==G.mipmaps?[4,r.loadCubeMap(l)]:[3,2];case 1:return b=ae.sent(),[2,A({},t,{cube:b,target:F.TEXTURE_CUBE_MAP,sourceType:G.image,sourceFrom:{type:G.image,map:A({},l),target:F.TEXTURE_CUBE_MAP}})];case 2:return a!==G.image?[3,4]:[4,ur(u)];case 3:return x=ae.sent(),[2,A({},t,{image:x,sourceType:G.image,sourceFrom:{type:a,url:u,target:F.TEXTURE_2D}})];case 4:return a!==G.video?[3,6]:[4,dn(u)];case 5:return P=ae.sent(),[2,A({},t,{video:P,sourceType:G.video})];case 6:return a!==G.compressed?[3,8]:[4,zt(u)];case 7:return B=ae.sent(),[2,A({},ni(B),t,{sourceFrom:{url:u,type:G.compressed}})];case 8:return a!==G.mipmaps?[3,17]:h?[4,zt(h)]:[3,13];case 9:return D=ae.sent(),_=s!=null?s:F.TEXTURE_2D,Y=_===F.TEXTURE_2D?m.slice():m.map(function(se){return se.slice()}),s!==F.TEXTURE_CUBE_MAP?[3,11]:[4,Promise.all(m.map(function(se){return r.loadMipmapImages(se,D)}))];case 10:return k=ae.sent(),[3,12];case 11:k=r.loadMipmapImages(m,D),ae.label=12;case 12:return[2,A({},t,{mipmaps:k,target:_,sourceType:G.mipmaps,sourceFrom:{bin:h,mipmaps:Y,target:_,type:G.mipmaps}})];case 13:return s===F.TEXTURE_2D||!s?[4,Promise.all(v.map(function(se){return ur(se)}))]:[3,15];case 14:return W=ae.sent(),[2,A({},t,{mipmaps:W,target:F.TEXTURE_2D,sourceType:G.mipmaps,sourceFrom:{type:a,urls:v.slice(),target:F.TEXTURE_2D}})];case 15:return s!==F.TEXTURE_CUBE_MAP?[3,17]:[4,Promise.all(p.map(function(se){return r.loadCubeMap(se)}))];case 16:return te=ae.sent(),[2,A({},t,{mipmaps:te,target:F.TEXTURE_CUBE_MAP,sourceType:G.mipmaps,sourceFrom:{type:a,maps:p.map(function(se){return A({},se)}),target:F.TEXTURE_CUBE_MAP}})];case 17:throw new Error("Invalid resource type: "+a+".")}})})()},o.loadMipmapImages=function(e,t){return M(function(){return ee(this,function(r){return[2,Promise.all(e.map(function(a){var s=new Blob([new Uint8Array(t,a[0],a[1])]);return ur(s)}))]})})()},o.loadCubeMap=function(e){return M(function(){return ee(this,function(t){return[2,Promise.all(e.map(function(r){return ur(r)}))]})})()},i}(),ha;function Xn(){return ha||(ha=new li),ha}function $i(i){ha=i}var Yi=null;function Gi(i){return typeof i=="object"&&i&&i.length===void 0&&U(i,Nr)}function ho(i){return i&&i.length!==void 0&&Gi(i[0])}var _i;(function(i){i[i.normal=0]="normal",i[i.transformFeedback=1]="transformFeedback"})(_i||(_i={}));var Wa=1,Bi=function(i){be(o,i);function o(e,t){var r;if(r=i.call(this,e)||this,r.stringTags={},r.enabledMacros={},r.destroyed=!1,r.initialized=!1,r.shaderDirty=!0,t){var a=t.name,s=a===void 0?"Material"+Wa++:a,l=t.renderType,u=l===void 0?0:l,h=t.shader,m=t.uniformSemantics;r.name=s,r.renderType=u,r.shaderSource=h,r.props=t,r.uniformSemantics=A({},m)}else r.name="Material"+Wa++,r.renderType=0;return r}var n=o.prototype;return n.initialize=function(){},n.createShaderVariant=function(){},n.use=function(t,r){},br(o,[{key:"shader",get:function(){return this._shader},set:function(t){this._shader!==t&&(this._shader=t,this.shaderDirty=!0)}},{key:"mainTexture",get:function(){return this.getTexture("_MainTex")},set:function(t){this.setTexture("_MainTex",t)}},{key:"color",get:function(){return this.getColor("_Color")},set:function(t){this.setColor("_Color",t)}},{key:"blending",set:function(t){}},{key:"blendFunction",set:function(t){}},{key:"blendEquation",set:function(t){}},{key:"depthTest",set:function(t){}},{key:"depthMask",set:function(t){}},{key:"stencilTest",set:function(t){}},{key:"stencilRef",set:function(t){}},{key:"stencilFunc",set:function(t){}},{key:"stencilOpZPass",set:function(t){}},{key:"culling",set:function(t){}},{key:"frontFace",set:function(t){}},{key:"cullFace",set:function(t){}},{key:"blendColor",set:function(t){}},{key:"depthRange",set:function(t){}},{key:"depthFunc",set:function(t){}},{key:"polygonOffsetFill",set:function(t){}},{key:"polygonOffset",set:function(t){}},{key:"sampleAlphaToCoverage",set:function(t){}},{key:"colorMask",set:function(t){}},{key:"stencilMask",set:function(t){}},{key:"stencilOpFail",set:function(t){}},{key:"stencilOpZFail",set:function(t){}}]),o}(In),bn={format:F.RGBA,type:F.UNSIGNED_BYTE,minFilter:F.LINEAR,magFilter:F.LINEAR,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE},$r=Symbol("dispose"),Nn=function(){function i(n){this.textureCache={},this.textureRef={},this.engine=n}var o=i.prototype;return o.requestColorAttachmentTexture=function(e){var t=this,r=e.width,a=e.height,s=e.name,l={sourceType:G.framebuffer,data:{width:r,height:a},name:s},u=[s];Object.getOwnPropertyNames(bn).forEach(function(p){var b,x=(b=e[p])!=null?b:bn[p];l[p]=x,u.push(p,x)});var h=u.join(":"),m=this.textureCache[h];if(m)this.textureRef[h]++;else{var v=this.engine;bt(v),m=Nr.create(v,l),this.textureCache[h]=m,this.textureRef[h]=1,m[$r]=m.dispose,m.dispose=function(){return t.removeTexture(h)}}return m},o.removeTexture=function(e){var t=this.textureRef[e];if(t<=1){t<0&&console.error("Ref count < 0.");var r=this.textureCache[e];r&&(r[$r](),r.dispose=r[$r]),delete this.textureCache[e],delete this.textureRef[e]}else this.textureRef[e]=t-1},o.dispose=function(){var e=this;Object.keys(this.textureCache).forEach(function(t){var r=e.textureCache[t];r[$r](),r.dispose=r[$r]}),this.textureCache={},this.textureRef={},this.engine=void 0},i}(),zn=function(){function i(n){n===void 0&&(n={}),this.semantics=A({},n)}var o=i.prototype;return o.toObject=function(){return A({},this.semantics)},o.setSemantic=function(e,t){t===void 0?delete this.semantics[e]:this.semantics[e]=t},o.getSemanticValue=function(e,t){var r=this.semantics[e];return xt(r)?r(t):r},o.hasSemanticValue=function(e){return e in this.semantics},o.dispose=function(){var e=this;Object.keys(this.semantics).forEach(function(t){delete e.semantics[t]})},i}(),Hr,Gn=(Hr={},Hr[F.FLOAT]=Float32Array.BYTES_PER_ELEMENT,Hr[F.INT]=Int32Array.BYTES_PER_ELEMENT,Hr[F.SHORT]=Int16Array.BYTES_PER_ELEMENT,Hr[F.BYTE]=Int8Array.BYTES_PER_ELEMENT,Hr),Cn=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.initialize=function(){},n.flush=function(){},o}(In);function ji(i){return i===F.INT?new Int32Array(0):i===F.SHORT?new Int16Array(0):new Float32Array(0)}var cn;(function(i){i[i.XYZ=0]="XYZ",i[i.XZY=1]="XZY",i[i.YXZ=2]="YXZ",i[i.YZX=3]="YZX",i[i.ZXY=4]="ZXY",i[i.ZYX=5]="ZYX"})(cn||(cn={}));var Wn=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=i.DEFAULT_ORDER),this.x=n,this.y=e,this.z=t,this.order=r}var o=i.prototype;return o.set=function(e,t,r,a){return a===void 0&&(a=this.order),this.x=e,this.y=t,this.z=r,this.order=a,this},o.setZero=function(e){return e===void 0&&(e=this.order),this.set(0,0,0,e)},o.setFromRotationMatrix4=function(e,t){t===void 0&&(t=this.order);var r=e.elements,a=r[0],s=r[4],l=r[8],u=r[1],h=r[5],m=r[9],v=r[2],p=r[6],b=r[10];switch(t){case cn.XYZ:this.y=Math.asin(oi(l,-1,1)),Math.abs(l)<.9999999?(this.x=Math.atan2(-m,b),this.z=Math.atan2(-s,a)):(this.x=Math.atan2(p,h),this.z=0);break;case cn.YXZ:this.x=Math.asin(-oi(m,-1,1)),Math.abs(m)<.9999999?(this.y=Math.atan2(l,b),this.z=Math.atan2(u,h)):(this.y=Math.atan2(-v,a),this.z=0);break;case cn.ZXY:this.x=Math.asin(oi(p,-1,1)),Math.abs(p)<.9999999?(this.y=Math.atan2(-v,b),this.z=Math.atan2(-s,h)):(this.y=0,this.z=Math.atan2(u,a));break;case cn.ZYX:this.y=Math.asin(-oi(v,-1,1)),Math.abs(v)<.9999999?(this.x=Math.atan2(p,b),this.z=Math.atan2(u,a)):(this.x=0,this.z=Math.atan2(-s,h));break;case cn.YZX:this.z=Math.asin(oi(u,-1,1)),Math.abs(u)<.9999999?(this.x=Math.atan2(-m,h),this.y=Math.atan2(-v,a)):(this.x=0,this.y=Math.atan2(l,b));break;case cn.XZY:this.z=Math.asin(-oi(s,-1,1)),Math.abs(s)<.9999999?(this.x=Math.atan2(p,h),this.y=Math.atan2(l,a)):(this.x=Math.atan2(-m,b),this.y=0);break;default:console.error("setFromRotationMatrix: unknown order: "+t)}return this.x*=fa,this.y*=fa,this.z*=fa,this.order=t,this},o.setFromQuaternion=function(e,t){t===void 0&&(t=this.order);var r=i.tempMat0;return r.setFromQuaternion(e),this.setFromRotationMatrix4(r,t)},o.setFromVector3=function(e,t){return t===void 0&&(t=this.order),this.set(e.x,e.y,e.z,t)},o.setFromArray=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.order);var a;this.x=(a=e[t])!=null?a:0;var s;this.y=(s=e[t+1])!=null?s:0;var l;this.z=(l=e[t+2])!=null?l:0;var u;return this.order=(u=e[t+3])!=null?u:r,this},o.clone=function(){return new i(this.x,this.y,this.z,this.order)},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.order=e.order,this},o.add=function(e){return this.order!=e.order?(console.error("add euler with different order"),this):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},o.addEulers=function(e,t){return e.order!=t.order?(console.error("add euler with different order"),this):(this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.order=e.order,this)},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.reorder=function(e){var t=new _t;return t.setFromEuler(this),this.setFromQuaternion(t,e)},o.rotateVector3=function(e,t){var r=i.tempQuat0;return r.setFromEuler(this).rotateVector3(e,t)},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.order===this.order},o.toVector3=function(e){return e.set(this.x,this.y,this.z)},o.toArray=function(){return[this.x,this.y,this.z]},o.toQuaternion=function(e){var t=this,r=t.x,a=t.y,s=t.z,l=t.order,u=Math.cos(r*ai*.5),h=Math.cos(a*ai*.5),m=Math.cos(s*ai*.5),v=Math.sin(r*ai*.5),p=Math.sin(a*ai*.5),b=Math.sin(s*ai*.5);switch(l){case cn.XYZ:e.set(v*h*m+u*p*b,u*p*m-v*h*b,u*h*b+v*p*m,u*h*m-v*p*b);break;case cn.YXZ:e.set(v*h*m+u*p*b,u*p*m-v*h*b,u*h*b-v*p*m,u*h*m+v*p*b);break;case cn.ZXY:e.set(v*h*m-u*p*b,u*p*m+v*h*b,u*h*b+v*p*m,u*h*m-v*p*b);break;case cn.ZYX:e.set(v*h*m-u*p*b,u*p*m+v*h*b,u*h*b-v*p*m,u*h*m+v*p*b);break;case cn.YZX:e.set(v*h*m+u*p*b,u*p*m+v*h*b,u*h*b-v*p*m,u*h*m-v*p*b);break;case cn.XZY:e.set(v*h*m-u*p*b,u*p*m-v*h*b,u*h*b+v*p*m,u*h*m+v*p*b);break;default:console.error("unknown euler order: "+l)}return e},o.toMatrix4=function(e){var t=e.elements,r=this,a=r.x,s=r.y,l=r.z,u=r.order,h=Math.cos(a*ai),m=Math.sin(a*ai),v=Math.cos(s*ai),p=Math.sin(s*ai),b=Math.cos(l*ai),x=Math.sin(l*ai);if(u===cn.XYZ){var P=h*b,B=h*x,D=m*b,_=m*x;t[0]=v*b,t[4]=-v*x,t[8]=p,t[1]=B+D*p,t[5]=P-_*p,t[9]=-m*v,t[2]=_-P*p,t[6]=D+B*p,t[10]=h*v}else if(u===cn.YXZ){var Y=v*b,k=v*x,W=p*b,te=p*x;t[0]=Y+te*m,t[4]=W*m-k,t[8]=h*p,t[1]=h*x,t[5]=h*b,t[9]=-m,t[2]=k*m-W,t[6]=te+Y*m,t[10]=h*v}else if(u===cn.ZXY){var ae=v*b,se=v*x,Qe=p*b,Je=p*x;t[0]=ae-Je*m,t[4]=-h*x,t[8]=Qe+se*m,t[1]=se+Qe*m,t[5]=h*b,t[9]=Je-ae*m,t[2]=-h*p,t[6]=m,t[10]=h*v}else if(u===cn.ZYX){var at=h*b,ut=h*x,At=m*b,Gt=m*x;t[0]=v*b,t[4]=At*p-ut,t[8]=at*p+Gt,t[1]=v*x,t[5]=Gt*p+at,t[9]=ut*p-At,t[2]=-p,t[6]=m*v,t[10]=h*v}else if(u===cn.YZX){var Wt=h*v,Qt=h*p,er=m*v,Dt=m*p;t[0]=v*b,t[4]=Dt-Wt*x,t[8]=er*x+Qt,t[1]=x,t[5]=h*b,t[9]=-m*b,t[2]=-p*b,t[6]=Qt*x+er,t[10]=Wt-Dt*x}else if(u===cn.XZY){var Lr=h*v,cr=h*p,Mr=m*v,Gr=m*p;t[0]=v*b,t[4]=-x,t[8]=p*b,t[1]=Lr*x+Gr,t[5]=h*b,t[9]=cr*x-Mr,t[2]=Mr*x-cr,t[6]=m*b,t[10]=Gr*x+Lr}else console.error("toMatrix4: Invalid order "+u);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,e},i.fromRotationMatrix4=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromRotationMatrix4(e,t)},i.fromQuaternion=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromQuaternion(e,t)},i.fromVector3=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromVector3(e,t)},i.fromArray=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=i.DEFAULT_ORDER),new i().setFromArray(e,t,r)},i}();Wn.DEFAULT_ORDER=cn.ZYX,Wn.tempQuat0=new _t,Wn.tempMat0=new Or;var wa=function(){function i(n,e,t,r,a,s,l,u,h){n===void 0&&(n=1),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=1),s===void 0&&(s=0),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=1),this.elements=[n,e,t,r,a,s,l,u,h]}var o=i.prototype;return o.set=function(e,t,r,a,s,l,u,h,m){var v=this.elements;return v[0]=e,v[3]=a,v[6]=u,v[1]=t,v[4]=s,v[7]=h,v[2]=r,v[5]=l,v[8]=m,this},o.setFromRowMajorData=function(e,t,r,a,s,l,u,h,m){var v=this.elements;return v[0]=e,v[3]=t,v[6]=r,v[1]=a,v[4]=s,v[7]=l,v[2]=u,v[5]=h,v[8]=m,this},o.setFromColumnVectors=function(e,t,r){return this.set(e.x,e.y,e.z,t.x,t.y,t.z,r.x,r.y,r.z)},o.setFromMatrix4=function(e){var t=e.elements;return this.set(t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10])},o.setFromArray=function(e,t){t===void 0&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[t+r];return this},o.setFromQuaternion=function(e){var t=e.x,r=e.y,a=e.z,s=e.w,l=t+t,u=r+r,h=a+a,m=t*l,v=t*u,p=t*h,b=r*u,x=r*h,P=a*h,B=s*l,D=s*u,_=s*h,Y=this.elements;return Y[0]=1-(b+P),Y[1]=v+_,Y[2]=p-D,Y[3]=v-_,Y[4]=1-(m+P),Y[5]=x+B,Y[6]=p+D,Y[7]=x-B,Y[8]=1-(m+b),this},o.setZero=function(){for(var e=0;e<9;e++)this.elements[e]=0;return this},o.identity=function(){return this.set(1,0,0,0,1,0,0,0,1)},o.clone=function(){var e=this.elements;return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},o.copyFrom=function(e){return this.elements=[].concat(e.elements),this},o.getColumnVector=function(e,t){return t.set(this.elements[e*3],this.elements[e*3+1],this.elements[e*3+2])},o.scale=function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},o.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),a=this.elements,s=a[0],l=a[3],u=a[6],h=a[1],m=a[4],v=a[7];return a[0]=t*s+r*h,a[3]=t*l+r*m,a[6]=t*u+r*v,a[1]=-r*s+t*h,a[4]=-r*l+t*m,a[7]=-r*u+t*v,this},o.translate=function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},o.multiply=function(e){if(typeof e=="number"){for(var t=0;t<9;t++)this.elements[t]*=e;return this}else return this.multiplyMatrices(this,e)},o.premultiply=function(e){return this.multiplyMatrices(e,this)},o.multiplyMatrices=function(e,t){var r=e.elements,a=t.elements,s=this.elements,l=r[0],u=r[3],h=r[6],m=r[1],v=r[4],p=r[7],b=r[2],x=r[5],P=r[8],B=a[0],D=a[3],_=a[6],Y=a[1],k=a[4],W=a[7],te=a[2],ae=a[5],se=a[8];return s[0]=l*B+u*Y+h*te,s[3]=l*D+u*k+h*ae,s[6]=l*_+u*W+h*se,s[1]=m*B+v*Y+p*te,s[4]=m*D+v*k+p*ae,s[7]=m*_+v*W+p*se,s[2]=b*B+x*Y+P*te,s[5]=b*D+x*k+P*ae,s[8]=b*_+x*W+P*se,this},o.determinant=function(){var e=this.elements,t=e[0],r=e[3],a=e[6],s=e[1],l=e[4],u=e[7],h=e[2],m=e[5],v=e[8];return t*(l*v-m*u)+s*(m*a-r*v)+h*(r*u-l*a)},o.invert=function(){var e=this.elements,t=e[0],r=e[3],a=e[6],s=e[1],l=e[4],u=e[7],h=e[2],m=e[5],v=e[8],p=v*l-m*u,b=m*a-v*r,x=u*r-l*a,P=t*p+s*b+h*x;if(P===0)return this.set(0,0,0,0,0,0,0,0,0);var B=1/P;return e[0]=p*B,e[1]=(h*u-v*s)*B,e[2]=(m*s-h*l)*B,e[3]=b*B,e[4]=(v*t-h*a)*B,e[5]=(h*r-m*t)*B,e[6]=x*B,e[7]=(s*a-u*t)*B,e[8]=(l*t-s*r)*B,this},o.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},o.transformPoint=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;return u.x=l[0]*r+l[3]*a+l[6]*s,u.y=l[1]*r+l[4]*a+l[7]*s,u.z=l[2]*r+l[5]*a+l[8]*s,u},o.transformNormal=function(e,t){return this.transformPoint(e,t).normalize()},o.equals=function(e){for(var t=this.elements,r=e.elements,a=0;a<9;a++)if(!Sa(t[a],r[a]))return!1;return!0},o.toArray=function(){return[].concat(this.elements)},o.fill=function(e,t){t===void 0&&(t=0);var r=this.elements;e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8]},i.fromIdentity=function(){return new i(1,0,0,0,1,0,0,0,1)},i.fromColumnVectors=function(e,t,r){return new i().setFromColumnVectors(e,t,r)},i.fromMatrix4=function(e){return new i().setFromMatrix4(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromQuaternion=function(e){return new i().setFromQuaternion(e)},i.fromRowMajorData=function(e,t,r,a,s,l,u,h,m){return new i(e,a,u,t,s,h,r,l,m)},i}(),pa=function(){function i(n,e){n===void 0&&(n=we.ZERO),e===void 0&&(e=we.X),this.origin=new we,this.direction=new we,this.origin.copyFrom(n),this.direction.copyFrom(e).normalize()}var o=i.prototype;return o.set=function(e,t){return this.origin.copyFrom(e),this.direction.copyFrom(t).normalize(),this},o.clone=function(){return new i(this.origin,this.direction)},o.copyFrom=function(e){return this.set(e.origin,e.direction)},o.recast=function(e){return this.origin.copyFrom(this.at(e,i.tempVec0)),this},o.at=function(e,t){var r=t||new we;return r.copyFrom(this.origin),r.addScaledVector(this.direction,e)},o.equals=function(e){return this.origin.equals(e.origin)&&this.direction.equals(e.direction)},o.applyMatrix=function(e){return this.origin.applyProjectionMatrix(e),this.direction.applyNormalMatrix(e),this},o.intersectBox=function(e,t){var r=this.origin,a=r.x,s=r.y,l=r.z,u=this.direction,h=u.x,m=u.y,v=u.z,p=e.min,b=p.x,x=p.y,P=p.z,B=e.max,D=B.x,_=B.y,Y=B.z,k,W,te,ae,se,Qe,Je=1/h,at=1/m,ut=1/v;if(Je>=0?(k=(b-a)*Je,W=(D-a)*Je):(k=(D-a)*Je,W=(b-a)*Je),at>=0?(te=(x-s)*at,ae=(_-s)*at):(te=(_-s)*at,ae=(x-s)*at),!(k>ae||te>W)&&((te>k||k!==k)&&(k=te),(ae<W||W!==W)&&(W=ae),(te>k||k!==k)&&(k=te),(ae<W||W!==W)&&(W=ae),ut>=0?(se=(P-l)*ut,Qe=(Y-l)*ut):(se=(Y-l)*ut,Qe=(P-l)*ut),!(k>Qe||se>W)&&((se>k||k!==k)&&(k=se),(Qe<W||W!==W)&&(W=Qe),!(W<0))))return k>=0?this.at(k,t):this.at(W,t)},o.intersectPlane=function(e,t){var r=e.normal,a=e.distance,s=r.dot(this.direction);if(s===0){var l=r.dot(this.origin)+a;if(l===0){var u=t||new we;return u.copyFrom(this.origin)}return}var h=-(this.origin.dot(r)+a)/s;return h>=0?this.at(h,t):void 0},o.intersectSphere=function(e,t){var r=e.center,a=i.tempVec0.subtractVectors(r,this.origin),s=a.dot(this.direction),l=a.dot(a)-s*s,u=e.radius*e.radius;if(!(l>u)){var h=Math.sqrt(u-l),m=s-h,v=s+h;if(!(v<0))return m>=0?this.at(m,t):this.at(v,t)}},o.intersectTriangle=function(e,t,r){var a=e.p0,s=e.p1,l=e.p2,u=i.tempVec0.subtractVectors(s,a),h=i.tempVec1.subtractVectors(l,a),m=i.tempVec2.subtractVectors(this.origin,a),v=i.tempVec3.crossVectors(u,h),p=this.direction.dot(v),b;if(p>0){if(r)return;b=1}else if(p<0)b=-1,p=-p;else return;h.crossVectors(m,h);var x=b*this.direction.dot(h);if(!(x<0)){u.cross(m);var P=b*this.direction.dot(u);if(!(P<0)&&!(x+P>p)){var B=-b*m.dot(v);if(!(B<0))return this.at(B/p,t)}}},i}();pa.tempVec0=new we,pa.tempVec1=new we,pa.tempVec2=new we,pa.tempVec3=new we;var Kn=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),this.r=n,this.g=e,this.b=t,this.a=r}var o=i.prototype;return o.set=function(e,t,r,a){return this.r=e,this.g=t,this.b=r,this.a=a,this},o.setZero=function(){return this.r=0,this.g=0,this.b=0,this.a=0,this},o.setFromNumber=function(e){return this.r=e,this.g=e,this.b=e,this.a=e,this},o.setFromVector4=function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this.a=e.w,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.r=(r=e[t])!=null?r:0;var a;this.g=(a=e[t+1])!=null?a:0;var s;this.b=(s=e[t+2])!=null?s:0;var l;return this.a=(l=e[t+3])!=null?l:0,this},o.setFromHSV=function(e,t,r,a){a===void 0&&(a=1);var s=r*t,l=e/60,u=s*(1-Math.abs(l%2-1)),h=0,m=0,v=0;l>=0&&l<=1?(h=s,m=u):l>=1&&l<=2?(h=u,m=s):l>=2&&l<=3?(m=s,v=u):l>=3&&l<=4?(m=u,v=s):l>=4&&l<=5?(h=u,v=s):l>=5&&l<=6&&(h=s,v=u);var p=r-s;return this.set(h+p,m+p,v+p,a)},o.setFromHexString=function(e){if(e.substring(0,1)!=="#"||e.length!==9&&e.length!==7)return this;var t=parseInt(e.substring(1,3),16)/255,r=parseInt(e.substring(3,5),16)/255,a=parseInt(e.substring(5,7),16)/255,s=e.length===9?parseInt(e.substring(7,9),16)/255:1;return this.set(t,r,a,s)},o.copyFrom=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},o.clone=function(){return new i(this.r,this.g,this.b,this.a)},o.setElement=function(e,t){switch(e){case 0:this.r=t;break;case 1:this.g=t;break;case 2:this.b=t;break;case 3:this.a=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.r;case 1:return this.g;case 2:return this.b;case 3:return this.a;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.r+=e,this.g+=e,this.b+=e,this.a+=e):U(e,Array)?(this.r+=e[0],this.g+=e[1],this.b+=e[2],this.a+=e[3]):(this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a),this},o.subtract=function(e){return typeof e=="number"?(this.r-=e,this.g-=e,this.b-=e,this.a-=e):U(e,Array)?(this.r-=e[0],this.g-=e[1],this.b-=e[2],this.a-=e[3]):(this.r-=e.r,this.g-=e.g,this.b-=e.b,this.a-=e.a),this},o.multiply=function(e){return typeof e=="number"?(this.r*=e,this.g*=e,this.b*=e,this.a*=e):U(e,Array)?(this.r*=e[0],this.g*=e[1],this.b*=e[2],this.a*=e[3]):(this.r*=e.r,this.g*=e.g,this.b*=e.b,this.a*=e.a),this},o.divide=function(e){return typeof e=="number"?(this.r/=e,this.g/=e,this.b/=e,this.a/=e):U(e,Array)?(this.r/=e[0],this.g/=e[1],this.b/=e[2],this.a/=e[3]):(this.r/=e.r,this.g/=e.g,this.b/=e.b,this.a/=e.a),this},o.scale=function(e){return this.r*=e,this.g*=e,this.b*=e,this.a*=e,this},o.min=function(e){return typeof e=="number"?(this.r=Math.min(this.r,e),this.g=Math.min(this.g,e),this.b=Math.min(this.b,e),this.a=Math.min(this.a,e)):(this.r=Math.min(this.r,e.r),this.g=Math.min(this.g,e.g),this.b=Math.min(this.b,e.b),this.a=Math.min(this.a,e.a)),this},o.max=function(e){return typeof e=="number"?(this.r=Math.max(this.r,e),this.g=Math.max(this.g,e),this.b=Math.max(this.b,e),this.a=Math.max(this.a,e)):(this.r=Math.max(this.r,e.r),this.g=Math.max(this.g,e.g),this.b=Math.max(this.b,e.b),this.a=Math.max(this.a,e.a)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.lerp=function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this.a+=(e.a-this.a)*t,this},o.luminance=function(){return this.r*.3+this.g*.59+this.b*.11},o.equals=function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a},o.toLinear=function(){return this.r=i.gammaToLinear(this.r),this.g=i.gammaToLinear(this.g),this.b=i.gammaToLinear(this.b),this},o.toGamma=function(){return this.r=i.linearToGamma(this.r),this.g=i.linearToGamma(this.g),this.b=i.linearToGamma(this.b),this},o.toArray=function(){return[this.r,this.g,this.b,this.a]},o.toVector4=function(){return new Ur(this.r,this.g,this.b,this.a)},o.toHSV=function(){var e=this,t=e.r,r=e.g,a=e.b,s=e.a,l=Math.max(t,r,a),u=Math.min(t,r,a),h=l,m=l-u,v=0,p=0;return l!==0&&(p=m/l),l!=u&&(l==t?(v=(r-a)/m,r<a&&(v+=6)):l==r?v=(a-t)/m+2:l==a&&(v=(t-r)/m+4),v*=60),new i(v,p,h,s)},o.toHexString=function(e){e===void 0&&(e=!0);var t=i.ToHex(Math.round(this.r*255)),r=i.ToHex(Math.round(this.g*255)),a=i.ToHex(Math.round(this.b*255)),s=i.ToHex(Math.round(this.a*255));return e?"#"+t+r+a+s:"#"+t+r+a},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e[t+3]=this.a},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromHexString=function(e){return new i().setFromHexString(e)},i.fromHSV=function(e,t,r,a){return a===void 0&&(a=1),new i().setFromHSV(e,t,r,a)},i.gammaToLinear=function(e){return e<=0?0:e<=.04045?e/12.92:e<1?Math.pow((e+.055)/1.055,2.4):Math.pow(e,2.4)},i.linearToGamma=function(e){return e<=0?0:e<.0031308?12.92*e:e<1?1.055*Math.pow(e,.41666)-.055:Math.pow(e,.41666)},i.ToHex=function(e){var t=e.toString(16);return e<=15?("0"+t).toUpperCase():t.toUpperCase()},i}();Kn.BLACK=new Kn(0,0,0,1),Kn.BLUE=new Kn(0,0,1,1),Kn.CLEAR=new Kn(0,0,0,0),Kn.CYAN=new Kn(0,1,1,1),Kn.GRAY=new Kn(.5,.5,.5,1),Kn.GREEN=new Kn(0,1,0,1),Kn.MAGENTA=new Kn(1,0,1,1),Kn.RED=new Kn(1,0,0,1),Kn.WHITE=new Kn(1,1,1,1),Kn.YELLOW=new Kn(1,.92,.016,1);var Oa=function(){function i(n,e){n===void 0&&(n=new we(1/0,1/0,1/0)),e===void 0&&(e=new we(-1/0,-1/0,-1/0)),this.min=n.clone(),this.max=e.clone()}var o=i.prototype;return o.set=function(e,t){return this.min.copyFrom(e),this.max.copyFrom(t),this},o.setFromArray=function(e){for(var t=1/0,r=1/0,a=1/0,s=-1/0,l=-1/0,u=-1/0,h=0,m=e.length;h<m;h+=3){var v=e[h],p=e[h+1],b=e[h+2];v<t&&(t=v),p<r&&(r=p),b<a&&(a=b),v>s&&(s=v),p>l&&(l=p),b>u&&(u=b)}return this.min.set(t,r,a),this.max.set(s,l,u),this},o.setFromPoints=function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},o.setFromCenterAndSize=function(e,t){var r=t.clone().multiply(.5);return this.min.copyFrom(e).subtract(r),this.max.copyFrom(e).add(r),this},o.setFromObject=function(e){return this.makeEmpty(),this.expandByObject(e)},o.clone=function(){return new i().copyFrom(this)},o.copyFrom=function(e){return this.min.copyFrom(e.min),this.max.copyFrom(e.max),this},o.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},o.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},o.getCenter=function(e){return e===void 0&&(e=new we),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiply(.5)},o.getSize=function(e){return e===void 0&&(e=new we),this.isEmpty()?e.set(0,0,0):e.subtractVectors(this.max,this.min)},o.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},o.expandByVector=function(e){return this.min.subtract(e),this.max.add(e),this},o.expandByScalar=function(e){return this.min.add(-e),this.max.add(e),this},o.expandByBox=function(e){return this.min.min(e.min),this.max.max(e.max),this},o.expandByObject=function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;if(t!==void 0){t.boundingBox===null&&t.computeBoundingBox();var r=new i;r.copyFrom(t.boundingBox),r.applyMatrix4(e.matrixWorld),this.union(r)}for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s]);return this},o.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},o.containsBox=function(e){return this.min.x<=e.min.x&&this.max.x>=e.max.x&&this.min.y<=e.min.y&&this.max.y>=e.max.y&&this.min.z<=e.min.z&&this.max.z>=e.max.z},o.getParameter=function(e,t){return t===void 0&&(t=new we),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},o.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},o.intersectsSphere=function(e){var t=new we;return this.clampPoint(e.center,t),t.distanceSquared(e.center)<=e.radius*e.radius},o.clampPoint=function(e,t){return t===void 0&&(t=new we),t.copyFrom(e).clamp(this.min,this.max)},o.distanceToPoint=function(e){var t=e.clone().clamp(this.min,this.max);return t.subtract(e).length()},o.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},o.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},o.applyMatrix4=function(e,t){if(t===void 0&&(t=new we),this.isEmpty())return this;var r=this.getOBBPoints(e,t);return this.setFromPoints(r),this},o.getOBBPoints=function(e,t){if(t===void 0&&(t=new we),this.isEmpty())return[];var r=[];return r[0]=new we(this.min.x,this.min.y,this.min.z),r[1]=new we(this.min.x,this.min.y,this.max.z),r[2]=new we(this.min.x,this.max.y,this.min.z),r[3]=new we(this.min.x,this.max.y,this.max.z),r[4]=new we(this.max.x,this.min.y,this.min.z),r[5]=new we(this.max.x,this.min.y,this.max.z),r[6]=new we(this.max.x,this.max.y,this.min.z),r[7]=new we(this.max.x,this.max.y,this.max.z),r.forEach(function(a){a.subtract(t),a.applyMatrix(e),a.add(t)}),r},o.getBoundingSphere=function(e){this.getCenter(e.center);var t=new we;return e.radius=this.getSize(t).length()*.5,e},o.translate=function(e){return this.min.add(e),this.max.add(e),this},o.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},i}(),ia=function(){function i(n,e){n===void 0&&(n=we.ZERO),e===void 0&&(e=-1),this.center=n.clone(),this.radius=e}var o=i.prototype;return o.set=function(e,t){return this.center.copyFrom(e),this.radius=t,this},o.setFromPoints=function(e,t){var r=this.center;if(t!==void 0){r.copyFrom(t);for(var a=0,s=0;s<e.length;s++)a=Math.max(a,r.distanceSquared(e[s]));this.radius=Math.sqrt(a)}else{var l=new Oa().setFromPoints(e);l.getCenter(r),this.radius=l.getSize().length()/2}return this},o.copyFrom=function(e){return this.center.copyFrom(e.center),this.radius=e.radius,this},o.isEmpty=function(){return this.radius<0},o.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},o.containsPoint=function(e){return e.distanceSquared(this.center)<=this.radius*this.radius},o.distanceToPoint=function(e){return e.distance(this.center)-this.radius},o.intersectsSphere=function(e){var t=this.radius+e.radius;return e.center.distanceSquared(this.center)<=t*t},o.intersectsBox=function(e){return e.intersectsSphere(this)},o.clampPoint=function(e,t){var r=this.center.distanceSquared(e);return t===void 0&&(t=new we),t.copyFrom(e),r>this.radius*this.radius&&(t.subtract(this.center).normalize(),t.multiply(this.radius).add(this.center)),t},o.getBoundingBox=function(e){return e===void 0&&(e=new Oa),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},o.applyMatrix4=function(e){var t=e.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10],l=Math.sqrt(Math.max(r,a,s));return this.center.applyMatrix(e),this.radius=this.radius*l,this},o.translate=function(e){return this.center.add(e),this},o.expandByPoint=function(e){var t=new we().subtractVectors(e,this.center),r=t.lengthSquared();if(r>this.radius*this.radius){var a=Math.sqrt(r),s=(a-this.radius)*.5;this.center.add(t.multiply(s/a)),this.radius+=s}return this},o.union=function(e){var t=new we,r=new we;return r.subtractVectors(e.center,this.center).normalize().multiply(e.radius),this.expandByPoint(t.copyFrom(e.center).add(r)),this.expandByPoint(t.copyFrom(e.center).subtract(r)),this},o.intersect=function(e){var t=new we().subtractVectors(this.center,e.center),r=t.length(),a=this.radius+e.radius;return r>a?this.makeEmpty():(this.center=this.center.add(t.normalize().multiply(r/2)),this.radius=this.radius+e.radius-r,this)},o.equals=function(e){return e.center.equals(this.center)&&e.radius===this.radius},o.clone=function(){return new i().copyFrom(this)},i}(),mo=Object.freeze({__proto__:null,get EulerOrder(){return cn},Euler:Wn,Quaternion:_t,Vector2:_n,Vector3:we,Vector4:Ur,Matrix3:wa,Matrix4:Or,Ray:pa,PI2:gi,DEG2RAD:ai,RAD2DEG:fa,NumberEpsilon:Va,isZero:Ba,isEqual:Sa,damp:co,lerp:Ai,degToRad:Ka,radToDeg:qa,clamp:oi,Color:Kn,Box3:Oa,Sphere:ia}),Ua=1,Mi=function(i){be(o,i);function o(e,t){var r;if(r=i.call(this,e)||this,r.destroyed=!1,r.visible=!0,t){var a=t.material,s=t.geometry,l=t.name,u=l===void 0?"<unnamed>":l,h=t.priority,m=h===void 0?0:h,v=t.worldMatrix,p=v===void 0?Or.fromIdentity():v;r.id="Mesh"+Ua++,r.name=u,r.geometry=s,r.material=a,r.priority=m,r.worldMatrix=p}else r.id="Mesh"+Ua++,r.name="<unnamed>",r.worldMatrix=Or.fromIdentity(),r._priority=0;return r}var n=o.prototype;return n.setVisible=function(t){this.visible=t},n.getVisible=function(){return this.visible},n.render=function(t){this.isDestroyed||this.getVisible()&&(t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.worldMatrix),t.drawGeometry(this.geometry,this.material))},n.firstGeometry=function(){return this.geometry},n.setMaterial=function(t,r){r!==Ct.keep&&this.material.dispose(r),this.material=t},n.restore=function(){},n.dispose=function(t){if(!this.destroyed){(t==null?void 0:t.geometries)!==Ct.keep&&this.geometry.dispose();var r=t==null?void 0:t.material;r!==Ct.keep&&this.material.dispose(r),this.destroyed=!0,this.engine!==void 0&&(this.engine.removeMesh(this),this.engine=void 0)}},br(o,[{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(Zi),ga=0,Ma=1e3,Aa=3e3,Ci;(function(i){i[i.none=0]="none",i[i.color=1]="color",i[i.stencil_8_opaque=2]="stencil_8_opaque",i[i.depth_16_opaque=3]="depth_16_opaque",i[i.depth_stencil_opaque=4]="depth_stencil_opaque",i[i.depth_16_texture=5]="depth_16_texture",i[i.depth_24_stencil_8_texture=6]="depth_24_stencil_8_texture"})(Ci||(Ci={}));var Li;(function(i){i[i.store=0]="store",i[i.clear=2]="clear"})(Li||(Li={}));var ya=function(){function i(n,e){if(this.destroyed=!1,!!e){var t=e.texture,r=e.size;if(U(t,Nr))this.texture=t,this.externalTexture=!0;else if(t){var a=t.wrapT,s=t.wrapS,l=t.minFilter,u=t.magFilter,h=t.internalFormat,m=t.format,v=m===void 0?F.RGBA:m,p=t.type,b=p===void 0?F.UNSIGNED_BYTE:p;this.externalTexture=!1,this.textureOptions={size:r,format:v,type:b,internalFormat:h||v,wrapT:a,wrapS:s,minFilter:l,magFilter:u,name:e.name},this.texture=Nr.create(n,A({},this.textureOptions,{sourceType:G.framebuffer,data:{width:r[0],height:r[1]}}))}}}var o=i.prototype;return o.dispose=function(){this.destroyed||(this.texture.dispose(),this.destroyed=!0)},br(i,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"storageType",get:function(){return 1}},{key:"size",get:function(){var e=this.texture;return e?[e.getWidth(),e.getHeight()]:[0,0]}},{key:"width",get:function(){return this.texture.getWidth()||0}},{key:"height",get:function(){return this.texture.getHeight()||0}}]),i}(),da;(function(i){i[i.force=0]="force",i[i.keep=1]="keep",i[i.keepExternal=2]="keepExternal",i[i.destroy=0]="destroy"})(da||(da={}));var no=1,aa=function(){function i(n,e){this.attachments=[],this.destroyed=!1,this.initialized=!1;var t=e.name,r=t===void 0?"RenderPass_"+no++:t,a=e.clearAction,s=e.semantics,l=e.depthStencilAttachment,u=e.storeAction,h=e.priority,m=h===void 0?0:h,v=e.meshOrder,p=v===void 0?q.ascending:v,b=e.meshes,x=b===void 0?[]:b,P=e.delegate,B=P===void 0?{}:P;this.name=r,this.renderer=n,this.priority=m,this.meshOrder=p,this.meshes=fe(x.slice(),this.meshOrder),this.depthStencilType=(l==null?void 0:l.storageType)||0,this.clearAction=A({},a),this.storeAction=A({colorAction:0,depthAction:0,stencilAction:0},u),this.semantics=new zn(s),this.options=e,this.delegate=B,this.setViewportOptions(e)}var o=i.prototype;return o.addMesh=function(e){Se(this.meshes,e,this.meshOrder)},o.removeMesh=function(e){de(this.meshes,e)},o.setMeshes=function(e){var t;return this.meshes.length=0,(t=this.meshes).splice.apply(t,[].concat([0,0],e)),fe(this.meshes,this.meshOrder),this.meshes},o.getInitAttachments=function(){return this.attachments.length>0?this.attachments:this.options.attachments},o.configure=function(e){if(this.framebuffer)e.setFramebuffer(this.framebuffer);else{var t=this.getViewport(),r=t[0],a=t[1],s=t[2],l=t[3];e.setViewport(r,a,s,l)}},o.execute=function(e){e.clear(this.clearAction),e.renderMeshes(this.meshes),e.clear(this.storeAction)},o.frameCleanup=function(e){},o.resetColorAttachments=function(e){var t=this;if(e.length||this.resetAttachments({attachments:[]}),!this.attachments.length)this.resetAttachments({attachments:e.map(function(a){return{texture:a}})});else{var r=e.map(function(a){return a.updateSource({sourceType:G.framebuffer}),new ya(t.renderer.engine,{texture:a})});this.attachments.forEach(function(a){return!a.externalTexture&&a.dispose()}),this.attachments=r,this.framebuffer&&(this.framebuffer.bind(),this.framebuffer.resetColorTextures(e.map(function(a){return a})))}},o.resetAttachments=function(e){this.options=e,this.setViewportOptions(e),this.renderer&&this._resetAttachments()},o.setViewportOptions=function(e){if(e.viewport){if(this.isCustomViewport=!0,this.viewportScale=1,this.customViewport=e.viewport.slice(0,4),this.framebuffer){var t=this.customViewport;this.framebuffer.isCustomViewport=!1,this.framebuffer.resize(t[0],t[1],t[2],t[3])}}else this.isCustomViewport=!1,this.viewportScale=e.viewportScale||1,this.framebuffer&&(this.framebuffer.isCustomViewport=!0,this.framebuffer.viewportScale=this.viewportScale)},o._resetAttachments=function(){var e=this,t,r=this.renderer,a=this.options;if(this.attachments.length){var s;this.attachments.forEach(function(b){return!b.externalTexture&&b.dispose()}),this.attachments.length=0,(s=this.framebuffer)==null||s.dispose({depthStencilAttachment:2}),this.framebuffer=null}var l=this.viewportScale,u=this.isCustomViewport?this.customViewport:[0,0,r.getWidth()*l,r.getHeight()*l],h=[u[2],u[3]],m=this.name;if((t=a.attachments)!=null&&t.length){var v=a.attachments.map(function(b,x){var P,B=new ya(e.renderer.engine,A({size:h,name:((P=b.texture)==null?void 0:P.name)||m+"##color_"+x},b));return B});this.attachments=v;var p=As.create({storeAction:this.storeAction,name:m,viewport:u,viewportScale:this.viewportScale,isCustomViewport:this.isCustomViewport,attachments:v.map(function(b){return b.texture}),depthStencilAttachment:a.depthStencilAttachment||{storageType:0}},r);p.bind(),p.unbind(),this.framebuffer=p}else this.attachments.length=0},o.getViewport=function(){var e,t=((e=this.framebuffer)==null?void 0:e.viewport)||this.customViewport;if(t)return t;var r=this.renderer,a=this.viewportScale;return r?[0,0,r.getWidth()*a,r.getHeight()*a]:[0,0,0,0]},o.getDepthAttachment=function(){var e=this.framebuffer;if(e){var t=e.getDepthTexture(),r=t?this.getDepthTexture(t,e.externalStorage):void 0;return{storageType:e.depthStencilStorageType,storage:e.depthStorage,texture:r}}},o.getStencilAttachment=function(){var e=this.framebuffer;if(e){var t=e.getStencilTexture(),r=t?this.getDepthTexture(t,e.externalStorage):void 0;return{storageType:e.depthStencilStorageType,storage:e.stencilStorage,texture:r}}},o.getDepthTexture=function(e,t){if(!this.depthTexture){var r,a=(r=this.options.depthStencilAttachment)==null?void 0:r.texture,s=e===a?a:e;return t||(this.depthTexture=s),s}return this.depthTexture},o.getStencilTexture=function(e,t){if(!this.stencilTexture){var r,a=(r=this.options.depthStencilAttachment)==null?void 0:r.texture,s=e===a?a:e;return t||(this.stencilTexture=s),s}return this.stencilTexture},o.initialize=function(e){return this.initialized||(this._resetAttachments(),this.initialized=!0),this},o.dispose=function(e){if(!this.destroyed){var t=(e==null?void 0:e.meshes)||void 0;t!==Ct.keep&&this.meshes.forEach(function(m){m.dispose(t)}),this.meshes.length=0;var r=e!=null&&e.colorAttachment?e.colorAttachment:0;this.attachments.forEach(function(m){var v=m.externalTexture&&r===2||r===1;v||m.dispose()}),this.attachments.length=0,(e==null?void 0:e.semantics)!==Ct.keep&&this.semantics.dispose(),this.destroyed=!0;var a=e!=null&&e.depthStencilAttachment?e.depthStencilAttachment:0,s=this.framebuffer;if(s){s.dispose({depthStencilAttachment:a});var l=s.externalStorage&&a===2||a===1;if(!l){var u,h;(u=this.stencilTexture)==null||u.dispose(),(h=this.depthTexture)==null||h.dispose()}}this.options=this.renderer=null,this.initialize=Mt}},br(i,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"viewport",get:function(){return this.getViewport()}},{key:"stencilAttachment",get:function(){return this.getStencilAttachment()}},{key:"depthAttachment",get:function(){return this.getDepthAttachment()}}]),i}(),vo="vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}",ba=`#version 100
precision highp float;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}varying vec4 vColor;varying vec4 vTexCoord;varying highp vec2 vParams;uniform vec3 uFrameColor;void main(){gl_FragColor=vec4(uFrameColor.xyz,1.0);}`,Zs="float calculateMovement(float t,vec2 p1,vec2 p2,vec2 p3,vec2 p4){float movement=0.0;float h=(t-p1.x)*0.05;for(int i=0;i<=20;i++){float t=float(i)*h;float nt=binarySearchT(t,p1.x,p2.x,p3.x,p4.x);float y=cubicBezier(nt,p1.y,p2.y,p3.y,p4.y);float weight=(i==0||i==20)? 1.0 :(mod(float(i),2.)!=0.)? 4.0 : 2.0;movement+=weight*y;}movement*=h/3.;return movement;}float integrateFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i+=2){vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return ret;}vec2 p1=vec2(k0.x,k0.y);vec2 p2=vec2(k0.z,k0.w);vec2 p3=vec2(k1.z,k1.w);vec2 p4=vec2(k1.x,k1.y);if(time>=k1.x){ret+=calculateMovement(k1.x,p1,p2,p3,p4);}if(time>=k0.x&&time<k1.x){return ret+calculateMovement(time,p1,p2,p3,p4);}}return ret;}float integrateByTimeLineSeg(float t,vec2 p0,vec2 p1){float t0=p0.x;float t1=p1.x;float y0=p0.y;float y1=p1.y;vec4 tSqr=vec4(t,t,t0,t0);tSqr=tSqr*tSqr;vec4 a=vec4(2.*t,3.,-t0,3.)*tSqr;float t1y0=t1*y0;vec4 b=vec4(y0-y1,t0*y1-t1y0,2.*y0+y1,t1y0);float r=dot(a,b);return r/(t0-t1)*0.16666667;}float integrateLineSeg(float time,vec2 p0,vec2 p1){float h=time-p0.x;float y0=p0.y;return(y0+y0+(p1.y-y0)*h/(p1.x-p0.x))*h/2.;}float integrateFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateLineSeg(time,k0,k1);}ret+=integrateLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateLineSeg(time,k1,k2);}ret+=integrateLineSeg(k2.x,k1,k2);}return ret;}float integrateByTimeFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateByTimeLineSeg(time,k0,k1);}ret+=integrateByTimeLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateByTimeLineSeg(time,k1,k2);}ret+=integrateByTimeLineSeg(k2.x,k1,k2);}return ret;}float getIntegrateFromTime0(float t1,vec4 value){float type=value.x;if(type==0.){return value.y*t1;}if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateLineSeg(t1,p0,p1);}if(type==3.){return integrateFromLineSeg(t1,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*t1;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w);}return 0.;}float getIntegrateByTimeFromTime(float t0,float t1,vec4 value){float type=value.x;if(type==0.){return value.y*(t1*t1-t0*t0)/2.;}else if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateByTimeLineSeg(t1,p0,p1)-integrateByTimeLineSeg(t0,p0,p1);}if(type==3.){return integrateByTimeFromLineSeg(t1,value.y,value.z)-integrateByTimeFromLineSeg(t0,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*(t1*t1-t0*t0)/2.;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w)-integrateFromBezierCurveFrames(t0,value.z,value.w);}return 0.;}",Os=`precision highp float;attribute vec2 atlasOffset;attribute vec3 aPos;varying vec2 vTexCoord;varying vec3 vParams;varying vec4 vColor;uniform vec2 _Size;uniform vec3 _Scale;uniform vec4 _Color;uniform vec4 _TexParams;uniform vec4 _TexOffset;uniform mat4 effects_MatrixVP;uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixV;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
void main(){vec4 texParams=_TexParams;vTexCoord=vec2(atlasOffset.xy*_TexOffset.zw+_TexOffset.xy);vColor=_Color;vParams=vec3(0.0,texParams.y,texParams.x);if(texParams.z==1.0){vec4 pos=vec4(aPos.xy*_Size,aPos.z,1.0);gl_Position=effects_MatrixVP*effects_ObjectToWorld*pos;}else{mat4 view=effects_MatrixV;vec3 camRight=vec3(view[0][0],view[1][0],view[2][0]);vec3 camUp=vec3(view[0][1],view[1][1],view[2][1]);vec3 worldPosition=vec3(effects_ObjectToWorld*vec4(0.0,0.0,0.0,1.0));vec3 vertexPosition=worldPosition+camRight*aPos.x*_Size.x*_Scale.x+camUp*aPos.y*_Size.y*_Scale.y;gl_Position=effects_MatrixVP*vec4(vertexPosition,1.0);}
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}`,ds=`precision highp float;varying vec4 vColor;varying vec2 vTexCoord;varying vec3 vParams;uniform sampler2D _MainTex;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}void main(){vec4 color=vec4(0.);vec4 texColor=texture2D(_MainTex,vTexCoord.xy);color=blendColor(texColor,vColor,floor(0.5+vParams.y));
#ifdef ALPHA_CLIP
if(vParams.z==0.&&color.a<0.04){discard;}
#endif
color.a=clamp(color.a,0.0,1.0);gl_FragColor=color;}`,Qo=`#version 100
precision mediump float;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}
#define PATICLE_SHADER 1
varying float vLife;varying vec2 vTexCoord;varying vec4 vColor;uniform vec3 emissionColor;uniform float emissionIntensity;uniform sampler2D uMaskTex;uniform vec4 uColorParams;uniform vec2 uTexOffset;
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
#ifdef USE_SPRITE
varying vec4 vTexCoordBlend;
#endif
varying float vSeed;
#ifdef PREVIEW_BORDER
uniform vec4 uPreviewColor;
#endif
#ifdef USE_SPRITE
vec4 getTextureColor(sampler2D tex,vec2 texCoord){if(vTexCoordBlend.w>0.){return mix(texture2D(tex,texCoord),texture2D(tex,vTexCoordBlend.xy+texCoord),vTexCoordBlend.z);}return texture2D(tex,texCoord);}
#else
#define getTextureColor texture2D
#endif
#ifndef WEBGL2
#define round(a) floor(0.5+a)
#endif
#ifdef PREVIEW_BORDER
void main(){gl_FragColor=uPreviewColor;}
#else
void main(){vec4 color=vec4(1.0);vec4 tempColor=vColor;vec2 texOffset=uTexOffset;if(vLife<0.){discard;}if(uColorParams.x>0.0){color=getTextureColor(uMaskTex,vTexCoord);}
#ifdef COLOR_OVER_LIFETIME
#ifndef ENABLE_VERTEX_TEXTURE
tempColor*=texture2D(uColorOverLifetime,vec2(vLife,0.));
#endif
#endif
color=blendColor(color,tempColor,round(uColorParams.y));if(color.a<=0.01&&uColorParams.w>0.){float _at=texture2D(uMaskTex,vTexCoord+texOffset).a+texture2D(uMaskTex,vTexCoord+texOffset*-1.).a;if(_at<=0.02){discard;}}vec3 emission=emissionColor*pow(2.0,emissionIntensity);color=vec4(pow(pow(color.rgb,vec3(2.2))+emission,vec3(1.0/2.2)),color.a);gl_FragColor=color;}
#endif
`,ms=`#version 100
precision mediump float;
#define SHADER_VERTEX 1
#define PATICLE_SHADER 1
#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}float calculateMovement(float t,vec2 p1,vec2 p2,vec2 p3,vec2 p4){float movement=0.0;float h=(t-p1.x)*0.05;for(int i=0;i<=20;i++){float t=float(i)*h;float nt=binarySearchT(t,p1.x,p2.x,p3.x,p4.x);float y=cubicBezier(nt,p1.y,p2.y,p3.y,p4.y);float weight=(i==0||i==20)? 1.0 :(mod(float(i),2.)!=0.)? 4.0 : 2.0;movement+=weight*y;}movement*=h/3.;return movement;}float integrateFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i+=2){vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return ret;}vec2 p1=vec2(k0.x,k0.y);vec2 p2=vec2(k0.z,k0.w);vec2 p3=vec2(k1.z,k1.w);vec2 p4=vec2(k1.x,k1.y);if(time>=k1.x){ret+=calculateMovement(k1.x,p1,p2,p3,p4);}if(time>=k0.x&&time<k1.x){return ret+calculateMovement(time,p1,p2,p3,p4);}}return ret;}float integrateByTimeLineSeg(float t,vec2 p0,vec2 p1){float t0=p0.x;float t1=p1.x;float y0=p0.y;float y1=p1.y;vec4 tSqr=vec4(t,t,t0,t0);tSqr=tSqr*tSqr;vec4 a=vec4(2.*t,3.,-t0,3.)*tSqr;float t1y0=t1*y0;vec4 b=vec4(y0-y1,t0*y1-t1y0,2.*y0+y1,t1y0);float r=dot(a,b);return r/(t0-t1)*0.16666667;}float integrateLineSeg(float time,vec2 p0,vec2 p1){float h=time-p0.x;float y0=p0.y;return(y0+y0+(p1.y-y0)*h/(p1.x-p0.x))*h/2.;}float integrateFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateLineSeg(time,k0,k1);}ret+=integrateLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateLineSeg(time,k1,k2);}ret+=integrateLineSeg(k2.x,k1,k2);}return ret;}float integrateByTimeFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateByTimeLineSeg(time,k0,k1);}ret+=integrateByTimeLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateByTimeLineSeg(time,k1,k2);}ret+=integrateByTimeLineSeg(k2.x,k1,k2);}return ret;}float getIntegrateFromTime0(float t1,vec4 value){float type=value.x;if(type==0.){return value.y*t1;}if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateLineSeg(t1,p0,p1);}if(type==3.){return integrateFromLineSeg(t1,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*t1;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w);}return 0.;}float getIntegrateByTimeFromTime(float t0,float t1,vec4 value){float type=value.x;if(type==0.){return value.y*(t1*t1-t0*t0)/2.;}else if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateByTimeLineSeg(t1,p0,p1)-integrateByTimeLineSeg(t0,p0,p1);}if(type==3.){return integrateByTimeFromLineSeg(t1,value.y,value.z)-integrateByTimeFromLineSeg(t0,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*(t1*t1-t0*t0)/2.;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w)-integrateFromBezierCurveFrames(t0,value.z,value.w);}return 0.;}const float d2r=3.141592653589793/180.;attribute vec3 aPos;attribute vec4 aOffset;attribute vec4 aColor;attribute vec3 aDirX;attribute vec3 aDirY;attribute vec3 aTranslation;attribute vec3 aRotation0;attribute vec3 aRotation1;attribute vec3 aRotation2;attribute vec3 aLinearMove;
#ifdef USE_SPRITE
attribute vec3 aSprite;uniform vec4 uSprite;struct UVDetail{vec2 uv0;vec3 uv1;};UVDetail getSpriteUV(vec2 uv,float lifeTime);varying vec4 vTexCoordBlend;
#endif
#ifdef FINAL_TARGET
uniform vec3 uFinalTarget;uniform vec4 uForceCurve;
#endif
uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixV;uniform mat4 effects_MatrixVP;uniform vec4 uParams;uniform vec4 uOpacityOverLifetimeValue;
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
uniform vec4 uOrbXByLifetimeValue;uniform vec4 uOrbYByLifetimeValue;uniform vec4 uOrbZByLifetimeValue;uniform vec3 uOrbCenter;uniform vec4 uSizeByLifetimeValue;
#ifdef SIZE_Y_BY_LIFE
uniform vec4 uSizeYByLifetimeValue;
#endif
varying float vLife;varying vec4 vColor;varying vec2 vTexCoord;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
vec3 calOrbitalMov(float _life,float _dur){vec3 orb=vec3(0.0);
#ifdef AS_ORBITAL_MOVEMENT
#define FUNC(a) getValueFromTime(_life,a)
#else
#define FUNC(a) getIntegrateFromTime0(_life,a) * _dur
#endif
#if ORB_VEL_X
orb.x=FUNC(uOrbXByLifetimeValue);
#endif
#if ORB_VEL_Y
orb.y=FUNC(uOrbYByLifetimeValue);
#endif
#if ORB_VEL_Z
orb.z=FUNC(uOrbZByLifetimeValue);
#endif
#undef FUNC
return orb;}mat3 mat3FromRotation(vec3 rotation){vec3 sinR=sin(rotation*d2r);vec3 cosR=cos(rotation*d2r);return mat3(cosR.z,-sinR.z,0.,sinR.z,cosR.z,0.,0.,0.,1.)*mat3(cosR.y,0.,sinR.y,0.,1.,0.,-sinR.y,0,cosR.y)*mat3(1.,0.,0.,0,cosR.x,-sinR.x,0.,sinR.x,cosR.x);}
#ifdef USE_SPRITE
UVDetail getSpriteUV(vec2 uv,float lifeTime){float t=fract(clamp((lifeTime-aSprite.x)/aSprite.y,0.0,1.)*aSprite.z);float frame=uSprite.z*t;float frameIndex=max(ceil(frame)-1.,0.);float row=floor((frameIndex+0.1)/uSprite.x);float col=frameIndex-row*uSprite.x;vec2 retUV=(vec2(col,row)+uv)/uSprite.xy;UVDetail ret;if(uSprite.w>0.){float blend=frame-frameIndex;float frameIndex1=min(ceil(frame),uSprite.z-1.);float row1=floor((frameIndex1+0.1)/uSprite.x);float col1=frameIndex1-row1*uSprite.x;vec2 coord=(vec2(col1,row1)+uv)/uSprite.xy-retUV;ret.uv1=vec3(coord.x,1.-coord.y,blend);}ret.uv0=vec2(retUV.x,1.-retUV.y);return ret;}
#endif
void main(){float time=uParams.x-aOffset.z;float dur=aOffset.w;if(time<0.||time>dur){gl_Position=vec4(-3.,-3.,-3.,1.);}else{float life=clamp(time/dur,0.0,1.0);vLife=life;
#ifdef USE_SPRITE
UVDetail uvD=getSpriteUV(aOffset.xy,time);vTexCoord=uvD.uv0;vTexCoordBlend=vec4(uvD.uv1,uSprite.w);
#else
vTexCoord=aOffset.xy;
#endif
vColor=aColor;
#ifdef COLOR_OVER_LIFETIME
#ifdef ENABLE_VERTEX_TEXTURE
vColor*=texture2D(uColorOverLifetime,vec2(life,0.));
#endif
#endif
vColor.a*=clamp(getValueFromTime(life,uOpacityOverLifetimeValue),0.,1.);vec3 size=vec3(vec2(getValueFromTime(life,uSizeByLifetimeValue)),1.0);
#ifdef SIZE_Y_BY_LIFE
size.y=getValueFromTime(life,uSizeYByLifetimeValue);
#endif
mat3 aRotation=mat3(aRotation0,aRotation1,aRotation2);vec3 point=aRotation*(aDirX*size.x+aDirY*size.y);vec3 _pos=aPos+aTranslation;
#if ORB_VEL_X + ORB_VEL_Y + ORB_VEL_Z
_pos=mat3FromRotation(calOrbitalMov(life,dur))*(_pos-uOrbCenter);_pos+=uOrbCenter;
#endif
_pos.xyz+=aLinearMove;
#ifdef FINAL_TARGET
float force=getValueFromTime(life,uForceCurve);vec4 pos=vec4(mix(_pos,uFinalTarget,force),1.);
#else
vec4 pos=vec4(_pos,1.0);
#endif
#if RENDER_MODE == 1
pos.xyz+=point;pos=effects_ObjectToWorld*pos;
#elif RENDER_MODE == 3
pos=effects_ObjectToWorld*pos;pos.xyz+=effects_MatrixV[0].xyz*point.x+effects_MatrixV[2].xyz*point.y;
#elif RENDER_MODE == 2
pos=effects_ObjectToWorld*pos;pos.xy+=point.xy;
#elif RENDER_MODE == 0
pos=effects_ObjectToWorld*pos;pos.xyz+=effects_MatrixV[0].xyz*point.x+effects_MatrixV[1].xyz*point.y;
#endif
gl_Position=effects_MatrixVP*pos;vSeed=aSeed;gl_PointSize=6.0;
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}}`,vs=`#version 100
precision mediump float;
#define SHADER_VERTEX 1
#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}attribute vec4 aPos;attribute vec3 aDir;attribute vec3 aInfo;attribute vec4 aColor;attribute float aTime;
#ifdef ATTR_TRAIL_START
attribute float aTrailStart;
#else
uniform float uTrailStart[64];attribute float aTrailStartIndex;
#endif
uniform mat4 effects_MatrixInvV;uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixVP;uniform vec4 uTextureMap;uniform float uTime;uniform vec4 uParams;uniform vec4 uColorParams;uniform vec4 uOpacityOverLifetimeValue;uniform vec4 uWidthOverTrail;
#ifdef COLOR_OVER_TRAIL
uniform sampler2D uColorOverTrail;
#endif
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
varying float vLife;varying vec2 vTexCoord;varying vec4 vColor;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
void main(){vec4 _pa=effects_MatrixVP*vec4(aPos.xyz,1.);vec4 _pb=effects_MatrixVP*vec4(aPos.xyz+aDir,1.);vec2 dir=normalize(_pb.xy/_pb.w-_pa.xy/_pa.w);vec2 screen_xy=vec2(-dir.y,dir.x);vec4 pos=effects_ObjectToWorld*vec4(aPos.xyz,1.);
#ifdef ATTR_TRAIL_START
float ts=aTrailStart;
#else
float ts=uTrailStart[int(aTrailStartIndex)];
#endif
float trail=(ts-aInfo.y)/uParams.y;float width=aPos.w*getValueFromTime(trail,uWidthOverTrail)/max(abs(screen_xy.x),abs(screen_xy.y));pos.xyz+=(effects_MatrixInvV[0].xyz*screen_xy.x+effects_MatrixInvV[1].xyz*screen_xy.y)*width;float time=min((uTime-aTime)/aInfo.x,1.0);gl_Position=effects_MatrixVP*pos;vColor=aColor;
#ifdef COLOR_OVER_LIFETIME
#ifdef ENABLE_VERTEX_TEXTURE
vColor*=texture2D(uColorOverLifetime,vec2(time,0.));
#endif
#endif
#ifdef COLOR_OVER_TRAIL
vColor*=texture2D(uColorOverTrail,vec2(trail,0.));
#endif
vColor.a*=clamp(getValueFromTime(time,uOpacityOverLifetimeValue),0.,1.);vLife=time;vTexCoord=uTextureMap.xy+vec2(trail,aInfo.z)*uTextureMap.zw;vSeed=aSeed;
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}`,Jo=`#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}`,Ms=`#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
`,So="precision highp float;attribute vec2 aPos;varying vec2 uv;void main(){gl_Position=vec4(aPos,0.,1.0);uv=(aPos+vec2(1.0))/2.;}",ea=`precision highp float;
#define HALF_MAX 60000.0
#define ACEScc_MIDGRAY 0.4135884
varying vec2 uv;uniform sampler2D _GaussianTex;uniform sampler2D _SceneTex;uniform float _BloomIntensity;uniform float _Brightness;uniform float _Saturation;uniform float _Contrast;uniform bool _UseBloom;uniform bool _UseToneMapping;uniform vec3 _VignetteColor;uniform vec2 _VignetteCenter;uniform float _VignetteIntensity;uniform float _VignetteSmoothness;uniform float _VignetteRoundness;mat3 LinearToACES=mat3(0.59719,0.07600,0.02840,0.35458,0.90834,0.13383,0.04823,0.01566,0.83777);mat3 ACESToLinear=mat3(1.60475,-0.10208,-0.00327,-0.53108,1.10813,-0.07276,-0.07367,-0.00605,1.07602);float log10(float x){return log(x)/log(10.0);}vec3 log10(vec3 v){return vec3(log10(v.x),log10(v.y),log10(v.z));}vec3 LinearToLogC(vec3 x){return 0.244161*log10(5.555556*x+0.047996)+0.386036;}vec3 LogCToLinear(vec3 x){return(pow(vec3(10.0),(x-0.386036)/0.244161)-0.047996)/5.555556;}vec3 rrt_and_odt_fit(vec3 col){vec3 a=col*(col+0.0245786)-0.000090537;vec3 b=col*(0.983729*col+0.4329510)+0.238081;return a/b;}vec3 ACESToneMapping(vec3 col){vec3 aces=LinearToACES*col;aces=rrt_and_odt_fit(aces);col=ACESToLinear*aces;return col;}vec3 LinearToSrgb(vec3 c){return mix(1.055*pow(c,vec3(1./2.4))-0.055,12.92*c,step(c,vec3(0.0031308)));}vec3 GammaCorrection(vec3 c){return pow(c,vec3(1.0/2.2));}vec3 ApplyVignette(vec3 inputColor,vec2 uv,vec2 center,float intensity,float roundness,float smoothness,vec3 color){vec2 dist=abs(uv-center)*intensity;dist.x*=roundness;float vfactor=pow(clamp((1.0-dot(dist,dist)),0.0,1.0),smoothness);return inputColor*mix(color,vec3(1.0),vfactor);}void main(){vec4 hdrColor=texture2D(_SceneTex,uv);hdrColor.rgb=pow(hdrColor.rgb,vec3(2.2));vec3 finalColor=hdrColor.rgb;if(_UseBloom){vec4 bloomColor=texture2D(_GaussianTex,uv);bloomColor.rgb*=_BloomIntensity;finalColor+=bloomColor.rgb;}if(_VignetteIntensity>0.0){finalColor=ApplyVignette(finalColor,uv,_VignetteCenter,_VignetteIntensity,_VignetteRoundness,_VignetteSmoothness,_VignetteColor);}finalColor=finalColor*_Brightness;vec3 colorLog=LinearToLogC(finalColor);colorLog=(colorLog-ACEScc_MIDGRAY)*_Contrast+ACEScc_MIDGRAY;finalColor=LogCToLinear(colorLog);finalColor=max(finalColor,0.0);float luminance=0.2125*finalColor.r+0.7154*finalColor.g+0.0721*finalColor.b;vec3 luminanceColor=vec3(luminance,luminance,luminance);finalColor=(finalColor-luminanceColor)*_Saturation+luminanceColor;finalColor=max(finalColor,0.0);if(_UseToneMapping){finalColor=max(vec3(0.0),ACESToneMapping(finalColor));}float alpha=min(hdrColor.a,1.0);gl_FragColor=vec4(clamp(GammaCorrection(finalColor),0.0,1.0),alpha);}`,Xs="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;float GaussWeight2D(float x,float y,float sigma){float PI=3.14159265358;float E=2.71828182846;float sigma_2=pow(sigma,2.0);float a=-(x*x+y*y)/(2.0*sigma_2);return pow(E,a)/(2.0*PI*sigma_2);}vec3 GaussNxN(sampler2D tex,vec2 uv,vec2 stride,float sigma){vec3 color=vec3(0.,0.,0.);const int r=5/2;float weight=0.0;for(int i=-r;i<=r;i++){for(int j=-r;j<=r;j++){float w=GaussWeight2D(float(i),float(j),sigma);vec2 coord=uv+vec2(i,j)*stride;color+=texture2D(tex,coord).rgb*w;weight+=w;}}color/=weight;return color;}void main(){vec4 mainColor=texture2D(_MainTex,uv);vec3 color=mainColor.rgb;color=GaussNxN(_MainTex,uv,1.0/_TextureSize,1.0);gl_FragColor=vec4(color,1.0);}",Bo="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;vec3 GaussH(sampler2D tex,vec2 uv){vec3 color=vec3(0.0);float offsets[9];offsets[0]=-4.0;offsets[1]=-3.0;offsets[2]=-2.0;offsets[3]=-1.0;offsets[4]=0.0;offsets[5]=1.0;offsets[6]=2.0;offsets[7]=3.0;offsets[8]=4.0;float weights[9];weights[0]=0.01621622;weights[1]=0.05405405;weights[2]=0.12162162;weights[3]=0.19459459;weights[4]=0.22702703;weights[5]=0.19459459;weights[6]=0.12162162;weights[7]=0.05405405;weights[8]=0.01621622;for(int i=0;i<9;i++){vec2 offset=vec2(offsets[i]*2.0*(1.0/_TextureSize.x),0);color+=texture2D(tex,uv+offset).rgb*weights[i];}return color;}void main(){vec3 color=GaussH(_MainTex,uv);gl_FragColor=vec4(color,1.0);}",Yr="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;vec3 GaussV(sampler2D tex,vec2 uv){vec3 color=vec3(0.0);float offsets[5];offsets[0]=-3.23076923;offsets[1]=-1.38461538;offsets[2]=0.0;offsets[3]=1.38461538;offsets[4]=3.23076923;float weights[5];weights[0]=0.07027027;weights[1]=0.31621622;weights[2]=0.22702703;weights[3]=0.31621622;weights[4]=0.07027027;for(int i=0;i<5;i++){vec2 offset=vec2(0,offsets[i]*(1.0/_TextureSize.y));color+=texture2D(tex,uv+offset).rgb*weights[i];}return color;}void main(){vec3 color=GaussV(_MainTex,uv);gl_FragColor=vec4(color,1.0);}",wn="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform sampler2D _GaussianDownTex;uniform vec2 _GaussianDownTextureSize;float GaussWeight2D(float x,float y,float sigma){float PI=3.14159265358;float E=2.71828182846;float sigma_2=pow(sigma,2.0);float a=-(x*x+y*y)/(2.0*sigma_2);return pow(E,a)/(2.0*PI*sigma_2);}vec3 GaussNxN(sampler2D tex,vec2 uv,vec2 stride,float sigma){vec3 color=vec3(0.,0.,0.);const int r=1;float weight=0.0;for(int i=-r;i<=r;i++){for(int j=-r;j<=r;j++){float w=GaussWeight2D(float(i),float(j),sigma);vec2 coord=uv+vec2(i,j)*stride;color+=texture2D(tex,coord).rgb*w;weight+=w;}}color/=weight;return color;}void main(){vec3 lowResColor=GaussNxN(_MainTex,uv,0.5/_GaussianDownTextureSize,1.0);vec3 highResColor=GaussNxN(_GaussianDownTex,uv,1.0/_GaussianDownTextureSize,1.0);vec3 color=mix(highResColor,lowResColor,0.7);gl_FragColor=vec4(color,1.0);}",pn="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform float _Threshold;void main(){vec4 mainTex=texture2D(_MainTex,uv);mainTex.rgb=pow(mainTex.rgb,vec3(2.2));float brightness=max(mainTex.r,max(mainTex.g,mainTex.b));float w=max(0.0,brightness-_Threshold)/max(brightness,0.00001);mainTex.rgb*=w;mainTex.rgb*=mainTex.a;gl_FragColor=vec4(mainTex.rgb,1.0);}",Pn={},Ei=function(){function i(){}return i.registerInclude=function(n,e){Pn[n]&&$e.warn('The "'+n+'" shader include already exist.'),Pn[n]=e},i.unRegisterInclude=function(n){delete Pn[n]},i.unRegisterAllIncludes=function(){Object.keys(Pn).forEach(function(n){i.unRegisterInclude(n)})},i.genFinalShaderCode=function(n){var e=n.level,t=n.shaderType,r=n.shader,a=n.macros,s=n.removeVersion,l=i.genMacroString(e,a),u=i.genShaderVersion(e),h=i.parseIncludes(r),m=i.isVersion300(h);return h=i.removeWebGLVersion(h),e===2&&!m&&(h=i.convertTo300(h,t===fo.fragment)),s?l+h:u+l+h},i.convertTo300=function(n,e){n=n.replace(/\bvarying\b/g,e?"in":"out"),n=n.replace(/\btexture(2D|Cube)\b/g,"texture");var t=/#extension.+(GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g;if(n=n.replace(t,""),e){if(n=n.replace(/\btexture(2D|Cube)LodEXT\b/g,"textureLod"),n=n.replace(/\btexture(2D|Cube)GradEXT\b/g,"textureGrad"),n=n.replace(/\bgl_FragDepthEXT\b/g,"gl_FragDepth"),!i.has300Output(n)){var r=/\bgl_FragData\[.+?\]/g.test(n);if(r){n=n.replace(/\bgl_FragColor\b/g,"gl_FragData[0]");var a=n.match(/\bgl_FragData\[.+?\]/g);a&&(n=i.replaceMRTShader(n,a))}else n=n.replace(/void\s+?main\s*\(/g,`out vec4 glFragColor;
void main(`),n=n.replace(/\bgl_FragColor\b/g,"glFragColor")}}else n=n.replace(/\battribute\b/g,"in");return n},i.parseIncludes=function(n,e){e===void 0&&(e=/#include <(.+)>/gm);for(var t;(t=e.exec(n))!==null;){var r=t[1],a=Pn[r];if(a===void 0)throw new Error("Can't find include shader name "+r);n=n.replace(t[0],a)}return n},i.genMacroString=function(n,e,t){t===void 0&&(t=!0);var r=[],a="WEBGL"+n;return r.push("#ifndef "+a),r.push("#define "+a),r.push("#endif"),t&&r.push("#define GE_RUNTIME"),e&&e.length&&e.forEach(function(s){var l=s[0],u=s[1];u===!0?r.push("#define "+l):Number.isFinite(u)&&r.push("#define "+l+" "+u)}),r.length?r.join(`
`)+`
`:""},i.genShaderVersion=function(n){return n===1?`#version 100
`:`#version 300 es
`},i.isVersion300=function(n){var e=/#version\s+\b\d{3}\b\s*(es)?/,t=n.match(e),r=t?t[0]:"";return r.includes("300")},i.removeWebGLVersion=function(n){var e=/#version\s+\b\d{3}\b\s*(es)?/,t=n.match(e);return t?n.replace(t[0],""):n},i.has300Output=function(n){var e=/\bout\s+(?:\w+\s+)?(?:vec4)\s+(?:\w+)\s*;/;return e.test(n)},i.replaceMRTShader=function(n,e){for(var t=new Set,r="",a=0;a<e.length;a++){var s=e[a].match(/\bgl_FragData\[(.+?)\]/);s&&t.add(s[1])}return t.forEach(function(l){r+="layout(location="+l+") out vec4 fragOutColor"+l+`;
`}),r+="void main(",n=n.replace(/\bgl_FragData\[(.+?)\]/g,"fragOutColor$1"),n=n.replace(/void\s+?main\s*\(/g,r),n},i}(),Fi=function(i){be(o,i);function o(e,t){var r;r=i.call(this,e,t)||this;var a=r.renderer.engine,s=Cn.create(a,{mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),l=Bi.create(a,{shader:{vertex:So,fragment:pn,glslVersion:qn.GLSL1}});return l.blending=!1,l.depthTest=!1,l.culling=!1,r.screenMesh=Mi.create(a,{geometry:s,material:l,priority:0}),r.priority=5e3,r}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],this.sceneTextureHandle.texture=this.mainTexture,t.setFramebuffer(this.framebuffer)},n.execute=function(t){var r,a;t.clear({colorAction:Li.clear,depthAction:Li.clear,stencilAction:Li.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture);var s,l=(s=(a=t.renderingData.currentFrame.globalVolume)==null||(r=a.bloom)==null?void 0:r.threshold)!=null?s:1;this.screenMesh.material.setFloat("_Threshold",l),t.renderMeshes([this.screenMesh])},o}(aa),io=function(i){be(o,i);function o(e,t,r){var a;a=i.call(this,e,r)||this,a.type=t;var s=a.renderer.engine,l="PostProcess",u=Cn.create(s,{name:l,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),h=t=="H"?Bo:Yr,m={vertex:So,fragment:h,glslVersion:qn.GLSL1},v=Bi.create(s,{name:l,shader:m});return v.blending=!1,v.depthTest=!1,v.culling=!1,a.screenMesh=Mi.create(s,{name:l,geometry:u,material:v,priority:0}),a.priority=5e3,a}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],t.setFramebuffer(this.framebuffer)},n.execute=function(t){t.clear({colorAction:Li.clear,depthAction:Li.clear,stencilAction:Li.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture),this.screenMesh.material.setVector2("_TextureSize",qo(this.mainTexture)),t.renderMeshes([this.screenMesh]),this.type==="V"&&(this.gaussianResult.texture=t.getFramebuffer().getColorTextures()[0])},o}(aa),ao=function(i){be(o,i);function o(e,t){var r;r=i.call(this,e,t)||this;var a="PostProcess",s=r.renderer.engine,l=Cn.create(s,{name:a,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),u={vertex:So,fragment:wn},h=Bi.create(s,{name:a,shader:u});return h.blending=!1,h.depthTest=!1,h.culling=!1,r.screenMesh=Mi.create(s,{name:a,geometry:l,material:h,priority:0}),r.priority=5e3,r}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],t.setFramebuffer(this.framebuffer)},n.execute=function(t){t.clear({colorAction:Li.clear,depthAction:Li.clear,stencilAction:Li.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture),this.screenMesh.material.setTexture("_GaussianDownTex",this.gaussianDownSampleResult.texture),this.screenMesh.material.setVector2("_GaussianDownTextureSize",qo(this.gaussianDownSampleResult.texture)),t.renderMeshes([this.screenMesh])},o}(aa),wo=function(i){be(o,i);function o(e,t){var r;r=i.call(this,e,{})||this;var a="PostProcess",s=r.renderer.engine;r.sceneTextureHandle=t||new ya(s);var l=Cn.create(s,{name:a,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),u=Bi.create(s,{name:a,shader:{vertex:So,fragment:ea,glslVersion:qn.GLSL1}});return u.blending=!1,u.depthTest=!1,u.culling=!1,r.screenMesh=Mi.create(s,{name:a,geometry:l,material:u,priority:0}),r.priority=5e3,r}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],this.sceneTextureHandle.texture||(this.sceneTextureHandle.texture=this.mainTexture),t.setFramebuffer(null)},n.execute=function(t){t.clear({colorAction:Li.clear,depthAction:Li.clear,stencilAction:Li.clear});var r=t.renderingData.currentFrame.globalVolume,a=A({threshold:0,intensity:0,active:!1},r==null?void 0:r.bloom),s=A({intensity:0,smoothness:0,roundness:0,active:!1},r==null?void 0:r.vignette),l=A({brightness:0,saturation:0,contrast:0,active:!1},r==null?void 0:r.colorAdjustments),u=A({active:!1},r==null?void 0:r.tonemapping);this.screenMesh.material.setTexture("_SceneTex",this.sceneTextureHandle.texture),this.screenMesh.material.setFloat("_Brightness",Math.pow(2,l.brightness)),this.screenMesh.material.setFloat("_Saturation",l.saturation*.01+1),this.screenMesh.material.setFloat("_Contrast",l.contrast*.01+1),this.screenMesh.material.setInt("_UseBloom",Number(a.active)),a.active&&(this.screenMesh.material.setTexture("_GaussianTex",this.mainTexture),this.screenMesh.material.setFloat("_BloomIntensity",a.intensity)),s.intensity>0&&(this.screenMesh.material.setFloat("_VignetteIntensity",s.intensity),this.screenMesh.material.setFloat("_VignetteSmoothness",s.smoothness),this.screenMesh.material.setFloat("_VignetteRoundness",s.roundness),this.screenMesh.material.setVector2("_VignetteCenter",new _n(.5,.5)),this.screenMesh.material.setVector3("_VignetteColor",new we(0,0,0))),this.screenMesh.material.setInt("_UseToneMapping",Number(u.active)),t.renderMeshes([this.screenMesh])},o}(aa),ma="_effects_default_",Oo=1,oo=function(){function i(n){var e;this.renderQueue=[],this.destroyed=!1,this.renderPassInfoMap=new WeakMap;var t=n.camera,r=n.keepColorBuffer,a=n.renderer,s=n.editorTransform,l=s===void 0?[1,1,0,0]:s,u=n.globalVolume,h=n.postProcessingEnabled,m=h===void 0?!1:h,v=n.clearAction,p=v===void 0?{colorAction:Z.whatever,stencilAction:Z.clear,depthAction:Z.whatever}:v,b=a.engine;u&&(this.globalVolume=u),this.globalUniforms=new po;var x=[],P,B={};if(this.renderer=a,m){var D=!0;if(!this.renderer.engine.gpuCapability.detail.halfFloatTexture)throw new Error("Half float texture is not supported.");var _=D?F.HALF_FLOAT:F.UNSIGNED_BYTE;x=[{texture:{format:F.RGBA,type:_,magFilter:F.LINEAR,minFilter:F.LINEAR}}],P={storageType:Ci.depth_stencil_opaque},B={colorAction:Z.clear,stencilAction:Z.clear,depthAction:Z.clear}}this.drawObjectPass=new aa(a,{name:ma,priority:Ma,meshOrder:q.ascending,depthStencilAttachment:P,attachments:x,clearAction:B});var Y=[this.drawObjectPass];if(this.setRenderPasses(Y),m){var k=new ya(b),W=7,te=[0,0,this.renderer.getWidth()/2,this.renderer.getHeight()/2],ae=new Array(W),se=!0,Qe=se?F.HALF_FLOAT:F.UNSIGNED_BYTE,Je=new Fi(a,{name:"BloomThresholdPass",attachments:[{texture:{format:F.RGBA,type:Qe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]});Je.sceneTextureHandle=k,this.addRenderPass(Je);for(var at=0;at<W;at++){ae[at]=new ya(b);var ut=new io(a,"H",{name:"GaussianDownPassH"+at,viewport:te,attachments:[{texture:{format:F.RGBA,type:Qe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]}),At=new io(a,"V",{name:"GaussianDownPassV"+at,viewport:te,attachments:[{texture:{format:F.RGBA,type:Qe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]});At.gaussianResult=ae[at],this.addRenderPass(ut),this.addRenderPass(At),te[2]/=2,te[3]/=2}te[2]*=4,te[3]*=4;for(var Gt=0;Gt<W-1;Gt++){var Wt=new ao(a,{name:"GaussianUpPass"+Gt,viewport:te,attachments:[{texture:{format:F.RGBA,type:Qe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]});Wt.gaussianDownSampleResult=ae[W-2-Gt],this.addRenderPass(Wt),te[2]*=2,te[3]*=2}var Qt=new wo(a,k);this.addRenderPass(Qt)}this.semantics=new zn(n.semantics),this.clearAction=p,this.name="RenderFrame"+Oo++;var er=Y[0];this.emptyTexture=xi(b),this.transparentTexture=si(b),this.camera=t,this.keepColorBuffer=r,this.renderPassInfoMap.set(er,{listStart:0,listEnd:0,renderPass:er,intermedia:!1}),this.editorTransform=Ur.fromArray(l),n.clearAction||this.resetClearActions(),this.passTextureCache=new Nn(b);var Dt=b.gpuCapability,Lr=Dt.detail,cr=Dt.level,Mr=Lr.readableDepthStencilTextures&&Lr.writableFragDepth,Gr=za(cr,Mr);(e=this.renderer.getShaderLibrary())==null||e.addShader(Gr)}var o=i.prototype;return o.addMeshToDefaultRenderPass=function(e){this.drawObjectPass.addMesh(e)},o.removeMeshFromDefaultRenderPass=function(e){this.drawObjectPass.removeMesh(e)},o.dispose=function(e){(e==null?void 0:e.semantics)!==Ct.keep&&this.semantics.dispose();var t=e!=null&&e.passes?e.passes:void 0;if(t!==Ct.keep&&this._renderPasses.forEach(function(s){s.dispose(t)}),this.passTextureCache.dispose(),this._renderPasses.length=0,this.emptyTexture.dispose(),this.transparentTexture.dispose(),this.resource){var r,a;this.resource.color_a.dispose(),this.resource.color_b.dispose(),(a=this.resource.depthStencil)==null||(r=a.texture)==null||r.dispose(),this.resource.finalCopyRP.dispose(),this.resource.resRP.dispose(),this.resource=null}this.destroyed=!0},o.resetRenderPassDefaultAttachment=function(e,t){for(var r,a=this.resource,s=a.color_a,l=a.color_b,u=t;u<e.length;u++){var h,m,v=e[u],p=(h=v.attachments[0])==null?void 0:h.texture;if(p&&r===p){var b=p===s?l:s;v.resetColorAttachments([b])}p=(m=v.attachments[0])==null?void 0:m.texture,p&&(r=p)}},o.findMeshRenderPassIndex=function(e){var t=-1;return this.renderPasses.every(function(r,a){return r.name.startsWith(ma)&&r.meshes.includes(e)?(t=a,!1):!0}),t},o.addToRenderPass=function(e,t){var r=this.renderPassInfoMap.get(e),a=t.priority;r&&(e.meshes.length===0?r.listStart=r.listEnd=a:a<r.listStart?r.listStart=a:a>r.listEnd&&(r.listEnd=a),e.addMesh(t))},o.getRPAttachments=function(e,t){if((e==null?void 0:e.length)===1){var r=e[0],a=r.texture,s=r.persistent,l=a.format,u,h=(u=t==null?void 0:t.getInitAttachments())!=null?u:[];if(l===F.RGBA&&!s){var m=this.resource.color_a;if(h.length===0)return[{texture:m}];var v=h[0].texture===m?this.resource.color_b:m;return[{texture:v}]}}return e},o.resetClearActions=function(){var e=this.renderPasses.length>1?Z.clear:Z.whatever;this.clearAction.stencilAction=e,this.clearAction.depthAction=e,this.clearAction.colorAction=e,this.keepColorBuffer&&(this.clearAction.colorAction=Z.whatever)},o.setRenderPasses=function(e){var t=this;this.renderer!==void 0&&e.forEach(function(r){return r.initialize(t.renderer)}),this._renderPasses=e.slice()},o.addRenderPass=function(e){this.renderer!==void 0&&e.initialize(this.renderer),this._renderPasses.push(e)},o.createResource=function(){var e=this.renderer.engine;if(!this.resource){var t,r=e.gpuCapability,a=r.detail,s=r.level,l=this.renderer.getWidth(),u=this.renderer.getHeight(),h=s===2?F.LINEAR:F.NEAREST,m=Nr.create(e,{sourceType:G.framebuffer,format:F.RGBA,name:"frame_a",minFilter:h,magFilter:h}),v=Nr.create(e,{sourceType:G.framebuffer,format:F.RGBA,data:{width:l,height:u},minFilter:h,magFilter:h,name:"frame_b"}),p=a.readableDepthStencilTextures&&a.writableFragDepth?Ci.depth_24_stencil_8_texture:Ci.depth_stencil_opaque,b=new aa(this.renderer,{depthStencilAttachment:{storageType:p},attachments:[{texture:m}]}).initialize(this.renderer),x=new zo(this.renderer,{name:"effects-final-copy",priority:Ma+600,clearAction:{depthAction:Z.clear,stencilAction:Z.clear,colorAction:Z.clear},meshOrder:q.ascending,meshes:[this.createCopyMesh({blend:!0,depthTexture:(t=b.getDepthAttachment())==null?void 0:t.texture})]});this.resource={color_a:b.attachments[0].texture,color_b:v,finalCopyRP:x,depthStencil:b.depthAttachment,resRP:b}}},o.createCopyMesh=function(e){var t,r=No,a=this.renderer.engine,s=Cn.create(a,{name:r,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),l=za(a.gpuCapability.level,!!(e!=null&&e.depthTexture));(t=this.renderer.getShaderLibrary())==null||t.addShader(l);var u=Bi.create(a,{uniformValues:{uDepth:e==null?void 0:e.depthTexture},name:r,shader:l});return u.blending=!1,u.depthTest=!1,u.culling=!1,e!=null&&e.blend&&(u.blending=!0,u.blendFunction=[F.SRC_ALPHA,F.ONE_MINUS_SRC_ALPHA,F.SRC_ALPHA,F.ONE_MINUS_SRC_ALPHA]),Mi.create(a,{name:r,geometry:s,material:u,priority:0})},o.removeRenderPass=function(e){de(this._renderPasses,e)},br(i,[{key:"renderPasses",get:function(){return this._renderPasses.slice()}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}();function qo(i){return i?new _n(i.getWidth(),i.getHeight()):new _n}function Mo(i,o){var n=i.indexOf(o);return i[n-1]}var zo=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.configure=function(t){var r=t.getFramebuffer();r&&(this.prePassTexture=r.getColorTextures()[0]),t.setFramebuffer(null)},n.execute=function(t){t.clear(this.clearAction),this.meshes[0].material.setTexture("uFilterSource",this.prePassTexture),this.meshes[0].material.setVector2("uFilterSourceSize",qo(this.prePassTexture)),t.renderMeshes(this.meshes),this.storeAction&&t.clear(this.storeAction)},o}(aa),po=function(){this.floats={},this.ints={},this.vector3s={},this.vector4s={},this.matrices={},this.samplers=[],this.uniforms=[]},vl=function(){function i(o){this.size=[0,0],this.multiSample=1,this.destroyed=!1;var n=o.storageType,e=o.format,t=o.attachment;this.storageType=n,this.format=e,this.attachment=t}return br(i,[{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),es=typeof WebGL2RenderingContext=="function",ps=function(){function i(n){this.setupCapability(n)}var o=i.prototype;return o.setupCapability=function(e){var t,r=es&&U(e,WebGL2RenderingContext)?2:1,a=r===2,s=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),l=e.getExtension("WEBGL_depth_texture"),u=!!e.getExtension("OES_texture_half_float_linear"),h=!!e.getExtension("OES_texture_float_linear");this.level=r,this.type=a?"webgl2":"webgl",this.vaoExt=e.getExtension("OES_vertex_array_object"),this.glAsyncCompileExt=e.getExtension("KHR_parallel_shader_compile"),this.UNSIGNED_INT_24_8=e.UNSIGNED_INT_24_8,this.drawBufferExtension=e.getExtension("WEBGL_draw_buffers"),l&&(this.UNSIGNED_INT_24_8=l.UNSIGNED_INT_24_8_WEBGL),a&&!u&&(u=ts(e,e.HALF_FLOAT)),a&&!h&&(h=ts(e,e.FLOAT)),this.internalFormatDepth16=a?e.DEPTH_COMPONENT16:e.DEPTH_COMPONENT,this.internalFormatDepth24_stencil8=a?e.DEPTH24_STENCIL8:e.DEPTH_STENCIL;var m=a||e.getExtension("OES_texture_float")?e.FLOAT:0,v=a?WebGL2RenderingContext.HALF_FLOAT:((t=e.getExtension("OES_texture_half_float"))==null?void 0:t.HALF_FLOAT_OES)||0,p={floatTexture:m,halfFloatTexture:v,maxSample:a?e.getParameter(e.MAX_SAMPLES):1,maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxFragmentTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),floatColorAttachment:a?!!e.getExtension("EXT_color_buffer_float"):m>0&&!!e.getExtension("WEBGL_color_buffer_float"),halfFloatColorAttachment:a?!!e.getExtension("EXT_color_buffer_float"):v>0&&!!e.getExtension("EXT_color_buffer_half_float"),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxShaderTexCount:e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),compressedTexture:ys(e),halfFloatLinear:u,floatLinear:h,maxTextureAnisotropy:s?e.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,shaderTextureLod:a||!!e.getExtension("EXT_shader_texture_lod"),instanceDraw:a||!!e.getExtension("ANGLE_instanced_arrays"),drawBuffers:a||!!this.drawBufferExtension,asyncShaderCompile:!!this.glAsyncCompileExt,intIndexElementBuffer:!!e.getExtension("OES_element_index_uint"),standardDerivatives:a||!!e.getExtension("OES_standard_derivatives"),readableDepthStencilTextures:a||!!l,writableFragDepth:a||!!e.getExtension("EXT_frag_depth")};this.detail=p,s&&(this.textureMaxAnisotropyExt=s.TEXTURE_MAX_ANISOTROPY_EXT)},o.framebufferTexture2D=function(e,t,r,a,s){var l=this.drawBufferExtension;if(this.level===1&&!l&&r>0)throw new Error("Draw multiple color buffers not available.");var u=l?l["COLOR_ATTACHMENT"+r+"_WEBGL"]:e["COLOR_ATTACHMENT"+r];u?e.framebufferTexture2D(t,u,a,s,0):console.error("Invalid color attachment index: "+r+".")},o.drawBuffers=function(e,t){var r=this.drawBufferExtension;if(this.level===1&&!r){if(t.length>1)throw new Error("Draw buffers not available.");return}var a=t.map(function(s,l){return s?r?r["COLOR_ATTACHMENT"+l+"_WEBGL"]:e["COLOR_ATTACHMENT"+l]:e.NONE});r?r.drawBuffersWEBGL(a):e.drawBuffers(a)},o.setTextureAnisotropic=function(e,t,r){var a=this.detail.maxTextureAnisotropy;a&&e.texParameterf(t,this.textureMaxAnisotropyExt,Math.min(a,r||4))},i}();function ts(i,o){var n=i.createTexture(),e=!1;return i.getError(),i.bindTexture(i.TEXTURE_2D,n),i.texImage2D(i.TEXTURE_2D,0,i.R16F,1,1,0,i.RED,o,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.getError()||(e=!0),i.deleteTexture(n),e}var gs;(function(i){i[i.NONE=0]="NONE",i[i.PVRTC=1]="PVRTC",i[i.ASTC=2]="ASTC"})(gs||(gs={}));function ys(i){return i.getExtension("WEBGL_compressed_texture_astc")?2:i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")?1:0}var bs;(function(i){i[i.Nearest=0]="Nearest",i[i.Linear=1]="Linear"})(bs||(bs={}));var xs;(function(i){i[i.RGBA32=0]="RGBA32",i[i.RGBAHalf=1]="RGBAHalf"})(xs||(xs={}));var As=function(){function i(){}var o=i.prototype;return o.resize=function(e,t,r,a){},o.resetColorTextures=function(e){},o.unbind=function(){},o.bind=function(){},o.getDepthTexture=function(){},o.getStencilTexture=function(){},o.getColorTextures=function(){return[]},o.dispose=function(e){},br(i,[{key:"stencilStorage",get:function(){}},{key:"depthStorage",get:function(){}}]),i}(),rs=function(){function i(){}var o=i.prototype;return o.setGlobalFloat=function(e,t){},o.setGlobalInt=function(e,t){},o.setGlobalVector4=function(e,t){},o.setGlobalVector3=function(e,t){},o.setGlobalMatrix=function(e,t){},o.getFramebuffer=function(){return null},o.setFramebuffer=function(e){},o.setViewport=function(e,t,r,a){},o.resize=function(e,t){},o.clear=function(e){},o.getWidth=function(){return 0},o.getHeight=function(){return 0},o.addLostHandler=function(e){},o.addRestoreHandler=function(e){},o.lost=function(e){},o.restore=function(){},o.getShaderLibrary=function(){},o.renderRenderFrame=function(e){},o.renderMeshes=function(e){},o.drawGeometry=function(e,t,r){},o.getTemporaryRT=function(e,t,r,a,s,l){return null},o.dispose=function(e){},i}(),Is=function(){var i=new Float32Array(1),o=new Int32Array(i.buffer);return function(e){i[0]=e;var t=o[0],r=t>>16&32768,a=t>>12&2047,s=t>>23&255;return s<103?r:s>142?(r|=31744,r|=(s==255?0:1)&&t&8388607,r):s<113?(a|=2048,r|=(a>>114-s)+(a>>113-s&1),r):(r|=s-112<<10|a>>1,r+=a&1,r)}}(),Ys=function(){function i(n){if(Number.isInteger(n))this.data=new Uint16Array(n);else if(n&&typeof n=="object"&&Number.isInteger(n.length))for(var e=this.data=new Uint16Array(n.length),t=0;t<e.length;t++)e[t]=Is(n[t])}var o=i.prototype;return o.set=function(e,t){for(var r=0;r<e.length;r++)this.data[r+t]=Is(e[r])},i}();function $l(i,o){for(var n=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],e=0;e<8;e+=2)n[e]+=i,n[e+1]+=o;return n}var Ks=new Wn,pl=new Or;function Uo(i,o,n,e,t,r,a){var s=i,l=e/t,u=e,h=o.speedOverLifetime;h&&(u=h.getIntegrateValue(0,e,t));var m=o.gravityModifier?o.gravityModifier.getIntegrateByTime(0,e):0;s.copyFrom(r),s.addScaledVector(a,u),s.addScaledVector(n,m);var v=o.linearVelOverLifetime||{},p=o.orbitalVelOverLifetime||{},b=["x","y","z"];if(p.enabled){var x=new we;p.center&&x.setFromArray(p.center);var P=s.clone().subtract(x),B=p.asRotation,D=b.map(function(Je){var at=p[Je];return at?B?at.getValue(l):at.getIntegrateValue(0,e,t):0});Ks.setFromArray(D).negate(),pl.setFromEuler(Ks);var _=pl.transformPoint(P);s.addVectors(x,_)}if(v.enabled){var Y=v.asMovement,k=v.x,W=v.y,te=v.z;if(k){var ae=Y?k.getValue(l):k.getIntegrateValue(0,e,t);s.x=s.x+ae}if(W){var se=Y?W.getValue(l):W.getIntegrateValue(0,e,t);s.y=s.y+se}if(te){var Qe=Y?te.getValue(l):te.getIntegrateValue(0,e,t);s.z=s.z+Qe}}return s}function Qs(i){return Array.isArray(i)?[i[0],i[1],i[2]]:[0,0,0]}function gl(i,o){for(var n=0,e=i.length;n<e;n++)i[n]=o;return i}function Js(i,o,n){if(o&&n)for(var e=0,t=o.length;e<t;e++)i[e]=o[e]*n[e];else if(o){if(i!==o)for(var r=0;r<o.length;r++)i[r]=o[r]}else if(n&&i!==n)for(var a=0;a<n.length;a++)i[a]=n[a];return i}var On,Un=(On={},On[Cr.PARTICLE_ORIGIN_CENTER]=[0,0],On[Cr.PARTICLE_ORIGIN_CENTER_BOTTOM]=[0,-.5],On[Cr.PARTICLE_ORIGIN_CENTER_TOP]=[0,.5],On[Cr.PARTICLE_ORIGIN_LEFT_TOP]=[-.5,.5],On[Cr.PARTICLE_ORIGIN_LEFT_CENTER]=[-.5,0],On[Cr.PARTICLE_ORIGIN_LEFT_BOTTOM]=[-.5,-.5],On[Cr.PARTICLE_ORIGIN_RIGHT_CENTER]=[.5,0],On[Cr.PARTICLE_ORIGIN_RIGHT_BOTTOM]=[.5,-.5],On[Cr.PARTICLE_ORIGIN_RIGHT_TOP]=[.5,.5],On);function Da(i){return Math.pow(2,Math.round(Math.log(i)/Math.LN2))}function Di(i,o,n){var e=n.position,t=new we(i,o,0),r=new we,a=n.getInverseViewProjectionMatrix();return a.projectPoint(t,r),r.subtract(e),new pa(e,r)}function ta(i,o,n){var e=i.x,t=i.y,r=i.z,a=new we(e-o,t+n,r),s=new we(e-o,t-n,r),l=new we(e+o,t-n,r),u=new we(e+o,t+n,r);return[{p0:a,p1:s,p2:l},{p0:a.clone(),p1:l.clone(),p2:u}]}function oa(i,o,n){return n===void 0&&(n=1e-6),Math.abs(i-o)<n}function ii(i,o){o===void 0&&(o=2);var n=Math.pow(10,o);return Math.floor(i*n)/n}var Ia={getPointInCurve:function(o){o[0];var n=o[1],e=this.getPointIndexInCurve(o),t=e.xIndex,r=e.yIndex,a=n[t],s=n[r];return new _n(a,s)},getPointIndexInCurve:function(o){var n=o[0],e=o[2],t=n===Qr.LINE||n===Qr.EASE_OUT?0:n===Qr.EASE_IN||n===Qr.EASE||n===Qr.HOLD&&e===Qr.EASE_IN?2:0;return{xIndex:t,yIndex:t+1}},isLeftSideEase:function(o){var n=o[0];o[1];var e=o[2];return n===Qr.HOLD&&this.isKeyframeTypeLeftSideEase(e)?!0:this.isKeyframeTypeLeftSideEase(n)},isRightSideEase:function(o){var n=o[0];o[1];var e=o[2];return n===Qr.HOLD&&this.isKeyframeTypeRightSideEase(e)?!0:this.isKeyframeTypeRightSideEase(n)},isKeyframeTypeLeftSideEase:function(o){return[Qr.EASE,Qr.EASE_IN,Qr.AUTO].includes(o)},isKeyframeTypeRightSideEase:function(o){return[Qr.EASE,Qr.EASE_OUT,Qr.AUTO].includes(o)},isHoldInKeyframe:function(o){var n=o[0];o[1];var e=o[2];return n===Qr.HOLD&&[Qr.HOLD,Qr.LINE_OUT,Qr.EASE_OUT].includes(e)},isHoldOutKeyframe:function(o){var n=o[0];o[1];var e=o[2];return n===Qr.HOLD&&[Qr.HOLD,Qr.LINE,Qr.EASE_IN].includes(e)}},Ao=function(o,n){this.points=o,this.totalLength=n},go={},ka={},Ps=4,Mu=.001,qc=1e-7,Au=10,yl=300,bl=11,xl=1/(bl-1);function Cl(i,o){return 1-3*o+3*i}function Iu(i,o){return 3*o-6*i}function jl(i){return 3*i}function qs(i,o,n){return((Cl(o,n)*i+Iu(o,n))*i+jl(o))*i}function Hl(i,o,n){return 3*Cl(o,n)*i*i+2*Iu(o,n)*i+jl(o)}function Rs(i,o,n,e,t){var r,a,s=0;do a=o+(n-o)/2,r=qs(a,e,t)-i,r>0?n=a:o=a;while(Math.abs(r)>qc&&++s<Au);return a}function Pu(i,o,n,e){for(var t=0;t<Ps;++t){var r=Hl(o,n,e);if(r===0)return o;var a=qs(o,n,e)-i;o-=a/r}return o}function ua(i,o,n,e){var t=ii(o.x-i.x,3)+"_"+ii(o.y-i.y,3)+"_"+ii(o.z-i.z,3),r=ii(n.x-i.x,3)+"_"+ii(n.y-i.y,3)+"_"+ii(n.z-i.z,3),a=ii(e.x-i.x,3)+"_"+ii(e.y-i.y,3)+"_"+ii(e.z-i.z,3),s=t+"&"+r+"&"+a;if(ka[s])return{data:ka[s],interval:i};for(var l=[],u=null,h=0,m=0,v=yl,p=0;p<v;p+=1){var b=new we,x=p/(v-1);m=0,b.x=3*Math.pow(1-x,2)*x*(n.x-i.x)+3*(1-x)*Math.pow(x,2)*(e.x-i.x)+Math.pow(x,3)*(o.x-i.x),b.y=3*Math.pow(1-x,2)*x*(n.y-i.y)+3*(1-x)*Math.pow(x,2)*(e.y-i.y)+Math.pow(x,3)*(o.y-i.y),b.z=3*Math.pow(1-x,2)*x*(n.z-i.z)+3*(1-x)*Math.pow(x,2)*(e.z-i.z)+Math.pow(x,3)*(o.z-i.z),u!==null&&(m+=Math.pow(b.x-u.x,2),m+=Math.pow(b.y-u.y,2),m+=Math.pow(b.z-u.z,2)),u=b,m=Math.sqrt(m),h+=m,l[p]={partialLength:m,point:b}}var P=new Ao(l,h);return ka[s]=P,{data:P,interval:new we(i.x,i.y,i.z)}}var so=function(){function i(n,e,t,r){this.p1=n,this.p2=e,this.p3=t,this.p4=r,this.catching={lastPoint:0,lastAddedLength:0};var a=ua(n,e,t,r),s=a.data,l=a.interval;this.lengthData=s,this.interval=l,this.totalLength=s.totalLength}var o=i.prototype;return o.getPointInPercent=function(e){var t=this.lengthData;if(e===0)return t.points[0].point.clone().add(this.interval);if(oa(1-e,0))return t.points[yl-1].point.clone().add(this.interval);if(oa(t.totalLength,0))return this.p1.clone();var r=new we,a=ii(t.totalLength*e,4),s=this.catching.lastAddedLength,l=this.catching.lastPoint;if(oa(s,a))return t.points[l].point.clone().add(this.interval);var u=!0,h=1;for(a<s&&(h=-1);u;){if(a>=s){if(l===yl-1){r.x=t.points[l].point.x,r.y=t.points[l].point.y,r.z=t.points[l].point.z;break}if(a<s+t.points[l+1].partialLength){var m=(a-s)/t.points[l+1].partialLength;r.x=t.points[l].point.x+(t.points[l+1].point.x-t.points[l].point.x)*m,r.y=t.points[l].point.y+(t.points[l+1].point.y-t.points[l].point.y)*m,r.z=t.points[l].point.z+(t.points[l+1].point.z-t.points[l].point.z)*m;break}}h>0&&l<yl-1?(l+=h,s+=ii(t.points[l].partialLength,5)):h<0&&l>0?(s-=ii(t.points[l].partialLength,5),l+=h):u=!1}return this.catching.lastPoint=l,this.catching.lastAddedLength=s,r.add(this.interval),r},i}(),Ru=function(){function i(n,e,t,r){this.p1=n,this.p2=e,this.p3=t,this.p4=r,this.temp=new _t,this.totalLength=0}var o=i.prototype;return o.getPointInPercent=function(e){return e===0?this.temp.copyFrom(this.p1):oa(1-e,0)?this.temp.copyFrom(this.p2):(Zl.slerpFlat(this.temp,this.p1,this.p2,e),this.temp)},i}(),ef=function(){function i(n,e,t,r){this.mX1=n,this.mY1=e,this.mX2=t,this.mY2=r,this.precomputed=!1,this.mSampleValues=new Array(bl)}var o=i.prototype;return o.precompute=function(){this.precomputed=!0,(this.mX1!==this.mY1||this.mX2!==this.mY2)&&this.calcSampleValues()},o.getValue=function(e){if(this.mX1===this.mY1&&this.mX2===this.mY2)return e;if(isNaN(this.mY1)||isNaN(this.mY2))return 0;if(e===0||e===1)return e;this.precomputed||this.precompute();var t=qs(this.getTForX(e),this.mY1,this.mY2);return t},o.calcSampleValues=function(){for(var e=0;e<bl;++e)this.mSampleValues[e]=qs(e*xl,this.mX1,this.mX2)},o.getTForX=function(e){for(var t=this.mSampleValues,r=bl-1,a=0,s=1;s!==r&&t[s]<=e;++s)a+=xl;--s;var l=(e-t[s])/(t[s+1]-t[s]),u=a+l*xl,h=Hl(u,this.mX1,this.mX2);return h>=Mu?Pu(e,u,this.mX1,this.mX2):h===0?u:Rs(e,a,a+xl,this.mX1,this.mX2)},i}();function Gl(i,o){var n=Wl(i,o,!0),e=n.p0,t=n.p1,r=n.p2,a=n.p3;bt(r),bt(a);var s=a.x-e.x,l=a.y-e.y,u,h,m=ii((t.x-e.x)/s,5),v=ii((r.x-e.x)/s,5);oa(l,0)?u=h=NaN:(u=ii((t.y-e.y)/l,5),h=ii((r.y-e.y)/l,5)),m<0&&(console.error("Invalid bezier points, x1 < 0",e,t,r,a),m=0),v<0&&(console.error("Invalid bezier points, x2 < 0",e,t,r,a),v=0),m>1&&(console.error("Invalid bezier points, x1 >= 1",e,t,r,a),m=1),v>1&&(console.error("Invalid bezier points, x2 >= 1",e,t,r,a),v=1);var p=("bez_"+m+"_"+u+"_"+v+"_"+h).replace(/\./g,"p"),b;return go[p]?b=go[p]:(b=new ef(m,u,v,h),go[p]=b),{points:[e,t,r,a],timeInterval:s,valueInterval:l,curve:b}}function Wl(i,o,n){var e=i[1],t=Ia.isHoldOutKeyframe(i),r=Ia.isHoldInKeyframe(o),a=!r&&Ia.isRightSideEase(i),s=!t&&Ia.isLeftSideEase(o);if(a&&!s&&!r){var l=new _n(e[e.length-4],e[e.length-3]),u=new _n(e[e.length-2],e[e.length-1]),h=Ia.getPointInCurve(o),m=new _n(h.x,h.y),v=new _n(m.x-(m.x-l.x)/10,m.y);return{type:"ease",p0:l,p1:u,p2:v,p3:m}}if(!a&&s&&!t){var p=o[1],b=Ia.getPointInCurve(i),x=new _n(b.x,b.y),P=new _n(p[0],p[1]),B=new _n(p[2],p[3]),D=new _n(x.x+(B.x-x.x)/10,x.y);return{type:"ease",p0:x,p1:D,p2:P,p3:B}}if(a&&s){var _=o[1],Y=new _n(e[e.length-4],e[e.length-3]),k=new _n(e[e.length-2],e[e.length-1]),W=new _n(_[0],_[1]),te=new _n(_[2],_[3]);return{type:"ease",p0:Y,p1:k,p2:W,p3:te}}var ae=Ia.getPointInCurve(i),se=Ia.getPointInCurve(o);if(t?se.y=ae.y:r&&(ae.y=se.y),n){var Qe=new _n((se.x-ae.x)/3+ae.x,(se.y-ae.y)/3+ae.y),Je=new _n((se.x-ae.x)/3*2+ae.x,(se.y-ae.y)/3*2+ae.y);return{type:"ease",p0:ae,p1:Qe,p2:Je,p3:se,isHold:t||r,leftHoldLine:t,rightHoldLine:r}}else return{type:"line",p0:ae,p1:se,isHold:t||r,leftHoldLine:t,rightHoldLine:r}}var Zl=function(){function i(){}return i.slerpFlat=function(n,e,t,r){var a=e.x,s=e.y,l=e.z,u=e.w,h=t.x,m=t.y,v=t.z,p=t.w;if(r===0){n.x=a,n.y=s,n.z=l,n.w=u;return}if(r===1){n.x=h,n.y=m,n.z=v,n.w=p;return}if(u!==p||a!==h||s!==m||l!==v){var b=1-r,x=a*h+s*m+l*v+u*p,P=x>=0?1:-1,B=1-x*x;if(B>Number.EPSILON){var D=Math.sqrt(B),_=Math.atan2(D,x*P);b=Math.sin(b*_)/D,r=Math.sin(r*_)/D}var Y=r*P;if(a=a*b+h*Y,s=s*b+m*Y,l=l*b+v*Y,u=u*b+p*Y,b===1-r){var k=1/Math.sqrt(a*a+s*s+l*l+u*u);a*=k,s*=k,l*=k,u*=k}}n.x=a,n.y=s,n.z=l,n.w=u},i}(),ko=0,Xl=1,_u=2,El=3,$o="not_implement",ra=function(){function i(n){this.onCreate(n)}var o=i.prototype;return o.onCreate=function(e){throw new Error($o)},o.getIntegrateValue=function(e,t,r){throw new Error($o)},o.getIntegrateByTime=function(e,t){throw new Error($o)},o.getValue=function(e){throw new Error($o)},o.getMaxTime=function(){throw new Error($o)},o.toUniform=function(e){throw new Error($o)},o.map=function(e){throw new Error($o)},o.scaleXCoord=function(e){return this},o.toData=function(){throw new Error($o)},i.getAllData=function(e,t){for(var r=new(t?Ys:Float32Array)(e.index*4),a=0,s=0,l=e.curves;a<l.length;a++){var u=l[a].toData();r.set(u,s),s+=u.length}return t?r.data:r},i}(),Io=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.value=t},n.getIntegrateValue=function(t,r,a){return this.value*(r-t)},n.getIntegrateByTime=function(t,r){return .5*this.value*(r*r-t*t)},n.getValue=function(t){return this.value},n.toUniform=function(){return new Float32Array([0,this.value,0,0])},n.map=function(t){var r=this.value;return this.value=t(r),this},n.getMaxTime=function(){return 0},o}(ra),Lu=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.items=t},n.getValue=function(t){var r=this.items;return r[Math.floor(Math.random()*r.length)]},n.map=function(t){return this.items=this.items.map(t),this},o}(ra),yo=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.min=t[0],this.max=t[1]},n.getValue=function(t,r){var a=r!=null?r:Math.random();return this.min+a*(this.max-this.min)},n.getIntegrateValue=function(t,r,a){var s=a!=null?a:1;return(this.min+s*(this.max-this.min))*(r-t)},n.toUniform=function(){return new Float32Array([4,this.min,this.max,0])},n.map=function(t){return this.min=t(this.min),this.max=t(this.max),this},o}(ra),tf=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.min=t[0],this.max=t[1]},n.getValue=function(t){for(var r=this.min,a=this.max,s=[],l=0;l<r.length;l++){var u=Math.random();s[l]=r[l]*(1-u)+a[l]*u}return s},n.map=function(t){return this.min=this.min.map(t),this.max=this.max.map(t),this},o}(ra),_s=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.min=t[0],this.max=t[1],this.xCoord=1},n.getValue=function(t){return t/=this.xCoord,this.min*(1-t)+this.max*t},n.toUniform=function(){return new Float32Array([1,this.min,this.max,this.xCoord])},n.getIntegrateValue=function(t,r,a){a===void 0&&(a=1);var s=this.min,l=this.max,u=this.xCoord*a,h=s+(l-s)*(r/u),m=s+(l-s)*(t/u);return((h+s)*r-(m+s)*t)/2},n.getIntegrateByTime=function(t,r){return Fs(r,0,this.xCoord,this.min,this.max)-Fs(t,0,this.xCoord,this.min,this.max)},n.map=function(t){return this.min=t(this.min),this.max=t(this.max),this},n.scaleXCoord=function(t){return this.xCoord=t,this},o}(ra),Fu=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.stops=Xe(t)},n.getStops=function(){return this.stops},n.getValue=function(t){for(var r=this.stops,a=r.length-1,s=0;s<a;s++){var l=r[s],u=r[s+1];if(l.stop<=t&&u.stop>t){var h=(t-l.stop)/(u.stop-l.stop);return ze(l.color,u.color,h,!0)}}return r[a].color.slice()},o}(ra),Ls=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.keys=t.map(function(s){return s.slice?s.slice(0,2):[s.time,s.value]}).sort(function(s,l){return s[0]-l[0]});var r=this.keys[this.keys.length-1];r[0]<1&&this.keys.push([1,r[1]]);var a=this.keys[0];a[0]>0&&this.keys.unshift([0,a[1]]),this.isLineSeg=!0},n.getValue=function(t){var r=this.keys;if(t<r[0][0])return r[0][1];for(var a=r.length-1,s=0;s<a;s++){var l=r[s],u=r[s+1],h=l[0],m=u[0];if(t>=h&&t<=m){var v=(t-h)/(m-h),p=l[1];return p+v*(u[1]-p)}}return r[a][1]},n.getIntegrateValue=function(t,r,a){return a===void 0&&(a=1),(this.integrate(r,!1)-this.integrate(t,!1))*a},n.getIntegrateByTime=function(t,r){return this.integrate(r,!0)-this.integrate(t,!0)},n.integrate=function(t,r){var a=this.keys;if(t<=a[0][0])return 0;for(var s=0,l=a.length-1,u=r?Fs:af,h=0;h<l;h++){var m=a[h],v=a[h+1],p=m[0],b=v[0];if(t>p&&t<=b)return s+u(t,p,b,m[1],v[1]);s+=u(b,p,b,m[1],v[1])}return s},n.toData=function(){for(var t=this.keys,r=new Float32Array(Math.ceil(t.length/2)*4),a=0,s=0;a<t.length;a++,s+=2)r.set(t[a],s);return r.set(t[t.length-1],r.length-2),r},n.toUniform=function(t){var r=t.index,a=this.keys,s=Math.ceil(a.length/2);return t.lineSegCount+=s,t.curves.push(this),t.index+=s,t.max=Math.max(t.max,s),new Float32Array([3,r,s,0])},n.map=function(t){return this.keys.forEach(function(r){return r[1]=t(r[1])}),this},n.scaleXCoord=function(t){return this.keys.forEach(function(r){return r[0]=t*r[0]}),this},o}(ra),Du=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){var r=t;this.curveMap={},this.keys=[];for(var a=0;a<r.length-1;a++){var s=r[a],l=r[a+1],u=Gl(s,l),h=u.points,m=u.curve,v=u.timeInterval,p=u.valueInterval,b=h[0],x=h[h.length-1];this.keys.push([].concat(b.toArray(),h[1].toArray())),this.keys.push([].concat(x.toArray(),h[2].toArray())),this.curveMap[b.x+"&"+x.x]={points:h,timeInterval:v,valueInterval:p,curve:m,timeStart:Number(b.x),timeEnd:Number(x.x)}}this.keyTimeData=Object.keys(this.curveMap)},n.getValue=function(t){var r=0,a=this.keyTimeData,s=this.curveMap[a[0]].timeStart,l=this.curveMap[a[a.length-1]].timeEnd;if(t<=s)return this.getCurveValue(a[0],s);if(t>=l)return this.getCurveValue(a[a.length-1],l);for(var u=0;u<a.length;u++){var h=this.curveMap[a[u]].timeStart,m=this.curveMap[a[u]].timeEnd;if(t>=Number(h)&&t<Number(m)){r=this.getCurveValue(a[u],t);break}}return r},n.getIntegrateValue=function(t,r,a){a===void 0&&(a=1);var s=(r-t)/a,l=0,u=Object.keys(this.curveMap),h=this.curveMap[u[0]].timeStart;if(s<=h)return 0;for(var m=0;m<u.length;m++){var v=this.curveMap[u[m]].timeStart,p=this.curveMap[u[m]].timeEnd;if(s>=Number(p)&&(l+=a*this.getCurveIntegrateValue(u[m],Number(p))),s>=Number(v)&&s<Number(p)){l+=a*this.getCurveIntegrateValue(u[m],s);break}}return l},n.getIntegrateByTime=function(t,r){return this.getIntegrateValue(0,r)-this.getIntegrateValue(0,t)},n.getCurveIntegrateValue=function(t,r){for(var a=this.curveMap[t],s=a.points,l=s[0],u=a.timeInterval,h=a.valueInterval,m=20,v=0,p=(r-l.x)/m,b=0;b<=m;b++){var x=b*p,P=x/u,B=l.y+h*a.curve.getValue(P);b===0||b===m?v+=B:b%2===1?v+=4*B:v+=2*B}return v*=p/3,v},n.getCurveValue=function(t,r){var a=this.curveMap[t],s=a.points,l=s[0],u=a.timeInterval,h=a.valueInterval,m=(r-l.x)/u,v=a.curve.getValue(m);return l.y+h*v},n.toUniform=function(t){var r=t.index,a=this.keys.length;return t.curves.push(this),t.index=r+a,t.max=Math.max(t.max,a),t.curveCount+=a,new Float32Array([5,r+1/a,r,a])},n.toData=function(){for(var t=this.keys,r=new Float32Array(t.length*4),a=0,s=0;a<t.length;a++,s+=4)r.set(t[a],s);return r},n.getMaxTime=function(){var t=this.keyTimeData;return this.curveMap[t[t.length-1]].timeEnd},o}(ra),rf=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.keys=t[0],this.values=t[1]},n.getValue=function(t){for(var r=this.keys,a=this.values,s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(l[0]<=t&&u[0]>=t){var h=u[1]-l[1],m=void 0;if(h===0)m=(t-l[0])/(u[0]-l[0]);else{var v=of(t,l,u);m=(v-l[1])/h}return this.calculateVec(s,m)}}return t<=r[0][0]?a[0].slice():a[a.length-1].slice()},n.calculateVec=function(t,r){for(var a=this.values[t],s=this.values[t+1],l=[0,0,0],u=0;u<a.length;u++)l[u]=a[u]*(1-r)+s[u]*r;return l},o}(ra),Nu=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){var r=t[0],a=t[1],s=t[2];if(this.curveSegments={},!!s.length){for(var l=0;l<r.length-1;l++){var u=r[l],h=r[l+1],m=new we(a[l][0],a[l][1],a[l][2]),v=new we(a[l+1][0],a[l+1][1],a[l+1][2]),p=new we(s[2*l][0],s[2*l][1],s[2*l][2]),b=new we(s[2*l+1][0],s[2*l+1][1],s[2*l+1][2]),x=Gl(u,h),P=x.points,B=x.curve,D=x.timeInterval,_=x.valueInterval,Y=P[0],k=P[P.length-1],W=new so(m,v,p,b);this.curveSegments[Y.x+"&"+k.x]={points:P,timeInterval:D,valueInterval:_,easingCurve:B,pathCurve:W,timeStart:Number(Y.x),timeEnd:Number(k.x)}}this.keyTimeData=Object.keys(this.curveSegments)}},n.getValue=function(t){var r=ii(t,5),a=0,s=new we,l=this.keyTimeData;if(!l.length)return s;var u=this.curveSegments[l[0]].timeStart,h=this.curveSegments[l[l.length-1]].timeEnd;if(r<=u){var m=this.curveSegments[l[0]].pathCurve;return s=m.getPointInPercent(0),s}if(r>=h){var v=this.curveSegments[l[l.length-1]].pathCurve;return s=v.getPointInPercent(1),s}for(var p=0;p<l.length;p++){var b=this.curveSegments[l[p]].timeStart,x=this.curveSegments[l[p]].timeEnd;if(r>=Number(b)&&r<Number(x)){var P=this.curveSegments[l[p]].pathCurve;a=this.getPercValue(l[p],r),s=P.getPointInPercent(a)}}return s},n.getPercValue=function(t,r){var a=this.curveSegments[t],s=a.points,l=s[0],u=a.timeInterval,h=ii((r-l.x)/u,4),m=a.easingCurve.getValue(h);return oi(m,0,1)},n.getMaxTime=function(){var t=this.keyTimeData;return this.curveSegments[t[t.length-1]].timeEnd},o}(ra),nf=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){var r=t[0],a=t[1],s=t[2];if(this.curveSegments={},!!s.length)for(var l=0;l<r.length-1;l++){var u=r[l],h=r[l+1],m=_t.fromArray(a[l]),v=_t.fromArray(a[l+1]),p=_t.fromArray(s[2*l]),b=_t.fromArray(s[2*l+1]),x=Gl(u,h),P=x.points,B=x.curve,D=x.timeInterval,_=x.valueInterval,Y=P[0],k=P[P.length-1],W=new Ru(m,v,p,b);this.curveSegments[Y.x+"&"+k.x]={points:P,timeInterval:D,valueInterval:_,easingCurve:B,pathCurve:W}}},n.getValue=function(t){var r=0,a=ii(t,5),s=Object.keys(this.curveSegments),l=Number(s[0].split("&")[0]),u=Number(s[s.length-1].split("&")[1]);if(a<=l){var h=this.curveSegments[s[0]].pathCurve;return h.getPointInPercent(0)}if(a>=u){var m=this.curveSegments[s[s.length-1]].pathCurve;return m.getPointInPercent(1)}for(var v=0;v<s.length;v++){var p=s[v].split("&"),b=p[0],x=p[1];if(a>=Number(b)&&a<Number(x)){var P=this.curveSegments[s[v]].pathCurve;return r=this.getPercValue(s[v],a),P.getPointInPercent(r)}}var B=this.curveSegments[s[0]].pathCurve;return B.getPointInPercent(0)},n.getPercValue=function(t,r){var a=this.curveSegments[t],s=a.points,l=s[0],u=a.timeInterval,h=ii((r-l.x)/u,4),m=a.easingCurve.getValue(h);return oi(m,0,1)},n.getMaxTime=function(){var t=Object.keys(this.curveSegments);return Number(t[t.length-1].split("&")[1])},o}(ra);function af(i,o,n,e,t){var r=i-o;return(e+e+(t-e)*r/(n-o))*r/2}function Fs(i,o,n,e,t){var r=i*i,a=r*i,s=o*o,l=s*o;return(2*a*(e-t)+3*r*(o*t-n*e)-l*(2*e+t)+3*s*n*e)/(6*(o-n))}function of(i,o,n){var e=n[ko]-o[ko],t=o[El]*e,r=n[_u]*e,a=(i-o[ko])/e,s=a*a,l=s*a,u=2*l-3*s+1,h=l-2*s+a,m=l-s,v=-2*l+3*s;return u*o[Xl]+h*t+m*r+v*n[Xl]}function Qa(i,o){if(o){var n=o[0],e=o[1];if(n===vt.CURVE){i.curves.push(e);var t=e.length;e[0][0]>0&&t++,e[e.length-1][0]<1&&t++,i.index+=t,i.max=Math.max(i.max,t),i.curveCount+=t}else if(n===vt.LINE){var r=e.length;if(r===2&&e[0][0]===0&&e[1][0]===1)return;e[0][0]>0&&r++,e[e.length-1][0]<1&&r++;var a=Math.ceil(r/2);i.lineSegCount+=a,i.curves.push(e),i.index+=a,i.max=Math.max(i.max,a)}else if(n===vt.BEZIER_CURVE){var s=e.length-1;i.index+=2*s,i.curves.push(e),i.max=Math.max(i.max,2*s),i.curveCount+=2*s}}}function Cs(){return{curves:[],index:0,max:0,lineSegCount:0,curveCount:0}}function Vu(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(Vu=function(){return!!i})()}function Es(i,o,n){return Vu()?Es=Reflect.construct:Es=function(t,r,a){var s=[null];s.push.apply(s,r);var l=Function.bind.apply(t,s),u=new l;return a&&Et(u,a.prototype),u},Es.apply(null,arguments)}var kn=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.value=new Ur,e}var n=o.prototype;return n.onCreate=function(t){this.xCurve=dr(t[0]),this.yCurve=dr(t[1]),this.zCurve=dr(t[2]),this.wCurve=dr(t[3])},n.getValue=function(t){var r=this.xCurve.getValue(t),a=this.yCurve.getValue(t),s=this.zCurve.getValue(t),l=this.wCurve.getValue(t);return this.value.set(r,a,s,l),this.value},o}(ra),Tl=6,wh="PRE_COLOR_0",Ad="PRE_COLOR_SIZE_0",Oh="PRE_MAIN_COLOR_0",sf="PRE_MAIN_COLOR_SIZE_0",bo="editor",el={"Item duration can't be less than 0":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#AOnQS","ValueType: 21/22 is not supported":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#smO1b"},Pa,Ds=(Pa={},Pa[vt.RANDOM]=function(i){return U(i[0],Array)?new tf(i):new yo(i)},Pa[vt.CONSTANT]=function(i){return new Io(i)},Pa[vt.CONSTANT_VEC2]=function(i){return new Io(i)},Pa[vt.CONSTANT_VEC3]=function(i){return new Io(i)},Pa[vt.CONSTANT_VEC4]=function(i){return new Io(i)},Pa[vt.RGBA_COLOR]=function(i){return new Io(i)},Pa[vt.COLORS]=function(i){return new Lu(i.map(function(o){return tt(o,!1)}))},Pa[vt.LINE]=function(i){return i.length===2&&i[0][0]===0&&i[1][0]===1?new _s([i[0][1],i[1][1]]):new Ls(i)},Pa[vt.GRADIENT_COLOR]=function(i){return new Fu(i)},Pa[vt.LINEAR_PATH]=function(i){return new rf(i)},Pa[vt.BEZIER_CURVE]=function(i){return i.length===1?new Io(i[0][1][1]):new Du(i)},Pa[vt.BEZIER_CURVE_PATH]=function(i){return i[0].length===1?new Io(Es(we,[].concat(i[1][0]))):new Nu(i)},Pa[vt.BEZIER_CURVE_QUAT]=function(i){return i[0].length===1?new Io(Es(_t,[].concat(i[1][0]))):new nf(i)},Pa[vt.COLOR_CURVE]=function(i){return new Sl(i)},Pa[vt.VECTOR4_CURVE]=function(i){return new kn(i)},Pa);function dr(i){if(!i||!isNaN(+i))return new Io(i||0);if(U(i,ra))return i;if(xt(Ds[i[0]]))return Ds[i[0]](i[1]);throw new Error("ValueType: "+i[0]+" is not supported, see "+el["ValueType: 21/22 is not supported"]+".")}var Sl=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.value=new Kn,e}var n=o.prototype;return n.onCreate=function(t){this.rCurve=dr(t[0]),this.gCurve=dr(t[1]),this.bCurve=dr(t[2]),this.aCurve=dr(t[3])},n.getValue=function(t){var r=this.rCurve.getValue(t),a=this.gCurve.getValue(t),s=this.bCurve.getValue(t),l=this.aCurve.getValue(t);return this.value.set(r,a,s,l),this.value},o}(ra),Yl=function(i){be(o,i);function o(e){var t;t=i.call(this,e)||this,t.cachePrefix="-",t.color=[1,1,1,1],t.visible=!0,t.isManualTimeSet=!1,t.frameAnimationTime=0,t.getHitTestParams=function(a){var s=t.interaction;if(a||s){var l=t.getBoundingBox();if(l){var u;return{behavior:((u=t.interaction)==null?void 0:u.behavior)||0,type:l.type,triangles:l.area,backfaceCulling:t.renderer.side===sr.FRONT}}}},t.renderer={renderMode:fr.MESH,blending:Yt.ALPHA,texture:t.engine.emptyTexture,occlusion:!1,transparentOcclusion:!1,side:sr.DOUBLE,mask:0,maskMode:lr.NONE,order:0},t.emptyTexture=t.engine.emptyTexture,t.renderInfo=wl(He(t));var r=t.createMaterial(t.renderInfo,2);return t.worldMatrix=Or.fromIdentity(),t.material=r,t.material.setVector4("_Color",new Ur().setFromArray([1,1,1,1])),t.material.setVector4("_TexOffset",new Ur().setFromArray([0,0,1,1])),t}var n=o.prototype;return n.setVisible=function(t){this.visible=t},n.getVisible=function(){return this.visible},n.setColor=function(t){this.color=t,this.material.setVector4("_Color",new Ur().setFromArray(t))},n.setTexture=function(t){this.renderer.texture=t,this.material.setTexture("_MainTex",t)},n.setAnimationTime=function(t){this.frameAnimationTime=t,this.isManualTimeSet=!0},n.render=function(t){if(this.getVisible()){var r=this.material,a=this.geometry;t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.transform.getWorldMatrix()),this.material.setVector2("_Size",this.transform.size),(this.renderer.renderMode===fr.BILLBOARD||this.renderer.renderMode===fr.VERTICAL_BILLBOARD||this.renderer.renderMode===fr.HORIZONTAL_BILLBOARD)&&this.material.setVector3("_Scale",this.transform.scale),t.drawGeometry(a,r)}},n.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},n.onDestroy=function(){this.item&&this.item.composition&&this.item.composition.destroyTextures(this.getTextures())},n.getItemInitData=function(){this.geoData=this.getItemGeometryData();var t=this.geoData,r=t.index,a=t.atlasOffset,s=r.length,l=this.wireframe?new Uint8Array([0,1,1,3,2,3,2,0]):new r.constructor(s);if(!this.wireframe)for(var u=0;u<s;u++)l[u]=0+r[u];return{atlasOffset:a,index:l}},n.setItem=function(){var t=[],r=this.renderer.texture;r&&rt(t,r),r=this.renderer.texture;var a=this.getItemInitData(),s=this.renderer,l=this.material.getVector4("_TexParams");l&&(l.x=s.occlusion?+s.transparentOcclusion:1,l.y=+this.preMultiAlpha,l.z=s.renderMode,l.x===0?this.material.enableMacro("ALPHA_CLIP"):this.material.disableMacro("ALPHA_CLIP"));var u={atlasOffset:new Float32Array(a.atlasOffset.length),index:new Uint16Array(a.index.length)};u.atlasOffset.set(a.atlasOffset),u.index.set(a.index);var h=this,m=h.material,v=h.geometry,p=u.index;v.setIndexData(p),v.setAttributeData("atlasOffset",u.atlasOffset),v.setDrawCount(a.index.length),m.setTexture("_MainTex",r)},n.getItemGeometryData=function(){var t=this.renderer;if(t.shape){for(var r=t.shape,a=r.index,s=a===void 0?[]:a,l=r.aPoint,u=l===void 0?[]:l,h=new Float32Array(u),m=[],v=[],p=0;p<h.length;p+=6)v.push(u[p+2],u[p+3]),m.push(h[p],h[p+1],0);return this.geometry.setAttributeData("aPos",new Float32Array(m)),{index:s,atlasOffset:v}}else return this.geometry.setAttributeData("aPos",new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])),{index:[0,1,2,2,1,3],atlasOffset:[0,1,0,0,1,1,1,0]}},n.createGeometry=function(t){return Cn.create(this.engine,{attributes:{aPos:{type:F.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},atlasOffset:{size:2,offset:0,releasable:!0,type:F.FLOAT,data:new Float32Array(0)}},indices:{data:new Uint16Array(0),releasable:!0},mode:t,maxVertex:4})},n.createMaterial=function(t,r){var a=t.side,s=t.occlusion,l=t.blending,u=t.maskMode,h=t.mask,m={shader:Al(t,r,1)};this.preMultiAlpha=To(l);var v=Bi.create(this.engine,m),p={side:a,blending:!0,blendMode:l,mask:h,maskMode:u,depthTest:!0,depthMask:s};return v.blending=p.blending,v.stencilRef=p.mask!==void 0?[p.mask,p.mask]:void 0,v.depthTest=p.depthTest,v.depthMask=p.depthMask,hs(v,p.blendMode),E(v,p.maskMode),ml(v,p.side),v.shader.shaderData.properties='_MainTex("_MainTex",2D) = "white" {}',v.hasUniform("_Color")||v.setVector4("_Color",new Ur(0,0,0,1)),v.hasUniform("_TexOffset")||v.setVector4("_TexOffset",new Ur),v.hasUniform("_TexParams")||v.setVector4("_TexParams",new Ur),v},n.getTextures=function(){var t=[],r=this.renderer.texture;return r&&t.push(r),t},n.getBoundingBox=function(){if(this.item){var t=this.transform.getWorldMatrix(),r=ta(we.ZERO,.5*this.transform.size.x,.5*this.transform.size.y);return r.forEach(function(a){t.transformPoint(a.p0),t.transformPoint(a.p1),t.transformPoint(a.p2)}),{type:lo.triangle,area:r}}},o}(Zi);function wl(i){var o=i.renderer,n=o.blending,e=o.side,t=o.occlusion,r=o.mask,a=o.maskMode,s=o.order,l=+n,u=i.cachePrefix||"-";return{side:e,occlusion:t,blending:n,mask:r,maskMode:a,cachePrefix:u,cacheId:u+"."+ +e+"+"+ +t+"+"+l+"+"+s+"+"+a+"."+r}}var Kl=function(){},Bu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},jo={exports:{}};(function(i){var o;function n(S,R){return S.b===R.b&&S.a===R.a}function e(S,R){return S.b<R.b||S.b===R.b&&S.a<=R.a}function t(S,R,z){var $=R.b-S.b,ce=z.b-R.b;return 0<$+ce?$<ce?R.a-S.a+$/($+ce)*(S.a-z.a):R.a-z.a+ce/($+ce)*(z.a-S.a):0}function r(S,R,z){var $=R.b-S.b,ce=z.b-R.b;return 0<$+ce?(R.a-z.a)*$+(R.a-S.a)*ce:0}function a(S,R){return S.a<R.a||S.a===R.a&&S.b<=R.b}function s(S,R,z){var $=R.a-S.a,ce=z.a-R.a;return 0<$+ce?$<ce?R.b-S.b+$/($+ce)*(S.b-z.b):R.b-z.b+ce/($+ce)*(z.b-S.b):0}function l(S,R,z){var $=R.a-S.a,ce=z.a-R.a;return 0<$+ce?(R.b-z.b)*$+(R.b-S.b)*ce:0}function u(S){return e(S.b.a,S.a)}function h(S){return e(S.a,S.b.a)}function m(S,R,z,$){return S=0>S?0:S,z=0>z?0:z,S<=z?z===0?(R+$)/2:R+S/(S+z)*($-R):$+z/(S+z)*(R-$)}function v(S){var R=B(S.b);return _(R,S.c),_(R.b,S.c),Y(R,S.a),R}function p(S,R){var z=!1,$=!1;S!==R&&(R.a!==S.a&&($=!0,W(R.a,S.a)),R.d!==S.d&&(z=!0,te(R.d,S.d)),D(R,S),$||(_(R,S.a),S.a.c=S),z||(Y(R,S.d),S.d.a=S))}function b(S){var R=S.b,z=!1;S.d!==S.b.d&&(z=!0,te(S.d,S.b.d)),S.c===S?W(S.a,null):(S.b.d.a=Ri(S),S.a.c=S.c,D(S,Ri(S)),z||Y(S,S.d)),R.c===R?(W(R.a,null),te(R.d,null)):(S.d.a=Ri(R),R.a.c=R.c,D(R,Ri(R))),k(S)}function x(S){var R=B(S),z=R.b;return D(R,S.e),R.a=S.b.a,_(z,R.a),R.d=z.d=S.d,R=R.b,D(S.b,Ri(S.b)),D(S.b,R),S.b.a=R.a,R.b.a.c=R.b,R.b.d=S.b.d,R.f=S.f,R.b.f=S.b.f,R}function P(S,R){var z=!1,$=B(S),ce=$.b;return R.d!==S.d&&(z=!0,te(R.d,S.d)),D($,S.e),D(ce,R),$.a=S.b.a,ce.a=R.a,$.d=ce.d=S.d,S.d.a=ce,z||Y($,S.d),$}function B(S){var R=new Xo,z=new Xo,$=S.b.h;return z.h=$,$.b.h=R,R.h=S,S.b.h=z,R.b=z,R.c=R,R.e=z,z.b=R,z.c=z,z.e=R}function D(S,R){var z=S.c,$=R.c;z.b.e=R,$.b.e=S,S.c=$,R.c=z}function _(S,R){var z=R.f,$=new Gs(R,z);z.e=$,R.f=$,z=$.c=S;do z.a=$,z=z.c;while(z!==S)}function Y(S,R){var z=R.d,$=new ls(R,z);z.b=$,R.d=$,$.a=S,$.c=R.c,z=S;do z.d=$,z=z.e;while(z!==S)}function k(S){var R=S.h;S=S.b.h,R.b.h=S,S.b.h=R}function W(S,R){var z=S.c,$=z;do $.a=R,$=$.c;while($!==z);z=S.f,$=S.e,$.f=z,z.e=$}function te(S,R){var z=S.a,$=z;do $.d=R,$=$.e;while($!==z);z=S.d,$=S.b,$.d=z,z.b=$}function ae(S){var R=0;return Math.abs(S[1])>Math.abs(S[0])&&(R=1),Math.abs(S[2])>Math.abs(S[R])&&(R=2),R}var se=4*1e150;function Qe(S,R){S.f+=R.f,S.b.f+=R.b.f}function Je(S,R,z){return S=S.a,R=R.a,z=z.a,R.b.a===S?z.b.a===S?e(R.a,z.a)?0>=r(z.b.a,R.a,z.a):0<=r(R.b.a,z.a,R.a):0>=r(z.b.a,S,z.a):z.b.a===S?0<=r(R.b.a,S,R.a):(R=t(R.b.a,S,R.a),S=t(z.b.a,S,z.a),R>=S)}function at(S){S.a.i=null;var R=S.e;R.a.c=R.c,R.c.a=R.a,S.e=null}function ut(S,R){b(S.a),S.c=!1,S.a=R,R.i=S}function At(S){var R=S.a.a;do S=Yo(S);while(S.a.a===R);return S.c&&(R=P(Ha(S).a.b,S.a.e),ut(S,R),S=Yo(S)),S}function Gt(S,R,z){var $=new Eh;return $.a=z,$.e=ca(S.f,R.e,$),z.i=$}function Wt(S,R){switch(S.s){case 100130:return(R&1)!==0;case 100131:return R!==0;case 100132:return 0<R;case 100133:return 0>R;case 100134:return 2<=R||-2>=R}return!1}function Qt(S){var R=S.a,z=R.d;z.c=S.d,z.a=R,at(S)}function er(S,R,z){for(S=R,R=R.a;S!==z;){S.c=!1;var $=Ha(S),ce=$.a;if(ce.a!==R.a){if(!$.c){Qt(S);break}ce=P(R.c.b,ce.b),ut($,ce)}R.c!==ce&&(p(Ri(ce),ce),p(R,ce)),Qt(S),R=$.a,S=$}return R}function Dt(S,R,z,$,ce,ot){var mt=!0;do Gt(S,R,z.b),z=z.c;while(z!==$);for(ce===null&&(ce=Ha(R).a.b.c);$=Ha(R),z=$.a.b,z.a===ce.a;)z.c!==ce&&(p(Ri(z),z),p(Ri(ce),z)),$.f=R.f-z.f,$.d=Wt(S,$.f),R.b=!0,!mt&&Gr(S,R)&&(Qe(z,ce),at(R),b(ce)),mt=!1,R=$,ce=z;R.b=!0,ot&&ti(S,R)}function Lr(S,R,z,$,ce){var ot=[R.g[0],R.g[1],R.g[2]];R.d=null,R.d=S.o&&S.o(ot,z,$,S.c)||null,R.d===null&&(ce?S.n||(di(S,100156),S.n=!0):R.d=z[0])}function cr(S,R,z){var $=[null,null,null,null];$[0]=R.a.d,$[1]=z.a.d,Lr(S,R.a,$,[.5,.5,0,0],!1),p(R,z)}function Mr(S,R,z,$,ce){var ot=Math.abs(R.b-S.b)+Math.abs(R.a-S.a),mt=Math.abs(z.b-S.b)+Math.abs(z.a-S.a),Ar=ce+1;$[ce]=.5*mt/(ot+mt),$[Ar]=.5*ot/(ot+mt),S.g[0]+=$[ce]*R.g[0]+$[Ar]*z.g[0],S.g[1]+=$[ce]*R.g[1]+$[Ar]*z.g[1],S.g[2]+=$[ce]*R.g[2]+$[Ar]*z.g[2]}function Gr(S,R){var z=Ha(R),$=R.a,ce=z.a;if(e($.a,ce.a)){if(0<r(ce.b.a,$.a,ce.a))return!1;if(!n($.a,ce.a))x(ce.b),p($,Ri(ce)),R.b=z.b=!0;else if($.a!==ce.a){var z=S.e,ot=$.a.h;if(0<=ot){var z=z.b,mt=z.d,Ar=z.e,Sn=z.c,$n=Sn[ot];mt[$n]=mt[z.a],Sn[mt[$n]]=$n,$n<=--z.a&&(1>=$n||e(Ar[mt[$n>>1]],Ar[mt[$n]])?Qc(z,$n):Sd(z,$n)),Ar[ot]=null,Sn[ot]=z.b,z.b=ot}else for(z.c[-(ot+1)]=null;0<z.a&&z.c[z.d[z.a-1]]===null;)--z.a;cr(S,Ri(ce),$)}}else{if(0>r($.b.a,ce.a,$.a))return!1;Yo(R).b=R.b=!0,x($.b),p(Ri(ce),$)}return!0}function Wr(S,R){var z=Ha(R),$=R.a,ce=z.a,ot=$.a,mt=ce.a,Ar=$.b.a,Sn=ce.b.a,$n=new Gs;if(r(Ar,S.a,ot),r(Sn,S.a,mt),ot===mt||Math.min(ot.a,Ar.a)>Math.max(mt.a,Sn.a))return!1;if(e(ot,mt)){if(0<r(Sn,ot,mt))return!1}else if(0>r(Ar,mt,ot))return!1;var va=Ar,Qi=ot,Ji=Sn,Ga=mt,ci,_a;if(e(va,Qi)||(ci=va,va=Qi,Qi=ci),e(Ji,Ga)||(ci=Ji,Ji=Ga,Ga=ci),e(va,Ji)||(ci=va,va=Ji,Ji=ci,ci=Qi,Qi=Ga,Ga=ci),e(Ji,Qi)?e(Qi,Ga)?(ci=t(va,Ji,Qi),_a=t(Ji,Qi,Ga),0>ci+_a&&(ci=-ci,_a=-_a),$n.b=m(ci,Ji.b,_a,Qi.b)):(ci=r(va,Ji,Qi),_a=-r(va,Ga,Qi),0>ci+_a&&(ci=-ci,_a=-_a),$n.b=m(ci,Ji.b,_a,Ga.b)):$n.b=(Ji.b+Qi.b)/2,a(va,Qi)||(ci=va,va=Qi,Qi=ci),a(Ji,Ga)||(ci=Ji,Ji=Ga,Ga=ci),a(va,Ji)||(ci=va,va=Ji,Ji=ci,ci=Qi,Qi=Ga,Ga=ci),a(Ji,Qi)?a(Qi,Ga)?(ci=s(va,Ji,Qi),_a=s(Ji,Qi,Ga),0>ci+_a&&(ci=-ci,_a=-_a),$n.a=m(ci,Ji.a,_a,Qi.a)):(ci=l(va,Ji,Qi),_a=-l(va,Ga,Qi),0>ci+_a&&(ci=-ci,_a=-_a),$n.a=m(ci,Ji.a,_a,Ga.a)):$n.a=(Ji.a+Qi.a)/2,e($n,S.a)&&($n.b=S.a.b,$n.a=S.a.a),va=e(ot,mt)?ot:mt,e(va,$n)&&($n.b=va.b,$n.a=va.a),n($n,ot)||n($n,mt))return Gr(S,R),!1;if(!n(Ar,S.a)&&0<=r(Ar,S.a,$n)||!n(Sn,S.a)&&0>=r(Sn,S.a,$n)){if(Sn===S.a)return x($.b),p(ce.b,$),R=At(R),$=Ha(R).a,er(S,Ha(R),z),Dt(S,R,Ri($),$,$,!0),!0;if(Ar===S.a){x(ce.b),p($.e,Ri(ce)),ot=z=R,mt=ot.a.b.a;do ot=Yo(ot);while(ot.a.b.a===mt);return R=ot,ot=Ha(R).a.b.c,z.a=Ri(ce),ce=er(S,z,null),Dt(S,R,ce.c,$.b.c,ot,!0),!0}return 0<=r(Ar,S.a,$n)&&(Yo(R).b=R.b=!0,x($.b),$.a.b=S.a.b,$.a.a=S.a.a),0>=r(Sn,S.a,$n)&&(R.b=z.b=!0,x(ce.b),ce.a.b=S.a.b,ce.a.a=S.a.a),!1}return x($.b),x(ce.b),p(Ri(ce),$),$.a.b=$n.b,$.a.a=$n.a,$.a.h=Ja(S.e,$.a),$=$.a,ce=[0,0,0,0],$n=[ot.d,Ar.d,mt.d,Sn.d],$.g[0]=$.g[1]=$.g[2]=0,Mr($,ot,Ar,ce,0),Mr($,mt,Sn,ce,2),Lr(S,$,$n,ce,!0),Yo(R).b=R.b=z.b=!0,!1}function ti(S,R){for(var z=Ha(R);;){for(;z.b;)R=z,z=Ha(z);if(!R.b&&(z=R,R=Yo(R),R===null||!R.b))break;R.b=!1;var $=R.a,ce=z.a,ot;if(ot=$.b.a!==ce.b.a)e:{ot=R;var mt=Ha(ot),Ar=ot.a,Sn=mt.a,$n=void 0;if(e(Ar.b.a,Sn.b.a)){if(0>r(Ar.b.a,Sn.b.a,Ar.a)){ot=!1;break e}Yo(ot).b=ot.b=!0,$n=x(Ar),p(Sn.b,$n),$n.d.c=ot.d}else{if(0<r(Sn.b.a,Ar.b.a,Sn.a)){ot=!1;break e}ot.b=mt.b=!0,$n=x(Sn),p(Ar.e,Sn.b),$n.b.d.c=ot.d}ot=!0}if(ot&&(z.c?(at(z),b(ce),z=Ha(R),ce=z.a):R.c&&(at(R),b($),R=Yo(z),$=R.a)),$.a!==ce.a){if($.b.a===ce.b.a||R.c||z.c||$.b.a!==S.a&&ce.b.a!==S.a)Gr(S,R);else if(Wr(S,R))break}$.a===ce.a&&$.b.a===ce.b.a&&(Qe(ce,$),at(R),b($),R=Yo(z))}}function Kr(S,R){S.a=R;for(var z=R.c;z.i===null;)if(z=z.c,z===R.c){var z=S,$=R,mt=new Eh;mt.a=$.c.b;var ce=z.f,Ar=ce.a;do Ar=Ar.a;while(Ar.b!==null&&!ce.c(ce.b,mt,Ar.b));var ce=Ar.b,ot=Ha(ce),mt=ce.a,Ar=ot.a;if(r(mt.b.a,$,mt.a)===0)mt=ce.a,n(mt.a,$)||n(mt.b.a,$)||(x(mt.b),ce.c&&(b(mt.c),ce.c=!1),p($.c,mt),Kr(z,$));else{var Sn=e(Ar.b.a,mt.b.a)?ce:ot,ot=void 0;ce.d||Sn.c?(Sn===ce?ot=P($.c.b,mt.e):ot=P(Ar.b.c.b,$.c).b,Sn.c?ut(Sn,ot):(mt=z,ce=Gt(z,ce,ot),ce.f=Yo(ce).f+ce.a.f,ce.d=Wt(mt,ce.f)),Kr(z,$)):Dt(z,ce,$.c,$.c,null,!0)}return}if(z=At(z.i),mt=Ha(z),ce=mt.a,mt=er(S,mt,null),mt.c===ce){var ce=mt,mt=ce.c,Ar=Ha(z),ot=z.a,Sn=Ar.a,$n=!1;ot.b.a!==Sn.b.a&&Wr(S,z),n(ot.a,S.a)&&(p(Ri(mt),ot),z=At(z),mt=Ha(z).a,er(S,Ha(z),Ar),$n=!0),n(Sn.a,S.a)&&(p(ce,Ri(Sn)),ce=er(S,Ar,null),$n=!0),$n?Dt(S,z,ce.c,mt,mt,!0):(e(Sn.a,ot.a)?$=Ri(Sn):$=ot,$=P(ce.c.b,$),Dt(S,z,$,$.c,$.c,!1),$.b.i.c=!0,ti(S,z))}else Dt(S,z,mt.c,ce,ce,!0)}function sa(S,R){var z=new Eh,$=v(S.b);$.a.b=se,$.a.a=R,$.b.a.b=-se,$.b.a.a=R,S.a=$.b.a,z.a=$,z.f=0,z.d=!1,z.c=!1,z.h=!0,z.b=!1,$=S.f,$=ca($,$.a,z),z.e=$}function Ra(S){this.a=new Ya,this.b=S,this.c=Je}function ca(S,R,z){do R=R.c;while(R.b!==null&&!S.c(S.b,R.b,z));return S=new Ya(z,R.a,R),R.a.c=S,R.a=S}function Ya(S,R,z){this.b=S||null,this.a=R||this,this.c=z||this}function gn(){this.d=$a,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var $a=0;o=gn.prototype,o.x=function(){ja(this,$a)},o.B=function(S,R){switch(S){case 100142:return;case 100140:switch(R){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=R;return}break;case 100141:this.m=!!R;return;default:di(this,100900);return}di(this,100901)},o.y=function(S){switch(S){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:di(this,100900)}return!1},o.A=function(S,R,z){this.j[0]=S,this.j[1]=R,this.j[2]=z},o.z=function(S,R){var z=R||null;switch(S){case 100100:case 100106:this.h=z;break;case 100104:case 100110:this.l=z;break;case 100101:case 100107:this.k=z;break;case 100102:case 100108:this.i=z;break;case 100103:case 100109:this.p=z;break;case 100105:case 100111:this.o=z;break;case 100112:this.r=z;break;default:di(this,100900)}},o.C=function(S,R){var z=!1,$=[0,0,0];ja(this,2);for(var ce=0;3>ce;++ce){var ot=S[ce];-1e150>ot&&(ot=-1e150,z=!0),1e150<ot&&(ot=1e150,z=!0),$[ce]=ot}z&&di(this,100155),z=this.q,z===null?(z=v(this.b),p(z,z.b)):(x(z),z=z.e),z.a.d=R,z.a.g[0]=$[0],z.a.g[1]=$[1],z.a.g[2]=$[2],z.f=1,z.b.f=-1,this.q=z},o.u=function(S){ja(this,$a),this.d=1,this.b=new Wi,this.c=S},o.t=function(){ja(this,1),this.d=2,this.q=null},o.v=function(){ja(this,2),this.d=1},o.w=function(){ja(this,1),this.d=$a;var S=this.j[0],R=this.j[1],z=this.j[2],$=!1,ce=[S,R,z];if(S===0&&R===0&&z===0){for(var R=[-2*1e150,-2*1e150,-2*1e150],ot=[2*1e150,2*1e150,2*1e150],z=[],mt=[],$=this.b.c,S=$.e;S!==$;S=S.e)for(var Ar=0;3>Ar;++Ar){var Sn=S.g[Ar];Sn<ot[Ar]&&(ot[Ar]=Sn,mt[Ar]=S),Sn>R[Ar]&&(R[Ar]=Sn,z[Ar]=S)}if(S=0,R[1]-ot[1]>R[0]-ot[0]&&(S=1),R[2]-ot[2]>R[S]-ot[S]&&(S=2),ot[S]>=R[S])ce[0]=0,ce[1]=0,ce[2]=1;else{for(R=0,ot=mt[S],z=z[S],mt=[0,0,0],ot=[ot.g[0]-z.g[0],ot.g[1]-z.g[1],ot.g[2]-z.g[2]],Ar=[0,0,0],S=$.e;S!==$;S=S.e)Ar[0]=S.g[0]-z.g[0],Ar[1]=S.g[1]-z.g[1],Ar[2]=S.g[2]-z.g[2],mt[0]=ot[1]*Ar[2]-ot[2]*Ar[1],mt[1]=ot[2]*Ar[0]-ot[0]*Ar[2],mt[2]=ot[0]*Ar[1]-ot[1]*Ar[0],Sn=mt[0]*mt[0]+mt[1]*mt[1]+mt[2]*mt[2],Sn>R&&(R=Sn,ce[0]=mt[0],ce[1]=mt[1],ce[2]=mt[2]);0>=R&&(ce[0]=ce[1]=ce[2]=0,ce[ae(ot)]=1)}$=!0}for(mt=ae(ce),S=this.b.c,R=(mt+1)%3,z=(mt+2)%3,mt=0<ce[mt]?1:-1,ce=S.e;ce!==S;ce=ce.e)ce.b=ce.g[R],ce.a=mt*ce.g[z];if($){for(ce=0,$=this.b.a,S=$.b;S!==$;S=S.b)if(R=S.a,!(0>=R.f))do ce+=(R.a.b-R.b.a.b)*(R.a.a+R.b.a.a),R=R.e;while(R!==S.a);if(0>ce)for(ce=this.b.c,$=ce.e;$!==ce;$=$.e)$.a=-$.a}for(this.n=!1,ce=this.b.b,S=ce.h;S!==ce;S=$)$=S.h,R=S.e,n(S.a,S.b.a)&&S.e.e!==S&&(cr(this,R,S),b(S),S=R,R=S.e),R.e===S&&(R!==S&&((R===$||R===$.b)&&($=$.h),b(R)),(S===$||S===$.b)&&($=$.h),b(S));for(this.e=ce=new Fo,$=this.b.c,S=$.e;S!==$;S=S.e)S.h=Ja(ce,S);for(Ea(ce),this.f=new Ra(this),sa(this,-se),sa(this,se);(ce=ws(this.e))!==null;){for(;;){e:if(S=this.e,S.a===0)$=Ch(S.b);else if($=S.c[S.d[S.a-1]],S.b.a!==0&&(S=Ch(S.b),e(S,$))){$=S;break e}if($===null||!n($,ce))break;$=ws(this.e),cr(this,ce.c,$.c)}Kr(this,ce)}for(this.a=this.f.a.a.b.a.a,ce=0;($=this.f.a.a.b)!==null;)$.h||++ce,at($);for(this.f=null,ce=this.e,ce.b=null,ce.d=null,this.e=ce.c=null,ce=this.b,S=ce.a.b;S!==ce.a;S=$)$=S.b,S=S.a,S.e.e===S&&(Qe(S.c,S),b(S));if(!this.n){if(ce=this.b,this.m)for(S=ce.b.h;S!==ce.b;S=$)$=S.h,S.b.d.c!==S.d.c?S.f=S.d.c?1:-1:b(S);else for(S=ce.a.b;S!==ce.a;S=$)if($=S.b,S.c){for(S=S.a;e(S.b.a,S.a);S=S.c.b);for(;e(S.a,S.b.a);S=S.e);for(R=S.c.b,z=void 0;S.e!==R;)if(e(S.b.a,R.a)){for(;R.e!==S&&(u(R.e)||0>=r(R.a,R.b.a,R.e.b.a));)z=P(R.e,R),R=z.b;R=R.c.b}else{for(;R.e!==S&&(h(S.c.b)||0<=r(S.b.a,S.a,S.c.b.a));)z=P(S,S.c.b),S=z.b;S=S.e}for(;R.e.e!==S;)z=P(R.e,R),R=z.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ce=this.b,$=ce.a.b;$!==ce.a;$=$.b)if($.c){this.h&&this.h(2,this.c),S=$.a;do this.k&&this.k(S.a.d,this.c),S=S.e;while(S!==$.a);this.i&&this.i(this.c)}}else{for(ce=this.b,$=!!this.l,S=!1,R=-1,z=ce.a.d;z!==ce.a;z=z.d)if(z.c){S||(this.h&&this.h(4,this.c),S=!0),mt=z.a;do $&&(ot=mt.b.d.c?0:1,R!==ot&&(R=ot,this.l&&this.l(!!R,this.c))),this.k&&this.k(mt.a.d,this.c),mt=mt.e;while(mt!==z.a)}S&&this.i&&this.i(this.c)}if(this.r){for(ce=this.b,S=ce.a.b;S!==ce.a;S=$)if($=S.b,!S.c){R=S.a,z=R.e,mt=void 0;do mt=z,z=mt.e,mt.d=null,mt.b.d===null&&(mt.c===mt?W(mt.a,null):(mt.a.c=mt.c,D(mt,Ri(mt))),ot=mt.b,ot.c===ot?W(ot.a,null):(ot.a.c=ot.c,D(ot,Ri(ot))),k(mt));while(mt!==R);R=S.d,S=S.b,S.d=R,R.b=S}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function ja(S,R){if(S.d!==R)for(;S.d!==R;)if(S.d<R)switch(S.d){case $a:di(S,100151),S.u(null);break;case 1:di(S,100152),S.t()}else switch(S.d){case 2:di(S,100154),S.v();break;case 1:di(S,100153),S.w()}}function di(S,R){S.p&&S.p(R,S.c)}function ls(S,R){this.b=S||this,this.d=R||this,this.a=null,this.c=!1}function Xo(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ri(S){return S.b.e}function Wi(){this.c=new Gs,this.a=new ls,this.b=new Xo,this.d=new Xo,this.b.b=this.d,this.d.b=this.b}function Gs(S,R){this.e=S||this,this.f=R||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Fo(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Do}function Ea(S){S.d=[];for(var R=0;R<S.a;R++)S.d[R]=R;S.d.sort(function(z){return function($,ce){return e(z[$],z[ce])?1:-1}}(S.c)),S.e=!0,av(S.b)}function Ja(S,R){if(S.e){var z=S.b,$=++z.a;2*$>z.f&&(z.f*=2,z.c=Kc(z.c,z.f+1));var ce;return z.b===0?ce=$:(ce=z.b,z.b=z.c[z.b]),z.e[ce]=R,z.c[ce]=$,z.d[$]=ce,z.h&&Sd(z,$),ce}return z=S.a++,S.c[z]=R,-(z+1)}function ws(S){if(S.a===0)return Td(S.b);var R=S.c[S.d[S.a-1]];if(S.b.a!==0&&e(Ch(S.b),R))return Td(S.b);do--S.a;while(0<S.a&&S.c[S.d[S.a-1]]===null);return R}function Do(){this.d=Kc([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Kc(S,R){for(var z=Array(R),$=0;$<S.length;$++)z[$]=S[$];for(;$<R;$++)z[$]=0;return z}function av(S){for(var R=S.a;1<=R;--R)Qc(S,R);S.h=!0}function Ch(S){return S.e[S.d[1]]}function Td(S){var R=S.d,z=S.e,$=S.c,ce=R[1],ot=z[ce];return 0<S.a&&(R[1]=R[S.a],$[R[1]]=1,z[ce]=null,$[ce]=S.b,S.b=ce,0<--S.a&&Qc(S,1)),ot}function Qc(S,R){for(var z=S.d,$=S.e,ce=S.c,ot=R,mt=z[ot];;){var Ar=ot<<1;Ar<S.a&&e($[z[Ar+1]],$[z[Ar]])&&(Ar+=1);var Sn=z[Ar];if(Ar>S.a||e($[mt],$[Sn])){z[ot]=mt,ce[mt]=ot;break}z[ot]=Sn,ce[Sn]=ot,ot=Ar}}function Sd(S,R){for(var z=S.d,$=S.e,ce=S.c,ot=R,mt=z[ot];;){var Ar=ot>>1,Sn=z[Ar];if(Ar===0||e($[Sn],$[mt])){z[ot]=mt,ce[mt]=ot;break}z[ot]=Sn,ce[Sn]=ot,ot=Ar}}function Eh(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ha(S){return S.e.c.b}function Yo(S){return S.e.a.b}Bu.libtess={GluTesselator:gn,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},gn.prototype.gluDeleteTess=gn.prototype.x,gn.prototype.gluTessProperty=gn.prototype.B,gn.prototype.gluGetTessProperty=gn.prototype.y,gn.prototype.gluTessNormal=gn.prototype.A,gn.prototype.gluTessCallback=gn.prototype.z,gn.prototype.gluTessVertex=gn.prototype.C,gn.prototype.gluTessBeginPolygon=gn.prototype.u,gn.prototype.gluTessBeginContour=gn.prototype.t,gn.prototype.gluTessEndContour=gn.prototype.v,gn.prototype.gluTessEndPolygon=gn.prototype.w,i.exports=Bu.libtess})(jo);var Ns=function(){function o(s,l){l[l.length]=s[0],l[l.length]=s[1]}function n(s){s!==jo.exports.primitiveType.GL_TRIANGLES&&console.info("expected TRIANGLES but got type: "+s)}function e(s){console.error("error callback, error number: "+s)}function t(s,l,u){return[s[0],s[1],s[2]]}function r(s){}var a=new jo.exports.GluTesselator;return a.gluTessCallback(jo.exports.gluEnum.GLU_TESS_VERTEX_DATA,o),a.gluTessCallback(jo.exports.gluEnum.GLU_TESS_BEGIN,n),a.gluTessCallback(jo.exports.gluEnum.GLU_TESS_ERROR,e),a.gluTessCallback(jo.exports.gluEnum.GLU_TESS_COMBINE,t),a.gluTessCallback(jo.exports.gluEnum.GLU_TESS_EDGE_FLAG,r),a}();function zu(i){Ns.gluTessNormal(0,0,1);var o=[];Ns.gluTessBeginPolygon(o);for(var n=0;n<i.length;n++){Ns.gluTessBeginContour();for(var e=i[n],t=0;t<e.length;t+=2){var r=[e[t],e[t+1],0];Ns.gluTessVertex(r,r)}Ns.gluTessEndContour()}return Ns.gluTessEndPolygon(),o}var Uu=function(i){be(o,i);function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a;a=i.call(this)||this,a.points=[],a.closePath=!1;var s=Array.isArray(t[0])?t[0]:t;if(typeof s[0]!="number"){for(var l=[],u=0,h=s.length;u<h;u++)l.push(s[u].x,s[u].y);s=l}return a.points=s,a.closePath=!0,a}var n=o.prototype;return n.clone=function(){var t=this.points.slice(),r=new o(t);return r.closePath=this.closePath,r},n.contains=function(t,r){for(var a=!1,s=this.points.length/2,l=0,u=s-1;l<s;u=l++){var h=this.points[l*2],m=this.points[l*2+1],v=this.points[u*2],p=this.points[u*2+1],b=m>r!=p>r&&t<(v-h)*((r-m)/(p-m))+h;b&&(a=!a)}return a},n.copyFrom=function(t){return this.points=t.points.slice(),this.closePath=t.closePath,this},n.copyTo=function(t){return t.copyFrom(this),t},n.getX=function(){return this.points[this.points.length-2]},n.getY=function(){return this.points[this.points.length-1]},n.build=function(t){for(var r=0;r<this.points.length;r++)t[r]=this.points[r]},n.triangulate=function(t,r,a,s,l){for(var u=zu([t]),h=0;h<u.length;h++)r[a+h]=u[h];for(var m=u.length/2,v=0;v<m;v++)s[l+v]=v},br(o,[{key:"lastX",get:function(){return this.points[this.points.length-2]}},{key:"lastY",get:function(){return this.points[this.points.length-1]}}]),o}(Kl),lf=8,Ol=11920929e-14,ku=1,Mh=.5;function Vs(i,o,n,e,t,r,a,s,l,u){var h=5,m=Math.min(.99,Math.max(0,u!=null?u:Mh)),v=(ku-m)/h;return v*=v,$u(o,n,e,t,r,a,s,l,i,v),i}function $u(i,o,n,e,t,r,a,s,l,u){Ql(i,o,n,e,t,r,a,s,l,u,0),l.push(a,s)}function Ql(i,o,n,e,t,r,a,s,l,u,h){if(!(h>lf)){var m=(i+n)/2,v=(o+e)/2,p=(n+t)/2,b=(e+r)/2,x=(t+a)/2,P=(r+s)/2,B=(m+p)/2,D=(v+b)/2,_=(p+x)/2,Y=(b+P)/2,k=(B+_)/2,W=(D+Y)/2;if(h>0){var te=a-i,ae=s-o,se=Math.abs((n-a)*ae-(e-s)*te),Qe=Math.abs((t-a)*ae-(r-s)*te);if(se>Ol&&Qe>Ol){if((se+Qe)*(se+Qe)<=u*(te*te+ae*ae)){l.push(k,W);return}}else if(se>Ol){if(se*se<=u*(te*te+ae*ae)){l.push(k,W);return}}else if(Qe>Ol){if(Qe*Qe<=u*(te*te+ae*ae)){l.push(k,W);return}}else if(te=k-(i+a)/2,ae=W-(o+s)/2,te*te+ae*ae<=u){l.push(k,W);return}}Ql(i,o,m,v,B,D,k,W,l,u,h+1),Ql(k,W,_,Y,x,P,a,s,l,u,h+1)}}var ju=function(i){be(o,i);function o(e,t,r,a){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0);var s;return s=i.call(this)||this,s.type="ellipse",s.x=e,s.y=t,s.halfWidth=r,s.halfHeight=a,s}var n=o.prototype;return n.clone=function(){return new o(this.x,this.y,this.halfWidth,this.halfHeight)},n.contains=function(t,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;var a=(t-this.x)/this.halfWidth,s=(r-this.y)/this.halfHeight;return a*=a,s*=s,a+s<=1},n.strokeContains=function(t,r,a){var s=this,l=s.halfWidth,u=s.halfHeight;if(l<=0||u<=0)return!1;var h=a/2,m=l-h,v=u-h,p=l+h,b=u+h,x=t-this.x,P=r-this.y,B=x*x/(m*m)+P*P/(v*v),D=x*x/(p*p)+P*P/(b*b);return B>1&&D<=1},n.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this},n.copyTo=function(t){return t.copyFrom(this),t},n.getX=function(){return this.x},n.getY=function(){return this.y},n.build=function(t){var r=this.x,a=this.y,s=this.halfWidth,l=this.halfHeight,u=0,h=0;if(!(s>=0&&l>=0&&u>=0&&h>=0))return t;var m=5,v=Math.ceil(m*Math.sqrt(s+l)),p=v*8+0+0;if(p===0)return t;if(v===0)return t[0]=t[6]=r+u,t[1]=t[3]=a+h,t[2]=t[4]=r-u,t[5]=t[7]=a-h,t;var b=0,x=v*4+0+2,P=x,B=p,D=u+s,_=h,Y=r+D,k=r-D,W=a+_;t[b++]=Y,t[b++]=W,t[--x]=W,t[--x]=k;for(var te=1;te<v;te++){var ae=Math.PI/2*(te/v),se=u+Math.cos(ae)*s,Qe=h+Math.sin(ae)*l,Je=r+se,at=r-se,ut=a+Qe,At=a-Qe;t[b++]=Je,t[b++]=ut,t[--x]=ut,t[--x]=at,t[P++]=at,t[P++]=At,t[--B]=At,t[--B]=Je}D=u,_=h+l,Y=r+D,k=r-D,W=a+_;var Gt=a-_;return t[b++]=Y,t[b++]=W,t[--B]=Gt,t[--B]=Y,t},n.triangulate=function(t,r,a,s,l){if(t.length!==0){for(var u=0,h=0,m=0;m<t.length;m+=2)u+=t[m],h+=t[m+1];u/=t.length/2,h/=t.length/2;var v=a;r[v*2]=u,r[v*2+1]=h;for(var p=v++,b=0;b<t.length;b+=2)r[v*2]=t[b],r[v*2+1]=t[b+1],b>0&&(s[l++]=v,s[l++]=p,s[l++]=v-1),v++;s[l++]=p+1,s[l++]=p,s[l++]=v-1}},o}(Kl),tl;(function(i){i[i.Star=0]="Star",i[i.Polygon=1]="Polygon"})(tl||(tl={}));var uf=function(i){be(o,i);function o(e,t,r,a,s,l){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0);var u;return u=i.call(this)||this,u.pointCount=e,u.outerRadius=t,u.innerRadius=r,u.outerRoundness=a,u.innerRoundness=s,u.starType=l,u.v=[],u.in=[],u.out=[],u}var n=o.prototype;return n.clone=function(){var t=new o(this.pointCount,this.outerRadius,this.innerRadius,this.outerRoundness,this.innerRoundness,this.starType);return t},n.copyFrom=function(t){this.pointCount=t.pointCount,this.outerRadius=t.outerRadius,this.innerRadius=t.innerRadius,this.outerRoundness=t.outerRoundness,this.innerRoundness=t.innerRoundness,this.starType=t.starType},n.copyTo=function(t){t.copyFrom(this)},n.build=function(t){switch(this.starType){case 0:{this.buildStarPath();break}case 1:{this.buildPolygonPath();break}}for(var r=1,a=0;a<this.v.length-2;a+=2)Vs(t,this.v[a],this.v[a+1],this.out[a],this.out[a+1],this.in[a+2],this.in[a+3],this.v[a+2],this.v[a+3],r);var s=this.v.length-1;Vs(t,this.v[s-1],this.v[s],this.out[s-1],this.out[s],this.in[0],this.in[1],this.v[0],this.v[1],r)},n.triangulate=function(t,r,a,s,l){for(var u=zu([t]),h=0;h<u.length;h++)r[a+h]=u[h];for(var m=u.length/2,v=0;v<m;v++)s[l+v]=v},n.buildStarPath=function(){this.v=[],this.in=[],this.out=[];var t=Math.floor(this.pointCount)*2,r=Math.PI*2/t,a=!0,s=this.outerRadius,l=this.innerRadius,u=this.outerRoundness/100,h=this.innerRoundness/100,m=2*Math.PI*s/(t*2),v=2*Math.PI*l/(t*2),p,b,x,P,B=-Math.PI/2,D=1;for(p=0;p<t;p++){b=a?s:l,x=a?u:h,P=a?m:v;var _=b*Math.cos(B),Y=b*Math.sin(B),k=_===0&&Y===0?0:Y/Math.sqrt(_*_+Y*Y),W=_===0&&Y===0?0:-_/Math.sqrt(_*_+Y*Y),te=p*2;this.v[te]=_,this.v[te+1]=Y,this.in[te]=_+k*P*x*D,this.in[te+1]=Y+W*P*x*D,this.out[te]=_-k*P*x*D,this.out[te+1]=Y-W*P*x*D,a=!a,B+=r*D}},n.buildPolygonPath=function(){this.v=[],this.in=[],this.out=[];var t=Math.floor(this.pointCount),r=Math.PI*2/t,a=this.outerRadius,s=this.outerRoundness/100,l=2*Math.PI*a/(t*4),u,h=-Math.PI*.5,m=1;for(u=0;u<t;u++){var v=a*Math.cos(h),p=a*Math.sin(h),b=v===0&&p===0?0:p/Math.sqrt(v*v+p*p),x=v===0&&p===0?0:-v/Math.sqrt(v*v+p*p),P=u*2;this.v[P]=v,this.v[P+1]=p,this.in[P]=v+b*l*s*m,this.in[P+1]=p+x*l*s*m,this.out[P]=v-b*l*s*m,this.out[P+1]=p-x*l*s*m,h+=r*m}},o}(Kl),Hu=function(i){be(o,i);function o(e,t,r,a){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0);var s;return s=i.call(this)||this,s.x=Number(e),s.y=Number(t),s.width=Number(r),s.height=Number(a),s}var n=o.prototype;return n.isEmpty=function(){return this.left===this.right||this.top===this.bottom},n.clone=function(){return new o(this.x,this.y,this.width,this.height)},n.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.copyTo=function(t){return t.copyFrom(this),t},n.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},n.strokeContains=function(t,r,a){var s=this,l=s.width,u=s.height;if(l<=0||u<=0)return!1;var h=this.x,m=this.y,v=h-a/2,p=h+l+a/2,b=m-a/2,x=m+u+a/2,P=h+a/2,B=h+l-a/2,D=m+a/2,_=m+u-a/2;return t>=v&&t<=p&&r>=b&&r<=x&&!(t>P&&t<B&&r>D&&r<_)},n.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},n.fit=function(t){var r=Math.max(this.x,t.x),a=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),l=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(a-r,0),this.y=s,this.height=Math.max(l-s,0),this},n.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var a=Math.ceil((this.x+this.width-r)*t)/t,s=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=a-this.x,this.height=s-this.y,this},n.enlarge=function(t){var r=Math.min(this.x,t.x),a=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),l=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=a-r,this.y=s,this.height=l-s,this},n.getBounds=function(t){return t=t||new o,t.copyFrom(this),t},n.getX=function(){return this.x},n.getY=function(){return this.y},n.build=function(t){var r=this.x,a=this.y,s=this.width,l=this.height;return s>=0&&l>=0&&(t[0]=r,t[1]=a,t[2]=r+s,t[3]=a,t[4]=r+s,t[5]=a+l,t[6]=r,t[7]=a+l),t},n.triangulate=function(t,r,a,s,l){var u=0,h=2;a*=h,r[a+u]=t[0],r[a+u+1]=t[1],u+=h,r[a+u]=t[2],r[a+u+1]=t[3],u+=h,r[a+u]=t[6],r[a+u+1]=t[7],u+=h,r[a+u]=t[4],r[a+u+1]=t[5],u+=h;var m=a/h;s[l++]=m,s[l++]=m+1,s[l++]=m+2,s[l++]=m+1,s[l++]=m+3,s[l++]=m+2},br(o,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new o(0,0,0,0)}}]),o}(Kl),cf=function(){function i(n){this.graphicsPath=n,this.currentPoly=null,this.shapePrimitives=[]}var o=i.prototype;return o.buildPath=function(){this.currentPoly=null,this.shapePrimitives.length=0;for(var e=this.graphicsPath,t=ke(e.instructions),r;!(r=t()).done;){var a=r.value,s=a.action,l=a.data;switch(s){case"bezierCurveTo":{this.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);break}case"moveTo":{this.moveTo(l[0],l[1]);break}case"ellipse":{this.ellipse(l[0],l[1],l[2],l[3],l[4]);break}case"polyStar":{this.polyStar(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);break}case"rect":{this.rect(l[0],l[1],l[2],l[3],l[4]);break}}}this.endPoly()},o.bezierCurveTo=function(e,t,r,a,s,l,u){this.ensurePoly();var h=this.currentPoly;return Vs(h.points,h.lastX,h.lastY,e,t,r,a,s,l,u),this},o.moveTo=function(e,t){return this.startPoly(e,t),this},o.ellipse=function(e,t,r,a,s){return this.drawShape(new ju(e,t,r,a),s),this},o.polyStar=function(e,t,r,a,s,l,u){return this.drawShape(new uf(e,t,r,a,s,l),u),this},o.rect=function(e,t,r,a,s){return this.drawShape(new Hu(e,t,r,a),s),this},o.drawShape=function(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this},o.startPoly=function(e,t){var r=this.currentPoly;return r&&this.endPoly(),r=new Uu,r.points.push(e,t),this.currentPoly=r,this},o.endPoly=function(e){e===void 0&&(e=!1);var t=this.currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this.currentPoly=null,this},o.ensurePoly=function(e){this.currentPoly||(this.currentPoly=new Uu,this.currentPoly.points.push(0,0))},i}(),ff=function(){function i(){this.instructions=[],this.dirty=!1}var o=i.prototype;return o.bezierCurveTo=function(e,t,r,a,s,l,u){return this.instructions.push({action:"bezierCurveTo",data:[e,t,r,a,s,l,u]}),this.dirty=!0,this},o.moveTo=function(e,t){return this.instructions.push({action:"moveTo",data:[e,t]}),this.dirty=!0,this},o.ellipse=function(e,t,r,a,s){return this.instructions.push({action:"ellipse",data:[e,t,r,a,s]}),this.dirty=!0,this},o.rect=function(e,t,r,a,s){return this.instructions.push({action:"rect",data:[e,t,r,a,s]}),this.dirty=!0,this},o.polyStar=function(e,t,r,a,s,l,u){return this.instructions.push({action:"polyStar",data:[e,t,r,a,s,l,u]}),this.dirty=!0,this},o.clear=function(){return this.instructions.length=0,this.dirty=!0,this},br(i,[{key:"shapePath",get:function(){return this._shapePath||(this._shapePath=new cf(this)),this.dirty&&(this.dirty=!1,this._shapePath.buildPath()),this._shapePath}}]),i}(),Jl=function(i){be(o,i);function o(e){var t;if(t=i.call(this,e)||this,t.path=new ff,t.curveValues=[],t.animated=!0,t.vert=`
precision highp float;

attribute vec3 aPos;//x y

uniform mat4 effects_MatrixVP;
uniform mat4 effects_MatrixInvV;
uniform mat4 effects_ObjectToWorld;

void main() {
  vec4 pos = vec4(aPos.xyz, 1.0);
  gl_Position = effects_MatrixVP * effects_ObjectToWorld * pos;
}
`,t.frag=`
precision highp float;

uniform vec4 _Color;

void main() {
  vec4 color = _Color;
  color.rgb *= color.a;
  gl_FragColor = color;
}
`,t.geometry||(t.geometry=Cn.create(e,{attributes:{aPos:{type:F.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},aUV:{type:F.FLOAT,size:2,data:new Float32Array}},mode:F.TRIANGLES,drawCount:4})),!t.material){var r={shader:{vertex:t.vert,fragment:t.frag,glslVersion:qn.GLSL1}};t.material=Bi.create(e,r),t.material.setColor("_Color",new Kn(1,1,1,1)),t.material.depthMask=!1,t.material.depthTest=!0,t.material.blending=!0}return t}var n=o.prototype;return n.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},n.onUpdate=function(t){this.animated&&(this.buildPath(this.data),this.buildGeometryFromPath(this.path.shapePath),this.animated=!1)},n.buildGeometryFromPath=function(t){for(var r=t.shapePrimitives,a=[],s=[],l=ke(r),u;!(u=l()).done;){var h=u.value,m=h.shape,v=[],p=s.length,b=a.length/2;m.build(v),m.triangulate(v,a,b,s,p)}var x=a.length/2,P=this.geometry.getAttributeData("aPos"),B=this.geometry.getAttributeData("aUV"),D=this.geometry.getIndexData();(!P||P.length<x*3)&&(P=new Float32Array(x*3)),(!B||B.length<x*2)&&(B=new Float32Array(x*2)),D||(D=new Uint16Array(s.length));for(var _=0;_<x;_++){var Y=_*3,k=_*2,W=_*2;P[Y]=a[k],P[Y+1]=a[k+1],P[Y+2]=0,B[W]=P[Y],B[W+1]=P[Y+1]}D.set(s),this.geometry.setAttributeData("aPos",P),this.geometry.setAttributeData("aUV",B),this.geometry.setIndexData(D),this.geometry.setDrawCount(s.length)},n.buildPath=function(t){this.path.clear();var r=t;switch(r.type){case Kt.Custom:{var a=r,s=a.points,l=a.easingIns,u=a.easingOuts;this.curveValues=[];for(var h=ke(a.shapes),m;!(m=h()).done;){var v=m.value;this.setFillColor(v.fill);for(var p=v.indexes,b=1;b<p.length;b++){var x=p[b],P=p[b-1];this.curveValues.push({point:s[x.point],controlPoint1:u[P.easingOut],controlPoint2:l[x.easingIn]})}this.curveValues.push({point:s[p[0].point],controlPoint1:u[p[p.length-1].easingOut],controlPoint2:l[p[0].easingIn]})}this.path.moveTo(this.curveValues[this.curveValues.length-1].point.x,this.curveValues[this.curveValues.length-1].point.y);for(var B=ke(this.curveValues),D;!(D=B()).done;){var _=D.value,Y=_.point,k=_.controlPoint1,W=_.controlPoint2;this.path.bezierCurveTo(k.x,k.y,W.x,W.y,Y.x,Y.y,1)}break}case Kt.Ellipse:{var te=r;this.path.ellipse(0,0,te.xRadius,te.yRadius),this.setFillColor(te.fill);break}case Kt.Rectangle:{var ae=r;this.path.rect(-ae.width/2,-ae.height/2,ae.width,ae.height),this.setFillColor(ae.fill);break}case Kt.Star:{var se=r;this.path.polyStar(se.pointCount,se.outerRadius,se.innerRadius,se.outerRoundness,se.innerRoundness,tl.Star),this.setFillColor(se.fill);break}case Kt.Polygon:{var Qe=r;this.path.polyStar(Qe.pointCount,Qe.radius,Qe.radius,Qe.roundness,Qe.roundness,tl.Polygon),this.setFillColor(Qe.fill);break}}},n.setFillColor=function(t){if(t){var r=t.color;this.material.setColor("_Color",new Kn(r.r,r.g,r.b,r.a))}},n.fromData=function(t){i.prototype.fromData.call(this,t),this.data=t;var r=this.material;r.stencilRef=t.renderer.mask!==void 0?[t.renderer.mask,t.renderer.mask]:void 0,E(r,t.renderer.maskMode)},o}(Xi);Jl=re([lt("ShapeComponent")],Jl);var xa=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.loop=!1,e.amountOfMotion=1,e.animationLength=2,e.mode=1,e.startPositionX=0,e.startPositionY=0,e.startPositionZ=0,e.endPositionX=0,e.endPositionY=0,e.endPositionZ=0,e.amplitudeX=0,e.amplitudeY=0,e.amplitudeZ=0,e.phaseX=0,e.phaseY=0,e.phaseZ=0,e}var n=o.prototype;return n.onStart=function(){this.effectComponent=this.item.getComponent(V)},n.onUpdate=function(t){this.updateFake3D()},n.updateFake3D=function(){if(this.effectComponent){var t=this.item.time%this.animationLength/this.animationLength,r=0,a=0,s=0;switch(this.mode){case 0:{var l=Math.PI;r=Math.sin(2*l*(t+this.phaseX))*this.amplitudeX,a=Math.sin(2*l*(t+this.phaseY))*this.amplitudeY,s=Math.sin(2*l*(t+this.phaseZ))*this.amplitudeZ;break}case 1:{var u=t;this.loop&&(u>.5&&(u=1-u),u*=2),r=this.startPositionX*(1-u)+u*this.endPositionX,a=this.startPositionY*(1-u)+u*this.endPositionY,s=this.startPositionZ*(1-u)+u*this.endPositionZ;break}}var h=this.effectComponent.material;h.setFloat("_PosX",r*this.amountOfMotion),h.setFloat("_PosY",a*this.amountOfMotion),h.setFloat("_PosZ",s*this.amountOfMotion)}},o}(Hi);re([Rr()],xa.prototype,"loop",void 0),re([Rr()],xa.prototype,"amountOfMotion",void 0),re([Rr()],xa.prototype,"animationLength",void 0),re([Rr()],xa.prototype,"mode",void 0),re([Rr()],xa.prototype,"startPositionX",void 0),re([Rr()],xa.prototype,"startPositionY",void 0),re([Rr()],xa.prototype,"startPositionZ",void 0),re([Rr()],xa.prototype,"endPositionX",void 0),re([Rr()],xa.prototype,"endPositionY",void 0),re([Rr()],xa.prototype,"endPositionZ",void 0),re([Rr()],xa.prototype,"amplitudeX",void 0),re([Rr()],xa.prototype,"amplitudeY",void 0),re([Rr()],xa.prototype,"amplitudeZ",void 0),re([Rr()],xa.prototype,"phaseX",void 0),re([Rr()],xa.prototype,"phaseY",void 0),re([Rr()],xa.prototype,"phaseZ",void 0),xa=re([lt("Fake3DComponent")],xa);var eo;(function(i){i[i.Circular=0]="Circular",i[i.Linear=1]="Linear"})(eo||(eo={}));var ql=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,t&&r.fromData(t),r}var n=o.prototype;return n.onUpdate=function(){if(this.item.composition&&this.item.transform.getValid()){var t=this.item.composition.camera;t.near=this.options.near,t.far=this.options.far,t.fov=this.options.fov,t.clipMode=this.options.clipMode,t.position=this.transform.getWorldPosition(),t.rotation=this.transform.getWorldRotation()}},n.fromData=function(t){i.prototype.fromData.call(this,t),this.options=t.options},o}(Ta);ql=re([lt(Pt.CameraController)],ql);var Gu=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o}(pr),lo;(function(i){i[i.triangle=1]="triangle",i[i.box=2]="box",i[i.sphere=3]="sphere",i[i.custom=4]="custom"})(lo||(lo={}));var eu="click",hf="touchstart",df="touchmove",Wu="touchend",Zu=function(){function i(n,e){e===void 0&&(e=!1),this.target=n,this.allowPropagation=e,this.enabled=!0,this.handlers={},this.nativeHandlers={}}var o=i.prototype;return o.bindListeners=function(){var e=this,t,r,a,s,l;l=function(b){return b};var u="mousedown",h="mousemove",m="mouseup",v=function(b,x,P,B,D){B===void 0&&(B=0),D===void 0&&(D=0);var _=0,Y=0,k=performance.now();if(!e.target)return $e.error("Trigger TouchEvent after EventSystem is disposed."),{x,y:P,vx:0,vy:Y,dx:B,dy:D,ts:k,width:0,height:0,origin:b};var W=e.target,te=W.width,ae=W.height;if(s){var se=k-s.ts;_=(B-s.dx)/se||0,Y=(D-s.dy)/se||0,s={dx:B,dy:D,ts:k}}return{x,y:P,vx:_,vy:Y,dx:B,dy:D,ts:k,width:te,height:ae,origin:b}};pt()&&(l=function(b){var x=b.touches,P=b.changedTouches;return x[0]||P[0]},u="touchstart",h="touchmove",m="touchend");var p;this.nativeHandlers=(p={},p[u]=function(b){if(e.enabled){var x=l(b),P=Ml(x);t=P.x,r=P.y,s=a={clientX:x.clientX,clientY:x.clientY,ts:performance.now(),x:t,y:r},e.dispatchEvent(hf,v(b,t,r))}},p[h]=function(b){if(a&&e.enabled){var x=Ml(l(b));t=x.x,r=x.y,e.dispatchEvent(df,v(b,t,r,t-a.x,r-a.y))}},p[m]=function(b){if(a&&e.enabled){!e.allowPropagation&&b.cancelable&&(b.preventDefault(),b.stopPropagation());var x=l(b),P=Ml(x),B=Math.abs(a.clientX-x.clientX)+Math.abs(a.clientY-x.clientY);t=P.x,r=P.y,B<4&&e.dispatchEvent(eu,v(b,t,r)),e.dispatchEvent(Wu,v(b,t,r,t-a.x,r-a.y))}a=0},p),Object.keys(this.nativeHandlers).forEach(function(b){var x;(x=e.target)==null||x.addEventListener(String(b),e.nativeHandlers[b])})},o.dispatchEvent=function(e,t){var r=this.handlers[e];r==null||r.forEach(function(a){return a(t)})},o.addEventListener=function(e,t){var r=this.handlers[e];return r||(r=this.handlers[e]=[]),rt(r,t),function(){de(r,t)}},o.removeEventListener=function(e,t){var r=this.handlers[e];r&&de(r,t)},o.dispose=function(){var e=this;this.target&&(this.handlers={},Object.keys(this.nativeHandlers).forEach(function(t){var r;(r=e.target)==null||r.removeEventListener(String(t),e.nativeHandlers[t])}),this.nativeHandlers={},this.target=null)},i}();function Ml(i){var o=i.target,n=i.clientX,e=i.clientY,t=o.getBoundingClientRect(),r=t.left,a=t.top,s=t.width,l=t.height,u=(n-r)/s*2-1,h=1-(e-a)/l*2;return{x:u,y:h}}var Xu=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o}(pr),mf=`
precision highp float;

attribute vec2 aPoint;
uniform vec4 uPos;
uniform vec2 uSize;
uniform vec4 uQuat;
uniform vec4 uColor;
uniform mat4 effects_ObjectToWorld;
uniform mat4 effects_MatrixInvV;
uniform mat4 effects_MatrixVP;
varying vec4 vColor;
#ifdef ENV_EDITOR
  uniform vec4 uEditorTransform;
#endif

vec3 rotateByQuat(vec3 a, vec4 quat){
  vec3 qvec = quat.xyz;
  vec3 uv = cross(qvec, a);
  vec3 uuv = cross(qvec, uv) * 2.;
  return a +(uv * 2. * quat.w + uuv);
}

void main() {
  vec4 _pos = uPos;
  vec3 point = rotateByQuat(vec3(aPoint.xy * uSize, 0.),uQuat);
  vec4 pos = vec4(_pos.xyz, 1.0);
  pos = effects_ObjectToWorld * pos;
  pos.xyz += effects_MatrixInvV[0].xyz * point.x+ effects_MatrixInvV[1].xyz * point.y;
  gl_Position = effects_MatrixVP * pos;
  vColor = uColor;
  #ifdef ENV_EDITOR
    gl_Position = vec4(gl_Position.xy * uEditorTransform.xy + uEditorTransform.zw * gl_Position.w, gl_Position.zw);
  #endif
}
`,Yu=`
precision highp float;

#define fragColor gl_FragColor

varying vec4 vColor;
void main() {
  gl_FragColor = vColor*vColor.a;
}
`,Ku=1,Qu=function(){function i(n,e,t,r){this.transform=t,this.engine=r,this.color=n.options.previewColor;var a=this.createMaterial(e),s=this.createGeometry();this.mesh=this.createMesh(s,a),this.updateMesh()}var o=i.prototype;return o.updateMesh=function(){var e=this.mesh.material,t=e.getVector2("uSize").clone(),r=e.getVector4("uPos").clone(),a=new we,s=new _t,l=this.transform.scale.clone();this.transform.assignWorldTRS(a,s,l),t.x=l.x,t.y=l.y,r.x=a.x,r.y=a.y,r.z=a.z,e.setVector2("uSize",t),e.setVector4("uPos",r),e.setQuaternion("uQuat",s)},o.createMaterial=function(e){var t,r=[["ENV_EDITOR",((t=this.engine.renderer)==null?void 0:t.env)===bo]],a=dr(this.color).getValue(0),s={shader:{vertex:mf,fragment:Yu,glslVersion:qn.GLSL1,cacheId:""+e.cachePrefix+"_effects_interact",macros:r},uniformSemantics:{effects_MatrixVP:"VIEWPROJECTION",effects_MatrixInvV:"VIEWINVERSE",effects_ObjectToWorld:"MODEL",uEditorTransform:"EDITOR_TRANSFORM"}},l=Bi.create(this.engine,s);return l.blending=!0,l.depthTest=!1,l.setVector4("uPos",new Ur(0,0,0,0)),l.setVector2("uSize",new _n(1,1)),l.setVector4("uColor",new Ur(a[0]/255,a[1]/255,a[2]/255,a[3])),l.setQuaternion("uQuat",new _t(0,0,0,0)),l},o.createGeometry=function(){var e=new Uint8Array([0,1,1,2,2,3,3,0]);return Cn.create(this.engine,{attributes:{aPoint:{size:2,offset:0,stride:2*Float32Array.BYTES_PER_ELEMENT,data:new Float32Array([-.5,.5,.5,.5,.5,-.5,-.5,-.5])}},drawCount:e.length,indices:{data:e},mode:F.LINES,maxVertex:4})},o.createMesh=function(e,t){return Mi.create(this.engine,{name:"Interact_preview"+Ku++,priority:0,worldMatrix:Or.fromIdentity(),geometry:e,material:t})},i}(),tu=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.downgrade=.95,e.dragRatio=[1,1],e.dragRange={dxRange:[0,0],dyRange:[0,0]},e.duringPlay=!1,e._interactive=!0,e.getHitTestParams=function(t){if(e.clickable){var r=e.item.props.content.options.behavior,a=e.getBoundingBox();if(a)return{type:a.type,triangles:a.area,behavior:r}}},e}var n=o.prototype;return n.getDragRangeX=function(){return this.dragRange.dxRange},n.setDragRangeX=function(t,r){this.dragRange.dxRange=[t,r]},n.getDragRangeY=function(){return this.dragRange.dyRange},n.setDragRangeY=function(t,r){this.dragRange.dyRange=[t,r]},n.onStart=function(){var t=this.item.props.content.options,r=this.item.engine.renderer.env,a=this.item.composition,s=this.interactData.options,l=s.type,u=s.showPreview;if(l===Br.CLICK&&(this.clickable=!0,u&&r===bo)){var h=a==null?void 0:a.getRendererOptions();h!==void 0&&(this.previewContent=new Qu(this.item.props.content,h,this.transform,this.engine))}t.type===Br.DRAG&&(r!==bo||t.enableInEditor)&&a!=null&&a.event&&this.beginDragTarget(t,a.event),this.previewContent&&(this.previewContent.mesh.item=this.item,this.materials=this.previewContent.mesh.materials),this.item.getHitTestParams=this.getHitTestParams},n.onDisable=function(){i.prototype.onDisable.call(this),this.item&&this.item.composition&&(this.duringPlay&&!this.item.transform.getValid()&&(this.item.composition.removeInteractiveItem(this.item,this.item.props.content.options.type),this.duringPlay=!1),this.clickable=!1,this.endDragTarget())},n.onEnable=function(){i.prototype.onEnable.call(this);var t=this.interactData.options.type;t===Br.CLICK&&(this.clickable=!0)},n.onUpdate=function(t){var r;if(this.duringPlay=!0,this.item.time>0&&this.item.time-t/1e3<=0){var a,s=this.item.props.content.options;(a=this.item.composition)==null||a.addInteractiveItem(this.item,s.type)}(r=this.previewContent)==null||r.updateMesh(),!(!this.dragEvent||!this.bouncingArg)&&(this.bouncingArg.vx*=this.downgrade,this.bouncingArg.vy*=this.downgrade,this.bouncingArg.dy+=this.bouncingArg.vy,this.bouncingArg.dx+=this.bouncingArg.vx,Ju(this.bouncingArg)?(this.dragEvent=null,this.bouncingArg=null):this.handleDragMove(this.dragEvent,this.bouncingArg))},n.render=function(t){this.previewContent&&this.previewContent.mesh.render(t)},n.onDestroy=function(){var t;(t=this.previewContent)==null||t.mesh.dispose()},n.endDragTarget=function(){},n.handleDragMove=function(t,r){if(!(!(t!=null&&t.cameraParam)||!this.canInteract()||!this.item.composition)){var a=t.cameraParam,s=a.position,l=a.fov,u=r.dy,h=r.dx*r.width/r.height,m=s[2],v=Math.tan(l*Math.PI/180/2)*Math.abs(m),p=u*v,b=h*v,x=this.dragRange,P=x.dxRange,B=x.dyRange,D=s[0]-this.dragRatio[0]*b,_=s[1]-this.dragRatio[1]*p,Y=P[0],k=P[1],W=B[0],te=B[1];if(D=oi(D,Y,k),_=oi(_,W,te),D!==Y&&D!==k&&Y!==k){var ae;(ae=r.origin)==null||ae.preventDefault()}if(_!==W&&_!==te&&W!==te){var se;(se=r.origin)==null||se.preventDefault()}this.item.composition.camera.position=new we(D,_,m)}},n.beginDragTarget=function(t,r){var a=this;if(t.target==="camera"){var s,l={touchstart:function(u){var h;if(a.canInteract()){a.dragEvent=null,a.bouncingArg=null;var m=(h=a.item.composition)==null?void 0:h.camera;s={x:u.x,y:u.y,cameraParam:{position:(m==null?void 0:m.position.toArray())||[0,0,8],fov:(m==null?void 0:m.fov)||60}}}},touchmove:function(u){a.handleDragMove(s,u),a.bouncingArg=u},touchend:function(u){if(a.canInteract()){var h=a.bouncingArg;if(!Ju(h,3)&&h){var m=5;h.vx*=m,h.vy*=m,a.dragEvent=A({},s)}s=null}}};Object.keys(l).forEach(function(u){r.addEventListener(u,l[u])}),l.touchmove({dx:0,dy:0,width:1,height:1}),this.item.getComponent(o).endDragTarget=function(){Object.keys(l).forEach(function(u){r.removeEventListener(u,l[u])})}}},n.getBoundingBox=function(){var t=this.transform.getWorldMatrix(),r=ta(we.ZERO,.5*this.transform.size.x,.5*this.transform.size.y);return r.forEach(function(a){t.transformPoint(a.p0),t.transformPoint(a.p1),t.transformPoint(a.p2)}),{type:lo.triangle,area:r}},n.fromData=function(t){if(i.prototype.fromData.call(this,t),this.interactData=t,t.options.type===Br.DRAG){var r=t.options;r.dxRange&&(this.dragRange.dxRange=r.dxRange),r.dyRange&&(this.dragRange.dyRange=r.dyRange)}},n.canInteract=function(){var t;return!!((t=this.item.composition)!=null&&t.interactive)&&this._interactive},br(o,[{key:"interactive",get:function(){return this._interactive},set:function(t){this._interactive=t,t||(this.bouncingArg=null)}}]),o}(Zi);tu=re([lt(Pt.InteractComponent)],tu);function Ju(i,o){var n=1e-5*(o||1);return i&&Math.abs(i.vx||0)<n&&Math.abs(i.vy||0)<n}var vf=function(){function i(){this.triangles=[],this.worldMatrix=new Or}var o=i.prototype;return o.getBoundingBoxData=function(){return this.applyWorldMatrix(this.boundingBoxData.area),this.boundingBoxData},o.getBoundingBox=function(){for(var e=-Number.MAX_VALUE,t=-Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,s=ke(this.boundingBoxData.area),l;!(l=s()).done;){var u=l.value;e=Math.max(u.p0.x,u.p1.x,u.p2.x,e),t=Math.max(u.p0.y,u.p1.y,u.p2.y,t),r=Math.min(u.p0.x,u.p1.x,u.p2.x,r),a=Math.min(u.p0.y,u.p1.y,u.p2.y,a)}var h=[],m=new we(r,t,0),v=new we(e,t,0),p=new we(e,a,0),b=new we(r,a,0);return h.push({p0:m,p1:v,p2:p}),h.push({p0:m,p1:p,p2:b}),this.applyWorldMatrix(h),{type:lo.triangle,area:h}},o.setGeometry=function(e,t){this.geometry!==e&&(this.triangles=this.geometryToTriangles(e),this.geometry=e);for(var r=[],a=ke(this.triangles),s;!(s=a()).done;){var l=s.value;r.push({p0:l.p0,p1:l.p1,p2:l.p2})}t&&this.worldMatrix.copyFrom(t),this.boundingBoxData={type:lo.triangle,area:r}},o.geometryToTriangles=function(e){for(var t,r=(t=e.getIndexData())!=null?t:[],a,s=(a=e.getAttributeData("aPos"))!=null?a:[],l=[],u=0;u<r.length;u+=3){var h=r[u]*3,m=r[u+1]*3,v=r[u+2]*3,p={x:s[h],y:s[h+1],z:s[h+2]},b={x:s[m],y:s[m+1],z:s[m+2]},x={x:s[v],y:s[v+1],z:s[v+2]};l.push({p0:p,p1:b,p2:x})}return l},o.applyWorldMatrix=function(e){var t=this;return e.forEach(function(r){r.p0=t.worldMatrix.transformPoint(r.p0,new we),r.p1=t.worldMatrix.transformPoint(r.p1,new we),r.p2=t.worldMatrix.transformPoint(r.p2,new we)}),e},i}(),Po=8;function rl(i){if(i.maxVertexUniforms>=256)return Po=32;if(i.maxVertexUniforms>=128)return Po=16}function ru(i,o){var n=o!=null?o:{},e=n.env,t=e===void 0?"":e,r=n.wireframe,a=[["ENV_EDITOR",t===bo]],s=r?ba:ds,l=Os;return{fragment:s,vertex:l,glslVersion:i===1?qn.GLSL1:qn.GLSL3,macros:a,shared:!0}}function pf(i,o){return i.cachePrefix+"_effects_sprite_"+o}function Al(i,o,n,e){var t=i.wireframe,r=ru(n,{wireframe:t,env:e});return r.shared=!0,r}function Ah(i){Po=i}var nl={blending:0,cacheId:"-",mask:0,maskMode:0,occlusion:!1,side:0,cachePrefix:"-"},qu=function(i){be(o,i);function o(){var n;return n=i.apply(this,arguments)||this,n.name="sprite",n}return o.precompile=function(e,t,r){var a=t.getShaderLibrary(),s=t.engine.gpuCapability,l=s.level,u=s.detail,h=(r!=null?r:{}).env;return a!=null&&a.shaderResults[pf(nl,2)]||(a==null||a.addShader(Al(nl,2,1,h)),a==null||a.addShader(Al(nl,Po,1,h)),u.writableFragDepth&&(a==null||a.addShader(za(l,!0)))),Promise.resolve()},o}(pr),ec=function(){function i(){this.playableOutputs=[],this.playables=[]}var o=i.prototype;return o.evaluate=function(e){for(var t=ke(this.playableOutputs),r;!(r=t()).done;){var a=r.value;a.context.deltaTime=e}for(var s=ke(this.playableOutputs),l;!(l=s()).done;){var u=l.value;this.prepareFrameWithRoot(u)}for(var h=ke(this.playableOutputs),m;!(m=h()).done;){var v=m.value;this.processFrameWithRoot(v)}},o.addOutput=function(e){this.playableOutputs.push(e)},o.addPlayable=function(e){this.playables.push(e)},o.processFrameWithRoot=function(e){e.sourcePlayable.processFrame(e.context),e.processFrame()},o.prepareFrameWithRoot=function(e){e.prepareFrame(),e.sourcePlayable.prepareFrame(e.context)},o.updatePlayableTime=function(e,t){e.getPlayState()===0&&e.setTime(e.getTime()+t)},i}(),Ro=function(){function i(n,e){this.onPlayablePlayFlag=!0,this.onPlayablePauseFlag=!1,this.duration=0,this.destroyed=!1,this.playState=0,this.time=0,n.addPlayable(this)}var o=i.prototype;return o.play=function(){switch(this.playState){case 0:break;case 1:this.playState=0,this.onPlayablePlayFlag=!0,this.onPlayablePauseFlag=!1;break}},o.pause=function(){switch(this.playState){case 0:this.playState=1,this.onPlayablePauseFlag=!0,this.onPlayablePlayFlag=!1;break}},o.setTime=function(e){this.time=e},o.getTime=function(){return this.time},o.setDuration=function(e){this.duration=e},o.getDuration=function(){return this.duration},o.getPlayState=function(){return this.playState},o.prepareFrame=function(e){},o.processFrame=function(e){},o.onPlayableDestroy=function(){},o.dispose=function(){this.destroyed||(this.onPlayableDestroy(),this.destroyed=!0)},i}(),gf=function(){function i(){this.context={deltaTime:0,output:this}}var o=i.prototype;return o.setSourcePlayable=function(e){this.sourcePlayable=e},o.setUserData=function(e){this.userData=e},o.getUserData=function(){return this.userData},o.prepareFrame=function(){},o.processFrame=function(){},i}(),_o=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o}(In),Il;(function(i){i[i.Playing=0]="Playing",i[i.Paused=1]="Paused"})(Il||(Il={}));var yf=new _t,tc=1,il=function(){function i(n,e){n===void 0&&(n={}),this.taggedProperties={},this.position=new we(0,0,0),this.quat=new _t(0,0,0,1),this.rotation=new Wn(0,0,0),this.scale=new we(1,1,1),this.anchor=new we(0,0,0),this.size=new _n(1,1),this.children=[],this.worldMatrix=Or.fromIdentity(),this.localMatrix=Or.fromIdentity(),this.valid=!0,this.dirtyFlags={localData:!1,localMatrix:!1,worldMatrix:!1,parentMatrix:!1},this.worldTRSCache={position:new we(0,0,0),quat:new _t(0,0,0,1),scale:new we(1,1,1)},this.name="transform_"+tc++,n&&this.setTransform(n),e&&(this.parentTransform=e),n.valid!==void 0&&this.setValid(n.valid)}var o=i.prototype;return o.setPosition=function(e,t,r){(this.position.x!==e||this.position.y!==t||this.position.z!==r)&&(this.position.x=e,this.position.y=t,this.position.z=r,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.translate=function(e,t,r){(e!==0||t!==0||r!==0)&&(this.position.x+=e,this.position.y+=t,this.position.z+=r,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setRotation=function(e,t,r){(this.rotation.x!==e||this.rotation.y!==t||this.rotation.z!==r)&&(this.rotation.x=e,this.rotation.y=t,this.rotation.z=r,this.quat.setFromEuler(this.rotation),this.quat.conjugate(),this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setQuaternion=function(e,t,r,a){(this.quat.x!==e||this.quat.y!==t||this.quat.z!==r||this.quat.w!==a)&&(this.quat.x=e,this.quat.y=t,this.quat.z=r,this.quat.w=a,this.rotation.setFromQuaternion(this.quat),this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setScale=function(e,t,r){(this.scale.x!==e||this.scale.y!==t||this.scale.z!==r)&&(this.scale.x=e,this.scale.y=t,this.scale.z=r,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setSize=function(e,t){(this.size.x!==e||this.size.y!==t)&&(this.size.x=e,this.size.y=t,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.rotateByQuat=function(e){this.quat.multiply(e),this.rotation.setFromQuaternion(this.quat),this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.scaleBy=function(e,t,r){this.scale.x*=e,this.scale.y*=t,this.scale.z*=r,this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.setAnchor=function(e,t){(this.anchor.x!==e||this.anchor.y!==t)&&(this.anchor.x=e,this.anchor.y=t,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setTransform=function(e,t){var r=e.position,a=e.rotation,s=e.scale,l=e.size,u=e.quat,h=e.name,m=e.anchor;if(h&&(this.name=h),r&&(U(r,we)?this.setPosition(r.x,r.y,r.z):this.setPosition(r[0],r[1],r[2])),u)U(u,_t)?this.setQuaternion(u.x,u.y,u.z,u.w):this.setQuaternion(u[0],u[1],u[2],u[3]);else if(a){var v=t?-1:1;U(a,Wn)?this.setRotation(a.x*v,a.y*v,a.z*v):this.setRotation(a[0]*v,a[1]*v,a[2]*v)}s&&(U(s,we)?this.setScale(s.x,s.y,s.z):this.setScale(s[0],s[1],s[2])),l&&this.setSize(l.x,l.y),m&&(U(m,_n)?this.setAnchor(m.x,m.y):this.setAnchor(m[0],m[1]))},o.addChild=function(e){rt(this.children,e)},o.removeChild=function(e){de(this.children,e)},o.getRotation=function(){return i.getRotation(this.quat,new Wn)},o.getQuaternion=function(){return this.quat},o.updateLocalMatrix=function(){this.valid?(this.dirtyFlags.localData&&(this.localMatrix.compose(this.position,this.quat,this.scale,this.anchor),this.dirtyFlags.localMatrix=!0),this.dirtyFlags.localData=!1):this.localMatrix.isIdentity()||(this.localMatrix.identity(),this.dirtyFlags.localMatrix=!0)},o.getMatrix=function(){return this.updateLocalMatrix(),this.localMatrix},o.getParentMatrix=function(){return this.parent&&(this.parentMatrix=this.parent.getWorldMatrix(),this.dirtyFlags.parentMatrix=this.dirtyFlags.parentMatrix||this.parent.dirtyFlags.localMatrix||this.parent.dirtyFlags.worldMatrix),this.parentMatrix},o.getWorldMatrix=function(){var e=this.getMatrix(),t=this.getParentMatrix();return(this.dirtyFlags.localMatrix||this.dirtyFlags.parentMatrix)&&(t?this.worldMatrix.multiplyMatrices(t,e):this.worldMatrix.copyFrom(e),this.dirtyFlags.worldMatrix=!0,this.dirtyFlags.localMatrix=!1,this.dirtyFlags.parentMatrix=!1),this.worldMatrix},o.getWorldScale=function(){var e=this.worldTRSCache;if(this.dirtyFlags.worldMatrix){var t=this.getWorldMatrix();t.decompose(e.position,e.quat,e.scale),this.dirtyFlags.worldMatrix=!1}return this.worldTRSCache.scale.clone()},o.getWorldPosition=function(){return this.updateTRSCache(),this.worldTRSCache.position.clone()},o.getWorldRotation=function(){return this.updateTRSCache(),i.getRotation(this.worldTRSCache.quat,new Wn)},o.assignWorldTRS=function(e,t,r){this.updateTRSCache(),e&&e.copyFrom(this.worldTRSCache.position),t&&t.copyFrom(this.worldTRSCache.quat),r&&r.copyFrom(this.worldTRSCache.scale)},o.cloneFromMatrix=function(e,t){e.decompose(this.position,this.quat,this.scale),t&&t.copyFrom(this.scale),this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.setValid=function(e){this.valid!==e&&(this.valid=e,e?this.dirtyFlags.localData=!0:(this.localMatrix.identity(),this.dirtyFlags.localMatrix=!0),this.dispatchValueChange())},o.getValid=function(){return this.valid},o.toData=function(){var e=this.taggedProperties;return e.position=this.position.clone(),e.eulerHint={x:this.rotation.x,y:this.rotation.y,z:this.rotation.z},e.scale=this.scale.clone(),e},o.fromData=function(e){var t={position:new we().copyFrom(e.position),rotation:new Wn(e.eulerHint.x,e.eulerHint.y,e.eulerHint.z),scale:new we().copyFrom(e.scale)};this.setTransform(t)},o.dispose=function(){},o.updateTRSCache=function(){var e=this.getWorldMatrix();if(this.dirtyFlags.worldMatrix){var t=this.worldTRSCache;e.decompose(t.position,t.quat,t.scale),this.dirtyFlags.worldMatrix=!1}},o.dispatchValueChange=function(){this.children.forEach(function(e){e.parentMatrixDirty=!0})},i.getRotation=function(e,t){var r=yf.copyFrom(e);return r.conjugate(),t.setFromQuaternion(r)},br(i,[{key:"parentTransform",get:function(){return this.parent},set:function(e){!e||this.parent===e||this===e||(this.parent&&this.parent.removeChild(this),e.addChild(this),this.parent=e,this.parentMatrixDirty=!0)}},{key:"parentMatrixDirty",get:function(){return this.dirtyFlags.parentMatrix},set:function(e){this.dirtyFlags.parentMatrix!==e&&(this.dirtyFlags.parentMatrix=e,this.dispatchValueChange())}}]),i}(),nu=function(){var o=this,n=this;this.listeners={},this.off=function(e,t){o.listeners[e]&&(o.listeners[e]=o.listeners[e].filter(function(r){var a=r.listener;return a!==t}))},this.on=function(e,t,r){return o.listeners[e]=o.listeners[e]||[],o.listeners[e].push({listener:t,options:r}),function(){return o.off(e,t)}},this.once=function(e,t){o.on(e,t,{once:!0})},this.emit=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s;(s=n.listeners[e])==null||s.forEach(function(l){var u=l.listener,h=l.options;u.apply(void 0,[].concat(r)),h!=null&&h.once&&n.off(e,u)})},this.getListeners=function(e){var t;return((t=o.listeners[e])==null?void 0:t.map(function(r){var a=r.listener;return a}))||[]}},Pi=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.children=[],r.transform=new il,r.time=0,r.duration=0,r.start=0,r.endBehavior=Te.forward,r.type=Ue.base,r.isDuringPlay=!1,r.components=[],r.rendererComponents=[],r.active=!0,r.visible=!0,r.speed=1,r.listIndex=0,r.isEnabled=!1,r.eventProcessor=new nu,r.name="VFXItem",r.transform.name=r.name,r.transform.engine=e,t&&r.fromData(t),r}var n=o.prototype;return n.on=function(t,r,a){this.eventProcessor.on(t,r,a)},n.off=function(t,r){this.eventProcessor.off(t,r)},n.once=function(t,r){this.eventProcessor.once(t,r)},n.emit=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var l;(l=this.eventProcessor).emit.apply(l,[].concat([t],a))},n.getListeners=function(t){return this.eventProcessor.getListeners(t)},n.setSpeed=function(t){this.speed=t},n.getSpeed=function(){return this.speed},n.addComponent=function(t){var r=new t(this.engine);return this.components.push(r),r.setVFXItem(this),r},n.getComponent=function(t){for(var r,a=ke(this.components),s;!(s=a()).done;){var l=s.value;if(U(l,t)){r=l;break}}return r},n.getComponents=function(t){for(var r=[],a=ke(this.components),s;!(s=a()).done;){var l=s.value;U(l,t)&&r.push(l)}return r},n.setParent=function(t){t===this&&!t||(this.parent&&de(this.parent.children,this),this.parent=t,o.isCamera(this)||(this.transform.parentTransform=t.transform),t.children.push(this),this.composition||(this.composition=t.composition),!this.isDuringPlay&&t.isDuringPlay&&this.beginPlay())},n.setColor=function(t,r,a,s){},n.setOpacity=function(t){},n.setActive=function(t){this.active!==t&&(this.active=!!t,this.onActiveChanged())},n.setVisible=function(t){for(var r=ke(this.components),a;!(a=r()).done;){var s=a.value;s.enabled=t}this.visible=t},n.getVisible=function(){return this.visible},n.getWorldTransform=function(t){var r=t!=null?t:new il({valid:!0});return r.cloneFromMatrix(this.transform.getWorldMatrix()),r},n.translate=function(t,r,a){this.transform.translate(t,r,a)},n.rotate=function(t,r,a){var s=new Wn(t,r,a),l=_t.fromEuler(s);l.conjugate(),this.transform.rotateByQuat(l)},n.scale=function(t,r,a){this.transform.scaleBy(t,r,a)},n.setPositionByPixel=function(t,r){if(this.composition){var a=this.transform.getWorldPosition().z,s=this.composition.camera.getInverseVPRatio(a),l=s.x,u=s.y,h=this.composition.renderer.getWidth()/2,m=this.composition.renderer.getHeight()/2;this.transform.setPosition((2*t/h-1)*l,(1-2*r/m)*u,a)}},n.setPosition=function(t,r,a){this.transform.setPosition(t,r,a)},n.setRotation=function(t,r,a){this.transform.setRotation(t,r,a)},n.setScale=function(t,r,a){this.transform.setScale(t,r,a)},n.getBoundingBox=function(){},n.getHitTestParams=function(t){},n.getCurrentPosition=function(){var t=new we;return this.transform.assignWorldTRS(t),t},n.find=function(t){var r;if(this.name===t)return this;var a=[];(r=a).push.apply(r,[].concat(this.children));for(var s=0;s<a.length;){var l,u=a[s];if(s++,u.name===t)return u;(l=a).push.apply(l,[].concat(u.children))}},n.beginPlay=function(){this.isDuringPlay=!0,this.composition&&this.active&&!this.isEnabled&&this.onEnable();for(var t=ke(this.children),r;!(r=t()).done;){var a=r.value;a.isDuringPlay||a.beginPlay()}},n.onActiveChanged=function(){this.isEnabled?this.onDisable():this.onEnable()},n.onEnable=function(){this.isEnabled=!0;for(var t=ke(this.components),r;!(r=t()).done;){var a=r.value;a.enabled&&!a.isStartCalled&&(a.onStart(),a.isStartCalled=!0)}for(var s=ke(this.components),l;!(l=s()).done;){var u=l.value;u.enabled&&!u.isEnableCalled&&u.enable()}},n.onDisable=function(){this.isEnabled=!1;for(var t=ke(this.components),r;!(r=t()).done;){var a=r.value;a.enabled&&a.isEnableCalled&&a.disable()}},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t.id,a=t.name,s=t.delay,l=t.parentId,u=t.endBehavior,h=t.transform,m=t.duration,v=m===void 0?0:m;if(this.props=t,this.type=t.type,this.id=r.toString(),this.name=a,this.start=s||this.start,h){if(h.position=new we().copyFrom(h.position),h.quat)h.quat=new _t(h.quat.x,h.quat.y,h.quat.z,h.quat.w);else{var p;h.rotation=new Wn().copyFrom((p=h.eulerHint)!=null?p:h.rotation)}h.scale=new we().copyFrom(h.scale),h.size&&(h.size=new _n().copyFrom(h.size)),h.anchor&&(h.anchor=new _n().copyFrom(h.anchor)),this.transform.setTransform(h)}if(this.transform.name=this.name,this.transform.engine=this.engine,this.parentId=l,this.duration=v,this.endBehavior=u,t.content||(t.content={options:{}}),v<0)throw new Error("Item duration can't be less than 0, see "+el["Item duration can't be less than 0"]+".");this.rendererComponents.length=0;for(var b=ke(this.components),x;!(x=b()).done;){var P=x.value;P.item=this,U(P,Zi)&&this.rendererComponents.push(P),U(P,as)&&(this.components.includes(P.renderer)||this.components.push(P.renderer),this.rendererComponents.push(P.renderer))}},n.toData=function(){var t;if(this.taggedProperties.id=this.guid,this.taggedProperties.transform=this.transform.toData(),this.taggedProperties.dataType=Pt.VFXItemData,((t=this.parent)==null?void 0:t.name)!=="rootItem"){var r;this.taggedProperties.parentId=(r=this.parent)==null?void 0:r.guid}if(!this.taggedProperties.components){this.taggedProperties.components=[];for(var a=ke(this.components),s;!(s=a()).done;){var l=s.value;U(l,V)&&this.taggedProperties.components.push(l)}}this.taggedProperties.content={}},n.translateByPixel=function(t,r){if(this.composition){var a=this.composition.renderer.canvas.getBoundingClientRect(),s=a.width,l=a.height,u=this.transform.getWorldPosition().z,h=this.composition.camera.getInverseVPRatio(u),m=h.x,v=h.y;this.transform.translate(2*t*m/s,-2*r*v/l,0)}},n.dispose=function(){if(this.resetChildrenParent(),this.composition){this.composition.destroyItem(this);for(var t=ke(this.components.slice()),r;!(r=t()).done;){var a=r.value;a.dispose()}this.components=[],this._content=void 0,this.composition=null,this.transform.setValid(!1)}},n.resetChildrenParent=function(){for(var t=ke(this.children),r;!(r=t()).done;){var a=r.value;this.parent&&a.setParent(this.parent)}if(this.parent){var s;de((s=this.parent)==null?void 0:s.children,this)}},o.isComposition=function(t){return t.type===Ue.composition},o.isSprite=function(t){return t.type===Ue.sprite},o.isParticle=function(t){return t.type===Ue.particle},o.isNull=function(t){return t.type===Ue.null},o.isTree=function(t){return t.type===Ue.tree},o.isCamera=function(t){return t.type===Ue.camera},o.isAncestor=function(t,r){for(var a=r.parent;a;){if(a===t)return!0;a=a.parent}return!1},br(o,[{key:"content",get:function(){return this._content}},{key:"compositionReusable",get:function(){var t,r;return(r=(t=this.composition)==null?void 0:t.reusable)!=null?r:!1}},{key:"renderOrder",get:function(){return this.listIndex},set:function(t){if(this.listIndex!==t){this.listIndex=t;for(var r=ke(this.rendererComponents),a;!(a=r()).done;){var s=a.value;s.priority=t}}}},{key:"isActive",get:function(){return this.active}},{key:"isVisible",get:function(){return this.visible}}]),o}(In);re([Rr()],Pi.prototype,"components",void 0),Pi=re([lt(Pt.VFXItemData)],Pi);var iu;(function(i){function o(r,a){return r.type===a}i.is=o;function n(r){return r.type===Ue.composition}i.isComposition=n;function e(r){return r.type===Ue.particle}i.isParticle=e;function t(r){return r.type===Ue.null}i.isNull=t})(iu||(iu={}));var bf=[1,1,1,1],xf=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.renderColor=[1,1,1,1],e}var n=o.prototype;return n.processFrame=function(t){var r,a=t.output.getUserData();if(U(a,Pi)){if(this.activeComponent||(this.activeComponent=this.getActiveComponent(a)),!this.activeMaterial){var s,l;this.activeMaterial=(s=this.activeComponent)==null?void 0:s.material;var u=(l=this.activeMaterial)==null?void 0:l.getVector4("_Color");u&&(this.startColor=u.toArray())}(r=this.activeComponent)==null||r.setAnimationTime(this.time);var h=gl(bf,1),m,v=this.time/a.duration,p=this.opacityOverLifetime,b=this.colorOverLifetime;if(b&&(h=et(b,v,!0),m=!0),p&&(h[3]*=p.getValue(v),m=!0),m){var x,P;Js(this.renderColor,h,this.startColor),(P=this.activeMaterial)==null||(x=P.getVector4("_Color"))==null||x.setFromArray(this.renderColor)}}},n.create=function(t){this.clipData=t;var r=t.colorOverLifetime;if(r){var a;this.opacityOverLifetime=dr((a=r.opacity)!=null?a:1),r.color&&r.color[0]===vt.GRADIENT_COLOR&&(this.colorOverLifetime=Xe(r.color[1]))}return this},n.getActiveComponent=function(t){return t.getComponent(Yl)},o}(Ro),rc=[[0,0,1,1,void 0]],nc=0,au=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new xf(t);return r.create(this.data),r},n.fromData=function(t){this.data=t},o}(_o);au=re([lt(Pt.SpriteColorPlayableAsset)],au);var ic=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.splits=rc,r.frameAnimationLoop=!1,r.name="MSprite"+nc++,r.geometry=r.createGeometry(F.TRIANGLES),r.setItem(),t&&r.fromData(t),r}var n=o.prototype;return n.onUpdate=function(t){var r=this;this.isManualTimeSet||(this.frameAnimationTime+=t/1e3,this.isManualTimeSet=!1);var a=this.frameAnimationTime,s=this.item.duration;a>s&&this.frameAnimationLoop&&(a=a%s);var l=Math.min(Math.max(a/s,0),1),u=this.textureSheetAnimation,h=this.renderer.texture.source.video;if(h&&(a===0?h.pause():h.play().catch(function(se){r.engine.renderErrors.add(se)})),u){var m,v=u.total||u.row*u.col,p=0,b=0,x=1,P=1,B;if(this.splits){var D=this.splits[0];B=D[4],p=D[0],b=D[1],B?(x=D[3],P=D[2]):(x=D[2],P=D[3])}var _,Y;B?(_=1/u.row*x,Y=1/u.col*P):(_=1/u.col*x,Y=1/u.row*P);var k;if(u.animate){var W=Math.round(l*(v-1)),te=Math.floor(W/u.col),ae=W-te*u.col;k=B?[_*te,Y*(u.col-ae)]:[_*ae,Y*(1+te)]}else k=[0,Y];(m=this.material.getVector4("_TexOffset"))==null||m.setFromArray([p+k[0],P+b-k[1],_,Y])}},n.onDestroy=function(){var t=this.getTextures();this.item&&this.item.composition&&this.item.composition.destroyTextures(t),t.forEach(function(r){var a=r.source;a.sourceType===G.video&&(a!=null&&a.video)&&(a.video.pause(),a.video.src="",a.video.load())})},n.createGeometry=function(t){var r=12*this.splits.length;return Cn.create(this.engine,{attributes:{aPos:{type:F.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},atlasOffset:{size:2,offset:0,releasable:!0,type:F.FLOAT,data:new Float32Array(0)}},indices:{data:new Uint16Array(0),releasable:!0},mode:t,maxVertex:r})},n.getItemGeometryData=function(){var t=this,r=t.splits,a=t.textureSheetAnimation,s=1,l=1,u=this.renderer;if(u.shape){for(var h=u.shape,m=h.index,v=m===void 0?[]:m,p=h.aPoint,b=p===void 0?[]:p,x=new Float32Array(b),P=[],B=[],D=0;D<x.length;D+=6)x[D]*=s,x[D+1]*=l,B.push(b[D+2],b[D+3]),P.push(x[D],x[D+1],0);return this.geometry.setAttributeData("aPos",new Float32Array(P)),{index:v,atlasOffset:B}}var _=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],Y=[],k=[],W=2,te=2;r.length===1&&(W=1,te=1);for(var ae=[],se=0;se<W;se++)for(var Qe=0;Qe<te;Qe++){var Je=(Qe*2+se)*4,at=a?[0,0,1,1,r[0][4]]:r[Qe*2+se],ut=at[4]?[0,0,1,0,0,1,1,1]:[0,1,0,0,1,1,1,0],At=((se+se+1)/W-1)/2,Gt=((Qe+Qe+1)/te-1)/2,Wt=at[0],Qt=at[1],er=at[4]?at[3]:at[2],Dt=at[4]?at[2]:at[3],Lr=[_[0]/W+At,_[1]/te+Gt,_[2]/W+At,_[3]/te+Gt,_[4]/W+At,_[5]/te+Gt,_[6]/W+At,_[7]/te+Gt];Y.push(ut[0]*er+Wt,ut[1]*Dt+Qt,ut[2]*er+Wt,ut[3]*Dt+Qt,ut[4]*er+Wt,ut[5]*Dt+Qt,ut[6]*er+Wt,ut[7]*Dt+Qt),ae.push(Lr[0]*s,Lr[1]*l,0,Lr[2]*s,Lr[3]*l,0,Lr[4]*s,Lr[5]*l,0,Lr[6]*s,Lr[7]*l,0),k.push(Je,1+Je,2+Je,2+Je,1+Je,3+Je)}return this.geometry.setAttributeData("aPos",new Float32Array(ae)),{index:k,atlasOffset:Y}},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t.interaction,a=t.options,s=t.listIndex,l=s===void 0?0:s,u=t.renderer;u||(u={}),this.interaction=r;var h,m,v,p,b,x;this.renderer={renderMode:(h=u.renderMode)!=null?h:fr.MESH,blending:(m=u.blending)!=null?m:Yt.ALPHA,texture:(v=u.texture)!=null?v:this.engine.emptyTexture,occlusion:!!u.occlusion,transparentOcclusion:!!u.transparentOcclusion||u.maskMode===lr.MASK,side:(p=u.side)!=null?p:sr.DOUBLE,shape:u.shape,mask:(b=u.mask)!=null?b:0,maskMode:(x=u.maskMode)!=null?x:lr.NONE,order:l},this.emptyTexture=this.engine.emptyTexture,this.splits=t.splits||rc,this.textureSheetAnimation=t.textureSheetAnimation,this.cachePrefix="-",this.renderInfo=wl(this);var P=this.createGeometry(F.TRIANGLES),B=this.createMaterial(this.renderInfo,2);this.worldMatrix=Or.fromIdentity(),this.material=B,this.geometry=P;var D=a.startColor||[1,1,1,1];this.material.setVector4("_Color",new Ur().setFromArray(D)),this.material.setVector4("_TexOffset",new Ur().setFromArray([0,0,1,1])),this.setItem()},o}(Yl);ic=re([lt(Pt.SpriteComponent)],ic);var Ih="runtime_env",ac="lookup_texture",oc="offscreen_canvas",Cf="post_process_settings",ou={};function su(i){return ou[i]}function Ef(i,o){return ou[i]=o}var Tf=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.generate=function(e){var t=Bs(this.arc,this.arcMode,e),r=t*ai,a=Math.cos(r)*this.radius,s=Math.sin(r)*this.radius,l=new we(a,s,0),u=Math.tan(this.angle*ai),h=l.clone().multiply(u);return h.z+=1,{position:l.multiply(ht(0,1)),direction:h.normalize()}},i}();function Bs(i,o,n){if(o===it.RANDOM)i=ht(0,i);else if(o===it.UNIDIRECTIONAL_CYCLE){var e=n.index%(n.total+1);i=i/n.total*e}else if(o===it.BIDIRECTIONAL_CYCLE){var t=n.index/(n.total+1),r=t-Math.floor(t);i=i*(Math.floor(t)%2?1-r:r)}else o===it.UNIFORM_BURST&&(i=i*n.burstIndex/n.burstCount);return i}var lu=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.generate=function(e){var t=Bs(this.arc,this.arcMode,e)*ai,r=new we(Math.cos(t),Math.sin(t),0),a=this.radius;return{direction:r,position:r.clone().multiply(a)}},i}(),sc=function(){function i(n){this._d=(n.width||1)/2,this._h=(n.height||1)/2}var o=i.prototype;return o.generate=function(e){var t=ht(-this._d,this._d),r=ht(-this._h,this._h);return{direction:new we(0,0,1),position:new we(t,r,0)}},i}(),Sf=function(){function i(n){this._d=(n.width||1)/2,this._h=(n.height||1)/2,this.arcMode=n.arcMode,this.arc=n.arc}var o=i.prototype;return o.generate=function(e){var t=Bs(this.arc,this.arcMode,e)*ai,r=new we(Math.cos(t),Math.sin(t),0),a=this._d,s=this._h,l=Math.atan2(s,a),u=Math.tan(t),h=new we;return t<l?h.set(a,a*u,0):t>=l&&t<Math.PI-l?h.set(s/u,s,0):t<Math.PI+l?h.set(-a,-a*u,0):t<Math.PI*2-l?h.set(-s/u,-s,0):h.set(a,a*u,0),{direction:r,position:h}},i}(),lc=function(){function i(n){this._d=n.width||1,this.arcMode=n.arcMode}var o=i.prototype;return o.generate=function(e){var t=this.arcMode===it.UNIFORM_BURST?e.burstIndex%e.burstCount/(e.burstCount-1):ht(0,1);return{direction:new we(0,1,0),position:new we(this._d*(t-.5),0,0)}},i}(),wf=new Or,Of=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.generate=function(e){var t=this.donutRadius,r=this.radius-t,a=ht(0,Math.PI*2),s=Bs(this.arc,this.arcMode,e)*ai,l=wf.setFromRotationZ(s),u=new we(Math.cos(a),Math.sin(a),0),h=new we(r+Math.cos(a)*t,0,Math.sin(a)*t);return{direction:l.transformNormal(u),position:l.transformPoint(h)}},i}(),uc=new Or,cc=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.getHorizontalAngle=function(){return ht(-90,90)},o.generate=function(e){var t=Bs(this.arc,this.arcMode,e)*ai,r=this.getHorizontalAngle()*ai,a=this.radius,s=new we(Math.cos(r),0,Math.sin(r)),l=uc.setFromRotationZ(t),u=l.transformNormal(s);return{position:u.clone().multiply(a),direction:u}},i}(),uu=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.getHorizontalAngle=function(){return ht(0,90)},o}(cc),cu=function(){function i(n){var e=n.detail||{anchors:[.5,.5],block:[0,0]};this.anchors=new Float32Array(e.anchors),this.width=n.width||1,this.height=n.height||1,this.block=e.block,this.arcMode=n.arcMode,this.random=oi(n.random||0,0,1)}var o=i.prototype;return o.generate=function(e){var t=this.anchors,r=t.length/2-1,a=Math.floor(Bs(r,this.arcMode,e)),s=(t[a*2]+this.block[0]*this.random*Math.random())%1-.5,l=(t[a*2+1]+this.block[1]*this.random*Math.random())%1-.5,u=new we(s,l,0);return{position:new we(s*this.width,l*this.height,0),direction:u.normalize()}},i}(),fc=function(){function i(){}var o=i.prototype;return o.generate=function(){return{position:new we,direction:new we}},i}(),uo,Mf=(uo={},uo[nr.NONE]=fc,uo[nr.CONE]=Tf,uo[nr.SPHERE]=cc,uo[nr.HEMISPHERE]=uu,uo[nr.CIRCLE]=lu,uo[nr.DONUT]=Of,uo[nr.RECTANGLE]=sc,uo[nr.EDGE]=lc,uo[nr.RECTANGLE_EDGE]=Sf,uo[nr.TEXTURE]=cu,uo);function Af(i){if(!i)return new fc;var o=A({radius:1,arc:360,angle:0,arcMode:it.RANDOM},i),n=i.type,e=Mf[n];if(!e)throw new Error("Invalid shape: "+n+".");var t=new e(o);if(n!==nr.NONE){var r=i.alignSpeedDirection,a=i.upDirection,s=a===void 0?[0,0,1]:a;t.alignSpeedDirection=r,t.upDirection=we.fromArray(s).normalize()}return t}function hc(i,o,n,e,t){var r,a;if(t===Ff(i,o,n,e)>0)for(r=o;r<n;r+=e)a=Cc(r,i[r],i[r+1],a);else for(r=n-e;r>=o;r-=e)a=Cc(r,i[r],i[r+1],a);return a&&_l(a,a.next)&&(ol(a),a=a.next),a}function ns(i,o){if(!i)return i;o||(o=i);var n=i,e;do if(e=!1,!n.steiner&&(_l(n,n.next)||Ni(n.prev,n,n.next)===0)){if(ol(n),n=o=n.prev,n===n.next)break;e=!0}else n=n.next;while(e||n!==o);return o}function If(i){var o=i.prev,n=i,e=i.next;if(Ni(o,n,e)>=0)return!1;for(var t=i.next.next;t!==i.prev;){if(is(o.x,o.y,n.x,n.y,e.x,e.y,t.x,t.y)&&Ni(t.prev,t,t.next)>=0)return!1;t=t.next}return!0}function Pf(i,o,n,e){var t=i.prev,r=i,a=i.next;if(Ni(t,r,a)>=0)return!1;for(var s=t.x<r.x?t.x<a.x?t.x:a.x:r.x<a.x?r.x:a.x,l=t.y<r.y?t.y<a.y?t.y:a.y:r.y<a.y?r.y:a.y,u=t.x>r.x?t.x>a.x?t.x:a.x:r.x>a.x?r.x:a.x,h=t.y>r.y?t.y>a.y?t.y:a.y:r.y>a.y?r.y:a.y,m=fu(s,l,o,n,e),v=fu(u,h,o,n,e),p=i.prevZ,b=i.nextZ;p&&p.z>=m&&b&&b.z<=v;){if(p!==i.prev&&p!==i.next&&is(t.x,t.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Ni(p.prev,p,p.next)>=0||(p=p.prevZ,b!==i.prev&&b!==i.next&&is(t.x,t.y,r.x,r.y,a.x,a.y,b.x,b.y)&&Ni(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;p&&p.z>=m;){if(p!==i.prev&&p!==i.next&&is(t.x,t.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Ni(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;b&&b.z<=v;){if(b!==i.prev&&b!==i.next&&is(t.x,t.y,r.x,r.y,a.x,a.y,b.x,b.y)&&Ni(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Rf(i,o,n,e){var t=[],r,a,s,l,u;for(r=0,a=o.length;r<a;r++)s=o[r]*e,l=r<a-1?o[r+1]*e:i.length,u=hc(i,s,l,e,!1),u===u.next&&(u.steiner=!0),t.push(pc(u));for(t.sort(dc),r=0;r<t.length;r++)mc(t[r],n),n=ns(n,n.next);return n}function dc(i,o){return i.x-o.x}function mc(i,o){if(o=Pl(i,o),o){var n=xc(o,i);ns(o,o.next),ns(n,n.next)}}function Pl(i,o){var n=o,e=i.x,t=i.y,r=-1/0,a;do{if(t<=n.y&&t>=n.next.y&&n.next.y!==n.y){var s=n.x+(t-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=e&&s>r){if(r=s,s===e){if(t===n.y)return n;if(t===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==o);if(!a)return null;if(e===r)return a;var l=a,u=a.x,h=a.y,m=1/0,v;n=a;do e>=n.x&&n.x>=u&&e!==n.x&&is(t<h?e:r,t,u,h,t<h?r:e,t,n.x,n.y)&&(v=Math.abs(t-n.y)/(e-n.x),al(n,i)&&(v<m||v===m&&(n.x>a.x||n.x===a.x&&Rl(a,n)))&&(a=n,m=v)),n=n.next;while(n!==l);return a}function Rl(i,o){return Ni(i.prev,i,o.prev)<0&&Ni(o.next,i,i.next)<0}function vc(i,o,n,e){var t=i;do t.z===null&&(t.z=fu(t.x,t.y,o,n,e)),t.prevZ=t.prev,t.nextZ=t.next,t=t.next;while(t!==i);t.prevZ.nextZ=null,t.prevZ=null,_f(t)}function _f(i){var o,n,e,t,r,a,s,l,u=1;do{for(n=i,i=null,r=null,a=0;n;){for(a++,e=n,s=0,o=0;o<u&&(s++,e=e.nextZ,!!e);o++);for(l=u;s>0||l>0&&e;)s!==0&&(l===0||!e||n.z<=e.z)?(t=n,n=n.nextZ,s--):(t=e,e=e.nextZ,l--),r?r.nextZ=t:i=t,t.prevZ=r,r=t;n=e}r.nextZ=null,u*=2}while(a>1);return i}function fu(i,o,n,e,t){return i=32767*(i-n)*t,o=32767*(o-e)*t,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,i|o<<1}function pc(i){var o=i,n=i;do(o.x<n.x||o.x===n.x&&o.y<n.y)&&(n=o),o=o.next;while(o!==i);return n}function is(i,o,n,e,t,r,a,s){return(t-a)*(o-s)-(i-a)*(r-s)>=0&&(i-a)*(e-s)-(n-a)*(o-s)>=0&&(n-a)*(r-s)-(t-a)*(e-s)>=0}function gc(i,o){return i.next.i!==o.i&&i.prev.i!==o.i&&!Lf(i,o)&&(al(i,o)&&al(o,i)&&bc(i,o)&&(Ni(i.prev,i,o.prev)||Ni(i,o.prev,o))||_l(i,o)&&Ni(i.prev,i,i.next)>0&&Ni(o.prev,o,o.next)>0)}function Ni(i,o,n){return(o.y-i.y)*(n.x-o.x)-(o.x-i.x)*(n.y-o.y)}function _l(i,o){return i.x===o.x&&i.y===o.y}function yc(i,o,n,e){var t=Fl(Ni(i,o,n)),r=Fl(Ni(i,o,e)),a=Fl(Ni(n,e,i)),s=Fl(Ni(n,e,o));return!!(t!==r&&a!==s||t===0&&Ll(i,n,o)||r===0&&Ll(i,e,o)||a===0&&Ll(n,i,e)||s===0&&Ll(n,o,e))}function Ll(i,o,n){return o.x<=Math.max(i.x,n.x)&&o.x>=Math.min(i.x,n.x)&&o.y<=Math.max(i.y,n.y)&&o.y>=Math.min(i.y,n.y)}function Fl(i){return i>0?1:i<0?-1:0}function Lf(i,o){var n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==o.i&&n.next.i!==o.i&&yc(n,n.next,i,o))return!0;n=n.next}while(n!==i);return!1}function al(i,o){return Ni(i.prev,i,i.next)<0?Ni(i,o,i.next)>=0&&Ni(i,i.prev,o)>=0:Ni(i,o,i.prev)<0||Ni(i,i.next,o)<0}function bc(i,o){var n=i,e=!1,t=(i.x+o.x)/2,r=(i.y+o.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&t<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(e=!e),n=n.next;while(n!==i);return e}function xc(i,o){var n=new hu(i.i,i.x,i.y),e=new hu(o.i,o.x,o.y),t=i.next,r=o.prev;return i.next=o,o.prev=i,n.next=t,t.prev=n,e.next=n,n.prev=e,r.next=e,e.prev=r,e}function Cc(i,o,n,e){var t=new hu(i,o,n);return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function ol(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function hu(i,o,n){this.i=i,this.x=o,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ff(i,o,n,e){for(var t=0,r=o,a=n-e;r<n;r+=e)t+=(i[a]-i[r])*(i[r+1]+i[a+1]),a=r;return t}var Ho=0;function Df(i,o,n,e){n=n||2,Ho=e||0;var t=o&&o.length,r=t?o[0]*n:i.length,a=hc(i,0,r,n,!0),s=[];if(!a||a.next===a.prev)return s;var l,u,h,m,v,p,b;if(t&&(a=Rf(i,o,a,n)),i.length>80*n){l=h=i[0],u=m=i[1];for(var x=n;x<r;x+=n)v=i[x],p=i[x+1],v<l&&(l=v),p<u&&(u=p),v>h&&(h=v),p>m&&(m=p);b=Math.max(h-l,m-u),b=b!==0?1/b:0}return sl(a,s,n,l,u,b),s}function sl(i,o,n,e,t,r,a){if(i){!a&&r&&vc(i,e,t,r);for(var s=i,l,u;i.prev!==i.next;){if(l=i.prev,u=i.next,r?Pf(i,e,t,r):If(i)){o.push(l.i/n+Ho),o.push(i.i/n+Ho),o.push(u.i/n+Ho),ol(i),i=u.next,s=u.next;continue}if(i=u,i===s){a?a===1?(i=Ec(ns(i),o,n),sl(i,o,n,e,t,r,2)):a===2&&Nf(i,o,n,e,t,r):sl(ns(i),o,n,e,t,r,1);break}}}}function Ec(i,o,n){var e=i;do{var t=e.prev,r=e.next.next;!_l(t,r)&&yc(t,e,e.next,r)&&al(t,r)&&al(r,t)&&(o.push(t.i/n+Ho),o.push(e.i/n+Ho),o.push(r.i/n+Ho),ol(e),ol(e.next),e=i=r),e=e.next}while(e!==i);return ns(e)}function Nf(i,o,n,e,t,r){var a=i;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&gc(a,s)){var l=xc(a,s);a=ns(a,a.next),l=ns(l,l.next),sl(a,o,n,e,t,r),sl(l,o,n,e,t,r);return}s=s.next}a=a.next}while(a!==i)}var Tc=2;function Vf(i,o){for(var n=i.s,e=i.p,t=n[1],r=e[1],a=0,s=0;s<t.length;s++){var l=t[s];a+=l.length-1}var u=new Float32Array(a*Tl),h=o.indexBase,m=h===void 0?0:h,v=o.uvTransform,p=0,b=0,x=0,P=1,B=1,D;v&&(b=v[0],x=v[1],D=v[4],P=D?v[3]:v[2],B=D?v[2]:v[3]);for(var _=[0,0],Y=D===0?0:-Math.PI/2,k=0;k<t.length;k++)for(var W=t[k],te=r[k],ae=r[k+1]||r[0],se=W,Qe=[0,0],Je=0;Je<se.length-1;Je++){var at=se[Je];Uf(Qe,at,te,ae,te[4],te[5],ae[2],ae[3]),At(Qe[0],Qe[1])}var ut=Df(Array.from(u),null,Tl,m);return{aPoint:u,index:new Uint16Array(ut)};function At(Gt,Wt){u[p++]=Gt/2,u[p++]=Wt/2,v?(_[0]=Gt,_[1]=Wt,du(_,_,Y),u[p++]=b+(_[0]+1)/2*P,u[p++]=x+(_[1]+1)/2*B):(u[p++]=(Gt+1)/2,u[p++]=(Wt+1)/2),p+=Tc}}function Bf(i){var o=[];return"gs"in i?i.gs.forEach(function(n){o.push({p:[vt.SHAPE_POINTS,n.p],s:[vt.SHAPE_SPLITS,n.s]})}):"g"in i?o.push({p:[vt.SHAPE_POINTS,i.g.p],s:[vt.SHAPE_SPLITS,i.g.s]}):o.push(i),o}function zf(i,o){for(var n=[],e=Bf(i),t=0,r=0,a=0,s=0;s<e.length;s++){var l=e[s],u=Vf(l,{indexBase:t,uvTransform:o});t+=u.aPoint.length/5,n.push(u),r+=u.aPoint.length,a+=u.index.length}if(n.length===1)return n[0];for(var h=new Float32Array(r),m=new Uint16Array(a),v=0,p=0,b=0;v<n[v];v++){var x=n[v];h.set(x.aPoint,p),p+=x.aPoint.length,m.set(x.index,b),b+=x.index.length}return{aPoint:h,index:m}}function du(i,o,n){var e=Math.cos(n),t=Math.sin(n),r=o[0],a=o[1];return i[0]=e*r+t*a,i[1]=-t*r+e*a,i}function Uf(i,o,n,e,t,r,a,s){var l=1-o,u=l*l*l,h=3*o*l*l,m=3*o*o*l,v=o*o*o;return i[0]=u*n[0]+h*t+m*a+v*e[0],i[1]=u*n[1]+h*r+m*s+v*e[1],i}var kf=function(){function i(n){var e=n.time,t=n.interval,r=n.count,a=n.cycles,s=n.probability;this.time=+e||0,this.interval=+t||1,this.count=U(r,ra)?r:dr(r),this.cycles=+a||1/0,this.probability=isNaN(s)?1:+s,this.reset()}var o=i.prototype;return o.getGeneratorOptions=function(e,t){var r=e-this.time-this.now;if(r>this.interval*this.index&&this.internalCycles>0)return this.internalCycles--,this.index++,Math.random()<=this.probability?{index:this.index,total:1/this.interval,count:this.count.getValue(t),cycleIndex:this.cycles-this.internalCycles-1}:null},o.reset=function(){this.internalCycles=this.cycles,this.index=0,this.now=0},o.clone=function(){var e={time:this.time,interval:this.interval,count:this.count,cycles:this.cycles,probability:this.probability};return new i(e)},i}(),Sc=function(o){this.content=o},wc=function(){function i(n){this.sort=n,this.length=0}var o=i.prototype;return o.findNodeByContent=function(e){var t=this.first;if(t)do if(e(t.content))return t;while(t=t.next)},o.insertNode=function(e,t){var r=e.next;e.next=t,t.pre=e,t.next=r,r&&(r.pre=t)},o.shiftNode=function(e){var t=new Sc(e);if(this.length++,this.length===1)return this.first=this.last=t;for(var r=this.first;r;)if(this.sort(r.content,t.content)<=0)if(r.next)r=r.next;else return this.insertNode(r,t),this.last=t;else return r.pre?this.insertNode(r.pre,t):(this.first=t,t.next=r,r.pre=t),t},o.pushNode=function(e){var t=new Sc(e);if(this.length++,this.length===1)return this.last=this.first=t;for(var r=this.last;r;)if(this.sort(t.content,r.content)<=0){if(this.first===r)return r.pre=t,t.next=r,this.first=t;r=r.pre}else return this.insertNode(r,t),r===this.last&&(this.last=t),t},o.removeNode=function(e){var t=this.first;if(this.length--,t===e){var r=this.first=t.next;r&&(r.pre=null)}else if((t=this.last)===e){var a=this.last=t.pre;a&&(a.next=null)}else if(e){var s=e.pre,l=e.next;s.next=l,l&&(l.pre=s)}e.pre=null,e.next=null},o.forEach=function(e,t){var r=this.first,a=0;if(r)do e.call(t||this,r.content,a++);while(r=r.next)},o.forEachReverse=function(e,t){var r=this.last,a=this.length-1;if(r)do e.call(t||this,r.content,a--);while(r=r.pre)},o.getNodeByIndex=function(e){var t=0,r=this.first;if(!r||e>=this.length||e<0)return null;for(;t<e;)r=r.next,t++;return r},i}(),$f=new we,mu=new we,vu=function(){function i(n,e){this.pointStart=[];var t=e.colorOverLifetime,r=e.colorOverTrail,a=e.maxTrailCount,s=e.opacityOverLifetime,l=s===void 0?dr(1):s,u=e.widthOverTrail,h=e.name,m=e.occlusion,v=e.blending,p=e.maskMode,b=e.textureMap,x=b===void 0?[0,0,1,1]:b,P=e.texture,B=e.transparentOcclusion,D=e.minimumVertexDistance,_=e.lifetime,Y=e.matrix,k=n.gpuCapability,W=k.detail,te=k.level,ae=Math.max(e.pointCountPerTrail,2),se=Cs(),Qe=W.maxVertexTextures>0,Je,at=((Je=n.renderer)!=null?Je:{}).env,ut={},At=0,Gt=[["ENABLE_VERTEX_TEXTURE",Qe],["LOOKUP_TEXTURE_CURVE",At],["ENV_EDITOR",at===bo]],Wt=a>64,Qt=0;t&&(Gt.push(["COLOR_OVER_LIFETIME",!0]),Qt|=1,ut.uColorOverLifetime=Nr.createWithData(n,_e(t))),r&&(Gt.push(["COLOR_OVER_TRAIL",!0]),Qt|=4,ut.uColorOverTrail=Nr.createWithData(n,_e(r))),Wt?(Gt.push(["ATTR_TRAIL_START",1]),Qt|=8):ut.uTrailStart=new Float32Array(a),ut.uOpacityOverLifetimeValue=l.toUniform(se);var er=u.toUniform(se);if(Gt.push(["VERT_CURVE_VALUE_COUNT",se.index],["VERT_MAX_KEY_FRAME_COUNT",se.max]),Qe&&At){var Dt=fi(n,ra.getAllData(se,!0),se.index,1);ut.uVCurveValueTexture=Dt}else ut.uVCurveValues=ra.getAllData(se);var Lr=vs,cr=Qo,Mr={shader:{vertex:Lr,fragment:cr,macros:Gt,glslVersion:te===1?qn.GLSL1:qn.GLSL3,shared:!0,name:"trail#"+h,cacheId:"-t:+"+Qt+"+"+se.index+"+"+se.max},uniformSemantics:{effects_MatrixVP:"VIEWPROJECTION",effects_MatrixInvV:"VIEWINVERSE",effects_ObjectToWorld:"MODEL",uEditorTransform:"EDITOR_TRANSFORM"}},Gr=ae*a*2,Wr=(ae-1)*a,ti=Float32Array.BYTES_PER_ELEMENT,Kr=12*ti,sa={attributes:{aColor:{size:4,stride:Kr,data:new Float32Array(Gr*12)},aSeed:{size:1,stride:Kr,offset:4*ti,dataSource:"aColor"},aInfo:{size:3,stride:Kr,offset:5*ti,dataSource:"aColor"},aPos:{size:4,stride:Kr,offset:8*ti,dataSource:"aColor"},aTime:{size:1,data:new Float32Array(Gr)},aDir:{size:3,data:new Float32Array(Gr*3)}},indices:{data:new Uint16Array(Gr*6)},drawCount:Wr*6,name:"trail#"+h,bufferUsage:F.DYNAMIC_DRAW};if(Wt)sa.attributes.aTrailStart={size:1,data:new Float32Array(Gr)};else{var Ra=new Float32Array(Gr);sa.attributes.aTrailStartIndex={size:1,data:Ra};for(var ca=0;ca<a;ca++)for(var Ya=ae*2,gn=ca*Ya,$a=0;$a<Ya;$a++)Ra[gn+$a]=ca}var ja=To(v),di=Bi.create(n,Mr);di.blending=!0,di.depthMask=m,di.depthTest=!0,E(di,p),hs(di,v);var ls=this.mesh=Mi.create(n,{name:"MTrail_"+h,material:di,geometry:Cn.create(n,sa)}),Xo=P!=null?P:Nr.createWithData(n);Object.keys(ut).map(function(Ri){var Wi=ut[Ri];if(U(Wi,Nr))di.setTexture(Ri,Wi);else if(Ri==="uTrailStart")di.setFloats("uTrailStart",Wi);else if(Ri==="uVCurveValues"){for(var Gs=[],Fo=0;Fo<Wi.length;Fo=Fo+4){var Ea=new Ur(Wi[Fo],Wi[Fo+1],Wi[Fo+2],Wi[Fo+3]);Gs.push(Ea)}di.setVector4Array(Ri,Gs)}else di.setVector4(Ri,Ur.fromArray(Wi))}),di.setFloat("uTime",0),di.setVector4("uWidthOverTrail",Ur.fromArray(er)),di.setVector2("uTexOffset",new _n(0,0)),di.setVector4("uTextureMap",Ur.fromArray(x)),di.setVector4("uParams",new Ur(0,ae-1,0,0)),di.setTexture("uMaskTex",Xo),di.setVector4("uColorParams",new Ur(P?1:0,+ja,0,+(m&&!B))),this.maxTrailCount=a,this.pointCountPerTrail=ae,this.checkVertexDistance=D>0,this.minimumVertexDistance=Math.pow(D||.001,2),this.useAttributeTrailStart=Wt,this.lifetime=_,Y&&(this.mesh.worldMatrix=Y),this.geometry=ls.firstGeometry(),this.trailCursors=new Uint16Array(a)}var o=i.prototype;return o.addPoint=function(e,t,r){r=r||{};var a=this.trailCursors[e],s=this.pointCountPerTrail,l=this.geometry,u=s-1,h=a%s,m=(a-1)%s,v=(a-2)%s,p=this.getTrailPosition(e,m,$f);if(!(p&&this.checkVertexDistance&&(p==null?void 0:p.distanceSquared(t))<this.minimumVertexDistance)){var b=e*s+h,x=gu(p,t),P=r.time||this.time,B=[Math.random(),r.lifetime||this.lifetime,a],D=r.size||1,_=b*6,Y=new Float32Array(6);Y.set(x,0),Y.set(x,3),l.setAttributeSubData("aDir",_,Y),l.setAttributeSubData("aTime",b*2,new Float32Array([P,P]));var k=r.color||[1,1,1,1],W=new Float32Array(24),te=t.toArray();if(W.set(k,0),W.set(B,4),W[7]=0,W.set(te,8),W[11]=.5*D,W.set(k,12),W.set(B,16),W[19]=1,W.set(te,20),W[23]=-.5*D,l.setAttributeSubData("aColor",b*24,W),m>=0){var ae=this.getTrailPosition(e,v,mu),se=new Float32Array(gu(ae,p,t)),Qe=(e*s+m)*6;l.setAttributeSubData("aDir",Qe,se),l.setAttributeSubData("aDir",Qe+3,se);var Je=e*s*2,at=new Uint16Array([m*2+Je,m*2+1+Je,h*2+Je,h*2+Je,m*2+1+Je,h*2+1+Je]),ut=(e*u+(a-1)%u)*6;l.setIndexSubData(ut,at)}a=++this.trailCursors[e];var At=this.mesh.material,Gt=At.getVector4("uParams"),Wt=B[2];if(this.useAttributeTrailStart){for(var Qt=s*2,er=new Float32Array(Qt),Dt=0;Dt<Qt;Dt++)er[Dt]=Wt;l.setAttributeSubData("aTrailStart",e*er.length,er)}else{var Lr=At.getFloats("uTrailStart");Lr!=null&&(Lr[e]=Wt,At.setFloats("uTrailStart",Lr))}Gt&&(Gt.y=Math.max(Gt.y,a-1)-Math.max(0,a-s),At.setVector4("uParams",Gt))}},o.getTrailPosition=function(e,t,r){var a=this.pointCountPerTrail;if(t>=0&&t<a){var s=(e*a+t)*24+8,l=this.geometry.getAttributeData("aColor");return bt(l),r.x=l[s],r.y=l[1+s],r.z=l[2+s],r}},o.clearAllTrails=function(){var e=this.geometry.getIndexData();bt(e),this.trailCursors=new Uint16Array(this.trailCursors.length),this.geometry.setIndexData(new Uint16Array(e.length))},o.minusTime=function(e){var t=this.geometry.getAttributeData("aTime");bt(t);for(var r=0;r<t.length;r++)t[r]-=e;this.geometry.setAttributeData("aTime",t),this.time-=e},o.clearTrail=function(e){if(this.trailCursors[e]!==0){var t=this.pointCountPerTrail,r=(t-1)*6,a=this.geometry.getIndexData();bt(a),a.set(new Uint16Array(r),e*r),this.geometry.setIndexData(a),this.trailCursors[e]=0}},o.getPointStartPos=function(e){return this.pointStart[e]},o.setPointStartPos=function(e,t){this.pointStart[e]=t},o.onUpdate=function(e){},br(i,[{key:"time",get:function(){return this.mesh.material.getFloat("uTime")||0},set:function(e){this.mesh.material.setFloat("uTime",e!=null?e:0)}}]),i}(),Oc=new we,zs=new we,pu=new we;function gu(i,o,n){var e=Oc;return!i&&!n?[0,0,0]:(i?n?(zs.subtractVectors(o,i).normalize(),zs.subtractVectors(n,o),pu.copyFrom(zs).normalize(),e.addVectors(zs,pu)):e.subtractVectors(o,i):e.subtractVectors(n,o),e.normalize().toArray())}function Mc(i,o,n,e,t){t===void 0&&(t="");var r=0,a=su(ac)?1:0,s=e.detail.maxVertexTextures>0,l=[["ENABLE_VERTEX_TEXTURE",s],["LOOKUP_TEXTURE_CURVE",a],["ENV_EDITOR",t===bo]],u=Cs();i.colorOverLifetime&&(l.push(["COLOR_OVER_LIFETIME",!0]),r|=1),i.colorOverTrail&&(l.push(["COLOR_OVER_TRAIL",!0]),r|=4);var h=o>64;return h&&(l.push(["ATTR_TRAIL_START",1]),r|=8),Qa(u,i.opacityOverLifetime),Qa(u,i.widthOverTrail),l.push(["VERT_CURVE_VALUE_COUNT",u.index],["VERT_MAX_KEY_FRAME_COUNT",u.max]),{vertex:vs,fragment:Qo,macros:l,shared:!0,name:"trail#"+n,cacheId:"-t:+"+r+"+"+u.index+"+"+u.max}}var Ac=function(i){be(o,i);function o(e,t,r){var a;a=i.call(this,e)||this,a.name="ParticleSystemRenderer",t&&(a.particleMesh=new Qf(e,t)),r&&(a.trailMesh=new vu(e,r));var s=[a.particleMesh.mesh];return a.materials.push(a.particleMesh.mesh.material),a.trailMesh&&(s.push(a.trailMesh.mesh),a.materials.push(a.trailMesh.mesh.material)),a.meshes=s,a}var n=o.prototype;return n.onStart=function(){this._priority=this.item.renderOrder,this.particleMesh.gravityModifier.scaleXCoord(this.item.duration);for(var t=ke(this.meshes),r;!(r=t()).done;){var a=r.value;a.onStart()}},n.onUpdate=function(t){var r=this.particleMesh.time,a,s=(a=this.particleMesh.mesh.material.getVector4("uParams"))!=null?a:new Ur;this.particleMesh.mesh.material.setVector4("uParams",s.set(r,this.item.duration,0,0))},n.render=function(t){for(var r=ke(this.meshes),a;!(a=r()).done;){var s=a.value;s.render(t)}},n.reset=function(){var t;this.particleMesh.clearPoints(),(t=this.trailMesh)==null||t.clearAllTrails()},n.updateTime=function(t,r){this.particleMesh.time=t,this.particleMesh.onUpdate(r),this.trailMesh&&(this.trailMesh.time=t,this.trailMesh.onUpdate(r))},n.minusTimeForLoop=function(t){var r;this.particleMesh.minusTime(t),(r=this.trailMesh)==null||r.minusTime(t)},n.updateWorldMatrix=function(t){this.particleMesh.mesh.worldMatrix=t,this.trailMesh&&(this.trailMesh.mesh.worldMatrix=t)},n.setVisible=function(t){var r;this.particleMesh.mesh.setVisible(t),(r=this.trailMesh)==null||r.mesh.setVisible(t)},n.getTextures=function(){var t=[],r=this.particleMesh.mesh.material.textures;if(Object.keys(r).forEach(function(s){t.push(r[s])}),this.trailMesh){var a=this.trailMesh.mesh.material.textures;Object.keys(a).forEach(function(s){t.push(a[s])})}return t},n.setParticlePoint=function(t,r){this.particleMesh.setPoint(t,r)},n.removeParticlePoint=function(t){this.particleMesh.removePoint(t)},n.getParticlePointColor=function(t){return this.particleMesh.getPointColor(t)},n.hasTrail=function(){return this.trailMesh!==void 0},n.clearTrail=function(t){var r;(r=this.trailMesh)==null||r.clearTrail(t)},n.addTrailPoint=function(t,r,a){var s;(s=this.trailMesh)==null||s.addPoint(t,r,a)},n.setTrailStartPosition=function(t,r){var a;(a=this.trailMesh)==null||a.setPointStartPos(t,r)},n.getTrailStartPosition=function(t){return this.trailMesh.getPointStartPos(t)},o}(Zi),as=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.destroyed=!1,r.getHitTestParams=function(a){var s=r.interaction;if(a||s)return{type:lo.custom,collect:function(l){return r.raycast({radius:(s==null?void 0:s.radius)||.4,multiple:!!(s!=null&&s.multiple),removeParticle:(s==null?void 0:s.behavior)===Ot.removeParticle,ray:l})}}},t&&r.fromData(t),r}var n=o.prototype;return n.isFrozen=function(){return this.frozen},n.isEnded=function(){return this.ended},n.initEmitterTransform=function(){var t=this.item.transform.position.clone(),r=this.item.transform.rotation.clone(),a=this.props.emitterTransform&&this.props.emitterTransform.path,s;a&&(a[0]===vt.CONSTANT_VEC3?t.add(a[1]):s=dr(a)),this.basicTransform={position:t,rotation:r,path:s};var l=this.transform.parentTransform,u=t.clone();if(s&&u.add(s.getValue(0)),this.transform.setPosition(u.x,u.y,u.z),this.options.particleFollowParent&&l){var h=l.getWorldMatrix();this.renderer.updateWorldMatrix(h)}},n.updateEmitterTransform=function(t){var r=this.transform.parentTransform,a=this.basicTransform,s=a.path,l=a.position,u=l.clone();if(s){var h=this.item.duration;u.add(s.getValue(t/h))}if(this.transform.setPosition(u.x,u.y,u.z),this.options.particleFollowParent&&r){var m=r.getWorldMatrix();this.renderer.updateWorldMatrix(m)}},n.addParticle=function(t,r){var a=this.particleLink,s=[t.delay+t.lifetime,0,t.delay,t],l;if(a.length<r)l=s[1]=a.length;else{var u=a.first;a.removeNode(u),l=s[1]=u.content[1]}a.pushNode(s),this.renderer.setParticlePoint(l,t),this.clearPointTrail(l),this.transform.parentTransform&&this.renderer.setTrailStartPosition(l,this.transform.parentTransform.position.clone())},n.setVisible=function(t){this.renderer.setVisible(t)},n.setOpacity=function(t){var r,a=this.renderer.particleMesh.mesh.material,s=this.renderer.particleMesh.mesh.geometry,l=((r=a.getVector4("uOpacityOverLifetimeValue"))==null?void 0:r.toArray())||[1,1,1,1];a.setVector4("uOpacityOverLifetimeValue",new Ur(l[0],l[1],l[2],t));for(var u=s.getAttributeData("aColor")||[],h=0;h<u.length;h+=32)u[h*8+7]=t},n.setColor=function(t,r,a,s){var l,u=this.renderer.particleMesh.mesh.material,h=this.renderer.particleMesh.mesh.geometry,m=((l=u.getVector4("uOpacityOverLifetimeValue"))==null?void 0:l.toArray())||[1,1,1,1];u.setVector4("uOpacityOverLifetimeValue",new Ur(m[0],m[1],m[2],s));for(var v=h.getAttributeData("aColor")||[],p=0;p<v.length;p+=32)v[p*8+4]=t,v[p*8+5]=r,v[p*8+6]=a,v[p*8+7]=s},n.setParentTransform=function(t){},n.getTextures=function(){return this.renderer.getTextures()},n.startEmit=function(){(!this.started||this.ended)&&(this.reset(),this.started=!0,this.ended=!1)},n.stop=function(){this.ended=!0,this.started=!1},n.reset=function(){this.renderer.reset(),this.lastUpdate=0,this.loopStartTime=0,this.lastEmitTime=-1/this.emission.rateOverTime.getValue(0),this.generatedCount=0,this.particleLink=new wc(function(t,r){return t[0]-r[0]}),this.emission.bursts.forEach(function(t){return t.reset()}),this.frozen=!1,this.ended=!1,this.destroyed=!1},n.update=function(t){var r=this;if(this.started&&!this.frozen){var a=this.lastUpdate+t/1e3,s=this.options,l=this.loopStartTime,u=this.emission;this.lastUpdate=a,this.upDirectionWorld=null,this.renderer.updateTime(a,t);var h=this.particleLink,m=(a-l)/this.item.duration,v=this.timePassed,p=!1,b=function(){r.trails&&!p&&(p=!0,h.forEach(function(Gr){var Wr=Gr[0],ti=Gr[1],Kr=Gr[2],sa=Gr[3];Wr<v?r.clearPointTrail(ti):v>Kr&&r.updatePointTrail(ti,m,sa,Kr)}))};if(this.ended){if(this.item.endBehavior!==Te.restart&&Te.destroy===this.item.endBehavior){var Mr=h.last;Mr&&Mr.content[0]<this.lastUpdate&&(this.destroyed=!0)}}else{var x=this.item.duration,P=this.lifetime;if(v<x){var B=1/u.rateOverTime.getValue(P),D=Math.floor((v-this.lastEmitTime)/B),_=D,Y=B/D,k=a,W=s.maxCount;this.updateEmitterTransform(v);for(var te=function(){var Gr=h.first;return r.emissionStopped||h.length===W&&Gr&&Gr.content[0]-l>v},ae=0;ae<_&&ae<W&&!te();ae++){var se=this.createPoint(P);se.delay+=k+ae*Y,this.addParticle(se,W),this.lastEmitTime=v}for(var Qe=u.bursts,Je=(Qe==null?void 0:Qe.length)-1,at=0;Je>=0&&at<W&&!te();Je--){var ut=Qe[Je],At=!ut.disabled&&ut.getGeneratorOptions(v,P);if(At){var Gt=[0,0,0],Wt=u.burstOffsets[Je],Qt=Wt&&Wt[At.cycleIndex]||Gt;ut.once&&this.removeBurst(Je);for(var er=0;er<At.count&&at<W;er++){var Dt;if(te())break;var Lr=this.initPoint(this.shape.generate({total:At.total,index:At.index,burstIndex:er,burstCount:At.count}));Lr.delay+=k,at++,(Dt=Lr.transform).translate.apply(Dt,[].concat(Qt)),this.addParticle(Lr,W)}}}}else if(this.item.endBehavior===Te.restart)b(),this.loopStartTime=a-x,this.lastEmitTime-=x,this.lastUpdate-=x,u.bursts.forEach(function(Gr){return Gr.reset()}),this.particleLink.forEach(function(Gr){Gr[0]-=x,Gr[2]-=x,Gr[3].delay-=x}),this.renderer.minusTimeForLoop(x);else{this.ended=!0;var cr=this.item.endBehavior;cr===Te.freeze&&(this.frozen=!0)}}b()}},n.onDestroy=function(){this.item&&this.item.composition&&(this.item.composition.destroyTextures(this.getTextures()),this.meshes.forEach(function(t){return t.dispose({material:{textures:Ct.keep}})}))},n.getParticleBoxes=function(){var t=this.particleLink,r=this.renderer,a=[],s=this.particleCount,l=0;if(!(t&&r))return a;for(var u=t.last,h=!1;!h;){var m=u.content[0],v=u.content[3];if(m>this.timePassed){var p=this.getPointPosition(v);a.push({center:p,size:v.transform.scale}),u.pre?u=u.pre:h=!0}l++,l>s&&(h=!0)}return a},n.raycast=function(t){var r=this.particleLink,a=this.renderer;if(r&&a){var s=r.last,l=[],u=new we,h=!1;if(s&&s.content)do{var m=s.content,v=m[0],p=m[1];m[2];var b=m[3];if(v>this.timePassed){var x=this.getPointPosition(b),P=t.ray,B=!1;P&&(B=!!P.intersectSphere({center:x,radius:t.radius},u)),B&&(t.removeParticle&&(a.removeParticlePoint(p),this.clearPointTrail(p),r.removeNode(s),s.content=[0]),l.push(x),t.multiple||(h=!0))}else break}while((s=s.pre)&&!h);return l}},n.clearPointTrail=function(t){this.trails&&this.trails.dieWithParticles&&this.renderer.clearTrail(t)},n.updatePointTrail=function(t,r,a,s){var l=this.renderer;if(l.hasTrail()){var u=this.trails,h=this.getPointPosition(a),m=u.inheritParticleColor?l.getParticlePointColor(t):[1,1,1,1],v=a.transform.getWorldScale().toArray(),p=1,b=u.lifetime.getValue(r);if(u.sizeAffectsWidth&&(p*=v[0]),u.sizeAffectsLifetime&&(b*=v[0]),u.parentAffectsPosition&&this.transform.parentTransform){h.add(this.transform.parentTransform.position);var x=l.getTrailStartPosition(t);x&&h.subtract(x)}l.addTrailPoint(t,h,{color:m,lifetime:b,size:p,time:s})}},n.getPointPositionByIndex=function(t){var r=this.particleLink.getNodeByIndex(t);return r?this.getPointPosition(r.content[3]):(console.error("Get point error."),null)},n.getPointPosition=function(t){var r=t.transform,a=t.vel,s=t.lifetime,l=t.delay,u=t.gravity,h=u===void 0?[]:u,m=this.options.forceTarget,v=this.lastUpdate-l,p=new we,b=we.fromArray(h);r.assignWorldTRS(p);var x=Uo(new we,this.options,b,v,s,p,a);if(m){var P=m.target||[0,0,0],B=m.curve.getValue(v/s),D=1-B;x.x=x.x*D+P[0]*B,x.y=x.y*D+P[1]*B,x.z=x.z*D+P[2]*B}return x},n.initPoint=function(t){var r=this.options,a=this.lifetime,s=this.shape,l=r.startSpeed.getValue(a),u=r.particleFollowParent?this.transform.getMatrix():this.transform.getWorldMatrix(),h=t.position,m=u.transformPoint(h,new we),v=new il({position:m,valid:!0}),p=t.direction;if(p=u.transformNormal(p,Ic).normalize(),r.startTurbulence&&r.turbulence){for(var b=0;b<3;b++)yu.setElement(b,r.turbulence[b].getValue(a));Rc.setFromVector3(yu.negate());var x=Zf.setFromEuler(Rc);x.transformNormal(p).normalize()}var P=Hf,B=Gf;s.alignSpeedDirection?(B.copyFrom(p),this.upDirectionWorld||(s.upDirection?this.upDirectionWorld=s.upDirection.clone():this.upDirectionWorld=we.Z.clone(),u.transformNormal(this.upDirectionWorld)),P.crossVectors(B,this.upDirectionWorld).normalize(),P.isZero()&&P.set(1,0,0)):(P.set(1,0,0),B.set(0,1,0));var D,_=this.textureSheetAnimation;_&&_.animate&&(D=Wf,D[0]=_.animationDelay.getValue(a),D[1]=_.animationDuration.getValue(a),D[2]=_.cycles.getValue(a));var Y=Pc;r.start3DRotation?Y.set(r.startRotationX.getValue(a),r.startRotationY.getValue(a),r.startRotationZ.getValue(a)):r.startRotation?Y.set(0,0,r.startRotation.getValue(a)):Y.set(0,0,0),v.setRotation(Y.x,Y.y,Y.z);var k=r.startColor.getValue(a);k.length===3&&(k[3]=1);var W=jf;if(r.start3DSize)W.x=r.startSizeX.getValue(a),W.y=r.startSizeY.getValue(a);else{var te=r.startSize.getValue(a),ae=r.sizeAspect.getValue(a);W.x=te,W.y=ae===0?0:te/ae}var se=p.clone();if(se.multiply(l),!r.particleFollowParent){var Qe=new we;this.transform.assignWorldTRS(void 0,void 0,Qe),W.x*=Qe.x,W.y*=Qe.y}return v.setScale(W.x,W.y,1),{size:W,vel:se,color:k,delay:r.startDelay.getValue(a),lifetime:r.startLifetime.getValue(a),uv:Dl(this.uvs,!0),gravity:r.gravity,sprite:D,dirY:B,dirX:P,transform:v}},n.addBurst=function(t,r){var a=!1;if(this.emission.bursts.includes(t)||(this.emission.bursts.push(t),a=!0),a&&U(r,Array)){var s=this.emission.bursts.indexOf(t);return this.emission.burstOffsets[s]=r,s}return-1},n.removeBurst=function(t){t<this.emission.bursts.length&&(this.emission.burstOffsets[t]=null,this.emission.bursts.splice(t,1))},n.createPoint=function(t){var r={total:this.emission.rateOverTime.getValue(t),index:this.generatedCount,burstIndex:0,burstCount:0};return this.generatedCount++,this.initPoint(this.shape.generate(r))},n.stopParticleEmission=function(){this.emissionStopped=!0},n.resumeParticleEmission=function(){this.emissionStopped=!1},n.getBoundingBox=function(){var t=this.getParticleBoxes();return{type:lo.sphere,area:t}},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t;this.props=r,this.destroyed=!1;var a="",s=r.options,l=r.positionOverLifetime,u=l===void 0?{}:l,h=r.shape,m=u==null?void 0:u.gravityOverLifetime,v=Qs(u==null?void 0:u.gravity),p=r.textureSheetAnimation,b=p?{animationDelay:dr(p.animationDelay||0),animationDuration:dr(p.animationDuration||1),cycles:dr(p.cycles||1),animate:p.animate,col:p.col,row:p.row,total:p.total||p.col*p.row}:void 0,x=!!(h&&h.turbulenceX||h!=null&&h.turbulenceY||h!=null&&h.turbulenceZ),P;if(x){var B,D,_;P=[dr((B=h.turbulenceX)!=null?B:0),dr((D=h.turbulenceY)!=null?D:0),dr((_=h.turbulenceZ)!=null?_:0)]}this.name="ParticleSystem",this.shape=Af(h);var Y;this.emission={rateOverTime:dr(r.emission.rateOverTime),burstOffsets:Xf((Y=r.emission.burstOffsets)!=null?Y:[]),bursts:(r.emission.bursts||[]).map(function(ls){return new kf(ls)})},this.textureSheetAnimation=b;var k=r.renderer||{},W,te=r.rotationOverLifetime;te&&(W={},W.asRotation=!!te.asRotation,W.z=te.z?dr(te.z):dr(0),te.separateAxes&&(W.x=te.x&&dr(te.x),W.y=te.y&&dr(te.y)));var ae;u!=null&&u.forceTarget&&(ae={target:u.target||[0,0,0],curve:dr(u.forceCurve||[vt.LINE,[[0,0],[1,1]]])});var se={x:u.linearX&&dr(u.linearX||0),y:u.linearY&&dr(u.linearY||0),z:u.linearZ&&dr(u.linearZ||0),asMovement:u.asMovement},Qe={x:u.orbitalX&&dr(u.orbitalX),y:u.orbitalY&&dr(u.orbitalY),z:u.orbitalZ&&dr(u.orbitalZ),center:u.orbCenter,asRotation:u.asRotation},Je=r.sizeOverLifetime||{},at=r.colorOverLifetime,ut=a,At=Je!=null&&Je.separateAxes?{separateAxes:!0,x:dr(Je.x),y:dr(Je.y)}:{separateAxes:!1,x:dr(("size"in Je?Je.size:Je.x)||1)};k.anchor=k.anchor||[0,0];var Gt=_n.fromArray(k.anchor),Wt;this.options={particleFollowParent:!!s.particleFollowParent,startLifetime:dr(s.startLifetime),startDelay:dr(s.startDelay||0),startSpeed:dr(u.startSpeed||0),startColor:dr(s.startColor),looping:!1,maxCount:(Wt=s.maxCount)!=null?Wt:0,gravityModifier:dr(m||0),gravity:v,start3DSize:!!s.start3DSize,startTurbulence:x,turbulence:P,speedOverLifetime:u.speedOverLifetime&&dr(u.speedOverLifetime),linearVelOverLifetime:se,orbitalVelOverLifetime:Qe,forceTarget:ae},s.startRotationZ&&(this.options.startRotation=dr(s.startRotationZ||0)),(s.startRotationX||s.startRotationY)&&(this.options.start3DRotation=!0,this.options.startRotationX=dr(s.startRotationX||0),this.options.startRotationY=dr(s.startRotationY||0),this.options.startRotationZ=dr(s.startRotationZ||0)),s.start3DSize?(this.options.startSizeX=dr(s.startSizeX),this.options.startSizeY=dr(s.startSizeY)):(this.options.startSize=dr(s.startSize),this.options.sizeAspect=dr(s.sizeAspect||1));var Qt,er={meshSlots:s.meshSlots,name:this.name,matrix:Or.IDENTITY,shaderCachePrefix:ut,renderMode:k.renderMode||fr.BILLBOARD,side:k.side||sr.DOUBLE,gravity:v,blending:k.blending||Yt.ALPHA,rotationOverLifetime:W,gravityModifier:this.options.gravityModifier,linearVelOverLifetime:this.options.linearVelOverLifetime,orbitalVelOverLifetime:this.options.orbitalVelOverLifetime,speedOverLifetime:this.options.speedOverLifetime,sprite:b,occlusion:!!k.occlusion,transparentOcclusion:!!k.transparentOcclusion,maxCount:s.maxCount,mask:k.mask,maskMode:(Qt=k.maskMode)!=null?Qt:lr.NONE,forceTarget:ae,diffuse:k.texture,sizeOverLifetime:At,anchor:Gt};if(at){var Dt=at.color,Lr=at.opacity;er.colorOverLifetime={},Lr&&(er.colorOverLifetime.opacity=dr(at.opacity)),Dt&&(Dt[0]===vt.GRADIENT_COLOR?er.colorOverLifetime.color=at.color[1]:Dt[0]===vt.RGBA_COLOR?er.colorOverLifetime.color=Nr.createWithData(this.engine,{data:new Uint8Array(Dt[1]),width:1,height:1}):U(Dt,Nr)&&(er.colorOverLifetime.color=Dt))}var cr=[],Mr=[0,0,1,1],Gr;if(r.splits){var Wr=r.splits[0];Gr=Wr[4],Mr=Gr?[Wr[0],Wr[1],Wr[3],Wr[2]]:[Wr[0],Wr[1],Wr[2],Wr[3]]}if(b&&!b.animate)for(var ti=Gr?b.row:b.col,Kr=Gr?b.col:b.row,sa=b.total||ti*Kr,Ra=0,ca=0;ca<ti;ca++)for(var Ya=0;Ya<Kr&&Ra<sa;Ya++,Ra++)cr.push([ca*Mr[2]/ti+Mr[0],Ya*Mr[3]/Kr+Mr[1],Mr[2]/ti,Mr[3]/Kr]);else cr.push(Mr);this.uvs=cr,er.textureFlip=Gr;var gn=r.trails,$a;gn&&(this.trails={lifetime:dr(gn.lifetime),dieWithParticles:gn.dieWithParticles!==!1,sizeAffectsWidth:!!gn.sizeAffectsWidth,sizeAffectsLifetime:!!gn.sizeAffectsLifetime,inheritParticleColor:!!gn.inheritParticleColor,parentAffectsPosition:!!gn.parentAffectsPosition},$a={name:"Trail",matrix:Or.IDENTITY,minimumVertexDistance:gn.minimumVertexDistance||.02,maxTrailCount:s.maxCount,pointCountPerTrail:Math.round(gn.maxPointPerTrail)||32,blending:gn.blending,texture:gn.texture,opacityOverLifetime:dr(gn.opacityOverLifetime||1),widthOverTrail:dr(gn.widthOverTrail||1),shaderCachePrefix:ut,lifetime:this.trails.lifetime,occlusion:!!gn.occlusion,transparentOcclusion:!!gn.transparentOcclusion,textureMap:gn.textureMap,mask:k.mask,maskMode:k.maskMode},gn.colorOverLifetime&&gn.colorOverLifetime[0]===vt.GRADIENT_COLOR&&($a.colorOverLifetime=gn.colorOverLifetime[1]),gn.colorOverTrail&&gn.colorOverTrail[0]===vt.GRADIENT_COLOR&&($a.colorOverTrail=gn.colorOverTrail[1])),this.renderer=new Ac(this.engine,er,$a),this.renderer.item=this.item,this.meshes=this.renderer.meshes;var ja=r.interaction;if(ja){var di;this.interaction={multiple:ja.multiple,radius:(di=ja.radius)!=null?di:.4,behavior:ja.behavior}}this.item.getHitTestParams=this.getHitTestParams,this.item._content=this},br(o,[{key:"timePassed",get:function(){return this.lastUpdate-this.loopStartTime}},{key:"lifetime",get:function(){return this.timePassed/this.item.duration}},{key:"particleCount",get:function(){return this.particleLink.length}}]),o}(Hi);as=re([lt(Pt.ParticleSystem)],as);var Ic=new we,jf=new _n,Pc=new Wn,Hf=new we,Gf=new we,yu=new we,Rc=new Wn,Wf=[0,0,0],Zf=new Or;function Xf(i){var o={};return Array.isArray(i)&&i.forEach(function(n){var e=U(n,Array),t=e?n[0]:n.index,r=o[t];r||(r=o[t]=[]),e?r.push(n.slice(1,4)):r.push([+n.x,+n.y,+n.z])}),o}function Dl(i,o){var n=Math.floor(Math.random()*i.length),e=i[n];return o||i.splice(n,1),e}var _c=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.lastTime=0,e}var n=o.prototype;return n.start=function(t){var r=t.output.getUserData();this.particleSystem||!U(r,Pi)||(this.particleSystem=r.getComponent(as),this.particleSystem&&(this.particleSystem.name=r.name,this.particleSystem.startEmit(),this.particleSystem.initEmitterTransform()))},n.processFrame=function(t){this.time>=0&&this.start(t);var r=this.particleSystem;if(r){var a=t.deltaTime;this.time>=0&&this.time<r.item.duration&&r.isEnded()&&r.reset(),Math.abs(this.time-this.lastTime)<.001&&(a=0),r.update(a)}this.lastTime=this.time},o}(Ro),Yf=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){return new _c(t)},o}(_o),Kf={uSprite:"vec4",uParams:"vec4",uAcceleration:"vec4",uGravityModifierValue:"vec4",uOpacityOverLifetimeValue:"vec4",uRXByLifeTimeValue:"vec4",uRYByLifeTimeValue:"vec4",uRZByLifeTimeValue:"vec4",uLinearXByLifetimeValue:"vec4",uLinearYByLifetimeValue:"vec4",uLinearZByLifetimeValue:"vec4",uSpeedLifetimeValue:"vec4",uOrbXByLifetimeValue:"vec4",uOrbYByLifetimeValue:"vec4",uOrbZByLifetimeValue:"vec4",uSizeByLifetimeValue:"vec4",uSizeYByLifetimeValue:"vec4",uColorParams:"vec4",uFSprite:"vec4",uPreviewColor:"vec4",uVCurveValues:"vec4Array",uFCurveValues:"vec4",uFinalTarget:"vec3",uForceCurve:"vec4",uOrbCenter:"vec3",uTexOffset:"vec2",uPeriodValue:"vec4",uMovementValue:"vec4",uStrengthValue:"vec4",uWaveParams:"vec4"},Qf=function(){function i(n,e){this.particleCount=0,this.cachedRotationVector3=new we,this.cachedRotationMatrix=new wa,this.cachedLinearMove=new we,this.tempMatrix3=new wa,this.VERT_MAX_KEY_FRAME_COUNT=0;var t,r=((t=n.renderer)!=null?t:{}).env,a=e.speedOverLifetime,s=e.colorOverLifetime,l=e.linearVelOverLifetime,u=e.orbitalVelOverLifetime,h=e.sizeOverLifetime,m=e.rotationOverLifetime,v=e.sprite,p=e.gravityModifier,b=e.maxCount,x=e.textureFlip,P=e.useSprite,B=e.name,D=e.gravity,_=e.forceTarget,Y=e.side,k=e.occlusion,W=e.anchor,te=e.blending,ae=e.maskMode,se=e.mask,Qe=e.transparentOcclusion,Je=e.meshSlots,at=e.renderMode,ut=at===void 0?0:at,At=e.diffuse,Gt=At===void 0?Nr.createWithData(n):At,Wt=n.gpuCapability.detail,Qt=Wt.halfFloatTexture,er=Wt.maxVertexUniforms,Dt=[["RENDER_MODE",+ut],["ENV_EDITOR",r===bo]],Lr=n.gpuCapability.level,cr=Cs(),Mr=Cs(),Gr=er>0,Wr={},ti=0,Kr=0,sa;if(this.useSprite=P,Gr&&Dt.push(["ENABLE_VERTEX_TEXTURE",!0]),a&&(Dt.push(["SPEED_OVER_LIFETIME",!0]),Kr|=2,Wr.uSpeedLifetimeValue=a.toUniform(cr)),v!=null&&v.animate&&(Dt.push(["USE_SPRITE",!0]),Kr|=4,Wr.uFSprite=Wr.uSprite=new Float32Array([v.col,v.row,v.total,v.blend?1:0]),this.useSprite=!0),s!=null&&s.color&&(Dt.push(["COLOR_OVER_LIFETIME",!0]),Kr|=16,Wr.uColorOverLifetime=U(s.color,Nr)?s.color:Nr.createWithData(n,_e(s.color))),s!=null&&s.opacity?Wr.uOpacityOverLifetimeValue=s.opacity.toUniform(cr):Wr.uOpacityOverLifetimeValue=dr(1).toUniform(cr),["x","y","z"].forEach(function(Ea,Ja){var ws=0,Do=0;l!=null&&l[Ea]&&(Wr["uLinear"+Ea.toUpperCase()+"ByLifetimeValue"]=l[Ea].toUniform(cr),ws=1,Kr|=1<<7+Ja,l.enabled=!0),Dt.push(["LINEAR_VEL_"+Ea.toUpperCase(),ws]),u!=null&&u[Ea]&&(Wr["uOrb"+Ea.toUpperCase()+"ByLifetimeValue"]=u[Ea].toUniform(cr),Do=1,Kr|=1<<10+Ja,sa=!0,u.enabled=!0),Dt.push(["ORB_VEL_"+Ea.toUpperCase(),Do])}),l!=null&&l.asMovement&&(Dt.push(["AS_LINEAR_MOVEMENT",!0]),Kr|=32),sa&&(u!=null&&u.asRotation&&(Dt.push(["AS_ORBITAL_MOVEMENT",!0]),Kr|=64),Wr.uOrbCenter=new Float32Array((u==null?void 0:u.center)||[0,0,0])),Wr.uSizeByLifetimeValue=h==null?void 0:h.x.toUniform(cr),h!=null&&h.separateAxes){var Ra;Dt.push(["SIZE_Y_BY_LIFE",1]),Kr|=16384,Wr.uSizeYByLifetimeValue=h==null||(Ra=h.y)==null?void 0:Ra.toUniform(cr)}m!=null&&m.z&&(Wr.uRZByLifeTimeValue=m.z.toUniform(cr),Kr|=32768,Dt.push(["ROT_Z_LIFETIME",1])),m!=null&&m.x&&(Wr.uRXByLifeTimeValue=m.x.toUniform(cr),Kr|=65536,Dt.push(["ROT_X_LIFETIME",1])),m!=null&&m.y&&(Wr.uRYByLifeTimeValue=m.y.toUniform(cr),Kr|=1<<17,Dt.push(["ROT_Y_LIFETIME",1])),m!=null&&m.asRotation&&(Dt.push(["ROT_LIFETIME_AS_MOVEMENT",1]),Kr|=1<<18),Wr.uGravityModifierValue=p.toUniform(cr),_&&(Dt.push(["FINAL_TARGET",!0]),Kr|=1<<19,Wr.uFinalTarget=new Float32Array(_.target||[0,0,0]),Wr.uForceCurve=_.curve.toUniform(cr)),Qt&&Mr.max?(Kr|=1<<20,Wr.uFCurveValueTexture=fi(n,ra.getAllData(Mr,!0),Mr.index,1)):Wr.uFCurveValues=ra.getAllData(Mr);var ca=cr.max+cr.curves.length-32>er;if(Lr===2&&(cr.max=-1,cr.index=Je?Je[0]:Lc(cr.index),Mr.index>0&&(Mr.max=-1,Mr.index=Je?Je[1]:Lc(Mr.index))),ca&&Qt&&Gr){var Ya=fi(n,ra.getAllData(cr,!0),cr.index,1);Wr.uVCurveValueTexture=Ya,ti=1}else Wr.uVCurveValues=ra.getAllData(cr);var gn=["-p:",ut,Kr,cr.index,cr.max,Mr.index,Mr.max].join("+");Dt.push(["VERT_CURVE_VALUE_COUNT",cr.index],["FRAG_CURVE_VALUE_COUNT",Mr.index],["VERT_MAX_KEY_FRAME_COUNT",cr.max],["FRAG_MAX_KEY_FRAME_COUNT",Mr.max]),this.VERT_MAX_KEY_FRAME_COUNT=cr.max;var $a=Qo,ja="#define LOOKUP_TEXTURE_CURVE "+ti+`
`+ms,di=ja,ls={fragment:$a,vertex:di,glslVersion:Lr===1?qn.GLSL1:qn.GLSL3,shared:!0,cacheId:gn,macros:Dt,name:"particle#"+B},Xo={shader:ls,uniformSemantics:{effects_MatrixV:"VIEW",effects_MatrixVP:"VIEWPROJECTION",uEditorTransform:"EDITOR_TRANSFORM",effects_ObjectToWorld:"MODEL"}},Ri=To(te);Wr.uTexOffset=new Float32Array(Gt?[1/Gt.getWidth(),1/Gt.getHeight()]:[0,0]),Wr.uMaskTex=Gt,Wr.uColorParams=new Float32Array([Gt?1:0,+Ri,0,+(!!k&&!Qe)]),Wr.uParams=[0,0,0,0],Wr.uAcceleration=[(D==null?void 0:D[0])||0,(D==null?void 0:D[1])||0,(D==null?void 0:D[2])||0,0];var Wi=Bi.create(n,Xo);Wi.blending=!0,Wi.depthTest=!0,Wi.depthMask=!!k,Wi.stencilRef=se?[se,se]:void 0,E(Wi,ae),hs(Wi,te),ml(Wi,Y),Object.keys(Wr).map(function(Ea){var Ja=Wr[Ea];if(U(Ja,Nr)){Wi.setTexture(Ea,Ja);return}var ws=[];switch(Kf[Ea]){case"vec4":Wi.setVector4(Ea,Ur.fromArray(Ja));break;case"vec3":Wi.setVector3(Ea,we.fromArray(Ja));break;case"vec2":Wi.setVector2(Ea,_n.fromArray(Ja));break;case"vec4Array":for(var Do=0;Do<Ja.length;Do=Do+4){var Kc=new Ur(Ja[Do],Ja[Do+1],Ja[Do+2],Ja[Do+3]);ws.push(Kc)}Wi.setVector4Array(Ea,ws),ws.length=0;break;default:console.warn("Uniform "+Ea+"'s type not in typeMap.")}}),Wi.setVector3("emissionColor",new we(0,0,0)),Wi.setFloat("emissionIntensity",0);var Gs=Cn.create(n,xu(b*4,this.useSprite,"particle#"+B)),Fo=Mi.create(n,{name:"MParticle_"+B,material:Wi,geometry:Gs});this.anchor=W,this.mesh=Fo,this.geometry=Fo.firstGeometry(),this.forceTarget=_,this.sizeOverLifetime=h,this.speedOverLifetime=a,this.linearVelOverLifetime=l,this.orbitalVelOverLifetime=u,this.orbitalVelOverLifetime=u,this.gravityModifier=p,this.rotationOverLifetime=m,this.maxCount=b,this.textureOffsets=x?[0,0,1,0,0,1,1,1]:[0,1,0,0,1,1,1,0],this.time=0}var o=i.prototype;return o.getPointColor=function(e){var t=this.geometry.getAttributeData("aRot"),r=e*32+4;return bt(t),[t[r],t[r+1],t[r+2],t[r+3]]},o.clearPoints=function(){this.resetGeometryData(this.geometry),this.particleCount=0,this.geometry.setDrawCount(0),this.maxParticleBufferCount=0},o.resetGeometryData=function(e){for(var t=e.getAttributeNames(),r=e.getIndexData(),a=0;a<t.length;a++){var s=t[a],l=e.getAttributeData(s);l&&e.setAttributeData(s,new l.constructor(0))}e.setIndexData(new r.constructor(0))},o.onUpdate=function(e){var t=this.geometry.getAttributeData("aPos"),r=Math.ceil(t.length/12);this.applyTranslation(r,e),this.applyRotation(r,e),this.applyLinearMove(r,e)},o.minusTime=function(e){for(var t=this.geometry.getAttributeData("aOffset"),r=0;r<t.length;r+=4)t[r+2]-=e;this.geometry.setAttributeData("aOffset",t),this.time-=e},o.removePoint=function(e){e<this.particleCount&&this.geometry.setAttributeSubData("aOffset",e*16,new Float32Array(16))},o.setPoint=function(e,t){var r=this.maxCount;if(e<r){var a=e+1,s=a*4,l=this.geometry,u=a>this.maxParticleBufferCount,h=1;this.particleCount>300?h=(this.particleCount+100)/this.particleCount:this.particleCount>100?h=1.4:this.particleCount>0&&(h=2);var m={aPos:new Float32Array(48),aRot:new Float32Array(32),aOffset:new Float32Array(16),aTranslation:new Float32Array(12),aLinearMove:new Float32Array(12),aRotation0:new Float32Array(36)},v=this.useSprite;v&&(m.aSprite=new Float32Array(12));var p=new we,b=new _t,x=new we(1,1,1);t.transform.assignWorldTRS(p,b,x);var P=il.getRotation(b,new Wn),B=p.toArray(),D=P.toArray(),_=this.textureOffsets,Y=[0,0,t.delay,t.lifetime],k=[0,0,1,1],W=t.vel,te=t.color,ae=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],se=Math.random(),Qe;v&&(Qe=t.sprite);for(var Je=0;Je<4;Je++){var at=Je*2,ut=Je*3,At=Je*4,Gt=Je*12,Wt=Je*8;m.aPos.set(B,Gt),W.fill(m.aPos,Gt+3),m.aRot.set(D,Wt),m.aRot[Wt+3]=se,m.aRot.set(te,Wt+4),v&&m.aSprite.set(Qe,ut);var Qt=t.uv||k;if(Qt){var er=v?1-_[at+1]:_[at+1];Y[0]=Qt[0]+_[at]*Qt[2],Y[1]=Qt[1]+er*Qt[3]}m.aOffset.set(Y,At);for(var Dt=Je+Je,Lr=(ae[Dt]-this.anchor.x)*x.x,cr=(ae[Dt+1]-this.anchor.y)*x.y,Mr=0;Mr<3;Mr++)m.aPos[Gt+6+Mr]=t.dirX.getElement(Mr)*Lr,m.aPos[Gt+9+Mr]=t.dirY.getElement(Mr)*cr}var Gr=new Uint16Array([0,1,2,2,1,3].map(function(Kr){return Kr+e*4}));if(u){var Wr=l.getIndexData(),ti=Be(Wr,a*6,r*6,h);ti.set(Gr,e*6),l.setIndexData(ti),this.maxParticleBufferCount=ti.length/6}else l.setIndexSubData(e*6,Gr);Object.keys(m).forEach(function(Kr){var sa=m[Kr],Ra=l.getAttributeStride(Kr)/Float32Array.BYTES_PER_ELEMENT;if(u){var ca=l.getAttributeData(Kr);bt(ca);var Ya=Be(ca,s*Ra,r*4*Ra,h);Ya.set(sa,sa.length*e),l.setAttributeData(Kr,Ya)}else l.setAttributeSubData(Kr,sa.length*e,sa)}),this.particleCount=Math.max(a,this.particleCount),l.setDrawCount(this.particleCount*6)}},o.applyTranslation=function(e,t){var r=this.time,a=this.geometry.getAttributeData("aTranslation"),s=this.geometry.getAttributeData("aVel"),l=this.geometry.getAttributeData("aOffset");a.length<e*3&&(a=this.expandArray(a,e*3));for(var u=0,h=0,m=0,v=this.mesh.material.getVector4("uAcceleration"),p=this.mesh.material.getVector4("uGravityModifierValue"),b=0;b<e;b+=4){var x=b*12+3;u=s[x],h=s[x+1],m=s[x+2];var P=r-l[b*4+2],B=l[b*4+3];if(v&&p){var D=this.gravityModifier.getIntegrateValue(0,P,B),_=v.x*D,Y=v.y*D,k=v.z*D;if(this.speedOverLifetime){var W=this.speedOverLifetime.getValue(P/B);u=u*W+_,h=h*W+Y,m=m*W+k}else u=u+_,h=h+Y,m=m+k}var te=b*3;if(l[b*4+2]<r){var ae=u*(t/1e3),se=h*(t/1e3),Qe=m*(t/1e3);a[te]+=ae,a[te+1]+=se,a[te+2]+=Qe,a[te+3]+=ae,a[te+4]+=se,a[te+5]+=Qe,a[te+6]+=ae,a[te+7]+=se,a[te+8]+=Qe,a[te+9]+=ae,a[te+10]+=se,a[te+11]+=Qe}}this.geometry.setAttributeData("aTranslation",a)},o.applyRotation=function(e,t){var r=this.geometry.getAttributeData("aRotation0"),a=this.geometry.getAttributeData("aOffset"),s=this.geometry.getAttributeData("aRot"),l=this.geometry.getAttributeData("aSeed"),u=this.time,h=this.cachedRotationMatrix;r.length<e*9&&(r=this.expandArray(r,e*9));for(var m=0;m<e;m+=4){var v=u-a[m*4+2],p=a[m*4+3],b=oi(v/p,0,1),x=m*8,P=this.cachedRotationVector3.set(s[x],s[x+1],s[x+2]),B=l[m*8+3],D=P;this.rotationOverLifetime?(this.rotationOverLifetime.x&&(U(this.rotationOverLifetime.x,yo)?D.x+=this.rotationOverLifetime.x.getValue(b,B):D.x+=this.rotationOverLifetime.x.getValue(b)),this.rotationOverLifetime.y&&(U(this.rotationOverLifetime.y,yo)?D.y+=this.rotationOverLifetime.y.getValue(b,B):D.y+=this.rotationOverLifetime.y.getValue(b)),this.rotationOverLifetime.z&&(U(this.rotationOverLifetime.z,yo)?D.z+=this.rotationOverLifetime.z.getValue(b,B):D.z+=this.rotationOverLifetime.z.getValue(b))):h.setZero(),D.dot(D)===0&&h.identity();var _=Math.PI/180,Y=D.x*_,k=D.y*_,W=D.z*_,te=Math.sin(Y),ae=Math.sin(k),se=Math.sin(W),Qe=Math.cos(Y),Je=Math.cos(k),at=Math.cos(W);h.set(at,-se,0,se,at,0,0,0,1),h.multiply(this.tempMatrix3.set(Je,0,ae,0,1,0,-ae,0,Je)),h.multiply(this.tempMatrix3.set(1,0,0,0,Qe,-te,0,te,Qe));var ut=m*9,At=h.elements;r.set(At,ut),m+4<=e&&(r.set(At,ut+9),r.set(At,ut+18),r.set(At,ut+27))}this.geometry.setAttributeData("aRotation0",r)},o.applyLinearMove=function(e,t){var r=this.geometry.getAttributeData("aLinearMove"),a=this.geometry.getAttributeData("aOffset"),s=this.geometry.getAttributeData("aSeed"),l=this.time;r.length<e*3&&(r=this.expandArray(r,e*3));var u=this.cachedLinearMove;if(this.linearVelOverLifetime&&this.linearVelOverLifetime.enabled)for(var h=0;h<e;h+=4){var m=l-a[h*4+2],v=a[h*4+3],p=m/v,b=s[h*8+3];u.setZero(),this.linearVelOverLifetime.asMovement?(this.linearVelOverLifetime.x&&(U(this.linearVelOverLifetime.x,yo)?u.x=this.linearVelOverLifetime.x.getValue(p,b):u.x=this.linearVelOverLifetime.x.getValue(p)),this.linearVelOverLifetime.y&&(U(this.linearVelOverLifetime.y,yo)?u.y=this.linearVelOverLifetime.y.getValue(p,b):u.y=this.linearVelOverLifetime.y.getValue(p)),this.linearVelOverLifetime.z&&(U(this.linearVelOverLifetime.z,yo)?u.z=this.linearVelOverLifetime.z.getValue(p,b):u.z=this.linearVelOverLifetime.z.getValue(p))):(this.linearVelOverLifetime.x&&(U(this.linearVelOverLifetime.x,yo)?u.x=this.linearVelOverLifetime.x.getIntegrateValue(0,m,b):u.x=this.linearVelOverLifetime.x.getIntegrateValue(0,m,v)),this.linearVelOverLifetime.y&&(U(this.linearVelOverLifetime.y,yo)?u.y=this.linearVelOverLifetime.y.getIntegrateValue(0,m,b):u.y=this.linearVelOverLifetime.y.getIntegrateValue(0,m,v)),this.linearVelOverLifetime.z&&(U(this.linearVelOverLifetime.z,yo)?u.z=this.linearVelOverLifetime.z.getIntegrateValue(0,m,b):u.z=this.linearVelOverLifetime.z.getIntegrateValue(0,m,v)));var x=h*3;r[x]=u.x,r[x+1]=u.y,r[x+2]=u.z,r[x+3]=u.x,r[x+4]=u.y,r[x+5]=u.z,r[x+6]=u.x,r[x+7]=u.y,r[x+8]=u.z,r[x+9]=u.x,r[x+10]=u.y,r[x+11]=u.z}this.geometry.setAttributeData("aLinearMove",r)},o.expandArray=function(e,t){var r=new Float32Array(t);return r.set(e),r},i}(),bu=[10,32,64,160];function Lc(i){for(var o=0;o<bu.length;o++){var n=bu[o];if(n>i)return n}return i||bu[0]}function xu(i,o,n){var e=Float32Array.BYTES_PER_ELEMENT,t=e*12,r={aPos:{size:3,offset:0,stride:t,data:new Float32Array(0)},aVel:{size:3,offset:3*e,stride:t,dataSource:"aPos"},aDirX:{size:3,offset:6*e,stride:t,dataSource:"aPos"},aDirY:{size:3,offset:9*e,stride:t,dataSource:"aPos"},aRot:{size:3,offset:0,stride:8*e,data:new Float32Array(0)},aSeed:{size:1,offset:3*e,stride:8*e,dataSource:"aRot"},aColor:{size:4,offset:4*e,stride:8*e,dataSource:"aRot"},aOffset:{size:4,stride:4*e,data:new Float32Array(0)},aTranslation:{size:3,data:new Float32Array(0)},aLinearMove:{size:3,data:new Float32Array(0)},aRotation0:{size:3,offset:0,stride:9*e,data:new Float32Array(0)},aRotation1:{size:3,offset:3*e,stride:9*e,dataSource:"aRotation0"},aRotation2:{size:3,offset:6*e,stride:9*e,dataSource:"aRotation0"}};return o&&(r.aSprite={size:3,stride:3*e,data:new Float32Array(0)}),{attributes:r,indices:{data:new Uint16Array(0)},name:n,maxVertex:i}}function Fc(i,o,n){n===void 0&&(n="");var e,t=i.content,r=+(((e=t.renderer)==null?void 0:e.renderMode)||0),a=[["RENDER_MODE",r],["ENV_EDITOR",n===bo]],s=o.level,l=o.detail,u=Cs(),h=Cs(),m=l.maxVertexUniforms>0,v,p=((v=t.positionOverLifetime)!=null?v:{}).speedOverLifetime,b=0,x=0;m&&a.push(["ENABLE_VERTEX_TEXTURE",!0]),p&&(a.push(["SPEED_OVER_LIFETIME",!0]),x|=2,Qa(u,p));var P=t.textureSheetAnimation;P&&P.animate&&(a.push(["USE_SPRITE",!0]),x|=4);var B=t.colorOverLifetime;B&&B.color&&(a.push(["COLOR_OVER_LIFETIME",!0]),x|=16);var D=B&&B.opacity;D&&Qa(u,D);var _=t.positionOverLifetime,Y;if(["x","y","z"].forEach(function(At,Gt){var Wt=0,Qt="linear"+At.toUpperCase(),er="orbital"+At.toUpperCase();_!=null&&_[Qt]&&(Qa(u,_[Qt]),Wt=1,x|=1<<7+Gt),a.push(["LINEAR_VEL_"+At.toUpperCase(),Wt]);var Dt=0;_!=null&&_[er]&&(Qa(u,_[er]),Dt=1,x|=1<<10+Gt,Y=!0),a.push(["ORB_VEL_"+At.toUpperCase(),Dt])}),_!=null&&_.asMovement&&(a.push(["AS_LINEAR_MOVEMENT",!0]),x|=32),Y&&_!=null&&_.asRotation&&(a.push(["AS_ORBITAL_MOVEMENT",!0]),x|=64),t.sizeOverLifetime){var k=t.sizeOverLifetime,W=k.separateAxes;W?(Qa(u,k.x),a.push(["SIZE_Y_BY_LIFE",1]),x|=16384,Qa(u,k.y)):Qa(u,k.size)}if(t.rotationOverLifetime){var te=t.rotationOverLifetime;te.z&&(Qa(u,te==null?void 0:te.z),x|=32768,a.push(["ROT_Z_LIFETIME",1])),te.separateAxes&&(te.x&&(Qa(u,te.x),x|=65536,a.push(["ROT_X_LIFETIME",1])),te.y&&(Qa(u,te.y),x|=1<<17,a.push(["ROT_Y_LIFETIME",1]))),te!=null&&te.asRotation&&(a.push(["ROT_LIFETIME_AS_MOVEMENT",1]),x|=1<<18)}Qa(u,_==null?void 0:_.gravityOverLifetime);var ae=_==null?void 0:_.forceTarget;ae&&(a.push(["FINAL_TARGET",!0]),x|=1<<19,Qa(u,_.forceCurve));var se=l.halfFloatTexture;se&&h.max&&(x|=1<<20);var Qe=l.maxVertexUniforms,Je=u.max+u.curves.length-32>Qe;su(ac)&&(Je=!0),s===2&&(u.max=-1,h.index>0&&(h.max=-1)),Je&&se&&m&&(b=1);var at=["-p:",r,x,u.index,u.max,h.index,h.max].join("+"),ut={fragment:Qo,vertex:"#define LOOKUP_TEXTURE_CURVE "+b+`
`+ms,shared:!0,cacheId:at,macros:a,name:"particle#"+i.name};return a.push(["VERT_CURVE_VALUE_COUNT",u.index],["FRAG_CURVE_VALUE_COUNT",h.index],["VERT_MAX_KEY_FRAME_COUNT",u.max],["FRAG_MAX_KEY_FRAME_COUNT",h.max]),{shader:ut,vertex:u.index,fragment:h.index}}function Jf(i,o,n){var e,t=(e=i.cacheId)==null?void 0:e.split("+");if(t[3]=o,t[5]=n,i.cacheId=t.join("+"),!!i.macros)for(var r=0;r<i.macros.length;r++){var a=i.macros[r];if(a[0]==="VERT_CURVE_VALUE_COUNT")a[1]=o;else if(a[0]==="FRAG_CURVE_VALUE_COUNT"){a[1]=n;break}}}var qf=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o.precompile=function(e,t,r){var a=t.engine.gpuCapability,s=a.level,l=(r!=null?r:{}).env,u=t.getShaderLibrary(),h=[],m=[],v=0,p=0;return e.forEach(function(b){b.items.forEach(function(x){iu.isParticle(x)&&h.push(x)})}),h.forEach(function(b){var x=Fc(b,a,l),P=x.shader,B=x.fragment,D=x.vertex;if(m.push(P),v=Math.max(v,B),p=Math.max(p,D),b.content.trails){var _=Mc(b.content.trails,b.content.options.maxCount,b.name,a,l);_.glslVersion=s===2?qn.GLSL3:qn.GLSL1,u==null||u.addShader(_)}}),m.forEach(function(b){s===2?(Jf(b,p,v),b.glslVersion=qn.GLSL3):b.glslVersion=qn.GLSL1,u==null||u.addShader(b)}),s===2&&h.forEach(function(b){b.content.options.meshSlots=[p,v]}),Promise.resolve()},o}(pr),eh=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o}(pr),Dc=function(){function i(n){this.curveValues={},this.playable=n}var o=i.prototype;return o.setCurveValue=function(e,t,r){return this.findCurveValue(e,t)?this.curveValues[e+t].value=r:this.curveValues[e+t]={componentType:e,propertyName:t,value:r},this.curveValues[e+t]},o.findCurveValue=function(e,t){return this.curveValues[e+t]},i}(),th=function(i){be(o,i);function o(n){var e;return e=i.call(this,n)||this,e.animationStream=new Dc(He(e)),e}return o}(Ro),Us=new Wn,Go=new we(1,1,1),Nc=new we,rh=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.start=function(){var t=this.boundObject,r=t.transform.scale;this.originalTransform={position:t.transform.position.clone(),rotation:t.transform.getRotation().clone(),scale:new we(r.x,r.y,r.x)};var a=this.data.positionOverLifetime,s=this.data.rotationOverLifetime,l=this.data.sizeOverLifetime;if(a&&Object.keys(a).length!==0){this.positionOverLifetime=a,a.path&&(this.originalTransform.path=dr(a.path));var u=a.linearX||a.linearY||a.linearZ;u&&(this.linearVelOverLifetime={x:a.linearX&&dr(a.linearX),y:a.linearY&&dr(a.linearY),z:a.linearZ&&dr(a.linearZ),asMovement:a.asMovement,enabled:!!u});var h=a.orbitalX||a.orbitalY||a.orbitalZ;h&&(this.orbitalVelOverLifetime={x:a.orbitalX&&dr(a.orbitalX),y:a.orbitalY&&dr(a.orbitalY),z:a.orbitalZ&&dr(a.orbitalZ),center:Qs(a.orbCenter),asRotation:a.asRotation,enabled:!!h}),this.speedOverLifetime=a.speedOverLifetime&&dr(a.speedOverLifetime)}if(l&&(l.separateAxes?(this.sizeSeparateAxes=!0,this.sizeXOverLifetime=dr(l.x||1),this.sizeYOverLifetime=dr(l.y||1),this.sizeZOverLifetime=dr(l.z||1)):this.sizeXOverLifetime=dr(l.size||1)),s&&(this.rotationOverLifetime={asRotation:s.asRotation,separateAxes:s.separateAxes,z:dr(s.z||0)},s.separateAxes)){var m=this.rotationOverLifetime;m.x=dr(s.x||0),m.y=dr(s.y||0)}this.gravity=we.fromArray((a==null?void 0:a.gravity)||[]);var v;this.gravityModifier=dr((v=a==null?void 0:a.gravityOverLifetime)!=null?v:0),this.direction=a!=null&&a.direction?we.fromArray(a.direction).normalize():new we,this.startSpeed=(a==null?void 0:a.startSpeed)||0,this.velocity=this.direction.clone(),this.velocity.multiply(this.startSpeed)},n.processFrame=function(t){if(!this.boundObject){var r=t.output.getUserData();U(r,Pi)&&(this.boundObject=r,this.start())}this.boundObject&&this.boundObject.composition&&this.sampleAnimation()},n.sampleAnimation=function(){var t=this,r=this.boundObject,a=r.duration,s=this.time/a;if(s=s<0?0:s>1?1:s,this.sizeXOverLifetime){Go.x=this.sizeXOverLifetime.getValue(s),this.sizeSeparateAxes?(Go.y=this.sizeYOverLifetime.getValue(s),Go.z=this.sizeZOverLifetime.getValue(s)):Go.z=Go.y=Go.x;var l=this.originalTransform.scale;r.transform.setScale(Go.x*l.x,Go.y*l.y,Go.z*l.z)}if(this.rotationOverLifetime){var u=function(b){return t.rotationOverLifetime.asRotation?b.getValue(s):b.getIntegrateValue(0,s,a)},h=u(this.rotationOverLifetime.z),m=this.rotationOverLifetime.separateAxes;Us.x=m?u(this.rotationOverLifetime.x):0,Us.y=m?u(this.rotationOverLifetime.y):0,Us.z=h;var v=Us.addEulers(this.originalTransform.rotation,Us);r.transform.setRotation(v.x,v.y,v.z)}if(this.positionOverLifetime){var p=Nc;Uo(p,this,this.gravity,this.time,a,this.originalTransform.position,this.velocity),this.originalTransform.path&&p.add(this.originalTransform.path.getValue(s)),r.transform.setPosition(p.x,p.y,p.z)}},o}(th),Vc=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new rh(t);return r.data=this.transformAnimationData,r},n.fromData=function(t){this.transformAnimationData=t},o}(_o);Vc=re([lt(Pt.TransformPlayableAsset)],Vc);var nh=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.processFrame=function(t){var r=t.output.getUserData();U(r,Pi)&&(r.time=this.time)},o}(Ro),Bc=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){return new nh(t)},o}(_o);Bc=re([lt(Pt.ActivationPlayableAsset)],Bc);var zc=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.duration=0,e.positionCurves=[],e.rotationCurves=[],e.scaleCurves=[],e.floatCurves=[],e}var n=o.prototype;return n.sampleAnimation=function(t,r){var a=t.duration,s=r/a;s=s<0?0:s>1?1:s;for(var l=ke(this.positionCurves),u;!(u=l()).done;){var h=u.value,m=h.keyFrames.getValue(s),v=this.findTarget(t,h.path);v==null||v.transform.setPosition(m.x,m.y,m.z)}for(var p=ke(this.rotationCurves),b;!(b=p()).done;){var x=b.value,P=x.keyFrames.getValue(s),B=this.findTarget(t,x.path);B==null||B.transform.setQuaternion(P.x,P.y,P.z,P.w)}for(var D=ke(this.scaleCurves),_;!(_=D()).done;){var Y=_.value,k=Y.keyFrames.getValue(s),W=this.findTarget(t,Y.path);W==null||W.transform.setScale(k.x,k.y,k.z)}},n.fromData=function(t){this.positionCurves.length=0,this.scaleCurves.length=0,this.floatCurves.length=0;for(var r=ke(t.positionCurves),a;!(a=r()).done;){var s=a.value,l={path:s.path,keyFrames:dr(s.keyFrames)};this.duration=Math.max(this.duration,l.keyFrames.getMaxTime()),this.positionCurves.push(l)}for(var u=ke(t.rotationCurves),h;!(h=u()).done;){var m=h.value,v={path:m.path,keyFrames:dr(m.keyFrames)};this.duration=Math.max(this.duration,v.keyFrames.getMaxTime()),this.rotationCurves.push(v)}for(var p=ke(t.scaleCurves),b;!(b=p()).done;){var x=b.value,P={path:x.path,keyFrames:dr(x.keyFrames)};this.duration=Math.max(this.duration,P.keyFrames.getMaxTime()),this.scaleCurves.push(P)}for(var B=ke(t.floatCurves),D;!(D=B()).done;){var _=D.value,Y={path:_.path,keyFrames:dr(_.keyFrames),property:_.property,className:_.className};this.duration=Math.max(this.duration,Y.keyFrames.getMaxTime()),this.floatCurves.push(Y)}},n.findTarget=function(t,r){for(var a=t,s=ke(r),l;!(l=s()).done;){for(var u=l.value,h=!1,m=ke(a.children),v;!(v=m()).done;){var p=v.value;if(p.name===u){a=p,h=!0;break}}if(!h)return}return a},o}(In);zc=re([lt(Pt.AnimationClip)],zc);var Ph=null,c=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.clipPlayables=[],e.clipWeights=[],e}var n=o.prototype;return n.processFrame=function(t){for(var r=ke(this.clipPlayables),a;!(a=r()).done;){var s=a.value;s.processFrame(t)}this.evaluate(t)},n.setClipWeight=function(t,r){if(U(t,Ro)){for(var a=0;a<this.clipPlayables.length;a++)if(this.clipPlayables[a]===t){this.clipWeights[a]=r;return}}else this.clipWeights.length<t+1&&(this.clipWeights.length=t+1),this.clipWeights[t]=r},n.getClipWeight=function(t){return this.clipWeights[t]},n.getClipPlayable=function(t){return this.clipPlayables[t]},n.evaluate=function(t){},o}(Ro),f=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(U(r,Pi)){for(var a=r,s=!1,l=0;l<this.clipPlayables.length;l++)if(this.getClipWeight(l)>0){s=!0;break}s?(a.transform.setValid(!0),a.setActive(!0)):(a.transform.setValid(!1),a.setActive(!1))}},o}(c),d=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.processFrame=function(t){this.value=this.curve.getValue(this.time/this.getDuration())},o}(Ro),g=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(r){var a=!1,s=r[this.propertyName];if(U(s,Kn)){s.setZero();for(var l=0;l<this.clipPlayables.length;l++){var u=this.getClipWeight(l);if(u>0){var h=this.getClipPlayable(l);if(!U(h,d)){console.error("ColorPropertyMixerPlayable received incompatible input");continue}var m=h.value;s.r+=m.r*u,s.g+=m.g*u,s.b+=m.b*u,s.a+=m.a*u,a=!0}}a&&(r[this.propertyName]=s)}}},o}(c),C=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(r){for(var a=!1,s=0,l=0;l<this.clipPlayables.length;l++){var u=this.getClipWeight(l);if(u>0){var h=this.getClipPlayable(l);if(!U(h,d)){console.error("FloatPropertyTrack added non-FloatPropertyPlayableAsset");continue}var m=h.value;s+=m*u,a=!0}}a&&(r[this.propertyName]=s)}},o}(c),I=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){},o}(c),O=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){},o}(c),L=function(){function i(){}return i.collectSerializableObject=function(n,e){if(!e[n.getInstanceId()]){n.toData(),e[n.getInstanceId()]=n;var t=na(n);if(t)for(var r=ke(Object.keys(t)),a;!(a=r()).done;){var s=a.value,l=n.taggedProperties[s];if(l===void 0&&(l=n[s]),In.is(l))i.collectSerializableObject(l,e);else if(zr(l))for(var u=ke(l),h;!(h=u()).done;){var m=h.value;In.is(m)&&i.collectSerializableObject(m,e)}else if(ge(l))for(var v=ke(Object.keys(l)),p;!(p=v()).done;){var b=p.value,x=l[b];In.is(x)&&i.collectSerializableObject(x,e)}}}},i.serializeEffectObject=function(n){var e={},t=n.engine,r=A({},t.jsonSceneData);i.collectSerializableObject(n,e);for(var a=ke(Object.keys(e)),s;!(s=a()).done;){var l=s.value,u=e[l];r[u.getInstanceId()]||(r[u.getInstanceId()]={}),i.serialize(u,r[u.getInstanceId()])}return r},i.serialize=function(n,e){n.toData(),e||(e={});var t=na(n);if(t)for(var r=ke(Object.keys(t)),a;!(a=r()).done;){var s=a.value,l=n[s];typeof l=="number"||typeof l=="string"||typeof l=="boolean"||i.checkTypedArray(l)?e[s]=l:zr(l)?(e[s]||(e[s]=[]),i.serializeArrayProperty(l,e[s],0)):In.is(l)?e[s]={id:l.getInstanceId()}:ge(l)&&(e[s]||(e[s]={}),i.serializeObjectProperty(l,e[s],0))}for(var u=ke(Object.keys(n.taggedProperties)),h;!(h=u()).done;){var m=h.value,v=n.taggedProperties[m];typeof v=="number"||typeof v=="string"||typeof v=="boolean"||i.checkTypedArray(v)?e[m]=v:zr(v)?(e[m]||(e[m]=[]),i.serializeArrayProperty(v,e[m],0)):In.is(v)?e[m]={id:v.getInstanceId()}:ge(v)&&(e[m]||(e[m]={}),i.serializeObjectProperty(v,e[m],0))}return e},i.deserialize=function(n,e){for(var t=e.taggedProperties,r=na(e),a=e.engine,s=ke(Object.keys(n)),l;!(l=s()).done;){var u=l.value;if(!(r&&r[u])){var h=n[u];t[u]=i.deserializeProperty(h,a,0)}}if(r)for(var m=ke(Object.keys(r)),v;!(v=m()).done;){var p=v.value,b=n[p];if(b!==void 0){var x=r[p].type;e[p]=i.deserializeProperty(b,a,0,x)}}e.fromData(t)},i.deserializeAsync=function(n,e){return M(function(){var t,r,a,s,l,u,h,m,v,p,b,x;return ee(this,function(P){switch(P.label){case 0:t=e.taggedProperties,r=na(e),a=e.engine,s=ke(Object.keys(n)),P.label=1;case 1:return(l=s()).done?[3,4]:(u=l.value,r&&r[u]?[3,3]:(h=n[u],[4,i.deserializePropertyAsync(h,a,0)]));case 2:t[u]=P.sent(),P.label=3;case 3:return[3,1];case 4:if(!r)return[3,8];m=ke(Object.keys(r)),P.label=5;case 5:return(v=m()).done?[3,8]:(p=v.value,b=n[p],b===void 0?[3,7]:(x=r[p].type,[4,i.deserializePropertyAsync(b,a,0,x)]));case 6:e[p]=P.sent(),P.label=7;case 7:return[3,5];case 8:return e.fromData(t),[2]}})})()},i.checkTypedArray=function(n){return U(n,Int8Array)||U(n,Uint8Array)||U(n,Uint8ClampedArray)||U(n,Int16Array)||U(n,Uint16Array)||U(n,Int32Array)||U(n,Uint32Array)||U(n,Float32Array)||U(n,Float64Array)||U(n,ArrayBuffer)},i.checkDataPath=function(n){return!!(ge(n)&&Object.keys(n).length===1&&"id"in n&&_r(n.id)&&n.id.length===32)},i.checkGLTFNode=function(n){return ge(n)&&n.nodeIndex!==void 0&&n.isJoint!==void 0},i.checkImageSource=function(n){return je(n)||U(n,HTMLImageElement)},i.deserializeProperty=function(n,e,t,r){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}if(zr(n)){for(var a=[],s=ke(n),l;!(l=s()).done;){var u=l.value;a.push(i.deserializeProperty(u,e,t+1,r))}return a}else{if(i.checkDataPath(n))return e.assetLoader.loadGUID(n.id);if(ge(n)&&n.constructor===Object){var h;r?h=new r:h={};for(var m=ke(Object.keys(n)),v;!(v=m()).done;){var p=v.value;h[p]=i.deserializeProperty(n[p],e,t+1)}return h}else return n}},i.deserializePropertyAsync=function(n,e,t,r){return M(function(){var a,s,l,u,h,m,v,p,b,x;return ee(this,function(P){switch(P.label){case 0:if(t>14)return console.error("The nested object layers of the serialized data exceed the maximum limit."),[2];if(!zr(n))return[3,5];a=[],s=ke(n),P.label=1;case 1:return(l=s()).done?[3,4]:(u=l.value,h=a.push,[4,i.deserializePropertyAsync(u,e,t+1,r)]);case 2:h.apply(a,[P.sent()]),P.label=3;case 3:return[3,1];case 4:return[2,a];case 5:return i.checkDataPath(n)?[4,e.assetLoader.loadGUIDAsync(n.id)]:[3,7];case 6:return m=P.sent(),[2,m];case 7:if(!(ge(n)&&n.constructor===Object))return[3,12];r?v=new r:v={},p=ke(Object.keys(n)),P.label=8;case 8:return(b=p()).done?[3,11]:(x=b.value,[4,i.deserializePropertyAsync(n[x],e,t+1)]);case 9:v[x]=P.sent(),P.label=10;case 10:return[3,8];case 11:return[2,v];case 12:return[2,n];case 13:return[2]}})})()},i.serializeObjectProperty=function(n,e,t){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}e||(e={});for(var r=ke(Object.keys(n)),a;!(a=r()).done;){var s=a.value,l=n[s];typeof l=="number"||typeof l=="string"||typeof l=="boolean"||i.checkTypedArray(n)?e[s]=l:zr(l)?(e[s]||(e[s]=[]),i.serializeArrayProperty(l,e[s],t+1)):In.is(l)?e[s]={id:l.getInstanceId()}:ge(l)&&(e[s]||(e[s]={}),i.serializeObjectProperty(l,e[s],t+1))}},i.serializeArrayProperty=function(n,e,t){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}e||(e=[]);for(var r=0;r<n.length;r++){var a=n[r];typeof a=="number"||typeof a=="string"||typeof a=="boolean"||i.checkTypedArray(n)?e[r]=a:zr(a)?(e[r]||(e[r]=[]),i.serializeArrayProperty(a,e[r],t+1)):In.is(a)?e[r]={id:a.getInstanceId()}:ge(a)&&(e[r]||(e[r]={}),i.serializeObjectProperty(a,e[r],t+1))}},i}(),N=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.time=0,e.startTime=0,e.items=[],e.reusable=!1,e.sceneBindings=[],e.graph=new ec,e}var n=o.prototype;return n.onStart=function(){this.timelineAsset||(this.timelineAsset=new Cu(this.engine)),this.resolveBindings(),this.timelinePlayable=this.timelineAsset.createPlayable(this.graph),this.item.endBehavior!==Te.destroy&&this.setReusable(!0)},n.setReusable=function(t){for(var r=ke(this.timelineAsset.tracks),a;!(a=r()).done;){var s=a.value,l=s.boundObject;if(U(l,Pi)){var u=l.getComponent(o);u&&u.setReusable(t)}}},n.getReusable=function(){return this.reusable},n.onUpdate=function(t){var r=this.time;this.timelinePlayable.setTime(r),this.timelinePlayable.evaluate(),this.graph.evaluate(t)},n.createContent=function(){if(this.item.composition)for(var t=ke(this.items),r;!(r=t()).done;){var a=r.value;if(a.composition=this.item.composition,Pi.isComposition(a)){this.item.composition.refContent.push(a);var s=a.props.content,l=s.options.refId,u=this.item.composition.refCompositionProps.get(l);if(!u)throw new Error("Referenced precomposition with Id: "+l+" does not exist.");var h=a.addComponent(o);L.deserialize(u,h),h.createContent();for(var m=ke(h.items),v;!(v=m()).done;){var p=v.value;p.setInstanceId(nt());for(var b=ke(p.components),x;!(x=b()).done;){var P=x.value;P.setInstanceId(nt())}}}}},n.onEnable=function(){for(var t=ke(this.items),r;!(r=t()).done;){var a=r.value;a.setActive(!0)}},n.onDisable=function(){for(var t=ke(this.items),r;!(r=t()).done;){var a=r.value;a.setActive(!1)}},n.onDestroy=function(){this.item.composition&&this.items&&(this.items.forEach(function(t){return t.dispose()}),this.items.length=0)},n.hitTest=function(t,r,a,s,l,u){for(var h,m=function(D){var _=h.items[D];if(_.isActive&&_.transform.getValid()&&!Pi.isComposition(_)&&!b(_)){var Y=_.getHitTestParams(l);if(Y){var k=!1,W=new we;if(Y.type===lo.triangle)for(var te=Y.triangles,ae=Y.backfaceCulling,se=0;se<te.length;se++){var Qe=te[se];if(t.intersectTriangle(Qe,W,ae)){k=!0,v.push(W);break}}else if(Y.type===lo.box){var Je=Y.center,at=Y.size,ut=Je.clone().addScaledVector(at,.5),At=Je.clone().addScaledVector(at,-.5);t.intersectBox({min:ut,max:At},W)&&(k=!0,v.push(W))}else if(Y.type===lo.sphere){var Gt=Y.center,Wt=Y.radius;t.intersectSphere({center:Gt,radius:Wt},W)&&(k=!0,v.push(W))}else if(Y.type===lo.custom){var Qt=Y.collect(t,new _n(r,a));Qt&&Qt.length>0&&(Qt.forEach(function(Dt){v.push(Dt)}),k=!0)}if(k){var er={compContent:h.item,id:_.id,name:_.name,position:v[v.length-1],parentId:_.parentId,hitPositions:v,behavior:Y.behavior};if(_.emit("click",er),s.push(er),p(er))return{v:s}}}}},v=[],p=(u==null?void 0:u.stop)||gr,b=(u==null?void 0:u.skip)||gr,x=(u==null?void 0:u.maxCount)||this.items.length,P=0;P<this.items.length&&s.length<x;P++){var B=(h=this,m(P));if(xe(B)==="object")return B.v}return s},n.setChildrenRenderOrder=function(t){for(var r=ke(this.items),a;!(a=r()).done;){var s=a.value;s.renderOrder=t++;var l=s.getComponent(o);l&&(t=l.setChildrenRenderOrder(t))}return t},n.fromData=function(t){i.prototype.fromData.call(this,t),this.items=t.items;var r;this.startTime=(r=t.startTime)!=null?r:0,this.sceneBindings=t.sceneBindings,this.timelineAsset=t.timelineAsset},n.resolveBindings=function(){for(var t=ke(this.sceneBindings),r;!(r=t()).done;){var a=r.value;a.key.boundObject=a.value}for(var s=ke(this.timelineAsset.tracks),l;!(l=s()).done;){var u=l.value;this.updateTrackAnimatedObject(u)}},n.updateTrackAnimatedObject=function(t){for(var r=ke(t.getChildTracks()),a;!(a=r()).done;){var s=a.value;s.updateAnimatedObject(),this.updateTrackAnimatedObject(s)}},o}(Ta),j=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.processFrame=function(t){var r=t.output.getUserData();U(r,N)&&(r.time=this.getTime())},o}(Ro),Q=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(U(r,N)){for(var a=r,s=!1,l=0;l<this.clipPlayables.length;l++)if(this.getClipWeight(l)>0){s=!0;break}s?a.item.setActive(!0):a.item.setActive(!1)}},o}(c),pe=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){},o}(c),Me=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(r){var a=!1,s=r[this.propertyName];if(U(s,Ur)){s.setZero();for(var l=0;l<this.clipPlayables.length;l++){var u=this.getClipWeight(l);if(u>0){var h=this.getClipPlayable(l);if(!U(h,d)){console.error("Vector4PropertyTrack added non-Vector4PropertyPlayableAsset");continue}var m=h.value;s.x+=m.x*u,s.y+=m.y*u,s.z+=m.z*u,s.w+=m.w*u,a=!0}}a&&(r[this.propertyName]=s)}}},o}(c),st=function(){function i(){this.start=0,this.duration=0}var o=i.prototype;return o.toLocalTime=function(e){var t=e-this.start,r=this.duration;return t-r>0&&(this.endBehavior===Te.restart?t=t%r:this.endBehavior===Te.freeze&&(t=Math.min(r,t))),t},i}(),ct=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.trackType=0,e.clipSeed=0,e.clips=[],e.children=[],e}var n=o.prototype;return n.updateAnimatedObject=function(){this.parent&&(this.boundObject=this.parent.boundObject)},n.createTrackMixer=function(t){return new c(t)},n.createOutput=function(){var t=new gf;return t},n.createPlayableGraph=function(t,r){var a=this.createMixerPlayableGraph(t,r);return a},n.createMixerPlayableGraph=function(t,r){for(var a=[],s=ke(this.clips),l;!(l=s()).done;){var u=l.value;a.push(u)}var h=this.compileClips(t,a,r);return h},n.compileClips=function(t,r,a){for(var s=this.createTrackMixer(t),l=ke(r),u;!(u=l()).done;){var h=u.value,m=this.createClipPlayable(t,h);m.setDuration(h.duration);var v=new yr(h,m,s,this);a.push(v),s.clipPlayables.push(m),s.setClipWeight(m,0)}return s},n.createPlayable=function(t){return new Ro(t)},n.getChildTracks=function(){return this.children},n.addChild=function(t){this.children.push(t),t.parent=this},n.createClip=function(t,r){var a=new st;return a.asset=new t(this.engine),a.name=r||"TimelineClip"+a.id,this.addClip(a),a},n.getClips=function(){return this.clips},n.findClip=function(t){for(var r=ke(this.clips),a;!(a=r()).done;){var s=a.value;if(s.name===t)return s}},n.addClip=function(t){t.id=(this.clipSeed++).toString(),this.clips.push(t)},n.createClipPlayable=function(t,r){return r.asset.createPlayable(t)},n.fromData=function(t){i.prototype.fromData.call(this,t);for(var r=ke(this.children),a;!(a=r()).done;){var s=a.value;s.parent=this}},o}(_o);re([Rr(st)],ct.prototype,"clips",void 0),re([Rr()],ct.prototype,"children",void 0),ct=re([lt(Pt.TrackAsset)],ct);var kt;(function(i){i[i.MasterTrack=0]="MasterTrack",i[i.ObjectTrack=1]="ObjectTrack"})(kt||(kt={}));var yr=function(){function i(n,e,t,r){this.clip=n,this.playable=e,this.parentMixer=t,this.track=r,U(this.track.boundObject,Pi)&&(this.particleSystem=this.track.boundObject.getComponent(as))}var o=i.prototype;return o.evaluateAt=function(e){var t=this.clip,r=1,a=!1,s=!1,l=this.track.boundObject;e>=t.start+t.duration&&t.endBehavior===Te.destroy?U(l,Pi)&&Pi.isParticle(l)&&this.particleSystem&&!this.particleSystem.destroyed?r=1:(r=0,a=!0):e-this.clip.start>=0?(r=1,s=!0):e<t.start&&(r=0),s&&this.playable.getPlayState()!==Il.Playing&&this.playable.play(),this.parentMixer.setClipWeight(this.playable,r);var u=parseFloat(t.toLocalTime(e).toFixed(3));this.playable.setTime(u),a&&this.playable.getPlayState()===Il.Playing&&this.playable.pause()},br(i,[{key:"enable",set:function(e){e?this.playable.play():(this.parentMixer.setClipWeight(this.playable,0),this.playable.pause())}}]),i}(),mr=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new f(t)},o}(ct);mr=re([lt(Pt.ActivationTrack)],mr);var rn=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyNames=[],e.path="",e}var n=o.prototype;return n.updateAnimatedObject=function(){for(var t=this.propertyNames,r=this.parent.boundObject,a=0;a<t.length-1;a++){var s=r[t[a]];s===void 0&&console.error("The "+t[a]+" property of "+r+" was not found"),r=s}this.boundObject=r},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=this.path.split(".");this.propertyNames=r},o}(ct);re([Rr()],rn.prototype,"path",void 0);var fn=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){var r=new C(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];r.propertyName=s}return r},n.updateAnimatedObject=function(){for(var t=this.propertyNames,r=this.parent.boundObject,a=0;a<t.length-1;a++){var s=r[t[a]];s===void 0&&console.error("The "+t[a]+" property of "+r+" was not found"),r=s}this.boundObject=r},o}(rn);fn=re([lt(Pt.FloatPropertyTrack)],fn);var ui=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new O(t)},o}(ct);ui=re([lt(Pt.SpriteColorTrack)],ui);var Tn=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.updateAnimatedObject=function(){if(!this.parent||!U(this.parent.boundObject,Pi))throw new Error("SubCompositionTrack needs to be set under the VFXItem track.");this.boundObject=this.parent.boundObject.getComponent(N)},n.createTrackMixer=function(t){return new Q(t)},o}(ct);Tn=re([lt(Pt.SubCompositionTrack)],Tn);var zi=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new pe(t)},o}(ct);zi=re([lt(Pt.TransformTrack)],zi);var Ca=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.updateAnimatedObject=function(){U(this.parent.boundObject,Zi)&&(this.parent.boundObject,this.boundObject=this.parent.boundObject.materials[this.index])},o}(ct);re([Rr()],Ca.prototype,"index",void 0),Ca=re([lt("MaterialTrack")],Ca);var Qn=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new I(t)},o}(ct),Za=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){var r=new Me(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];r.propertyName=s}return r},o}(rn);Za=re([lt(Pt.Vector4PropertyTrack)],Za);var to=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){var r=new g(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];r.propertyName=s}return r},o}(rn);to=re([lt(Pt.ColorPropertyTrack)],to);var os=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new d(t);return r.curve=dr(this.curveData),r.value=r.curve.getValue(0),r},o}(_o);re([Rr()],os.prototype,"curveData",void 0),os=re([lt(Pt.ColorPropertyPlayableAsset)],os);var Nl=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new d(t);return r.curve=dr(this.curveData),r.value=r.curve.getValue(0),r},o}(_o);re([Rr()],Nl.prototype,"curveData",void 0),Nl=re([lt(Pt.FloatPropertyPlayableAsset)],Nl);var Uc=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){return new j(t)},o}(_o);Uc=re([lt(Pt.SubCompositionPlayableAsset)],Uc);var kc=function(){function i(n,e,t){this.children=[],this.trackAsset=n,this.mixer=e,this.output=t}var o=i.prototype;return o.addChild=function(e){this.children.push(e)},i}(),Cu=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.tracks=[],e.cacheFlattenedTracks=null,e}var n=o.prototype;return n.createPlayable=function(t){for(var r=new Rh(t),a=ke(this.tracks),s;!(s=a()).done;){var l=s.value;U(l,ul)&&l.create(this)}return this.sortTracks(this.tracks),r.compileTracks(t,this.flattenedTracks),r},n.createTrack=function(t,r,a){var s=new t(this.engine);return s.name=a||t.name,r.addChild(s),this.invalidate(),s},n.invalidate=function(){this.cacheFlattenedTracks=null},n.addSubTracksRecursive=function(t,r){for(var a=ke(t.getChildTracks()),s;!(s=a()).done;){var l=s.value;r.push(l)}for(var u=ke(t.getChildTracks()),h;!(h=u()).done;){var m=h.value;this.addSubTracksRecursive(m,r)}},n.sortTracks=function(t){for(var r=[],a=0;a<t.length;a++)r.push(new Xa(t[a],a));r.sort(Wo),t.length=0;for(var s=ke(r),l;!(l=s()).done;){var u=l.value;t.push(u.track)}},n.fromData=function(t){},br(o,[{key:"flattenedTracks",get:function(){if(!this.cacheFlattenedTracks){this.cacheFlattenedTracks=[];for(var t=ke(this.tracks),r;!(r=t()).done;){var a=r.value;this.cacheFlattenedTracks.push(a),this.addSubTracksRecursive(a,this.cacheFlattenedTracks)}}return this.cacheFlattenedTracks}}]),o}(_o);re([Rr()],Cu.prototype,"tracks",void 0),Cu=re([lt(Pt.TimelineAsset)],Cu);var Rh=function(i){be(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.clips=[],e.masterTrackInstances=[],e}var n=o.prototype;return n.prepareFrame=function(t){},n.evaluate=function(){for(var t=this.getTime(),r=ke(this.clips),a;!(a=r()).done;){var s=a.value;s.evaluateAt(t)}},n.compileTracks=function(t,r){for(var a=r,s={},l=ke(a),u;!(u=l()).done;){var h=u.value,m=h.createPlayableGraph(t,this.clips),v=h.createOutput();v.setUserData(h.boundObject),t.addOutput(v),v.setSourcePlayable(m);var p=new kc(h,m,v);s[h.getInstanceId()]=p,h.parent||this.masterTrackInstances.push(p)}for(var b=ke(a),x;!(x=b()).done;)for(var P=x.value,B=s[P.getInstanceId()],D=ke(P.getChildTracks()),_;!(_=D()).done;){var Y=_.value,k=s[Y.getInstanceId()];B.addChild(k)}},o}(Ro),Xa=function(o,n){this.track=o,this.originalIndex=n};function Wo(i,o){var n=i.track.boundObject,e=o.track.boundObject;return!U(n,Pi)||!U(e,Pi)?i.originalIndex-o.originalIndex:Pi.isAncestor(n,e)?-1:Pi.isAncestor(e,n)?1:i.originalIndex-o.originalIndex}var ll=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new d(t);return r.curve=dr(this.curveData),r.value=r.curve.getValue(0),r},o}(_o);re([Rr()],ll.prototype,"curveData",void 0),ll=re([lt("Vector4PropertyPlayableAsset")],ll);var ul=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.updateAnimatedObject=function(){},n.create=function(t){if(U(this.boundObject,Pi)){var r=this.boundObject;if(r.getComponent(as)){var a=t.createTrack(Qn,this,"ParticleTrack");a.boundObject=this.boundObject;var s=a.createClip(Yf);s.start=r.start,s.duration=r.duration,s.endBehavior=r.endBehavior}}},o}(ct);ul=re([lt(Pt.ObjectBindingTrack)],ul);function _h(i,o){return o&&(xe(o)==="object"||typeof o=="function")?o:He(i)}var Id=function(){function i(n){this.width=0,this.height=0;var e=n.textHeight,t=e===void 0?100:e,r=n.textWidth,a=r===void 0?100:r,s=n.textOverflow,l=s===void 0?qt.clip:s,u=n.textBaseline,h=u===void 0?Pr.top:u,m=n.textAlign,v=m===void 0?$t.left:m,p=n.text,b=p===void 0?" ":p,x=n.letterSpace,P=x===void 0?0:x,B=n.autoWidth,D=B===void 0?!1:B,_=n.fontSize,Y=n.lineHeight,k=Y===void 0?_:Y,W=_+P;this.autoWidth=D,this.maxTextWidth=b.length*W,this.width=a,this.height=t,this.letterSpace=P,this.overflow=l,this.textBaseline=h,this.textAlign=v,this.lineHeight=k}var o=i.prototype;return o.getOffsetY=function(e,t,r,a){var s=e.outlineWidth,l=e.fontScale,u=(r-a)/3,h=a+s*l,m=r*(t-1),v=0;switch(this.textBaseline){case Pr.top:v=h+u;break;case Pr.middle:v=(this.height*l-m+h)/2;break;case Pr.bottom:v=this.height*l-m-u;break}return v},o.getOffsetX=function(e,t){var r=0;switch(this.textAlign){case $t.left:r=e.outlineWidth*e.fontScale;break;case $t.middle:r=(this.width*e.fontScale-t)/2;break;case $t.right:r=this.width*e.fontScale-t;break}return r},o.setSize=function(e,t){this.width=e,this.height=t},i}(),Pd=function(o){this.isUnderline=!1,this.underlineHeight=1,this.isOutlined=!1,this.outlineWidth=0,this.hasShadow=!1,this.fontDesc="",this.fontScale=2,this.fontOffset=0;var n=o.textColor,e=n===void 0?[1,1,1,1]:n,t=o.fontSize,r=t===void 0?40:t,a=o.outline,s=o.shadow,l=o.fontWeight,u=l===void 0?"normal":l,h=o.fontStyle,m=h===void 0?"normal":h,v=o.fontFamily,p=v===void 0?"sans-serif":v;if(this.textColor=e,this.textWeight=u,this.fontStyle=m,this.fontFamily=p,this.fontSize=r,a){this.isOutlined=!0;var b;this.outlineColor=(b=a.outlineColor)!=null?b:[1,1,1,1];var x;this.outlineWidth=(x=a.outlineWidth)!=null?x:1,this.fontOffset+=this.outlineWidth}if(s){this.hasShadow=!0;var P;this.shadowBlur=(P=s.shadowBlur)!=null?P:2;var B;this.shadowColor=(B=s.shadowColor)!=null?B:[0,0,0,1];var D;this.shadowOffsetX=(D=s.shadowOffsetX)!=null?D:0;var _;this.shadowOffsetY=(_=s.shadowOffsetY)!=null?_:0}this.fontStyle!==Nt.normal&&(this.fontOffset+=this.fontSize*Math.tan(12*.0174532925))},Rd=function(){function i(){this.elements=[]}var o=i.prototype;return o.dispose=function(){this.elements.forEach(function(e){return e.remove()}),this.elements.length=0},o.getCanvas=function(){if(this.elements.length!==0){var e=this.elements.shift();return bt(e),e}if(su(oc))return window._createOffscreenCanvas(10,10);var t=document.createElement("canvas");return t.getContext("2d",{willReadFrequently:!0}),t},o.saveCanvas=function(e){e.width=1,e.height=1,this.elements.length<3?rt(this.elements,e):e.remove()},i}(),$c=new Rd,_d=["serif","sans-serif","monospace","courier"],Ld=0,ih=function(i){be(o,i);function o(e,t){var r;if(r=i.call(this,e)||this,r.isDirty=!0,r.lineCount=0,r.SCALE_FACTOR=.1,r.ALPHA_FIX_VALUE=1/255,r.name="MText"+Ld++,r.geometry=r.createGeometry(F.TRIANGLES),t&&r.fromData(t),r.canvas=$c.getCanvas(),$c.saveCanvas(r.canvas),r.context=r.canvas.getContext("2d",{willReadFrequently:!0}),r.setItem(),!t)return _h(r);var a=t.options;return r.updateWithOptions(a),r.updateTexture(),r}var n=o.prototype;return n.onUpdate=function(t){i.prototype.onUpdate.call(this,t),this.updateTexture()},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t.interaction,a=t.options,s=t.listIndex,l=s===void 0?0:s,u=t.renderer;u||(u={}),this.interaction=r;var h,m,v,p,b,x;this.renderer={renderMode:(h=u.renderMode)!=null?h:fr.MESH,blending:(m=u.blending)!=null?m:Yt.ALPHA,texture:(v=u.texture)!=null?v:this.engine.emptyTexture,occlusion:!!u.occlusion,transparentOcclusion:!!u.transparentOcclusion||u.maskMode===lr.MASK,side:(p=u.side)!=null?p:sr.DOUBLE,mask:(b=u.mask)!=null?b:0,maskMode:(x=u.maskMode)!=null?x:lr.NONE,order:l},this.interaction=r,this.updateWithOptions(a),this.updateTexture()},n.updateWithOptions=function(t){},n.updateTexture=function(t){},o}(Yl);ih=re([lt(Pt.TextComponent)],ih);var Fd=function(){function i(){}var o=i.prototype;return o.updateWithOptions=function(e){this.textStyle=new Pd(e),this.textLayout=new Id(e),this.text=e.text.toString(),this.lineCount=this.getLineCount(e.text,!0)},o.getLineCount=function(e,t){for(var r=this.context,a=this.textLayout.letterSpace,s=t?this.textStyle.fontSize/10:1/this.textStyle.fontScale,l=this.textLayout.width+this.textStyle.fontOffset,u=1,h=0,m=0;m<e.length;m++){var v,p=e[m],b,x=((b=r==null||(v=r.measureText(p))==null?void 0:v.width)!=null?b:0)*s;h+=a,(h+x>l&&m>0||p===`
`)&&(u++,h=0),p!==`
`&&(h+=x)}return u},o.setFontSize=function(e){if(this.textStyle.fontSize!==e){var t=this.textStyle.fontSize-e;this.textLayout.lineHeight+=t,this.textStyle.fontSize=e,this.isDirty=!0}},o.setFontWeight=function(e){this.textStyle.textWeight!==e&&(this.textStyle.textWeight=e,this.isDirty=!0)},o.setFontStyle=function(e){this.textStyle.fontStyle!==e&&(this.textStyle.fontStyle=e,this.isDirty=!0)},o.setText=function(e){this.text!==e&&(this.text=e.toString(),this.lineCount=this.getLineCount(e,!1),this.isDirty=!0)},o.setTextAlign=function(e){this.textLayout.textAlign!==e&&(this.textLayout.textAlign=e,this.isDirty=!0)},o.setTextBaseline=function(e){this.textLayout.textBaseline!==e&&(this.textLayout.textBaseline=e,this.isDirty=!0)},o.setTextColor=function(e){this.textStyle.textColor!==e&&(this.textStyle.textColor=e,this.isDirty=!0)},o.setFontFamily=function(e){if(this.textStyle.fontFamily===e&&!Le(e)){console.warn("The font is either the current font or an risky font family.");return}this.textStyle.fontFamily=e,this.isDirty=!0},o.setOutlineColor=function(e){this.textStyle.outlineColor!==e&&(this.textStyle.outlineColor=e,this.isDirty=!0)},o.setOutlineWidth=function(e){this.textStyle.outlineWidth!==e&&(this.textStyle.outlineWidth=e,this.isDirty=!0)},o.setShadowBlur=function(e){this.textStyle.shadowBlur!==e&&(this.textStyle.shadowBlur=e,this.isDirty=!0)},o.setShadowColor=function(e){this.textStyle.shadowColor!==e&&(this.textStyle.shadowColor=e,this.isDirty=!0)},o.setShadowOffsetX=function(e){this.textStyle.shadowOffsetX!==e&&(this.textStyle.shadowOffsetX=e,this.isDirty=!0)},o.setShadowOffsetY=function(e){this.textStyle.shadowOffsetY!==e&&(this.textStyle.shadowOffsetY=e,this.isDirty=!0)},o.setFontScale=function(e){this.textStyle.fontScale!==e&&(this.textStyle.fontScale=e,this.isDirty=!0)},o.setAutoWidth=function(e){this.textLayout.autoWidth!==e&&(this.textLayout.autoWidth=e,this.isDirty=!0)},o.updateTexture=function(e){if(e===void 0&&(e=!0),!(!this.isDirty||!this.context||!this.canvas)){var t=this.context,r=this.textStyle,a=this.textLayout,s=r.fontScale,l=(a.width+r.fontOffset)*s,u=a.lineHeight*this.lineCount,h=r.fontSize*s,m=a.lineHeight*s;this.char=(this.text||"").split(""),this.canvas.width=l,a.autoWidth?(this.canvas.height=u*s,this.item.transform.size.set(1,u/a.height)):this.canvas.height=a.height*s;var v=this.canvas.height;t.clearRect(0,0,l,v),t.fillStyle="rgba(255, 255, 255, 0.0039)",e||(t.translate(0,v),t.scale(1,-1)),t.fillRect(0,0,l,v),r.fontDesc=this.getFontDesc(),t.font=r.fontDesc,r.hasShadow&&this.setupShadow(),r.isOutlined&&this.setupOutline(),t.fillStyle="rgba("+r.textColor[0]+", "+r.textColor[1]+", "+r.textColor[2]+", "+r.textColor[3]+")";for(var p=[],b=0,x=a.getOffsetY(r,this.lineCount,m,h),P=[],B=[],D=0;D<this.char.length;D++){var _=this.char[D],Y=t.measureText(_);b+=a.letterSpace*s,(b+Y.width>l&&D>0||_===`
`)&&(p.push({y:x,width:b,chars:P,charOffsetX:B}),b=0,x+=m,P=[],B=[]),_!==`
`&&(P.push(_),B.push(b),b+=Y.width)}p.push({y:x,width:b,chars:P,charOffsetX:B}),p.forEach(function(W){var te=a.getOffsetX(r,W.width);W.chars.forEach(function(ae,se){r.isOutlined&&t.strokeText(ae,te+W.charOffsetX[se],W.y),t.fillText(ae,te+W.charOffsetX[se],W.y)})}),r.hasShadow&&(t.shadowColor="transparent");var k=t.getImageData(0,0,this.canvas.width,this.canvas.height);this.material.setTexture("_MainTex",Nr.createWithData(this.engine,{data:new Uint8Array(k.data),width:k.width,height:k.height},{flipY:e,magFilter:F.LINEAR,minFilter:F.LINEAR,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE})),this.isDirty=!1}},o.getFontDesc=function(){var e=this.textStyle,t=e.fontSize,r=e.fontScale,a=e.fontFamily,s=e.textWeight,l=e.fontStyle,u=""+(t*r).toString()+"px ";return _d.includes(a)?u+=a:u+='"'+a+'"',s!==ir.normal&&(u=s+" "+u),l!==Nt.normal&&(u=l+" "+u),u},o.setupOutline=function(){var e=this.context,t=this.textStyle,r=t.outlineColor,a=t.outlineWidth,s=r[0],l=r[1],u=r[2],h=r[3];e&&(e.strokeStyle="rgba("+s*255+", "+l*255+", "+u*255+", "+h+")",e.lineWidth=a*2)},o.setupShadow=function(){var e=this.context,t=this.textStyle,r=t.outlineColor,a=t.shadowBlur,s=t.shadowOffsetX,l=t.shadowOffsetY,u=r[0],h=r[1],m=r[2],v=r[3];e&&(e.shadowColor="rgba("+u*255+", "+h*255+", "+m*255+", "+v+")",e.shadowBlur=a,e.shadowOffsetX=s,e.shadowOffsetY=-l)},i}();ue(ih,[Fd]);var Dd=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o}(pr),Nd=function(i){be(o,i);function o(){return i.apply(this,arguments)}return o}(In),ah=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.fromData=function(t){},o}(In);re([Rr()],ah.prototype,"buffer",void 0),ah=re([lt(Pt.BinaryAsset)],ah);var Vd=function(){function i(n){this.engine=n}var o=i.prototype;return o.loadGUID=function(e){if(this.engine.objectInstance[e])return this.engine.objectInstance[e];var t=this.findData(e),r;if(!t){console.error("Object data with uuid: "+e+" not found.");return}switch(t.dataType){case Pt.Material:r=Bi.create(this.engine);break;case Pt.Geometry:r=Cn.create(this.engine);break;case Pt.Texture:r=Nr.create(this.engine);break;default:{var a=i.getClass(t.dataType);a&&(r=new a(this.engine))}}if(!r){console.error("Constructor for DataType: "+t.dataType+" not found.");return}return r.setInstanceId(t.id),this.engine.addInstance(r),L.deserialize(t,r),r},o.loadGUIDAsync=function(e){var t=this;return M(function(){var r,a,s;return ee(this,function(l){switch(l.label){case 0:return t.engine.objectInstance[e]?[2,t.engine.objectInstance[e]]:(r=t.findData(e),r?[3,2]:t.engine.database?[4,t.engine.database.loadGUID(e)]:(console.error("Object data with uuid: "+e+" not found."),[2,void 0]));case 1:return a=l.sent(),a?(t.engine.addInstance(a),[2,a]):(console.error("Disk data with uuid: "+e+" not found."),[2,void 0]);case 2:switch(r.dataType){case Pt.Material:a=Bi.create(t.engine);break;case Pt.Geometry:a=Cn.create(t.engine);break;case Pt.Texture:a=Nr.create(t.engine);break;default:s=i.getClass(r.dataType),s&&(a=new s(t.engine))}return a?(a.setInstanceId(r.id),t.engine.addInstance(a),[4,L.deserializeAsync(r,a)]):(console.error("Constructor for DataType: "+r.dataType+" not found."),[2,void 0]);case 3:return l.sent(),[2,a]}})})()},o.findData=function(e){return this.engine.jsonSceneData[e]},i.getClass=function(e){return Hn[e]},i}(),uv=null;function Lh(i,o){if(!i.includes(o))return i.push(o),!0}function hi(i){if(Number.isFinite(i))return[vt.CONSTANT,i];if(i){var o=i[0],n=i[1];if(Array.isArray(o))return;if(o==="static"||o===vt.CONSTANT)return[vt.CONSTANT,i[1]];if(o==="lines")return[vt.LINE,i[1]];if(o===vt.LINE){var e=n.map(function(t){return[Qr.LINE,t]});return[vt.BEZIER_CURVE,e]}return o==="curve"||o===vt.CURVE?[vt.BEZIER_CURVE,Bh(n)]:i}}function Fh(i,o){return Array.isArray(i)&&i[0]==="random"?[vt.CONSTANT,i[1][o]]:hi(i)}function Dh(i){return i&&i[0]==="color"?jc(i[1],!0):[1,1,1,1]}function Bd(i,o){if(i)return i[0]==="colors"?[vt.COLORS,i[1].map(function(n){return jc(n,o)})]:i[0]==="gradient"?oh(i[1],o):i[0]==="color"?[vt.RGBA_COLOR,jc(i[1],o)]:i}function Ki(i){return i&&i[0]==="random"?[vt.RANDOM,i[1]]:hi(i)}function oh(i,o){if(i){var n=[];return Object.getOwnPropertyNames(i).forEach(function(e){var t=Ud(e),r=jc(i[e],o);n.push([t,r[0],r[1],r[2],r[3]])}),n=n.sort(function(e,t){return e[0]-t[0]}),[vt.GRADIENT_COLOR,n]}}function jc(i,o){var n;if(typeof i=="string"){i=i.replace(/[\s\t\r\n]/g,"");var e=/rgba?\(([.\d]+),([.\d]+),([.\d]+),?([.\d]+)?\)/.exec(i);if(e){var t=+e[4];n=[+e[1],+e[2],+e[3],isNaN(t)?255:Math.round(t*255)]}else/^#[a-f\d]{3}$/i.test(i)?n=[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),255]:(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))&&(n=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255])}else U(i,Array)&&(n=[i[0],i[1],i[2],isNaN(i[3])?255:Math.round(i[3]*255)]);return o&&(n=zd(n)),n}function zd(i){if(Array.isArray(i))return i.map(function(o){return Number.isFinite(o/255)?Number((o/255).toFixed(6)):0})}function Ud(i){var o=/^(-)?([\d+.]+)%$/.exec(i);return o?+o[2]/100*(o[1]?-1:1):+i}function Hc(i,o){return Array.isArray(i)?i[0]===vt.GRADIENT_COLOR?i:(i[0]==="gradient"||i[0]==="color")&&oh(i[1],o):oh(i,o)}function Gc(i){if(i){if(i.length===3)return[vt.CONSTANT_VEC3,i];var o=i[0];if(o==="path"||o==="bezier"||o===vt.BEZIER_PATH||o===vt.LINEAR_PATH){var n=i[1],e=n[0],t=n[1],r=n[2],a=Bh(e);if(!r){r=[];for(var s=0;s<t.length;s++){var l=t[s].slice();s===0||s<t.length-1&&r.push(l),r.push(l)}}return[vt.BEZIER_CURVE_PATH,[a,t,r]]}return i}}function Nh(i){for(var o=ke(Object.keys(i)),n;!(n=o()).done;){var e=n.value;i[e]=Number(i[e])}return i}function Eu(i){for(var o=ke(Object.keys(i)),n;!(n=o()).done;){var e=n.value;i[e]===void 0&&delete i[e]}return i}var sh=Math.cos,lh=Math.sin,Vl=Math.PI/180,Wc=180/Math.PI;function kd(i,o,n,e){var t=sh(o*Vl/2),r=sh(n*Vl/2),a=sh(e*Vl/2),s=lh(o*Vl/2),l=lh(n*Vl/2),u=lh(e*Vl/2);return i[0]=s*r*a+t*l*u,i[1]=t*l*a-s*r*u,i[2]=t*r*u+s*l*a,i[3]=t*r*a-s*l*u,i}function $d(i,o,n){return i>n?n:i<o?o:i}function jd(i,o){var n=o[0],e=o[1],t=o[2],r=o[3],a=n+n,s=e+e,l=t+t,u=n*a,h=e*a,m=e*s,v=t*a,p=t*s,b=t*l,x=r*a,P=r*s,B=r*l,D=1-m-b,_=h-B,Y=h+B,k=1-u-b,W=v-P,te=p+x,ae=1-u-m;return i[1]=Math.asin($d(-W,-1,1))*Wc,Math.abs(W)<.9999999?(i[0]=Math.atan2(te,ae)*Wc,i[2]=Math.atan2(Y,D)*Wc):(i[0]=0,i[2]=Math.atan2(-_,k)*Wc),i}function Vh(i,o){return i?[i[0]-.5,.5-i[1]]:o?Hd[o]:[0,0]}var Zo,Hd=(Zo={},Zo[Cr.PARTICLE_ORIGIN_CENTER]=[0,0],Zo[Cr.PARTICLE_ORIGIN_CENTER_BOTTOM]=[0,-.5],Zo[Cr.PARTICLE_ORIGIN_CENTER_TOP]=[0,.5],Zo[Cr.PARTICLE_ORIGIN_LEFT_TOP]=[-.5,.5],Zo[Cr.PARTICLE_ORIGIN_LEFT_CENTER]=[-.5,0],Zo[Cr.PARTICLE_ORIGIN_LEFT_BOTTOM]=[-.5,-.5],Zo[Cr.PARTICLE_ORIGIN_RIGHT_CENTER]=[.5,0],Zo[Cr.PARTICLE_ORIGIN_RIGHT_BOTTOM]=[.5,-.5],Zo[Cr.PARTICLE_ORIGIN_RIGHT_TOP]=[.5,.5],Zo);function Gd(i,o,n,e){var t=n[0],r=n[1],a=e[0],s=e[1],l=a-t;i=i*l,o=o*l;var u=[[t+(a-t)/3,r+i/3],[a-(a-t)/3,s-o/3]];return u}function Bh(i){for(var o=-1e6,n=1e6,e=0;e<i.length;e++)o=Math.max(o,i[e][1]),n=Math.min(n,i[e][1]);for(var t=[[i[0][0],i[0][1]]],r=0;r<i.length-1;r++){var a=i[r][3]*(o-n),s=i[r+1][2]*(o-n),l=[i[r][0],i[r][1]],u=[i[r+1][0],i[r+1][1]];if(l[0]!=u[0]){var h=Gd(a,s,l,u),m=h[0],v=h[1];t[t.length-1].push(m[0]),t[t.length-1].push(m[1]),t.push([v[0],v[1],u[0],u[1]])}else t[t.length-1].push(u[0]),t[t.length-1].push(u[1])}return t.map(function(p,b){return b===0?[Qr.EASE_OUT,p]:b===t.length-1?[Qr.EASE_IN,p]:[Qr.EASE,p]})}function Wd(i){var o,n=i.options,e={options:{fov:n.fov,far:n.far,near:n.near,clipMode:n.clipMode}},t=i.velocityOverLifetime;if(t||(o=i.transform)!=null&&o.path){var r,a={path:Gc((r=i.transform)==null?void 0:r.path),linearX:hi(t==null?void 0:t.translateX),linearY:hi(t==null?void 0:t.translateY),linearZ:hi(t==null?void 0:t.translateZ)};Eu(a),e.positionOverLifetime=a}var s=i.rotationOverLifetime;if(s){var l={separateAxes:s.separateAxes,x:hi(s==null?void 0:s.rotateX),y:hi(s==null?void 0:s.rotateY),z:s.separateAxes?hi(s==null?void 0:s.rotateZ):hi(s.rotation)};Eu(l),e.rotationOverLifetime=l}return e}function Zd(i){var o=i.options,n;switch(o.type){case"click":{n={type:Br.CLICK,showPreview:o.showPreview,previewColor:o.previewColor&&Dh(o.previewColor),behavior:o.behavior||hn.NOTIFY};break}case"drag":{n={type:Br.DRAG,enableInEditor:!!o.enableInEditor,dxRange:o.dxRange,dyRange:o.dyRange,target:o.target};break}case"message":{n={type:Br.MESSAGE};break}}var e={options:n};return e}function zh(i){return i.compositions.forEach(function(o){o.items.forEach(function(n){n.type===Ue.null&&n.endBehavior===Te.destroy&&(n.endBehavior=Te.freeze)})}),i.version="2.1",i}function Xd(i){var o,n=(o=i.version)==null?void 0:o.split(".");return!n||Number(n[0])>2||Number(n[0])===2&&Number(n[1])>=2||i.compositions.forEach(function(e){e.items.forEach(function(t){(t.type===Ue.mesh||t.type===Ue.light)&&(t.endBehavior=t.endBehavior===1?Te.destroy:t.endBehavior)})}),i}function Uh(i){for(var o=function(){var cr=v.value;(cr.endBehavior===jn||cr.endBehavior===Vn)&&(cr.endBehavior=Te.freeze),cr.items=cr.items.filter(function(Kr){return Kr.type!=="8"}),cr.items.forEach(function(Kr){if(Kr.type===Ue.particle){var sa=Kr.content.filter;sa&&delete Kr.content.filter}});for(var Mr=ke(cr.items),Gr;!(Gr=Mr()).done;){var Wr=Gr.value;u[Wr.id]=nt(),Wr.oldId=Wr.id,Wr.id=u[Wr.id],h[Wr.id]=Wr}cr.items.forEach(function(Kr,sa){if(Kr.parentId)if(Kr.parentId.includes("^")){var Ra=Kr.parentId.split("^")[0],ca=Kr.parentId.split("^")[1];Kr.parentId=u[Ra]+"^"+ca}else Kr.parentId=u[Kr.parentId];e.items.push(Kr),cr.items[sa]={id:Kr.id}});var ti=A({},cr,{timelineAsset:{id:""},sceneBindings:[]});e.compositions.push(ti),Kd(ti,h,e)},n,e=A({},i,{items:[],compositions:[],components:[],materials:[],shaders:[],geometries:[],animations:[],miscs:[]}),t=ke(e.images),r;!(r=t()).done;){var a=r.value;a.id=nt()}var s;if((s=(n=e).textures)!=null||(n.textures=[]),e.textures.forEach(function(cr){var Mr;cr.id=nt(),cr.dataType=Pt.Texture,cr.source={id:(Mr=e.images[cr.source])==null?void 0:Mr.id}}),e.textures.length<e.images.length)for(var l=e.textures.length;l<e.images.length;l++)e.textures.push({id:nt(),dataType:Pt.Texture,source:{id:e.images[l].id},flipY:!0});i.bins&&Qd(i.bins,e);for(var u={},h={},m=ke(i.compositions),v;!(v=m()).done;)o();for(var p=ke(e.items),b;!(b=p()).done;){var x=b.value;if(x.content){if(x.content.renderer&&x.content.renderer.texture!==void 0){var P=x.content.renderer.texture;x.content.renderer.texture={id:e.textures[P].id}}if(x.content.trails&&x.content.trails.texture!==void 0){var B=x.content.trails.texture;x.content.trails.texture={id:e.textures[B].id}}}if(x.transform){var D,_=[].concat((D=x.transform.position)!=null?D:[0,0,0]),Y,k=[].concat((Y=x.transform.rotation)!=null?Y:[0,0,0]),W,te=[].concat((W=x.transform.scale)!=null?W:[1,1,1]);if(Object.assign(x,{transform:{position:{x:_[0],y:_[1],z:_[2]},eulerHint:{x:k[0],y:k[1],z:k[2]},scale:{x:te[0],y:te[1],z:te[0]}}}),x.type===Ue.sprite&&(x.transform.size={x:te[0],y:te[1]},x.transform.scale={x:1,y:1,z:1}),x.type===Ue.sprite){var ae=x.content;ae.renderer||(ae.renderer={});var se=ae.renderer,Qe=Vh(se.anchor,se.particleOrigin),Je=x.transform.size;if(!se.anchor&&se.particleOrigin!==void 0){var at;x.transform.position.x+=-Qe[0]*((at=Je==null?void 0:Je.x)!=null?at:1);var ut;x.transform.position.y+=-Qe[1]*((ut=Je==null?void 0:Je.y)!=null?ut:1)}var At,Gt;x.transform.anchor={x:Qe[0]*((At=Je==null?void 0:Je.x)!=null?At:1),y:Qe[1]*((Gt=Je==null?void 0:Je.y)!=null?Gt:1)}}}if(x.type===Ue.particle){var Wt=x.content;Wt.renderer||(Wt.renderer={});var Qt=Wt.renderer;Wt.renderer.anchor=Vh(Qt.anchor,Qt.particleOrigin)}if(x.type===Ue.camera&&x.content.positionOverLifetime&&Object.keys(x.content.positionOverLifetime).length!==0&&(x.content.positionOverLifetime.asMovement=!0),x.pn!==void 0){var er=x.pn,Dt=i.plugins,Lr=Dt===void 0?[]:Dt;er!==void 0&&Number.isInteger(er)&&(x.pluginName=Lr[er])}switch(x.pluginName==="editor-gizmo"&&(x.type="editor-gizmo"),x.pluginName==="orientation-transformer"&&(x.type="orientation-transformer"),x.content.options.target&&x.pluginName==="editor-gizmo"&&(x.content.options.target=u[x.content.options.target]),x.type===Ue.spine&&i.spines&&i.spines.length!==0&&Jd(i.spines[x.content.options.spine],x.content,e),(x.type===Ue.sprite||x.type===Ue.particle||x.type===Ue.mesh||x.type===Ue.skybox||x.type===Ue.light||x.type==="camera"||x.type===Ue.tree||x.type===Ue.interact||x.type===Ue.camera||x.type===Ue.text||x.type===Ue.spine||x.type==="editor-gizmo"||x.type==="orientation-transformer")&&(x.components=[],e.components.push(x.content),x.content.id=nt(),x.content.item={id:x.id},x.dataType=Pt.VFXItemData,x.components.push({id:x.content.id})),(x.type===Ue.null||x.type===Ue.composition)&&(x.components=[],x.dataType=Pt.VFXItemData),x.type){case Ue.sprite:x.content.dataType=Pt.SpriteComponent;break;case Ue.particle:x.content.dataType=Pt.ParticleSystem;break;case Ue.mesh:x.content.dataType=Pt.MeshComponent;break;case Ue.skybox:x.content.dataType=Pt.SkyboxComponent;break;case Ue.light:x.content.dataType=Pt.LightComponent;break;case"camera":x.content.dataType=Pt.CameraComponent;break;case"editor-gizmo":x.content.dataType="GizmoComponent";break;case"orientation-transformer":x.content.dataType="OrientationComponent";break;case Ue.tree:x.content.dataType=Pt.TreeComponent;break;case Ue.interact:x.content.dataType=Pt.InteractComponent;break;case Ue.camera:x.content.dataType=Pt.CameraController;break;case Ue.text:x.content.dataType=Pt.TextComponent;break;case Ue.spine:x.content.dataType=Pt.SpineComponent;break}}return e.version="3.0",e}function Yd(i){return i.compositions.map(function(o){for(var n=ke(o.items),e;!(e=n()).done;){var t=e.value;kh(t.content)}}),i}function kh(i){if(i)for(var o=ke(Object.keys(i)),n;!(n=o()).done;){var e=n.value,t=i[e],r=Array.isArray(t);r&&t.length===2&&Array.isArray(t[1])?e==="path"?i[e]=Gc(t):i[e]=hi(t):!r&&typeof t=="object"&&kh(t)}}function Kd(i,o,n){for(var e=[],t=[],r=[],a={tracks:[],id:nt(),dataType:"TimelineAsset"},s=ke(i.items),l;!(l=s()).done;){var u=l.value,h=o[u.id],m=[],v={id:nt(),dataType:"ActivationPlayableAsset"};r.push(v);var p={id:nt(),dataType:"ActivationTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:v.id}}]};if(m.push({id:p.id}),t.push(p),h.type!==Ue.particle){var b={id:nt(),dataType:"TransformPlayableAsset",sizeOverLifetime:h.content.sizeOverLifetime,rotationOverLifetime:h.content.rotationOverLifetime,positionOverLifetime:h.content.positionOverLifetime};r.push(b);var x={id:nt(),dataType:"TransformTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:b.id}}]};m.push({id:x.id}),t.push(x)}if(h.type===Ue.sprite||h.type===Ue.text){var P={id:nt(),dataType:"SpriteColorPlayableAsset",colorOverLifetime:h.content.colorOverLifetime};r.push(P);var B={id:nt(),dataType:"SpriteColorTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:P.id}}]};m.push({id:B.id}),t.push(B)}if(h.type===Ue.composition){var D={id:nt(),dataType:"SubCompositionPlayableAsset"};r.push(D);var _={id:nt(),dataType:"SubCompositionTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:D.id}}]};m.push({id:_.id}),t.push(_)}var Y={id:nt(),dataType:"ObjectBindingTrack",children:m,clips:[]};t.push(Y),a.tracks.push({id:Y.id}),e.push({key:{id:Y.id},value:{id:h.id}})}for(var k=[],W=ke(t),te;!(te=W()).done;){var ae=te.value;k.push({id:ae.id})}i.timelineAsset={id:a.id},i.sceneBindings=e,n.miscs.push(a);for(var se=ke(t),Qe;!(Qe=se()).done;){var Je=Qe.value;n.miscs.push(Je)}for(var at=ke(r),ut;!(ut=at()).done;){var At=ut.value;n.miscs.push(At)}}function Qd(i,o){o.bins=i.map(function(n){return{url:n.url,dataType:"BinaryAsset",id:nt()}})}function Jd(i,o,n){o.resource={atlas:{bins:{id:n.bins[i.atlas[1][0]].id},source:i.atlas[1].slice(1)},skeleton:{bins:{id:n.bins[i.skeleton[1][0]].id},source:i.skeleton[1].slice(1)},skeletonType:i.skeletonType,images:i.images.map(function(e){return{id:n.textures[e].id}})}}function qd(i){var o=i.options,n=i.transform,e={type:nr.NONE};if(i.shape){var t,r=(t=i.shape.shape)==null?void 0:t.replace(/([A-Z])/g,"_$1").toUpperCase().replace(/^_/,"");if(e=A({},i.shape,{type:nr[r]}),i.shape.upDirection){var a=i.shape.upDirection,s=a[0],l=a[1],u=a[2];s===0&&l===0&&u===0&&delete e.upDirection}}o.startTurbulence&&(e.turbulenceX=Ki(o.turbulenceX),e.turbulenceY=Ki(o.turbulenceY),e.turbulenceZ=Ki(o.turbulenceZ));var h=i.emission;h.bursts&&h.bursts.length>0&&(h.bursts=h.bursts.map(function(k){return Nh(k)})),h.burstOffsets&&h.burstOffsets.length>0&&(h.burstOffsets=h.burstOffsets.map(function(k){return Nh(k)})),h.rateOverTime&&(h.rateOverTime=Ki(h.rateOverTime));var m={renderer:i.renderer,shape:e,splits:i.splits,emission:h,options:{startLifetime:Ki(o.startLifetime),start3DSize:!!o.start3DSize,startSize:Ki(o.startSize),startSizeX:Ki(o.startSizeX),startSizeY:Ki(o.startSizeY),sizeAspect:Ki(o.sizeAspect),maxCount:o.maxCount,startDelay:Ki(o.startDelay),startColor:Bd(o.startColor,!0),startRotationZ:Ki(o.startRotation||o.startRotationZ),particleFollowParent:o.particleFollowParent}};o.start3DRotation&&(m.options.startRotationX=Ki(o.startRotationX),m.options.startRotationY=Ki(o.startRotationY)),n&&n.path&&(m.emitterTransform={path:Gc(n.path)});var v=i.sizeOverLifetime;v&&(v.separateAxes?m.sizeOverLifetime={separateAxes:!0,x:Ki(v.x),y:Ki(v.y)}:m.sizeOverLifetime={size:Ki(v.size)});var p=i.velocityOverLifetime||{},b=p.speedOverLifetime;b?b=hi(b):b=void 0,m.positionOverLifetime={gravity:o.gravity,gravityOverLifetime:hi(o.gravityModifier),startSpeed:Ki(o.startSpeed),speedOverLifetime:b,asMovement:p.asMovement,linearX:Ki(p.linearX),linearY:Ki(p.linearY),linearZ:Ki(p.linearZ),asRotation:p.asRotation,orbCenter:p.orbCenter,orbitalX:Ki(p.orbitalX),orbitalY:Ki(p.orbitalY),orbitalZ:Ki(p.orbitalZ),forceTarget:p.forceTarget,target:p.target,forceCurve:hi(p.forceCurve)},Eu(m.positionOverLifetime);var x=i.rotationOverLifetime;x&&(m.rotationOverLifetime={separateAxes:x.separateAxes,asRotation:x.asRotation,z:Ki(x.separateAxes?x.z:x.angularVelocity)},x.separateAxes&&(m.rotationOverLifetime.y=hi(x.y),m.rotationOverLifetime.x=hi(x.x)));var P=i.colorOverLifetime;if(P){var B=m.colorOverLifetime={opacity:hi(P.opacity)};P.color&&(B.color=Hc(P.color))}var D=i.textureSheetAnimation;D&&(m.textureSheetAnimation={row:D.row,col:D.col,total:D.total,animate:D.animate,cycles:hi(D.cycles),animationDelay:Fh(D.animationDelay,0),animationDuration:Fh(D.animationDuration,0)});var _=i.trails;_&&(m.trails={lifetime:Ki(_.lifetime),dieWithParticles:_.dieWithParticles,maxPointPerTrail:_.maxPointPerTrail,minimumVertexDistance:_.minimumVertexDistance,widthOverTrail:hi(_.widthOverTrail),colorOverTrail:_.colorOverTrail&&Hc(_.colorOverTrail,!1),blending:_.blending,colorOverLifetime:_.colorOverLifetime&&Hc(_.colorOverLifetime,!1),inheritParticleColor:_.inheritParticleColor,occlusion:_.occlusion,transparentOcclusion:_.transparentOcclusion,orderOffset:_.orderOffset,sizeAffectsLifetime:_.sizeAffectsLifetime,sizeAffectsWidth:_.sizeAffectsWidth,texture:_.texture,parentAffectsPosition:_.parentAffectsPosition,opacityOverLifetime:Ki(_.opacityOverLifetime)}),m.trails&&Eu(m.trails);var Y=i.interaction;return Y&&(m.interaction={behavior:Y.behavior,radius:Y.radius,multiple:Y.multiple}),m}function $h(i,o){var n,e=i.options,t=i.velocityOverLifetime||{},r={path:Gc((n=i.transform)==null?void 0:n.path),gravity:e.gravity,gravityOverLifetime:hi(e.gravityModifier),direction:e.direction,startSpeed:e.startSpeed,asMovement:t.asMovement,linearX:hi(t.linearX),linearY:hi(t.linearY),linearZ:hi(t.linearZ),asRotation:t.asRotation,orbCenter:t.orbCenter,orbitalX:hi(t.orbitalX),orbitalY:hi(t.orbitalY),orbitalZ:hi(t.orbitalZ),speedOverLifetime:hi(t.speedOverLifetime)};Eu(r);var a={options:{startColor:Dh(e.startColor)},positionOverLifetime:r};e.startSize&&(o.scale=[e.startSize,e.startSize/(e.sizeAspect||1),1]),e.startRotation&&(o.rotation?o.rotation[2]+=e.startRotation:o.rotation=[0,0,e.startRotation]);var s=i.rotationOverLifetime;if(s){var l=a.rotationOverLifetime={separateAxes:s.separateAxes,asRotation:s.asRotation};l.separateAxes?(l.x=hi(s.x),l.y=hi(s.y),l.z=hi(s.z)):l.z=hi(s.angularVelocity)}var u=i.colorOverLifetime;if(u){var h=a.colorOverLifetime={opacity:hi(u.opacity)};u.color&&(h.color=Hc(u.color))}var m=i.sizeOverLifetime;return m&&(a.sizeOverLifetime={separateAxes:m.separateAxes,size:hi(m.size),x:hi(m.x),y:hi(m.y),z:hi(m.z)}),a}function em(i,o){var n=$h(i,o),e=i.textureSheetAnimation;return e&&(n.textureSheetAnimation={row:e.row,col:e.col,total:e.total||void 0,animate:e.animate}),n.renderer=i.renderer,i.splits&&(n.splits=i.splits),i.interaction&&(n.interaction=i.interaction),n}var tm=/^(\d+)\.(\d+)\.(\d+)(-(\w+)\.\d+)?$/,rm=/^(\d+)\.(\d+)$/,uh=!1;function nm(i){if(!i||typeof i!="object")throw new Error("Invalid input: Expected a JSON object.");if(Xd(i),tm.test(i.version)){var o;return uh=((o=/^(\d+)/.exec(i.version))==null?void 0:o[0])==="0",Uh(zh(im(i)))}uh=!1;var n=rm.exec(i.version)||[],e=Number(n[1]),t=Number(n[2]);if(e)return(e<2||e===2&&t<4)&&(i=Yd(i)),e<3?Uh(zh(i)):i;throw new Error("Invalid JSON version: "+i.version+".")}var ch="1.0";function im(i){var o;ch="1.0";var n=i.plugins||[];(o=i.bins)!=null&&o.length&&(ch="1.3");var e=(i.requires||[]).slice(),t=i.images.map(function(l,u){return am(l,u,i.imageTags||[])}),r=i.textures||t.map(function(l,u){return{source:u,flipY:!0}}),a,s={plugins:n,shapes:i.shapes||[],type:"ge",version:ch,playerVersion:(a=i.playerVersion)!=null?a:{web:"",native:""},compositionId:i.compositionId+"",compositions:i.compositions.map(function(l){return om(l,{plugins:n,requires:e})}),images:t,imgUsage:i._imgs,binUsage:i.binUsage,spines:i.spines,requires:i.requires,textures:r,bins:(i.bins||[]).slice()};return i._textures&&(s._textures=i._textures),s}function am(i,o,n){var e=n[o],t=i.oriY;if(typeof i=="string")return{id:nt(),renderLevel:e,url:i,oriY:t};if(i.template)return{id:nt(),url:i.url,template:i.template,webp:i.webp,renderLevel:e,oriY:t};if(i.compressed)return{id:nt(),url:i.url,oriY:t,compressed:{astc:i.compressed.android,pvrtc:i.compressed.iOS},webp:i.webp,renderLevel:e};if(i.url)return{id:nt(),url:i.url,webp:i.webp,renderLevel:e,oriY:t};if(i&&i.sourceType)return i;throw new Error("Invalid image type.")}function om(i,o){o===void 0&&(o={});var n,e={id:i.id+"",camera:A({clipMode:pi},i.camera),duration:i.duration,endBehavior:i.endBehavior,items:i.items.map(function(a){return lm(a,o)}),name:i.name},t=i.startTime||i.st;t&&(e.startTime=t);var r=(n=i.meta)==null?void 0:n.previewSize;return r&&r[0]===r[1]&&r[0]===0&&(r=void 0),r&&(e.previewSize=r),e}var sm=[0,0,0,1],jh=.5;function lm(i,o){o===void 0&&(o={});var n,e=Ue.base,t,r,a,s=i.endBehavior,l,u,h=NaN,m;if(i.content?(e=i.type||Ue.plugin,m=i.pn,u=i.pluginName,a=i.content,r=i.content,isNaN(m)&&!u&&(u=a.options.type),i.duration&&(h=i.duration),t=i.transform||B(r.transform)):i.particle?(e=Ue.particle,r=i.particle,t=B(r.transform,uh,!0),a=qd(r)):i.sprite?(e=Ue.sprite,r=i.sprite,t=B(r.transform,!1,!0),a=em(r,t)):i.cal?(e=Ue.null,r=i.cal,t=B(r.transform,!1,!0),a=$h(r,t)):i.ui?(e=Ue.interact,r=i.ui,t=B(r.transform),a=Zd(r),t.scale=[r.options.width||1,r.options.height||1,1]):i.model&&(r=i.model,i.model.options.type===1&&(e=Ue.camera,t=B(r.transform),a=Wd(r))),(n=a.renderer)!=null&&n.anchor){var v=new Float32Array(a.renderer.anchor);v[0]==jh&&v[1]==jh?delete a.renderer.anchor:o.requires&&Lh(o.requires,"anchor")}if(r){var p,b=(p=r.options)==null?void 0:p.looping;if(b)Array.isArray(b)?s=b[1]?Te.restart:Te.destroy:s=Te.restart;else{var x;s=s||(r==null||(x=r.options)==null?void 0:x.endBehavior)||Te.destroy}r.options.renderLevel&&(l=r.options.renderLevel),isNaN(h)&&(h=r.options.duration)}var P={type:e,name:i.name,delay:i.delay,duration:h,id:i.id+"",transform:t,endBehavior:s,renderLevel:l,content:a};return u?o.plugins?(Lh(o.plugins,u),P.pn=o.plugins.indexOf(u)):P.pluginName=u:Number.isInteger(m)&&(P.pn=m),i.parentId&&(P.parentId=i.parentId+""),P;function B(D,_,Y){if(D){var k={},W=D.rotation;if(W&&(_?k.rotation=[-W[0],-W[1],-W[2]]:k.rotation=[W[0],W[1],W[2]],Y)){var te=kd(sm,k.rotation[0],k.rotation[1],k.rotation[2]);k.rotation=jd([],te)}var ae=D.position;return ae&&(k.position=D.position),Array.isArray(D.scale)&&(k.scale=[D.scale[0]||1,D.scale[1]||1,D.scale[2]||1]),k}return{}}}var Tu,um=(Tu={},Tu[jt.S]=[jt.S,jt.BPlus,jt.APlus],Tu[jt.A]=[jt.A,jt.BPlus,jt.APlus],Tu[jt.B]=[jt.B,jt.BPlus],Tu);function Hh(i,o){if(!i||!o)return!0;var n=um[o];return n?n.includes(i):!1}var Bl;(function(i){function o(t){return ge(t)&&"jsonScene"in t}i.isJSONObject=o;function n(t){return ge(t)&&"url"in t}i.isURL=n;function e(t){return ge(t)&&"options"in t}i.isWithOptions=e})(Bl||(Bl={}));function Gh(i,o){var n,e,t=(e=i==null?void 0:i.background)!=null?e:{},r=t.name,a=t.url;return r&&(o&&o[r]?n=o[r]:a&&(n=a)),n}function cm(i,o,n){return fh.apply(this,arguments)}function fh(){return fh=M(function(i,o,n){var e,t;return ee(this,function(r){switch(r.label){case 0:return typeof i!="string"?[3,2]:[4,ur(i)];case 1:return e=r.sent(),[3,3];case 2:e=i,r.label=3;case 3:if(!e)throw new Error("Image not provided.");if(!o)return[2,e];if(t=Gh(o,n),t){if(_r(t)&&t!==e.src)return[2,ur(t)];if(U(t,HTMLImageElement))return[2,t]}return[2,e]}})}),fh.apply(this,arguments)}var fm=1,Wh=function(){function i(n,e){n===void 0&&(n={}),e===void 0&&(e=new Pe),this.options=n,this.downloader=e,this.assets={},this.sourceFrom={},this.id=fm++,this.timers=[],this.updateOptions(n)}var o=i.prototype;return o.updateOptions=function(e){e===void 0&&(e={}),this.options=e,e.pluginData||(e.pluginData={});var t=e.timeout,r=t===void 0?10:t;this.timeout=r},o.loadScene=function(e,t,r){var a=this;return M(function(){var s,l,u,h,m,v,p,b,x,P,B,D,_;return ee(this,function(Y){return l=_r(e)?e:a.id,u=performance.now(),h=[],m=t==null?void 0:t.engine.gpuCapability,p=(v=m==null?void 0:m.detail.compressedTexture)!=null?v:gs.NONE,b={},P=!1,B=new Promise(function(k,W){x=window.setTimeout(function(){P=!0,a.removeTimer(x);var te=performance.now()-u;W(new Error("Load time out: totalTime: "+te.toFixed(4)+"ms "+h.join(" ")+", url: "+l+"."))},a.timeout*1e3),a.timers.push(x)}),D=M(function(k,W){var te,ae,se,Qe;return ee(this,function(Je){switch(Je.label){case 0:if(P)return[3,4];te=performance.now(),Je.label=1;case 1:return Je.trys.push([1,3,,4]),[4,W()];case 2:return ae=Je.sent(),se=performance.now()-te,h.push("["+k+": "+se.toFixed(2)+"]"),b[k]=se,[2,ae];case 3:throw Qe=Je.sent(),new Error("Load error in "+k+", "+Qe+".");case 4:throw new Error("Load canceled.")}})}),_=M(function(){var k,W,te,ae,se,Qe,Je,at,ut,At,Gt,Wt,Qt,er,Dt,Lr,cr,Mr,Gr,Wr;return ee(this,function(ti){switch(ti.label){case 0:return _r(e)?(W=new URL(e,location.href).href,a.baseUrl=W,[4,D("loadJSON",function(){return a.loadJSON(W)})]):[3,2];case 1:return s=ti.sent(),[3,3];case 2:s=e,a.baseUrl=location.href,ti.label=3;case 3:return Bl.isJSONObject(s)?(k=A({},s),te=k.jsonScene,ae=k.pluginSystem,se=k.images,Qe=te.compositions,Je=te.images,a.assignImagesToAssets(Je,se),[4,Promise.all([D("plugin:processAssets",function(){return a.processPluginAssets(te,ae,r)}),D("plugin:precompile",function(){return a.precompile(Qe,ae,t,r)})])]):[3,5];case 4:return ti.sent(),[3,10];case 5:return[4,D("processJSON",function(){return a.processJSON(s)})];case 6:return at=ti.sent(),ut=at.jsonScene,At=at.pluginSystem,Gt=ut.bins,Wt=Gt===void 0?[]:Gt,Qt=ut.images,er=ut.compositions,Dt=ut.fonts,[4,Promise.all([D("processBins",function(){return a.processBins(Wt)}),D("processImages",function(){return a.processImages(Qt,p)}),D("plugin:processAssets",function(){return a.processPluginAssets(ut,At,r)}),D("plugin:precompile",function(){return a.precompile(er,At,t,r)}),D("processFontURL",function(){return a.processFontURL(Dt)})])];case 7:return Lr=ti.sent(),cr=Lr[0],Mr=Lr[1],[4,D("processTextures",function(){return a.processTextures(Mr,cr,ut)})];case 8:return Gr=ti.sent(),k={timeInfos:b,url:e,renderLevel:a.options.renderLevel,storage:{},pluginSystem:At,jsonScene:ut,bins:cr,images:Mr,textureOptions:Gr},[4,D("plugin:prepareResource",function(){return At.loadResources(k,a.options)})];case 9:ti.sent(),ti.label=10;case 10:return[4,D("prepareAssets",function(){return a.prepareAssets(t==null?void 0:t.engine)})];case 11:return ti.sent(),Wr=performance.now()-u,$e.info("Load asset: totalTime: "+Wr.toFixed(4)+"ms "+h.join(" ")+", url: "+l+"."),window.clearTimeout(x),a.removeTimer(x),k.totalTime=Wr,k.startTime=u,k.timeInfos=b,[2,k]}})}),[2,Promise.race([B,_()])]})})()},o.precompile=function(e,t,r,a){return M(function(){return ee(this,function(s){switch(s.label){case 0:return!r||!r.getShaderLibrary()?[2]:[4,t.precompile(e,r,a)];case 1:return s.sent(),[2]}})})()},o.processJSON=function(e){var t=this;return M(function(){var r,a,s,l;return ee(this,function(u){switch(u.label){case 0:return r=nm(e),a=r.plugins,s=a===void 0?[]:a,l=new Vt(s),[4,l.processRawJSON(r,t.options)];case 1:return u.sent(),[2,{jsonScene:r,pluginSystem:l}]}})})()},o.processBins=function(e){var t=this;return M(function(){var r,a,s;return ee(this,function(l){return r=t.options.renderLevel,a=t.baseUrl,s=e.map(function(u){if(U(u,ArrayBuffer))return u;if(Hh(u.renderLevel,r))return t.loadBins(new URL(u.url,a).href);throw new Error("Invalid bins source: "+JSON.stringify(e)+".")}),[2,Promise.all(s)]})})()},o.processFontURL=function(e){var t=this;return M(function(){var r;return ee(this,function(a){return e?(r=e.map(M(function(s){var l,u,h;return ee(this,function(m){switch(m.label){case 0:if(!(s.fontURL&&!i.fontCache.has(s.fontFamily)))return[3,4];Le(s.fontFamily)||console.warn("Risky font family: "+s.fontFamily+"."),m.label=1;case 1:return m.trys.push([1,3,,4]),l=new URL(s.fontURL,t.baseUrl).href,h=new FontFace((u=s.fontFamily)!=null?u:"","url("+l+")"),[4,h.load()];case 2:return m.sent(),document.fonts.add(h),i.fontCache.add(s.fontFamily),[3,4];case 3:return m.sent(),$e.warn("Invalid font family or font source: "+JSON.stringify(s.fontURL)+"."),[3,4];case 4:return[2]}})})),[2,Promise.all(r)]):[2]})})()},o.processImages=function(e,t){t===void 0&&(t=0);var r=this;return M(function(){var a,s,l,u,h,m,v,p;return ee(this,function(b){switch(b.label){case 0:return a=r.options,s=a.useCompressedTexture,l=a.variables,u=a.disableWebP,h=a.disableAVIF,m=r.baseUrl,v=e.map(M(function(x,P){var B,D,_,Y,k,W,te,ae,se,Qe,Je,at,ut,At,Gt,Wt,Qt,er,Dt,Lr,cr;return ee(this,function(Mr){switch(Mr.label){case 0:if(B=x.url,D=x.webp,_=x.avif,Y=new URL(B,m).href,k=!u&&D?new URL(D,m).href:void 0,W=!h&&_?new URL(_,m).href:void 0,te=x.id,!("template"in x))return[3,8];if(ae=x.template,se=ae.background,!se)return[3,7];Qe=Gh(ae,l),Je=se.type===yn.video,at=se&&Je?dn:ur,Mr.label=1;case 1:return Mr.trys.push([1,6,,7]),[4,Dn(Qe,at)];case 2:return ut=Mr.sent(),U(ut,HTMLVideoElement)?(r.sourceFrom[te]={url:ut.src,type:G.video},[2,ut]):[3,3];case 3:return se&&Array.isArray(Qe)&&l&&(l[se.name]=ut.src),r.sourceFrom[te]={url:ut.src,type:G.image},[4,cm(ut,ae,l)];case 4:return[2,Mr.sent()];case 5:return[3,7];case 6:throw At=Mr.sent(),new Error("Failed to load. Check the template or if the URL is "+(Je?"video":"image")+" type, URL: "+Qe+", Error: "+(At.message||At)+".");case 7:return[3,9];case 8:if("compressed"in x&&s&&t){if(Gt=x.compressed,t===gs.ASTC?Wt=Gt.astc:t===gs.PVRTC&&(Wt=Gt.pvrtc),Wt)return Qt=new URL(Wt,m).href,r.sourceFrom[te]={url:Qt,type:G.compressed},[2,r.loadBins(Qt)]}else if(U(x,HTMLImageElement)||U(x,HTMLCanvasElement)||U(x,HTMLVideoElement)||U(x,Nr))return[2,x];Mr.label=9;case 9:return W?[4,Vr(Y,W)]:[3,11];case 10:return cr=Mr.sent(),[3,13];case 11:return[4,Ut(Y,k)];case 12:cr=Mr.sent(),Mr.label=13;case 13:return er=cr,Dt=er.url,Lr=er.image,r.sourceFrom[te]={url:Dt,type:G.image},[2,Lr]}})})),[4,Promise.all(v)];case 1:return p=b.sent(),r.assignImagesToAssets(e,p),[2,p]}})})()},o.processPluginAssets=function(e,t,r){var a=this;return M(function(){var s,l,u,h,m;return ee(this,function(v){switch(v.label){case 0:return[4,t.processAssets(e,r)];case 1:for(s=v.sent(),l=s.reduce(function(p,b){return p.assets=p.assets.concat(b.assets),p.loadedAssets=p.loadedAssets.concat(b.loadedAssets),p},{assets:[],loadedAssets:[]}),u=l.assets,h=l.loadedAssets,m=0;m<u.length;m++)a.assets[u[m].id]=h[m];return[2]}})})()},o.prepareAssets=function(e){var t=this;return M(function(){var r,a,s,l,u;return ee(this,function(h){if(!e)return[2];for(r=ke(Object.keys(t.assets));!(a=r()).done;)s=a.value,l=t.assets[s],u=new Nd(e),u.data=l,u.setInstanceId(s),e.addInstance(u);return[2]})})()},o.processTextures=function(e,t,r){var a=this;return M(function(){var s,l,u;return ee(this,function(h){return l=(s=r.textures)!=null?s:e.map(function(m,v){return{source:v}}),u=l.map(M(function(m,v){var p,b,x,P,B,D;return ee(this,function(_){switch(_.label){case 0:if(U(m,Nr))return[2,m];if(!("mipmaps"in m))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,ri(m,t,a.assets,r.bins)];case 2:return[2,_.sent()];case 3:throw p=_.sent(),new Error("Load texture "+v+" fails, error message: "+p+".");case 4:return b=m.source,x=m.id,B="",ge(b)?(P=a.assets[b.id],B=b.id,[3,7]):[3,5];case 5:return typeof b!="string"?[3,7]:[4,ur(ne(b))];case 6:P=_.sent(),_.label=7;case 7:if(P)return D=hm(P,a.sourceFrom[B],x),[2,D.sourceType===G.compressed?D:A({},D,m)];throw new Error("Invalid texture source: "+b+".")}})})),[2,Promise.all(u)]})})()},o.loadJSON=function(e){var t=this;return M(function(){return ee(this,function(r){return[2,new Promise(function(a,s){t.downloader.downloadJSON(e,a,function(l,u){s("Couldn't load JSON "+JSON.stringify(e)+": status "+l+", "+u)})})]})})()},o.loadBins=function(e){var t=this;return M(function(){return ee(this,function(r){return[2,new Promise(function(a,s){t.downloader.downloadBinary(e,a,function(l,u){s("Couldn't load bins "+JSON.stringify(e)+": status "+l+", "+u)})})]})})()},o.assignImagesToAssets=function(e,t){for(var r=0;r<e.length;r++)this.assets[e[r].id]=t[r]},o.removeTimer=function(e){var t=this.timers.indexOf(e);t!==-1&&this.timers.splice(t,1)},o.dispose=function(){this.timers.length&&this.timers.map(function(e){return window.clearTimeout(e)}),this.assets={},this.sourceFrom={},this.timers=[]},i}();Wh.fontCache=new Set;function hm(i,o,n){var e={id:n,dataType:Pt.Texture};if(U(i,Nr))return A({},i.source,e);if(U(i,HTMLImageElement)||je(i))return A({image:i,sourceType:G.image,sourceFrom:o,keepImageSource:!0,minFilter:F.LINEAR,magFilter:F.LINEAR},e);if(U(i,HTMLVideoElement))return A({sourceType:G.video,video:i,minFilter:F.LINEAR,magFilter:F.LINEAR},e);if(U(i,ArrayBuffer))return A({},ni(i),{sourceFrom:o},e);if("width"in i&&"height"in i&&"data"in i)return A({sourceType:G.data,data:i,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE,minFilter:F.NEAREST,magFilter:F.NEAREST},e);throw new Error("Invalid texture options.")}var dm=new we(1,1,1),mm=function(){function i(n,e){e===void 0&&(e={}),this.name=n,this.viewportMatrix=Or.fromIdentity(),this.viewMatrix=Or.fromIdentity(),this.projectionMatrix=Or.fromIdentity(),this.viewProjectionMatrix=Or.fromIdentity(),this.inverseViewMatrix=Or.fromIdentity(),this.dirty=!0;var t=e.near,r=t===void 0?.1:t,a=e.far,s=a===void 0?20:a,l=e.fov,u=l===void 0?60:l,h=e.aspect,m=h===void 0?1:h,v=e.clipMode,p=v===void 0?Fr.portrait:v,b=e.position,x=b===void 0?[0,0,8]:b,P=e.rotation,B=P===void 0?[0,0,0]:P;this.options={near:r,far:s,fov:u,aspect:m,clipMode:p,position:we.fromArray(x),rotation:Wn.fromArray(B)},this.dirty=!0,this.updateMatrix()}var o=i.prototype;return o.setViewportMatrix=function(e){this.viewportMatrix=e.clone(),this.dirty=!0},o.getViewportMatrix=function(){return this.viewportMatrix},o.getViewMatrix=function(){return this.updateMatrix(),this.viewMatrix.clone()},o.getInverseViewMatrix=function(){return this.updateMatrix(),this.inverseViewMatrix.clone()},o.getProjectionMatrix=function(){return this.updateMatrix(),this.projectionMatrix.clone()},o.getInverseProjectionMatrix=function(){var e;return this.updateMatrix(),(e=this.inverseProjectionMatrix)==null?void 0:e.clone()},o.getViewProjectionMatrix=function(){return this.updateMatrix(),this.viewProjectionMatrix.clone()},o.getInverseViewProjectionMatrix=function(){return this.updateMatrix(),this.inverseViewProjectionMatrix||(this.inverseViewProjectionMatrix=this.viewProjectionMatrix.clone(),this.inverseViewProjectionMatrix.invert()),this.inverseViewProjectionMatrix.clone()},o.getModelViewProjection=function(e,t){return e.multiplyMatrices(this.viewProjectionMatrix,t)},o.getInverseVPRatio=function(e){var t=new we(this.position.x,this.position.y,e),r=this.getViewProjectionMatrix(),a=this.getInverseViewProjectionMatrix();if(!this.viewportMatrix.isIdentity()){var s=this.viewportMatrix.clone();a.premultiply(s),r.multiply(s.invert())}var l=r.projectPoint(t),u=l.z,h=a.projectPoint(new we(1,1,u)),m=h.x,v=h.y,p=a.projectPoint(new we(-1,-1,u)),b=p.x,x=p.y;return new we((m-b)/2,(v-x)/2,0)},o.setQuat=function(e){this.options.quat===void 0?(this.options.quat=e.clone(),this.dirty=!0):this.options.quat.equals(e)||(this.options.quat.copyFrom(e),this.dirty=!0),this.dirty&&this.setRotationByQuat(e)},o.getQuat=function(){var e=this.options.quat;if(e===void 0){e=new _t;var t=this.options.rotation;t&&e.setFromEuler(t),this.options.quat=e}return e},o.getOptions=function(){return this.options},o.copy=function(e){var t=e.near,r=e.far,a=e.fov,s=e.clipMode,l=e.aspect,u=e.position,h=e.rotation;this.near=t,this.far=r,this.fov=a,this.clipMode=s,this.aspect=l,this.position=u,this.rotation=h,this.updateMatrix()},o.updateMatrix=function(){if(this.dirty){var e=this.options,t=e.fov,r=e.aspect,a=e.near,s=e.far,l=e.clipMode,u=e.position;this.projectionMatrix.perspective(t*ai,r,a,s,l===Fr.portrait),this.projectionMatrix.premultiply(this.viewportMatrix),this.inverseViewMatrix.compose(u,this.getQuat(),dm),this.viewMatrix.copyFrom(this.inverseViewMatrix).invert(),this.viewProjectionMatrix.multiplyMatrices(this.projectionMatrix,this.viewMatrix),this.inverseViewProjectionMatrix=null,this.dirty=!1}},o.setRotationByQuat=function(e){il.getRotation(e,this.options.rotation)},br(i,[{key:"near",get:function(){return this.options.near},set:function(e){this.options.near!==e&&(this.options.near=e,this.dirty=!0)}},{key:"far",get:function(){return this.options.far},set:function(e){this.options.far!==e&&(this.options.far=e,this.dirty=!0)}},{key:"fov",get:function(){return this.options.fov},set:function(e){this.options.fov!==e&&(this.options.fov=e,this.dirty=!0)}},{key:"aspect",get:function(){return this.options.aspect},set:function(e){this.options.aspect!==e&&(this.options.aspect=e,this.dirty=!0)}},{key:"clipMode",get:function(){return this.options.clipMode},set:function(e){e!==void 0&&this.options.clipMode!==e&&(this.options.clipMode=e,this.dirty=!0)}},{key:"position",get:function(){return this.options.position.clone()},set:function(e){this.options.position.equals(e)||(this.options.position.copyFrom(e),this.dirty=!0)}},{key:"rotation",get:function(){return this.options.rotation.clone()},set:function(e){this.options.rotation.equals(e)||(this.options.rotation.copyFrom(e),this.dirty=!0,this.options.quat=void 0)}}]),i}(),vm=function(){function i(n,e){this.refCompositionProps=new Map,this.imgUsage={},this.mask=0,this.refCompositions=new Map,this.engine=e;var t=n.jsonScene,r=n.renderLevel,a=n.textureOptions,s=n.pluginSystem,l=n.totalTime,u=t.compositions,h=t.compositionId;if(!a)throw new Error("scene.textures expected.");for(var m=a,v=ke(u),p;!(p=v()).done;){var b=p.value;b.id===h?this.composition=b:this.refCompositions.set(b.id,b)}if(!this.composition)throw new Error("Invalid composition id: "+h+".");this.jsonScene=t,this.renderLevel=r,this.pluginSystem=s,this.totalTime=l!=null?l:0,this.textures=m,this.sourceContent=this.getContent(this.composition)}var o=i.prototype;return o.getContent=function(e){var t=A({},e);return this.assembleItems(t),isNaN(t.endBehavior)&&(t.endBehavior=Te.freeze),t.startTime||(t.startTime=0),t},o.assembleItems=function(e){this.mask++;var t={},r=[];if(this.jsonScene){for(var a=ke(this.jsonScene.components),s;!(s=a()).done;){var l=s.value;t[l.id]=l}for(var u=ke(e.items),h;!(h=u()).done;){var m=h.value,v=this.engine.jsonSceneData[m.id],p=v;if(Hh(v.renderLevel,this.renderLevel)){if(p.type===Ue.sprite||p.type===Ue.particle||p.type===Ue.spine||p.type===Ue.shape)for(var b=ke(p.components),x;!(x=b()).done;){var P=x.value,B=t[P.id];this.preProcessItemContent(B)}if(p.type===Ue.composition){var D=v.content.options.refId,_=this.refCompositions.get(D);if(!_)throw new Error("Invalid ref composition id: "+D+".");var Y=this.getContent(_);this.refCompositionProps.has(D)||this.refCompositionProps.set(D,Y)}r.push(m)}}e.items=r}},o.preProcessItemContent=function(e){if(e.renderer){e.renderer=this.changeTex(e.renderer),"mask"in e.renderer||this.processMask(e.renderer);var t=e.splits&&!e.textureSheetAnimation?e.splits[0]:void 0,r=e.renderer.shape,a;if(Number.isInteger(r)){var s;a=(s=this.jsonScene)==null?void 0:s.shapes[r]}else r&&(a=r);a!==void 0&&!("aPoint"in a&&"index"in a)&&(e.renderer.shape=zf(a,t))}"trails"in e&&e.trails!==void 0&&(e.trails=this.changeTex(e.trails))},o.changeTex=function(e){if(!e.texture)return e;var t=e.texture.id;return t!==void 0&&this.addTextureUsage(t),e},o.addTextureUsage=function(e){var t,r=(t=this.imgUsage)!=null?t:{};e&&r&&(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=0),r[e]++)},o.processMask=function(e){var t=e.maskMode;t!==lr.NONE&&(e.mask||(t===lr.MASK?e.mask=++this.mask:(t===lr.OBSCURED||t===lr.REVERSE_OBSCURED)&&(e.mask=this.mask)))},o.dispose=function(){this.textures=[],this.composition=void 0,this.jsonScene=void 0,this.totalTime=0,this.pluginSystem=void 0,this.sourceContent=void 0,this.refCompositions.clear(),this.refCompositionProps.clear()},i}(),pm=function(){function i(){this.update=new gm,this.lateUpdate=new ym}var o=i.prototype;return o.addComponent=function(e){e.onUpdate!==Hi.prototype.onUpdate&&this.update.addComponent(e),e.onLateUpdate!==Hi.prototype.onLateUpdate&&this.lateUpdate.addComponent(e)},o.removeComponent=function(e){e.onUpdate!==Hi.prototype.onUpdate&&this.update.removeComponent(e),e.onLateUpdate!==Hi.prototype.onLateUpdate&&this.lateUpdate.removeComponent(e)},o.clear=function(){this.update.clear(),this.lateUpdate.clear()},i}(),Zh=function(){function i(){this.components=[],this.ticks=[]}var o=i.prototype;return o.tick=function(e){this.tickComponents(this.components,e);for(var t=0;t<this.ticks.length;t++)this.ticks[t](e)},o.tickComponents=function(e,t){},o.addComponent=function(e){this.components.includes(e)||this.components.push(e)},o.removeComponent=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},o.addTick=function(e,t){var r=e.bind(t);this.ticks.includes(r)||this.ticks.push(r)},o.clear=function(){this.components=[]},i}(),gm=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.tickComponents=function(t,r){for(var a=ke(t),s;!(s=a()).done;){var l=s.value;l.onUpdate(r)}},o}(Zh),ym=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.tickComponents=function(t,r){for(var a=ke(t),s;!(s=a()).done;){var l=s.value;l.onLateUpdate(r)}},o}(Zh),bm=function(i){be(o,i);function o(e,t){var r,a;r=i.call(this)||this,r.sceneTicking=new pm,r.speed=1,r.isEnded=!1,r.loaderData={},r.refContent=[],r.refCompositionProps=new Map,r.postProcessingEnabled=!1,r.assigned=!1,r.destroyed=!1,r.postLoaders=[],r.paused=!1,r.lastVideoUpdateTime=0,r.isEndCalled=!1;var s=e.reusable,l=s===void 0?!1:s,u=e.speed,h=u===void 0?1:u,m=e.baseRenderOrder,v=m===void 0?0:m,p=e.renderer,b=e.event,x=e.width,P=e.height,B=e.handleItemMessage;r.compositionSourceManager=new vm(t,p.engine),l&&(r.keepResource=!0,t.textures=void 0,t.consumed=!0);var D=r.compositionSourceManager,_=D.sourceContent,Y=D.pluginSystem,k=D.imgUsage,W=D.totalTime,te=D.refCompositionProps,ae;r.postProcessingEnabled=(ae=(a=t.jsonScene.renderSettings)==null?void 0:a.postProcessingEnabled)!=null?ae:!1,bt(_),r.renderer=p,r.refCompositionProps=te,r.rootItem=new Pi(r.getEngine(),_),r.rootItem.name="rootItem",r.rootItem.composition=He(r),r.rootComposition=r.rootItem.addComponent(N),r.width=x,r.height=P,r.renderOrder=v,r.id=_.id,r.renderer=p,r.texInfo=l?{}:k,r.event=b;var se;return r.statistic={loadStart:(se=t.startTime)!=null?se:0,loadTime:W!=null?W:0,compileTime:0,firstFrameTime:0},r.reusable=l,r.speed=h,r.autoRefTex=!r.keepResource&&r.texInfo&&r.rootItem.endBehavior!==Te.restart,r.name=_.name,r.pluginSystem=Y,r.pluginSystem.initializeComposition(He(r),t),r.camera=new mm(r.name,A({},_==null?void 0:_.camera,{aspect:x/P})),r.url=t.url,r.assigned=!0,r.interactive=!0,r.handleItemMessage=B,r.createRenderFrame(),r.rendererOptions=null,L.deserialize(_,r.rootComposition),r.rootComposition.createContent(),r.buildItemTree(r.rootItem),r.rootComposition.setChildrenRenderOrder(0),r.pluginSystem.resetComposition(He(r),r.renderFrame),r}var n=o.prototype;return n.getDuration=function(){return this.rootItem.duration},n.restart=function(){this.reset(),this.forwardTime(this.startTime)},n.setIndex=function(t){this.renderOrder=t},n.getIndex=function(){return this.renderOrder},n.setSpeed=function(t){this.speed=t},n.setVisible=function(t){this.rootItem.setVisible(t)},n.getSpeed=function(){return this.speed},n.play=function(){this.isEnded&&this.reusable&&this.restart(),this.rootComposition.isStartCalled?this.gotoAndPlay(this.time-this.startTime):this.gotoAndPlay(0)},n.pause=function(){this.paused=!0},n.getPaused=function(){return this.paused},n.resume=function(){this.paused=!1},n.gotoAndPlay=function(t){this.setTime(t),this.resume()},n.gotoAndStop=function(t){this.setTime(t),this.pause()},n.createRenderFrame=function(){this.renderFrame=new oo({camera:this.camera,renderer:this.renderer,keepColorBuffer:this.keepColorBuffer,globalVolume:this.globalVolume,postProcessingEnabled:this.postProcessingEnabled}),this.renderFrame.cachedTextures=this.textures},n.setTime=function(t){var r=this.speed,a=this.paused;a&&this.resume(),this.setSpeed(1),this.forwardTime(t+this.startTime),this.setSpeed(r),a&&this.pause(),this.emit("goto",{time:t})},n.addItem=function(t){this.items.push(t),t.setParent(this.rootItem)},n.forwardTime=function(t){var r=t*1e3-this.rootComposition.time*1e3,a=r<0,s=15,l=Math.abs(r),u=a?-s:s;for(l;l>s;l-=s)this.update(u);this.update(a?-l:l)},n.reset=function(){this.rendererOptions=null,this.isEnded=!1,this.isEndCalled=!1,this.rootComposition.time=0,this.pluginSystem.resetComposition(this,this.renderFrame)},n.prepareRender=function(){var t=this,r=this.renderFrame;this.postLoaders.length=0,this.pluginSystem.plugins.forEach(function(a){a.prepareRenderFrame(t,r)&&t.postLoaders.push(a)}),this.postLoaders.forEach(function(a){return a.postProcessFrame(t,r)})},n.update=function(t){if(!(!this.assigned||this.paused)){var r=parseFloat(this.getUpdateTime(t*this.speed).toFixed(0));this.updateRootComposition(r/1e3),this.updateVideo(),this.updatePluginLoaders(t),this.rootItem.isDuringPlay||(this.callAwake(this.rootItem),this.rootItem.beginPlay()),this.sceneTicking.update.tick(r),this.sceneTicking.lateUpdate.tick(r),this.updateCamera(),this.prepareRender(),this.isEnded&&!this.isEndCalled&&(this.isEndCalled=!0,this.emit("end",{composition:this})),this.shouldDispose()&&this.dispose()}},n.shouldDispose=function(){return this.isEnded&&this.rootItem.endBehavior===Te.destroy&&!this.reusable},n.getUpdateTime=function(t){var r=this.startTime*1e3,a=this.rootComposition.time*1e3;return t<0&&a+t<r?r-a:t},n.callAwake=function(t){for(var r=ke(t.components),a;!(a=r()).done;){var s=a.value;s.isAwakeCalled||(s.onAwake(),s.isAwakeCalled=!0)}for(var l=ke(t.children),u;!(u=l()).done;){var h=u.value;this.callAwake(h)}},n.buildItemTree=function(t){if(t.composition){for(var r=new Map,a=t.getComponent(N).items,s=ke(a),l;!(l=s()).done;){var u=l.value;r.set(u.id,u)}for(var h=ke(a),m;!(m=h()).done;){var v=m.value;if(v.parentId===void 0)v.setParent(t);else{var p=r.get(v.parentId);if(p)v.parent=p,v.transform.parentTransform=p.transform,p.children.push(v);else throw new Error("The element references a non-existent element, please check the data.")}}for(var b=ke(a),x;!(x=b()).done;){var P=x.value;Pi.isComposition(P)&&this.buildItemTree(P)}}},n.updateVideo=function(){var t=performance.now();if(t-this.lastVideoUpdateTime>33){var r;((r=this.textures)!=null?r:[]).forEach(function(a){return a==null?void 0:a.uploadCurrentVideoFrame()}),this.lastVideoUpdateTime=t}},n.updateCamera=function(){this.camera.updateMatrix()},n.updatePluginLoaders=function(t){var r=this;this.pluginSystem.plugins.forEach(function(a){return a.onCompositionUpdate(r,t)})},n.updateRootComposition=function(t){if(this.rootComposition.isActiveAndEnabled){var r=parseFloat((this.time+t-this.rootItem.start).toFixed(3)),a=!1,s=this.rootItem.duration,l=this.rootItem.endBehavior;if(r-s>.001)switch(a=!0,l){case Te.restart:{r=r%s,this.restart();break}case Te.freeze:{r=Math.min(s,r);break}case Te.forward:break;case Te.destroy:break}this.rootComposition.time=r,this.isEnded!==a&&(a?this.isEnded=!0:(this.isEnded=!1,this.isEndCalled=!1))}},n.getItemByName=function(t){return this.rootItem.find(t)},n.getHitTestRay=function(t,r){var a=this.renderFrame.editorTransform,s=a.x,l=a.y,u=a.z,h=a.w;return Di((t-u)/s,(r-h)/l,this.camera)},n.getEngine=function(){var t;return(t=this.renderer)==null?void 0:t.engine},n.hitTest=function(t,r,a,s){var l;if(this.isDestroyed||!this.interactive)return[];var u=[],h=this.getHitTestRay(t,r);return(l=this.rootItem.getComponent(N))==null||l.hitTest(h,t,r,u,a,s),this.refContent.forEach(function(m){var v;(v=m.getComponent(N))==null||v.hitTest(h,t,r,u,a,s)}),u},n.addInteractiveItem=function(t,r){if(r===Br.MESSAGE)return this.handleItemMessage({name:t.name,phrase:Jn,id:t.id,compositionId:this.id}),t.emit("message",{name:t.name,phrase:Jn,id:t.id}),t.id},n.removeInteractiveItem=function(t,r){r===Br.MESSAGE&&(this.handleItemMessage({name:t.name,phrase:nn,id:t.id,compositionId:this.id}),t.emit("message",{name:t.name,phrase:nn,id:t.id}))},n.destroyTextures=function(t){for(var r=0;r<t.length;r++){var a=t[r];if(a){if(a.sourceType===G.data&&!this.texInfo[a.getInstanceId()]){var s;a!==((s=this.rendererOptions)==null?void 0:s.emptyTexture)&&a!==this.renderFrame.transparentTexture&&a!==this.getEngine().emptyTexture&&a.dispose();continue}if(this.autoRefTex){var l=--this.texInfo[a.getInstanceId()];l||a.dispose()}}}},n.destroyItem=function(t){var r=this;if(t.type==Ue.composition){if(t.endBehavior!==Te.freeze){var a=t.getComponent(N).items;a.forEach(function(s){return r.pluginSystem.plugins.forEach(function(l){return l.onCompositionItemRemoved(r,s)})})}}else de(this.items,t),this.pluginSystem.plugins.forEach(function(s){return s.onCompositionItemRemoved(r,t)})},n.lost=function(t){this.videoState=this.textures.map(function(r){if("video"in r.source)return r.source.video.pause(),r.source.video.currentTime}),this.textures.map(function(r){return r.dispose()}),this.dispose()},n.dispose=function(){var t=this,r,a;if(!this.destroyed){this.destroyed=!0;var s={},l=this.textures;l&&this.keepResource&&l.forEach(function(u){u!=null&&u.dispose&&(s[u.id]=u.dispose,u.dispose=gr)}),this.rootItem.dispose(),this.renderFrame.dispose(),(r=this.rendererOptions)==null||r.emptyTexture.dispose(),(a=this.pluginSystem)==null||a.destroyComposition(this),this.update=function(){$e.error("Update disposed composition: "+t.name+".")},this.dispose=gr,l&&this.keepResource&&l.forEach(function(u){return u.dispose=s[u.id]}),this.compositionSourceManager.dispose(),this.refCompositionProps.clear(),this.renderer.env!==bo&&this.renderer.clear({stencilAction:Z.clear,clearStencil:0,depthAction:Z.clear,clearDepth:1,colorAction:Z.clear,clearColor:[0,0,0,0]})}},n.setEditorTransform=function(t,r,a){this.renderFrame.editorTransform.set(t,t,r,a)},n.translateByPixel=function(t,r){if(!this.renderer){console.warn("Renderer not assigned. Operation aborted.");return}this.rootItem.translateByPixel(t,r)},n.setPositionByPixel=function(t,r){if(!this.renderer){console.warn("Renderer not assigned. Operation aborted.");return}this.rootItem.setPositionByPixel(t,r)},n.translate=function(t,r,a){this.rootItem.translate(t,r,a)},n.setPosition=function(t,r,a){this.rootItem.setPosition(t,r,a)},n.rotate=function(t,r,a){this.rootItem.rotate(t,r,a)},n.setRotation=function(t,r,a){this.rootItem.setRotation(t,r,a)},n.scale=function(t,r,a){this.rootItem.scale(t,r,a)},n.setScale=function(t,r,a){this.rootItem.setScale(t,r,a)},n.offloadTexture=function(){this.textureOffloaded||(this.textures.forEach(function(t){return t&&t.offloadData()}),this.textureOffloaded=!0)},n.getRendererOptions=function(){return this.rendererOptions||(this.rendererOptions={emptyTexture:this.renderFrame.emptyTexture,cachePrefix:"-"}),this.rendererOptions},n.reloadTexture=function(){var t=this;return M(function(){return ee(this,function(r){switch(r.label){case 0:return t.textureOffloaded?[4,Promise.all(t.textures.map(function(a){return a==null?void 0:a.reloadData()}))]:[3,2];case 1:r.sent(),t.textureOffloaded=!1,r.label=2;case 2:return[2]}})})()},br(o,[{key:"transform",get:function(){return this.rootItem.transform}},{key:"textures",get:function(){return this.compositionSourceManager.textures}},{key:"items",get:function(){return this.rootComposition.items}},{key:"startTime",get:function(){return this.rootComposition.startTime}},{key:"time",get:function(){return this.rootComposition.time}},{key:"isDestroyed",get:function(){return this.destroyed}},{key:"viewportMatrix",get:function(){return this.camera.getViewportMatrix()},set:function(t){this.camera.setViewportMatrix(t)}}]),o}(nu),hh=2,ss=4,Ts=4,cl=4,ks=new Int32Array(2),Xh=new Float32Array(ks.buffer),Yh=new Float64Array(ks.buffer),Zc=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,dh;(function(i){i[i.UTF8_BYTES=1]="UTF8_BYTES",i[i.UTF16_STRING=2]="UTF16_STRING"})(dh||(dh={}));var Xc=function(){function i(n){this.bytes_=n,this.position_=0,this.text_decoder_=new TextDecoder}var o=i.prototype;return o.clear=function(){this.position_=0},o.bytes=function(){return this.bytes_},o.position=function(){return this.position_},o.setPosition=function(e){this.position_=e},o.capacity=function(){return this.bytes_.length},o.readInt8=function(e){return this.readUint8(e)<<24>>24},o.readUint8=function(e){return this.bytes_[e]},o.readInt16=function(e){return this.readUint16(e)<<16>>16},o.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},o.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},o.readUint32=function(e){return this.readInt32(e)>>>0},o.readInt64=function(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))},o.readUint64=function(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))},o.readFloat32=function(e){return ks[0]=this.readInt32(e),Xh[0]},o.readFloat64=function(e){return ks[Zc?0:1]=this.readInt32(e),ks[Zc?1:0]=this.readInt32(e+4),Yh[0]},o.writeInt8=function(e,t){this.bytes_[e]=t},o.writeUint8=function(e,t){this.bytes_[e]=t},o.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},o.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},o.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},o.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},o.writeInt64=function(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))},o.writeUint64=function(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))},o.writeFloat32=function(e,t){Xh[0]=t,this.writeInt32(e,ks[0])},o.writeFloat64=function(e,t){Yh[0]=t,this.writeInt32(e,ks[Zc?0:1]),this.writeInt32(e+4,ks[Zc?1:0])},o.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+ss+Ts)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<Ts;t++)e+=String.fromCharCode(this.readInt8(this.position_+ss+t));return e},o.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},o.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},o.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e);e+=ss;var a=this.bytes_.subarray(e,e+r);return t===dh.UTF8_BYTES?a:this.text_decoder_.decode(a)},o.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},o.__indirect=function(e){return e+this.readInt32(e)},o.__vector=function(e){return e+this.readInt32(e)+ss},o.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},o.__has_identifier=function(e){if(e.length!=Ts)throw new Error("FlatBuffers: file identifier must be length "+Ts);for(var t=0;t<Ts;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+ss+t))return!1;return!0},o.createScalarList=function(e,t){for(var r=[],a=0;a<t;++a){var s=e(a);s!==null&&r.push(s)}return r},o.createObjList=function(e,t){for(var r=[],a=0;a<t;++a){var s=e(a);s!==null&&r.push(s.unpack())}return r},i.allocate=function(e){return new i(new Uint8Array(e))},i}(),Kh=function(){function i(n){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;var e;n?e=n:e=1024,this.bb=Xc.allocate(e),this.space=e}var o=i.prototype;return o.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},o.forceDefaults=function(n){this.force_defaults=n},o.dataBuffer=function(){return this.bb},o.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},o.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var a=this.bb.capacity();this.bb=i.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(r)},o.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},o.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},o.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},o.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},o.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},o.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},o.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},o.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},o.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},o.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},o.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},o.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},o.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},o.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},o.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},o.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},o.addFieldInt64=function(e,t,r){(this.force_defaults||t!==r)&&(this.addInt64(t),this.slot(e))},o.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},o.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},o.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},o.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},o.nested=function(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")},o.notNested=function(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")},o.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},o.offset=function(){return this.bb.capacity()-this.space},o.addOffset=function(e){this.prep(ss,0),this.writeInt32(this.offset()-e+ss)},o.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},o.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var a=2;this.addInt16(e-this.object_start);var s=(r+a)*hh;this.addInt16(s);var l=0,u=this.space;e:for(t=0;t<this.vtables.length;t++){var h=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(h)){for(var m=hh;m<s;m+=hh)if(this.bb.readInt16(u+m)!=this.bb.readInt16(h+m))continue e;l=this.vtables[t];break}}return l?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,l-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},o.finish=function(e,t,r){var a=r?cl:0;if(t){var s=t;if(this.prep(this.minalign,ss+Ts+a),s.length!=Ts)throw new TypeError("FlatBuffers: file identifier must be length "+Ts);for(var l=Ts-1;l>=0;l--)this.writeInt8(s.charCodeAt(l))}this.prep(this.minalign,ss+a),this.addOffset(e),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},o.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},o.requiredField=function(e,t){var r=this.bb.capacity()-e,a=r-this.bb.readInt32(r),s=t<this.bb.readInt16(a)&&this.bb.readInt16(a+t)!=0;if(!s)throw new TypeError("FlatBuffers: field "+t+" must be set")},o.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(ss,e*t),this.prep(r,e*t)},o.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},o.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},o.createString=function(e){if(e==null)return 0;var t;return U(e,Uint8Array)?t=e:t=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()},o.createByteVector=function(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())},o.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},o.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var a=e[r];if(a!==null)t.push(this.createObjectOffset(a));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},o.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()},i.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,a=Xc.allocate(r);return a.setPosition(r-t),a.bytes().set(e.bytes(),r-t),a},i}(),mh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.dataType=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},o.dataLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.dataArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.unpack=function(){return new Qh(this.dataType(),this.bb.createScalarList(this.data.bind(this),this.dataLength()))},o.unpackTo=function(e){e.dataType=this.dataType(),e.data=this.bb.createScalarList(this.data.bind(this),this.dataLength())},i.getRootAsFBEffectsObjectData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBEffectsObjectData=function(e,t){return e.setPosition(e.position()+cl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBEffectsObjectData=function(e){e.startObject(2)},i.addDataType=function(e,t){e.addFieldOffset(0,t,0)},i.addData=function(e,t){e.addFieldOffset(1,t,0)},i.createDataVector=function(e,t){e.startVector(1,t.length,1);for(var r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()},i.startDataVector=function(e,t){e.startVector(1,t,1)},i.endFBEffectsObjectData=function(e){var t=e.endObject();return t},i.createFBEffectsObjectData=function(e,t,r){return i.startFBEffectsObjectData(e),i.addDataType(e,t),i.addData(e,r),i.endFBEffectsObjectData(e)},i}(),Qh=function(){function i(n,e){n===void 0&&(n=null),e===void 0&&(e=[]),this.dataType=n,this.data=e}var o=i.prototype;return o.pack=function(e){var t=this.dataType!==null?e.createString(this.dataType):0,r=mh.createDataVector(e,this.data);return mh.createFBEffectsObjectData(e,t,r)},i}(),Su=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.exportObjects=function(e,t){var r=this.bb.__offset(this.bb_pos,4);return r?(t||new mh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null},o.exportObjectsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},o.unpack=function(){return new Jh(this.bb.createObjList(this.exportObjects.bind(this),this.exportObjectsLength()))},o.unpackTo=function(e){e.exportObjects=this.bb.createObjList(this.exportObjects.bind(this),this.exportObjectsLength())},i.getRootAsFBEffectsPackageData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBEffectsPackageData=function(e,t){return e.setPosition(e.position()+cl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBEffectsPackageData=function(e){e.startObject(1)},i.addExportObjects=function(e,t){e.addFieldOffset(0,t,0)},i.createExportObjectsVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startExportObjectsVector=function(e,t){e.startVector(4,t,4)},i.endFBEffectsPackageData=function(e){var t=e.endObject();return t},i.finishFBEffectsPackageDataBuffer=function(e,t){e.finish(t)},i.finishSizePrefixedFBEffectsPackageDataBuffer=function(e,t){e.finish(t,void 0,!0)},i.createFBEffectsPackageData=function(e,t){return i.startFBEffectsPackageData(e),i.addExportObjects(e,t),i.endFBEffectsPackageData(e)},i}(),Jh=function(){function i(n){n===void 0&&(n=[]),this.exportObjects=n}var o=i.prototype;return o.pack=function(e){var t=Su.createExportObjectsVector(e,e.createObjectOffsetList(this.exportObjects));return Su.createFBEffectsPackageData(e,t)},i}(),qh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.offset=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},o.indexCount=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},o.vertexCount=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},o.unpack=function(){return new ed(this.offset(),this.indexCount(),this.vertexCount())},o.unpackTo=function(e){e.offset=this.offset(),e.indexCount=this.indexCount(),e.vertexCount=this.vertexCount()},i.getRootAsFBSubMesh=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBSubMesh=function(e,t){return e.setPosition(e.position()+cl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBSubMesh=function(e){e.startObject(3)},i.addOffset=function(e,t){e.addFieldInt32(0,t,0)},i.addIndexCount=function(e,t){e.addFieldInt32(1,t,0)},i.addVertexCount=function(e,t){e.addFieldInt32(2,t,0)},i.endFBSubMesh=function(e){var t=e.endObject();return t},i.createFBSubMesh=function(e,t,r,a){return i.startFBSubMesh(e),i.addOffset(e,t),i.addIndexCount(e,r),i.addVertexCount(e,a),i.endFBSubMesh(e)},i}(),ed=function(){function i(n,e,t){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),this.offset=n,this.indexCount=e,this.vertexCount=t}var o=i.prototype;return o.pack=function(e){return qh.createFBSubMesh(e,this.offset,this.indexCount,this.vertexCount)},i}(),td=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.semantic=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.offset=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},o.format=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},o.dimension=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},o.normalize=function(){var e=this.bb.__offset(this.bb_pos,12);return e?!!this.bb.readInt8(this.bb_pos+e):!1},o.unpack=function(){return new rd(this.semantic(),this.offset(),this.format(),this.dimension(),this.normalize())},o.unpackTo=function(e){e.semantic=this.semantic(),e.offset=this.offset(),e.format=this.format(),e.dimension=this.dimension(),e.normalize=this.normalize()},i.getRootAsFBVertexChannel=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBVertexChannel=function(e,t){return e.setPosition(e.position()+cl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBVertexChannel=function(e){e.startObject(5)},i.addSemantic=function(e,t){e.addFieldOffset(0,t,0)},i.addOffset=function(e,t){e.addFieldInt32(1,t,0)},i.addFormat=function(e,t){e.addFieldInt32(2,t,0)},i.addDimension=function(e,t){e.addFieldInt32(3,t,0)},i.addNormalize=function(e,t){e.addFieldInt8(4,+t,0)},i.endFBVertexChannel=function(e){var t=e.endObject();return t},i.createFBVertexChannel=function(e,t,r,a,s,l){return i.startFBVertexChannel(e),i.addSemantic(e,t),i.addOffset(e,r),i.addFormat(e,a),i.addDimension(e,s),i.addNormalize(e,l),i.endFBVertexChannel(e)},i}(),rd=function(){function i(n,e,t,r,a){n===void 0&&(n=null),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=!1),this.semantic=n,this.offset=e,this.format=t,this.dimension=r,this.normalize=a}var o=i.prototype;return o.pack=function(e){var t=this.semantic!==null?e.createString(this.semantic):0;return td.createFBVertexChannel(e,t,this.offset,this.format,this.dimension,this.normalize)},i}(),vh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.vertexCount=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},o.channels=function(e,t){var r=this.bb.__offset(this.bb_pos,6);return r?(t||new td).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null},o.channelsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.unpack=function(){return new nd(this.vertexCount(),this.bb.createObjList(this.channels.bind(this),this.channelsLength()))},o.unpackTo=function(e){e.vertexCount=this.vertexCount(),e.channels=this.bb.createObjList(this.channels.bind(this),this.channelsLength())},i.getRootAsFBVertexData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBVertexData=function(e,t){return e.setPosition(e.position()+cl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBVertexData=function(e){e.startObject(2)},i.addVertexCount=function(e,t){e.addFieldInt32(0,t,0)},i.addChannels=function(e,t){e.addFieldOffset(1,t,0)},i.createChannelsVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startChannelsVector=function(e,t){e.startVector(4,t,4)},i.endFBVertexData=function(e){var t=e.endObject();return t},i.createFBVertexData=function(e,t,r){return i.startFBVertexData(e),i.addVertexCount(e,t),i.addChannels(e,r),i.endFBVertexData(e)},i}(),nd=function(){function i(n,e){n===void 0&&(n=0),e===void 0&&(e=[]),this.vertexCount=n,this.channels=e}var o=i.prototype;return o.pack=function(e){var t=vh.createChannelsVector(e,e.createObjectOffsetList(this.channels));return vh.createFBVertexData(e,this.vertexCount,t)},i}(),Na=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.id=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.name=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},o.vertexData=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new vh).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},o.indexFormat=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},o.indexOffset=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):0},o.subMeshes=function(e,t){var r=this.bb.__offset(this.bb_pos,14);return r?(t||new qh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null},o.subMeshesLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},o.mode=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):0},o.buffer=function(e){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null},o.binaryData=function(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},o.binaryDataLength=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0},o.binaryDataArray=function(){var e=this.bb.__offset(this.bb_pos,20);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.boneNames=function(e,t){var r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+e*4,t):null},o.boneNamesLength=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0},o.rootBoneName=function(e){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb_pos+t,e):null},o.inverseBindMatrices=function(e){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},o.inverseBindMatricesLength=function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0},o.inverseBindMatricesArray=function(){var e=this.bb.__offset(this.bb_pos,26);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.unpack=function(){return new id(this.id(),this.name(),this.vertexData()!==null?this.vertexData().unpack():null,this.indexFormat(),this.indexOffset(),this.bb.createObjList(this.subMeshes.bind(this),this.subMeshesLength()),this.mode(),this.buffer(),this.bb.createScalarList(this.binaryData.bind(this),this.binaryDataLength()),this.bb.createScalarList(this.boneNames.bind(this),this.boneNamesLength()),this.rootBoneName(),this.bb.createScalarList(this.inverseBindMatrices.bind(this),this.inverseBindMatricesLength()))},o.unpackTo=function(e){e.id=this.id(),e.name=this.name(),e.vertexData=this.vertexData()!==null?this.vertexData().unpack():null,e.indexFormat=this.indexFormat(),e.indexOffset=this.indexOffset(),e.subMeshes=this.bb.createObjList(this.subMeshes.bind(this),this.subMeshesLength()),e.mode=this.mode(),e.buffer=this.buffer(),e.binaryData=this.bb.createScalarList(this.binaryData.bind(this),this.binaryDataLength()),e.boneNames=this.bb.createScalarList(this.boneNames.bind(this),this.boneNamesLength()),e.rootBoneName=this.rootBoneName(),e.inverseBindMatrices=this.bb.createScalarList(this.inverseBindMatrices.bind(this),this.inverseBindMatricesLength())},i.getRootAsFBGeometryData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBGeometryData=function(e,t){return e.setPosition(e.position()+cl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBGeometryData=function(e){e.startObject(12)},i.addId=function(e,t){e.addFieldOffset(0,t,0)},i.addName=function(e,t){e.addFieldOffset(1,t,0)},i.addVertexData=function(e,t){e.addFieldOffset(2,t,0)},i.addIndexFormat=function(e,t){e.addFieldInt32(3,t,0)},i.addIndexOffset=function(e,t){e.addFieldInt32(4,t,0)},i.addSubMeshes=function(e,t){e.addFieldOffset(5,t,0)},i.createSubMeshesVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startSubMeshesVector=function(e,t){e.startVector(4,t,4)},i.addMode=function(e,t){e.addFieldInt32(6,t,0)},i.addBuffer=function(e,t){e.addFieldOffset(7,t,0)},i.addBinaryData=function(e,t){e.addFieldOffset(8,t,0)},i.createBinaryDataVector=function(e,t){e.startVector(1,t.length,1);for(var r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()},i.startBinaryDataVector=function(e,t){e.startVector(1,t,1)},i.addBoneNames=function(e,t){e.addFieldOffset(9,t,0)},i.createBoneNamesVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startBoneNamesVector=function(e,t){e.startVector(4,t,4)},i.addRootBoneName=function(e,t){e.addFieldOffset(10,t,0)},i.addInverseBindMatrices=function(e,t){e.addFieldOffset(11,t,0)},i.createInverseBindMatricesVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addFloat32(t[r]);return e.endVector()},i.startInverseBindMatricesVector=function(e,t){e.startVector(4,t,4)},i.endFBGeometryData=function(e){var t=e.endObject();return t},i}(),id=function(){function i(n,e,t,r,a,s,l,u,h,m,v,p){n===void 0&&(n=null),e===void 0&&(e=null),t===void 0&&(t=null),r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=[]),l===void 0&&(l=0),u===void 0&&(u=null),h===void 0&&(h=[]),m===void 0&&(m=[]),v===void 0&&(v=null),p===void 0&&(p=[]),this.id=n,this.name=e,this.vertexData=t,this.indexFormat=r,this.indexOffset=a,this.subMeshes=s,this.mode=l,this.buffer=u,this.binaryData=h,this.boneNames=m,this.rootBoneName=v,this.inverseBindMatrices=p}var o=i.prototype;return o.pack=function(e){var t=this.id!==null?e.createString(this.id):0,r=this.name!==null?e.createString(this.name):0,a=this.vertexData!==null?this.vertexData.pack(e):0,s=Na.createSubMeshesVector(e,e.createObjectOffsetList(this.subMeshes)),l=this.buffer!==null?e.createString(this.buffer):0,u=Na.createBinaryDataVector(e,this.binaryData),h=Na.createBoneNamesVector(e,e.createObjectOffsetList(this.boneNames)),m=this.rootBoneName!==null?e.createString(this.rootBoneName):0,v=Na.createInverseBindMatricesVector(e,this.inverseBindMatrices);return Na.startFBGeometryData(e),Na.addId(e,t),Na.addName(e,r),Na.addVertexData(e,a),Na.addIndexFormat(e,this.indexFormat),Na.addIndexOffset(e,this.indexOffset),Na.addSubMeshes(e,s),Na.addMode(e,this.mode),Na.addBuffer(e,l),Na.addBinaryData(e,u),Na.addBoneNames(e,h),Na.addRootBoneName(e,m),Na.addInverseBindMatrices(e,v),Na.endFBGeometryData(e)},i}(),xm=function(){function i(){this.exportObjectDatas=[]}var o=i.prototype;return o.addData=function(e){this.exportObjectDatas.push(e)},o.serializeToBinary=function(){for(var e=new Kh(1),t=new Jh,r=[],a=ke(this.exportObjectDatas),s;!(s=a()).done;){var l=s.value,u=void 0;l.dataType===Pt.Geometry&&(u=new Qh("Geometry",this.geometryDataToBinary(l))),u&&r.push(u)}return t.exportObjects=r,Su.finishFBEffectsPackageDataBuffer(e,t.pack(e)),e.asUint8Array()},o.deserializeFromBinary=function(e){for(var t=new Xc(e),r=Su.getRootAsFBEffectsPackageData(t),a=0;a<r.exportObjectsLength();a++){var s=r.exportObjects(a);if(s){var l=s.dataArray(),u=s.dataType();if(l){var h=void 0;u===Pt.Geometry&&(h=this.binaryToGeometryData(l)),h&&this.exportObjectDatas.push(h)}}}},o.geometryDataToBinary=function(e){var t=new Kh(1),r=new id,a=e.indexFormat,s=e.indexOffset,l=e.mode,u=e.id,h=e.vertexData,m=e.boneNames,v=m===void 0?[]:m,p=e.rootBoneName,b=p===void 0?"":p,x=e.inverseBindMatrices,P=x===void 0?[]:x,B=e.binaryData,D=B===void 0?[]:B;r.indexFormat=a,r.indexOffset=s,r.mode=l,r.id=u,r.boneNames=v,r.rootBoneName=b,r.inverseBindMatrices=P,r.binaryData=D;var _=new nd;_.vertexCount=h.vertexCount,_.channels=[];for(var Y=ke(h.channels),k;!(k=Y()).done;){var W=k.value,te=W.semantic,ae=W.offset,se=W.format,Qe=W.dimension,Je=W.normalize,at=new rd(te,ae,se,Qe,Je);_.channels.push(at)}r.vertexData=_;for(var ut=[],At=ke(e.subMeshes),Gt;!(Gt=At()).done;){var Wt=Gt.value,Qt=Wt.offset,er=Wt.indexCount,Dt=Wt.vertexCount,Lr=new ed(Qt,er,Dt);ut.push(Lr)}return r.subMeshes=ut,Su.finishFBEffectsPackageDataBuffer(t,r.pack(t)),t.asUint8Array()},o.binaryToGeometryData=function(e){var t=new Xc(e),r=Na.getRootAsFBGeometryData(t),a={vertexCount:0,channels:[]},s=r.vertexData();if(s){a.vertexCount=s.vertexCount();for(var l=0;l<s.channelsLength();l++){var u=s.channels(l);if(u){var h,m={semantic:(h=u.semantic())!=null?h:"",offset:u.offset(),format:u.format(),dimension:u.dimension(),normalize:u.normalize()};a.channels.push(m)}}}for(var v=[],p=0;p<r.subMeshesLength();p++){var b=r.subMeshes(p);if(b){var x={offset:b.offset(),vertexCount:b.vertexCount(),indexCount:b.indexCount()};v.push(x)}}for(var P=[],B=0;B<r.boneNamesLength();B++){var D=r.boneNames(B);P.push(D)}var _=r.inverseBindMatricesArray(),Y,k,W,te,ae={vertexData:a,indexFormat:r.indexFormat(),indexOffset:r.indexOffset(),subMeshes:v,mode:r.mode(),buffer:(Y=r.buffer())!=null?Y:"",boneNames:P,rootBoneName:(k=r.rootBoneName())!=null?k:"",inverseBindMatrices:_?Array.from(_):void 0,binaryData:(W=r.binaryDataArray())!=null?W:void 0,id:(te=r.id())!=null?te:"",dataType:Pt.Geometry};return ae},i}(),ad=function(){function i(){this.renderErrors=new Set,this.destroyed=!1,this.textures=[],this.materials=[],this.geometries=[],this.meshes=[],this.renderPasses=[],this.jsonSceneData={},this.objectInstance={},this.assetLoader=new Vd(this),this.emptyTexture=xi(this),this.transparentTexture=si(this)}var o=i.prototype;return o.clearResources=function(){this.jsonSceneData={},this.objectInstance={}},o.addEffectsObjectData=function(e){this.jsonSceneData[e.id]=e},o.findEffectsObjectData=function(e){return this.jsonSceneData[e]},o.addInstance=function(e){this.objectInstance[e.getInstanceId()]=e},o.getInstance=function(e){return this.objectInstance[e]},o.removeInstance=function(e){delete this.objectInstance[e]},o.addPackageDatas=function(e){for(var t=e.jsonScene,r=e.textureOptions,a=r===void 0?[]:r,s=t.items,l=s===void 0?[]:s,u=t.materials,h=u===void 0?[]:u,m=t.shaders,v=m===void 0?[]:m,p=t.geometries,b=p===void 0?[]:p,x=t.components,P=x===void 0?[]:x,B=t.animations,D=B===void 0?[]:B,_=t.bins,Y=_===void 0?[]:_,k=t.miscs,W=k===void 0?[]:k,te=ke(l),ae;!(ae=te()).done;){var se=ae.value;this.addEffectsObjectData(se)}for(var Qe=ke(h),Je;!(Je=Qe()).done;){var at=Je.value;this.addEffectsObjectData(at)}for(var ut=ke(v),At;!(At=ut()).done;){var Gt=At.value;this.addEffectsObjectData(Gt)}for(var Wt=ke(b),Qt;!(Qt=Wt()).done;){var er=Qt.value;this.addEffectsObjectData(er)}for(var Dt=ke(P),Lr;!(Lr=Dt()).done;){var cr=Lr.value;this.addEffectsObjectData(cr)}for(var Mr=ke(D),Gr;!(Gr=Mr()).done;){var Wr=Gr.value;this.addEffectsObjectData(Wr)}for(var ti=ke(W),Kr;!(Kr=ti()).done;){var sa=Kr.value;this.addEffectsObjectData(sa)}for(var Ra=0;Ra<Y.length;Ra++){var ca=Y[Ra],Ya=e.bins[Ra];if(ca.dataType===Pt.BinaryAsset)ca.buffer=Ya,ca.id&&this.addEffectsObjectData(ca);else{var gn=new xm;gn.deserializeFromBinary(new Uint8Array(Ya));for(var $a=ke(gn.exportObjectDatas),ja;!(ja=$a()).done;){var di=ja.value;this.addEffectsObjectData(di)}}}for(var ls=ke(a),Xo;!(Xo=ls()).done;){var Ri=Xo.value;this.addEffectsObjectData(Ri)}},o.createVFXItems=function(e){var t=this;return M(function(){var r,a,s,l,u;return ee(this,function(h){switch(h.label){case 0:r=e.jsonScene,a=ke(r.items),h.label=1;case 1:return(s=a()).done?[3,4]:(l=s.value,u=l.type,u==="ECS"||u==="camera"||u===Ue.sprite||u===Ue.particle||u===Ue.mesh||u===Ue.skybox||u===Ue.light||u===Ue.tree||u===Ue.interact||u===Ue.camera?t.database?[4,t.assetLoader.loadGUIDAsync(l.id)]:[3,3]:[3,3]);case 2:h.sent(),h.label=3;case 3:return[3,1];case 4:return[2]}})})()},o.addTexture=function(e){this.destroyed||rt(this.textures,e)},o.removeTexture=function(e){this.destroyed||de(this.textures,e)},o.addMaterial=function(e){this.destroyed||rt(this.materials,e)},o.removeMaterial=function(e){this.destroyed||de(this.materials,e)},o.addGeometry=function(e){this.destroyed||rt(this.geometries,e)},o.removeGeometry=function(e){this.destroyed||de(this.geometries,e)},o.addMesh=function(e){this.destroyed||rt(this.meshes,e)},o.removeMesh=function(e){this.destroyed||de(this.meshes,e)},o.addRenderPass=function(e){this.destroyed||rt(this.renderPasses,e)},o.removeRenderPass=function(e){this.destroyed||de(this.renderPasses,e)},o.getShaderLibrary=function(){return this.renderer.getShaderLibrary()},o.dispose=function(){if(!this.destroyed){this.destroyed=!0;var e=[];this.renderPasses.length>0&&e.push("Pass "+this.renderPasses.length),this.meshes.length>0&&e.push("Mesh "+this.meshes.length),this.geometries.length>0&&e.push("Geom "+this.geometries.length),this.textures.length>0&&e.push("Tex "+this.textures.length),e.length>0&&$e.warn("Release GPU memory: "+e.join(", ")+"."),this.renderPasses.forEach(function(t){return t.dispose()}),this.meshes.forEach(function(t){return t.dispose()}),this.geometries.forEach(function(t){return t.dispose()}),this.materials.forEach(function(t){return t.dispose()}),this.textures.forEach(function(t){return t.dispose()}),this.textures=[],this.materials=[],this.geometries=[],this.meshes=[],this.renderPasses=[],this.renderer=null}},br(i,[{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),Cm=60,Em=function(){function i(n){n===void 0&&(n=Cm),this.paused=!0,this.lastTime=0,this.dt=0,this.setFPS(n),this.tickers=[]}var o=i.prototype;return o.getFPS=function(){return this.targetFPS},o.setFPS=function(e){this.targetFPS=oi(e,1,120),this.interval=Math.floor(1e3/e)-2},o.getPaused=function(){return this.paused},o.start=function(){var e=this;if(this.paused=!1,this.dt=0,!this.intervalId){this.lastTime=performance.now();var t=requestAnimationFrame||function(a){return window.setTimeout(a,16.7)},r=function(){e.intervalId=t(r),e.paused||e.tick()};r()}},o.stop=function(){(cancelAnimationFrame||window.clearTimeout)(this.intervalId),this.intervalId=0,this.lastTime=0,this.paused=!0,this.dt=0,this.tickers=[]},o.pause=function(){this.paused=!0,this.dt=0},o.resume=function(){this.paused=!1,this.dt=0},o.tick=function(){if(!this.paused){var e=performance.now();if(this.dt=e-this.lastTime,this.dt>=this.interval){this.lastTime=e,this.resetTickers&&(this.tickers=this.tickers.filter(function(s){return s}),this.resetTickers=!1);for(var t=0,r=this.tickers.length;t<r;t++){var a=this.tickers[t];a(this.dt)}}}},o.add=function(e){if(typeof e!="function")throw new Error("The tick object must implement the tick method.");this.tickers.push(e)},br(i,[{key:"deltaTime",get:function(){return this.dt}}]),i}();Rt("camera",Gu,Pi,!0),Rt("text",Dd,Pi,!0),Rt("sprite",qu,Pi,!0),Rt("particle",qf,Pi,!0),Rt("cal",eh,Pi,!0),Rt("interact",Xu,Pi,!0);var Tm="2.2.2";$e.info("Core version: "+Tm+".");var $s,Sm=($s={},$s[F.RGBA]=34842,$s[F.RGB]=34843,$s[F.ALPHA]=33325,$s[F.RED]=33325,$s[F.LUMINANCE_ALPHA]=33327,$s[F.LUMINANCE]=33325,$s),js,wm=(js={},js[F.RGBA]=34836,js[F.RGB]=34837,js[F.ALPHA]=33326,js[F.RED]=33326,js[F.LUMINANCE_ALPHA]=33328,js[F.LUMINANCE]=33326,js),Hs=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.initialized=!1,t&&r.fromData(t),r}var n=o.prototype;return n.bind=function(t){this.pipelineContext.bindTexture(this.target,this.textureBuffer,t)},n.initialize=function(){if(!this.initialized){var t=this.engine;t.addTexture(this),this.pipelineContext=t.getGLPipelineContext();var r=this.pipelineContext.gl,a=this.source,s=a.target,l=s===void 0?r.TEXTURE_2D:s,u=a.name;this.textureBuffer=r.createTexture(),wu(this.textureBuffer,u),this.target=l,this.update(this.source),this.release(),this.initialized=!0}},n.clone=function(){var t=new o(this.engine,this.source);return t.sourceFrom=this.sourceFrom,t.sourceType=this.sourceType,t.width=this.width,t.height=this.height,t},n.release=function(){var t=this.source.sourceType;switch(t){case G.image:delete this.source.image,delete this.source.cube;break;case G.data:delete this.source.data;break;case G.compressed:delete this.source.mipmaps;break;case G.mipmaps:delete this.source.mipmaps;break}},n.update=function(t){var r=this;if(!this.pipelineContext||!this.textureBuffer){this.width=0,this.height=0;return}var a=this.target,s=this.source,l=this.pipelineContext.gl,u=this.engine.gpuCapability.detail,h=s.sourceType,m=s.data,v=s.cube,p=s.image,b=s.video,x=s.mipmaps,P=s.mipmaps,B=t.data,D=t.cube,_=t.generateMipmap,Y=t.mipmaps,k=s.format,W=s.type,te=s.internalFormat,ae=0,se=0;if(this.bind(h===G.video),W===F.HALF_FLOAT?(W=u.halfFloatTexture,W||$e.error("Half float texture is not support."),Sr(l)&&te===k&&(k===F.LUMINANCE&&(k=F.RED),te=Sm[k]),u.halfFloatLinear||(s.minFilter=s.magFilter=l.NEAREST,$e.warn("Half float linear not support, change to NEAREST."))):W===l.FLOAT&&(W=u.floatTexture,W||$e.error("Float texture is not support."),Sr(l)&&te===k&&(k===F.LUMINANCE&&(k=F.RED),te=wm[k]),u.floatLinear||(s.minFilter=l.NEAREST,s.magFilter=l.NEAREST,$e.warn("Float linear not support, change to NEAREST."))),s.premultiplyAlpha===void 0&&(s.premultiplyAlpha=!1),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),s.flipY===void 0&&(s.flipY=!1),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,s.flipY),h===G.framebuffer){if(B){var Qe;ae=(Qe=B.width)!=null?Qe:0;var Je;se=(Je=B.height)!=null?Je:0,ae&&se&&(this.width!==ae||this.height!==se)&&l.texImage2D(a,0,te,ae,se,0,k,W,null)}}else if(h===G.data)if(a===l.TEXTURE_CUBE_MAP)D.forEach(function(Wt,Qt){var er=r.texImage2DData(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Qt,0,te,k,W,Wt),Dt=er[0],Lr=er[1];ae=Math.max(Dt,ae),se=Math.max(Lr,se)});else{var at;at=this.texImage2DData(l,a,0,te,k,W,m),ae=at[0],se=at[1]}else if(h===G.image||h===G.video){if(a===l.TEXTURE_CUBE_MAP)v.forEach(function(Wt,Qt){var er=r.texImage2D(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Qt,0,te,k,W,Wt),Dt=er[0],Lr=er[1];ae=Math.max(Dt,ae),se=Math.max(Lr,se)});else if(a===l.TEXTURE_2D){var ut=p!=null?p:b,At;At=this.texImage2D(l,a,0,te,k,W,ut),ae=At[0],se=At[1]}_&&(Yc(ae)&&Yc(se)||Sr(l))&&l.generateMipmap(a)}else if(h===G.mipmaps){var Gt;a===l.TEXTURE_2D?x.forEach(function(Wt,Qt){if("data"in Wt?Gt=r.texImage2DData(l,a,Qt,te,k,W,Wt):Gt=r.texImage2D(l,a,Qt,te,k,W,Wt),Qt===0){var er;er=Gt,ae=er[0],se=er[1]}}):a===l.TEXTURE_CUBE_MAP&&P.forEach(function(Wt,Qt){Wt.forEach(function(er,Dt){if("data"in er?Gt=r.texImage2DData(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,Qt,te,k,W,er):Gt=r.texImage2D(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,Qt,te,k,W,er),Qt===0){var Lr;Lr=Gt,ae=Lr[0],se=Lr[1]}})})}else h===G.compressed&&Y&&Y.length!==0&&(ae=Y[0].width,se=Y[0].height,Y.forEach(function(Wt,Qt){l.compressedTexImage2D(a,Qt,te,Wt.width,Wt.height,0,Wt.data)}));this.width=ae,this.height=se,this.setTextureFilters(l,a,s)},n.setTextureFilters=function(t,r,a){var s=a.anisotropic,l=s===void 0?4:s,u=a.wrapS,h=u===void 0?t.CLAMP_TO_EDGE:u,m=a.wrapT,v=m===void 0?t.CLAMP_TO_EDGE:m,p=this.engine.gpuCapability;this.target===t.TEXTURE_2D&&p.setTextureAnisotropic(t,this.target,l);var b=Sr(t)||Yc(this.width)&&Yc(this.height),x=a.magFilter?a.magFilter:t.NEAREST,P=a.minFilter?a.minFilter:t.NEAREST;b||(P===t.LINEAR_MIPMAP_LINEAR||P===t.LINEAR_MIPMAP_NEAREST||P===t.NEAREST_MIPMAP_LINEAR||P===t.NEAREST_MIPMAP_NEAREST)&&(P=t.LINEAR),t.texParameteri(r,t.TEXTURE_MIN_FILTER,P),t.texParameteri(r,t.TEXTURE_MAG_FILTER,x),t.texParameteri(r,t.TEXTURE_WRAP_S,b?h:t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,b?v:t.CLAMP_TO_EDGE)},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t,a=this.assembleOptions(r),s=a.sourceType,l=a.sourceFrom,u=a.name,h=u===void 0?"":u;this.source=a,this.sourceType=s,this.sourceFrom=l,this.name=h,this.guid=t.id},n.texImage2D=function(t,r,a,s,l,u,h){var m=this,v=this.source,p=v.sourceType,b=v.minFilter,x=v.magFilter,P=v.wrapS,B=v.wrapT,D,_=(D=this.engine.gpuCapability.detail.maxTextureSize)!=null?D:2048,Y=h;if(p!==G.video){var k=b!==t.NEAREST||x!==t.NEAREST||P!==t.CLAMP_TO_EDGE||B!==t.CLAMP_TO_EDGE;k=k||h.width>_||h.height>_,k&&setTimeout(function(){Y=m.resizeImage(h)})}t.texImage2D(r,a,s,l,u,Y);var W=[Y.width,Y.height];if(p===G.video){var te=h.videoWidth,ae=h.videoHeight;return[te,ae]}return W},n.texImage2DData=function(t,r,a,s,l,u,h){var m=h.data,v=h.width,p=h.height,b=l===t.UNSIGNED_BYTE?new Uint8Array(m.buffer,m.byteOffset,m.byteLength/m.BYTES_PER_ELEMENT):m;return t.texImage2D(r,a,s,v,p,0,l,u,b),[v,p]},n.resizeImage=function(t,r,a){var s=this.engine.gpuCapability.detail,l,u=(l=s.maxTextureSize)!=null?l:2048,h=this.pipelineContext.gl;if(Sr(h)&&t.width<u&&t.height<u)return t;var m=Om(t,u,r,a);return m||t},n.reloadData=function(){var t=this;return M(function(){return ee(this,function(r){switch(r.label){case 0:return t.offloaded?[4,Xn().reload(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})()},n.offloadData=function(){if(this.initialized&&Xn().canOffloadTexture(this.source.sourceFrom)){var t=this.target,r=this.pipelineContext.gl;if(r&&this.textureBuffer){var a=new Uint8Array([255]);if(this.bind(),t===r.TEXTURE_2D)r.texImage2D(t,0,r.LUMINANCE,1,1,0,r.LUMINANCE,r.UNSIGNED_BYTE,a);else if(t===r.TEXTURE_CUBE_MAP)for(var s=[r.TEXTURE_CUBE_MAP_NEGATIVE_X,r.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.TEXTURE_CUBE_MAP_NEGATIVE_Z,r.TEXTURE_CUBE_MAP_POSITIVE_X,r.TEXTURE_CUBE_MAP_POSITIVE_Y,r.TEXTURE_CUBE_MAP_POSITIVE_Z],l=0;l<s.length;l++)r.texImage2D(s[l],0,r.LUMINANCE,1,1,0,r.LUMINANCE,r.UNSIGNED_BYTE,a);r.generateMipmap(t),this.width=1,this.height=1}this.offloaded=!0}},n.uploadCurrentVideoFrame=function(){var t=this;return M(function(){return ee(this,function(r){return t.source.sourceType===G.video&&t.source.video&&t.initialized?(t.update({video:t.source.video}),[2,!0]):[2,!1]})})()},n.updateSource=function(t){this.source=this.assembleOptions(A({},this.source,t)),this.sourceType=this.source.sourceType,this.sourceFrom=this.source.sourceFrom,this.update(this.source)},n.restore=function(){},n.dispose=function(){this.pipelineContext&&this.textureBuffer&&this.pipelineContext.gl.deleteTexture(this.textureBuffer),this.width=0,this.height=0,this.textureBuffer=null,this.destroyed=!0,this.update=function(){$e.error("This texture has been destroyed.")},this.initialize=Mt,this.engine!==void 0&&this.engine.removeTexture(this)},o}(Nr);function Om(i,o,n,e){var t=i.width,r=i.height,a=Math.min(o,n||Da(t)),s=Math.min(o,e||Da(r));if(s!==r||a!==t){var l=$c.getCanvas(),u=l.getContext("2d");return l.width=a,l.height=s,u==null||u.drawImage(i,0,0,t,r,0,0,a,s),$e.warn("Image resize from "+t+"x"+r+" to "+a+"x"+s+"."),l}}function Yc(i){return(i&i-1)===0&&i!==0}var od=function(){function i(n,e){this.ready=!1,this.disposed=!1,this.gl=n.getGLPipelineContext().gl,this.vaoExt=n.gpuCapability.vaoExt,this.vao=this.createVertexArray(e)}var o=i.prototype;return o.bind=function(){this.bindVertexArray(this.vao)},o.unbind=function(){this.bindVertexArray(null)},o.createVertexArray=function(e){var t=null;return Sr(this.gl)&&(t=this.gl.createVertexArray()),!t&&this.vaoExt&&(t=this.vaoExt.createVertexArrayOES()),wu(t,e),t},o.bindVertexArray=function(e){if(Sr(this.gl))this.gl.bindVertexArray(e);else{var t;(t=this.vaoExt)==null||t.bindVertexArrayOES(e)}},o.dispose=function(){if(Sr(this.gl))this.gl.deleteVertexArray(this.vao);else{var e;(e=this.vaoExt)==null||e.deleteVertexArrayOES(this.vao)}},i}(),sd=1,ld=function(){function i(n){this.engine=n,this.textures=[],this.renderbuffers=[],this.framebuffers=[],this.destroyed=!1;var e={width:1,height:1,data:new Uint8Array([255])},t=n.getGLPipelineContext(),r=t.gl;this.gl=r,this.pipelineContext=t,this.emptyTexture2D=new Hs(n,{data:e,sourceType:G.data,format:r.LUMINANCE,internalFormat:r.LUMINANCE,type:r.UNSIGNED_BYTE}),this.emptyTexture2D.initialize(),this.emptyTextureCube=new Hs(n,{target:r.TEXTURE_CUBE_MAP,cube:[e,e,e,e,e,e],sourceType:G.data,format:r.LUMINANCE,internalFormat:r.LUMINANCE,type:r.UNSIGNED_BYTE}),this.emptyTextureCube.initialize(),this.name="GLGPURenderer"+sd,sd++}var o=i.prototype;return o.copy2=function(e,t){var r=this.gl;if(r){this.sourceFbo||(this.sourceFbo=r.createFramebuffer()),this.targetFbo||(this.targetFbo=r.createFramebuffer());var a=this.pipelineContext;a.bindFramebuffer(r.FRAMEBUFFER,this.sourceFbo),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.textureBuffer,0),a.bindFramebuffer(r.FRAMEBUFFER,this.targetFbo),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.textureBuffer,0),a.bindFramebuffer(r.READ_FRAMEBUFFER,this.sourceFbo),a.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.targetFbo);var s=e.getWidth()===e.getHeight()&&t.getWidth()==t.getHeight()?r.NEAREST:r.LINEAR;r.blitFramebuffer(0,0,e.getWidth(),e.getHeight(),0,0,t.getWidth(),t.getHeight(),r.COLOR_BUFFER_BIT,s),a.bindFramebuffer(r.FRAMEBUFFER,null),a.bindFramebuffer(r.READ_FRAMEBUFFER,null),a.bindFramebuffer(r.DRAW_FRAMEBUFFER,null)}},o.resetColorAttachments=function(e,t){e.bind(),e.resetColorTextures(t)},o.createGLRenderbuffer=function(e){var t=this.gl.createRenderbuffer();return t&&rt(this.renderbuffers,e),t},o.resize=function(e,t){var r=this.gl;(r&&r.drawingBufferWidth!==e||r.drawingBufferHeight!==t)&&(r.canvas.width=e,r.canvas.height=t,r.viewport(0,0,e,t),this.framebuffers.forEach(function(a){var s=a.viewport;a.isCustomViewport||a.resize(s[0],s[1],e*a.viewportScale,t*a.viewportScale)}))},o.drawGeometry=function(e,t,r){if(!this.gl){console.warn("GLGPURenderer has not bound a gl object, unable to render geometry.");return}var a=e,s=t,l=s.shaderVariant.program;if(l){var u=l.setupAttributes(a),h=this.gl,m=a.indicesBuffer,v=a.drawStart,p=a.drawCount,b=a.mode,x=a.subMeshes;if(x&&x.length){var P=x[r];if(p<0)return;if(v=P.offset,m){var B;p=(B=P.indexCount)!=null?B:0}else p=P.vertexCount}m?h.drawElements(b,p,m.type,v!=null?v:0):h.drawArrays(b,v,p),u==null||u.unbind()}},o.createGLFramebuffer=function(e,t){var r=this.gl.createFramebuffer();if(r)rt(this.framebuffers,e),wu(r,t,t);else throw new Error("Failed to create WebGL framebuffer");return r},o.createVAO=function(e){var t=new od(this.engine,e);return t},o.deleteGLTexture=function(e){e.textureBuffer&&!this.destroyed&&(this.gl.deleteTexture(e.textureBuffer),de(this.textures,e),delete e.textureBuffer)},o.deleteGPUBuffer=function(e){e&&!this.destroyed&&(this.gl.deleteBuffer(e.glBuffer),delete e.glBuffer)},o.deleteGLFramebuffer=function(e){e&&!this.destroyed&&(this.gl.deleteFramebuffer(e.fbo),de(this.framebuffers,e),delete e.fbo)},o.deleteGLRenderbuffer=function(e){e&&!this.destroyed&&(this.gl.deleteRenderbuffer(e.buffer),de(this.renderbuffers,e),delete e.buffer)},o.deleteResource=function(){var e=this,t=this.gl;t&&(t.deleteFramebuffer(this.sourceFbo),t.deleteFramebuffer(this.targetFbo),this.emptyTexture2D.dispose(),this.emptyTextureCube.dispose(),this.framebuffers.forEach(function(r){return e.deleteGLFramebuffer(r)}),this.framebuffers.length=0,this.renderbuffers.forEach(function(r){return e.deleteGLRenderbuffer(r)}),this.renderbuffers.length=0,this.textures.forEach(function(r){return e.deleteGLTexture(r)}),this.textures.length=0)},o.lost=function(e){$e.error("WebGL context lost, destroying glRenderer by default to prevent memory leaks. Event target: "+e.target+"."),this.deleteResource()},o.dispose=function(){this.deleteResource(),this.emptyTexture2D=this.emptyTextureCube=this.pipelineContext=this.gpu=this.gl=null,this.destroyed=!0},br(i,[{key:"height",get:function(){var e;return(e=this.gl)==null?void 0:e.drawingBufferHeight}},{key:"width",get:function(){var e;return(e=this.gl)==null?void 0:e.drawingBufferWidth}},{key:"canvas",get:function(){return this.gl.canvas}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}();function wu(i,o,n){o===void 0||i===null||(i.__SPECTOR_Metadata={name:o},i.__SPECTOR_Object_TAG?(i.__SPECTOR_Object_TAG.displayText=o,n&&(i.__SPECTOR_Object_TAG.id=n)):i.__SPECTOR_Object_TAG={displayText:o,id:""})}var ud=function(){function i(n,e){this.pipelineContext=n,this.byteLength=0,this.destroyed=!1;var t=e.name,r=e.data,a=e.elementCount,s=e.target,l=s===void 0?F.ARRAY_BUFFER:s,u=e.type,h=u===void 0?F.FLOAT:u,m=e.usage,v=m===void 0?F.STATIC_DRAW:m,p=Am(h);this.target=l,this.type=h,this.usage=v,this.glBuffer=this.createGLBuffer(t),this.bytesPerElement=p,r?this.bufferData(r):a&&this.bufferData(p*a)}var o=i.prototype;return o.createGLBuffer=function(e){var t=this.pipelineContext.gl.createBuffer();return wu(t,e),t},o.bind=function(){this.pipelineContext.gl.bindBuffer(this.target,this.glBuffer)},o.bufferData=function(e){var t=typeof e=="number"?e:e.byteLength;if(this.pipelineContext){this.byteLength=t;var r=this.pipelineContext.gl,a=this.target;r.bindBuffer(a,this.glBuffer),t===0?r.bufferData(a,1,this.usage):(r.bufferData(a,t,this.usage),typeof e!="number"&&r.bufferSubData(a,0,e))}else this.byteLength=0},o.bufferSubData=function(e,t){if(this.pipelineContext){var r=this.pipelineContext.gl,a=this.target,s=e*this.bytesPerElement,l=s+t.byteLength;r.bindBuffer(a,this.glBuffer),l>this.byteLength&&(this.byteLength=l,r.bufferData(a,l,this.usage)),r.bufferSubData(a,s,t)}else this.byteLength=0},o.dispose=function(){this.pipelineContext.gl.deleteBuffer(this.glBuffer),this.glBuffer=null,this.destroyed=!0},o.readSubData=function(e,t){return Sr(this.pipelineContext.gl)?(this.pipelineContext.gl.getBufferSubData(this.target,e*this.bytesPerElement,t),!0):!1},br(i,[{key:"elementCount",get:function(){return this.byteLength/this.bytesPerElement}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),Ss,Mm=(Ss={},Ss[F.INT]=Int32Array,Ss[F.FLOAT]=Float32Array,Ss[F.SHORT]=Int16Array,Ss[F.BYTE]=Int8Array,Ss[F.UNSIGNED_BYTE]=Uint8Array,Ss[F.UNSIGNED_INT]=Uint32Array,Ss[F.UNSIGNED_SHORT]=Uint16Array,Ss);function Am(i){var o,n;return(n=(o=Mm[i])==null?void 0:o.BYTES_PER_ELEMENT)!=null?n:0}var Ou,Im=(Ou={},Ou[Uint8Array.BYTES_PER_ELEMENT]=F.UNSIGNED_BYTE,Ou[Uint16Array.BYTES_PER_ELEMENT]=F.UNSIGNED_SHORT,Ou[Uint32Array.BYTES_PER_ELEMENT]=F.UNSIGNED_INT,Ou),Pm=1,cd=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.drawCount=0,r.buffers={},r.vaos={},r.skin={},r.initialized=!1,r.indicesReleasable=!1,r.attributesName=[],r.destroyed=!1,t&&r.processProps(t),r}var n=o.prototype;return n.getOptions=function(){return A({},this.options)},n.initialize=function(){var t=this;if(!this.initialized){var r=this.engine;bt(r),r.addGeometry(this);var a=this.engine.getGLPipelineContext();Object.keys(this.bufferProps).forEach(function(s){t.buffers[s]=new ud(a,t.bufferProps[s])}),this.indices&&(this.indicesBuffer=this.createIndicesBuffer(a,this.indices)),this.initialized=!0,this.flush(),this.options=void 0}},n.getAttributeBuffer=function(t){if(this.initialized){var r=this.attributes[t].dataSource;return this.buffers[r]}},n.setAttributeData=function(t,r){if(this.bufferProps!=null){var a=this.getAttributeBufferOption(t),s=this.attributes[t].dataSource;if(a){var l=a.usage,u=a.target;this.bufferProps[s]={data:r,usage:l,target:u,elementCount:r.length},this.dirtyFlags[s].discard=!0,this.dirtyFlags[s].dirty=!0}}},n.getAttributeData=function(t){if(this.bufferProps!=null){var r=this.getAttributeBufferOption(t);return r?r.data:void 0}},n.setAttributeSubData=function(t,r,a){if(this.bufferProps!=null){var s=this.getAttributeBufferOption(t);if(s&&s.data!=null){var l=r,u=r+a.length;if(s.data.length<u){var h=new a.constructor(u);h.set(s.data),s.data=h,this.dirtyFlags[t].discard=!0}else if(!this.dirtyFlags[t].discard){var m=this.dirtyFlags[t];m.start!==void 0&&(m.start=Math.min(m.start,l)),m.end!==void 0&&(m.end=Math.max(m.end,u-1))}s.data.set(a,l),this.dirtyFlags[t].dirty=!0}}},n.getIndexData=function(){return this.indices},n.setIndexData=function(t){(U(t,Uint8Array)||U(t,Uint16Array)||U(t,Uint32Array))&&(this.indices=t,this.dirtyFlags.index.discard=!0,this.dirtyFlags.index.dirty=!0)},n.setIndexSubData=function(t,r){if(this.indices){var a,s=t,l=t+r.length;if(this.indices.length<l){var u=new r.constructor(l);u.set(this.indices),this.indices=u,this.dirtyFlags.index.discard=!0}else if(!this.dirtyFlags.index.discard){var h=this.dirtyFlags.index;h.start!==void 0&&(h.start=Math.min(h.start,s)),h.end!==void 0&&(h.end=Math.max(h.end,l-1))}(a=this.indices)==null||a.set(r,s),this.dirtyFlags.index.dirty=!0}},n.getAttributeStride=function(t){var r=this.attributes[t],a=r.stride,s=r.size,l=r.type;return a||s*Gn[l]},n.getAttributeNames=function(){return this.attributesName},n.setDrawStart=function(t){this.drawStart=t},n.getDrawStart=function(){return this.drawStart},n.setDrawCount=function(t){this.drawCount=t},n.getDrawCount=function(){return this.drawCount},n.getSkinProps=function(){return this.skin},n.getAttributeBufferOption=function(t){var r=this.attributes[t];return r?this.bufferProps[r.dataSource]:void 0},n.createIndicesBuffer=function(t,r){var a=Im[r.BYTES_PER_ELEMENT],s={data:r,target:F.ELEMENT_ARRAY_BUFFER,type:a,name:""+this.name+"##index"};return new ud(t,s)},n.flush=function(){var t=this;if(this.initialized){var r=this.attributes,a=this.bufferProps,s=this.indices;Object.keys(this.dirtyFlags).forEach(function(l){var u=t.dirtyFlags[l],h,m;if(l=="index")h=t.indicesBuffer,m=s;else{var v=r[l].dataSource;h=t.buffers[v],m=a[v].data}if((u.dirty||u.discard)&&h&&m){if(u.discard)h.bufferData(m);else if(u.start!==void 0&&u.end!==void 0){var p=u.start*m.BYTES_PER_ELEMENT+m.byteOffset,b=u.end-u.start+1,x=new m.constructor(m.buffer,p,b);h.bufferSubData(u.start,x)}u.start=Number.POSITIVE_INFINITY,u.end=0,u.dirty=u.discard=!1}}),Object.keys(this.attributesReleasable).forEach(function(l){var u=t.attributesReleasable[l],h=r[l].dataSource;a[h]&&u&&(a[h].data=void 0)}),this.indicesReleasable}},n.processProps=function(t){var r=t,a=r.drawStart,s=a===void 0?0:a,l=r.drawCount,u=r.mode,h=r.indices,m=r.name,v=m===void 0?"effectsGeometry:"+Pm++:m,p=r.bufferUsage,b=p===void 0?F.STATIC_DRAW:p;this.name=v;var x={},P=[],B={},D={},_={},Y=b;this.drawStart=s,l!==void 0&&(this.drawCount=l),this.mode=isNaN(u)?F.TRIANGLES:u,Object.keys(r.attributes).forEach(function(k){var W=r.attributes[k],te=W.size,ae=W.stride,se=W.offset,Qe=W.normalize,Je=W.type,at=Je===void 0?F.FLOAT:Je,ut=W.releasable,At=W.data;if(at&&!("dataSource"in W)&&!At&&(At=ji(at)),At){var Gt=U(At,Float32Array)?F.FLOAT:F.INT;x[k]={data:At,usage:Y,target:F.ARRAY_BUFFER,name:k},B[k]={size:te,stride:ae,offset:se,type:at!=null?at:Gt,normalize:!!Qe,dataSource:k},_[k]=ut!=null?ut:!1,D[k]={dirty:!0,discard:!0,start:Number.POSITIVE_INFINITY,end:0}}else{var Wt=W.dataSource;Wt&&(B[k]={size:te,stride:ae,offset:se,type:at,dataSource:Wt,normalize:!!Qe})}P.push(k)}),D.index={dirty:!0,discard:!0,start:Number.POSITIVE_INFINITY,end:0},this.indices=h==null?void 0:h.data,this.indicesReleasable=(h==null?void 0:h.releasable)===!0,this.bufferProps=x,this.attributes=B,this.attributesName=P,this.attributesReleasable=_,this.dirtyFlags=D,this.options=r,this.initialized=!1},n.fromData=function(t){var r=this;i.prototype.fromData.call(this,t),this.subMeshes=t.subMeshes;var a;if(t.buffer?a=new Uint8Array(_m(t.buffer)):t.binaryData&&(a=t.binaryData),!!a){var s=t.vertexData.vertexCount;if(this.hasSemantic(t)){var l={mode:F.TRIANGLES,attributes:{}};if(t.vertexData.channels.forEach(function(D){var _,Y=(_=Rm[D.semantic])!=null?_:D.semantic,k=r.createVertexTypedArray(D,a,s);l.attributes[Y]={type:la(D.format),size:D.dimension,data:k,normalize:D.normalize}}),t.indexFormat!==kr.None){var u=this.createIndexTypedArray(t.indexFormat,a,t.indexOffset);l.indices={data:u},l.drawCount=u.length}else l.drawCount=s;this.processProps(l)}else{var h=t.vertexData.channels[0],m=t.vertexData.channels[1],v=t.vertexData.channels[2],p=this.createVertexTypedArray(h,a,s),b=this.createVertexTypedArray(m,a,s),x=this.createVertexTypedArray(v,a,s),P=this.createIndexTypedArray(t.indexFormat,a,t.indexOffset),B={mode:F.TRIANGLES,attributes:{aPos:{type:la(h.format),size:3,data:p,normalize:h.normalize},aUV:{type:la(m.format),size:2,data:b,normalize:m.normalize},aNormal:{type:la(v.format),size:3,data:x,normalize:v.normalize}}};B.indices={data:P},B.drawCount=P.length,this.processProps(B)}this.skin={boneNames:t.boneNames,rootBoneName:t.rootBoneName,inverseBindMatrices:t.inverseBindMatrices}}},n.dispose=function(){var t=this;if(this.drawStart=0,this.drawCount=NaN,this.bufferProps={},this.indices=void 0,this.attributes={},this.attributesName=[],this.options=void 0,this.initialized){var r;Object.keys(this.buffers).forEach(function(a){t.buffers[a].dispose()}),this.buffers={},(r=this.indicesBuffer)==null||r.dispose(),Object.keys(this.vaos).forEach(function(a){var s;(s=t.vaos[a])==null||s.dispose(),t.vaos[a]=void 0}),this.indicesBuffer=void 0,this.engine!==void 0&&(this.engine.removeGeometry(this),this.engine=void 0)}this.destroyed=!0},n.createVertexTypedArray=function(t,r,a){var s=r.buffer;switch(t.format){case Dr.Float32:return new Float32Array(s,r.byteOffset+t.offset,t.dimension*a);case Dr.Int16:return new Int16Array(s,r.byteOffset+t.offset,t.dimension*a);case Dr.Int8:return new Int8Array(s,r.byteOffset+t.offset,t.dimension*a);case Dr.UInt16:return new Uint16Array(s,r.byteOffset+t.offset,t.dimension*a);case Dr.UInt8:return new Uint8Array(s,r.byteOffset+t.offset,t.dimension*a);default:return console.error("Invalid vertex format type: "+t.format+"."),new Float32Array(s,r.byteOffset+t.offset,t.dimension*a)}},n.createIndexTypedArray=function(t,r,a){var s=r.buffer;switch(t){case kr.UInt16:return new Uint16Array(s,r.byteOffset+a);case kr.UInt32:return new Uint32Array(s,r.byteOffset+a);default:return console.error("Invalid index format type: "+t+"."),new Uint32Array(s,r.byteOffset+a)}},n.hasSemantic=function(t){var r=!1,a=t.vertexData;return a.channels.forEach(function(s){s.semantic&&s.semantic.length>0&&(r=!0)}),r},br(o,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"isInitialized",get:function(){return this.initialized}}]),o}(Cn),Rm={POSITION:"aPos",TEXCOORD0:"aUV",TEXCOORD_0:"aUV",TEXCOORD1:"aUV2",NORMAL:"aNormal",TANGENT:"aTangent",COLOR:"aColor",JOINTS:"aJoints",JOINTS_0:"aJoints",WEIGHTS:"aWeights",WEIGHTS_0:"aWeights",POSITION_BS0:"aTargetPosition0",POSITION_BS1:"aTargetPosition1",POSITION_BS2:"aTargetPosition2",POSITION_BS3:"aTargetPosition3",POSITION_BS4:"aTargetPosition4",POSITION_BS5:"aTargetPosition5",POSITION_BS6:"aTargetPosition6",POSITION_BS7:"aTargetPosition7",NORMAL_BS0:"aTargetNormal0",NORMAL_BS1:"aTargetNormal1",NORMAL_BS2:"aTargetNormal2",NORMAL_BS3:"aTargetNormal3",TANGENT_BS0:"aTargetTangent0",TANGENT_BS1:"aTargetTangent1",TANGENT_BS2:"aTargetTangent2",TANGENT_BS3:"aTargetTangent3"};function _m(i){for(var o=atob(i),n=new Uint8Array(o.length),e=0;e<o.length;e++)n[e]=o.charCodeAt(e);var t=n.buffer;return t}var fd=function(){function i(){this.reset()}var o=i.prototype;return o.setBlendColor=function(e){var t=e[0],r=e[1],a=e[2],s=e[3];this.blendColor[0]===t&&this.blendColor[1]===r&&this.blendColor[2]===a&&this.blendColor[3]===s||(this.blendColor[0]=t,this.blendColor[1]=r,this.blendColor[2]=a,this.blendColor[3]=s)},o.setBlending=function(e){this.blending!==e&&(this.blending=e)},o.setBlendFunctionParameters=function(e){var t=e[0],r=e[1],a=e[2],s=e[3];this.blendFunctionParameters[0]===t&&this.blendFunctionParameters[1]===r&&this.blendFunctionParameters[2]===a&&this.blendFunctionParameters[3]===s||(this.blendFunctionParameters[0]=t,this.blendFunctionParameters[1]=r,this.blendFunctionParameters[2]=a,this.blendFunctionParameters[3]=s)},o.setBlendEquationParameters=function(e){var t=e[0],r=e[1];this.blendEquationParameters[0]===t&&this.blendEquationParameters[1]===r||(this.blendEquationParameters[0]=t,this.blendEquationParameters[1]=r)},o.setDepthTest=function(e){this.depthTest!==e&&(this.depthTest=e)},o.setDepthMask=function(e){this.depthMask!==e&&(this.depthMask=e)},o.setDepthRange=function(e){this.depthRange[0]===e[0]&&this.depthRange[1]===e[1]||(this.depthRange[0]=e[0],this.depthRange[1]=e[1])},o.setDepthFunc=function(e){this.depthFunc!==e&&(this.depthFunc=e)},o.setPolygonOffsetFill=function(e){this.polygonOffsetFill!==e&&(this.polygonOffsetFill=e)},o.setPolygonOffset=function(e){this.polygonOffset[0]===e[0]&&this.polygonOffset[1]===e[1]||(this.polygonOffset[0]=e[0],this.polygonOffset[1]=e[1])},o.setSampleAlphaToCoverage=function(e){this.sampleAlphaToCoverage!==e&&(this.sampleAlphaToCoverage=e)},o.setColorMask=function(e){var t=e[0],r=e[1],a=e[2],s=e[3];this.colorMask[0]===t&&this.colorMask[1]===r&&this.colorMask[2]===a&&this.colorMask[3]===s||(this.colorMask[0]=t,this.colorMask[1]=r,this.colorMask[2]=a,this.colorMask[3]=s)},o.setStencilTest=function(e){this.stencilTest!==e&&(this.stencilTest=e)},o.setStencilMask=function(e){this.stencilMask[0]===e[0]&&this.stencilMask[1]===e[1]||(this.stencilMask[0]=e[0],this.stencilMask[1]=e[1])},o.setStencilRef=function(e){this.stencilRef[0]===e[0]&&this.stencilRef[1]===e[1]||(this.stencilRef[0]=e[0],this.stencilRef[1]=e[1])},o.setStencilFunc=function(e){this.stencilFunc[0]===e[0]&&this.stencilFunc[1]===e[1]||(this.stencilFunc[0]=e[0],this.stencilFunc[1]=e[1])},o.setStencilOpFail=function(e){this.stencilOpFail[0]===e[0]&&this.stencilOpFail[1]===e[1]||(this.stencilOpFail[0]=e[0],this.stencilOpFail[1]=e[1])},o.setStencilOpZFail=function(e){this.stencilOpZFail[0]===e[0]&&this.stencilOpZFail[1]===e[1]||(this.stencilOpZFail[0]=e[0],this.stencilOpZFail[1]=e[1])},o.setStencilOpZPass=function(e){this.stencilOpZPass[0]===e[0]&&this.stencilOpZPass[1]===e[1]||(this.stencilOpZPass[0]=e[0],this.stencilOpZPass[1]=e[1])},o.setCulling=function(e){this.culling!==e&&(this.culling=e)},o.setFrontFace=function(e){this.frontFace!==e&&(this.frontFace=e)},o.setCullFace=function(e){this.cullFace!==e&&(this.cullFace=e)},o.reset=function(){this.blending=!1,this.blendColor=[0,0,0,0],this.blendFunctionParameters=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA],this.blendEquationParameters=[F.FUNC_ADD,F.FUNC_ADD],this.depthTest=!0,this.depthMask=!0,this.depthRange=[0,1],this.depthFunc=F.LESS,this.polygonOffset=[0,0],this.polygonOffsetFill=!1,this.sampleAlphaToCoverage=!1,this.colorMask=[!0,!0,!0,!0],this.stencilTest=!1,this.stencilMask=[255,255],this.stencilRef=[0,0],this.stencilFunc=[F.ALWAYS,F.ALWAYS],this.stencilOpFail=[F.KEEP,F.KEEP],this.stencilOpZFail=[F.KEEP,F.KEEP],this.stencilOpZPass=[F.KEEP,F.KEEP],this.culling=!1,this.frontFace=F.CCW,this.cullFace=F.FRONT},o.apply=function(e){if(e.toggle(F.SAMPLE_ALPHA_TO_COVERAGE,this.sampleAlphaToCoverage),e.toggle(F.BLEND,this.blending),e.toggle(F.DEPTH_TEST,this.depthTest),e.toggle(F.STENCIL_TEST,this.stencilTest),e.toggle(F.CULL_FACE,this.culling),e.toggle(F.POLYGON_OFFSET_FILL,this.polygonOffsetFill),this.stencilTest&&(e.stencilMaskSeparate(F.BACK,this.stencilMask[1]),e.stencilMaskSeparate(F.FRONT,this.stencilMask[0]),e.stencilFuncSeparate(F.BACK,this.stencilFunc[0],this.stencilRef[0],this.stencilMask[0]),e.stencilFuncSeparate(F.FRONT,this.stencilFunc[1],this.stencilRef[1],this.stencilMask[1]),e.stencilOpSeparate(F.BACK,this.stencilOpFail[0],this.stencilOpZFail[0],this.stencilOpZPass[0]),e.stencilOpSeparate(F.FRONT,this.stencilOpFail[1],this.stencilOpZFail[1],this.stencilOpZPass[1])),this.blending){var t=this,r=t.blendColor,a=t.blendEquationParameters,s=t.blendFunctionParameters;e.blendColor(r[0],r[1],r[2],r[3]),e.blendEquationSeparate(a[0],a[1]),e.blendFuncSeparate(s[0],s[1],s[2],s[3])}e.colorMask(this.colorMask[0],this.colorMask[1],this.colorMask[2],this.colorMask[3]),this.depthTest&&(e.depthMask(this.depthMask),e.depthFunc(this.depthFunc),e.depthRange(this.depthRange[0],this.depthRange[1])),this.culling&&(e.cullFace(this.cullFace),e.frontFace(this.frontFace)),this.polygonOffsetFill&&e.polygonOffset(this.polygonOffset[0],this.polygonOffset[1])},i}(),hd=Ur,Lm=Or,dd=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e,t)||this,r.floats={},r.ints={},r.vector2s={},r.vector3s={},r.vector4s={},r.colors={},r.quaternions={},r.matrices={},r.matrice3s={},r.textures={},r.floatArrays={},r.vector4Arrays={},r.matrixArrays={},r.samplers=[],r.uniforms=[],r.uniformDirty=!0,r.macrosDirty=!0,r.glMaterialState=new fd,t&&(r.shader=new ro(e),r.shader.shaderData=A({},t.shader,{id:nt(),dataType:Pt.Shader})),r}var n=o.prototype;return n.enableMacro=function(t,r){(!this.isMacroEnabled(t)||this.enabledMacros[t]!==r)&&(this.enabledMacros[t]=r!=null?r:!0,this.macrosDirty=!0)},n.disableMacro=function(t){this.isMacroEnabled(t)&&(delete this.enabledMacros[t],this.macrosDirty=!0)},n.isMacroEnabled=function(t){return this.enabledMacros[t]!==void 0},n.createMaterialStates=function(t){this.sampleAlphaToCoverage=!!t.sampleAlphaToCoverage,this.depthTest=t.depthTest,this.depthMask=t.depthMask,this.depthRange=t.depthRange,this.depthFunc=t.depthFunc,this.colorMask=t.colorMask,this.polygonOffset=t.polygonOffset,this.polygonOffsetFill=t.polygonOffsetFill,this.blending=t.blending,this.blendFunction=t.blendFunction,this.stencilTest=t.stencilTest},n.initialize=function(){var t=this,r=this.engine;this.createShaderVariant(),this.shaderVariant.initialize(),!this.initialized&&(r.addMaterial(this),Object.keys(this.textures).forEach(function(a){var s=t.textures[a];if(!xt(s.initialize)){$e.error("Failed to initialize texture: "+JSON.stringify(s)+". Ensure the texture conforms to the expected format.");return}s.initialize()}),this.initialized=!0)},n.createShaderVariant=function(){(this.shaderDirty||this.macrosDirty)&&(this.shaderVariant=this.shader.createVariant(this.enabledMacros),this.macrosDirty=!1,this.shaderDirty=!1,this.uniformDirty=!0)},n.setupStates=function(t){this.glMaterialState.apply(t)},n.use=function(t,r){var a=t.engine,s=a.getGLPipelineContext(),l=this.shaderVariant;if(!l.program){var u;(u=this.engine)==null||u.renderErrors.add(new Error("Shader program is not initialized."));return}l.program.bind(),this.setupStates(s);var h;if(r){for(var m=ke(r.uniforms),v;!(v=m()).done;)h=v.value,this.checkUniform(h);for(var p=ke(r.samplers),b;!(b=p()).done;)h=b.value,this.samplers.includes(h)||(this.samplers.push(h),this.uniformDirty=!0)}if(this.uniformDirty&&(l.fillShaderInformation(this.uniforms,this.samplers),this.uniformDirty=!1),r){for(h in r.floats)l.setFloat(h,r.floats[h]);for(h in r.ints)l.setInt(h,r.ints[h]);for(h in r.vector4s)l.setVector4(h,r.vector4s[h]);for(h in r.vector3s)l.setVector3(h,r.vector3s[h]);for(h in r.matrices)l.setMatrix(h,r.matrices[h])}for(h in this.textures)this.textures[h].textureBuffer||this.textures[h].initialize();for(h in this.floats)l.setFloat(h,this.floats[h]);for(h in this.ints)l.setInt(h,this.ints[h]);for(h in this.floatArrays)l.setFloats(h,this.floatArrays[h]);for(h in this.textures)l.setTexture(h,this.textures[h]);for(h in this.vector2s)l.setVector2(h,this.vector2s[h]);for(h in this.vector3s)l.setVector3(h,this.vector3s[h]);for(h in this.vector4s)l.setVector4(h,this.vector4s[h]);for(h in this.colors)l.setColor(h,this.colors[h]);for(h in this.quaternions)l.setQuaternion(h,this.quaternions[h]);for(h in this.matrices)l.setMatrix(h,this.matrices[h]);for(h in this.matrice3s)l.setMatrix3(h,this.matrice3s[h]);for(h in this.vector4Arrays)l.setVector4Array(h,this.vector4Arrays[h]);for(h in this.matrixArrays)l.setMatrixArray(h,this.matrixArrays[h])},n.getFloat=function(t){return this.floats[t]},n.setFloat=function(t,r){this.checkUniform(t),this.floats[t]=r},n.getInt=function(t){return this.ints[t]},n.setInt=function(t,r){this.checkUniform(t),this.ints[t]=r},n.getFloats=function(t){return this.floatArrays[t]},n.setFloats=function(t,r){this.checkUniform(t),this.floatArrays[t]=r},n.getVector2=function(t){return this.vector2s[t]},n.setVector2=function(t,r){this.checkUniform(t),this.vector2s[t]=r},n.getVector3=function(t){return this.vector3s[t]},n.setVector3=function(t,r){this.checkUniform(t),this.vector3s[t]=r},n.getVector4=function(t){return this.vector4s[t]},n.setVector4=function(t,r){this.checkUniform(t),this.vector4s[t]=r},n.getColor=function(t){return this.colors[t]},n.setColor=function(t,r){this.checkUniform(t),this.colors[t]=r},n.getQuaternion=function(t){return this.quaternions[t]},n.setQuaternion=function(t,r){this.checkUniform(t),this.quaternions[t]=r},n.getMatrix=function(t){return this.matrices[t]},n.setMatrix=function(t,r){this.checkUniform(t),this.matrices[t]=r},n.setMatrix3=function(t,r){this.checkUniform(t),this.matrice3s[t]=r},n.getVector4Array=function(t){return this.vector4Arrays[t]},n.setVector4Array=function(t,r){this.checkUniform(t),this.vector4Arrays[t]=[];for(var a=ke(r),s;!(s=a()).done;){var l=s.value;this.vector4Arrays[t].push(l.x,l.y,l.z,l.w)}},n.getMatrixArray=function(t){return this.matrixArrays[t]},n.setMatrixArray=function(t,r){this.checkUniform(t),this.matrixArrays[t]=[];for(var a=ke(r),s;!(s=a()).done;)for(var l=s.value,u=0;u<16;u++)this.matrixArrays[t].push(l.elements[u])},n.setMatrixNumberArray=function(t,r){this.checkUniform(t),this.matrixArrays[t]=r},n.getTexture=function(t){return this.textures[t]},n.setTexture=function(t,r){this.samplers.includes(t)||(this.samplers.push(t),this.uniformDirty=!0),this.textures[t]=r},n.hasUniform=function(t){return this.uniforms.includes(t)||this.samplers.includes(t)},n.clone=function(t){var r=t||this.props,a=this.engine;bt(a);var s=new o(a,r);return s.glMaterialState=Object.assign(new fd,s.glMaterialState),s.floats=this.floats,s.ints=this.ints,s.vector2s=this.vector2s,s.vector3s=this.vector3s,s.vector4s=this.vector4s,s.colors=this.colors,s.quaternions=this.quaternions,s.matrices=this.matrices,s.textures=this.textures,s.floatArrays=this.floatArrays,s.vector4Arrays=this.vector4Arrays,s.matrixArrays=this.matrixArrays,s.samplers=this.samplers,s.uniforms=this.uniforms,s.uniformDirty=!0,s},n.fromData=function(t){i.prototype.fromData.call(this,t),this.uniforms=[],this.samplers=[],this.textures={},this.floats={},this.ints={},this.floatArrays={},this.vector4s={};var r=A({},t);t.stringTags.RenderType!==void 0&&(this.blending=t.stringTags.RenderType===Ir.Transparent),t.floats.ZTest!==void 0&&(this.depthTest=t.floats.ZTest!==0),t.floats.ZWrite!==void 0&&(this.depthMask=t.floats.ZWrite!==0);var a=t.stringTags.RenderFace;a===Er.Front?(this.culling=!0,this.cullFace=F.BACK):a===Er.Back?(this.culling=!0,this.cullFace=F.FRONT):this.culling=!1;var s;for(s in r.floats)this.setFloat(s,r.floats[s]);for(s in r.ints)this.setInt(s,r.ints[s]);for(s in r.vector4s){var l=r.vector4s[s];this.setVector4(s,new Ur(l.x,l.y,l.z,l.w))}for(s in r.colors){var u=r.colors[s];this.setColor(s,new Kn(u.r,u.g,u.b,u.a))}for(s in r.textures){var h=r.textures[s];this.setTexture(s,h.texture);var m=h.offset,v=h.scale;m&&v&&this.setVector4(s+"_ST",new hd(v.x,v.y,m.x,m.y))}t.shader&&(this.shader=t.shader,this.shaderSource=this.shader.shaderData);var p;this.stringTags=(p=t.stringTags)!=null?p:{},this.initialized=!1},n.toData=function(){var t=this.taggedProperties;this.shader&&(t.shader=this.shader),t.floats={},t.ints={},t.vector4s={},t.colors={},t.textures={},t.dataType=Pt.Material,t.stringTags=this.stringTags;for(var r in this.floats)t.floats[r]=this.floats[r];for(var a in this.ints)t.ints[a]=this.ints[a];for(var s in this.vector4s)t.vector4s[s]=this.vector4s[s];for(var l in this.colors)t.colors[l]=this.colors[l];for(var u in this.textures){t.textures[u]||(t.textures[u]={texture:this.textures[u]});var h=t.textures[u],m=this.getVector4(u+"_ST");m&&(h.scale={x:m.x,y:m.y},h.offset={x:m.z,y:m.w},delete t.vector4s[u+"_ST"])}return t},n.cloneUniforms=function(t){var r=t,a;for(a in r.floats)this.setFloat(a,r.floats[a]);for(a in r.ints)this.setInt(a,r.ints[a]);for(a in r.floatArrays)this.setFloats(a,r.floatArrays[a]);for(a in r.textures)this.setTexture(a,r.textures[a]);for(a in r.vector2s)this.setVector2(a,r.vector2s[a]);for(a in r.vector3s)this.setVector3(a,r.vector3s[a]);for(a in r.vector4s)this.setVector4(a,r.vector4s[a]);for(a in r.colors)this.setColor(a,r.colors[a]);for(a in r.quaternions)this.setQuaternion(a,r.quaternions[a]);for(a in r.matrices)this.setMatrix(a,r.matrices[a]);for(a in r.vector4Arrays){for(var s=[],l=0;l<r.vector4Arrays[a].length;l+=4)s.push(new hd(r.vector4Arrays[a][l],r.vector4Arrays[a][l+1],r.vector4Arrays[a][l+2],r.vector4Arrays[a][l+3]));this.setVector4Array(a,s)}for(a in r.matrixArrays){for(var u=[],h=0;h<r.matrixArrays[a].length;h+=16){for(var m=Lm.fromIdentity(),v=0;v<16;v++)m.elements[v]=r.matrixArrays[a][h+v];u.push(m)}this.setMatrixArray(a,u)}},n.checkUniform=function(t){this.uniforms.includes(t)||(this.uniforms.push(t),this.uniformDirty=!0)},n.dispose=function(t){var r=this,a;this.destroyed||((a=this.shaderVariant)==null||a.dispose(),(t==null?void 0:t.textures)!==Ct.keep&&Object.keys(this.textures).forEach(function(s){var l=r.textures[s];l!==r.engine.emptyTexture&&l.dispose()}),this.shaderSource=null,this.uniformSemantics={},this.floats={},this.ints={},this.vector2s={},this.vector3s={},this.vector4s={},this.quaternions={},this.matrices={},this.matrice3s={},this.textures={},this.floatArrays={},this.vector4Arrays={},this.matrixArrays={},this.samplers=[],this.uniforms=[],this.initialize=Mt,this.destroyed=!0,this.engine!==void 0&&this.engine.removeMaterial(this))},br(o,[{key:"blending",get:function(){return this.glMaterialState.blending},set:function(t){t!==void 0&&this.glMaterialState.setBlending(t)}},{key:"blendColor",get:function(){return this.glMaterialState.blendColor},set:function(t){t&&this.glMaterialState.setBlendColor(t)}},{key:"blendFunction",get:function(){return this.glMaterialState.blendFunctionParameters},set:function(t){t&&this.glMaterialState.setBlendFunctionParameters(t)}},{key:"blendEquation",get:function(){return this.glMaterialState.blendEquationParameters},set:function(t){t&&this.glMaterialState.setBlendEquationParameters(t)}},{key:"depthTest",get:function(){return this.glMaterialState.depthTest},set:function(t){t!==void 0&&this.glMaterialState.setDepthTest(t)}},{key:"depthMask",get:function(){return this.glMaterialState.depthMask},set:function(t){t!==void 0&&this.glMaterialState.setDepthMask(t)}},{key:"depthRange",get:function(){return this.glMaterialState.depthRange},set:function(t){t&&this.glMaterialState.setDepthRange(t)}},{key:"depthFunc",get:function(){return this.glMaterialState.depthFunc},set:function(t){t!==void 0&&this.glMaterialState.setDepthFunc(t)}},{key:"polygonOffsetFill",get:function(){return this.glMaterialState.polygonOffsetFill},set:function(t){t!==void 0&&this.glMaterialState.setPolygonOffsetFill(t)}},{key:"polygonOffset",get:function(){return this.glMaterialState.polygonOffset},set:function(t){t&&this.glMaterialState.setPolygonOffset(t)}},{key:"sampleAlphaToCoverage",get:function(){return this.glMaterialState.sampleAlphaToCoverage},set:function(t){t!==void 0&&this.glMaterialState.setSampleAlphaToCoverage(t)}},{key:"colorMask",get:function(){return this.glMaterialState.colorMask},set:function(t){t&&this.glMaterialState.setColorMask(t)}},{key:"stencilTest",get:function(){return this.glMaterialState.stencilTest},set:function(t){t!==void 0&&this.glMaterialState.setStencilTest(t)}},{key:"stencilMask",get:function(){return this.glMaterialState.stencilMask},set:function(t){t&&this.glMaterialState.setStencilMask(t)}},{key:"stencilRef",get:function(){return this.glMaterialState.stencilRef},set:function(t){t&&this.glMaterialState.setStencilRef(t)}},{key:"stencilFunc",get:function(){return this.glMaterialState.stencilFunc},set:function(t){t&&this.glMaterialState.setStencilFunc(t)}},{key:"stencilOpFail",get:function(){return this.glMaterialState.stencilOpFail},set:function(t){t&&this.glMaterialState.setStencilOpFail(t)}},{key:"stencilOpZFail",get:function(){return this.glMaterialState.stencilOpZFail},set:function(t){t&&this.glMaterialState.setStencilOpZFail(t)}},{key:"stencilOpZPass",get:function(){return this.glMaterialState.stencilOpZPass},set:function(t){t&&this.glMaterialState.setStencilOpZPass(t)}},{key:"culling",get:function(){return this.glMaterialState.culling},set:function(t){t!==void 0&&this.glMaterialState.setCulling(t)}},{key:"frontFace",get:function(){return this.glMaterialState.frontFace},set:function(t){t!==void 0&&this.glMaterialState.setFrontFace(t)}},{key:"cullFace",get:function(){return this.glMaterialState.cullFace},set:function(t){t!==void 0&&this.glMaterialState.setCullFace(t)}},{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(Bi),Fm="$mri-internal-copy",md=function(){function i(n){if(this.renderer=n,n.engine.gpuCapability.level===1){this.copyRenderPass=this.createCopyRenderPass().initialize(n);var e=this.copyRenderPass.meshes[0].material.shaderSource;n.pipelineContext.shaderLibrary.addShader(e)}}var o=i.prototype;return o.resetColorAttachments=function(e,t){this.renderer&&e.resetColorAttachments(t)},o.copyTexture=function(e,t){this.renderer&&(e.initialize(),t.initialize(),t.updateSource({sourceType:G.framebuffer,data:{width:t.getWidth()||e.getWidth(),height:t.getHeight()||e.getHeight()}}),this.renderer.engine.gpuCapability.level===2?this.copy2(e,t):this.copy1(e,t))},o.copy2=function(e,t){var r=this.renderer.getFramebuffer();this.renderer.glRenderer.copy2(e,t),this.renderer.setFramebuffer(r)},o.copy1=function(e,t){var r=this.copyRenderPass;if(r){var a=this.renderer;if(a){var s=r.framebuffer;s.viewport[2]=t.getWidth()||e.getWidth(),s.viewport[3]=t.getHeight()||e.getHeight(),a.glRenderer.resetColorAttachments(s,[t]);var l=r.meshes[0];l.material.setTexture("uTex",e),a.renderRenderPass(r)}}},o.createCopyRenderPass=function(){var e="mri-copy-mesh",t={texture:{format:F.RGBA}},r=this.renderer.engine,a=new cd(r,{name:e,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),s=`
precision highp float;
attribute vec2 aPos;
varying vec2 vTex;
void main(){
  gl_Position = vec4(aPos,0.,1.0);
  vTex = (aPos + vec2(1.))/2.;
}`,l=`
precision highp float;
varying vec2 vTex;
uniform sampler2D uTex;
void main(){
  gl_FragColor = texture2D(uTex,vTex);
}`,u=r.gpuCapability.level,h=new dd(r,{name:e,shader:{cacheId:Fm,name:e,vertex:s,fragment:l,glslVersion:u===2?qn.GLSL3:qn.GLSL1}});h.blending=!1,h.depthTest=!1,h.culling=!1;var m=new Mi(r,{name:e,geometry:a,material:h,priority:0});return new Dm(this.renderer,{name:"mri-copy-rp",clearAction:{colorAction:Z.whatever},attachments:[t],meshes:[m]})},o.dispose=function(){if(this.renderer){var e;(e=this.copyRenderPass)==null||e.dispose(),this.renderer=void 0}},i}(),Dm=function(i){be(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.configure=function(t){this.currentFramebuffer=t.getFramebuffer(),t.setFramebuffer(this.framebuffer)},n.execute=function(t){this.clearAction&&t.clear(this.clearAction),t.renderMeshes(this.meshes),this.storeAction&&t.clear(this.storeAction),t.setFramebuffer(this.currentFramebuffer)},o}(aa),Nm=function(){function i(n,e,t){var r=this;e===void 0&&(e="webgl"),t===void 0&&(t={}),this.canvas=n,this.glType=e,this.restoreHandlers=[],this.lostHandlers=[],bt(n),this.gl=us(n,e,t),this.contextLostListener=function(a){for(var s,l=ke(r.lostHandlers),u;!(u=l()).done;){var h=u.value;h.lost(a)}(s=r.canvas)==null||s.removeEventListener("webglcontextlost",r.contextLostListener)},this.contextRestoredListener=function(a){for(var s,l=ke(r.restoreHandlers),u;!(u=l()).done;){var h=u.value;h.restore()}(s=r.canvas)==null||s.addEventListener("webglcontextlost",r.contextLostListener)},n.addEventListener("webglcontextlost",this.contextLostListener),n.addEventListener("webglcontextrestored",this.contextRestoredListener)}var o=i.prototype;return o.dispose=function(){this.canvas&&(this.canvas.removeEventListener("webglcontextlost",this.contextLostListener),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredListener)),this.gl=null,this.canvas=null},o.addLostHandler=function(e){this.lostHandlers.push(e)},o.removeLostHandler=function(e){var t=this.lostHandlers.indexOf(e);t>-1&&this.lostHandlers.splice(t,1)},o.addRestoreHandler=function(e){this.restoreHandlers.push(e)},o.removeRestoreHandler=function(e){var t=this.restoreHandlers.indexOf(e);t>-1&&this.restoreHandlers.splice(t,1)},i}(),ph=function(i){be(o,i);function o(e){var t;return t=i.call(this)||this,t.gpuCapability=new ps(e),t}var n=o.prototype;return n.dispose=function(){this.isDestroyed||i.prototype.dispose.call(this)},n.getGLRenderer=function(){return this.renderer},n.getGLRendererInternal=function(){return this.getGLRenderer().glRenderer},n.getGLPipelineContext=function(){return this.getGLRenderer().pipelineContext},o}(ad),fl=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.initialized=!1,t!==void 0&&r.initialize(t),r}var n=o.prototype;return n.initialize=function(t){this.initialized||(this.initialized=!0,this.renderer=t,this.buffer=t.createGLRenderbuffer(this))},n.setSize=function(t,r){if(!this.initialized){$e.error("Can't set size for uninitialized render buffer.");return}if(this.renderer&&(t!==this.size[0]||r!==this.size[1])){var a=this.renderer,s=a.gl,l=a.pipelineContext;l.bindRenderbuffer(s.RENDERBUFFER,this.buffer),t&&r?s.renderbufferStorage(s.RENDERBUFFER,this.format,this.size[0]=t,this.size[1]=r):$e.error("Invalid render buffer size: "+t+"x"+r+".")}},n.dispose=function(){this.renderer&&(this.renderer.deleteGLRenderbuffer(this),this.renderer=null,this.buffer=null),this.destroyed=!0,this.initialize=Mt},o}(vl),Vm=1,gh=function(i){be(o,i);function o(e,t){var r;r=i.call(this)||this,r.attachmentTextures=[];var a=e.depthStencilAttachment,s=e.viewport,l=e.isCustomViewport,u=e.storeAction,h=e.viewportScale,m=h===void 0?1:h,v=e.name,p=v===void 0?"GLFramebuffer"+Vm++:v;r.renderer=t,r.engine=t.engine;var b;return r.depthStencilStorageType=(b=a==null?void 0:a.storageType)!=null?b:Ci.none,r.viewport=s,r.isCustomViewport=!!l,r.viewportScale=m,r.name=p,r.storeAction=u,r.updateProps(e),r}var n=o.prototype;return n.getDepthTexture=function(){return this.depthTexture},n.getStencilTexture=function(){return this.stencilTexture},n.getColorTextures=function(){return this.colorTextures},n.updateAttachmentTextures=function(){var t=this;this.attachmentTextures.length=0,this.colorTextures.forEach(function(r){r.initialize(),rt(t.attachmentTextures,r.textureBuffer)}),this.stencilTexture&&rt(this.attachmentTextures,this.stencilTexture.textureBuffer),this.depthTexture&&rt(this.attachmentTextures,this.depthTexture.textureBuffer)},n.updateProps=function(t){var r,a=this.renderer,s=this.engine.gpuCapability,l,u=(l=t.depthStencilAttachment)!=null?l:{storageType:Ci.none},h=t.attachments.length>0,m=!0;if(this.externalStorage=!1,t.attachments.length>1&&!s.detail.drawBuffers)throw new Error("Multiple color attachments not support.");var v=(r=t.depthStencilAttachment)==null?void 0:r.texture,p=s.detail.readableDepthStencilTextures,b=u.storageType,x=u.storage;if(this.colorTextures=t.attachments.slice(),!h&&b!==Ci.none)throw new Error("Use depth stencil attachment without color attachments.");switch(h&&(this.fbo=a.glRenderer.createGLFramebuffer(this,this.name)),b){case Ci.depth_stencil_opaque:if(x)if(U(x,fl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid depth stencil attachment storage.");else this.depthStencilRenderbuffer=new fl({format:F.DEPTH_STENCIL,attachment:F.DEPTH_STENCIL_ATTACHMENT,storageType:b},a.glRenderer);m=!1;break;case Ci.depth_16_opaque:if(x)if(U(x,fl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid depth attachment storage.");else this.depthStencilRenderbuffer=new fl({attachment:F.DEPTH_ATTACHMENT,format:F.DEPTH_COMPONENT16,storageType:b},a.glRenderer);break;case Ci.stencil_8_opaque:if(x)if(U(x,fl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid stencil attachment storage.");else this.depthStencilRenderbuffer=new fl({attachment:F.STENCIL_ATTACHMENT,format:F.STENCIL_INDEX8,storageType:b},a.glRenderer);break;case Ci.depth_16_texture:if(!p)throw new Error("Depth texture is not support in framebuffer.");this.depthTexture=v!=null?v:new Hs(this.engine,{sourceType:G.framebuffer,format:F.DEPTH_COMPONENT,internalFormat:s.internalFormatDepth16,type:F.UNSIGNED_SHORT,name:""+this.name+"##depthTex"}),this.depthTexture.initialize();break;case Ci.depth_24_stencil_8_texture:if(!p)throw new Error("Depth stencil texture is not support in framebuffer.");this.depthTexture=this.stencilTexture=v!=null?v:new Hs(this.engine,{sourceType:G.framebuffer,format:F.DEPTH_STENCIL,internalFormat:s.internalFormatDepth24_stencil8,type:s.UNSIGNED_INT_24_8,name:""+this.name+"##dpthStclTex"}),this.depthTexture.initialize(),m=!0;break}this.storeInvalidAttachments=this.getStoreAttachments(this.storeAction,m),this.updateAttachmentTextures()},n.getStoreAttachments=function(t,r){var a=this.renderer.glRenderer.gl,s=this.colorTextures.length;if(t&&Sr(a)&&s>0){var l=[];if(t.depthAction===Li.clear&&this.depthStorage&&rt(l,r?a.DEPTH_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT),t.stencilAction===Li.clear&&this.stencilStorage&&rt(l,r?a.STENCIL_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT),t.colorAction===Li.clear)for(var u=0;u<s;u++)rt(l,a["COLOR_ATTACHMENT"+u]);return l}},n.unbind=function(){var t=this.storeInvalidAttachments;if(t!=null&&t.length){var r=this.renderer.glRenderer.gl;Sr(r)&&r.invalidateFramebuffer(r.FRAMEBUFFER,t)}this.renderer.pipelineContext.bindSystemFramebuffer()},n.bind=function(){var t=this;if(this.fbo){var r=this.renderer.glRenderer.gl,a=this.renderer.pipelineContext,s=this.viewport,l=s[0],u=s[1],h=s[2],m=s[3];a.bindFramebuffer(r.FRAMEBUFFER,this.fbo),a.viewport(l,u,h,m);var v=this.renderer.glRenderer.emptyTexture2D.textureBuffer;Object.keys(a.textureUnitDict).forEach(function(Y){var k=a.textureUnitDict[Y];k&&k!==v&&t.attachmentTextures.includes(k)&&(a.activeTexture(+Y),t.renderer.glRenderer.emptyTexture2D.bind())});for(var p=0;p<4;p++)a.activeTexture(r.TEXTURE0+p),this.renderer.glRenderer.emptyTexture2D.bind();if(!this.ready){var b=this,x=b.depthStencilRenderbuffer,P=b.depthTexture,B=b.stencilTexture;if(a.activeTexture(r.TEXTURE0),x)x.setSize(h,m),r.framebufferRenderbuffer(r.FRAMEBUFFER,x.attachment,r.RENDERBUFFER,x.buffer);else if(P){P.source.data={width:h,height:m},P.update({data:{width:h,height:m,data:new Uint16Array(0)}});var D=P&&B?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.framebufferTexture2D(r.FRAMEBUFFER,D,r.TEXTURE_2D,P.textureBuffer,0)}this.resetColorTextures(this.colorTextures);var _=r.checkFramebufferStatus(r.FRAMEBUFFER);if(_!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer failed, status: "+_+", error: "+r.getError()+".");this.ready=!0}}},n.resetColorTextures=function(t){var r=t,a=this.renderer.glRenderer.gl,s=this.engine.gpuCapability,l=this.viewport,u=[];if(r){for(var h=ke(r),m;!(m=h()).done;){var v=m.value;v.initialize()}this.colorTextures=r.slice()}this.renderer.pipelineContext.activeTexture(a.TEXTURE0),this.colorTextures.forEach(function(p,b){var x=l[2],P=l[3],B={width:x,height:P,data:new Uint8Array(0)};p.update({data:B}),s.framebufferTexture2D(a,a.FRAMEBUFFER,b,a.TEXTURE_2D,p.textureBuffer),u.push(!0)}),s.drawBuffers(a,u),this.updateAttachmentTextures()},n.resize=function(t,r,a,s){var l=this.viewport,u=l[0],h=l[1],m=l[2],v=l[3];(u!==t||h!==r||m!==a||v!==s)&&(this.viewport=[t,r,a,s],this.ready=!1,this.bind())},n.dispose=function(t){if(this.renderer){this.renderer.glRenderer.deleteGLFramebuffer(this),delete this.fbo;var r=t!=null&&t.depthStencilAttachment?t.depthStencilAttachment:da.force;if(r===da.force||r===da.keepExternal&&!this.externalStorage){var a,s;(a=this.depthStencilRenderbuffer)==null||a.dispose(),(s=this.depthTexture)==null||s.dispose()}this.renderer=this.stencilRenderbuffer=this.depthStencilRenderbuffer=null}},br(o,[{key:"stencilStorage",get:function(){var t=this.depthStencilStorageType;if(t!==Ci.depth_16_opaque)return this.depthStencilRenderbuffer}},{key:"depthStorage",get:function(){if(this.depthStencilStorageType!==Ci.stencil_8_opaque)return this.depthStencilRenderbuffer}}]),o}(As);function Bm(i){for(var o=5381,n=i.length;n;)o=o*33^i.charCodeAt(--n);return o>>>0}var vd=Bm,pd=1,zm=8,Um=0,gd=4,yd=2,km=5,Ui,$m=(Ui={},Ui[F.FLOAT]=1,Ui[F.INT]=1,Ui[F.UNSIGNED_INT]=1,Ui[F.SHORT]=1,Ui[F.BOOL]=1,Ui[F.UNSIGNED_SHORT]=1,Ui[F.FLOAT_VEC2]=2,Ui[F.FLOAT_VEC3]=3,Ui[F.FLOAT_VEC4]=4,Ui[F.FLOAT_MAT2]=4,Ui[F.FLOAT_MAT3]=9,Ui[F.FLOAT_MAT4]=16,Ui[F.FLOAT_MAT2x3]=6,Ui[F.FLOAT_MAT2x4]=8,Ui[F.FLOAT_MAT4x3]=12,Ui[F.FLOAT_MAT4x2]=8,Ui[F.FLOAT_MAT3x4]=12,Ui[F.FLOAT_MAT3x2]=6,Ui[F.INT_VEC2]=2,Ui[F.INT_VEC3]=3,Ui[F.INT_VEC4]=4,Ui[F.UNSIGNED_INT_VEC2]=2,Ui[F.UNSIGNED_INT_VEC3]=3,Ui[F.UNSIGNED_INT_VEC4]=4,Ui[F.BOOL_VEC2]=2,Ui[F.BOOL_VEC3]=3,Ui[F.BOOL_VEC4]=4,Ui),Lo=bh(Float32Array),zl=bh(Int32Array),yh=bh(Uint8Array),ki;ki={},ki[F.FLOAT]=Ul(Float32Array),ki[F.INT]=Ul(Int32Array),ki[F.UNSIGNED_INT]=Ul(Uint32Array),ki[F.SHORT]=Ul(Int16Array),ki[F.BOOL]=Ul(Uint8Array),ki[F.UNSIGNED_SHORT]=Ul(Uint16Array),ki[F.FLOAT_VEC2]=Lo,ki[F.FLOAT_VEC3]=Lo,ki[F.FLOAT_VEC4]=Lo,ki[F.FLOAT_MAT2]=Lo,ki[F.FLOAT_MAT3]=Lo,ki[F.FLOAT_MAT4]=Lo,ki[F.FLOAT_MAT2x3]=Lo,ki[F.FLOAT_MAT2x4]=Lo,ki[F.FLOAT_MAT4x3]=Lo,ki[F.FLOAT_MAT4x2]=Lo,ki[F.FLOAT_MAT3x4]=Lo,ki[F.FLOAT_MAT3x2]=Lo,ki[F.INT_VEC2]=zl,ki[F.INT_VEC3]=zl,ki[F.INT_VEC4]=zl,ki[F.UNSIGNED_INT_VEC2]=zl,ki[F.UNSIGNED_INT_VEC3]=zl,ki[F.UNSIGNED_INT_VEC4]=zl,ki[F.BOOL_VEC2]=yh,ki[F.BOOL_VEC3]=yh,ki[F.BOOL_VEC4]=yh;function Ul(i){return function(o,n,e,t){var r={start:n[pd],dirty:!0},a=n[yd];if(a>1){var s=o;if(s.length){for(var l=t[1]||s.length,u=n[gd]/i.BYTES_PER_ELEMENT,h=r.buffer=new i(l*u),m=t[0]||0,v=0;v<l;v++)h[v*u]=s[v+m];r.start+=m*u}}else r.buffer=new i([o]);return r}}function bh(i){return function(o,n,e,t){for(var r=n[zm],a=n[yd],s=n[km],l=a===1?r:n[gd],u=s?l/s:1,h=l/i.BYTES_PER_ELEMENT/u,m=r/i.BYTES_PER_ELEMENT/h,v=$m[n[Um]],p=v/u,b=(t[0]||0)*v,x=t[1]?u*t[1]:m,P=new i(h*x),B={start:n[pd]+l*(t[0]||0),dirty:!0,buffer:P},D=0,_=0,Y=b;D<x;D++){for(var k=0;k<p;k++)P[_+k]=o[Y+k];_+=h,Y+=p}return B}}function jm(i,o){for(var n=function(s){var l=i.getActiveUniformBlockName(o,s);bt(l);var u={index:i.getUniformBlockIndex(o,l),usedByVertexShader:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),used:!1,uniforms:{},name:l,id:""};u.used=u.usedByVertexShader||u.usedByFragmentShader,e[s]=u;for(var h=u.uniformIndices,m=[],v=0;v<h.length;v++){var p=i.getActiveUniform(o,h[v]).name.replace("[0]","");u.uniforms[p]=[0,0,0,0,0,0,0,v,0],m[v]=p,t.push(p)}[i.UNIFORM_TYPE,i.UNIFORM_OFFSET,i.UNIFORM_SIZE,i.UNIFORM_BLOCK_INDEX,i.UNIFORM_ARRAY_STRIDE,i.UNIFORM_MATRIX_STRIDE,i.UNIFORM_IS_ROW_MAJOR].forEach(function(D,_){i.getActiveUniforms(o,h,D).forEach(function(Y,k){var W=m[k];u.uniforms[W][_]=+Y})});for(var b=0;b<m.length;b++){var x=u.uniforms[m[b]],P=u.uniforms[m[b+1]],B=P?P[1]:u.size;x[8]=B-x[1]}u.id=Hm(u)+""},e=[],t=[],r=i.getProgramParameter(o,i.ACTIVE_UNIFORM_BLOCKS),a=0;a<r;++a)n(a);return{blockSpecs:e,blockUniformNames:t}}function Hm(i){var o=i.name,n=i.size,e=i.uniforms,t=i.uniformIndices;return Object.keys(e).map(function(r){return r+"["+e[r].join(":")+"]"}).join("+"),vd(""+o+"+",""+n+"+",""+t.length+"+")}var Gm=function(){function i(n,e,t){var r=this;this.engine=n,this.program=e,this.id=t,this.uniformBlockMap={},this.pipelineContext=n.getGLPipelineContext();var a=this.pipelineContext.gl;if(this.pipelineContext.useProgram(e),this.attribInfoMap=this.createAttribMap(),Sr(a)){var s=jm(a,e).blockSpecs;s.forEach(function(l){return r.uniformBlockMap[l.name]=l})}this.pipelineContext.useProgram(null)}var o=i.prototype;return o.bind=function(){this.pipelineContext.useProgram(this.program)},o.setupAttributes=function(e){var t=this,r,a=this.id,s=this.pipelineContext.gl,l;return e.vaos[a]?l=e.vaos[a]:(l=new od(this.engine,e.name+"-"+a),l||console.error("Failed to create VAO object."),e.vaos[a]=l),l&&l.vao&&(l.bind(),l.ready)||(Object.keys(this.attribInfoMap).forEach(function(u){var h=t.attribInfoMap[u],m=e.attributes[u];if(m){var v=e.buffers[m.dataSource];if(!v)throw new Error("Failed to find a buffer named '"+(m.dataSource||u)+"'. Please ensure the buffer is correctly initialized and bound.");v.bind(),s.enableVertexAttribArray(h.loc),s.vertexAttribPointer(h.loc,m.size,m.type,m.normalize,m.stride||0,m.offset||0)}}),(r=e.indicesBuffer)==null||r.bind(),l&&(l.ready=!0)),l},o.createAttribMap=function(){for(var e=this.pipelineContext.gl,t=this.program,r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var l=e.getActiveAttrib(t,s);if(l){var u=l.name,h=l.type,m=l.size,v=e.getAttribLocation(t,u);r[u]={type:h,name:u,size:m,loc:v}}}return r},o.dispose=function(){this.pipelineContext&&(this.pipelineContext.gl.deleteProgram(this.program),this.pipelineContext=null)},i}(),Wm=function(i){be(o,i);function o(e,t){var r;return r=i.call(this,e,t)||this,r.initialized=!1,r.uniformLocations={},r.samplerChannels={},r}var n=o.prototype;return n.initialize=function(){if(!this.initialized){var t=this.engine.getGLPipelineContext();t.shaderLibrary.compileShader(this)}},n.setFloat=function(t,r){this.pipelineContext.setFloat(this.uniformLocations[t],r)},n.setInt=function(t,r){this.pipelineContext.setInt(this.uniformLocations[t],r)},n.setFloats=function(t,r){this.pipelineContext.setFloats(this.uniformLocations[t],r)},n.setTexture=function(t,r){this.pipelineContext.setTexture(this.uniformLocations[t],this.samplerChannels[t],r)},n.setVector2=function(t,r){this.pipelineContext.setVector2(this.uniformLocations[t],r)},n.setVector3=function(t,r){this.pipelineContext.setVector3(this.uniformLocations[t],r)},n.setVector4=function(t,r){this.pipelineContext.setVector4(this.uniformLocations[t],r)},n.setColor=function(t,r){this.pipelineContext.setColor(this.uniformLocations[t],r)},n.setQuaternion=function(t,r){this.pipelineContext.setQuaternion(this.uniformLocations[t],r)},n.setMatrix=function(t,r){this.pipelineContext.setMatrix(this.uniformLocations[t],r)},n.setMatrix3=function(t,r){this.pipelineContext.setMatrix3(this.uniformLocations[t],r)},n.setVector4Array=function(t,r){this.pipelineContext.setVector4Array(this.uniformLocations[t],r)},n.setMatrixArray=function(t,r){this.pipelineContext.setMatrixArray(this.uniformLocations[t],r)},n.fillShaderInformation=function(t,r){var a=r.slice();t=t.concat(a);for(var s=this.pipelineContext.getUniforms(this.program.program,t),l=0;l<t.length;l++)this.uniformLocations[t[l]]=s[l];var u;for(u=0;u<a.length;u++){var h=this.uniformLocations[a[u]];h==null&&(a.splice(u,1),u--)}for(u=0;u<a.length;u++){var m=a[u];this.samplerChannels[m]=u}},n.toData=function(){var t=this.taggedProperties;t.dataType=Pt.Shader,t.id=this.guid,t.vertex=this.source.vertex,t.fragment=this.source.fragment},n.dispose=function(){var t;this.compileResult&&this.compileResult.shared||(t=this.program)==null||t.dispose()},o}(Ko),Zm=0,Xm=function(){function i(n,e){this.engine=n,this.pipelineContext=e,this.shaderResults={},this.programMap={},this.glVertShaderMap=new Map,this.glFragShaderMap=new Map,this.shaderAllDone=!1,this.cachedShaders={},this.glAsyncCompileExt=n.gpuCapability.glAsyncCompileExt}var o=i.prototype;return o.compileAllShaders=function(e){var t=this;if(this.shaderAllDone)e&&e([]);else{for(var r=[],a=ke(Object.keys(this.cachedShaders)),s;!(s=a()).done;){var l=s.value;this.cachedShaders[l].initialized||r.push(l)}e?r.length?Promise.all(r.map(function(u){return new Promise(function(h){return t.compileShader(t.cachedShaders[u],h)})})).then(e).catch(function(){return 0}):e([]):r.map(function(u){return t.compileShader(t.cachedShaders[u])}),this.shaderAllDone=!0}},o.addShader=function(e,t){var r=[];if(e.macros){var a;(a=r).push.apply(a,[].concat(e.macros))}if(t){var s;(s=r).push.apply(s,[].concat(t))}var l=A({},e,{vertex:Ei.genFinalShaderCode({level:this.engine.gpuCapability.level,shaderType:fo.vertex,shader:e.vertex,macros:r}),fragment:Ei.genFinalShaderCode({level:this.engine.gpuCapability.level,shaderType:fo.fragment,shader:e.fragment,macros:r})}),u=this.computeShaderCacheId(l);if(this.cachedShaders[u])return u;this.shaderAllDone=!1;var h=!1;return(l.shared||l.cacheId)&&(h=!0),this.cachedShaders[u]=new Wm(this.engine,A({},l,{vertex:l.vertex,fragment:l.fragment,name:l.name||u,shared:h})),this.cachedShaders[u].id=u,u},o.createShader=function(e,t){var r=this.addShader(e,t);return this.cachedShaders[r]},o.compileShader=function(e,t){var r=this,a=e.source,s=a.shared,l=a.vertex,u=a.fragment,h=a.name,m=e.source.cacheId,v=!1;(s||m)&&(v=!0);var p=this.pipelineContext.gl,b={shared:v,status:La.compiling},x=this.createProgram(p,l,u,b),P=this.glAsyncCompileExt,B=performance.now(),D=function(Y){b.status=La.success,b.compileTime=performance.now()-B,e.program=Y,e.initialized=!0,e.pipelineContext=r.pipelineContext,r.programMap[e.id]!==void 0&&console.warn("Find duplicated shader id: "+e.id+"."),r.programMap[e.id]=Y},_=function(){if(r.engine.isDestroyed)return console.warn("The player is destroyed during the loadScene process. Please check the timing of calling loadScene and dispose. A common situation is that when calling loadScene, await is not added. This will cause dispose to be called before loadScene is completed."),t==null?void 0:t(b);if(e.initialized)return t==null?void 0:t(b);var Y=!t||!P||P&&p.getProgramParameter(b.program,P.COMPLETION_STATUS_KHR)==!0,k=Y&&x();if(k){if(b.status!==La.fail){wu(k,h);var W=new Gm(r.engine,k,e.id);p.validateProgram(k);var te=p.getProgramParameter(k,p.VALIDATE_STATUS);if(te)D(W);else{var ae=p.getProgramInfoLog(k),se="the same texture";ae!=null&&ae.includes(se)?D(W):(b.status=La.fail,b.error=ae,console.error("compileProgramError: "+ae,`
vertex:
`,l,`
fragment:
`,u),p.deleteProgram(k))}}t==null||t(b)}else t&&requestAnimationFrame(_)};e.compileResult=b,_()},o.computeShaderCacheId=function(e){var t=e.vertex,r=t===void 0?"":t,a=e.fragment,s=a===void 0?"":a,l=e.shared,u=e.cacheId,h;return l||u?h=u||"shared_"+Ym(r,s):h="instanced_"+Zm++,h},o.createProgram=function(e,t,r,a){var s=e.createProgram(),l=this.createGLShader(e,e.VERTEX_SHADER,t),u=this.createGLShader(e,e.FRAGMENT_SHADER,r);return s&&l&&u?(e.attachShader(s,l),e.attachShader(s,u),e.linkProgram(s),a.program=s,a.status=La.compiling,function(){a.program=void 0;var h=e.getProgramParameter(s,e.LINK_STATUS);if(!h){var m=e.getProgramInfoLog(s);console.error("Failed to link program: "+m+".");var v=bd(e,l,"vertex",t),p=bd(e,u,"fragment",r);return a.status=La.fail,v&&(a.error=v.error,a.status=v.status),p&&(a.error=p.error,a.status=p.status),s}return s}):(a.status=La.fail,function(){return null})},o.createGLShader=function(e,t,r){var a=t===e.VERTEX_SHADER?this.glVertShaderMap:this.glFragShaderMap,s=vd(r!=null?r:""),l=a.get(s);if(l)return l;var u=e.createShader(t);return u&&(e.shaderSource(u,r),e.compileShader(u),a.set(s,u)),u},o.deleteShader=function(e){var t=this.programMap[e];t!==void 0&&(t.dispose(),delete this.programMap[e]);var r=this.shaderResults[e];r!==void 0&&delete this.shaderResults[e]},o.restore=function(){},o.dispose=function(){var e=this;if(Object.keys(this.programMap).forEach(function(r){var a=e.programMap[r];a.dispose()}),this.programMap={},this.pipelineContext){var t=this.pipelineContext.gl;this.glFragShaderMap.forEach(function(r){t.deleteShader(r)}),this.glVertShaderMap.forEach(function(r){t.deleteShader(r)}),this.glVertShaderMap=new Map,this.glFragShaderMap=new Map}},i}();function bd(i,o,n,e){if(!i.getShaderParameter(o,i.COMPILE_STATUS)){var t=i.getShaderInfoLog(o);return console.error("compile "+n+" error: "+t,(e!=null?e:"").split(`
`).map(function(r,a){return a+1+" "+r}).join(`
`)),{error:t,status:La.fail}}}function Ym(){for(var i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];for(var e=0,t=0;t<arguments.length;t++)for(var r=o[t],a=0;a<r.length;a++)e=Math.imul(31,e)+r.charCodeAt(a)|0;return e}var xd=function(){function i(n,e){this.engine=n,this.gl=e,this.gl=e,this.shaderLibrary=new Xm(n,this),this.maxTextureCount=this.gl.TEXTURE0+this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS)-1,this.reset()}var o=i.prototype;return o.dispose=function(){this.shaderLibrary.dispose(),this.reset()},o.reset=function(){this.glCapabilityCache={},this.activeTextureIndex=F.TEXTURE0,this.textureUnitDict={},this.currentFramebuffer={},this.pixelStorei={},this.currentRenderbuffer={}},o.toggle=function(e,t){t?this.enable(e):this.disable(e)},o.enable=function(e){var t=this.glCapabilityCache[e];t!==!0&&(this.glCapabilityCache[e]=!0,this.gl.enable(e))},o.disable=function(e){var t=this.glCapabilityCache[e];t!==!1&&(this.glCapabilityCache[e]=!1,this.gl.disable(e))},o.bindFramebuffer=function(e,t){this.currentFramebuffer[e]!==t&&(this.currentFramebuffer[e]=t,this.gl.bindFramebuffer(e,t))},o.bindRenderbuffer=function(e,t){this.currentRenderbuffer[e]!==t&&(this.currentRenderbuffer[e]=t,this.gl.bindRenderbuffer(e,t))},o.bindSystemFramebuffer=function(){this.bindFramebuffer(this.gl.FRAMEBUFFER,null)},o.useProgram=function(e){this.set1("useProgram",e)},o.clear=function(e){this.gl.clear(e)},o.clearDepth=function(e){this.set1("clearDepth",e)},o.depthFunc=function(e){this.set1("depthFunc",e)},o.depthMask=function(e){this.set1("depthMask",e)},o.polygonOffset=function(e,t){this.set2("polygonOffset",e,t)},o.depthRange=function(e,t){this.set2("depthRange",e,t)},o.clearStencil=function(e){this.set1("clearStencil",e)},o.stencilMask=function(e){this.stencilMaskSeparate(this.gl.FRONT,e),this.stencilMaskSeparate(this.gl.BACK,e)},o.stencilFunc=function(e,t,r){this.stencilFuncSeparate(this.gl.FRONT,e,t,r),this.stencilFuncSeparate(this.gl.BACK,e,t,r)},o.stencilFuncSeparate=function(e,t,r,a){this.set4("stencilFuncSeparate",e,t,r,a)},o.stencilMaskSeparate=function(e,t){this.set2("stencilMaskSeparate",e,t)},o.stencilOp=function(e,t,r){this.stencilOpSeparate(this.gl.FRONT,e,t,r),this.stencilOpSeparate(this.gl.BACK,e,t,r)},o.stencilOpSeparate=function(e,t,r,a){this.set4("stencilOpSeparate",e,t,r,a)},o.cullFace=function(e){this.set1("cullFace",e)},o.frontFace=function(e){this.set1("frontFace",e)},o.clearColor=function(e,t,r,a){this.set4("clearColor",e,t,r,a)},o.colorMask=function(e,t,r,a){this.set4("colorMask",e,t,r,a)},o.blendColor=function(e,t,r,a){this.set4("blendColor",e,t,r,a)},o.blendFunc=function(e,t){this.blendFuncSeparate(e,t,e,t)},o.blendFuncSeparate=function(e,t,r,a){this.set4("blendFuncSeparate",e,t,r,a)},o.blendEquation=function(e){this.set1("blendEquation",e)},o.blendEquationSeparate=function(e,t){this.set2("blendEquationSeparate",e,t)},o.setPixelStorei=function(e,t){var r=this.pixelStorei[e];r!==t&&(this.pixelStorei[e]=t,this.gl.pixelStorei(e,t))},o.viewport=function(e,t,r,a){this.set4("viewport",e,t,r,a)},o.activeTexture=function(e){e=Math.min(e,this.maxTextureCount),this.activeTextureIndex!==e&&(this.activeTextureIndex=e,this.gl.activeTexture(e))},o.bindTexture=function(e,t,r){(this.currentTextureBinding!==t||r)&&(this.gl.bindTexture(e,t),this.currentTextureBinding=t),this.textureUnitDict[this.activeTextureIndex]=t},o.set1=function(e,t){var r=this.glCapabilityCache[e];r!==t&&(this.glCapabilityCache[e]=t,this.gl[e](t))},o.set2=function(e,t,r){var a=this.glCapabilityCache[e];a||(a=this.glCapabilityCache[e]={x:NaN,y:NaN}),(a.x!==t||a.y!==r)&&this.gl[e](a.x=t,a.y=r)},o.set3=function(e,t,r,a){var s=this.glCapabilityCache[e];s||(s=this.glCapabilityCache[e]={x:NaN,y:NaN,z:NaN}),(s.x!==t||s.y!==r||s.z!==a)&&this.gl[e](s.x=t,s.y=r,s.z=a)},o.set4=function(e,t,r,a,s){var l=this.glCapabilityCache[e];l||(l=this.glCapabilityCache[e]={x:NaN,y:NaN,z:NaN,w:NaN}),(l.x!==t||l.y!==r||l.z!==a||l.w!==s)&&this.gl[e](l.x=t,l.y=r,l.z=a,l.w=s)},o.get=function(e){return this.glCapabilityCache[e]},o.setFloat=function(e,t){e&&this.gl.uniform1f(e,t)},o.setInt=function(e,t){e&&this.gl.uniform1i(e,t)},o.setFloats=function(e,t){e&&this.gl.uniform1fv(e,t)},o.setVector2=function(e,t){this.setFloat2(e,t.x,t.y)},o.setVector3=function(e,t){this.setFloat3(e,t.x,t.y,t.z)},o.setVector4=function(e,t){this.setFloat4(e,t.x,t.y,t.z,t.w)},o.setColor=function(e,t){this.setFloat4(e,t.r,t.g,t.b,t.a)},o.setQuaternion=function(e,t){this.setFloat4(e,t.x,t.y,t.z,t.w)},o.setVector4Array=function(e,t){!e||t.length%4!==0||this.gl.uniform4fv(e,t)},o.setMatrix=function(e,t){e&&this.gl.uniformMatrix4fv(e,!1,t.elements)},o.setMatrix3=function(e,t){e&&this.gl.uniformMatrix3fv(e,!1,t.elements)},o.setMatrixArray=function(e,t){!e||t.length%16!==0||this.gl.uniformMatrix4fv(e,!1,t)},o.setTexture=function(e,t,r){if(e){this.gl.activeTexture(this.gl.TEXTURE0+t);var a=r.target;this.gl.bindTexture(a,r.textureBuffer),this.gl.uniform1i(e,t)}},o.getUniforms=function(e,t){for(var r=[],a=0;a<t.length;a++)r.push(this.gl.getUniformLocation(e,t[a]));return r},o.setFloat4=function(e,t,r,a,s){e&&this.gl.uniform4f(e,t,r,a,s)},o.setFloat3=function(e,t,r,a){e&&this.gl.uniform3f(e,t,r,a)},o.setFloat2=function(e,t,r){e&&this.gl.uniform2f(e,t,r)},i}(),Km=function(i){be(o,i);function o(e,t,r){var a;a=i.call(this)||this,a.canvas=e,a.temporaryRTs={};var s=A({preserveDrawingBuffer:void 0,alpha:!0,stencil:!0,antialias:!0,depth:!0,premultipliedAlpha:!0},r);a.context=new Nm(e,t,s);var l=a.context.gl;return bt(l),a.engine=new ph(l),a.engine.renderer=He(a),a.pipelineContext=new xd(a.engine,l),a.glRenderer=new ld(a.engine),a.extension=new md(He(a)),a.renderingData={currentFrame:{}},a.framebuffer=new gh({storeAction:{},viewport:[0,0,a.width,a.height],attachments:[new Hs(a.engine,{sourceType:G.framebuffer,data:{width:a.width,height:a.height}})],depthStencilAttachment:{storageType:Ci.none}},He(a)),a}var n=o.prototype;return n.renderRenderFrame=function(t){var r,a=t;a.resource&&a.resource.color_b.initialize(),a.emptyTexture.initialize(),a.transparentTexture.initialize();var s=a._renderPasses;if(this.isDestroyed){console.error("Renderer is destroyed, target: GLRenderer.");return}(r=a.renderer.getShaderLibrary())==null||r.compileAllShaders(),this.setFramebuffer(null),this.clear(a.clearAction);var l=a.camera;this.renderingData.currentFrame=a,this.renderingData.currentCamera=l,this.setGlobalMatrix("effects_MatrixInvV",l.getInverseViewMatrix()),this.setGlobalMatrix("effects_MatrixV",l.getViewMatrix()),this.setGlobalMatrix("effects_MatrixVP",l.getViewProjectionMatrix()),this.setGlobalMatrix("_MatrixP",l.getProjectionMatrix()),this.setGlobalVector3("effects_WorldSpaceCameraPos",l.position),fe(s);for(var u=ke(s),h;!(h=u()).done;){var m=h.value,v=m.delegate;v.willBeginRenderPass==null||v.willBeginRenderPass.call(v,m,this.renderingData),this.renderRenderPass(m),v.didEndRenderPass==null||v.didEndRenderPass.call(v,m,this.renderingData)}for(var p=ke(s),b;!(b=p()).done;){var x=b.value;x.frameCleanup(this)}},n.renderRenderPass=function(t){this.renderingData.currentPass=t,t.initialize(this),t.configure(this),t.execute(this)},n.renderMeshes=function(t){for(var r=this.renderingData.currentPass.delegate,a=ke(t),s;!(s=a()).done;){var l=s.value;r.willRenderMesh==null||r.willRenderMesh.call(r,l,this.renderingData),l.render(this),r.didRenderMesh==null||r.didRenderMesh.call(r,l,this.renderingData)}},n.setGlobalFloat=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.floats[t]=r},n.setGlobalVector4=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.vector4s[t]=r},n.getGlobalVector4=function(t){return this.renderingData.currentFrame.globalUniforms.vector4s[t]},n.setGlobalInt=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.ints[t]=r},n.setGlobalMatrix=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.matrices[t]=r},n.setGlobalVector3=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.vector3s[t]=r},n.drawGeometry=function(t,r,a){if(a===void 0&&(a=0),!(!t||!r)){r.initialize(),t.initialize(),t.flush();var s=this.renderingData;s.currentFrame.editorTransform&&r.setVector4("uEditorTransform",s.currentFrame.editorTransform);try{r.use(this,s.currentFrame.globalUniforms)}catch(l){console.error(l);return}this.glRenderer.drawGeometry(t,r,a)}},n.setFramebuffer=function(t){t?(this.framebuffer=t,this.framebuffer.bind(),this.setViewport(t.viewport[0],t.viewport[1],t.viewport[2],t.viewport[3])):(this.pipelineContext.bindSystemFramebuffer(),this.setViewport(0,0,this.getWidth(),this.getHeight()))},n.getFramebuffer=function(){return this.framebuffer},n.getTemporaryRT=function(t,r,a,s,l,u){if(this.temporaryRTs[t])return this.temporaryRTs[t];var h,m,v=Ci.none;l===bs.Linear?h=F.LINEAR:l===bs.Nearest&&(h=F.NEAREST),u===xs.RGBA32?m=F.UNSIGNED_BYTE:u===xs.RGBAHalf&&(m=F.HALF_FLOAT),s===0?v=Ci.none:s===16?v=Ci.depth_16_opaque:s===24&&(v=Ci.depth_24_stencil_8_texture);var p=new Hs(this.engine,{sourceType:G.framebuffer,minFilter:h,magFilter:h,internalFormat:F.RGBA,format:F.RGBA,type:m}),b=new gh({name:t,storeAction:{},viewport:[0,0,r,a],viewportScale:1,isCustomViewport:!0,attachments:[p],depthStencilAttachment:{storageType:v}},this);return this.temporaryRTs[t]=b,b},n.setViewport=function(t,r,a,s){this.pipelineContext.viewport(t,r,a,s)},n.clear=function(t){var r=this.pipelineContext,a=0;if(t.colorAction===Z.clear){var s=t.clearColor;s&&r.clearColor(s[0],s[1],s[2],s[3]),r.colorMask(!0,!0,!0,!0),a=F.COLOR_BUFFER_BIT}if(t.stencilAction===Z.clear&&(r.stencilMask(255),r.clearStencil(t.clearStencil||0),a=a|F.STENCIL_BUFFER_BIT),t.depthAction===Z.clear){var l=t.clearDepth;r.depthMask(!0),r.clearDepth(Number.isFinite(l)?l:1),a=a|F.DEPTH_BUFFER_BIT}a&&r.clear(a)},n.addLostHandler=function(t){this.context.addLostHandler(t)},n.addRestoreHandler=function(t){this.context.addRestoreHandler(t)},n.getShaderLibrary=function(){return this.pipelineContext.shaderLibrary},n.getWidth=function(){return this.width},n.getHeight=function(){return this.height},n.dispose=function(){var t;this.context.dispose(),this.extension.dispose(),this.pipelineContext.dispose(),(t=this.glRenderer)==null||t.dispose(),this.canvas=null,this.engine.dispose()},n.lost=function(t){t.preventDefault(),this.pipelineContext.dispose(),this.extension.dispose(),this.glRenderer.lost(t)},n.restore=function(){var t=this.context.gl;if(!t)throw new Error("Can not restore automatically because losing gl context.");this.engine=new ph(t),this.engine.renderer=this,this.pipelineContext=new xd(this.engine,t),this.glRenderer=new ld(this.engine),this.extension=new md(this)},n.resize=function(t,r){var a=this.glRenderer;a&&(this.width!==t||this.height!==r)&&a.resize(t,r)},n.checkGlobalUniform=function(t){var r=this.renderingData.currentFrame.globalUniforms;r.uniforms.includes(t)||r.uniforms.push(t)},br(o,[{key:"isDestroyed",get:function(){var t=this.glRenderer;return t?t.isDestroyed:!0}},{key:"height",get:function(){var t,r;return(r=(t=this.glRenderer)==null?void 0:t.height)!=null?r:0}},{key:"width",get:function(){var t,r;return(r=(t=this.glRenderer)==null?void 0:t.width)!=null?r:0}}]),o}(rs),hl={"Container size overflowed":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#MvjnY","DPI overflowed":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#ulfNT","Invalid container size":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#lLlSW","Container is not an HTMLElement":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#WZaWg","Never use destroyed player again":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#YSWQr","Current running player count":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#IzodZ","Create player with different WebGL version":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#X0ulg"};function Qm(){var i=/iPhone OS (\d+)_(\d+)/,o=i.exec(navigator.userAgent);return o?o[1]==="13"||o[1]==="16"&&o[2]==="5":!1}function Jm(i){throw new Error(i)}function qm(i){return Promise.reject(i)}var dl=new Map,Cd=!1,ev=1,tv=function(i){be(o,i);function o(e){var t;t=i.call(this)||this,t.builtinObjects=[],t.compositions=[],t.displayScale=1,t.resumePending=!1,t.disposed=!1,t.assetManagers=[],t.speed=1,t.baseCompositionIndex=0,t.lost=function(ae){var se;(se=t.ticker)==null||se.pause(),t.compositions.forEach(function(Qe){return Qe.lost(ae)}),t.renderer.lost(ae),t.emit("webglcontextlost",ae),xh(He(t),!1)};var r=He(t);t.restore=M(function(){var ae;return ee(this,function(se){switch(se.label){case 0:return r.renderer.restore(),[4,Promise.all(r.compositions.map(M(function(Qe){var Je,at,ut,At,Gt,Wt,Qt,er,Dt,Lr,cr,Mr;return ee(this,function(Gr){switch(Gr.label){case 0:return Je=Qe.time,at=Qe.url,ut=Qe.speed,At=Qe.keepResource,Gt=Qe.reusable,Wt=Qe.renderOrder,Qt=Qe.transform,er=Qe.videoState,[4,r.loadScene(at)];case 1:Dt=Gr.sent(),Dt.speed=ut,Dt.reusable=Gt,Dt.keepResource=At,Dt.renderOrder=Wt,Dt.transform.setPosition(Qt.position.x,Qt.position.y,Qt.position.z),Dt.transform.setRotation(Qt.rotation.x,Qt.rotation.y,Qt.rotation.z),Dt.transform.setScale(Qt.scale.x,Qt.scale.y,Qt.scale.z),Lr=0,Gr.label=2;case 2:return Lr<er.length?er[Lr]?(cr=Dt.textures[Lr].source.video,cr.currentTime=(Mr=er[Lr])!=null?Mr:0,[4,cr.play()]):[3,4]:[3,5];case 3:Gr.sent(),Gr.label=4;case 4:return Lr++,[3,2];case 5:return Dt.isEnded=!1,Dt.gotoAndPlay(Je),[2,Dt]}})})))];case 1:return r.compositions=se.sent(),r.emit("webglcontextrestored"),(ae=r.ticker)==null||ae.resume(),dt()&&r.canvas&&(r.canvas.style.display="none",window.setTimeout(function(){r.canvas.style.display=""},0)),[2]}})}),t.handleResume=function(){t.emit("update",{player:He(t),playing:!0})},t.handleClick=function(ae){var se=ae.x,Qe=ae.y;t.compositions.forEach(function(Je){var at=Je.hitTest(se,Qe);if(at.length)for(var ut=0;ut<at.length;ut++){var At=at[ut].behavior||hn.NOTIFY;At===hn.NOTIFY?(t.emit("click",A({},at[ut],{compositionId:Je.id,compositionName:Je.name,player:He(t)})),Je.emit("click",A({},at[ut],{compositionId:Je.id,compositionName:Je.name}))):At===hn.RESUME_PLAYER&&t.resume()}})};var a=e.container,s=e.canvas,l=e.fps,u=e.name,h=e.pixelRatio,m=e.manualRender,v=e.reportGPUTime,p=e.renderFramework,b=e.notifyTouch,x=e.interactive,P=x===void 0?!1:x,B=e.renderOptions,D=B===void 0?{}:B,_=e.env,Y=_===void 0?"":_,k=D.willCaptureImage,W=D.premultipliedAlpha;if(Eo.length)throw new Error("Errors before player create: "+Eo.map(function(ae,se){return`
 `+(se+1)+": "+ae})+".");if(Cd||p==="debug-disable")return _h(t);var te=oe()||Qm()?"webgl":"webgl2";return p&&(te=p==="webgl"?"webgl":"webgl2"),t.reportGPUTime=v,t.pixelRatio=Number.isFinite(h)?h:tr(),t.offscreenMode=!0,t.env=Y,t.name=u||""+ev++,s?t.canvas=s:(Ed(a),t.canvas=document.createElement("canvas"),a.appendChild(t.canvas)),t.container=t.canvas.parentElement,t.renderer=rs.create(t.canvas,te,{preserveDrawingBuffer:k,premultipliedAlpha:W}),t.renderer.env=Y,t.renderer.addLostHandler({lost:t.lost}),t.renderer.addRestoreHandler({restore:t.restore}),t.gpuCapability=t.renderer.engine.gpuCapability,t.builtinObjects.push(xi(t.renderer.engine)),dl.forEach(function(ae){ae.gpuCapability.type!==t.gpuCapability.type&&$e.warn("Create player with different WebGL version: old="+ae.gpuCapability.type+", new="+t.gpuCapability.type+`.
see `+hl["Create player with different WebGL version"]+".")}),m||(t.ticker=new Em(l),t.ticker.add(t.tick.bind(He(t)))),t.event=new Zu(t.canvas,!!b),t.event.bindListeners(),t.event.addEventListener(eu,t.handleClick),t.interactive=P,t.resize(),rl(t.gpuCapability.detail),dl.set(t.canvas,He(t)),rv(),xh(He(t),!0),t}var n=o.prototype;return n.setSpeed=function(t){isNaN(t)||(this.speed=t)},n.getSpeed=function(){return this.speed},n.getCompositionByName=function(t){return this.compositions.find(function(r){return r.name===t})},n.getCompositions=function(){return this.compositions},n.getAssetManager=function(){return this.assetManagers},n.loadScene=function(t,r){var a=this;return M(function(){var s,l,u;return ee(this,function(h){switch(h.label){case 0:return u=a.baseCompositionIndex,zr(t)?(a.baseCompositionIndex+=t.length,[4,Promise.all(t.map(M(function(m,v){var p;return ee(this,function(b){switch(b.label){case 0:return[4,a.createComposition(m,r)];case 1:return p=b.sent(),p.setIndex(u+v),[2,p]}})})))]):[3,2];case 1:return l=h.sent(),[3,4];case 2:return a.baseCompositionIndex+=1,[4,a.createComposition(t,r)];case 3:l=h.sent(),l.setIndex(u),h.label=4;case 4:return(s=a.ticker)==null||s.start(),[2,l]}})})()},n.createComposition=function(t,r){r===void 0&&(r={});var a=this;return M(function(){var s,l,u,h,m,v,p,b,x,P,B,D,_,Y,k,W,te,ae,se,Qe,Je,at,ut;return ee(this,function(At){switch(At.label){case 0:return u=a.renderer,h=u.engine,m=(l=h.gpuCapability)==null||(s=l.detail)==null?void 0:s.asyncShaderCompile,v=performance.now(),p=A({autoplay:!0},r),b=t,Bl.isURL(t)&&(Bl.isJSONObject(t)||(b=t.url),Bl.isWithOptions(t)&&(p=A({},p,t.options))),x=new Wh(p),h.clearResources(),a.assetManagers.push(x),[4,x.loadScene(b,a.renderer,{env:a.env})];case 1:for(P=At.sent(),h.addPackageDatas(P),B=ke(a.builtinObjects);!(D=B()).done;)_=D.value,h.addInstance(_);if(a.updateTextVariables(P,p.variables),a.disposed)throw new Error("Disposed player can not used to create Composition.");for(Y=0;Y<P.textureOptions.length;Y++)k=P.textureOptions[Y],U(k,Nr)?h.addInstance(k):(k=h.assetLoader.loadGUID(P.textureOptions[Y].id),P.textureOptions[Y]=k),k.initialize();return h.database?[4,h.createVFXItems(P)]:[3,3];case 2:At.sent(),At.label=3;case 3:if(W=new bm(A({},p,{renderer:u,width:u.getWidth(),height:u.getHeight(),event:a.event,handleItemMessage:function(Gt){a.emit("message",Gt)}}),P),a.ticker&&p.renderLevel===jt.B&&a.ticker.setFPS(Math.min(a.ticker.getFPS(),30)),a.env!==bo)for(te=ke(Object.keys(a.renderer.engine.objectInstance));!(ae=te()).done;)se=ae.value,Qe=a.renderer.engine.objectInstance[se],U(Qe,Bi)&&Qe.createShaderVariant();return Je=performance.now(),[4,new Promise(function(Gt){var Wt;(Wt=a.renderer.getShaderLibrary())==null||Wt.compileAllShaders(function(){Gt(null)})})];case 4:return At.sent(),p.autoplay?(a.autoPlaying=!0,W.play()):W.pause(),at=performance.now()-Je,ut=performance.now()-v,W.statistic.compileTime=at,W.statistic.firstFrameTime=ut,$e.info("Shader "+(m?"async":"sync")+" compile ["+W.name+"]: "+at.toFixed(4)+"ms."),$e.info("First frame ["+W.name+"]: "+ut.toFixed(4)+"ms."),a.compositions.push(W),[2,W]}})})()},n.updateTextVariables=function(t,r){r===void 0&&(r={});var a=this.renderer,s=a.engine;t.jsonScene.items.forEach(function(l){if(l.type===Ue.text||l.type===Ue.richtext){var u=r[l.name];if(!u)return;l.components.forEach(function(h){var m=h.id,v=s.findEffectsObjectData(m);((v==null?void 0:v.dataType)===Pt.TextComponent||(v==null?void 0:v.dataType)===Pt.RichTextComponent)&&(v.options.text=u)})}})},n.play=function(){var t;this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!0,this.compositions.map(function(r){r.play()}),(t=this.ticker)==null||t.start()},n.gotoAndPlay=function(t){this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!0,this.compositions.map(function(r){r.gotoAndPlay(t)}),this.ticker?this.ticker.start():this.doTick(0,!0)},n.gotoAndStop=function(t){var r;this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!1,this.compositions.map(function(a){a.gotoAndStop(t)}),(!this.ticker||(r=this.ticker)!=null&&r.getPaused())&&this.doTick(0,!0),this.emit("update",{player:this,playing:!1})},n.playSequence=function(t){for(var r=function(l){t[l].on("end",function(){t[l+1].play()})},a,s=0;s<t.length-1;s++)r(s);t[0].play(),(a=this.ticker)==null||a.start()},n.pause=function(t){var r;this.paused||((r=this.ticker)==null||r.pause(),this.emit("pause"),this.emit("update",{player:this,playing:!1}),t&&t.offloadTexture&&this.offloadTexture())},n.resume=function(){var t=this;return M(function(){var r;return ee(this,function(a){switch(a.label){case 0:return t.resumePending?[2]:t.paused?(t.resumePending=!0,[4,Promise.all(t.compositions.map(function(s){return s.reloadTexture()}))]):[3,2];case 1:a.sent(),t.resumePending=!1,t.handleResume(),a.label=2;case 2:return(r=t.ticker)==null||r.resume(),[2]}})})()},n.tick=function(t){this.doTick(t,this.forceRenderNextFrame),this.forceRenderNextFrame=!1},n.doTick=function(t,r){var a=this,s=this.renderer.engine.renderErrors;if(s.size>0){var l;this.emit("rendererror",s.values().next().value),(l=this.ticker)==null||l.pause()}t=Math.min(t,33)*this.speed;var u=this.compositions,h=!1;u.sort(function(_,Y){return _.getIndex()-Y.getIndex()});for(var m=[],v=0;v<u.length;v++){var p=u[v];if(p.textureOffloaded){h=!0,$e.error("Composition "+p.name+" texture offloaded, skip render."),m.push(p);continue}!p.isDestroyed&&p.renderer&&p.update(t),p.isDestroyed||m.push(p)}if(this.compositions=m,this.baseCompositionIndex=this.compositions.length,h){var b;return this.emit("rendererror",new Error("Play when texture offloaded.")),(b=this.ticker)==null?void 0:b.pause()}if(!this.paused||r){var x=this.gpuCapability.level,P=this.renderer.context.gl,B=x===2&&this.reportGPUTime?cs(P):void 0;if(B==null||B.begin(),this.compositions.length||this.compositions.length<u.length||r){this.renderer.setFramebuffer(null),this.renderer.clear({stencilAction:Z.clear,clearStencil:0,depthAction:Z.clear,clearDepth:1,colorAction:Z.clear,clearColor:[0,0,0,0]});for(var D=0;D<u.length;D++)!u[D].renderFrame.isDestroyed&&this.renderer.renderRenderFrame(u[D].renderFrame)}B==null||B.end(),B==null||B.getTime().then(function(_){return a.reportGPUTime==null?void 0:a.reportGPUTime.call(a,_!=null?_:0)}).catch,this.autoPlaying&&this.emit("update",{player:this,playing:!0})}},n.resizeToAspect=function(t,r){r===void 0&&(r=1),t!==this.displayAspect&&(this.displayAspect=t),r!==this.displayScale&&(this.displayScale=r),this.resize()},n.resize=function(){var t=this.canvas.parentElement,r,a,s,l;if(t){var u=this.getTargetSize(t);r=u[0],a=u[1],s=u[2],l=u[3]}else r=s=this.canvas.width,a=l=this.canvas.height;var h=r/a;if(r&&a){var m,v=document.documentElement.clientWidth;s>v*2&&$e.error("DPI overflowed, width "+s+" is more than 2x document width "+v+", see "+hl["DPI overflowed"]+".");var p=this.env?this.gpuCapability.detail.maxTextureSize:2048;(s>p||l>p)&&($e.error("Container size overflowed "+s+"x"+l+", see "+hl["Container size overflowed"]+"."),h>1?(s=Math.round(p),l=Math.round(p/h)):(l=Math.round(p),s=Math.round(p*h))),this.renderer.resize(s,l),this.canvas.style.width=r+"px",this.canvas.style.height=a+"px",$e.info("Resize player "+this.name+" ["+s+","+l+","+r+","+a+"]."),(m=this.compositions)==null||m.forEach(function(b){b.camera.aspect=h})}},n.clearCanvas=function(t){t?this.renderer.clear({stencilAction:Z.clear,clearStencil:0,depthAction:Z.clear,clearDepth:1,colorAction:Z.clear,clearColor:[0,0,0,0]}):this.forceRenderNextFrame=!0},n.destroyCurrentCompositions=function(){this.compositions.forEach(function(t){return t.dispose()}),this.compositions.length=0,this.baseCompositionIndex=0},n.dispose=function(t){var r;if($e.info("Call player destroyed: "+this.name+"."),!this.disposed){dl.delete(this.canvas),this.pause(),(r=this.ticker)==null||r.stop(),this.assetManagers.forEach(function(u){return u.dispose()}),this.compositions.forEach(function(u){return u.dispose()}),this.compositions.length=0,this.renderer&&(this.renderer.context.removeLostHandler({lost:this.lost}),this.renderer.context.removeRestoreHandler({restore:this.restore}),this.renderer.dispose(!t)),this.event&&this.event.dispose(),this.destroyBuiltinObjects(),xh(this,!1),U(this.canvas,HTMLCanvasElement)&&!t&&this.renderer.context&&($c.dispose(),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas.remove());var a=nv(this.name),s=function(){return Jm(a)},l=function(){return qm(a)};this.tick=s,this.resize=s,this.loadScene=l,this.play=l,this.gotoAndPlay=l,this.gotoAndStop=l,this.playSequence=s,this.destroyCurrentCompositions=s,this.resume=l,this.disposed=!0}},n.offloadTexture=function(){this.compositions.forEach(function(t){return t.offloadTexture()})},n.getTargetSize=function(t){Ed(t);var r=this.displayAspect,a=window.getComputedStyle==null?void 0:window.getComputedStyle.call(window,t),s,l,u=0,h=0;if(a?(u=parseInt(a.width,10),h=parseInt(a.height,10)):(u=t.clientWidth,h=t.clientHeight),r){var m=u/h;m>r?(l=h*this.displayScale,s=l*r):(s=u*this.displayScale,l=s/r)}else s=u,l=h;var v=this.pixelRatio,p=s,b=l;if(s=Math.round(s*v),l=Math.round(l*v),l<1||l<1)if(this.offscreenMode)s=l=p=b=1;else throw new Error("Invalid container size "+s+"x"+l+", see "+hl["Invalid container size"]+".");return[p,b,s,l]},n.destroyBuiltinObjects=function(){for(var t=ke(this.builtinObjects),r;!(r=t()).done;){var a=r.value;a.dispose()}this.builtinObjects.length=0},br(o,[{key:"compositionCount",get:function(){return this.compositions.length}},{key:"hasPlayable",get:function(){return this.compositions.length>0}},{key:"paused",get:function(){var t;return(t=this.ticker)==null?void 0:t.getPaused()}},{key:"interactive",get:function(){return this.event.enabled},set:function(t){this.event.enabled=t}}]),o}(nu);function cv(i){Cd=!!i}function fv(i){return dl.has(i)}function hv(i){return dl.get(i)}function dv(){return Array.from(dl.values())}function xh(i,o){Object.keys(J).forEach(function(n){var e=J[n],t=o?e.onPlayerCreated:e.onPlayerDestroy;t==null||t(i)})}function rv(){for(var i=[],o=ke(dl.values()),n;!(n=o()).done;){var e=n.value;e.paused||i.push(e)}i.length>1&&$e.error("Current running player count: "+i.length+", see "+hl["Current running player count"]+".",i)}function Ed(i){if(i==null)throw new Error("Container is not an HTMLElement, see "+hl["Container is not an HTMLElement"]+".")}function nv(i){return"Never use destroyed player: "+i+" again, see "+hl["Never use destroyed player again"]+"."}Nr.create=function(i,o){return new Hs(i,o)},Nr.createWithData=function(i,o,n){o===void 0&&(o=Ye("#fff")),n===void 0&&(n={});var e=n.type,t=e===void 0?F.UNSIGNED_BYTE:e,r=n.format,a=r===void 0?F.RGBA:r,s=n.internalFormat,l=n.wrapS,u=l===void 0?F.MIRRORED_REPEAT:l,h=n.wrapT,m=h===void 0?F.MIRRORED_REPEAT:h,v=n.minFilter,p=v===void 0?F.NEAREST:v,b=n.magFilter,x=b===void 0?F.NEAREST:b,P=n.flipY,B=P===void 0?!1:P,D=new Hs(i,{data:o,type:t,sourceType:G.data,format:a,internalFormat:s||a,wrapS:u,wrapT:m,minFilter:p,magFilter:x,flipY:B});return D},Bi.create=function(i,o){return new dd(i,o)},Cn.create=function(i,o){return new cd(i,o)},Mi.create=function(i,o){return new Mi(i,o)},vl.create=function(i){return new fl(i)},As.create=function(i,o){return new gh(i,o)},rs.create=function(i,o,n){return new Km(i,o,n)},ad.create=function(i){return new ph(i)};var iv="2.2.2";$e.info("Player version: "+iv+".")},49068:function(Zt,Oe,T){"use strict";T.d(Oe,{E:function(){return Ph}});function y(c){if(typeof Proxy=="undefined")return c;const f=new Map,d=(...g)=>c(...g);return new Proxy(d,{get:(g,C)=>C==="create"?c:(f.has(C)||f.set(C,c(C)),f.get(C))})}function M(c){return c!==null&&typeof c=="object"&&typeof c.start=="function"}const U=c=>Array.isArray(c);function xe(c,f){if(!Array.isArray(f))return!1;const d=f.length;if(d!==c.length)return!1;for(let g=0;g<d;g++)if(f[g]!==c[g])return!1;return!0}function re(c){return typeof c=="string"||Array.isArray(c)}function ee(c){const f=[{},{}];return c==null||c.values.forEach((d,g)=>{f[0][g]=d.get(),f[1][g]=d.getVelocity()}),f}function w(c,f,d,g){if(typeof f=="function"){const[C,I]=ee(g);f=f(d!==void 0?d:c.custom,C,I)}if(typeof f=="string"&&(f=c.variants&&c.variants[f]),typeof f=="function"){const[C,I]=ee(g);f=f(d!==void 0?d:c.custom,C,I)}return f}function ie(c,f,d){const g=c.getProps();return w(g,f,d!==void 0?d:g.custom,c)}const K=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X=["initial",...K];function he(c){let f;return()=>(f===void 0&&(f=c()),f)}const Ce=he(()=>window.ScrollTimeline!==void 0);class me{constructor(f){this.stop=()=>this.runAll("stop"),this.animations=f.filter(Boolean)}get finished(){return Promise.all(this.animations.map(f=>"finished"in f?f.finished:f))}getAll(f){return this.animations[0][f]}setAll(f,d){for(let g=0;g<this.animations.length;g++)this.animations[g][f]=d}attachTimeline(f,d){const g=this.animations.map(C=>{if(Ce()&&C.attachTimeline)return C.attachTimeline(f);if(typeof d=="function")return d(C)});return()=>{g.forEach((C,I)=>{C&&C(),this.animations[I].stop()})}}get time(){return this.getAll("time")}set time(f){this.setAll("time",f)}get speed(){return this.getAll("speed")}set speed(f){this.setAll("speed",f)}get startTime(){return this.getAll("startTime")}get duration(){let f=0;for(let d=0;d<this.animations.length;d++)f=Math.max(f,this.animations[d].duration);return f}runAll(f){this.animations.forEach(d=>d[f]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ge extends me{then(f,d){return Promise.all(this.animations).then(f).catch(d)}}function St(c,f){return c?c[f]||c.default||c:void 0}const rt=2e4;function de(c){let f=0;const d=50;let g=c.next(f);for(;!g.done&&f<rt;)f+=d,g=c.next(f);return f>=rt?1/0:f}function Ve(c){return typeof c=="function"}function Be(c,f){c.timeline=f,c.onfinish=null}const tt=c=>Array.isArray(c)&&typeof c[0]=="number",et={linearEasing:void 0};function Xe(c,f){const d=he(c);return()=>{var g;return(g=et[f])!==null&&g!==void 0?g:d()}}const ze=Xe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(c){return!1}return!0},"linearEasing"),It=(c,f,d)=>{const g=f-c;return g===0?1:(d-c)/g},tr=(c,f,d=10)=>{let g="";const C=Math.max(Math.round(f/d),2);for(let I=0;I<C;I++)g+=c(It(0,C-1,I))+", ";return`linear(${g.substring(0,g.length-2)})`};function dt(c){return!!(typeof c=="function"&&ze()||!c||typeof c=="string"&&(c in oe||ze())||tt(c)||Array.isArray(c)&&c.every(dt))}const ve=([c,f,d,g])=>`cubic-bezier(${c}, ${f}, ${d}, ${g})`,oe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ve([0,.65,.55,1]),circOut:ve([.55,0,1,.45]),backIn:ve([.31,.01,.66,-.59]),backOut:ve([.33,1.53,.69,.99])};function pt(c,f){if(c)return typeof c=="function"&&ze()?tr(c,f):tt(c)?ve(c):Array.isArray(c)?c.map(d=>pt(d,f)||oe.easeOut):oe[c]}const Ie={x:!1,y:!1};function Lt(){return Ie.x||Ie.y}function Ft(c,f,d){var g;if(c instanceof Element)return[c];if(typeof c=="string"){let C=document;f&&(C=f.current);const I=(g=d==null?void 0:d[c])!==null&&g!==void 0?g:C.querySelectorAll(c);return I?Array.from(I):[]}return Array.from(c)}function Ye(c,f){const d=Ft(c),g=new AbortController,C=mi(ar({passive:!0},f),{signal:g.signal});return[d,C,()=>g.abort()]}function _e(c){return!(c.pointerType==="touch"||Lt())}function q(c,f,d={}){const[g,C,I]=Ye(c,d),O=L=>{if(!_e(L))return;const{target:N}=L,j=f(N,L);if(typeof j!="function"||!N)return;const Q=pe=>{_e(pe)&&(j(pe),N.removeEventListener("pointerleave",Q))};N.addEventListener("pointerleave",Q,C)};return g.forEach(L=>{L.addEventListener("pointerenter",O,C)}),I}const fe=(c,f)=>f?c===f?!0:fe(c,f.parentElement):!1,Se=c=>c.pointerType==="mouse"?typeof c.button!="number"||c.button<=0:c.isPrimary!==!1,We=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ft(c){return We.has(c.tagName)||c.tabIndex!==-1}const bt=new WeakSet;function Fe(c){return f=>{f.key==="Enter"&&c(f)}}function Le(c,f){c.dispatchEvent(new PointerEvent("pointer"+f,{isPrimary:!0,bubbles:!0}))}const Ze=(c,f)=>{const d=c.currentTarget;if(!d)return;const g=Fe(()=>{if(bt.has(d))return;Le(d,"down");const C=Fe(()=>{Le(d,"up")}),I=()=>Le(d,"cancel");d.addEventListener("keyup",C,f),d.addEventListener("blur",I,f)});d.addEventListener("keydown",g,f),d.addEventListener("blur",()=>d.removeEventListener("keydown",g),f)};function Jt(c){return Se(c)&&!Lt()}function or(c,f,d={}){const[g,C,I]=Ye(c,d),O=L=>{const N=L.currentTarget;if(!Jt(L)||bt.has(N))return;bt.add(N);const j=f(N,L),Q=(st,ct)=>{window.removeEventListener("pointerup",pe),window.removeEventListener("pointercancel",Me),!(!Jt(st)||!bt.has(N))&&(bt.delete(N),typeof j=="function"&&j(st,{success:ct}))},pe=st=>{Q(st,d.useGlobalTarget||fe(N,st.target))},Me=st=>{Q(st,!1)};window.addEventListener("pointerup",pe,C),window.addEventListener("pointercancel",Me,C)};return g.forEach(L=>{!ft(L)&&L.getAttribute("tabindex")===null&&(L.tabIndex=0),(d.useGlobalTarget?window:L).addEventListener("pointerdown",O,C),L.addEventListener("focus",j=>Ze(j,C),C)}),I}const vr="easeOut";function rr(c){var f;if(isGenerator(c.type)){const d=createGeneratorEasing(c,100,c.type);c.ease=supportsLinearEasing()?d.ease:vr,c.duration=secondsToMilliseconds(d.duration),c.type="keyframes"}else c.duration=secondsToMilliseconds((f=c.duration)!==null&&f!==void 0?f:.3),c.ease=c.ease||vr}function jr(c,f,d){var g;const C={},I={fill:"both",easing:"linear",composite:"replace"};I.delay=secondsToMilliseconds((g=d.delay)!==null&&g!==void 0?g:0),rr(d),I.duration=d.duration;const{ease:O,times:L}=d;L&&(C.offset=L),C[c]=f;const N=mapEasingToNativeEasing(O,d.duration);return Array.isArray(N)?C.easing=N:I.easing=N,{keyframes:C,options:I}}class qe extends null{constructor(f,d,g,C,I){const O=convertMotionOptionsToNative(g,C,I),L=f.animate(O.keyframes,ar({pseudoElement:d},O.options));super(L)}}let $e={},Ct=null;const gr={set:(c,f)=>{$e[c]=f},commit:()=>{Ct||(Ct=document.createElement("style"),Ct.id="motion-view");let c="";for(const f in $e){const d=$e[f];c+=`${f} {
`;for(const[g,C]of Object.entries(d))c+=`  ${g}: ${C};
`;c+=`}
`}Ct.textContent=c,document.head.appendChild(Ct),$e={}},remove:()=>{Ct&&Ct.parentElement&&Ct.parentElement.removeChild(Ct)}},_r=null;function zr(c,f,d){if(!document.startViewTransition)return new Promise(C=>Sh(this,null,function*(){yield c(),C(new BaseGroupPlaybackControls([]))}));hasTarget("root",d)||css.set(":root",{"view-transition-name":"none"}),css.set("::view-transition-group(*), ::view-transition-old(*), ::view-transition-new(*)",{"animation-timing-function":"linear !important"}),css.commit();const g=document.startViewTransition(()=>Sh(this,null,function*(){yield c()}));return g.finished.finally(()=>{css.remove()}),new Promise(C=>{g.ready.then(()=>{var I;const O=getViewAnimations(),L=[];d.forEach((N,j)=>{for(const Q of _r){if(!N[Q])continue;const{keyframes:pe,options:Me}=N[Q];for(let[st,ct]of Object.entries(pe)){if(!ct)continue;const kt=ar(ar({},getValueTransition(f,st)),getValueTransition(Me,st)),yr=chooseLayerType(Q);st==="opacity"&&!Array.isArray(ct)&&(ct=[yr==="new"?0:1,ct]),typeof kt.delay=="function"&&(kt.delay=kt.delay(0,1));const mr=new PseudoAnimation(document.documentElement,`::view-transition-${yr}(${j})`,st,ct,kt);L.push(mr)}}});for(const N of O){if(N.playState==="finished")continue;const{effect:j}=N;if(!j||!(j instanceof KeyframeEffect))continue;const{pseudoElement:Q}=j;if(!Q)continue;const pe=getLayerName(Q);if(!pe)continue;const Me=d.get(pe.layer);if(Me)xt(Me,"enter")&&xt(Me,"exit")&&j.getKeyframes().some(st=>st.mixBlendMode)?L.push(new NativeAnimationControls(N)):N.cancel();else{const st=pe.type==="group"?"layout":"",ct=ar({},getValueTransition(f,st));applyGeneratorOptions(ct);const kt=mapEasingToNativeEasing(ct.ease,ct.duration);j.updateTiming({delay:secondsToMilliseconds((I=ct.delay)!==null&&I!==void 0?I:0),duration:ct.duration,easing:kt}),L.push(new NativeAnimationControls(N))}}C(new BaseGroupPlaybackControls(L))})})}function xt(c,f){var d;return(d=c==null?void 0:c[f])===null||d===void 0?void 0:d.keyframes.opacity}class ge{constructor(f,d={}){this.currentTarget="root",this.targets=new Map,this.notifyReady=noop,this.readyPromise=new Promise(g=>{this.notifyReady=g}),queueMicrotask(()=>{startViewAnimation(f,d,this.targets).then(g=>this.notifyReady(g))})}get(f){return this.currentTarget=f,this}layout(f,d){return this.updateTarget("layout",f,d),this}new(f,d){return this.updateTarget("new",f,d),this}old(f,d){return this.updateTarget("old",f,d),this}enter(f,d){return this.updateTarget("enter",f,d),this}exit(f,d){return this.updateTarget("exit",f,d),this}crossfade(f){return this.updateTarget("enter",{opacity:1},f),this.updateTarget("exit",{opacity:0},f),this}updateTarget(f,d,g={}){const{currentTarget:C,targets:I}=this;I.has(C)||I.set(C,{});const O=I.get(C);O[f]={keyframes:d,options:g}}then(f,d){return this.readyPromise.then(f,d)}}function je(c,f={}){return new ge(c,f)}function ht(c){return c==="x"||c==="y"?Ie[c]?null:(Ie[c]=!0,()=>{Ie[c]=!1}):Ie.x||Ie.y?null:(Ie.x=Ie.y=!0,()=>{Ie.x=Ie.y=!1})}const Mt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nt=new Set(Mt),ne=new Set(["width","height","top","left","right","bottom",...Mt]),ue=c=>!!(c&&typeof c=="object"&&c.mix&&c.toValue),J=c=>U(c)?c[c.length-1]||0:c,Re={skipAnimations:!1,useManualTiming:!1},Ae=c=>c;function Rt(c){let f=new Set,d=new Set,g=!1,C=!1;const I=new WeakSet;let O={delta:0,timestamp:0,isProcessing:!1};function L(j){I.has(j)&&(N.schedule(j),c()),j(O)}const N={schedule:(j,Q=!1,pe=!1)=>{const st=pe&&g?f:d;return Q&&I.add(j),st.has(j)||st.add(j),j},cancel:j=>{d.delete(j),I.delete(j)},process:j=>{if(O=j,g){C=!0;return}g=!0,[f,d]=[d,f],f.forEach(L),f.clear(),g=!1,C&&(C=!1,N.process(j))}};return N}const Ht=["read","resolveKeyframes","update","preRender","render","postRender"],Vt=40;function Bt(c,f){let d=!1,g=!0;const C={delta:0,timestamp:0,isProcessing:!1},I=()=>d=!0,O=Ht.reduce((mr,rn)=>(mr[rn]=Rt(I),mr),{}),{read:L,resolveKeyframes:N,update:j,preRender:Q,render:pe,postRender:Me}=O,st=()=>{const mr=Re.useManualTiming?C.timestamp:performance.now();d=!1,C.delta=g?1e3/60:Math.max(Math.min(mr-C.timestamp,Vt),1),C.timestamp=mr,C.isProcessing=!0,L.process(C),N.process(C),j.process(C),Q.process(C),pe.process(C),Me.process(C),C.isProcessing=!1,d&&f&&(g=!1,c(st))},ct=()=>{d=!0,g=!0,C.isProcessing||c(st)};return{schedule:Ht.reduce((mr,rn)=>{const fn=O[rn];return mr[rn]=(ui,Tn=!1,zi=!1)=>(d||ct(),fn.schedule(ui,Tn,zi)),mr},{}),cancel:mr=>{for(let rn=0;rn<Ht.length;rn++)O[Ht[rn]].cancel(mr)},state:C,steps:O}}const{schedule:wt,cancel:pr,state:Et,steps:be}=Bt(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ae,!0);let jt;function Yt(){jt=void 0}const sr={now:()=>(jt===void 0&&sr.set(Et.isProcessing||Re.useManualTiming?Et.timestamp:performance.now()),jt),set:c=>{jt=c,queueMicrotask(Yt)}};function lr(c,f){c.indexOf(f)===-1&&c.push(f)}function nr(c,f){const d=c.indexOf(f);d>-1&&c.splice(d,1)}function sn([...c],f,d){const g=f<0?c.length+f:f;if(g>=0&&g<c.length){const C=d<0?c.length+d:d,[I]=c.splice(f,1);c.splice(C,0,I)}return c}class Br{constructor(){this.subscriptions=[]}add(f){return lr(this.subscriptions,f),()=>nr(this.subscriptions,f)}notify(f,d,g){const C=this.subscriptions.length;if(C)if(C===1)this.subscriptions[0](f,d,g);else for(let I=0;I<C;I++){const O=this.subscriptions[I];O&&O(f,d,g)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hn(c,f){return f?c*(1e3/f):0}const Ue=30,fr=c=>!isNaN(parseFloat(c)),Cr={current:void 0};class Ir{constructor(f,d={}){this.version="12.0.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(g,C=!0)=>{const I=sr.now();this.updatedAt!==I&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(g),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),C&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(f),this.owner=d.owner}setCurrent(f){this.current=f,this.updatedAt=sr.now(),this.canTrackVelocity===null&&f!==void 0&&(this.canTrackVelocity=fr(this.current))}setPrevFrameValue(f=this.current){this.prevFrameValue=f,this.prevUpdatedAt=this.updatedAt}onChange(f){return this.on("change",f)}on(f,d){this.events[f]||(this.events[f]=new Br);const g=this.events[f].add(d);return f==="change"?()=>{g(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:g}clearListeners(){for(const f in this.events)this.events[f].clear()}attach(f,d){this.passiveEffect=f,this.stopPassiveEffect=d}set(f,d=!0){!d||!this.passiveEffect?this.updateAndNotify(f,d):this.passiveEffect(f,this.updateAndNotify)}setWithVelocity(f,d,g){this.set(d),this.prev=void 0,this.prevFrameValue=f,this.prevUpdatedAt=this.updatedAt-g}jump(f,d=!0){this.updateAndNotify(f),this.prev=f,this.prevUpdatedAt=this.prevFrameValue=void 0,d&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Cr.current&&Cr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const f=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||f-this.updatedAt>Ue)return 0;const d=Math.min(this.updatedAt-this.prevUpdatedAt,Ue);return hn(parseFloat(this.current)-parseFloat(this.prevFrameValue),d)}start(f){return this.stop(),new Promise(d=>{this.hasAnimated=!0,this.animation=f(d),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Er(c,f){return new Ir(c,f)}function ln(c,f,d){c.hasValue(f)?c.getValue(f).set(d):c.addValue(f,Er(d))}function Vn(c,f){let O=ie(c,f)||{},{transitionEnd:g={},transition:C={}}=O,I=xo(O,["transitionEnd","transition"]);I=ar(ar({},I),g);for(const L in I){const N=J(I[L]);ln(c,L,N)}}const hr=c=>!!(c&&c.getVelocity);function jn(c){return!!(hr(c)&&c.add)}function qr(c,f){const d=c.getValue("willChange");if(jn(d))return d.add(f)}const Zn=c=>c.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vi="data-"+Zn("framerAppearId");function pi(c){return c.props[vi]}const Jn=c=>c*1e3,nn=c=>c/1e3,Fr={current:!1},vt=(c,f,d)=>(((1-3*d+3*f)*c+(3*d-6*f))*c+3*f)*c,Qr=1e-7,Te=12;function Ke(c,f,d,g,C){let I,O,L=0;do O=f+(d-f)/2,I=vt(O,g,C)-c,I>0?d=O:f=O;while(Math.abs(I)>Qr&&++L<Te);return O}function Ot(c,f,d,g){if(c===f&&d===g)return Ae;const C=I=>Ke(I,0,1,c,d);return I=>I===0||I===1?I:vt(C(I),f,g)}const it=c=>f=>f<=.5?c(2*f)/2:(2-c(2*(1-f)))/2,H=c=>f=>1-c(1-f),ye=Ot(.33,1.53,.69,.99),Ne=H(ye),le=it(Ne),De=c=>(c*=2)<1?.5*Ne(c):.5*(2-Math.pow(2,-10*(c-1))),yt=c=>1-Math.sin(Math.acos(c)),qt=H(yt),Pr=it(yt),$t=c=>/^0[^.\s]+$/u.test(c);function ir(c){return typeof c=="number"?c===0:c!==null?c==="none"||c==="0"||$t(c):!0}const Nt=(c,f,d)=>d>f?f:d<c?c:d,Tr={test:c=>typeof c=="number",parse:parseFloat,transform:c=>c},Kt=mi(ar({},Tr),{transform:c=>Nt(0,1,c)}),xn=mi(ar({},Tr),{default:1}),Mn=c=>Math.round(c*1e5)/1e5,yn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function An(c){return c==null}const Pt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,an=(c,f)=>d=>!!(typeof d=="string"&&Pt.test(d)&&d.startsWith(c)||f&&!An(d)&&Object.prototype.hasOwnProperty.call(d,f)),Dr=(c,f,d)=>g=>{if(typeof g!="string")return g;const[C,I,O,L]=g.match(yn);return{[c]:parseFloat(C),[f]:parseFloat(I),[d]:parseFloat(O),alpha:L!==void 0?parseFloat(L):1}},kr=c=>Nt(0,255,c),Xr=mi(ar({},Tr),{transform:c=>Math.round(kr(c))}),un={test:an("rgb","red"),parse:Dr("red","green","blue"),transform:({red:c,green:f,blue:d,alpha:g=1})=>"rgba("+Xr.transform(c)+", "+Xr.transform(f)+", "+Xr.transform(d)+", "+Mn(Kt.transform(g))+")"};function En(c){let f="",d="",g="",C="";return c.length>5?(f=c.substring(1,3),d=c.substring(3,5),g=c.substring(5,7),C=c.substring(7,9)):(f=c.substring(1,2),d=c.substring(2,3),g=c.substring(3,4),C=c.substring(4,5),f+=f,d+=d,g+=g,C+=C),{red:parseInt(f,16),green:parseInt(d,16),blue:parseInt(g,16),alpha:C?parseInt(C,16)/255:1}}const br={test:an("#"),parse:En,transform:un.transform},Jr=c=>({test:f=>typeof f=="string"&&f.endsWith(c)&&f.split(" ").length===1,parse:parseFloat,transform:f=>`${f}${c}`}),Yn=Jr("deg"),Hn=Jr("%"),lt=Jr("px"),Rr=Jr("vh"),na=Jr("vw"),Ti=mi(ar({},Hn),{parse:c=>Hn.parse(c)/100,transform:c=>Hn.transform(c*100)}),Si={test:an("hsl","hue"),parse:Dr("hue","saturation","lightness"),transform:({hue:c,saturation:f,lightness:d,alpha:g=1})=>"hsla("+Math.round(c)+", "+Hn.transform(Mn(f))+", "+Hn.transform(Mn(d))+", "+Mn(Kt.transform(g))+")"},In={test:c=>un.test(c)||br.test(c)||Si.test(c),parse:c=>un.test(c)?un.parse(c):Si.test(c)?Si.parse(c):br.parse(c),transform:c=>typeof c=="string"?c:c.hasOwnProperty("red")?un.transform(c):Si.transform(c)},Hi=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ta(c){var f,d;return isNaN(c)&&typeof c=="string"&&(((f=c.match(yn))===null||f===void 0?void 0:f.length)||0)+(((d=c.match(Hi))===null||d===void 0?void 0:d.length)||0)>0}const Zi="number",gi="color",ai="var",fa="var(",Va="${}",Ba=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sa(c){const f=c.toString(),d=[],g={color:[],number:[],var:[]},C=[];let I=0;const L=f.replace(Ba,N=>(In.test(N)?(g.color.push(I),C.push(gi),d.push(In.parse(N))):N.startsWith(fa)?(g.var.push(I),C.push(ai),d.push(N)):(g.number.push(I),C.push(Zi),d.push(parseFloat(N))),++I,Va)).split(Va);return{values:d,split:L,indexes:g,types:C}}function co(c){return Sa(c).values}function Ai(c){const{split:f,types:d}=Sa(c),g=f.length;return C=>{let I="";for(let O=0;O<g;O++)if(I+=f[O],C[O]!==void 0){const L=d[O];L===Zi?I+=Mn(C[O]):L===gi?I+=In.transform(C[O]):I+=C[O]}return I}}const Ka=c=>typeof c=="number"?0:c;function qa(c){const f=co(c);return Ai(c)(f.map(Ka))}const oi={test:Ta,parse:co,createTransformer:Ai,getAnimatableNone:qa},_n=new Set(["brightness","contrast","saturate","opacity"]);function we(c){const[f,d]=c.slice(0,-1).split("(");if(f==="drop-shadow")return c;const[g]=d.match(yn)||[];if(!g)return c;const C=d.replace(g,"");let I=_n.has(f)?1:0;return g!==d&&(I*=100),f+"("+I+C+")"}const Ur=/\b([a-z-]*)\(.*?\)/gu,Xi=mi(ar({},oi),{getAnimatableNone:c=>{const f=c.match(Ur);return f?f.map(we).join(" "):c}}),V={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt},Ee={rotate:Yn,rotateX:Yn,rotateY:Yn,rotateZ:Yn,scale:xn,scaleX:xn,scaleY:xn,scaleZ:xn,skew:Yn,skewX:Yn,skewY:Yn,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Kt,originX:Ti,originY:Ti,originZ:lt},He=mi(ar({},Tr),{transform:Math.round}),_t=mi(ar(ar({},V),Ee),{zIndex:He,size:lt,fillOpacity:Kt,strokeOpacity:Kt,numOctaves:He}),Or=mi(ar({},_t),{color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:Xi,WebkitFilter:Xi}),yi=c=>Or[c];function qi(c,f){let d=yi(c);return d!==Xi&&(d=oi),d.getAnimatableNone?d.getAnimatableNone(f):void 0}const ke=new Set(["auto","none","0"]);function La(c,f,d){let g=0,C;for(;g<c.length&&!C;){const I=c[g];typeof I=="string"&&!ke.has(I)&&Sa(I).values.length&&(C=c[g]),g++}if(C&&d)for(const I of f)c[I]=qi(d,C)}const qn=c=>c===Tr||c===lt,Ko=(c,f)=>parseFloat(c.split(", ")[f]),ro=(c,f)=>(d,{transform:g})=>{if(g==="none"||!g)return 0;const C=g.match(/^matrix3d\((.+)\)$/u);if(C)return Ko(C[1],f);{const I=g.match(/^matrix\((.+)\)$/u);return I?Ko(I[1],c):0}},No=new Set(["x","y","z"]),Vo=Mt.filter(c=>!No.has(c));function Co(c){const f=[];return Vo.forEach(d=>{const g=c.getValue(d);g!==void 0&&(f.push([d,g.get()]),g.set(d.startsWith("scale")?1:0))}),f}const Fa={width:({x:c},{paddingLeft:f="0",paddingRight:d="0"})=>c.max-c.min-parseFloat(f)-parseFloat(d),height:({y:c},{paddingTop:f="0",paddingBottom:d="0"})=>c.max-c.min-parseFloat(f)-parseFloat(d),top:(c,{top:f})=>parseFloat(f),left:(c,{left:f})=>parseFloat(f),bottom:({y:c},{top:f})=>parseFloat(f)+(c.max-c.min),right:({x:c},{left:f})=>parseFloat(f)+(c.max-c.min),x:ro(4,13),y:ro(5,14)};Fa.translateX=Fa.x,Fa.translateY=Fa.y;const za=new Set;let us=!1,cs=!1;function Eo(){if(cs){const c=Array.from(za).filter(g=>g.needsMeasurement),f=new Set(c.map(g=>g.element)),d=new Map;f.forEach(g=>{const C=Co(g);C.length&&(d.set(g,C),g.render())}),c.forEach(g=>g.measureInitialState()),f.forEach(g=>{g.render();const C=d.get(g);C&&C.forEach(([I,O])=>{var L;(L=g.getValue(I))===null||L===void 0||L.set(O)})}),c.forEach(g=>g.measureEndState()),c.forEach(g=>{g.suspendedScrollY!==void 0&&window.scrollTo(0,g.suspendedScrollY)})}cs=!1,us=!1,za.forEach(c=>c.complete()),za.clear()}function F(){za.forEach(c=>{c.readKeyframes(),c.needsMeasurement&&(cs=!0)})}function Ws(){F(),Eo()}class Sr{constructor(f,d,g,C,I,O=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...f],this.onComplete=d,this.name=g,this.motionValue=C,this.element=I,this.isAsync=O}scheduleResolve(){this.isScheduled=!0,this.isAsync?(za.add(this),us||(us=!0,wt.read(F),wt.resolveKeyframes(Eo))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:f,name:d,element:g,motionValue:C}=this;for(let I=0;I<f.length;I++)if(f[I]===null)if(I===0){const O=C==null?void 0:C.get(),L=f[f.length-1];if(O!==void 0)f[0]=O;else if(g&&d){const N=g.readValue(d,L);N!=null&&(f[0]=N)}f[0]===void 0&&(f[0]=L),C&&O===void 0&&C.set(f[0])}else f[I]=f[I-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),za.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,za.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let Ln=Ae,la=Ae;const fs=c=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(c),fo=c=>f=>typeof f=="string"&&f.startsWith(c),kl=fo("--"),To=fo("var(--"),hs=c=>To(c)?ml.test(c.split("/*")[0].trim()):!1,ml=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,E=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A(c){const f=E.exec(c);if(!f)return[,];const[,d,g,C]=f;return[`--${d!=null?d:g}`,C]}const Z=4;function G(c,f,d=1){la(d<=Z,`Max CSS variable fallback depth detected in property "${c}". This may indicate a circular fallback dependency.`);const[g,C]=A(c);if(!g)return;const I=window.getComputedStyle(f).getPropertyValue(g);if(I){const O=I.trim();return fs(O)?parseFloat(O):O}return hs(C)?G(C,f,d+1):C}const Pe=c=>f=>f.test(c),Tt=[Tr,lt,Hn,Yn,na,Rr,{test:c=>c==="auto",parse:c=>c}],Ut=c=>Tt.find(Pe(c));class xr extends Sr{constructor(f,d,g,C,I){super(f,d,g,C,I,!0)}readKeyframes(){const{unresolvedKeyframes:f,element:d,name:g}=this;if(!d||!d.current)return;super.readKeyframes();for(let N=0;N<f.length;N++){let j=f[N];if(typeof j=="string"&&(j=j.trim(),hs(j))){const Q=G(j,d.current);Q!==void 0&&(f[N]=Q),N===f.length-1&&(this.finalKeyframe=j)}}if(this.resolveNoneKeyframes(),!ne.has(g)||f.length!==2)return;const[C,I]=f,O=Ut(C),L=Ut(I);if(O!==L)if(qn(O)&&qn(L))for(let N=0;N<f.length;N++){const j=f[N];typeof j=="string"&&(f[N]=parseFloat(j))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:f,name:d}=this,g=[];for(let C=0;C<f.length;C++)ir(f[C])&&g.push(C);g.length&&La(f,g,d)}measureInitialState(){const{element:f,unresolvedKeyframes:d,name:g}=this;if(!f||!f.current)return;g==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fa[g](f.measureViewportBox(),window.getComputedStyle(f.current)),d[0]=this.measuredOrigin;const C=d[d.length-1];C!==void 0&&f.getValue(g,C).jump(C,!1)}measureEndState(){var f;const{element:d,name:g,unresolvedKeyframes:C}=this;if(!d||!d.current)return;const I=d.getValue(g);I&&I.jump(this.measuredOrigin,!1);const O=C.length-1,L=C[O];C[O]=Fa[g](d.measureViewportBox(),window.getComputedStyle(d.current)),L!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=L),!((f=this.removedTransforms)===null||f===void 0)&&f.length&&this.removedTransforms.forEach(([N,j])=>{d.getValue(N).set(j)}),this.resolveNoneKeyframes()}}const Vr=(c,f)=>f==="zIndex"?!1:!!(typeof c=="number"||Array.isArray(c)||typeof c=="string"&&(oi.test(c)||c==="0")&&!c.startsWith("url("));function wr(c){const f=c[0];if(c.length===1)return!0;for(let d=0;d<c.length;d++)if(c[d]!==f)return!0}function ur(c,f,d,g){const C=c[0];if(C===null)return!1;if(f==="display"||f==="visibility")return!0;const I=c[c.length-1],O=Vr(C,f),L=Vr(I,f);return Ln(O===L,`You are trying to animate ${f} from "${C}" to "${I}". ${C} is not an animatable value - to enable this animation set ${C} to a value animatable to ${I} via the \`style\` property.`),!O||!L?!1:wr(c)||(d==="spring"||Ve(d))&&g}const en=c=>c!==null;function zt(c,{repeat:f,repeatType:d="loop"},g){const C=c.filter(en),I=f&&d!=="loop"&&f%2===1?0:C.length-1;return!I||g===void 0?C[I]:g}const Zr=40;class tn{constructor(N){var j=N,{autoplay:f=!0,delay:d=0,type:g="keyframes",repeat:C=0,repeatDelay:I=0,repeatType:O="loop"}=j,L=xo(j,["autoplay","delay","type","repeat","repeatDelay","repeatType"]);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sr.now(),this.options=ar({autoplay:f,delay:d,type:g,repeat:C,repeatDelay:I,repeatType:O},L),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zr?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ws(),this._resolved}onKeyframesResolved(f,d){this.resolvedAt=sr.now(),this.hasAttemptedResolve=!0;const{name:g,type:C,velocity:I,delay:O,onComplete:L,onUpdate:N,isGenerator:j}=this.options;if(!j&&!ur(f,g,C,I))if(Fr.current||!O){N&&N(zt(f,this.options,d)),L&&L(),this.resolveFinishedPromise();return}else this.options.duration=0;const Q=this.initPlayback(f,d);Q!==!1&&(this._resolved=ar({keyframes:f,finalKeyframe:d},Q),this.onPostResolved())}onPostResolved(){}then(f,d){return this.currentFinishedPromise.then(f,d)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(f=>{this.resolveFinishedPromise=f})}}const Xt=(c,f,d)=>c+(f-c)*d;function dn(c,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(f-c)*6*d:d<1/2?f:d<2/3?c+(f-c)*(2/3-d)*6:c}function Fn({hue:c,saturation:f,lightness:d,alpha:g}){c/=360,f/=100,d/=100;let C=0,I=0,O=0;if(!f)C=I=O=d;else{const L=d<.5?d*(1+f):d+f-d*f,N=2*d-L;C=dn(N,L,c+1/3),I=dn(N,L,c),O=dn(N,L,c-1/3)}return{red:Math.round(C*255),green:Math.round(I*255),blue:Math.round(O*255),alpha:g}}function Dn(c,f){return d=>d>0?f:c}const mn=(c,f,d)=>{const g=c*c,C=d*(f*f-g)+g;return C<0?0:Math.sqrt(C)},ri=[br,un,Si],vn=c=>ri.find(f=>f.test(c));function Bn(c){const f=vn(c);if(Ln(!!f,`'${c}' is not an animatable color. Use the equivalent color code instead.`),!f)return!1;let d=f.parse(c);return f===Si&&(d=Fn(d)),d}const bi=(c,f)=>{const d=Bn(c),g=Bn(f);if(!d||!g)return Dn(c,f);const C=ar({},d);return I=>(C.red=mn(d.red,g.red,I),C.green=mn(d.green,g.green,I),C.blue=mn(d.blue,g.blue,I),C.alpha=Xt(d.alpha,g.alpha,I),un.transform(C))},Vi=(c,f)=>d=>f(c(d)),Nr=(...c)=>c.reduce(Vi),fi=new Set(["none","hidden"]);function wi(c,f){return fi.has(c)?d=>d<=0?c:f:d=>d>=1?f:c}function xi(c,f){return d=>Xt(c,f,d)}function si(c){return typeof c=="number"?xi:typeof c=="string"?hs(c)?Dn:In.test(c)?bi:on:Array.isArray(c)?Oi:typeof c=="object"?In.test(c)?bi:Ii:Dn}function Oi(c,f){const d=[...c],g=d.length,C=c.map((I,O)=>si(I)(I,f[O]));return I=>{for(let O=0;O<g;O++)d[O]=C[O](I);return d}}function Ii(c,f){const d=ar(ar({},c),f),g={};for(const C in d)c[C]!==void 0&&f[C]!==void 0&&(g[C]=si(c[C])(c[C],f[C]));return C=>{for(const I in g)d[I]=g[I](C);return d}}function ei(c,f){var d;const g=[],C={color:0,var:0,number:0};for(let I=0;I<f.values.length;I++){const O=f.types[I],L=c.indexes[O][C[O]],N=(d=c.values[L])!==null&&d!==void 0?d:0;g[I]=N,C[O]++}return g}const on=(c,f)=>{const d=oi.createTransformer(f),g=Sa(c),C=Sa(f);return g.indexes.var.length===C.indexes.var.length&&g.indexes.color.length===C.indexes.color.length&&g.indexes.number.length>=C.indexes.number.length?fi.has(c)&&!C.values.length||fi.has(f)&&!g.values.length?wi(c,f):Nr(Oi(ei(g,C),C.values),d):(Ln(!0,`Complex values '${c}' and '${f}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Dn(c,f))};function ni(c,f,d){return typeof c=="number"&&typeof f=="number"&&typeof d=="number"?Xt(c,f,d):si(c)(c,f)}const li=5;function ha(c,f,d){const g=Math.max(f-li,0);return hn(d-c(g),f-g)}const Xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$i=.001;function Yi({duration:c=Xn.duration,bounce:f=Xn.bounce,velocity:d=Xn.velocity,mass:g=Xn.mass}){let C,I;Ln(c<=Jn(Xn.maxDuration),"Spring duration must be 10 seconds or less");let O=1-f;O=Nt(Xn.minDamping,Xn.maxDamping,O),c=Nt(Xn.minDuration,Xn.maxDuration,nn(c)),O<1?(C=j=>{const Q=j*O,pe=Q*c,Me=Q-d,st=_i(j,O),ct=Math.exp(-pe);return $i-Me/st*ct},I=j=>{const pe=j*O*c,Me=pe*d+d,st=Math.pow(O,2)*Math.pow(j,2)*c,ct=Math.exp(-pe),kt=_i(Math.pow(j,2),O);return(-C(j)+$i>0?-1:1)*((Me-st)*ct)/kt}):(C=j=>{const Q=Math.exp(-j*c),pe=(j-d)*c+1;return-$i+Q*pe},I=j=>{const Q=Math.exp(-j*c),pe=(d-j)*(c*c);return Q*pe});const L=5/c,N=ho(C,I,L);if(c=Jn(c),isNaN(N))return{stiffness:Xn.stiffness,damping:Xn.damping,duration:c};{const j=Math.pow(N,2)*g;return{stiffness:j,damping:O*2*Math.sqrt(g*j),duration:c}}}const Gi=12;function ho(c,f,d){let g=d;for(let C=1;C<Gi;C++)g=g-c(g)/f(g);return g}function _i(c,f){return c*Math.sqrt(1-f*f)}const Wa=["duration","bounce"],Bi=["stiffness","damping","mass"];function bn(c,f){return f.some(d=>c[d]!==void 0)}function $r(c){let f=ar({velocity:Xn.velocity,stiffness:Xn.stiffness,damping:Xn.damping,mass:Xn.mass,isResolvedFromDuration:!1},c);if(!bn(c,Bi)&&bn(c,Wa))if(c.visualDuration){const d=c.visualDuration,g=2*Math.PI/(d*1.2),C=g*g,I=2*Nt(.05,1,1-(c.bounce||0))*Math.sqrt(C);f=mi(ar({},f),{mass:Xn.mass,stiffness:C,damping:I})}else{const d=Yi(c);f=mi(ar(ar({},f),d),{mass:Xn.mass}),f.isResolvedFromDuration=!0}return f}function Nn(c=Xn.visualDuration,f=Xn.bounce){const d=typeof c!="object"?{visualDuration:c,keyframes:[0,1],bounce:f}:c;let{restSpeed:g,restDelta:C}=d;const I=d.keyframes[0],O=d.keyframes[d.keyframes.length-1],L={done:!1,value:I},{stiffness:N,damping:j,mass:Q,duration:pe,velocity:Me,isResolvedFromDuration:st}=$r(mi(ar({},d),{velocity:-nn(d.velocity||0)})),ct=Me||0,kt=j/(2*Math.sqrt(N*Q)),yr=O-I,mr=nn(Math.sqrt(N/Q)),rn=Math.abs(yr)<5;g||(g=rn?Xn.restSpeed.granular:Xn.restSpeed.default),C||(C=rn?Xn.restDelta.granular:Xn.restDelta.default);let fn;if(kt<1){const Tn=_i(mr,kt);fn=zi=>{const Ca=Math.exp(-kt*mr*zi);return O-Ca*((ct+kt*mr*yr)/Tn*Math.sin(Tn*zi)+yr*Math.cos(Tn*zi))}}else if(kt===1)fn=Tn=>O-Math.exp(-mr*Tn)*(yr+(ct+mr*yr)*Tn);else{const Tn=mr*Math.sqrt(kt*kt-1);fn=zi=>{const Ca=Math.exp(-kt*mr*zi),Qn=Math.min(Tn*zi,300);return O-Ca*((ct+kt*mr*yr)*Math.sinh(Qn)+Tn*yr*Math.cosh(Qn))/Tn}}const ui={calculatedDuration:st&&pe||null,next:Tn=>{const zi=fn(Tn);if(st)L.done=Tn>=pe;else{let Ca=0;kt<1&&(Ca=Tn===0?Jn(ct):ha(fn,Tn,zi));const Qn=Math.abs(Ca)<=g,Za=Math.abs(O-zi)<=C;L.done=Qn&&Za}return L.value=L.done?O:zi,L},toString:()=>{const Tn=Math.min(de(ui),rt),zi=tr(Ca=>ui.next(Tn*Ca).value,Tn,30);return Tn+"ms "+zi}};return ui}function zn({keyframes:c,velocity:f=0,power:d=.8,timeConstant:g=325,bounceDamping:C=10,bounceStiffness:I=500,modifyTarget:O,min:L,max:N,restDelta:j=.5,restSpeed:Q}){const pe=c[0],Me={done:!1,value:pe},st=Qn=>L!==void 0&&Qn<L||N!==void 0&&Qn>N,ct=Qn=>L===void 0?N:N===void 0||Math.abs(L-Qn)<Math.abs(N-Qn)?L:N;let kt=d*f;const yr=pe+kt,mr=O===void 0?yr:O(yr);mr!==yr&&(kt=mr-pe);const rn=Qn=>-kt*Math.exp(-Qn/g),fn=Qn=>mr+rn(Qn),ui=Qn=>{const Za=rn(Qn),to=fn(Qn);Me.done=Math.abs(Za)<=j,Me.value=Me.done?mr:to};let Tn,zi;const Ca=Qn=>{st(Me.value)&&(Tn=Qn,zi=Nn({keyframes:[Me.value,ct(Me.value)],velocity:ha(fn,Qn,Me.value),damping:C,stiffness:I,restDelta:j,restSpeed:Q}))};return Ca(0),{calculatedDuration:null,next:Qn=>{let Za=!1;return!zi&&Tn===void 0&&(Za=!0,ui(Qn),Ca(Qn)),Tn!==void 0&&Qn>=Tn?zi.next(Qn-Tn):(!Za&&ui(Qn),Me)}}}const Hr=Ot(.42,0,1,1),Gn=Ot(0,0,.58,1),Cn=Ot(.42,0,.58,1),ji=c=>Array.isArray(c)&&typeof c[0]!="number",cn={linear:Ae,easeIn:Hr,easeInOut:Cn,easeOut:Gn,circIn:yt,circInOut:Pr,circOut:qt,backIn:Ne,backInOut:le,backOut:ye,anticipate:De},Wn=c=>{if(tt(c)){la(c.length===4,"Cubic bezier arrays must contain four numerical values.");const[f,d,g,C]=c;return Ot(f,d,g,C)}else if(typeof c=="string")return la(cn[c]!==void 0,`Invalid easing type '${c}'`),cn[c];return c};function wa(c,f,d){const g=[],C=d||ni,I=c.length-1;for(let O=0;O<I;O++){let L=C(c[O],c[O+1]);if(f){const N=Array.isArray(f)?f[O]||Ae:f;L=Nr(N,L)}g.push(L)}return g}function pa(c,f,{clamp:d=!0,ease:g,mixer:C}={}){const I=c.length;if(la(I===f.length,"Both input and output ranges must be the same length"),I===1)return()=>f[0];if(I===2&&f[0]===f[1])return()=>f[1];const O=c[0]===c[1];c[0]>c[I-1]&&(c=[...c].reverse(),f=[...f].reverse());const L=wa(f,g,C),N=L.length,j=Q=>{if(O&&Q<c[0])return f[0];let pe=0;if(N>1)for(;pe<c.length-2&&!(Q<c[pe+1]);pe++);const Me=It(c[pe],c[pe+1],Q);return L[pe](Me)};return d?Q=>j(Nt(c[0],c[I-1],Q)):j}function Kn(c,f){const d=c[c.length-1];for(let g=1;g<=f;g++){const C=It(0,f,g);c.push(Xt(d,1,C))}}function Oa(c){const f=[0];return Kn(f,c.length-1),f}function ia(c,f){return c.map(d=>d*f)}function mo(c,f){return c.map(()=>f||Cn).splice(0,c.length-1)}function Ua({duration:c=300,keyframes:f,times:d,ease:g="easeInOut"}){const C=ji(g)?g.map(Wn):Wn(g),I={done:!1,value:f[0]},O=ia(d&&d.length===f.length?d:Oa(f),c),L=pa(O,f,{ease:Array.isArray(C)?C:mo(f,C)});return{calculatedDuration:c,next:N=>(I.value=L(N),I.done=N>=c,I)}}const Mi=c=>{const f=({timestamp:d})=>c(d);return{start:()=>wt.update(f,!0),stop:()=>pr(f),now:()=>Et.isProcessing?Et.timestamp:sr.now()}},ga={decay:zn,inertia:zn,tween:Ua,keyframes:Ua,spring:Nn},Ma=c=>c/100;class Aa extends tn{constructor(f){super(f),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:N}=this.options;N&&N()};const{name:d,motionValue:g,element:C,keyframes:I}=this.options,O=(C==null?void 0:C.KeyframeResolver)||Sr,L=(N,j)=>this.onKeyframesResolved(N,j);this.resolver=new O(I,L,d,g,C),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(f){const{type:d="keyframes",repeat:g=0,repeatDelay:C=0,repeatType:I,velocity:O=0}=this.options,L=Ve(d)?d:ga[d]||Ua;let N,j;L!==Ua&&typeof f[0]!="number"&&(N=Nr(Ma,ni(f[0],f[1])),f=[0,100]);const Q=L(mi(ar({},this.options),{keyframes:f}));I==="mirror"&&(j=L(mi(ar({},this.options),{keyframes:[...f].reverse(),velocity:-O}))),Q.calculatedDuration===null&&(Q.calculatedDuration=de(Q));const{calculatedDuration:pe}=Q,Me=pe+C,st=Me*(g+1)-C;return{generator:Q,mirroredGenerator:j,mapPercentToKeyframes:N,calculatedDuration:pe,resolvedDuration:Me,totalDuration:st}}onPostResolved(){const{autoplay:f=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!f?this.pause():this.state=this.pendingPlayState}tick(f,d=!1){const{resolved:g}=this;if(!g){const{keyframes:Qn}=this.options;return{done:!0,value:Qn[Qn.length-1]}}const{finalKeyframe:C,generator:I,mirroredGenerator:O,mapPercentToKeyframes:L,keyframes:N,calculatedDuration:j,totalDuration:Q,resolvedDuration:pe}=g;if(this.startTime===null)return I.next(0);const{delay:Me,repeat:st,repeatType:ct,repeatDelay:kt,onUpdate:yr}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,f):this.speed<0&&(this.startTime=Math.min(f-Q/this.speed,this.startTime)),d?this.currentTime=f:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(f-this.startTime)*this.speed;const mr=this.currentTime-Me*(this.speed>=0?1:-1),rn=this.speed>=0?mr<0:mr>Q;this.currentTime=Math.max(mr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Q);let fn=this.currentTime,ui=I;if(st){const Qn=Math.min(this.currentTime,Q)/pe;let Za=Math.floor(Qn),to=Qn%1;!to&&Qn>=1&&(to=1),to===1&&Za--,Za=Math.min(Za,st+1),!!(Za%2)&&(ct==="reverse"?(to=1-to,kt&&(to-=kt/pe)):ct==="mirror"&&(ui=O)),fn=Nt(0,1,to)*pe}const Tn=rn?{done:!1,value:N[0]}:ui.next(fn);L&&(Tn.value=L(Tn.value));let{done:zi}=Tn;!rn&&j!==null&&(zi=this.speed>=0?this.currentTime>=Q:this.currentTime<=0);const Ca=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&zi);return Ca&&C!==void 0&&(Tn.value=zt(N,this.options,C)),yr&&yr(Tn.value),Ca&&this.finish(),Tn}get duration(){const{resolved:f}=this;return f?nn(f.calculatedDuration):0}get time(){return nn(this.currentTime)}set time(f){f=Jn(f),this.currentTime=f,this.holdTime!==null||this.speed===0?this.holdTime=f:this.driver&&(this.startTime=this.driver.now()-f/this.speed)}get speed(){return this.playbackSpeed}set speed(f){const d=this.playbackSpeed!==f;this.playbackSpeed=f,d&&(this.time=nn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:f=Mi,onPlay:d,startTime:g}=this.options;this.driver||(this.driver=f(I=>this.tick(I))),d&&d();const C=this.driver.now();this.holdTime!==null?this.startTime=C-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=C):this.startTime=g!=null?g:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var f;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(f=this.currentTime)!==null&&f!==void 0?f:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:f}=this.options;f&&f()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(f){return this.startTime=0,this.tick(f,!0)}}function Ci(c){return new Aa(c)}const Li=new Set(["opacity","clipPath","filter","transform"]);function ya(c,f,d,{delay:g=0,duration:C=300,repeat:I=0,repeatType:O="loop",ease:L="easeInOut",times:N}={}){const j={[f]:d};N&&(j.offset=N);const Q=pt(L,C);return Array.isArray(Q)&&(j.easing=Q),c.animate(j,{delay:g,duration:C,easing:Array.isArray(Q)?"linear":Q,fill:"both",iterations:I+1,direction:O==="reverse"?"alternate":"normal"})}const da=he(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),no=10,aa=2e4;function vo(c){return Ve(c.type)||c.type==="spring"||!dt(c.ease)}function ba(c,f){const d=new Aa(mi(ar({},f),{keyframes:c,repeat:0,delay:0,isGenerator:!0}));let g={done:!1,value:c[0]};const C=[];let I=0;for(;!g.done&&I<aa;)g=d.sample(I),C.push(g.value),I+=no;return{times:void 0,keyframes:C,duration:I-no,ease:"linear"}}const Zs={anticipate:De,backInOut:le,circInOut:Pr};function Os(c){return c in Zs}class ds extends tn{constructor(f){super(f);const{name:d,motionValue:g,element:C,keyframes:I}=this.options;this.resolver=new xr(I,(O,L)=>this.onKeyframesResolved(O,L),d,g,C),this.resolver.scheduleResolve()}initPlayback(f,d){let{duration:g=300,times:C,ease:I,type:O,motionValue:L,name:N,startTime:j}=this.options;if(!L.owner||!L.owner.current)return!1;if(typeof I=="string"&&ze()&&Os(I)&&(I=Zs[I]),vo(this.options)){const pe=this.options,{onComplete:Me,onUpdate:st,motionValue:ct,element:kt}=pe,yr=xo(pe,["onComplete","onUpdate","motionValue","element"]),mr=ba(f,yr);f=mr.keyframes,f.length===1&&(f[1]=f[0]),g=mr.duration,C=mr.times,I=mr.ease,O="keyframes"}const Q=ya(L.owner.current,N,f,mi(ar({},this.options),{duration:g,times:C,ease:I}));return Q.startTime=j!=null?j:this.calcStartTime(),this.pendingTimeline?(Be(Q,this.pendingTimeline),this.pendingTimeline=void 0):Q.onfinish=()=>{const{onComplete:Me}=this.options;L.set(zt(f,this.options,d)),Me&&Me(),this.cancel(),this.resolveFinishedPromise()},{animation:Q,duration:g,times:C,type:O,ease:I,keyframes:f}}get duration(){const{resolved:f}=this;if(!f)return 0;const{duration:d}=f;return nn(d)}get time(){const{resolved:f}=this;if(!f)return 0;const{animation:d}=f;return nn(d.currentTime||0)}set time(f){const{resolved:d}=this;if(!d)return;const{animation:g}=d;g.currentTime=Jn(f)}get speed(){const{resolved:f}=this;if(!f)return 1;const{animation:d}=f;return d.playbackRate}set speed(f){const{resolved:d}=this;if(!d)return;const{animation:g}=d;g.playbackRate=f}get state(){const{resolved:f}=this;if(!f)return"idle";const{animation:d}=f;return d.playState}get startTime(){const{resolved:f}=this;if(!f)return null;const{animation:d}=f;return d.startTime}attachTimeline(f){if(!this._resolved)this.pendingTimeline=f;else{const{resolved:d}=this;if(!d)return Ae;const{animation:g}=d;Be(g,f)}return Ae}play(){if(this.isStopped)return;const{resolved:f}=this;if(!f)return;const{animation:d}=f;d.playState==="finished"&&this.updateFinishedPromise(),d.play()}pause(){const{resolved:f}=this;if(!f)return;const{animation:d}=f;d.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:f}=this;if(!f)return;const{animation:d,keyframes:g,duration:C,type:I,ease:O,times:L}=f;if(d.playState==="idle"||d.playState==="finished")return;if(this.time){const j=this.options,{motionValue:Q,onUpdate:pe,onComplete:Me,element:st}=j,ct=xo(j,["motionValue","onUpdate","onComplete","element"]),kt=new Aa(mi(ar({},ct),{keyframes:g,duration:C,type:I,ease:O,times:L,isGenerator:!0})),yr=Jn(this.time);Q.setWithVelocity(kt.sample(yr-no).value,kt.sample(yr).value,no)}const{onStop:N}=this.options;N&&N(),this.cancel()}complete(){const{resolved:f}=this;f&&f.animation.finish()}cancel(){const{resolved:f}=this;f&&f.animation.cancel()}static supports(f){const{motionValue:d,name:g,repeatDelay:C,repeatType:I,damping:O,type:L}=f;if(!d||!d.owner||!(d.owner.current instanceof HTMLElement))return!1;const{onUpdate:N,transformTemplate:j}=d.owner.getProps();return da()&&g&&Li.has(g)&&!N&&!j&&!C&&I!=="mirror"&&O!==0&&L!=="inertia"}}const Qo={type:"spring",stiffness:500,damping:25,restSpeed:10},ms=c=>({type:"spring",stiffness:550,damping:c===0?2*Math.sqrt(550):30,restSpeed:10}),vs={type:"keyframes",duration:.8},Jo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ms=(c,{keyframes:f})=>f.length>2?vs:nt.has(c)?c.startsWith("scale")?ms(f[1]):Qo:Jo;function So(pe){var Me=pe,{when:c,delay:f,delayChildren:d,staggerChildren:g,staggerDirection:C,repeat:I,repeatType:O,repeatDelay:L,from:N,elapsed:j}=Me,Q=xo(Me,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(Q).length}const ea=(c,f,d,g={},C,I)=>O=>{const L=St(g,c)||{},N=L.delay||g.delay||0;let{elapsed:j=0}=g;j=j-Jn(N);let Q=mi(ar({keyframes:Array.isArray(d)?d:[null,d],ease:"easeOut",velocity:f.getVelocity()},L),{delay:-j,onUpdate:Me=>{f.set(Me),L.onUpdate&&L.onUpdate(Me)},onComplete:()=>{O(),L.onComplete&&L.onComplete()},name:c,motionValue:f,element:I?void 0:C});So(L)||(Q=ar(ar({},Q),Ms(c,Q))),Q.duration&&(Q.duration=Jn(Q.duration)),Q.repeatDelay&&(Q.repeatDelay=Jn(Q.repeatDelay)),Q.from!==void 0&&(Q.keyframes[0]=Q.from);let pe=!1;if((Q.type===!1||Q.duration===0&&!Q.repeatDelay)&&(Q.duration=0,Q.delay===0&&(pe=!0)),(Fr.current||Re.skipAnimations)&&(pe=!0,Q.duration=0,Q.delay=0),pe&&!I&&f.get()!==void 0){const Me=zt(Q.keyframes,L);if(Me!==void 0)return wt.update(()=>{Q.onUpdate(Me),Q.onComplete()}),new Ge([])}return!I&&ds.supports(Q)?new ds(Q):new Aa(Q)};function Xs({protectedKeys:c,needsAnimating:f},d){const g=c.hasOwnProperty(d)&&f[d]!==!0;return f[d]=!1,g}function Bo(c,f,{delay:d=0,transitionOverride:g,type:C}={}){var I;let pe=f,{transition:O=c.getDefaultTransition(),transitionEnd:L}=pe,N=xo(pe,["transition","transitionEnd"]);g&&(O=g);const j=[],Q=C&&c.animationState&&c.animationState.getState()[C];for(const Me in N){const st=c.getValue(Me,(I=c.latestValues[Me])!==null&&I!==void 0?I:null),ct=N[Me];if(ct===void 0||Q&&Xs(Q,Me))continue;const kt=ar({delay:d},St(O||{},Me));let yr=!1;if(window.MotionHandoffAnimation){const rn=pi(c);if(rn){const fn=window.MotionHandoffAnimation(rn,Me,wt);fn!==null&&(kt.startTime=fn,yr=!0)}}qr(c,Me),st.start(ea(Me,st,ct,c.shouldReduceMotion&&ne.has(Me)?{type:!1}:kt,c,yr));const mr=st.animation;mr&&j.push(mr)}return L&&Promise.all(j).then(()=>{wt.update(()=>{L&&Vn(c,L)})}),j}function Yr(c,f,d={}){var g;const C=ie(c,f,d.type==="exit"?(g=c.presenceContext)===null||g===void 0?void 0:g.custom:void 0);let{transition:I=c.getDefaultTransition()||{}}=C||{};d.transitionOverride&&(I=d.transitionOverride);const O=C?()=>Promise.all(Bo(c,C,d)):()=>Promise.resolve(),L=c.variantChildren&&c.variantChildren.size?(j=0)=>{const{delayChildren:Q=0,staggerChildren:pe,staggerDirection:Me}=I;return wn(c,f,Q+j,pe,Me,d)}:()=>Promise.resolve(),{when:N}=I;if(N){const[j,Q]=N==="beforeChildren"?[O,L]:[L,O];return j().then(()=>Q())}else return Promise.all([O(),L(d.delay)])}function wn(c,f,d=0,g=0,C=1,I){const O=[],L=(c.variantChildren.size-1)*g,N=C===1?(j=0)=>j*g:(j=0)=>L-j*g;return Array.from(c.variantChildren).sort(pn).forEach((j,Q)=>{j.notify("AnimationStart",f),O.push(Yr(j,f,mi(ar({},I),{delay:d+N(Q)})).then(()=>j.notify("AnimationComplete",f)))}),Promise.all(O)}function pn(c,f){return c.sortNodePosition(f)}function Pn(c,f,d={}){c.notify("AnimationStart",f);let g;if(Array.isArray(f)){const C=f.map(I=>Yr(c,I,d));g=Promise.all(C)}else if(typeof f=="string")g=Yr(c,f,d);else{const C=typeof f=="function"?ie(c,f,d.custom):f;g=Promise.all(Bo(c,C,d))}return g.then(()=>{c.notify("AnimationComplete",f)})}const Ei=X.length;function Fi(c){if(!c)return;if(!c.isControllingVariants){const d=c.parent?Fi(c.parent)||{}:{};return c.props.initial!==void 0&&(d.initial=c.props.initial),d}const f={};for(let d=0;d<Ei;d++){const g=X[d],C=c.props[g];(re(C)||C===!1)&&(f[g]=C)}return f}const io=[...K].reverse(),ao=K.length;function wo(c){return f=>Promise.all(f.map(({animation:d,options:g})=>Pn(c,d,g)))}function ma(c){let f=wo(c),d=qo(),g=!0;const C=N=>(j,Q)=>{var pe;const Me=ie(c,Q,N==="exit"?(pe=c.presenceContext)===null||pe===void 0?void 0:pe.custom:void 0);if(Me){const st=Me,{transition:ct,transitionEnd:kt}=st,yr=xo(st,["transition","transitionEnd"]);j=ar(ar(ar({},j),yr),kt)}return j};function I(N){f=N(c)}function O(N){const{props:j}=c,Q=Fi(c.parent)||{},pe=[],Me=new Set;let st={},ct=1/0;for(let yr=0;yr<ao;yr++){const mr=io[yr],rn=d[mr],fn=j[mr]!==void 0?j[mr]:Q[mr],ui=re(fn),Tn=mr===N?rn.isActive:null;Tn===!1&&(ct=yr);let zi=fn===Q[mr]&&fn!==j[mr]&&ui;if(zi&&g&&c.manuallyAnimateOnMount&&(zi=!1),rn.protectedKeys=ar({},st),!rn.isActive&&Tn===null||!fn&&!rn.prevProp||M(fn)||typeof fn=="boolean")continue;const Ca=Oo(rn.prevProp,fn);let Qn=Ca||mr===N&&rn.isActive&&!zi&&ui||yr>ct&&ui,Za=!1;const to=Array.isArray(fn)?fn:[fn];let os=to.reduce(C(mr),{});Tn===!1&&(os={});const{prevResolvedValues:Nl={}}=rn,Uc=ar(ar({},Nl),os),kc=Xa=>{Qn=!0,Me.has(Xa)&&(Za=!0,Me.delete(Xa)),rn.needsAnimating[Xa]=!0;const Wo=c.getValue(Xa);Wo&&(Wo.liveStyle=!1)};for(const Xa in Uc){const Wo=os[Xa],ll=Nl[Xa];if(st.hasOwnProperty(Xa))continue;let ul=!1;U(Wo)&&U(ll)?ul=!xe(Wo,ll):ul=Wo!==ll,ul?Wo!=null?kc(Xa):Me.add(Xa):Wo!==void 0&&Me.has(Xa)?kc(Xa):rn.protectedKeys[Xa]=!0}rn.prevProp=fn,rn.prevResolvedValues=os,rn.isActive&&(st=ar(ar({},st),os)),g&&c.blockInitialAnimation&&(Qn=!1),Qn&&(!(zi&&Ca)||Za)&&pe.push(...to.map(Xa=>({animation:Xa,options:{type:mr}})))}if(Me.size){const yr={};Me.forEach(mr=>{const rn=c.getBaseTarget(mr),fn=c.getValue(mr);fn&&(fn.liveStyle=!0),yr[mr]=rn!=null?rn:null}),pe.push({animation:yr})}let kt=!!pe.length;return g&&(j.initial===!1||j.initial===j.animate)&&!c.manuallyAnimateOnMount&&(kt=!1),g=!1,kt?f(pe):Promise.resolve()}function L(N,j){var Q;if(d[N].isActive===j)return Promise.resolve();(Q=c.variantChildren)===null||Q===void 0||Q.forEach(Me=>{var st;return(st=Me.animationState)===null||st===void 0?void 0:st.setActive(N,j)}),d[N].isActive=j;const pe=O(N);for(const Me in d)d[Me].protectedKeys={};return pe}return{animateChanges:O,setActive:L,setAnimateFunction:I,getState:()=>d,reset:()=>{d=qo(),g=!0}}}function Oo(c,f){return typeof f=="string"?f!==c:Array.isArray(f)?!xe(f,c):!1}function oo(c=!1){return{isActive:c,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qo(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}class Mo{constructor(f){this.isMounted=!1,this.node=f}update(){}}class zo extends Mo{constructor(f){super(f),f.animationState||(f.animationState=ma(f))}updateAnimationControlsSubscription(){const{animate:f}=this.node.getProps();M(f)&&(this.unmountControls=f.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:f}=this.node.getProps(),{animate:d}=this.node.prevProps||{};f!==d&&this.updateAnimationControlsSubscription()}unmount(){var f;this.node.animationState.reset(),(f=this.unmountControls)===null||f===void 0||f.call(this)}}let po=0;class vl extends Mo{constructor(){super(...arguments),this.id=po++}update(){if(!this.node.presenceContext)return;const{isPresent:f,onExitComplete:d}=this.node.presenceContext,{isPresent:g}=this.node.prevPresenceContext||{};if(!this.node.animationState||f===g)return;const C=this.node.animationState.setActive("exit",!f);d&&!f&&C.then(()=>d(this.id))}mount(){const{register:f}=this.node.presenceContext||{};f&&(this.unmount=f(this.id))}unmount(){}}const es={animation:{Feature:zo},exit:{Feature:vl}};function ps(c,f,d,g={passive:!0}){return c.addEventListener(f,d,g),()=>c.removeEventListener(f,d)}function ts(c){return{point:{x:c.pageX,y:c.pageY}}}const gs=c=>f=>Se(f)&&c(f,ts(f));function ys(c,f,d,g){return ps(c,f,gs(d),g)}const bs=(c,f)=>Math.abs(c-f);function xs(c,f){const d=bs(c.x,f.x),g=bs(c.y,f.y);return Math.sqrt(Th(d,2)+Th(g,2))}class As{constructor(f,d,{transformPagePoint:g,contextWindow:C,dragSnapToOrigin:I=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const pe=Ys(this.lastMoveEventInfo,this.history),Me=this.startEvent!==null,st=xs(pe.offset,{x:0,y:0})>=3;if(!Me&&!st)return;const{point:ct}=pe,{timestamp:kt}=Et;this.history.push(mi(ar({},ct),{timestamp:kt}));const{onStart:yr,onMove:mr}=this.handlers;Me||(yr&&yr(this.lastMoveEvent,pe),this.startEvent=this.lastMoveEvent),mr&&mr(this.lastMoveEvent,pe)},this.handlePointerMove=(pe,Me)=>{this.lastMoveEvent=pe,this.lastMoveEventInfo=rs(Me,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(pe,Me)=>{this.end();const{onEnd:st,onSessionEnd:ct,resumeAnimation:kt}=this.handlers;if(this.dragSnapToOrigin&&kt&&kt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const yr=Ys(pe.type==="pointercancel"?this.lastMoveEventInfo:rs(Me,this.transformPagePoint),this.history);this.startEvent&&st&&st(pe,yr),ct&&ct(pe,yr)},!Se(f))return;this.dragSnapToOrigin=I,this.handlers=d,this.transformPagePoint=g,this.contextWindow=C||window;const O=ts(f),L=rs(O,this.transformPagePoint),{point:N}=L,{timestamp:j}=Et;this.history=[mi(ar({},N),{timestamp:j})];const{onSessionStart:Q}=d;Q&&Q(f,Ys(L,this.history)),this.removeListeners=Nr(ys(this.contextWindow,"pointermove",this.handlePointerMove),ys(this.contextWindow,"pointerup",this.handlePointerUp),ys(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(f){this.handlers=f}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function rs(c,f){return f?{point:f(c.point)}:c}function Is(c,f){return{x:c.x-f.x,y:c.y-f.y}}function Ys({point:c},f){return{point:c,delta:Is(c,Ks(f)),offset:Is(c,$l(f)),velocity:pl(f,.1)}}function $l(c){return c[0]}function Ks(c){return c[c.length-1]}function pl(c,f){if(c.length<2)return{x:0,y:0};let d=c.length-1,g=null;const C=Ks(c);for(;d>=0&&(g=c[d],!(C.timestamp-g.timestamp>Jn(f)));)d--;if(!g)return{x:0,y:0};const I=nn(C.timestamp-g.timestamp);if(I===0)return{x:0,y:0};const O={x:(C.x-g.x)/I,y:(C.y-g.y)/I};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function Uo(c){return c&&typeof c=="object"&&Object.prototype.hasOwnProperty.call(c,"current")}const Qs=1e-4,gl=1-Qs,Js=1+Qs,On=.01,Un=0-On,Da=0+On;function Di(c){return c.max-c.min}function ta(c,f,d){return Math.abs(c-f)<=d}function oa(c,f,d,g=.5){c.origin=g,c.originPoint=Xt(f.min,f.max,c.origin),c.scale=Di(d)/Di(f),c.translate=Xt(d.min,d.max,c.origin)-c.originPoint,(c.scale>=gl&&c.scale<=Js||isNaN(c.scale))&&(c.scale=1),(c.translate>=Un&&c.translate<=Da||isNaN(c.translate))&&(c.translate=0)}function ii(c,f,d,g){oa(c.x,f.x,d.x,g?g.originX:void 0),oa(c.y,f.y,d.y,g?g.originY:void 0)}function Ia(c,f,d){c.min=d.min+f.min,c.max=c.min+Di(f)}function Ao(c,f,d){Ia(c.x,f.x,d.x),Ia(c.y,f.y,d.y)}function go(c,f,d){c.min=f.min-d.min,c.max=c.min+Di(f)}function ka(c,f,d){go(c.x,f.x,d.x),go(c.y,f.y,d.y)}function Ps(c,{min:f,max:d},g){return f!==void 0&&c<f?c=g?Xt(f,c,g.min):Math.max(c,f):d!==void 0&&c>d&&(c=g?Xt(d,c,g.max):Math.min(c,d)),c}function Mu(c,f,d){return{min:f!==void 0?c.min+f:void 0,max:d!==void 0?c.max+d-(c.max-c.min):void 0}}function qc(c,{top:f,left:d,bottom:g,right:C}){return{x:Mu(c.x,d,C),y:Mu(c.y,f,g)}}function Au(c,f){let d=f.min-c.min,g=f.max-c.max;return f.max-f.min<c.max-c.min&&([d,g]=[g,d]),{min:d,max:g}}function yl(c,f){return{x:Au(c.x,f.x),y:Au(c.y,f.y)}}function bl(c,f){let d=.5;const g=Di(c),C=Di(f);return C>g?d=It(f.min,f.max-g,c.min):g>C&&(d=It(c.min,c.max-C,f.min)),Nt(0,1,d)}function xl(c,f){const d={};return f.min!==void 0&&(d.min=f.min-c.min),f.max!==void 0&&(d.max=f.max-c.min),d}const Cl=.35;function Iu(c=Cl){return c===!1?c=0:c===!0&&(c=Cl),{x:jl(c,"left","right"),y:jl(c,"top","bottom")}}function jl(c,f,d){return{min:qs(c,f),max:qs(c,d)}}function qs(c,f){return typeof c=="number"?c:c[f]||0}const Hl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rs=()=>({x:Hl(),y:Hl()}),Pu=()=>({min:0,max:0}),ua=()=>({x:Pu(),y:Pu()});function so(c){return[c("x"),c("y")]}function Ru({top:c,left:f,right:d,bottom:g}){return{x:{min:f,max:d},y:{min:c,max:g}}}function ef({x:c,y:f}){return{top:f.min,right:c.max,bottom:f.max,left:c.min}}function Gl(c,f){if(!f)return c;const d=f({x:c.left,y:c.top}),g=f({x:c.right,y:c.bottom});return{top:d.y,left:d.x,bottom:g.y,right:g.x}}function Wl(c){return c===void 0||c===1}function Zl({scale:c,scaleX:f,scaleY:d}){return!Wl(c)||!Wl(f)||!Wl(d)}function ko(c){return Zl(c)||Xl(c)||c.z||c.rotate||c.rotateX||c.rotateY||c.skewX||c.skewY}function Xl(c){return _u(c.x)||_u(c.y)}function _u(c){return c&&c!=="0%"}function El(c,f,d){const g=c-d,C=f*g;return d+C}function $o(c,f,d,g,C){return C!==void 0&&(c=El(c,C,g)),El(c,d,g)+f}function ra(c,f=0,d=1,g,C){c.min=$o(c.min,f,d,g,C),c.max=$o(c.max,f,d,g,C)}function Io(c,{x:f,y:d}){ra(c.x,f.translate,f.scale,f.originPoint),ra(c.y,d.translate,d.scale,d.originPoint)}const Lu=.999999999999,yo=1.0000000000001;function tf(c,f,d,g=!1){const C=d.length;if(!C)return;f.x=f.y=1;let I,O;for(let L=0;L<C;L++){I=d[L],O=I.projectionDelta;const{visualElement:N}=I.options;N&&N.props.style&&N.props.style.display==="contents"||(g&&I.options.layoutScroll&&I.scroll&&I!==I.root&&Ls(c,{x:-I.scroll.offset.x,y:-I.scroll.offset.y}),O&&(f.x*=O.x.scale,f.y*=O.y.scale,Io(c,O)),g&&ko(I.latestValues)&&Ls(c,I.latestValues))}f.x<yo&&f.x>Lu&&(f.x=1),f.y<yo&&f.y>Lu&&(f.y=1)}function _s(c,f){c.min=c.min+f,c.max=c.max+f}function Fu(c,f,d,g,C=.5){const I=Xt(c.min,c.max,C);ra(c,f,d,I,g)}function Ls(c,f){Fu(c.x,f.x,f.scaleX,f.scale,f.originX),Fu(c.y,f.y,f.scaleY,f.scale,f.originY)}function Du(c,f){return Ru(Gl(c.getBoundingClientRect(),f))}function rf(c,f,d){const g=Du(c,d),{scroll:C}=f;return C&&(_s(g.x,C.offset.x),_s(g.y,C.offset.y)),g}const Nu=({current:c})=>c?c.ownerDocument.defaultView:null,nf=new WeakMap;class af{constructor(f){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ua(),this.visualElement=f}start(f,{snapToCursor:d=!1}={}){const{presenceContext:g}=this.visualElement;if(g&&g.isPresent===!1)return;const C=Q=>{const{dragSnapToOrigin:pe}=this.getProps();pe?this.pauseAnimation():this.stopAnimation(),d&&this.snapToCursor(ts(Q).point)},I=(Q,pe)=>{const{drag:Me,dragPropagation:st,onDragStart:ct}=this.getProps();if(Me&&!st&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ht(Me),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),so(yr=>{let mr=this.getAxisMotionValue(yr).get()||0;if(Hn.test(mr)){const{projection:rn}=this.visualElement;if(rn&&rn.layout){const fn=rn.layout.layoutBox[yr];fn&&(mr=Di(fn)*(parseFloat(mr)/100))}}this.originPoint[yr]=mr}),ct&&wt.postRender(()=>ct(Q,pe)),qr(this.visualElement,"transform");const{animationState:kt}=this.visualElement;kt&&kt.setActive("whileDrag",!0)},O=(Q,pe)=>{const{dragPropagation:Me,dragDirectionLock:st,onDirectionLock:ct,onDrag:kt}=this.getProps();if(!Me&&!this.openDragLock)return;const{offset:yr}=pe;if(st&&this.currentDirection===null){this.currentDirection=of(yr),this.currentDirection!==null&&ct&&ct(this.currentDirection);return}this.updateAxis("x",pe.point,yr),this.updateAxis("y",pe.point,yr),this.visualElement.render(),kt&&kt(Q,pe)},L=(Q,pe)=>this.stop(Q,pe),N=()=>so(Q=>{var pe;return this.getAnimationState(Q)==="paused"&&((pe=this.getAxisMotionValue(Q).animation)===null||pe===void 0?void 0:pe.play())}),{dragSnapToOrigin:j}=this.getProps();this.panSession=new As(f,{onSessionStart:C,onStart:I,onMove:O,onSessionEnd:L,resumeAnimation:N},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:j,contextWindow:Nu(this.visualElement)})}stop(f,d){const g=this.isDragging;if(this.cancel(),!g)return;const{velocity:C}=d;this.startAnimation(C);const{onDragEnd:I}=this.getProps();I&&wt.postRender(()=>I(f,d))}cancel(){this.isDragging=!1;const{projection:f,animationState:d}=this.visualElement;f&&(f.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:g}=this.getProps();!g&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),d&&d.setActive("whileDrag",!1)}updateAxis(f,d,g){const{drag:C}=this.getProps();if(!g||!Fs(f,C,this.currentDirection))return;const I=this.getAxisMotionValue(f);let O=this.originPoint[f]+g[f];this.constraints&&this.constraints[f]&&(O=Ps(O,this.constraints[f],this.elastic[f])),I.set(O)}resolveConstraints(){var f;const{dragConstraints:d,dragElastic:g}=this.getProps(),C=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(f=this.visualElement.projection)===null||f===void 0?void 0:f.layout,I=this.constraints;d&&Uo(d)?this.constraints||(this.constraints=this.resolveRefConstraints()):d&&C?this.constraints=qc(C.layoutBox,d):this.constraints=!1,this.elastic=Iu(g),I!==this.constraints&&C&&this.constraints&&!this.hasMutatedConstraints&&so(O=>{this.constraints!==!1&&this.getAxisMotionValue(O)&&(this.constraints[O]=xl(C.layoutBox[O],this.constraints[O]))})}resolveRefConstraints(){const{dragConstraints:f,onMeasureDragConstraints:d}=this.getProps();if(!f||!Uo(f))return!1;const g=f.current;la(g!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:C}=this.visualElement;if(!C||!C.layout)return!1;const I=rf(g,C.root,this.visualElement.getTransformPagePoint());let O=yl(C.layout.layoutBox,I);if(d){const L=d(ef(O));this.hasMutatedConstraints=!!L,L&&(O=Ru(L))}return O}startAnimation(f){const{drag:d,dragMomentum:g,dragElastic:C,dragTransition:I,dragSnapToOrigin:O,onDragTransitionEnd:L}=this.getProps(),N=this.constraints||{},j=so(Q=>{if(!Fs(Q,d,this.currentDirection))return;let pe=N&&N[Q]||{};O&&(pe={min:0,max:0});const Me=C?200:1e6,st=C?40:1e7,ct=ar(ar({type:"inertia",velocity:g?f[Q]:0,bounceStiffness:Me,bounceDamping:st,timeConstant:750,restDelta:1,restSpeed:10},I),pe);return this.startAxisValueAnimation(Q,ct)});return Promise.all(j).then(L)}startAxisValueAnimation(f,d){const g=this.getAxisMotionValue(f);return qr(this.visualElement,f),g.start(ea(f,g,0,d,this.visualElement,!1))}stopAnimation(){so(f=>this.getAxisMotionValue(f).stop())}pauseAnimation(){so(f=>{var d;return(d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.pause()})}getAnimationState(f){var d;return(d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.state}getAxisMotionValue(f){const d=`_drag${f.toUpperCase()}`,g=this.visualElement.getProps(),C=g[d];return C||this.visualElement.getValue(f,(g.initial?g.initial[f]:void 0)||0)}snapToCursor(f){so(d=>{const{drag:g}=this.getProps();if(!Fs(d,g,this.currentDirection))return;const{projection:C}=this.visualElement,I=this.getAxisMotionValue(d);if(C&&C.layout){const{min:O,max:L}=C.layout.layoutBox[d];I.set(f[d]-Xt(O,L,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:f,dragConstraints:d}=this.getProps(),{projection:g}=this.visualElement;if(!Uo(d)||!g||!this.constraints)return;this.stopAnimation();const C={x:0,y:0};so(O=>{const L=this.getAxisMotionValue(O);if(L&&this.constraints!==!1){const N=L.get();C[O]=bl({min:N,max:N},this.constraints[O])}});const{transformTemplate:I}=this.visualElement.getProps();this.visualElement.current.style.transform=I?I({},""):"none",g.root&&g.root.updateScroll(),g.updateLayout(),this.resolveConstraints(),so(O=>{if(!Fs(O,f,null))return;const L=this.getAxisMotionValue(O),{min:N,max:j}=this.constraints[O];L.set(Xt(N,j,C[O]))})}addListeners(){if(!this.visualElement.current)return;nf.set(this.visualElement,this);const f=this.visualElement.current,d=ys(f,"pointerdown",N=>{const{drag:j,dragListener:Q=!0}=this.getProps();j&&Q&&this.start(N)}),g=()=>{const{dragConstraints:N}=this.getProps();Uo(N)&&N.current&&(this.constraints=this.resolveRefConstraints())},{projection:C}=this.visualElement,I=C.addEventListener("measure",g);C&&!C.layout&&(C.root&&C.root.updateScroll(),C.updateLayout()),wt.read(g);const O=ps(window,"resize",()=>this.scalePositionWithinConstraints()),L=C.addEventListener("didUpdate",({delta:N,hasLayoutChanged:j})=>{this.isDragging&&j&&(so(Q=>{const pe=this.getAxisMotionValue(Q);pe&&(this.originPoint[Q]+=N[Q].translate,pe.set(pe.get()+N[Q].translate))}),this.visualElement.render())});return()=>{O(),d(),I(),L&&L()}}getProps(){const f=this.visualElement.getProps(),{drag:d=!1,dragDirectionLock:g=!1,dragPropagation:C=!1,dragConstraints:I=!1,dragElastic:O=Cl,dragMomentum:L=!0}=f;return mi(ar({},f),{drag:d,dragDirectionLock:g,dragPropagation:C,dragConstraints:I,dragElastic:O,dragMomentum:L})}}function Fs(c,f,d){return(f===!0||f===c)&&(d===null||d===c)}function of(c,f=10){let d=null;return Math.abs(c.y)>f?d="y":Math.abs(c.x)>f&&(d="x"),d}class Qa extends Mo{constructor(f){super(f),this.removeGroupControls=Ae,this.removeListeners=Ae,this.controls=new af(f)}mount(){const{dragControls:f}=this.node.getProps();f&&(this.removeGroupControls=f.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cs=c=>(f,d)=>{c&&wt.postRender(()=>c(f,d))};class Vu extends Mo{constructor(){super(...arguments),this.removePointerDownListener=Ae}onPointerDown(f){this.session=new As(f,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nu(this.node)})}createPanHandlers(){const{onPanSessionStart:f,onPanStart:d,onPan:g,onPanEnd:C}=this.node.getProps();return{onSessionStart:Cs(f),onStart:Cs(d),onMove:g,onEnd:(I,O)=>{delete this.session,C&&wt.postRender(()=>C(I,O))}}}mount(){this.removePointerDownListener=ys(this.node.current,"pointerdown",f=>this.onPointerDown(f))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var Es=T(85893),kn=T(67294);const Tl=(0,kn.createContext)(null);function wh(c=!0){const f=(0,kn.useContext)(Tl);if(f===null)return[!0,null];const{isPresent:d,onExitComplete:g,register:C}=f,I=(0,kn.useId)();(0,kn.useEffect)(()=>{c&&C(I)},[c]);const O=(0,kn.useCallback)(()=>c&&g&&g(I),[I,g,c]);return!d&&g?[!1,O]:[!0]}function Ad(){return Oh(useContext(PresenceContext))}function Oh(c){return c===null?!0:c.isPresent}const sf=(0,kn.createContext)({}),bo=(0,kn.createContext)({}),el={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pa(c,f){return f.max===f.min?0:c/(f.max-f.min)*100}const Ds={correct:(c,f)=>{if(!f.target)return c;if(typeof c=="string")if(lt.test(c))c=parseFloat(c);else return c;const d=Pa(c,f.target.x),g=Pa(c,f.target.y);return`${d}% ${g}%`}},dr={correct:(c,{treeScale:f,projectionDelta:d})=>{const g=c,C=oi.parse(c);if(C.length>5)return g;const I=oi.createTransformer(c),O=typeof C[0]!="number"?1:0,L=d.x.scale*f.x,N=d.y.scale*f.y;C[0+O]/=L,C[1+O]/=N;const j=Xt(L,N,.5);return typeof C[2+O]=="number"&&(C[2+O]/=j),typeof C[3+O]=="number"&&(C[3+O]/=j),I(C)}},Sl={};function Yl(c){Object.assign(Sl,c)}const{schedule:wl,cancel:Kl}=Bt(queueMicrotask,!1);class Bu extends kn.Component{componentDidMount(){const{visualElement:f,layoutGroup:d,switchLayoutGroup:g,layoutId:C}=this.props,{projection:I}=f;Yl(Ns),I&&(d.group&&d.group.add(I),g&&g.register&&C&&g.register(I),I.root.didUpdate(),I.addEventListener("animationComplete",()=>{this.safeToRemove()}),I.setOptions(mi(ar({},I.options),{onExitComplete:()=>this.safeToRemove()}))),el.hasEverUpdated=!0}getSnapshotBeforeUpdate(f){const{layoutDependency:d,visualElement:g,drag:C,isPresent:I}=this.props,O=g.projection;return O&&(O.isPresent=I,C||f.layoutDependency!==d||d===void 0?O.willUpdate():this.safeToRemove(),f.isPresent!==I&&(I?O.promote():O.relegate()||wt.postRender(()=>{const L=O.getStack();(!L||!L.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:f}=this.props.visualElement;f&&(f.root.didUpdate(),wl.postRender(()=>{!f.currentAnimation&&f.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:f,layoutGroup:d,switchLayoutGroup:g}=this.props,{projection:C}=f;C&&(C.scheduleCheckAfterUnmount(),d&&d.group&&d.group.remove(C),g&&g.deregister&&g.deregister(C))}safeToRemove(){const{safeToRemove:f}=this.props;f&&f()}render(){return null}}function jo(c){const[f,d]=wh(),g=(0,kn.useContext)(sf);return(0,Es.jsx)(Bu,mi(ar({},c),{layoutGroup:g,switchLayoutGroup:(0,kn.useContext)(bo),isPresent:f,safeToRemove:d}))}const Ns={borderRadius:mi(ar({},Ds),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ds,borderTopRightRadius:Ds,borderBottomLeftRadius:Ds,borderBottomRightRadius:Ds,boxShadow:dr};function zu(c,f,d){const g=hr(c)?c:Er(c);return g.start(ea("",g,f,d)),g.animation}function Uu(c){return c instanceof SVGElement&&c.tagName!=="svg"}const lf=(c,f)=>c.depth-f.depth;class Ol{constructor(){this.children=[],this.isDirty=!1}add(f){lr(this.children,f),this.isDirty=!0}remove(f){nr(this.children,f),this.isDirty=!0}forEach(f){this.isDirty&&this.children.sort(lf),this.isDirty=!1,this.children.forEach(f)}}function ku(c,f){const d=sr.now(),g=({timestamp:C})=>{const I=C-d;I>=f&&(pr(g),c(I-f))};return wt.read(g,!0),()=>pr(g)}function Mh(c,f){return ku(c,secondsToMilliseconds(f))}function Vs(c){const f=hr(c)?c.get():c;return ue(f)?f.toValue():f}const $u=["TopLeft","TopRight","BottomLeft","BottomRight"],Ql=$u.length,ju=c=>typeof c=="string"?parseFloat(c):c,tl=c=>typeof c=="number"||lt.test(c);function uf(c,f,d,g,C,I){C?(c.opacity=Xt(0,d.opacity!==void 0?d.opacity:1,cf(g)),c.opacityExit=Xt(f.opacity!==void 0?f.opacity:1,0,ff(g))):I&&(c.opacity=Xt(f.opacity!==void 0?f.opacity:1,d.opacity!==void 0?d.opacity:1,g));for(let O=0;O<Ql;O++){const L=`border${$u[O]}Radius`;let N=Hu(f,L),j=Hu(d,L);if(N===void 0&&j===void 0)continue;N||(N=0),j||(j=0),N===0||j===0||tl(N)===tl(j)?(c[L]=Math.max(Xt(ju(N),ju(j),g),0),(Hn.test(j)||Hn.test(N))&&(c[L]+="%")):c[L]=j}(f.rotate||d.rotate)&&(c.rotate=Xt(f.rotate||0,d.rotate||0,g))}function Hu(c,f){return c[f]!==void 0?c[f]:c.borderRadius}const cf=Jl(0,.5,qt),ff=Jl(.5,.95,Ae);function Jl(c,f,d){return g=>g<c?0:g>f?1:d(It(c,f,g))}function xa(c,f){c.min=f.min,c.max=f.max}function eo(c,f){xa(c.x,f.x),xa(c.y,f.y)}function ql(c,f){c.translate=f.translate,c.scale=f.scale,c.originPoint=f.originPoint,c.origin=f.origin}function Gu(c,f,d,g,C){return c-=f,c=El(c,1/d,g),C!==void 0&&(c=El(c,1/C,g)),c}function lo(c,f=0,d=1,g=.5,C,I=c,O=c){if(Hn.test(f)&&(f=parseFloat(f),f=Xt(O.min,O.max,f/100)-O.min),typeof f!="number")return;let L=Xt(I.min,I.max,g);c===I&&(L-=f),c.min=Gu(c.min,f,d,L,C),c.max=Gu(c.max,f,d,L,C)}function eu(c,f,[d,g,C],I,O){lo(c,f[d],f[g],f[C],f.scale,I,O)}const hf=["x","scaleX","originX"],df=["y","scaleY","originY"];function Wu(c,f,d,g){eu(c.x,f,hf,d?d.x:void 0,g?g.x:void 0),eu(c.y,f,df,d?d.y:void 0,g?g.y:void 0)}function Zu(c){return c.translate===0&&c.scale===1}function Ml(c){return Zu(c.x)&&Zu(c.y)}function Xu(c,f){return c.min===f.min&&c.max===f.max}function mf(c,f){return Xu(c.x,f.x)&&Xu(c.y,f.y)}function Yu(c,f){return Math.round(c.min)===Math.round(f.min)&&Math.round(c.max)===Math.round(f.max)}function Ku(c,f){return Yu(c.x,f.x)&&Yu(c.y,f.y)}function Qu(c){return Di(c.x)/Di(c.y)}function tu(c,f){return c.translate===f.translate&&c.scale===f.scale&&c.originPoint===f.originPoint}class Ju{constructor(){this.members=[]}add(f){lr(this.members,f),f.scheduleRender()}remove(f){if(nr(this.members,f),f===this.prevLead&&(this.prevLead=void 0),f===this.lead){const d=this.members[this.members.length-1];d&&this.promote(d)}}relegate(f){const d=this.members.findIndex(C=>f===C);if(d===0)return!1;let g;for(let C=d;C>=0;C--){const I=this.members[C];if(I.isPresent!==!1){g=I;break}}return g?(this.promote(g),!0):!1}promote(f,d){const g=this.lead;if(f!==g&&(this.prevLead=g,this.lead=f,f.show(),g)){g.instance&&g.scheduleRender(),f.scheduleRender(),f.resumeFrom=g,d&&(f.resumeFrom.preserveOpacity=!0),g.snapshot&&(f.snapshot=g.snapshot,f.snapshot.latestValues=g.animationValues||g.latestValues),f.root&&f.root.isUpdating&&(f.isLayoutDirty=!0);const{crossfade:C}=f.options;C===!1&&g.hide()}}exitAnimationComplete(){this.members.forEach(f=>{const{options:d,resumingFrom:g}=f;d.onExitComplete&&d.onExitComplete(),g&&g.options.onExitComplete&&g.options.onExitComplete()})}scheduleRender(){this.members.forEach(f=>{f.instance&&f.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vf(c,f,d){let g="";const C=c.x.translate/f.x,I=c.y.translate/f.y,O=(d==null?void 0:d.z)||0;if((C||I||O)&&(g=`translate3d(${C}px, ${I}px, ${O}px) `),(f.x!==1||f.y!==1)&&(g+=`scale(${1/f.x}, ${1/f.y}) `),d){const{transformPerspective:j,rotate:Q,rotateX:pe,rotateY:Me,skewX:st,skewY:ct}=d;j&&(g=`perspective(${j}px) ${g}`),Q&&(g+=`rotate(${Q}deg) `),pe&&(g+=`rotateX(${pe}deg) `),Me&&(g+=`rotateY(${Me}deg) `),st&&(g+=`skewX(${st}deg) `),ct&&(g+=`skewY(${ct}deg) `)}const L=c.x.scale*f.x,N=c.y.scale*f.y;return(L!==1||N!==1)&&(g+=`scale(${L}, ${N})`),g||"none"}const Po={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rl=typeof window!="undefined"&&window.MotionDebug!==void 0,ru=["","X","Y","Z"],pf={visibility:"hidden"},Al=1e3;let Ah=0;function nl(c,f,d,g){const{latestValues:C}=f;C[c]&&(d[c]=C[c],f.setStaticValue(c,0),g&&(g[c]=0))}function qu(c){if(c.hasCheckedOptimisedAppear=!0,c.root===c)return;const{visualElement:f}=c.options;if(!f)return;const d=pi(f);if(window.MotionHasOptimisedAnimation(d,"transform")){const{layout:C,layoutId:I}=c.options;window.MotionCancelOptimisedAnimation(d,"transform",wt,!(C||I))}const{parent:g}=c;g&&!g.hasCheckedOptimisedAppear&&qu(g)}function ec({attachResizeListener:c,defaultParent:f,measureScroll:d,checkIsScrollRoot:g,resetTransform:C}){return class{constructor(O={},L=f==null?void 0:f()){this.id=Ah++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rl&&(Po.totalNodes=Po.resolvedTargetDeltas=Po.recalculatedProjection=0),this.nodes.forEach(_o),this.nodes.forEach(iu),this.nodes.forEach(bf),this.nodes.forEach(Il),rl&&window.MotionDebug.record(Po)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=L?L.root||L:this,this.path=L?[...L.path,L]:[],this.parent=L,this.depth=L?L.depth+1:0;for(let N=0;N<this.path.length;N++)this.path[N].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ol)}addEventListener(O,L){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new Br),this.eventHandlers.get(O).add(L)}notifyListeners(O,...L){const N=this.eventHandlers.get(O);N&&N.notify(...L)}hasListeners(O){return this.eventHandlers.has(O)}mount(O,L=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uu(O),this.instance=O;const{layoutId:N,layout:j,visualElement:Q}=this.options;if(Q&&!Q.current&&Q.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),L&&(j||N)&&(this.isLayoutDirty=!0),c){let pe;const Me=()=>this.root.updateBlockedByResize=!1;c(O,()=>{this.root.updateBlockedByResize=!0,pe&&pe(),pe=ku(Me,250),el.hasAnimatedSinceResize&&(el.hasAnimatedSinceResize=!1,this.nodes.forEach(Pi))})}N&&this.root.registerSharedNode(N,this),this.options.animate!==!1&&Q&&(N||j)&&this.addEventListener("didUpdate",({delta:pe,hasLayoutChanged:Me,hasRelativeLayoutChanged:st,layout:ct})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const kt=this.options.transition||Q.getDefaultTransition()||ac,{onLayoutAnimationStart:yr,onLayoutAnimationComplete:mr}=Q.getProps(),rn=!this.targetLayout||!Ku(this.targetLayout,ct),fn=!Me&&st;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||fn||Me&&(rn||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(pe,fn);const ui=mi(ar({},St(kt,"layout")),{onPlay:yr,onComplete:mr});(Q.shouldReduceMotion||this.options.layoutRoot)&&(ui.delay=0,ui.type=!1),this.startAnimation(ui)}else Me||Pi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ct})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xf),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Q=0;Q<this.path.length;Q++){const pe=this.path[Q];pe.shouldResetTransform=!0,pe.updateScroll("snapshot"),pe.options.layoutRoot&&pe.willUpdate(!1)}const{layoutId:L,layout:N}=this.options;if(L===void 0&&!N)return;const j=this.getTransformTemplate();this.prevTransformTemplateValue=j?j(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tc);return}this.isUpdating||this.nodes.forEach(il),this.isUpdating=!1,this.nodes.forEach(nu),this.nodes.forEach(Ro),this.nodes.forEach(gf),this.clearAllSnapshots();const L=sr.now();Et.delta=Nt(0,1e3/60,L-Et.timestamp),Et.timestamp=L,Et.isProcessing=!0,be.update.process(Et),be.preRender.process(Et),be.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yf),this.sharedNodes.forEach(rc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let N=0;N<this.path.length;N++)this.path[N].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ua(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:L}=this.options;L&&L.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let L=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(L=!1),L){const N=g(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:N,offset:d(this.instance),wasRoot:this.scroll?this.scroll.isRoot:N}}}resetTransform(){if(!C)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,L=this.projectionDelta&&!Ml(this.projectionDelta),N=this.getTransformTemplate(),j=N?N(this.latestValues,""):void 0,Q=j!==this.prevTransformTemplateValue;O&&(L||ko(this.latestValues)||Q)&&(C(this.instance,j),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const L=this.measurePageBox();let N=this.removeElementScroll(L);return O&&(N=this.removeTransform(N)),su(N),{animationId:this.root.animationId,measuredBox:L,layoutBox:N,latestValues:{},source:this.id}}measurePageBox(){var O;const{visualElement:L}=this.options;if(!L)return ua();const N=L.measureViewportBox();if(!(((O=this.scroll)===null||O===void 0?void 0:O.wasRoot)||this.path.some(Tf))){const{scroll:Q}=this.root;Q&&(_s(N.x,Q.offset.x),_s(N.y,Q.offset.y))}return N}removeElementScroll(O){var L;const N=ua();if(eo(N,O),!((L=this.scroll)===null||L===void 0)&&L.wasRoot)return N;for(let j=0;j<this.path.length;j++){const Q=this.path[j],{scroll:pe,options:Me}=Q;Q!==this.root&&pe&&Me.layoutScroll&&(pe.wasRoot&&eo(N,O),_s(N.x,pe.offset.x),_s(N.y,pe.offset.y))}return N}applyTransform(O,L=!1){const N=ua();eo(N,O);for(let j=0;j<this.path.length;j++){const Q=this.path[j];!L&&Q.options.layoutScroll&&Q.scroll&&Q!==Q.root&&Ls(N,{x:-Q.scroll.offset.x,y:-Q.scroll.offset.y}),ko(Q.latestValues)&&Ls(N,Q.latestValues)}return ko(this.latestValues)&&Ls(N,this.latestValues),N}removeTransform(O){const L=ua();eo(L,O);for(let N=0;N<this.path.length;N++){const j=this.path[N];if(!j.instance||!ko(j.latestValues))continue;Zl(j.latestValues)&&j.updateSnapshot();const Q=ua(),pe=j.measurePageBox();eo(Q,pe),Wu(L,j.latestValues,j.snapshot?j.snapshot.layoutBox:void 0,Q)}return ko(this.latestValues)&&Wu(L,this.latestValues),L}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options=mi(ar(ar({},this.options),O),{crossfade:O.crossfade!==void 0?O.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){var L;const N=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=N.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=N.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=N.isSharedProjectionDirty);const j=!!this.resumingFrom||this!==N;if(!(O||j&&this.isSharedProjectionDirty||this.isProjectionDirty||!((L=this.parent)===null||L===void 0)&&L.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:pe,layoutId:Me}=this.options;if(!(!this.layout||!(pe||Me))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const st=this.getClosestProjectingParent();st&&st.layout&&this.animationProgress!==1?(this.relativeParent=st,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ua(),this.relativeTargetOrigin=ua(),ka(this.relativeTargetOrigin,this.layout.layoutBox,st.layout.layoutBox),eo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ua(),this.targetWithTransforms=ua()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ao(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):eo(this.target,this.layout.layoutBox),Io(this.target,this.targetDelta)):eo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const st=this.getClosestProjectingParent();st&&!!st.resumingFrom==!!this.resumingFrom&&!st.options.layoutScroll&&st.target&&this.animationProgress!==1?(this.relativeParent=st,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ua(),this.relativeTargetOrigin=ua(),ka(this.relativeTargetOrigin,this.target,st.target),eo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rl&&Po.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zl(this.parent.latestValues)||Xl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const L=this.getLead(),N=!!this.resumingFrom||this!==L;let j=!0;if((this.isProjectionDirty||!((O=this.parent)===null||O===void 0)&&O.isProjectionDirty)&&(j=!1),N&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(j=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(j=!1),j)return;const{layout:Q,layoutId:pe}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Q||pe))return;eo(this.layoutCorrected,this.layout.layoutBox);const Me=this.treeScale.x,st=this.treeScale.y;tf(this.layoutCorrected,this.treeScale,this.path,N),L.layout&&!L.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(L.target=L.layout.layoutBox,L.targetWithTransforms=ua());const{target:ct}=L;if(!ct){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ql(this.prevProjectionDelta.x,this.projectionDelta.x),ql(this.prevProjectionDelta.y,this.projectionDelta.y)),ii(this.projectionDelta,this.layoutCorrected,ct,this.latestValues),(this.treeScale.x!==Me||this.treeScale.y!==st||!tu(this.projectionDelta.x,this.prevProjectionDelta.x)||!tu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ct)),rl&&Po.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){var L;if((L=this.options.visualElement)===null||L===void 0||L.scheduleRender(),O){const N=this.getStack();N&&N.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rs(),this.projectionDelta=Rs(),this.projectionDeltaWithTransform=Rs()}setAnimationOrigin(O,L=!1){const N=this.snapshot,j=N?N.latestValues:{},Q=ar({},this.latestValues),pe=Rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!L;const Me=ua(),st=N?N.source:void 0,ct=this.layout?this.layout.source:void 0,kt=st!==ct,yr=this.getStack(),mr=!yr||yr.members.length<=1,rn=!!(kt&&!mr&&this.options.crossfade===!0&&!this.path.some(Ih));this.animationProgress=0;let fn;this.mixTargetDelta=ui=>{const Tn=ui/1e3;nc(pe.x,O.x,Tn),nc(pe.y,O.y,Tn),this.setTargetDelta(pe),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ka(Me,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ic(this.relativeTarget,this.relativeTargetOrigin,Me,Tn),fn&&mf(this.relativeTarget,fn)&&(this.isProjectionDirty=!1),fn||(fn=ua()),eo(fn,this.relativeTarget)),kt&&(this.animationValues=Q,uf(Q,j,this.latestValues,Tn,rn,mr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Tn},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{el.hasAnimatedSinceResize=!0,this.currentAnimation=zu(0,Al,mi(ar({},O),{onUpdate:L=>{this.mixTargetDelta(L),O.onUpdate&&O.onUpdate(L)},onComplete:()=>{O.onComplete&&O.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Al),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:L,target:N,layout:j,latestValues:Q}=O;if(!(!L||!N||!j)){if(this!==O&&this.layout&&j&&Ef(this.options.animationType,this.layout.layoutBox,j.layoutBox)){N=this.target||ua();const pe=Di(this.layout.layoutBox.x);N.x.min=O.target.x.min,N.x.max=N.x.min+pe;const Me=Di(this.layout.layoutBox.y);N.y.min=O.target.y.min,N.y.max=N.y.min+Me}eo(L,N),Ls(L,Q),ii(this.projectionDeltaWithTransform,this.layoutCorrected,L,Q)}}registerSharedNode(O,L){this.sharedNodes.has(O)||this.sharedNodes.set(O,new Ju),this.sharedNodes.get(O).add(L);const j=L.options.initialPromotionConfig;L.promote({transition:j?j.transition:void 0,preserveFollowOpacity:j&&j.shouldPreserveFollowOpacity?j.shouldPreserveFollowOpacity(L):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){var O;const{layoutId:L}=this.options;return L?((O=this.getStack())===null||O===void 0?void 0:O.lead)||this:this}getPrevLead(){var O;const{layoutId:L}=this.options;return L?(O=this.getStack())===null||O===void 0?void 0:O.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:L,preserveFollowOpacity:N}={}){const j=this.getStack();j&&j.promote(this,N),O&&(this.projectionDelta=void 0,this.needsReset=!0),L&&this.setOptions({transition:L})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let L=!1;const{latestValues:N}=O;if((N.z||N.rotate||N.rotateX||N.rotateY||N.rotateZ||N.skewX||N.skewY)&&(L=!0),!L)return;const j={};N.z&&nl("z",O,j,this.animationValues);for(let Q=0;Q<ru.length;Q++)nl(`rotate${ru[Q]}`,O,j,this.animationValues),nl(`skew${ru[Q]}`,O,j,this.animationValues);O.render();for(const Q in j)O.setStaticValue(Q,j[Q]),this.animationValues&&(this.animationValues[Q]=j[Q]);O.scheduleRender()}getProjectionStyles(O){var L,N;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pf;const j={visibility:""},Q=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,j.opacity="",j.pointerEvents=Vs(O==null?void 0:O.pointerEvents)||"",j.transform=Q?Q(this.latestValues,""):"none",j;const pe=this.getLead();if(!this.projectionDelta||!this.layout||!pe.target){const kt={};return this.options.layoutId&&(kt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,kt.pointerEvents=Vs(O==null?void 0:O.pointerEvents)||""),this.hasProjected&&!ko(this.latestValues)&&(kt.transform=Q?Q({},""):"none",this.hasProjected=!1),kt}const Me=pe.animationValues||pe.latestValues;this.applyTransformsToTarget(),j.transform=vf(this.projectionDeltaWithTransform,this.treeScale,Me),Q&&(j.transform=Q(Me,j.transform));const{x:st,y:ct}=this.projectionDelta;j.transformOrigin=`${st.origin*100}% ${ct.origin*100}% 0`,pe.animationValues?j.opacity=pe===this?(N=(L=Me.opacity)!==null&&L!==void 0?L:this.latestValues.opacity)!==null&&N!==void 0?N:1:this.preserveOpacity?this.latestValues.opacity:Me.opacityExit:j.opacity=pe===this?Me.opacity!==void 0?Me.opacity:"":Me.opacityExit!==void 0?Me.opacityExit:0;for(const kt in Sl){if(Me[kt]===void 0)continue;const{correct:yr,applyTo:mr}=Sl[kt],rn=j.transform==="none"?Me[kt]:yr(Me[kt],pe);if(mr){const fn=mr.length;for(let ui=0;ui<fn;ui++)j[mr[ui]]=rn}else j[kt]=rn}return this.options.layoutId&&(j.pointerEvents=pe===this?Vs(O==null?void 0:O.pointerEvents)||"":"none"),j}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>{var L;return(L=O.currentAnimation)===null||L===void 0?void 0:L.stop()}),this.root.nodes.forEach(tc),this.root.sharedNodes.clear()}}}function Ro(c){c.updateLayout()}function gf(c){var f;const d=((f=c.resumeFrom)===null||f===void 0?void 0:f.snapshot)||c.snapshot;if(c.isLead()&&c.layout&&d&&c.hasListeners("didUpdate")){const{layoutBox:g,measuredBox:C}=c.layout,{animationType:I}=c.options,O=d.source!==c.layout.source;I==="size"?so(pe=>{const Me=O?d.measuredBox[pe]:d.layoutBox[pe],st=Di(Me);Me.min=g[pe].min,Me.max=Me.min+st}):Ef(I,d.layoutBox,g)&&so(pe=>{const Me=O?d.measuredBox[pe]:d.layoutBox[pe],st=Di(g[pe]);Me.max=Me.min+st,c.relativeTarget&&!c.currentAnimation&&(c.isProjectionDirty=!0,c.relativeTarget[pe].max=c.relativeTarget[pe].min+st)});const L=Rs();ii(L,g,d.layoutBox);const N=Rs();O?ii(N,c.applyTransform(C,!0),d.measuredBox):ii(N,g,d.layoutBox);const j=!Ml(L);let Q=!1;if(!c.resumeFrom){const pe=c.getClosestProjectingParent();if(pe&&!pe.resumeFrom){const{snapshot:Me,layout:st}=pe;if(Me&&st){const ct=ua();ka(ct,d.layoutBox,Me.layoutBox);const kt=ua();ka(kt,g,st.layoutBox),Ku(ct,kt)||(Q=!0),pe.options.layoutRoot&&(c.relativeTarget=kt,c.relativeTargetOrigin=ct,c.relativeParent=pe)}}}c.notifyListeners("didUpdate",{layout:g,snapshot:d,delta:N,layoutDelta:L,hasLayoutChanged:j,hasRelativeLayoutChanged:Q})}else if(c.isLead()){const{onExitComplete:g}=c.options;g&&g()}c.options.transition=void 0}function _o(c){rl&&Po.totalNodes++,c.parent&&(c.isProjecting()||(c.isProjectionDirty=c.parent.isProjectionDirty),c.isSharedProjectionDirty||(c.isSharedProjectionDirty=!!(c.isProjectionDirty||c.parent.isProjectionDirty||c.parent.isSharedProjectionDirty)),c.isTransformDirty||(c.isTransformDirty=c.parent.isTransformDirty))}function Il(c){c.isProjectionDirty=c.isSharedProjectionDirty=c.isTransformDirty=!1}function yf(c){c.clearSnapshot()}function tc(c){c.clearMeasurements()}function il(c){c.isLayoutDirty=!1}function nu(c){const{visualElement:f}=c.options;f&&f.getProps().onBeforeLayoutMeasure&&f.notify("BeforeLayoutMeasure"),c.resetTransform()}function Pi(c){c.finishAnimation(),c.targetDelta=c.relativeTarget=c.target=void 0,c.isProjectionDirty=!0}function iu(c){c.resolveTargetDelta()}function bf(c){c.calcProjection()}function xf(c){c.resetSkewAndRotation()}function rc(c){c.removeLeadSnapshot()}function nc(c,f,d){c.translate=Xt(f.translate,0,d),c.scale=Xt(f.scale,1,d),c.origin=f.origin,c.originPoint=f.originPoint}function au(c,f,d,g){c.min=Xt(f.min,d.min,g),c.max=Xt(f.max,d.max,g)}function ic(c,f,d,g){au(c.x,f.x,d.x,g),au(c.y,f.y,d.y,g)}function Ih(c){return c.animationValues&&c.animationValues.opacityExit!==void 0}const ac={duration:.45,ease:[.4,0,.1,1]},oc=c=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(c),Cf=oc("applewebkit/")&&!oc("chrome/")?Math.round:Ae;function ou(c){c.min=Cf(c.min),c.max=Cf(c.max)}function su(c){ou(c.x),ou(c.y)}function Ef(c,f,d){return c==="position"||c==="preserve-aspect"&&!ta(Qu(f),Qu(d),.2)}function Tf(c){var f;return c!==c.root&&((f=c.scroll)===null||f===void 0?void 0:f.wasRoot)}const Bs=ec({attachResizeListener:(c,f)=>ps(c,"resize",f),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lu={current:void 0},sc=ec({measureScroll:c=>({x:c.scrollLeft,y:c.scrollTop}),defaultParent:()=>{if(!lu.current){const c=new Bs({});c.mount(window),c.setOptions({layoutScroll:!0}),lu.current=c}return lu.current},resetTransform:(c,f)=>{c.style.transform=f!==void 0?f:"none"},checkIsScrollRoot:c=>window.getComputedStyle(c).position==="fixed"}),Sf={pan:{Feature:Vu},drag:{Feature:Qa,ProjectionNode:sc,MeasureLayout:jo}};function lc(c,f,d){const{props:g}=c;c.animationState&&g.whileHover&&c.animationState.setActive("whileHover",d==="Start");const C="onHover"+d,I=g[C];I&&wt.postRender(()=>I(f,ts(f)))}class wf extends Mo{mount(){const{current:f}=this.node;f&&(this.unmount=q(f,(d,g)=>(lc(this.node,g,"Start"),C=>lc(this.node,C,"End"))))}unmount(){}}class Of extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let f=!1;try{f=this.node.current.matches(":focus-visible")}catch(d){f=!0}!f||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(ps(this.node.current,"focus",()=>this.onFocus()),ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uc(c,f,d){const{props:g}=c;c.animationState&&g.whileTap&&c.animationState.setActive("whileTap",d==="Start");const C="onTap"+(d==="End"?"":d),I=g[C];I&&wt.postRender(()=>I(f,ts(f)))}class cc extends Mo{mount(){const{current:f}=this.node;f&&(this.unmount=or(f,(d,g)=>(uc(this.node,g,"Start"),(C,{success:I})=>uc(this.node,C,I?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uu=new WeakMap,cu=new WeakMap,fc=c=>{const f=uu.get(c.target);f&&f(c)},uo=c=>{c.forEach(fc)};function Mf(d){var g=d,{root:c}=g,f=xo(g,["root"]);const C=c||document;cu.has(C)||cu.set(C,{});const I=cu.get(C),O=JSON.stringify(f);return I[O]||(I[O]=new IntersectionObserver(uo,ar({root:c},f))),I[O]}function Af(c,f,d){const g=Mf(f);return uu.set(c,d),g.observe(c),()=>{uu.delete(c),g.unobserve(c)}}const hc={some:0,all:1};class ns extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:f={}}=this.node.getProps(),{root:d,margin:g,amount:C="some",once:I}=f,O={root:d?d.current:void 0,rootMargin:g,threshold:typeof C=="number"?C:hc[C]},L=N=>{const{isIntersecting:j}=N;if(this.isInView===j||(this.isInView=j,I&&!j&&this.hasEnteredView))return;j&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",j);const{onViewportEnter:Q,onViewportLeave:pe}=this.node.getProps(),Me=j?Q:pe;Me&&Me(N)};return Af(this.node.current,O,L)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:f,prevProps:d}=this.node;["amount","margin","root"].some(If(f,d))&&this.startObserver()}unmount(){}}function If({viewport:c={}},{viewport:f={}}={}){return d=>c[d]!==f[d]}const Pf={inView:{Feature:ns},tap:{Feature:cc},focus:{Feature:Of},hover:{Feature:wf}},Rf={layout:{ProjectionNode:sc,MeasureLayout:jo}},dc=(0,kn.createContext)({strict:!1}),mc=(0,kn.createContext)({transformPagePoint:c=>c,isStatic:!1,reducedMotion:"never"}),Pl=(0,kn.createContext)({});function Rl(c){return M(c.animate)||X.some(f=>re(c[f]))}function vc(c){return!!(Rl(c)||c.variants)}function _f(c,f){if(Rl(c)){const{initial:d,animate:g}=c;return{initial:d===!1||re(d)?d:void 0,animate:re(g)?g:void 0}}return c.inherit!==!1?f:{}}function fu(c){const{initial:f,animate:d}=_f(c,(0,kn.useContext)(Pl));return(0,kn.useMemo)(()=>({initial:f,animate:d}),[pc(f),pc(d)])}function pc(c){return Array.isArray(c)?c.join(" "):c}const is=typeof window!="undefined",gc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ni={};for(const c in gc)Ni[c]={isEnabled:f=>gc[c].some(d=>!!f[d])};function _l(c){for(const f in c)Ni[f]=ar(ar({},Ni[f]),c[f])}const yc=Symbol.for("motionComponentSymbol");function Ll(c,f,d){return(0,kn.useCallback)(g=>{g&&c.onMount&&c.onMount(g),f&&(g?f.mount(g):f.unmount()),d&&(typeof d=="function"?d(g):Uo(d)&&(d.current=g))},[f])}const Fl=is?kn.useLayoutEffect:kn.useEffect;function Lf(c,f,d,g,C){var I,O;const{visualElement:L}=(0,kn.useContext)(Pl),N=(0,kn.useContext)(dc),j=(0,kn.useContext)(Tl),Q=(0,kn.useContext)(mc).reducedMotion,pe=(0,kn.useRef)(null);g=g||N.renderer,!pe.current&&g&&(pe.current=g(c,{visualState:f,parent:L,props:d,presenceContext:j,blockInitialAnimation:j?j.initial===!1:!1,reducedMotionConfig:Q}));const Me=pe.current,st=(0,kn.useContext)(bo);Me&&!Me.projection&&C&&(Me.type==="html"||Me.type==="svg")&&al(pe.current,d,C,st);const ct=(0,kn.useRef)(!1);(0,kn.useInsertionEffect)(()=>{Me&&ct.current&&Me.update(d,j)});const kt=d[vi],yr=(0,kn.useRef)(!!kt&&!(!((I=window.MotionHandoffIsComplete)===null||I===void 0)&&I.call(window,kt))&&((O=window.MotionHasOptimisedAnimation)===null||O===void 0?void 0:O.call(window,kt)));return Fl(()=>{Me&&(ct.current=!0,window.MotionIsMounted=!0,Me.updateFeatures(),wl.render(Me.render),yr.current&&Me.animationState&&Me.animationState.animateChanges())}),(0,kn.useEffect)(()=>{Me&&(!yr.current&&Me.animationState&&Me.animationState.animateChanges(),yr.current&&(queueMicrotask(()=>{var mr;(mr=window.MotionHandoffMarkAsComplete)===null||mr===void 0||mr.call(window,kt)}),yr.current=!1))}),Me}function al(c,f,d,g){const{layoutId:C,layout:I,drag:O,dragConstraints:L,layoutScroll:N,layoutRoot:j}=f;c.projection=new d(c.latestValues,f["data-framer-portal-id"]?void 0:bc(c.parent)),c.projection.setOptions({layoutId:C,layout:I,alwaysMeasureLayout:!!O||L&&Uo(L),visualElement:c,animationType:typeof I=="string"?I:"both",initialPromotionConfig:g,layoutScroll:N,layoutRoot:j})}function bc(c){if(c)return c.options.allowProjection!==!1?c.projection:bc(c.parent)}function xc({preloadedFeatures:c,createVisualElement:f,useRender:d,useVisualState:g,Component:C}){var I,O;c&&_l(c);function L(j,Q){let pe;const Me=mi(ar(ar({},(0,kn.useContext)(mc)),j),{layoutId:Cc(j)}),{isStatic:st}=Me,ct=fu(j),kt=g(j,st);if(!st&&is){ol(Me,c);const yr=hu(Me);pe=yr.MeasureLayout,ct.visualElement=Lf(C,kt,Me,f,yr.ProjectionNode)}return(0,Es.jsxs)(Pl.Provider,{value:ct,children:[pe&&ct.visualElement?(0,Es.jsx)(pe,ar({visualElement:ct.visualElement},Me)):null,d(C,j,Ll(kt,ct.visualElement,Q),kt,st,ct.visualElement)]})}L.displayName=`motion.${typeof C=="string"?C:`create(${(O=(I=C.displayName)!==null&&I!==void 0?I:C.name)!==null&&O!==void 0?O:""})`}`;const N=(0,kn.forwardRef)(L);return N[yc]=C,N}function Cc({layoutId:c}){const f=(0,kn.useContext)(sf).id;return f&&c!==void 0?f+"-"+c:c}function ol(c,f){const d=(0,kn.useContext)(dc).strict}function hu(c){const{drag:f,layout:d}=Ni;if(!f&&!d)return{};const g=ar(ar({},f),d);return{MeasureLayout:f!=null&&f.isEnabled(c)||d!=null&&d.isEnabled(c)?g.MeasureLayout:void 0,ProjectionNode:g.ProjectionNode}}const Ff=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ho(c){return typeof c!="string"||c.includes("-")?!1:!!(Ff.indexOf(c)>-1||/[A-Z]/u.test(c))}function Df(c){const f=(0,kn.useRef)(null);return f.current===null&&(f.current=c()),f.current}function sl({scrapeMotionValuesFromProps:c,createRenderState:f,onUpdate:d},g,C,I){const O={latestValues:Nf(g,C,I,c),renderState:f()};return d&&(O.onMount=L=>d(ar({props:g,current:L},O)),O.onUpdate=L=>d(L)),O}const Ec=c=>(f,d)=>{const g=(0,kn.useContext)(Pl),C=(0,kn.useContext)(Tl),I=()=>sl(c,f,g,C);return d?I():Df(I)};function Nf(c,f,d,g){const C={},I=g(c,{});for(const st in I)C[st]=Vs(I[st]);let{initial:O,animate:L}=c;const N=Rl(c),j=vc(c);f&&j&&!N&&c.inherit!==!1&&(O===void 0&&(O=f.initial),L===void 0&&(L=f.animate));let Q=d?d.initial===!1:!1;Q=Q||O===!1;const pe=Q?L:O;if(pe&&typeof pe!="boolean"&&!M(pe)){const st=Array.isArray(pe)?pe:[pe];for(let ct=0;ct<st.length;ct++){const kt=w(c,st[ct]);if(kt){const Me=kt,{transitionEnd:yr,transition:mr}=Me,rn=xo(Me,["transitionEnd","transition"]);for(const fn in rn){let ui=rn[fn];if(Array.isArray(ui)){const Tn=Q?ui.length-1:0;ui=ui[Tn]}ui!==null&&(C[fn]=ui)}for(const fn in yr)C[fn]=yr[fn]}}}return C}const Tc=(c,f)=>f&&typeof c=="number"?f.transform(c):c,Vf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bf=Mt.length;function zf(c,f,d){let g="",C=!0;for(let I=0;I<Bf;I++){const O=Mt[I],L=c[O];if(L===void 0)continue;let N=!0;if(typeof L=="number"?N=L===(O.startsWith("scale")?1:0):N=parseFloat(L)===0,!N||d){const j=Tc(L,_t[O]);if(!N){C=!1;const Q=Vf[O]||O;g+=`${Q}(${j}) `}d&&(f[O]=j)}}return g=g.trim(),d?g=d(f,C?"":g):C&&(g="none"),g}function du(c,f,d){const{style:g,vars:C,transformOrigin:I}=c;let O=!1,L=!1;for(const N in f){const j=f[N];if(nt.has(N)){O=!0;continue}else if(kl(N)){C[N]=j;continue}else{const Q=Tc(j,_t[N]);N.startsWith("origin")?(L=!0,I[N]=Q):g[N]=Q}}if(f.transform||(O||d?g.transform=zf(f,c.transform,d):g.transform&&(g.transform="none")),L){const{originX:N="50%",originY:j="50%",originZ:Q=0}=I;g.transformOrigin=`${N} ${j} ${Q}`}}const Uf={offset:"stroke-dashoffset",array:"stroke-dasharray"},kf={offset:"strokeDashoffset",array:"strokeDasharray"};function Sc(c,f,d=1,g=0,C=!0){c.pathLength=1;const I=C?Uf:kf;c[I.offset]=lt.transform(-g);const O=lt.transform(f),L=lt.transform(d);c[I.array]=`${O} ${L}`}function wc(c,f,d){return typeof c=="string"?c:lt.transform(f+d*c)}function $f(c,f,d){const g=wc(f,c.x,c.width),C=wc(d,c.y,c.height);return`${g} ${C}`}function mu(c,Me,Q,pe){var st=Me,{attrX:f,attrY:d,attrScale:g,originX:C,originY:I,pathLength:O,pathSpacing:L=1,pathOffset:N=0}=st,j=xo(st,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]);if(du(c,j,pe),Q){c.style.viewBox&&(c.attrs.viewBox=c.style.viewBox);return}c.attrs=c.style,c.style={};const{attrs:ct,style:kt,dimensions:yr}=c;ct.transform&&(yr&&(kt.transform=ct.transform),delete ct.transform),yr&&(C!==void 0||I!==void 0||kt.transform)&&(kt.transformOrigin=$f(yr,C!==void 0?C:.5,I!==void 0?I:.5)),f!==void 0&&(ct.x=f),d!==void 0&&(ct.y=d),g!==void 0&&(ct.scale=g),O!==void 0&&Sc(ct,O,L,N,!1)}const vu=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Oc=()=>mi(ar({},vu()),{attrs:{}}),zs=c=>typeof c=="string"&&c.toLowerCase()==="svg";function pu(c,{style:f,vars:d},g,C){Object.assign(c.style,f,C&&C.getProjectionStyles(g));for(const I in d)c.style.setProperty(I,d[I])}const gu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mc(c,f,d,g){pu(c,f,void 0,g);for(const C in f.attrs)c.setAttribute(gu.has(C)?C:Zn(C),f.attrs[C])}function Ac(c,{layout:f,layoutId:d}){return nt.has(c)||c.startsWith("origin")||(f||d!==void 0)&&(!!Sl[c]||c==="opacity")}function as(c,f,d){var g;const{style:C}=c,I={};for(const O in C)(hr(C[O])||f.style&&hr(f.style[O])||Ac(O,c)||((g=d==null?void 0:d.getValue(O))===null||g===void 0?void 0:g.liveStyle)!==void 0)&&(I[O]=C[O]);return I}function Ic(c,f,d){const g=as(c,f,d);for(const C in c)if(hr(c[C])||hr(f[C])){const I=Mt.indexOf(C)!==-1?"attr"+C.charAt(0).toUpperCase()+C.substring(1):C;g[I]=c[C]}return g}function jf(c,f){try{f.dimensions=typeof c.getBBox=="function"?c.getBBox():c.getBoundingClientRect()}catch(d){f.dimensions={x:0,y:0,width:0,height:0}}}const Pc=["x","y","width","height","cx","cy","r"],Hf={useVisualState:Ec({scrapeMotionValuesFromProps:Ic,createRenderState:Oc,onUpdate:({props:c,prevProps:f,current:d,renderState:g,latestValues:C})=>{if(!d)return;let I=!!c.drag;if(!I){for(const L in C)if(nt.has(L)){I=!0;break}}if(!I)return;let O=!f;if(f)for(let L=0;L<Pc.length;L++){const N=Pc[L];c[N]!==f[N]&&(O=!0)}O&&wt.read(()=>{jf(d,g),wt.render(()=>{mu(g,C,zs(d.tagName),c.transformTemplate),Mc(d,g)})})}})},Gf={useVisualState:Ec({scrapeMotionValuesFromProps:as,createRenderState:vu})};function yu(c,f,d){for(const g in f)!hr(f[g])&&!Ac(g,d)&&(c[g]=f[g])}function Rc({transformTemplate:c},f){return(0,kn.useMemo)(()=>{const d=vu();return du(d,f,c),Object.assign({},d.vars,d.style)},[f])}function Wf(c,f){const d=c.style||{},g={};return yu(g,d,c),Object.assign(g,Rc(c,f)),g}function Zf(c,f){const d={},g=Wf(c,f);return c.drag&&c.dragListener!==!1&&(d.draggable=!1,g.userSelect=g.WebkitUserSelect=g.WebkitTouchCallout="none",g.touchAction=c.drag===!0?"none":`pan-${c.drag==="x"?"y":"x"}`),c.tabIndex===void 0&&(c.onTap||c.onTapStart||c.whileTap)&&(d.tabIndex=0),d.style=g,d}const Xf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dl(c){return c.startsWith("while")||c.startsWith("drag")&&c!=="draggable"||c.startsWith("layout")||c.startsWith("onTap")||c.startsWith("onPan")||c.startsWith("onLayout")||Xf.has(c)}let _c=c=>!Dl(c);function Yf(c){c&&(_c=f=>f.startsWith("on")?!Dl(f):c(f))}try{Yf(require("@emotion/is-prop-valid").default)}catch(c){}function Kf(c,f,d){const g={};for(const C in c)C==="values"&&typeof c.values=="object"||(_c(C)||d===!0&&Dl(C)||!f&&!Dl(C)||c.draggable&&C.startsWith("onDrag"))&&(g[C]=c[C]);return g}function Qf(c,f,d,g){const C=(0,kn.useMemo)(()=>{const I=Oc();return mu(I,f,zs(g),c.transformTemplate),mi(ar({},I.attrs),{style:ar({},I.style)})},[f]);if(c.style){const I={};yu(I,c.style,c),C.style=ar(ar({},I),C.style)}return C}function bu(c=!1){return(d,g,C,{latestValues:I},O)=>{const N=(Ho(d)?Qf:Zf)(g,I,O,d),j=Kf(g,typeof d=="string",c),Q=d!==kn.Fragment?mi(ar(ar({},j),N),{ref:C}):{},{children:pe}=g,Me=(0,kn.useMemo)(()=>hr(pe)?pe.get():pe,[pe]);return(0,kn.createElement)(d,mi(ar({},Q),{children:Me}))}}function Lc(c,f){return function(g,{forwardMotionProps:C}={forwardMotionProps:!1}){const I=Ho(g)?Hf:Gf,O=mi(ar({},I),{preloadedFeatures:c,useRender:bu(C),createVisualElement:f,Component:g});return xc(O)}}const xu={current:null},Fc={current:!1};function Jf(){if(Fc.current=!0,!!is)if(window.matchMedia){const c=window.matchMedia("(prefers-reduced-motion)"),f=()=>xu.current=c.matches;c.addListener(f),f()}else xu.current=!1}const qf=[...Tt,In,oi],eh=c=>qf.find(Pe(c)),Dc=new WeakMap;function th(c,f,d){for(const g in f){const C=f[g],I=d[g];if(hr(C))c.addValue(g,C);else if(hr(I))c.addValue(g,Er(C,{owner:c}));else if(I!==C)if(c.hasValue(g)){const O=c.getValue(g);O.liveStyle===!0?O.jump(C):O.hasAnimated||O.set(C)}else{const O=c.getStaticValue(g);c.addValue(g,Er(O!==void 0?O:C,{owner:c}))}}for(const g in d)f[g]===void 0&&c.removeValue(g);return f}const Us=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Go{scrapeMotionValuesFromProps(f,d,g){return{}}constructor({parent:f,props:d,presenceContext:g,reducedMotionConfig:C,blockInitialAnimation:I,visualState:O},L={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const ct=sr.now();this.renderScheduledAt<ct&&(this.renderScheduledAt=ct,wt.render(this.render,!1,!0))};const{latestValues:N,renderState:j,onUpdate:Q}=O;this.onUpdate=Q,this.latestValues=N,this.baseTarget=ar({},N),this.initialValues=d.initial?ar({},N):{},this.renderState=j,this.parent=f,this.props=d,this.presenceContext=g,this.depth=f?f.depth+1:0,this.reducedMotionConfig=C,this.options=L,this.blockInitialAnimation=!!I,this.isControllingVariants=Rl(d),this.isVariantNode=vc(d),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(f&&f.current);const st=this.scrapeMotionValuesFromProps(d,{},this),{willChange:pe}=st,Me=xo(st,["willChange"]);for(const ct in Me){const kt=Me[ct];N[ct]!==void 0&&hr(kt)&&kt.set(N[ct],!1)}}mount(f){this.current=f,Dc.set(f,this),this.projection&&!this.projection.instance&&this.projection.mount(f),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((d,g)=>this.bindToMotionValue(g,d)),Fc.current||Jf(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dc.delete(this.current),this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(f=>f()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const f in this.events)this.events[f].clear();for(const f in this.features){const d=this.features[f];d&&(d.unmount(),d.isMounted=!1)}this.current=null}bindToMotionValue(f,d){this.valueSubscriptions.has(f)&&this.valueSubscriptions.get(f)();const g=nt.has(f),C=d.on("change",L=>{this.latestValues[f]=L,this.props.onUpdate&&wt.preRender(this.notifyUpdate),g&&this.projection&&(this.projection.isTransformDirty=!0)}),I=d.on("renderRequest",this.scheduleRender);let O;window.MotionCheckAppearSync&&(O=window.MotionCheckAppearSync(this,f,d)),this.valueSubscriptions.set(f,()=>{C(),I(),O&&O(),d.owner&&d.stop()})}sortNodePosition(f){return!this.current||!this.sortInstanceNodePosition||this.type!==f.type?0:this.sortInstanceNodePosition(this.current,f.current)}updateFeatures(){let f="animation";for(f in Ni){const d=Ni[f];if(!d)continue;const{isEnabled:g,Feature:C}=d;if(!this.features[f]&&C&&g(this.props)&&(this.features[f]=new C(this)),this.features[f]){const I=this.features[f];I.isMounted?I.update():(I.mount(),I.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ua()}getStaticValue(f){return this.latestValues[f]}setStaticValue(f,d){this.latestValues[f]=d}update(f,d){(f.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=f,this.prevPresenceContext=this.presenceContext,this.presenceContext=d;for(let g=0;g<Us.length;g++){const C=Us[g];this.propEventSubscriptions[C]&&(this.propEventSubscriptions[C](),delete this.propEventSubscriptions[C]);const I="on"+C,O=f[I];O&&(this.propEventSubscriptions[C]=this.on(C,O))}this.prevMotionValues=th(this,this.scrapeMotionValuesFromProps(f,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(f){return this.props.variants?this.props.variants[f]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(f){const d=this.getClosestVariantNode();if(d)return d.variantChildren&&d.variantChildren.add(f),()=>d.variantChildren.delete(f)}addValue(f,d){const g=this.values.get(f);d!==g&&(g&&this.removeValue(f),this.bindToMotionValue(f,d),this.values.set(f,d),this.latestValues[f]=d.get())}removeValue(f){this.values.delete(f);const d=this.valueSubscriptions.get(f);d&&(d(),this.valueSubscriptions.delete(f)),delete this.latestValues[f],this.removeValueFromRenderState(f,this.renderState)}hasValue(f){return this.values.has(f)}getValue(f,d){if(this.props.values&&this.props.values[f])return this.props.values[f];let g=this.values.get(f);return g===void 0&&d!==void 0&&(g=Er(d===null?void 0:d,{owner:this}),this.addValue(f,g)),g}readValue(f,d){var g;let C=this.latestValues[f]!==void 0||!this.current?this.latestValues[f]:(g=this.getBaseTargetFromProps(this.props,f))!==null&&g!==void 0?g:this.readValueFromInstance(this.current,f,this.options);return C!=null&&(typeof C=="string"&&(fs(C)||$t(C))?C=parseFloat(C):!eh(C)&&oi.test(d)&&(C=qi(f,d)),this.setBaseTarget(f,hr(C)?C.get():C)),hr(C)?C.get():C}setBaseTarget(f,d){this.baseTarget[f]=d}getBaseTarget(f){var d;const{initial:g}=this.props;let C;if(typeof g=="string"||typeof g=="object"){const O=w(this.props,g,(d=this.presenceContext)===null||d===void 0?void 0:d.custom);O&&(C=O[f])}if(g&&C!==void 0)return C;const I=this.getBaseTargetFromProps(this.props,f);return I!==void 0&&!hr(I)?I:this.initialValues[f]!==void 0&&C===void 0?void 0:this.baseTarget[f]}on(f,d){return this.events[f]||(this.events[f]=new Br),this.events[f].add(d)}notify(f,...d){this.events[f]&&this.events[f].notify(...d)}}class Nc extends Go{constructor(){super(...arguments),this.KeyframeResolver=xr}sortInstanceNodePosition(f,d){return f.compareDocumentPosition(d)&2?1:-1}getBaseTargetFromProps(f,d){return f.style?f.style[d]:void 0}removeValueFromRenderState(f,{vars:d,style:g}){delete d[f],delete g[f]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:f}=this.props;hr(f)&&(this.childSubscription=f.on("change",d=>{this.current&&(this.current.textContent=`${d}`)}))}}function rh(c){return window.getComputedStyle(c)}class Vc extends Nc{constructor(){super(...arguments),this.type="html",this.renderInstance=pu}readValueFromInstance(f,d){if(nt.has(d)){const g=yi(d);return g&&g.default||0}else{const g=rh(f),C=(kl(d)?g.getPropertyValue(d):g[d])||0;return typeof C=="string"?C.trim():C}}measureInstanceViewportBox(f,{transformPagePoint:d}){return Du(f,d)}build(f,d,g){du(f,d,g.transformTemplate)}scrapeMotionValuesFromProps(f,d,g){return as(f,d,g)}}class nh extends Nc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ua}getBaseTargetFromProps(f,d){return f[d]}readValueFromInstance(f,d){if(nt.has(d)){const g=yi(d);return g&&g.default||0}return d=gu.has(d)?d:Zn(d),f.getAttribute(d)}scrapeMotionValuesFromProps(f,d,g){return Ic(f,d,g)}build(f,d,g){mu(f,d,this.isSVGTag,g.transformTemplate)}renderInstance(f,d,g,C){Mc(f,d,g,C)}mount(f){this.isSVGTag=zs(f.tagName),super.mount(f)}}const Bc=(c,f)=>Ho(c)?new nh(f):new Vc(f,{allowProjection:c!==kn.Fragment}),zc=Lc(ar(ar(ar(ar({},es),Pf),Sf),Rf),Bc),Ph=y(zc)},18357:function(Zt,Oe,T){"use strict";T.d(Oe,{df:function(){return St}});var y=T(67294),M=Object.defineProperty,U=(de,Ve,Be)=>Ve in de?M(de,Ve,{enumerable:!0,configurable:!0,writable:!0,value:Be}):de[Ve]=Be,xe=(de,Ve,Be)=>U(de,typeof Ve!="symbol"?Ve+"":Ve,Be),re=new Map,ee=new WeakMap,w=0,ie=void 0;function K(de){ie=de}function X(de){return de?(ee.has(de)||(w+=1,ee.set(de,w.toString())),ee.get(de)):"0"}function he(de){return Object.keys(de).sort().filter(Ve=>de[Ve]!==void 0).map(Ve=>`${Ve}_${Ve==="root"?X(de.root):de[Ve]}`).toString()}function Ce(de){const Ve=he(de);let Be=re.get(Ve);if(!Be){const tt=new Map;let et;const Xe=new IntersectionObserver(ze=>{ze.forEach(It=>{var tr;const dt=It.isIntersecting&&et.some(ve=>It.intersectionRatio>=ve);de.trackVisibility&&typeof It.isVisible=="undefined"&&(It.isVisible=dt),(tr=tt.get(It.target))==null||tr.forEach(ve=>{ve(dt,It)})})},de);et=Xe.thresholds||(Array.isArray(de.threshold)?de.threshold:[de.threshold||0]),Be={id:Ve,observer:Xe,elements:tt},re.set(Ve,Be)}return Be}function me(de,Ve,Be={},tt=ie){if(typeof window.IntersectionObserver=="undefined"&&tt!==void 0){const tr=de.getBoundingClientRect();return Ve(tt,{isIntersecting:tt,target:de,intersectionRatio:typeof Be.threshold=="number"?Be.threshold:0,time:0,boundingClientRect:tr,intersectionRect:tr,rootBounds:tr}),()=>{}}const{id:et,observer:Xe,elements:ze}=Ce(Be),It=ze.get(de)||[];return ze.has(de)||ze.set(de,It),It.push(Ve),Xe.observe(de),function(){It.splice(It.indexOf(Ve),1),It.length===0&&(ze.delete(de),Xe.unobserve(de)),ze.size===0&&(Xe.disconnect(),re.delete(et))}}function Ge(de){return typeof de.children!="function"}var St=class extends y.Component{constructor(de){super(de),xe(this,"node",null),xe(this,"_unobserveCb",null),xe(this,"handleNode",Ve=>{this.node&&(this.unobserve(),!Ve&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=Ve||null,this.observeNode()}),xe(this,"handleChange",(Ve,Be)=>{Ve&&this.props.triggerOnce&&this.unobserve(),Ge(this.props)||this.setState({inView:Ve,entry:Be}),this.props.onChange&&this.props.onChange(Ve,Be)}),this.state={inView:!!de.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(de){(de.rootMargin!==this.props.rootMargin||de.root!==this.props.root||de.threshold!==this.props.threshold||de.skip!==this.props.skip||de.trackVisibility!==this.props.trackVisibility||de.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:de,root:Ve,rootMargin:Be,trackVisibility:tt,delay:et,fallbackInView:Xe}=this.props;this._unobserveCb=me(this.node,this.handleChange,{threshold:de,root:Ve,rootMargin:Be,trackVisibility:tt,delay:et},Xe)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:de}=this.props;if(typeof de=="function"){const{inView:Lt,entry:Ft}=this.state;return de({inView:Lt,entry:Ft,ref:this.handleNode})}const Ie=this.props,{as:Ve,triggerOnce:Be,threshold:tt,root:et,rootMargin:Xe,onChange:ze,skip:It,trackVisibility:tr,delay:dt,initialInView:ve,fallbackInView:oe}=Ie,pt=xo(Ie,["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"]);return y.createElement(Ve||"div",ar({ref:this.handleNode},pt),de)}};function rt({threshold:de,delay:Ve,trackVisibility:Be,rootMargin:tt,root:et,triggerOnce:Xe,skip:ze,initialInView:It,fallbackInView:tr,onChange:dt}={}){var ve;const[oe,pt]=React2.useState(null),Ie=React2.useRef(dt),[Lt,Ft]=React2.useState({inView:!!It,entry:void 0});Ie.current=dt,React2.useEffect(()=>{if(ze||!oe)return;let fe;return fe=me(oe,(Se,We)=>{Ft({inView:Se,entry:We}),Ie.current&&Ie.current(Se,We),We.isIntersecting&&Xe&&fe&&(fe(),fe=void 0)},{root:et,rootMargin:tt,threshold:de,trackVisibility:Be,delay:Ve},tr),()=>{fe&&fe()}},[Array.isArray(de)?de.toString():de,oe,et,tt,Xe,ze,Be,tr,Ve]);const Ye=(ve=Lt.entry)==null?void 0:ve.target,_e=React2.useRef(void 0);!oe&&Ye&&!Xe&&!ze&&_e.current!==Ye&&(_e.current=Ye,Ft({inView:!!It,entry:void 0}));const q=[pt,Lt.inView,Lt.entry];return q.ref=q[0],q.inView=q[1],q.entry=q[2],q}}}]);
}());