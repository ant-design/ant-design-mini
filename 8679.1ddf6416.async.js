!(function(){var ov=Object.defineProperty,sv=Object.defineProperties;var lv=Object.getOwnPropertyDescriptors;var qc=Object.getOwnPropertySymbols;var Od=Object.prototype.hasOwnProperty,Md=Object.prototype.propertyIsEnumerable;var Th=Math.pow,wd=($t,we,E)=>we in $t?ov($t,we,{enumerable:!0,configurable:!0,writable:!0,value:E}):$t[we]=E,nr=($t,we)=>{for(var E in we||(we={}))Od.call(we,E)&&wd($t,E,we[E]);if(qc)for(var E of qc(we))Md.call(we,E)&&wd($t,E,we[E]);return $t},gi=($t,we)=>sv($t,lv(we));var Ao=($t,we)=>{var E={};for(var y in $t)Od.call($t,y)&&we.indexOf(y)<0&&(E[y]=$t[y]);if($t!=null&&qc)for(var y of qc($t))we.indexOf(y)<0&&Md.call($t,y)&&(E[y]=$t[y]);return E};var Sh=($t,we,E)=>new Promise((y,M)=>{var U=J=>{try{te(E.next(J))}catch(w){M(w)}},xe=J=>{try{te(E.throw(J))}catch(w){M(w)}},te=J=>J.done?y(J.value):Promise.resolve(J.value).then(U,xe);te((E=E.apply($t,we)).next())});(self.webpackChunkantd_mini=self.webpackChunkantd_mini||[]).push([[8679],{66023:function($t,we){"use strict";var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};we.Z=E},27363:function($t,we){"use strict";var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};we.Z=E},20841:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},24019:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},34804:function($t,we,E){"use strict";var y=E(87462),M=E(67294),U=E(66023),xe=E(98615),te=function(ne,W){return M.createElement(xe.Z,(0,y.Z)({},ne,{ref:W,icon:U.Z}))},J=M.forwardRef(te);we.Z=J},47389:function($t,we,E){"use strict";var y=E(87462),M=E(67294),U=E(27363),xe=E(98615),te=function(ne,W){return M.createElement(xe.Z,(0,y.Z)({},ne,{ref:W,icon:U.Z}))},J=M.forwardRef(te);we.Z=J},1210:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},6171:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},84477:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},60532:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},43929:function($t,we,E){"use strict";var y=E(87462),M=E(67294),U=E(50756),xe=E(98615),te=function(ne,W){return M.createElement(xe.Z,(0,y.Z)({},ne,{ref:W,icon:U.Z}))},J=M.forwardRef(te);we.Z=J},16664:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(87462),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},xe=U,te=E(98615),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},10535:function(){"use strict"},94363:function(){"use strict"},34637:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Arrow-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Arrow-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-335.000000, -153.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Arrow-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"Arrow-\u7F16\u7EC4-13",transform:"translate(331.000000, 79.000000)"},M.createElement("g",{id:"Arrow-\u6298\u53E0\u7BAD\u5934_Black@2x",transform:"translate(12.000000, 12.000000) rotate(90.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"},M.createElement("rect",{id:"Arrow-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M8.576,10.6224 C8.46400007,10.7357654 8.31136002,10.7997014 8.152,10.8 L7.848,10.8 C7.68897547,10.7980619 7.53693306,10.7343763 7.424,10.6224 L3.3184,6.4672 C3.16044703,6.30862179 3.16044703,6.05217821 3.3184,5.8936 L3.8864,5.3192 C3.95991079,5.24354153 4.06091047,5.20085176 4.1664,5.20085176 C4.27188953,5.20085176 4.37288921,5.24354153 4.4464,5.3192 L8,8.9168 L11.5536,5.3192 C11.6284927,5.24307539 11.7308111,5.20020394 11.8376,5.20020394 C11.9443889,5.20020394 12.0467073,5.24307539 12.1216,5.3192 L12.6816,5.8936 C12.839553,6.05217821 12.839553,6.30862179 12.6816,6.4672 L8.576,10.6224 Z",id:"Arrow-\u8DEF\u5F84"})))))))}var J=te;we.default=J},56564:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Brush-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.649999976},M.createElement("g",{id:"Brush-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-17.000000, -121.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Brush-brush",transform:"translate(14.000000, 120.000000)"},M.createElement("path",{d:"M8.20652175,3.2826087 L8.20652175,4.10326086 C8.20652175,4.55649455 7.83910325,4.92391304 7.38586957,4.92391304 C6.93263588,4.92391304 6.56521738,4.55649455 6.56521738,4.10326086 L6.56521738,3.2826087 L4.92391304,3.2826087 L4.92391304,8.20652175 L14.7717391,8.20652175 L14.7717391,3.2826087 L13.1304348,3.2826087 L13.1304348,5.74456522 C13.1304348,6.19779891 12.7630163,6.5652174 12.3097826,6.5652174 C11.8565489,6.5652174 11.4891304,6.19779891 11.4891304,5.74456522 L11.4891304,3.2826087 L8.20652175,3.2826087 Z M4.92391304,9.84782609 L4.92391304,11.4891304 L7.72233695,11.4891304 C8.08431263,11.4890155 8.42799204,11.6482243 8.66197039,11.9244136 C8.89594874,12.2006029 8.99650752,12.5657753 8.93690217,12.9228098 L8.60043479,14.9399728 C8.51784643,15.435105 8.73592476,15.9322123 9.15616576,16.2067558 C9.57640676,16.4812994 10.1192454,16.4812994 10.5394864,16.2067558 C10.9597274,15.9322123 11.1778057,15.435105 11.0952174,14.9399728 L10.75875,12.9228098 C10.6991446,12.5657753 10.7997034,12.2006029 11.0336818,11.9244136 C11.2676601,11.6482243 11.6113395,11.4890155 11.9733152,11.4891304 L14.7717391,11.4891304 L14.7717391,9.84782609 L4.92391304,9.84782609 Z M12.7143641,14.6699783 C12.9035912,15.807501 12.4022968,16.9492894 11.4368082,17.5798421 C10.4713197,18.2103948 9.2243325,18.2103948 8.25884395,17.5798421 C7.2933554,16.9492894 6.79206095,15.807501 6.98128804,14.6699783 L7.23815217,13.1304348 L4.92391304,13.1304348 C4.48861206,13.1304348 4.07113988,12.9575121 3.76333561,12.6497079 C3.45553133,12.3419036 3.2826087,11.9244314 3.2826087,11.4891304 L3.2826087,3.2826087 C3.2826087,2.84730772 3.45553133,2.42983554 3.76333561,2.12203126 C4.07113988,1.81422698 4.48861206,1.64130434 4.92391304,1.64130434 L14.7717391,1.64130434 C15.2070401,1.64130434 15.6245123,1.81422698 15.9323166,2.12203126 C16.2401208,2.42983554 16.4130435,2.84730772 16.4130435,3.2826087 L16.4130435,11.4891304 C16.4130435,11.9244314 16.2401208,12.3419036 15.9323166,12.6497079 C15.6245123,12.9575121 15.2070401,13.1304348 14.7717391,13.1304348 L12.4575,13.1304348 L12.7143641,14.6699783 L12.7143641,14.6699783 Z",id:"Brush-\u5F62\u72B6"})))))}var J=te;we.default=J},74304:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Compact-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Compact-\u9ED8\u8BA4",transform:"translate(-9.000000, -82.500000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Compact-\u9009\u9879\u4E00",transform:"translate(9.268811, 79.500000)"},M.createElement("g",{id:"Compact-smaller",transform:"translate(0.000000, 3.000000)"},M.createElement("rect",{id:"Compact-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M10,14 L10,12 C10,10.8666667 10.8666667,10 12,10 L14,10 C14.4,10 14.6666667,10.2666667 14.6666667,10.6666667 C14.6666667,11.0666667 14.4,11.3333333 14,11.3333333 L12,11.3333333 C11.6,11.3333333 11.3333333,11.6 11.3333333,12 L11.3333333,14 C11.3333333,14.4 11.0666667,14.6666667 10.6666667,14.6666667 C10.2666667,14.6666667 10,14.4 10,14 L10,14 Z M4.66666667,14 L4.66666667,12 C4.66666667,11.6 4.4,11.3333333 4,11.3333333 L2,11.3333333 C1.6,11.3333333 1.33333333,11.0666667 1.33333333,10.6666667 C1.33333333,10.2666667 1.6,10 2,10 L4,10 C5.13333333,10 6,10.8666667 6,12 L6,14 C6,14.4 5.73333333,14.6666667 5.33333333,14.6666667 C4.93333333,14.6666667 4.66666666,14.4 4.66666667,14 L4.66666667,14 Z M12,6 C10.8666667,6 10,5.13333333 10,4 L10,2 C10,1.6 10.2666667,1.33333333 10.6666667,1.33333333 C11.0666667,1.33333333 11.3333333,1.6 11.3333333,2 L11.3333333,4 C11.3333333,4.4 11.6,4.66666667 12,4.66666667 L14,4.66666667 C14.4,4.66666667 14.6666667,4.93333334 14.6666667,5.33333333 C14.6666667,5.73333331 14.4,6 14,6 L12,6 L12,6 Z M2,6 C1.6,6 1.33333333,5.73333333 1.33333333,5.33333333 C1.33333333,4.93333333 1.6,4.66666666 2,4.66666667 L4,4.66666667 C4.4,4.66666667 4.66666667,4.4 4.66666667,4 L4.66666667,2 C4.66666667,1.6 4.93333334,1.33333333 5.33333333,1.33333333 C5.73333331,1.33333333 6,1.6 6,2 L6,4 C6,5.13333333 5.13333333,6 4,6 L2,6 Z",id:"Compact-\u5F62\u72B6"}))))))}var J=te;we.default=J},90387:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Control-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Control-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-1372.000000, -505.000000)",fillRule:"nonzero"},M.createElement("g",{id:"Control-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"Control-\u7F16\u7EC4-14",transform:"translate(536.000000, 420.000000)"},M.createElement("g",{id:"Control-\u7CFB\u7EDF\u63A7\u5236",transform:"translate(836.000000, 15.000000)"},M.createElement("rect",{id:"Control-\u77E9\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M6,3.5625 L13.75,3.5625 L13.75,4.1875 L6,4.1875 L6,3.5625 Z M2.1875,3.5625 L3.8125,3.5625 L3.8125,4.1875 L2.1875,4.1875 L2.1875,3.5625 Z M8.3125,11.8125 L13.75,11.8125 L13.75,12.4375 L8.3125,12.4375 L8.3125,11.8125 Z M2.1875,11.8125 L6.125,11.8125 L6.125,12.4375 L2.1875,12.4375 L2.1875,11.8125 Z M12.625,7.6875 L13.75,7.6875 L13.75,8.3125 L12.625,8.3125 L12.625,7.6875 Z M2.1875,7.6875 L10.4375,7.6875 L10.4375,8.3125 L2.1875,8.3125 L2.1875,7.6875 Z",id:"Control-\u5F62\u72B6",fill:"currentColor"}),M.createElement("path",{d:"M1.875,3.875 C1.875,4.04758898 2.01491102,4.1875 2.1875,4.1875 C2.36008898,4.1875 2.5,4.04758898 2.5,3.875 C2.5,3.70241102 2.36008898,3.5625 2.1875,3.5625 C2.01491102,3.5625 1.875,3.70241102 1.875,3.875 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,3.875 C13.4375,4.04758898 13.577411,4.1875 13.75,4.1875 C13.922589,4.1875 14.0625,4.04758898 14.0625,3.875 C14.0625,3.70241102 13.922589,3.5625 13.75,3.5625 C13.577411,3.5625 13.4375,3.70241102 13.4375,3.875 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,8 C13.4375,8.17258898 13.577411,8.3125 13.75,8.3125 C13.922589,8.3125 14.0625,8.17258898 14.0625,8 C14.0625,7.82741102 13.922589,7.6875 13.75,7.6875 C13.577411,7.6875 13.4375,7.82741102 13.4375,8 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,12.125 C13.4375,12.297589 13.577411,12.4375 13.75,12.4375 C13.922589,12.4375 14.0625,12.297589 14.0625,12.125 C14.0625,11.952411 13.922589,11.8125 13.75,11.8125 C13.577411,11.8125 13.4375,11.952411 13.4375,12.125 L13.4375,12.125 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M1.875,8 C1.875,8.17258898 2.01491102,8.3125 2.1875,8.3125 C2.36008898,8.3125 2.5,8.17258898 2.5,8 C2.5,7.82741102 2.36008898,7.6875 2.1875,7.6875 C2.01491102,7.6875 1.875,7.82741102 1.875,8 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M1.875,12.125 C1.875,12.297589 2.01491102,12.4375 2.1875,12.4375 C2.36008898,12.4375 2.5,12.297589 2.5,12.125 C2.5,11.952411 2.36008898,11.8125 2.1875,11.8125 C2.01491102,11.8125 1.875,11.952411 1.875,12.125 L1.875,12.125 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M4.90625,5.25 C4.13125,5.25 3.5,4.61875 3.5,3.84375 C3.5,3.06875 4.13125,2.4375 4.90625,2.4375 C5.68125,2.4375 6.3125,3.06875 6.3125,3.84375 C6.3125,4.61875 5.68125,5.25 4.90625,5.25 Z M4.90625,3.0625 C4.475,3.0625 4.125,3.4125 4.125,3.84375 C4.125,4.275 4.475,4.625 4.90625,4.625 C5.3375,4.625 5.6875,4.275 5.6875,3.84375 C5.6875,3.4125 5.3375,3.0625 4.90625,3.0625 Z M11.53125,9.4375 C10.75625,9.4375 10.125,8.80625 10.125,8.03125 C10.125,7.25625 10.75625,6.625 11.53125,6.625 C12.30625,6.625 12.9375,7.25625 12.9375,8.03125 C12.9375,8.80625 12.30625,9.4375 11.53125,9.4375 Z M11.53125,7.25 C11.1,7.25 10.75,7.6 10.75,8.03125 C10.75,8.4625 11.1,8.8125 11.53125,8.8125 C11.9625,8.8125 12.3125,8.4625 12.3125,8.03125 C12.3125,7.6 11.9625,7.25 11.53125,7.25 Z M7.21875,13.5 C6.44375,13.5 5.8125,12.86875 5.8125,12.09375 C5.8125,11.31875 6.44375,10.6875 7.21875,10.6875 C7.99375,10.6875 8.625,11.31875 8.625,12.09375 C8.625,12.86875 7.99375,13.5 7.21875,13.5 Z M7.21875,11.3125 C6.7875,11.3125 6.4375,11.6625 6.4375,12.09375 C6.4375,12.525 6.7875,12.875 7.21875,12.875 C7.65,12.875 8,12.525 8,12.09375 C8,11.6625 7.65,11.3125 7.21875,11.3125 Z",id:"Control-\u5F62\u72B6",fill:"currentColor"})))))))}var J=te;we.default=J},35791:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Dark-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Dark-\u9ED8\u8BA4",transform:"translate(-9.000000, -49.500000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Dark-\u7F16\u7EC4-17",transform:"translate(0.000000, 42.500000)"},M.createElement("g",{id:"Dark-moon",transform:"translate(9.268811, 7.500000)"},M.createElement("rect",{id:"Dark-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M8,1.33333333 C8.14933333,1.33333333 8.29688889,1.33844444 8.44266667,1.34866666 C8.14755556,1.98422221 8,2.64577777 8,3.33333333 C8,3.96533333 8.12333333,4.56955555 8.37,5.146 C8.61666667,5.72244445 8.94822222,6.21888889 9.36466667,6.63533333 C9.78111112,7.05177777 10.2775556,7.38333332 10.854,7.63 C11.4304444,7.87666668 12.0346667,8.00000001 12.6666667,8 C13.3542222,8 14.0157778,7.85244444 14.6513333,7.55733333 C14.6615556,7.70311111 14.6666667,7.85066667 14.6666667,8 C14.6666667,8.604 14.5868889,9.19422222 14.4273333,9.77066667 C14.2677778,10.3471111 14.0446667,10.8793333 13.758,11.3673333 C13.4713333,11.8553333 13.1233333,12.3042222 12.714,12.714 C12.3046667,13.1237778 11.8557778,13.4717778 11.3673333,13.758 C10.8788889,14.0442222 10.3466667,14.2673333 9.77066667,14.4273333 C9.19466667,14.5873333 8.60444445,14.6671111 8,14.6666685 C7.39555555,14.6662222 6.80533333,14.5864444 6.22933333,14.4273333 C5.65333333,14.2682222 5.1211111,14.0451111 4.63266666,13.758 C4.14422221,13.4708889 3.69533332,13.1228889 3.28599998,12.714 C2.87666665,12.3051111 2.52866665,11.8562222 2.24199998,11.3673333 C1.95533332,10.8784444 1.73222221,10.3462222 1.57266666,9.77066667 C1.4131111,9.19511112 1.33333333,8.6048889 1.33333333,8 C1.33333333,7.3951111 1.4131111,6.80488888 1.57266666,6.22933333 C1.73222221,5.65377778 1.95533332,5.12155555 2.24199998,4.63266666 C2.52866665,4.14377776 2.87666665,3.69488887 3.28599998,3.28599998 C3.69533332,2.8771111 4.14422221,2.5291111 4.63266666,2.24199998 C5.1211111,1.95488887 5.65333333,1.73177776 6.22933333,1.57266666 C6.80533333,1.41355555 7.39555555,1.33377778 8,1.33333333 Z M6.68733333,2.828 C6.11444444,2.97377778 5.58066667,3.20977778 5.086,3.536 C4.59133333,3.86222222 4.166,4.24933333 3.81,4.69733333 C3.454,5.14533333 3.17444444,5.65488889 2.97133333,6.226 C2.76822221,6.79711111 2.66666666,7.38822222 2.66666666,7.99933333 C2.66666666,8.72155555 2.80733332,9.41155555 3.08866666,10.0693333 C3.36999999,10.7271111 3.74933332,11.2948889 4.22666666,11.7726667 C4.70399999,12.2504444 5.27177777,12.6297778 5.92999998,12.9106667 C6.5882222,13.1915556 7.2782222,13.3322222 7.99999998,13.3326667 C8.6111111,13.3326667 9.20222221,13.2311111 9.77333331,13.028 C10.3444444,12.8248889 10.854,12.5453333 11.302,12.1893333 C11.75,11.8333333 12.1371111,11.408 12.4633333,10.9133333 C12.7895555,10.4186666 13.0255555,9.88488887 13.1713333,9.31199998 C13.022,9.32577777 12.8535555,9.33266666 12.666,9.33266666 C11.8535555,9.33266666 11.0775555,9.17377777 10.338,8.85599998 C9.59844443,8.5382222 8.96044443,8.11111109 8.42399998,7.57466666 C7.88755554,7.03822222 7.46044443,6.40022222 7.14266666,5.66066666 C6.82488889,4.92111109 6.66599999,4.14511109 6.66599998,3.33266666 C6.66599998,3.1451111 6.67288888,2.97666666 6.68666666,2.82733333 L6.68733333,2.828 Z",id:"Dark-\u5F62\u72B6"}))))))}var J=te;we.default=J},95671:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Light-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Light-\u4E3B\u9898\u5305",transform:"translate(-2943.000000, -292.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Light-\u7F16\u7EC4-12",transform:"translate(2415.000000, 222.000000)"},M.createElement("g",{id:"Light-\u89C6\u56FE\u5207\u6362-\u7F16\u8F91\u6001",transform:"translate(518.000000, 60.000000)"},M.createElement("g",{id:"Light-eye",transform:"translate(8.000000, 8.000000)"},M.createElement("g",{id:"Light-sun",transform:"translate(2.000000, 2.000000)"},M.createElement("rect",{id:"Light-\u77E9\u5F62",opacity:0,x:0,y:0,width:13,height:13}),M.createElement("path",{d:"M6.5,9.75 C4.7051875,9.75 3.25,8.2948125 3.25,6.5 C3.25,4.7051875 4.7051875,3.25 6.5,3.25 C8.2948125,3.25 9.75,4.7051875 9.75,6.5 C9.75,8.2948125 8.2948125,9.75 6.5,9.75 Z M6.5,8.66666667 C7.69661696,8.66666667 8.66666667,7.69661696 8.66666667,6.5 C8.66666667,5.30338304 7.69661696,4.33333333 6.5,4.33333333 C5.30338305,4.33333333 4.33333336,5.30338305 4.33333336,6.5 C4.33333336,7.69661695 5.30338305,8.66666667 6.5,8.66666667 Z M5.95833333,1.08333333 C5.95833333,0.784179087 6.20084576,0.541666658 6.5,0.541666658 C6.79915424,0.541666658 7.04166667,0.784179087 7.04166667,1.08333333 L7.04166667,2.16666667 C7.04166667,2.46582091 6.79915424,2.70833334 6.5,2.70833334 C6.20084576,2.70833334 5.95833333,2.46582091 5.95833333,2.16666667 L5.95833333,1.08333333 L5.95833333,1.08333333 Z M5.95833333,10.8333333 C5.95833333,10.5341791 6.20084576,10.2916667 6.5,10.2916667 C6.79915424,10.2916667 7.04166667,10.5341791 7.04166667,10.8333333 L7.04166667,11.9166667 C7.04166667,12.2158209 6.79915424,12.4583333 6.5,12.4583333 C6.20084576,12.4583333 5.95833333,12.2158209 5.95833333,11.9166667 L5.95833333,10.8333333 L5.95833333,10.8333333 Z M1.08333333,7.04166667 C0.784179087,7.04166667 0.541666658,6.79915424 0.541666658,6.5 C0.541666658,6.20084576 0.784179087,5.95833333 1.08333333,5.95833333 L2.16666667,5.95833333 C2.46582091,5.95833333 2.70833334,6.20084576 2.70833334,6.5 C2.70833334,6.79915424 2.46582091,7.04166667 2.16666667,7.04166667 L1.08333333,7.04166667 L1.08333333,7.04166667 Z M10.8333333,7.04166667 C10.5341791,7.04166667 10.2916667,6.79915424 10.2916667,6.5 C10.2916667,6.20084576 10.5341791,5.95833333 10.8333333,5.95833333 L11.9166667,5.95833333 C12.2158209,5.95833333 12.4583333,6.20084576 12.4583333,6.5 C12.4583333,6.79915424 12.2158209,7.04166667 11.9166667,7.04166667 L10.8333333,7.04166667 L10.8333333,7.04166667 Z M2.05454167,2.82045833 C1.84926545,2.60791971 1.85220137,2.27007933 2.06114035,2.06114035 C2.27007933,1.85220137 2.60791971,1.84926545 2.82045833,2.05454167 L3.63295833,2.86704167 C3.83823455,3.07958029 3.83529863,3.41742067 3.62635965,3.62635965 C3.41742067,3.83529863 3.07958029,3.83823455 2.86704167,3.63295833 L2.05454167,2.82045833 L2.05454167,2.82045833 Z M9.36704167,10.1329583 C9.16176545,9.92041971 9.16470137,9.58257933 9.37364035,9.37364035 C9.58257933,9.16470137 9.92041971,9.16176545 10.1329583,9.36704167 L10.9454583,10.1795417 C11.1507346,10.3920803 11.1477986,10.7299207 10.9388596,10.9388596 C10.7299207,11.1477986 10.3920803,11.1507346 10.1795417,10.9454583 L9.36704167,10.1329583 L9.36704167,10.1329583 Z M2.82045833,10.9454583 C2.60791971,11.1507346 2.27007933,11.1477986 2.06114035,10.9388596 C1.85220137,10.7299207 1.84926545,10.3920803 2.05454167,10.1795417 L2.86704167,9.36704167 C3.07958029,9.16176545 3.41742067,9.16470137 3.62635965,9.37364035 C3.83529863,9.58257933 3.83823455,9.92041971 3.63295833,10.1329583 L2.82045833,10.9454583 L2.82045833,10.9454583 Z M10.1329583,3.63295833 C9.92041971,3.83823455 9.58257933,3.83529863 9.37364035,3.62635965 C9.16470137,3.41742067 9.16176545,3.07958029 9.36704167,2.86704167 L10.1795417,2.05454167 C10.3920803,1.84926545 10.7299207,1.85220137 10.9388596,2.06114035 C11.1477986,2.27007933 11.1507346,2.60791971 10.9454583,2.82045833 L10.1329583,3.63295833 L10.1329583,3.63295833 Z",id:"Light-\u5F62\u72B6"}))))))))}var J=te;we.default=J},63341:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Margin-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Margin-margin",transform:"translate(0.000000, 0.942377)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"Margin-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M11.6666667,2.75858915 L4.33333333,2.75858915 C4.01904762,2.75858915 3.80952382,2.54931688 3.80952382,2.23540845 C3.80952382,1.92150003 4.01904763,1.71222775 4.33333334,1.71222775 L11.6666667,1.71222775 C11.9809524,1.71222775 12.1904762,1.92150003 12.1904762,2.23540845 C12.1904762,2.54931688 11.9809524,2.75858915 11.6666667,2.75858915 Z M11.6666667,14.2685646 L4.33333333,14.2685646 C4.01904762,14.2685646 3.8095238,14.0592923 3.8095238,13.7453839 C3.8095238,13.4314755 4.01904762,13.2222032 4.33333333,13.2222032 L11.6666667,13.2222032 C11.9809524,13.2222032 12.1904762,13.4314755 12.1904762,13.7453839 C12.1904762,14.0592923 11.9809524,14.2685646 11.6666667,14.2685646 Z M13.7619048,12.1758418 C13.447619,12.1758418 13.2380952,11.9665695 13.2380952,11.6526611 L13.2380952,4.32813125 C13.2380952,4.01422283 13.4476191,3.80495055 13.7619048,3.80495055 C14.0761905,3.80495055 14.2857143,4.01422283 14.2857143,4.32813125 L14.2857143,11.6526611 C14.2857143,11.9665695 14.0761905,12.1758418 13.7619048,12.1758418 Z M2.23809524,12.1758418 C1.92380953,12.1758418 1.71428572,11.9665695 1.71428572,11.6526611 L1.71428572,4.32813125 C1.71428572,4.01422283 1.92380953,3.80495055 2.23809524,3.80495055 C2.55238096,3.80495055 2.76190477,4.01422283 2.76190477,4.32813125 L2.76190477,11.6526611 C2.76190477,11.9665695 2.55238096,12.1758418 2.23809524,12.1758418 Z M11.6666667,12.1758418 L4.33333333,12.1758418 C4.01904762,12.1758418 3.8095238,11.9665695 3.8095238,11.6526611 L3.8095238,4.32813125 C3.8095238,4.01422283 4.01904763,3.80495055 4.33333334,3.80495055 L11.6666667,3.80495055 C11.9809524,3.80495055 12.1904762,4.01422283 12.1904762,4.32813125 L12.1904762,11.6526611 C12.1904762,11.9665695 11.9809524,12.1758418 11.6666667,12.1758418 Z M4.85714286,11.1294804 L11.1428571,11.1294804 L11.1428571,4.85131196 L4.85714286,4.85131196 L4.85714286,11.1294804 Z",id:"Margin-\u5F62\u72B6"}))))}var J=te;we.default=J},95265:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Motion-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Motion-\u5BCC\u6587\u672C\u7F16\u8F91\u5668_\u52A8\u6548",transform:"translate(0.000000, 0.903962)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"Motion-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M6.55644444,12.5262777 L7.99555556,13.9627734 C8.13290682,14.0984321 8.18701716,14.2971622 8.13737053,14.4836147 C8.0877239,14.6700672 7.94192169,14.8156943 7.75524511,14.8652814 C7.56856853,14.9148684 7.36959959,14.860823 7.23377778,14.7236366 L5.79555556,13.2862532 C5.60250935,13.0737079 5.61045949,12.7472435 5.8136232,12.5443237 C6.01678692,12.3414038 6.3436437,12.3334632 6.55644444,12.5262777 L6.55644444,12.5262777 Z M12.2435556,12.6630023 L13.3857778,13.8038533 C13.5231286,13.9395121 13.5772386,14.138242 13.527592,14.3246942 C13.4779453,14.5111464 13.3321433,14.6567734 13.145467,14.7063605 C12.9587906,14.7559476 12.7598219,14.7019025 12.624,14.5647165 L11.4817778,13.4238655 C11.3444269,13.2882067 11.2903169,13.0894768 11.3399636,12.9030246 C11.3896103,12.7165724 11.5354123,12.5709454 11.7220886,12.5213583 C11.9087649,12.4717712 12.1077337,12.5258163 12.2435556,12.6630023 L12.2435556,12.6630023 Z M7.29511111,0.990809123 C7.37066667,1.03342457 7.43377778,1.09645992 7.47644444,1.17192476 L9.23911111,4.29439403 L12.7564444,5.00376364 C12.9258902,5.03768098 13.0638332,5.16026877 13.1172645,5.32441904 C13.1706959,5.4885693 13.1313024,5.66874209 13.0142222,5.79570068 L10.5866667,8.43430705 L10.9982222,11.9953603 C11.018176,12.1667991 10.94398,12.3356549 10.8041422,12.4370491 C10.6643043,12.5384432 10.4805781,12.5566027 10.3235556,12.4845501 L7.06133333,10.9930095 L3.79733333,12.4845501 C3.64031082,12.5566027 3.45658456,12.5384432 3.3167467,12.4370491 C3.17690884,12.3356549 3.10271286,12.1667991 3.12266667,11.9953603 L3.53511111,8.43519487 L1.10577778,5.79570068 C0.988697555,5.66874209 0.949304077,5.4885693 1.00273546,5.32441904 C1.05616684,5.16026877 1.19410976,5.03768098 1.36355556,5.00376364 L4.88177778,4.29439403 L6.64266667,1.17192476 C6.70502264,1.06136833 6.80886024,0.980137913 6.93126543,0.94615878 C7.05367063,0.912179648 7.18458201,0.928244805 7.29511111,0.990809123 Z M7.05955556,2.62440123 L5.57688889,5.25235374 L2.61688889,5.84808216 L4.65955556,8.07030012 L4.31288889,11.0666987 L7.05955556,9.81131866 L9.80533333,11.0666987 L9.45866667,8.07030012 L11.5031111,5.84896999 L8.54222222,5.25235374 L7.05866667,2.62440123 L7.05955556,2.62440123 Z M13.1528889,7.76045031 L14.5911111,9.19694597 C14.7892424,9.40878705 14.7837079,9.73933037 14.5785954,9.9444359 C14.373483,10.1495414 14.0425491,10.1554552 13.8302222,9.95780926 L12.3911111,8.5213136 C12.2537603,8.38565475 12.1996502,8.18692487 12.2492969,8.00047265 C12.2989436,7.81402043 12.4447456,7.66839345 12.6314219,7.61880637 C12.8180983,7.56921929 13.017067,7.62326436 13.1528889,7.76045031 L13.1528889,7.76045031 Z",id:"Motion-\u5F62\u72B6"}))))}var J=te;we.default=J},53278:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Pick-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.65},M.createElement("g",{id:"Pick-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-541.000000, -387.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Pick-\u7F16\u7EC4-11",transform:"translate(76.000000, 340.000000)"},M.createElement("g",{id:"Pick-Map-Token-\u9762\u677F",transform:"translate(0.000000, 27.000000)"},M.createElement("g",{id:"Pick-token-\u663E\u793A",transform:"translate(-1.002041, -1.000000)"},M.createElement("g",{id:"Pick-\u7F16\u7EC4-2",transform:"translate(12.024490, 20.000000)"},M.createElement("g",{id:"Pick-shangyeguanxi",transform:"translate(453.924490, 1.000000)"},M.createElement("path",{d:"M12.6274816,8.17204883 C12.6358384,8.04673242 12.6401539,7.92030859 12.6401539,7.79288672 C12.6401539,5.50309375 11.2701899,3.53286719 9.30406641,2.65472266 C9.31862927,2.54983203 9.32632854,2.44274023 9.32632854,2.33384375 C9.32632854,1.05430664 8.28750187,0.0169394531 7.00623025,0.0169394531 C5.72484902,0.0169394531 4.68607715,1.05430664 4.68607715,2.33384375 C4.68607715,2.44267188 4.69376272,2.54968164 4.70829819,2.65451758 C2.74188703,3.53256641 1.37158055,5.50290234 1.37158055,7.79288672 C1.37158055,7.92044531 1.37592338,8.04699219 1.38428025,8.17243164 C0.593775725,8.54169531 0.0460860491,9.34289453 0.0460860491,10.2719531 C0.0460860491,11.5515449 1.08474833,12.5888574 2.36612955,12.5888574 C2.80723496,12.5888574 3.21958454,12.4658926 3.57069612,12.2524336 C4.52158393,12.9838105 5.71288912,13.4188223 7.00595625,13.4188223 C8.30016046,13.4188223 9.49238354,12.9830449 10.4436412,12.2505195 C10.7943281,12.4630762 11.2059516,12.5854668 11.6462213,12.5854668 C12.9274382,12.5854668 13.9661004,11.5489746 13.9661004,10.2703672 C13.9661004,9.34171875 13.4181916,8.54095703 12.6274816,8.17204883 Z M7.00623025,1.00913477 C7.73549676,1.00913477 8.32698463,1.59684766 8.33166995,2.32357617 C8.33168365,2.32647461 8.33177955,2.32935938 8.33177955,2.33225781 C8.33177955,2.69178711 8.18805519,3.01775195 7.95488499,3.25620313 C7.71417991,3.50236523 7.37813809,3.65527148 7.00623025,3.65527148 C6.6343361,3.65527148 6.29829428,3.50236523 6.0575618,3.25620313 C5.8243779,3.01775195 5.68062614,2.69178711 5.68062614,2.33225781 C5.68062614,2.32931836 5.68072204,2.32639258 5.68073574,2.32345313 C5.68547586,1.59679297 6.27704593,1.00913477 7.00623025,1.00913477 Z M2.36612955,11.5993965 C1.63399978,11.5993965 1.04047065,11.0058047 1.04047065,10.2734297 C1.04047065,9.84645703 1.24229576,9.46667969 1.55566445,9.22416797 C1.7797654,9.05074023 2.06088482,8.94746289 2.36614325,8.94746289 C2.41639403,8.94746289 2.46597352,8.95036133 2.51477213,8.95580273 C3.17696454,9.02969922 3.69181585,9.59136719 3.69181585,10.273416 C3.69181585,10.4903613 3.6397293,10.6951113 3.5473928,10.8758809 C3.39166744,11.1807637 3.12143934,11.4173555 2.79339819,11.5289863 C2.65931847,11.574623 2.51562151,11.5993965 2.36612955,11.5993965 Z M7.00127093,12.4178633 C5.99141928,12.4178633 5.0570808,12.0957402 4.29537321,11.549084 C4.53905114,11.1824316 4.68111783,10.7425937 4.68111783,10.2695605 C4.68111783,8.99117188 3.64429132,7.95466602 2.36460887,7.95280664 C2.3626772,7.89787305 2.36134833,7.84278906 2.36134833,7.78737695 C2.36134833,5.92565039 3.46242679,4.32079102 5.05001172,3.58529883 C5.46299149,4.22481445 6.18258597,4.64830078 7.00128463,4.64830078 C7.81990109,4.64830078 8.53950926,4.22481445 8.95248903,3.58529883 C10.5400329,4.32079102 11.6411113,5.92565039 11.6411113,7.78737695 C11.6411113,7.84277539 11.6397824,7.89787305 11.6378508,7.95280664 C10.3582094,7.95465234 9.32139662,8.99040625 9.32139662,10.2679746 C9.32139662,10.7413906 9.4639017,11.1815293 9.70827832,11.5482363 C8.94635153,12.0953848 8.01158836,12.4178633 7.00127093,12.4178633 Z M11.6459473,8.94746289 C11.9510962,8.94746289 12.2321197,9.0506582 12.4561658,9.22397656 C12.7696578,9.46647461 12.9715652,9.84632031 12.9715652,10.273375 C12.9715652,11.0056953 12.3780634,11.5993418 11.6459473,11.5993418 C11.4964143,11.5993418 11.3526762,11.574541 11.2185828,11.528877 C10.8907472,11.4172324 10.6206287,11.1807227 10.464917,10.8759902 C10.3725257,10.6951797 10.320398,10.490375 10.320398,10.273375 C10.320398,9.59128516 10.8354138,9.0295625 11.4976062,8.95577539 C11.5463226,8.95034766 11.5957925,8.94746289 11.6459473,8.94746289 Z M7.00557266,6.21029883 C7.91351399,6.21029883 8.64954587,6.94483166 8.64954587,7.85092383 C8.64954587,8.757016 7.91351399,9.49154883 7.00557266,9.49154883 C6.09763132,9.49154883 5.36159944,8.757016 5.36159944,7.85092383 C5.36159944,6.94483166 6.09763132,6.21029883 7.00557266,6.21029883 Z",id:"Pick-\u5F62\u72B6"})))))))))}var J=te;we.default=J},34786:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"SearchDropdown-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"SearchDropdown-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-23.000000, -198.000000)",fillRule:"nonzero"},M.createElement("g",{id:"SearchDropdown-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"SearchDropdown-\u7F16\u7EC4-15",transform:"translate(16.000000, 123.000000)"},M.createElement("g",{id:"SearchDropdown-search-outlined",transform:"translate(7.000000, 5.000000)"},M.createElement("rect",{id:"SearchDropdown-\u77E9\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:18,height:18}),M.createElement("path",{d:"M15.958,14.99375 L11.41325,10.449 C12.1185,9.53725 12.5,8.4225 12.5,7.25 C12.5,5.8465 11.95225,4.5305 10.96175,3.53825 C9.97125,2.546 8.65175,2 7.25,2 C5.84825,2 4.52875,2.54775 3.53825,3.53825 C2.546,4.52875 2,5.8465 2,7.25 C2,8.65175 2.54775,9.97125 3.53825,10.96175 C4.52875,11.954 5.8465,12.5 7.25,12.5 C8.4225,12.5 9.5355,12.1185 10.44725,11.415 L14.992,15.958 C15.048,16.014 15.139,16.014 15.195,15.958 L15.958,15.19675 C16.014,15.14075 16.014,15.04975 15.958,14.99375 Z M10.022,10.022 C9.28,10.76225 8.2965,11.17 7.25,11.17 C6.2035,11.17 5.22,10.76225 4.478,10.022 C3.73775,9.28 3.33,8.2965 3.33,7.25 C3.33,6.2035 3.73775,5.21825 4.478,4.478 C5.22,3.73775 6.2035,3.33 7.25,3.33 C8.2965,3.33 9.28175,3.736 10.022,4.478 C10.76225,5.22 11.17,6.2035 11.17,7.25 C11.17,8.2965 10.76225,9.28175 10.022,10.022 Z",id:"SearchDropdown-\u5F62\u72B6",fill:"currentColor"}),M.createElement("path",{d:"M17.8616348,7.7578125 L14.0131973,7.7578125 C13.8977676,7.7578125 13.8333145,7.8796875 13.9047988,7.96289062 L15.8290176,10.1941406 C15.8840957,10.2580078 15.9901504,10.2580078 16.0458145,10.1941406 L17.9700332,7.96289062 C18.0415176,7.8796875 17.9770645,7.7578125 17.8616348,7.7578125 Z",id:"SearchDropdown-\u8DEF\u5F84",fill:"currentColor"})))))))}var J=te;we.default=J},90734:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"ShapeLine-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"ShapeLine-shape-line",transform:"translate(0.000000, 0.923169)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"ShapeLine-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M5.22,13.3173269 C4.90928357,14.1946577 4.03334945,14.7416208 3.10760502,14.6363783 C2.18186059,14.5311359 1.45139881,13.801551 1.34602985,12.8769179 C1.24066088,11.9522848 1.78828141,11.0774022 2.66666667,10.7670588 L2.66666667,5.21373349 C1.78828141,4.90339007 1.24066088,4.02850749 1.34602985,3.1038744 C1.45139881,2.1792413 2.18186059,1.44965643 3.10760502,1.34441396 C4.03334945,1.23917149 4.90928357,1.78613461 5.22,2.66346539 L10.78,2.66346539 C11.0907164,1.78613461 11.9666505,1.23917149 12.892395,1.34441396 C13.8181394,1.44965643 14.5486012,2.1792413 14.6539702,3.1038744 C14.7593391,4.02850749 14.2117186,4.90339007 13.3333333,5.21373349 L13.3333333,10.7670588 C14.2117186,11.0774022 14.7593391,11.9522848 14.6539702,12.8769179 C14.5486012,13.801551 13.8181394,14.5311359 12.892395,14.6363783 C11.9666505,14.7416208 11.0907164,14.1946577 10.78,13.3173269 L5.22,13.3173269 Z M5.22,11.9855942 L10.78,11.9855942 C10.9819939,11.4165133 11.430235,10.9688103 12,10.7670588 L12,5.21373349 C11.430235,5.01198206 10.9819939,4.56427905 10.78,3.99519808 L5.22,3.99519808 C5.01800608,4.56427905 4.56976496,5.01198206 4,5.21373349 L4,10.7670588 C4.56976496,10.9688103 5.01800608,11.4165133 5.22,11.9855942 Z M3.33333333,3.99519809 C3.5715347,3.9952345 3.79165744,3.86832906 3.91076865,3.66229434 C4.02987987,3.45625961 4.02987987,3.20240385 3.91076865,2.99636913 C3.79165744,2.79033441 3.5715347,2.66342897 3.33333333,2.66346538 C2.96518335,2.66352168 2.66676872,2.96162371 2.66676872,3.32933173 C2.66676872,3.69703976 2.96518335,3.99514178 3.33333333,3.99519809 L3.33333333,3.99519809 Z M12.6666667,3.99519809 C12.904868,3.9952345 13.1249908,3.86832906 13.244102,3.66229434 C13.3632132,3.45625961 13.3632132,3.20240385 13.244102,2.99636913 C13.1249908,2.79033441 12.904868,2.66342897 12.6666667,2.66346538 C12.2985167,2.66352168 12.0001021,2.96162371 12.0001021,3.32933173 C12.0001021,3.69703976 12.2985167,3.99514178 12.6666667,3.99519809 L12.6666667,3.99519809 Z M12.6666667,13.3173269 C12.904868,13.3173633 13.1249908,13.1904579 13.244102,12.9844232 C13.3632132,12.7783885 13.3632132,12.5245327 13.244102,12.318498 C13.1249908,12.1124633 12.904868,11.9855578 12.6666667,11.9855942 C12.2985167,11.9856505 12.0001021,12.2837526 12.0001021,12.6514606 C12.0001021,13.0191686 12.2985167,13.3172706 12.6666667,13.3173269 L12.6666667,13.3173269 Z M3.33333333,13.3173269 C3.5715347,13.3173633 3.79165744,13.1904579 3.91076865,12.9844232 C4.02987987,12.7783885 4.02987987,12.5245327 3.91076865,12.318498 C3.79165744,12.1124633 3.5715347,11.9855578 3.33333333,11.9855942 C2.96518335,11.9856505 2.66676872,12.2837526 2.66676872,12.6514606 C2.66676872,13.0191686 2.96518335,13.3172706 3.33333333,13.3173269 L3.33333333,13.3173269 Z",id:"ShapeLine-\u5F62\u72B6"}))))}var J=te;we.default=J},88079:function($t,we,E){"use strict";var y=E(18698);Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var M=xe(E(67294));function U(w){if(typeof WeakMap!="function")return null;var ne=new WeakMap,W=new WeakMap;return(U=function(ce){return ce?W:ne})(w)}function xe(w,ne){if(!ne&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var W=U(ne);if(W&&W.has(w))return W.get(w);var Z={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ce in w)if(Ce!=="default"&&Object.prototype.hasOwnProperty.call(w,Ce)){var de=ce?Object.getOwnPropertyDescriptor(w,Ce):null;de&&(de.get||de.set)?Object.defineProperty(Z,Ce,de):Z[Ce]=w[Ce]}return Z.default=w,W&&W.set(w,Z),Z}function te(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"TokenPanel-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.85},M.createElement("g",{id:"TokenPanel-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-14.000000, -70.000000)",fill:"currentColor"},M.createElement("g",{id:"TokenPanel-\u7F16\u7EC4-3",transform:"translate(10.000000, 66.000000)"},M.createElement("g",{id:"TokenPanel-\u7F16\u7EC4-20",transform:"translate(4.000000, 4.000000)"},M.createElement("rect",{id:"TokenPanel-\u77E9\u5F62",opacity:.600000024,x:1,y:12,width:7,height:7,rx:.434782594}),M.createElement("path",{d:"M12.3540059,0 L19.5652174,0 C19.8053412,8.08981097e-16 20,0.194658804 20,0.434782609 L20,7.6459941 C20,7.88611791 19.8053412,8.08077671 19.5652174,8.08077671 C19.4499059,8.08077671 19.3393172,8.03496939 19.2577797,7.95343183 L12.0465682,0.74222034 C11.876775,0.572427169 11.876775,0.297138048 12.0465682,0.127344878 C12.1281057,0.0458073219 12.2386944,-6.44951433e-16 12.3540059,0 Z",id:"TokenPanel-\u77E9\u5F62",opacity:.400000006}),M.createElement("circle",{id:"TokenPanel-\u692D\u5706\u5F62",cx:4.34782609,cy:4.34782609,r:4.34782609}),M.createElement("circle",{id:"TokenPanel-\u692D\u5706\u5F62",cx:15.5,cy:15.5,r:3.5}))))))}var J=te;we.default=J},6308:function($t,we,E){"use strict";var y,M=E(64836);y={value:!0},y={enumerable:!0,get:function(){return Z.default}},y={enumerable:!0,get:function(){return de.default}},y={enumerable:!0,get:function(){return ne.default}},y={enumerable:!0,get:function(){return W.default}},Object.defineProperty(we,"Cs",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(we,"_k",{enumerable:!0,get:function(){return je.default}}),y={enumerable:!0,get:function(){return U.default}},y={enumerable:!0,get:function(){return xe.default}},y={enumerable:!0,get:function(){return te.default}},y={enumerable:!0,get:function(){return ce.default}},y={enumerable:!0,get:function(){return J.default}},y={enumerable:!0,get:function(){return Ce.default}};var U=M(E(63341)),xe=M(E(95265)),te=M(E(53278)),J=M(E(90734)),w=M(E(35791)),ne=M(E(74304)),W=M(E(90387)),Z=M(E(34637)),ce=M(E(34786)),Ce=M(E(88079)),de=M(E(56564)),je=M(E(95671))},8745:function($t,we,E){"use strict";var y=E(67294),M=E(93042),U=E(25682),xe=E(53124);function te(w){return ne=>y.createElement(U.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},y.createElement(w,Object.assign({},ne)))}const J=(w,ne,W,Z)=>te(Ce=>{const{prefixCls:de,style:je}=Ce,Ot=y.useRef(null),[rt,fe]=y.useState(0),[Ne,Ve]=y.useState(0),[et,tt]=(0,M.Z)(!1,{value:Ce.open}),{getPrefixCls:Xe}=y.useContext(xe.E_),Ue=Xe(ne||"select",de);y.useEffect(()=>{if(tt(!0),typeof ResizeObserver!="undefined"){const vt=new ResizeObserver(ae=>{const xt=ae[0].target;fe(xt.offsetHeight+8),Ve(xt.offsetWidth)}),he=setInterval(()=>{var ae;const xt=W?`.${W(Ue)}`:`.${Ue}-dropdown`,Pe=(ae=Ot.current)===null||ae===void 0?void 0:ae.querySelector(xt);Pe&&(clearInterval(he),vt.observe(Pe))},10);return()=>{clearInterval(he),vt.disconnect()}}},[]);let Mt=Object.assign(Object.assign({},Ce),{style:Object.assign(Object.assign({},je),{margin:0}),open:et,visible:et,getPopupContainer:()=>Ot.current});Z&&(Mt=Z(Mt));const Qt={paddingBottom:rt,position:"relative",minWidth:Ne};return y.createElement("div",{ref:Ot,style:Qt},y.createElement(w,Object.assign({},Mt)))});we.Z=J},87263:function($t,we,E){"use strict";E.d(we,{Cn:function(){return Z},u6:function(){return J}});var y=E(67294),M=E(25976),U=E(43945);const xe=100,J=xe*10,w={Modal:xe,Drawer:xe,Popover:xe,Popconfirm:xe,Tooltip:xe,Tour:xe},ne={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function W(ce){return ce in w}function Z(ce,Ce){const[,de]=(0,M.ZP)(),je=y.useContext(U.Z),Ot=W(ce);if(Ce!==void 0)return[Ce,Ce];let rt=je!=null?je:0;return Ot?(rt+=(je?0:de.zIndexPopupBase)+w[ce],rt=Math.min(rt,de.zIndexPopupBase+J)):rt+=ne[ce],[je===void 0?Ce:rt,rt]}},80636:function($t,we,E){"use strict";E.d(we,{Z:function(){return J}});var y=E(97414);function M(w,ne,W,Z){if(Z===!1)return{adjustX:!1,adjustY:!1};const ce=Z&&typeof Z=="object"?Z:{},Ce={};switch(w){case"top":case"bottom":Ce.shiftX=ne.arrowOffsetHorizontal*2+W,Ce.shiftY=!0,Ce.adjustY=!0;break;case"left":case"right":Ce.shiftY=ne.arrowOffsetVertical*2+W,Ce.shiftX=!0,Ce.adjustX=!0;break}const de=Object.assign(Object.assign({},Ce),ce);return de.shiftX||(de.adjustX=!0),de.shiftY||(de.adjustY=!0),de}const U={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},xe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},te=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function J(w){const{arrowWidth:ne,autoAdjustOverflow:W,arrowPointAtCenter:Z,offset:ce,borderRadius:Ce,visibleFirst:de}=w,je=ne/2,Ot={};return Object.keys(U).forEach(rt=>{const fe=Z&&xe[rt]||U[rt],Ne=Object.assign(Object.assign({},fe),{offset:[0,0],dynamicInset:!0});switch(Ot[rt]=Ne,te.has(rt)&&(Ne.autoArrow=!1),rt){case"top":case"topLeft":case"topRight":Ne.offset[1]=-je-ce;break;case"bottom":case"bottomLeft":case"bottomRight":Ne.offset[1]=je+ce;break;case"left":case"leftTop":case"leftBottom":Ne.offset[0]=-je-ce;break;case"right":case"rightTop":case"rightBottom":Ne.offset[0]=je+ce;break}const Ve=(0,y.wZ)({contentRadius:Ce,limitVerticalRadius:!0});if(Z)switch(rt){case"topLeft":case"bottomLeft":Ne.offset[0]=-Ve.arrowOffsetHorizontal-je;break;case"topRight":case"bottomRight":Ne.offset[0]=Ve.arrowOffsetHorizontal+je;break;case"leftTop":case"rightTop":Ne.offset[1]=-Ve.arrowOffsetHorizontal-je;break;case"leftBottom":case"rightBottom":Ne.offset[1]=Ve.arrowOffsetHorizontal+je;break}Ne.overflow=M(rt,Ve,ne,W),de&&(Ne.htmlRegion="visibleFirst")}),Ot}},43945:function($t,we,E){"use strict";var y=E(67294);const M=y.createContext(void 0);we.Z=M},67561:function($t,we,E){"use strict";E.d(we,{Z:function(){return yt}});var y=E(96641),M=E(67294),U=E(13144),xe=E.n(U),te=E(56790);const J=Te=>typeof Te=="object"&&Te!=null&&Te.nodeType===1,w=(Te,$e)=>(!$e||Te!=="hidden")&&Te!=="visible"&&Te!=="clip",ne=(Te,$e)=>{if(Te.clientHeight<Te.scrollHeight||Te.clientWidth<Te.scrollWidth){const dt=getComputedStyle(Te,null);return w(dt.overflowY,$e)||w(dt.overflowX,$e)||(Dt=>{const nt=(re=>{if(!re.ownerDocument||!re.ownerDocument.defaultView)return null;try{return re.ownerDocument.defaultView.frameElement}catch(se){return null}})(Dt);return!!nt&&(nt.clientHeight<Dt.scrollHeight||nt.clientWidth<Dt.scrollWidth)})(Te)}return!1},W=(Te,$e,dt,Dt,nt,re,se,q)=>re<Te&&se>$e||re>Te&&se<$e?0:re<=Te&&q<=dt||se>=$e&&q>=dt?re-Te-Dt:se>$e&&q<dt||re<Te&&q>dt?se-$e+nt:0,Z=Te=>{const $e=Te.parentElement;return $e==null?Te.getRootNode().host||null:$e},ce=(Te,$e)=>{var dt,Dt,nt,re;if(typeof document=="undefined")return[];const{scrollMode:se,block:q,inline:Re,boundary:Ae,skipOverflowHiddenElements:Tt}=$e,jt=typeof Ae=="function"?Ae:Vn=>Vn!==Ae;if(!J(Te))throw new TypeError("Invalid target");const Xt=document.scrollingElement||document.documentElement,zt=[];let Rt=Te;for(;J(Rt)&&jt(Rt);){if(Rt=Z(Rt),Rt===Xt){zt.push(Rt);break}Rt!=null&&Rt===document.body&&ne(Rt)&&!ne(document.documentElement)||Rt!=null&&ne(Rt,Tt)&&zt.push(Rt)}const mr=(Dt=(dt=window.visualViewport)==null?void 0:dt.width)!=null?Dt:innerWidth,St=(re=(nt=window.visualViewport)==null?void 0:nt.height)!=null?re:innerHeight,{scrollX:pe,scrollY:Yt}=window,{height:Jt,width:ir,top:tr,right:rr,bottom:xn,left:jr}=Te.getBoundingClientRect(),{top:gn,right:ze,bottom:ar,left:vr}=(Vn=>{const fr=window.getComputedStyle(Vn);return{top:parseFloat(fr.scrollMarginTop)||0,right:parseFloat(fr.scrollMarginRight)||0,bottom:parseFloat(fr.scrollMarginBottom)||0,left:parseFloat(fr.scrollMarginLeft)||0}})(Te);let Tr=q==="start"||q==="nearest"?tr-gn:q==="end"?xn+ar:tr+Jt/2-gn+ar,br=Re==="center"?jr+ir/2-vr+ze:Re==="end"?rr+ze:jr-vr;const yn=[];for(let Vn=0;Vn<zt.length;Vn++){const fr=zt[Vn],{height:Qn,width:un,top:Wn,right:Mn,bottom:fi,left:Ei}=fr.getBoundingClientRect();if(se==="if-needed"&&tr>=0&&jr>=0&&xn<=St&&rr<=mr&&tr>=Wn&&xn<=fi&&jr>=Ei&&rr<=Mn)return yn;const ti=getComputedStyle(fr),dn=parseInt(ti.borderLeftWidth,10),Dr=parseInt(ti.borderTopWidth,10),bt=parseInt(ti.borderRightWidth,10),on=parseInt(ti.borderBottomWidth,10);let Se=0,Ke=0;const It="offsetWidth"in fr?fr.offsetWidth-fr.clientWidth-dn-bt:0,ot="offsetHeight"in fr?fr.offsetHeight-fr.clientHeight-Dr-on:0,Vt="offsetWidth"in fr?fr.offsetWidth===0?0:un/fr.offsetWidth:0,Rr="offsetHeight"in fr?fr.offsetHeight===0?0:Qn/fr.offsetHeight:0;if(Xt===fr)Se=q==="start"?Tr:q==="end"?Tr-St:q==="nearest"?W(Yt,Yt+St,St,Dr,on,Yt+Tr,Yt+Tr+Jt,Jt):Tr-St/2,Ke=Re==="start"?br:Re==="center"?br-mr/2:Re==="end"?br-mr:W(pe,pe+mr,mr,dn,bt,pe+br,pe+br+ir,ir),Se=Math.max(0,Se+Yt),Ke=Math.max(0,Ke+pe);else{Se=q==="start"?Tr-Wn-Dr:q==="end"?Tr-fi+on+ot:q==="nearest"?W(Wn,fi,Qn,Dr,on+ot,Tr,Tr+Jt,Jt):Tr-(Wn+Qn/2)+ot/2,Ke=Re==="start"?br-Ei-dn:Re==="center"?br-(Ei+un/2)+It/2:Re==="end"?br-Mn+bt+It:W(Ei,Mn,un,dn,bt+It,br,br+ir,ir);const{scrollLeft:Tn,scrollTop:G}=fr;Se=Rr===0?0:Math.max(0,Math.min(G+Se/Rr,fr.scrollHeight-Qn/Rr+ot)),Ke=Vt===0?0:Math.max(0,Math.min(Tn+Ke/Vt,fr.scrollWidth-un/Vt+It)),Tr+=G-Se,br+=Tn-Ke}yn.push({el:fr,top:Se,left:Ke})}return yn},Ce=Te=>Te===!1?{block:"end",inline:"nearest"}:($e=>$e===Object($e)&&Object.keys($e).length!==0)(Te)?Te:{block:"start",inline:"nearest"};function de(Te,$e){if(!Te.isConnected||!(nt=>{let re=nt;for(;re&&re.parentNode;){if(re.parentNode===document)return!0;re=re.parentNode instanceof ShadowRoot?re.parentNode.host:re.parentNode}return!1})(Te))return;const dt=(nt=>{const re=window.getComputedStyle(nt);return{top:parseFloat(re.scrollMarginTop)||0,right:parseFloat(re.scrollMarginRight)||0,bottom:parseFloat(re.scrollMarginBottom)||0,left:parseFloat(re.scrollMarginLeft)||0}})(Te);if((nt=>typeof nt=="object"&&typeof nt.behavior=="function")($e))return $e.behavior(ce(Te,$e));const Dt=typeof $e=="boolean"||$e==null?void 0:$e.behavior;for(const{el:nt,top:re,left:se}of ce(Te,Ce($e))){const q=re-dt.top+dt.bottom,Re=se-dt.left+dt.right;nt.scroll({top:q,left:Re,behavior:Dt})}}function je(Te){return Te!=null&&Te===Te.window}function Ot(Te,$e){var dt,Dt;if(typeof window=="undefined")return 0;const nt=$e?"scrollTop":"scrollLeft";let re=0;return je(Te)?re=Te[$e?"pageYOffset":"pageXOffset"]:Te instanceof Document?re=Te.documentElement[nt]:(Te instanceof HTMLElement||Te)&&(re=Te[nt]),Te&&!je(Te)&&typeof re!="number"&&(re=(Dt=((dt=Te.ownerDocument)!==null&&dt!==void 0?dt:Te).documentElement)===null||Dt===void 0?void 0:Dt[nt]),re}var rt=E(75164);function fe(Te,$e,dt,Dt){const nt=dt-$e;return Te/=Dt/2,Te<1?nt/2*Te*Te*Te+$e:nt/2*((Te-=2)*Te*Te+2)+$e}function Ne(Te){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:dt=()=>window,callback:Dt,duration:nt=450}=$e,re=dt(),se=Ot(re,!0),q=Date.now(),Re=()=>{const Tt=Date.now()-q,jt=fe(Tt>nt?nt:Tt,se,Te,nt);je(re)?re.scrollTo(window.pageXOffset,jt):re instanceof Document||re.constructor.name==="HTMLDocument"?re.documentElement.scrollTop=jt:re.scrollTop=jt,Tt<nt?(0,rt.Z)(Re):typeof Dt=="function"&&Dt()};(0,rt.Z)(Re)}var Ve=E(9220),et=E(98423);function tt(Te){let $e;const dt=nt=>()=>{$e=null,Te.apply(void 0,(0,y.Z)(nt))},Dt=function(){if($e==null){for(var nt=arguments.length,re=new Array(nt),se=0;se<nt;se++)re[se]=arguments[se];$e=(0,rt.Z)(dt(re))}};return Dt.cancel=()=>{rt.Z.cancel($e),$e=null},Dt}var Xe=tt,Ue=E(53124),Mt=E(48132);const Qt=Te=>{const{componentCls:$e}=Te;return{[$e]:{position:"fixed",zIndex:Te.zIndexPopup}}},vt=Te=>({zIndexPopup:Te.zIndexBase+10});var he=(0,Mt.I$)("Affix",Qt,vt);function ae(Te){return Te!==window?Te.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function xt(Te,$e,dt){if(dt!==void 0&&Math.round($e.top)>Math.round(Te.top)-dt)return dt+$e.top}function Pe(Te,$e,dt){if(dt!==void 0&&Math.round($e.bottom)<Math.round(Te.bottom)+dt){const Dt=window.innerHeight-$e.bottom;return dt+Dt}}const Pt=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Lt(){return typeof window!="undefined"?window:null}const Ye=0,Le=1;var me=M.forwardRef((Te,$e)=>{var dt;const{style:Dt,offsetTop:nt,offsetBottom:re,prefixCls:se,className:q,rootClassName:Re,children:Ae,target:Tt,onChange:jt}=Te,{getPrefixCls:Xt,getTargetContainer:zt}=M.useContext(Ue.E_),Rt=Xt("affix",se),[mr,St]=M.useState(!1),[pe,Yt]=M.useState(),[Jt,ir]=M.useState(),tr=M.useRef(Ye),rr=M.useRef(null),xn=M.useRef(),jr=M.useRef(null),gn=M.useRef(null),ze=M.useRef(null),ar=(dt=Tt!=null?Tt:zt)!==null&&dt!==void 0?dt:Lt,vr=re===void 0&&nt===void 0?0:nt,Tr=()=>{if(tr.current!==Le||!gn.current||!jr.current||!ar)return;const dn=ar();if(dn){const Dr={status:Ye},bt=ae(jr.current);if(bt.top===0&&bt.left===0&&bt.width===0&&bt.height===0)return;const on=ae(dn),Se=xt(bt,on,vr),Ke=Pe(bt,on,re);Se!==void 0?(Dr.affixStyle={position:"fixed",top:Se,width:bt.width,height:bt.height},Dr.placeholderStyle={width:bt.width,height:bt.height}):Ke!==void 0&&(Dr.affixStyle={position:"fixed",bottom:Ke,width:bt.width,height:bt.height},Dr.placeholderStyle={width:bt.width,height:bt.height}),Dr.lastAffix=!!Dr.affixStyle,mr!==Dr.lastAffix&&(jt==null||jt(Dr.lastAffix)),tr.current=Dr.status,Yt(Dr.affixStyle),ir(Dr.placeholderStyle),St(Dr.lastAffix)}},br=()=>{var dn;tr.current=Le,Tr()},yn=Xe(()=>{br()}),Vn=Xe(()=>{if(ar&&pe){const dn=ar();if(dn&&jr.current){const Dr=ae(dn),bt=ae(jr.current),on=xt(bt,Dr,vr),Se=Pe(bt,Dr,re);if(on!==void 0&&pe.top===on||Se!==void 0&&pe.bottom===Se)return}}br()}),fr=()=>{const dn=ar==null?void 0:ar();dn&&(Pt.forEach(Dr=>{var bt;xn.current&&((bt=rr.current)===null||bt===void 0||bt.removeEventListener(Dr,xn.current)),dn==null||dn.addEventListener(Dr,Vn)}),rr.current=dn,xn.current=Vn)},Qn=()=>{ze.current&&(clearTimeout(ze.current),ze.current=null);const dn=ar==null?void 0:ar();Pt.forEach(Dr=>{var bt;dn==null||dn.removeEventListener(Dr,Vn),xn.current&&((bt=rr.current)===null||bt===void 0||bt.removeEventListener(Dr,xn.current))}),yn.cancel(),Vn.cancel()};M.useImperativeHandle($e,()=>({updatePosition:yn})),M.useEffect(()=>(ze.current=setTimeout(fr),()=>Qn()),[]),M.useEffect(()=>{fr()},[Tt,pe]),M.useEffect(()=>{yn()},[Tt,nt,re]);const[un,Wn,Mn]=he(Rt),fi=xe()(Re,Wn,Rt,Mn),Ei=xe()({[fi]:pe});let ti=(0,et.Z)(Te,["prefixCls","offsetTop","offsetBottom","target","onChange","rootClassName"]);return un(M.createElement(Ve.Z,{onResize:yn},M.createElement("div",Object.assign({style:Dt,className:q,ref:jr},ti),pe&&M.createElement("div",{style:Jt,"aria-hidden":"true"}),M.createElement("div",{className:Ei,ref:gn,style:pe},M.createElement(Ve.Z,{onResize:yn},Ae)))))}),Ee=E(35792),gt=M.createContext(void 0),Ze=Te=>{const{href:$e,title:dt,prefixCls:Dt,children:nt,className:re,target:se,replace:q}=Te,Re=M.useContext(gt),{registerLink:Ae,unregisterLink:Tt,scrollTo:jt,onClick:Xt,activeLink:zt,direction:Rt}=Re||{};M.useEffect(()=>(Ae==null||Ae($e),()=>{Tt==null||Tt($e)}),[$e]);const mr=tr=>{q&&(tr.preventDefault(),window.location.replace($e)),Xt==null||Xt(tr,{title:dt,href:$e}),jt==null||jt($e)},{getPrefixCls:St}=M.useContext(Ue.E_),pe=St("anchor",Dt),Yt=zt===$e,Jt=xe()(`${pe}-link`,re,{[`${pe}-link-active`]:Yt}),ir=xe()(`${pe}-link-title`,{[`${pe}-link-title-active`]:Yt});return M.createElement("div",{className:Jt},M.createElement("a",{className:ir,href:$e,title:typeof dt=="string"?dt:"",target:se,onClick:mr},dt),Rt!=="horizontal"?nt:null)},De=E(54548),We=E(14747),er=E(45503);const Ft=Te=>{const{componentCls:$e,holderOffsetBlock:dt,motionDurationSlow:Dt,lineWidthBold:nt,colorPrimary:re,lineType:se,colorSplit:q,calc:Re}=Te;return{[`${$e}-wrapper`]:{marginBlockStart:Re(dt).mul(-1).equal(),paddingBlockStart:dt,[$e]:Object.assign(Object.assign({},(0,We.Wf)(Te)),{position:"relative",paddingInlineStart:nt,[`${$e}-link`]:{paddingBlock:Te.linkPaddingBlock,paddingInline:`${(0,De.unit)(Te.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},We.vS),{position:"relative",display:"block",marginBlockEnd:Te.anchorTitleBlock,color:Te.colorText,transition:`all ${Te.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${$e}-link-title`]:{color:Te.colorPrimary},[`${$e}-link`]:{paddingBlock:Te.anchorPaddingBlockSecondary}}}),[`&:not(${$e}-wrapper-horizontal)`]:{[$e]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,De.unit)(nt)} ${se} ${q}`,content:'" "'},[`${$e}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${Dt} ease-in-out`,width:nt,backgroundColor:re,[`&${$e}-ink-visible`]:{display:"inline-block"}}}},[`${$e}-fixed ${$e}-ink ${$e}-ink`]:{display:"none"}}}},or=Te=>{const{componentCls:$e,motionDurationSlow:dt,lineWidthBold:Dt,colorPrimary:nt}=Te;return{[`${$e}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,De.unit)(Te.lineWidth)} ${Te.lineType} ${Te.colorSplit}`,content:'" "'},[$e]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${$e}-link:first-of-type`]:{paddingInline:0},[`${$e}-ink`]:{position:"absolute",bottom:0,transition:`left ${dt} ease-in-out, width ${dt} ease-in-out`,height:Dt,backgroundColor:nt}}}}},Ar=Te=>({linkPaddingBlock:Te.paddingXXS,linkPaddingInlineStart:Te.padding});var $r=(0,Mt.I$)("Anchor",Te=>{const{fontSize:$e,fontSizeLG:dt,paddingXXS:Dt,calc:nt}=Te,re=(0,er.TS)(Te,{holderOffsetBlock:Dt,anchorPaddingBlockSecondary:nt(Dt).div(2).equal(),anchorTitleBlock:nt($e).div(14).mul(3).equal(),anchorBallSize:nt(dt).div(2).equal()});return[Ft(re),or(re)]},Ar);function qe(){return window}function ke(Te,$e){if(!Te.getClientRects().length)return 0;const dt=Te.getBoundingClientRect();return dt.width||dt.height?$e===window?($e=Te.ownerDocument.documentElement,dt.top-$e.clientTop):dt.top-$e.getBoundingClientRect().top:dt.top}const Et=/#([\S ]+)$/;var Lr=Te=>{var $e;const{rootClassName:dt,prefixCls:Dt,className:nt,style:re,offsetTop:se,affix:q=!0,showInkInFixed:Re=!1,children:Ae,items:Tt,direction:jt="vertical",bounds:Xt,targetOffset:zt,onClick:Rt,onChange:mr,getContainer:St,getCurrentAnchor:pe,replace:Yt}=Te,[Jt,ir]=M.useState([]),[tr,rr]=M.useState(null),xn=M.useRef(tr),jr=M.useRef(null),gn=M.useRef(null),ze=M.useRef(!1),{direction:ar,anchor:vr,getTargetContainer:Tr,getPrefixCls:br}=M.useContext(Ue.E_),yn=br("anchor",Dt),Vn=(0,Ee.Z)(yn),[fr,Qn,un]=$r(yn,Vn),Wn=($e=St!=null?St:Tr)!==null&&$e!==void 0?$e:qe,Mn=JSON.stringify(Jt),fi=(0,te.useEvent)(G=>{Jt.includes(G)||ir(ye=>[].concat((0,y.Z)(ye),[G]))}),Ei=(0,te.useEvent)(G=>{Jt.includes(G)&&ir(ye=>ye.filter(Oe=>Oe!==G))}),ti=()=>{var G;const ye=(G=jr.current)===null||G===void 0?void 0:G.querySelector(`.${yn}-link-title-active`);if(ye&&gn.current){const{style:Oe}=gn.current,ve=jt==="horizontal";Oe.top=ve?"":`${ye.offsetTop+ye.clientHeight/2}px`,Oe.height=ve?"":`${ye.clientHeight}px`,Oe.left=ve?`${ye.offsetLeft}px`:"",Oe.width=ve?`${ye.clientWidth}px`:"",ve&&de(ye,{scrollMode:"if-needed",block:"nearest"})}},dn=function(G){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const ve=[],He=Wn();return G.forEach(wt=>{const pr=Et.exec(wt==null?void 0:wt.toString());if(!pr)return;const xr=document.getElementById(pr[1]);if(xr){const Fr=ke(xr,He);Fr<=ye+Oe&&ve.push({link:wt,top:Fr})}}),ve.length?ve.reduce((pr,xr)=>xr.top>pr.top?xr:pr).link:""},Dr=(0,te.useEvent)(G=>{if(xn.current===G)return;const ye=typeof pe=="function"?pe(G):G;rr(ye),xn.current=ye,mr==null||mr(G)}),bt=M.useCallback(()=>{if(ze.current)return;const G=dn(Jt,zt!==void 0?zt:se||0,Xt);Dr(G)},[Mn,zt,se]),on=M.useCallback(G=>{Dr(G);const ye=Et.exec(G);if(!ye)return;const Oe=document.getElementById(ye[1]);if(!Oe)return;const ve=Wn(),He=Ot(ve,!0),wt=ke(Oe,ve);let pr=He+wt;pr-=zt!==void 0?zt:se||0,ze.current=!0,Ne(pr,{getContainer:Wn,callback(){ze.current=!1}})},[zt,se]),Se=xe()(Qn,un,Vn,dt,`${yn}-wrapper`,{[`${yn}-wrapper-horizontal`]:jt==="horizontal",[`${yn}-rtl`]:ar==="rtl"},nt,vr==null?void 0:vr.className),Ke=xe()(yn,{[`${yn}-fixed`]:!q&&!Re}),It=xe()(`${yn}-ink`,{[`${yn}-ink-visible`]:tr}),ot=Object.assign(Object.assign({maxHeight:se?`calc(100vh - ${se}px)`:"100vh"},vr==null?void 0:vr.style),re),Vt=G=>Array.isArray(G)?G.map(ye=>M.createElement(Ze,Object.assign({replace:Yt},ye,{key:ye.key}),jt==="vertical"&&Vt(ye.children))):null,Rr=M.createElement("div",{ref:jr,className:Se,style:ot},M.createElement("div",{className:Ke},M.createElement("span",{className:It,ref:gn}),"items"in Te?Vt(Tt):Ae));M.useEffect(()=>{const G=Wn();return bt(),G==null||G.addEventListener("scroll",bt),()=>{G==null||G.removeEventListener("scroll",bt)}},[Mn]),M.useEffect(()=>{typeof pe=="function"&&Dr(pe(xn.current||""))},[pe]),M.useEffect(()=>{ti()},[jt,pe,Mn,tr]);const Tn=M.useMemo(()=>({registerLink:fi,unregisterLink:Ei,scrollTo:on,activeLink:tr,onClick:Rt,direction:jt}),[tr,Rt,on,jt]);return fr(M.createElement(gt.Provider,{value:Tn},q?M.createElement(me,{offsetTop:se,target:Wn},Rr):Rr))};const Ur=Lr;Ur.Link=Ze;var yt=Ur},6226:function($t,we,E){"use strict";E.d(we,{Z:function(){return Ce}});var y=E(67294),M=E(13144),U=E.n(M),xe=E(53124),te=E(99134),J=E(6999),w=function(de,je){var Ot={};for(var rt in de)Object.prototype.hasOwnProperty.call(de,rt)&&je.indexOf(rt)<0&&(Ot[rt]=de[rt]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var fe=0,rt=Object.getOwnPropertySymbols(de);fe<rt.length;fe++)je.indexOf(rt[fe])<0&&Object.prototype.propertyIsEnumerable.call(de,rt[fe])&&(Ot[rt[fe]]=de[rt[fe]]);return Ot};function ne(de){return typeof de=="number"?`${de} ${de} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(de)?`0 0 ${de}`:de}const W=["xs","sm","md","lg","xl","xxl"];var ce=y.forwardRef((de,je)=>{const{getPrefixCls:Ot,direction:rt}=y.useContext(xe.E_),{gutter:fe,wrap:Ne}=y.useContext(te.Z),{prefixCls:Ve,span:et,order:tt,offset:Xe,push:Ue,pull:Mt,className:Qt,children:vt,flex:he,style:ae}=de,xt=w(de,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Pe=Ot("col",Ve),[Pt,Lt,Ye]=(0,J.cG)(Pe),Le={};let Y={};W.forEach(Ge=>{let gt={};const at=de[Ge];typeof at=="number"?gt.span=at:typeof at=="object"&&(gt=at||{}),delete xt[Ge],Y=Object.assign(Object.assign({},Y),{[`${Pe}-${Ge}-${gt.span}`]:gt.span!==void 0,[`${Pe}-${Ge}-order-${gt.order}`]:gt.order||gt.order===0,[`${Pe}-${Ge}-offset-${gt.offset}`]:gt.offset||gt.offset===0,[`${Pe}-${Ge}-push-${gt.push}`]:gt.push||gt.push===0,[`${Pe}-${Ge}-pull-${gt.pull}`]:gt.pull||gt.pull===0,[`${Pe}-rtl`]:rt==="rtl"}),gt.flex&&(Y[`${Pe}-${Ge}-flex`]=!0,Le[`--${Pe}-${Ge}-flex`]=ne(gt.flex))});const me=U()(Pe,{[`${Pe}-${et}`]:et!==void 0,[`${Pe}-order-${tt}`]:tt,[`${Pe}-offset-${Xe}`]:Xe,[`${Pe}-push-${Ue}`]:Ue,[`${Pe}-pull-${Mt}`]:Mt},Qt,Y,Lt,Ye),Ee={};if(fe&&fe[0]>0){const Ge=fe[0]/2;Ee.paddingLeft=Ge,Ee.paddingRight=Ge}return he&&(Ee.flex=ne(he),Ne===!1&&!Ee.minWidth&&(Ee.minWidth=0)),Pt(y.createElement("div",Object.assign({},xt,{style:Object.assign(Object.assign(Object.assign({},Ee),ae),Le),className:me,ref:je}),vt))}),Ce=ce},83159:function($t,we,E){"use strict";E.d(we,{Z:function(){return $r}});var y=E(67294),M=E(62994),U=E(13144),xe=E.n(U),te=E(29171),J=E(56790),w=E(93042),ne=E(98423),W=E(87263),Z=E(80636),ce=E(8745),Ce=E(96159),de=E(27288),je=E(43945),Ot=E(53124),rt=E(35792),fe=E(96077),Ne=E(76529),Ve=E(25976),et=E(54548),tt=E(14747),Xe=E(67771),Ue=E(33297),Mt=E(50438),Qt=E(97414),vt=E(79511),he=E(48132),ae=E(45503),Pe=qe=>{const{componentCls:ke,menuCls:Et,colorError:cr,colorTextLightSolid:Lr}=qe,Ur=`${Et}-item`;return{[`${ke}, ${ke}-menu-submenu`]:{[`${Et} ${Ur}`]:{[`&${Ur}-danger:not(${Ur}-disabled)`]:{color:cr,"&:hover":{color:Lr,backgroundColor:cr}}}}}};const Pt=qe=>{const{componentCls:ke,menuCls:Et,zIndexPopup:cr,dropdownArrowDistance:Lr,sizePopupArrow:Ur,antCls:yt,iconCls:Te,motionDurationMid:$e,paddingBlock:dt,fontSize:Dt,dropdownEdgeChildPadding:nt,colorTextDisabled:re,fontSizeIcon:se,controlPaddingHorizontal:q,colorBgElevated:Re}=qe;return[{[ke]:Object.assign(Object.assign({},(0,tt.Wf)(qe)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:cr,display:"block","&::before":{position:"absolute",insetBlock:qe.calc(Ur).div(2).sub(Lr).equal(),zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${yt}-btn`]:{[`& > ${Te}-down, & > ${yt}-btn-icon > ${Te}-down`]:{fontSize:se}},[`${ke}-wrap`]:{position:"relative",[`${yt}-btn > ${Te}-down`]:{fontSize:se},[`${Te}-down::before`]:{transition:`transform ${$e}`}},[`${ke}-wrap-open`]:{[`${Te}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${yt}-slide-down-enter${yt}-slide-down-enter-active${ke}-placement-bottomLeft,
          &${yt}-slide-down-appear${yt}-slide-down-appear-active${ke}-placement-bottomLeft,
          &${yt}-slide-down-enter${yt}-slide-down-enter-active${ke}-placement-bottom,
          &${yt}-slide-down-appear${yt}-slide-down-appear-active${ke}-placement-bottom,
          &${yt}-slide-down-enter${yt}-slide-down-enter-active${ke}-placement-bottomRight,
          &${yt}-slide-down-appear${yt}-slide-down-appear-active${ke}-placement-bottomRight`]:{animationName:Xe.fJ},[`&${yt}-slide-up-enter${yt}-slide-up-enter-active${ke}-placement-topLeft,
          &${yt}-slide-up-appear${yt}-slide-up-appear-active${ke}-placement-topLeft,
          &${yt}-slide-up-enter${yt}-slide-up-enter-active${ke}-placement-top,
          &${yt}-slide-up-appear${yt}-slide-up-appear-active${ke}-placement-top,
          &${yt}-slide-up-enter${yt}-slide-up-enter-active${ke}-placement-topRight,
          &${yt}-slide-up-appear${yt}-slide-up-appear-active${ke}-placement-topRight`]:{animationName:Xe.Qt},[`&${yt}-slide-down-leave${yt}-slide-down-leave-active${ke}-placement-bottomLeft,
          &${yt}-slide-down-leave${yt}-slide-down-leave-active${ke}-placement-bottom,
          &${yt}-slide-down-leave${yt}-slide-down-leave-active${ke}-placement-bottomRight`]:{animationName:Xe.Uw},[`&${yt}-slide-up-leave${yt}-slide-up-leave-active${ke}-placement-topLeft,
          &${yt}-slide-up-leave${yt}-slide-up-leave-active${ke}-placement-top,
          &${yt}-slide-up-leave${yt}-slide-up-leave-active${ke}-placement-topRight`]:{animationName:Xe.ly}})},(0,Qt.ZP)(qe,Re,{arrowPlacement:{top:!0,bottom:!0}}),{[`${ke} ${Et}`]:{position:"relative",margin:0},[`${Et}-submenu-popup`]:{position:"absolute",zIndex:cr,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${ke}, ${ke}-menu-submenu`]:{[Et]:Object.assign(Object.assign({padding:nt,listStyleType:"none",backgroundColor:Re,backgroundClip:"padding-box",borderRadius:qe.borderRadiusLG,outline:"none",boxShadow:qe.boxShadowSecondary},(0,tt.Qy)(qe)),{"&:empty":{padding:0,boxShadow:"none"},[`${Et}-item-group-title`]:{padding:`${(0,et.unit)(dt)} ${(0,et.unit)(q)}`,color:qe.colorTextDescription,transition:`all ${$e}`},[`${Et}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${Et}-item-icon`]:{minWidth:Dt,marginInlineEnd:qe.marginXS,fontSize:qe.fontSizeSM},[`${Et}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${$e}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${Et}-item, ${Et}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${(0,et.unit)(dt)} ${(0,et.unit)(q)}`,color:qe.colorText,fontWeight:"normal",fontSize:Dt,lineHeight:qe.lineHeight,cursor:"pointer",transition:`all ${$e}`,borderRadius:qe.borderRadiusSM,"&:hover, &-active":{backgroundColor:qe.controlItemBgHover}},(0,tt.Qy)(qe)),{"&-selected":{color:qe.colorPrimary,backgroundColor:qe.controlItemBgActive,"&:hover, &-active":{backgroundColor:qe.controlItemBgActiveHover}},"&-disabled":{color:re,cursor:"not-allowed","&:hover":{color:re,backgroundColor:Re,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,et.unit)(qe.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:qe.colorSplit},[`${ke}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:qe.paddingXS,[`${ke}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:qe.colorTextDescription,fontSize:se,fontStyle:"normal"}}}),[`${Et}-item-group-list`]:{margin:`0 ${(0,et.unit)(qe.marginXS)}`,padding:0,listStyle:"none"},[`${Et}-submenu-title`]:{paddingInlineEnd:qe.calc(q).add(qe.fontSizeSM).equal()},[`${Et}-submenu-vertical`]:{position:"relative"},[`${Et}-submenu${Et}-submenu-disabled ${ke}-menu-submenu-title`]:{[`&, ${ke}-menu-submenu-arrow-icon`]:{color:re,backgroundColor:Re,cursor:"not-allowed"}},[`${Et}-submenu-selected ${ke}-menu-submenu-title`]:{color:qe.colorPrimary}})}},[(0,Xe.oN)(qe,"slide-up"),(0,Xe.oN)(qe,"slide-down"),(0,Ue.Fm)(qe,"move-up"),(0,Ue.Fm)(qe,"move-down"),(0,Mt._y)(qe,"zoom-big")]]},Lt=qe=>Object.assign(Object.assign({zIndexPopup:qe.zIndexPopupBase+50,paddingBlock:(qe.controlHeight-qe.fontSize*qe.lineHeight)/2},(0,Qt.wZ)({contentRadius:qe.borderRadiusLG,limitVerticalRadius:!0})),(0,vt.w)(qe));var Ye=(0,he.I$)("Dropdown",qe=>{const{marginXXS:ke,sizePopupArrow:Et,paddingXXS:cr,componentCls:Lr}=qe,Ur=(0,ae.TS)(qe,{menuCls:`${Lr}-menu`,dropdownArrowDistance:qe.calc(Et).div(2).add(ke).equal(),dropdownEdgeChildPadding:cr});return[Pt(Ur),Pe(Ur)]},Lt,{resetStyle:!1});const Le=null,Y=qe=>{const{menu:ke,arrow:Et,prefixCls:cr,children:Lr,trigger:Ur,disabled:yt,dropdownRender:Te,getPopupContainer:$e,overlayClassName:dt,rootClassName:Dt,overlayStyle:nt,open:re,onOpenChange:se,visible:q,onVisibleChange:Re,mouseEnterDelay:Ae=.15,mouseLeaveDelay:Tt=.1,autoAdjustOverflow:jt=!0,placement:Xt="",overlay:zt,transitionName:Rt}=qe,{getPopupContainer:mr,getPrefixCls:St,direction:pe,dropdown:Yt}=y.useContext(Ot.E_),Jt=(0,de.ln)("Dropdown"),ir=y.useMemo(()=>{const Dr=St();return Rt!==void 0?Rt:Xt.includes("top")?`${Dr}-slide-down`:`${Dr}-slide-up`},[St,Xt,Rt]),tr=y.useMemo(()=>Xt?Xt.includes("Center")?Xt.slice(0,Xt.indexOf("Center")):Xt:pe==="rtl"?"bottomRight":"bottomLeft",[Xt,pe]),rr=St("dropdown",cr),xn=(0,rt.Z)(rr),[jr,gn,ze]=Ye(rr,xn),[,ar]=(0,Ve.ZP)(),vr=y.Children.only(Lr),Tr=(0,Ce.Tm)(vr,{className:xe()(`${rr}-trigger`,{[`${rr}-rtl`]:pe==="rtl"},vr.props.className),disabled:yt}),br=yt?[]:Ur;let yn;br&&br.includes("contextMenu")&&(yn=!0);const[Vn,fr]=(0,w.Z)(!1,{value:re!=null?re:q}),Qn=(0,J.useEvent)(Dr=>{se==null||se(Dr,{source:"trigger"}),Re==null||Re(Dr),fr(Dr)}),un=xe()(dt,Dt,gn,ze,xn,Yt==null?void 0:Yt.className,{[`${rr}-rtl`]:pe==="rtl"}),Wn=(0,Z.Z)({arrowPointAtCenter:typeof Et=="object"&&Et.pointAtCenter,autoAdjustOverflow:jt,offset:ar.marginXXS,arrowWidth:Et?ar.sizePopupArrow:0,borderRadius:ar.borderRadius}),Mn=y.useCallback(()=>{ke!=null&&ke.selectable&&(ke!=null&&ke.multiple)||(se==null||se(!1,{source:"menu"}),fr(!1))},[ke==null?void 0:ke.selectable,ke==null?void 0:ke.multiple]),fi=()=>{let Dr;return ke!=null&&ke.items?Dr=y.createElement(fe.Z,Object.assign({},ke)):typeof zt=="function"?Dr=zt():Dr=zt,Te&&(Dr=Te(Dr)),Dr=y.Children.only(typeof Dr=="string"?y.createElement("span",null,Dr):Dr),y.createElement(Ne.J,{prefixCls:`${rr}-menu`,rootClassName:xe()(ze,xn),expandIcon:y.createElement("span",{className:`${rr}-menu-submenu-arrow`},y.createElement(M.Z,{className:`${rr}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Mn,validator:bt=>{let{mode:on}=bt}},Dr)},[Ei,ti]=(0,W.Cn)("Dropdown",nt==null?void 0:nt.zIndex);let dn=y.createElement(te.Z,Object.assign({alignPoint:yn},(0,ne.Z)(qe,["rootClassName"]),{mouseEnterDelay:Ae,mouseLeaveDelay:Tt,visible:Vn,builtinPlacements:Wn,arrow:!!Et,overlayClassName:un,prefixCls:rr,getPopupContainer:$e||mr,transitionName:ir,trigger:br,overlay:fi,placement:tr,onVisibleChange:Qn,overlayStyle:Object.assign(Object.assign(Object.assign({},Yt==null?void 0:Yt.style),nt),{zIndex:Ei})}),Tr);return Ei&&(dn=y.createElement(je.Z.Provider,{value:ti},dn)),jr(dn)};function me(qe){return Object.assign(Object.assign({},qe),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const Ee=(0,ce.Z)(Y,"dropdown",qe=>qe,me),Ge=qe=>y.createElement(Ee,Object.assign({},qe),y.createElement("span",null));Y._InternalPanelDoNotUseOrYouWillBeFired=Ge;var gt=Y,at=E(35872),Ze=E(10932),De=E(78957),We=E(4173),er=function(qe,ke){var Et={};for(var cr in qe)Object.prototype.hasOwnProperty.call(qe,cr)&&ke.indexOf(cr)<0&&(Et[cr]=qe[cr]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,cr=Object.getOwnPropertySymbols(qe);Lr<cr.length;Lr++)ke.indexOf(cr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(qe,cr[Lr])&&(Et[cr[Lr]]=qe[cr[Lr]]);return Et};const Ft=qe=>{const{getPopupContainer:ke,getPrefixCls:Et,direction:cr}=y.useContext(Ot.E_),{prefixCls:Lr,type:Ur="default",danger:yt,disabled:Te,loading:$e,onClick:dt,htmlType:Dt,children:nt,className:re,menu:se,arrow:q,autoFocus:Re,overlay:Ae,trigger:Tt,align:jt,open:Xt,onOpenChange:zt,placement:Rt,getPopupContainer:mr,href:St,icon:pe=y.createElement(at.Z,null),title:Yt,buttonsRender:Jt=Mn=>Mn,mouseEnterDelay:ir,mouseLeaveDelay:tr,overlayClassName:rr,overlayStyle:xn,destroyPopupOnHide:jr,dropdownRender:gn}=qe,ze=er(qe,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),ar=Et("dropdown",Lr),vr=`${ar}-button`,Tr={menu:se,arrow:q,autoFocus:Re,align:jt,disabled:Te,trigger:Te?[]:Tt,onOpenChange:zt,getPopupContainer:mr||ke,mouseEnterDelay:ir,mouseLeaveDelay:tr,overlayClassName:rr,overlayStyle:xn,destroyPopupOnHide:jr,dropdownRender:gn},{compactSize:br,compactItemClassnames:yn}=(0,We.ri)(ar,cr),Vn=xe()(vr,yn,re);"overlay"in qe&&(Tr.overlay=Ae),"open"in qe&&(Tr.open=Xt),"placement"in qe?Tr.placement=Rt:Tr.placement=cr==="rtl"?"bottomLeft":"bottomRight";const fr=y.createElement(Ze.ZP,{type:Ur,danger:yt,disabled:Te,loading:$e,onClick:dt,htmlType:Dt,href:St,title:Yt},nt),Qn=y.createElement(Ze.ZP,{type:Ur,danger:yt,icon:pe}),[un,Wn]=Jt([fr,Qn]);return y.createElement(De.Z.Compact,Object.assign({className:Vn,size:br,block:!0},ze),un,y.createElement(gt,Object.assign({},Tr),Wn))};Ft.__ANT_BUTTON=!0;var or=Ft;const Ar=gt;Ar.Button=or;var $r=Ar},99134:function($t,we,E){"use strict";var y=E(67294);const M=(0,y.createContext)({});we.Z=M},6999:function($t,we,E){"use strict";E.d(we,{VM:function(){return ce},cG:function(){return Ce}});var y=E(54548),M=E(48132),U=E(45503);const xe=de=>{const{componentCls:je}=de;return{[je]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},te=de=>{const{componentCls:je}=de;return{[je]:{position:"relative",maxWidth:"100%",minHeight:1}}},J=(de,je)=>{const{prefixCls:Ot,componentCls:rt,gridColumns:fe}=de,Ne={};for(let Ve=fe;Ve>=0;Ve--)Ve===0?(Ne[`${rt}${je}-${Ve}`]={display:"none"},Ne[`${rt}-push-${Ve}`]={insetInlineStart:"auto"},Ne[`${rt}-pull-${Ve}`]={insetInlineEnd:"auto"},Ne[`${rt}${je}-push-${Ve}`]={insetInlineStart:"auto"},Ne[`${rt}${je}-pull-${Ve}`]={insetInlineEnd:"auto"},Ne[`${rt}${je}-offset-${Ve}`]={marginInlineStart:0},Ne[`${rt}${je}-order-${Ve}`]={order:0}):(Ne[`${rt}${je}-${Ve}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${Ve/fe*100}%`,maxWidth:`${Ve/fe*100}%`}],Ne[`${rt}${je}-push-${Ve}`]={insetInlineStart:`${Ve/fe*100}%`},Ne[`${rt}${je}-pull-${Ve}`]={insetInlineEnd:`${Ve/fe*100}%`},Ne[`${rt}${je}-offset-${Ve}`]={marginInlineStart:`${Ve/fe*100}%`},Ne[`${rt}${je}-order-${Ve}`]={order:Ve});return Ne[`${rt}${je}-flex`]={flex:`var(--${Ot}${je}-flex)`},Ne},w=(de,je)=>J(de,je),ne=(de,je,Ot)=>({[`@media (min-width: ${(0,y.unit)(je)})`]:Object.assign({},w(de,Ot))}),W=()=>({}),Z=()=>({}),ce=(0,M.I$)("Grid",xe,W),Ce=(0,M.I$)("Grid",de=>{const je=(0,U.TS)(de,{gridColumns:24}),Ot={"-sm":je.screenSMMin,"-md":je.screenMDMin,"-lg":je.screenLGMin,"-xl":je.screenXLMin,"-xxl":je.screenXXLMin};return[te(je),w(je,""),w(je,"-xs"),Object.keys(Ot).map(rt=>ne(je,Ot[rt],rt)).reduce((rt,fe)=>Object.assign(Object.assign({},rt),fe),{})]},Z)},10110:function($t,we,E){"use strict";var y=E(67294),M=E(76745),U=E(81570);const xe=(te,J)=>{const w=y.useContext(M.Z),ne=y.useMemo(()=>{var Z;const ce=J||U.Z[te],Ce=(Z=w==null?void 0:w[te])!==null&&Z!==void 0?Z:{};return Object.assign(Object.assign({},typeof ce=="function"?ce():ce),Ce||{})},[te,J,w]),W=y.useMemo(()=>{const Z=w==null?void 0:w.locale;return w!=null&&w.exist&&!Z?U.Z.locale:Z},[w]);return[ne,W]};we.Z=xe},76529:function($t,we,E){"use strict";E.d(we,{J:function(){return J}});var y=E(67294),M=E(56790),U=E(4173),xe=function(w,ne){var W={};for(var Z in w)Object.prototype.hasOwnProperty.call(w,Z)&&ne.indexOf(Z)<0&&(W[Z]=w[Z]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Z=Object.getOwnPropertySymbols(w);ce<Z.length;ce++)ne.indexOf(Z[ce])<0&&Object.prototype.propertyIsEnumerable.call(w,Z[ce])&&(W[Z[ce]]=w[Z[ce]]);return W};const te=y.createContext(null),J=y.forwardRef((w,ne)=>{const{children:W}=w,Z=xe(w,["children"]),ce=y.useContext(te),Ce=y.useMemo(()=>Object.assign(Object.assign({},ce),Z),[ce,Z.prefixCls,Z.mode,Z.selectable,Z.rootClassName]),de=(0,M.supportNodeRef)(W),je=(0,M.useComposeRef)(ne,de?W.ref:null);return y.createElement(te.Provider,{value:Ce},y.createElement(U.BR,null,de?y.cloneElement(W,{ref:je}):W))});we.Z=te},96077:function($t,we,E){"use strict";E.d(we,{Z:function(){return nt}});var y=E(67294),M=E(95480),U=E(13144),xe=E.n(U),te=function(re,se){var q={};for(var Re in re)Object.prototype.hasOwnProperty.call(re,Re)&&se.indexOf(Re)<0&&(q[Re]=re[Re]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Re=Object.getOwnPropertySymbols(re);Ae<Re.length;Ae++)se.indexOf(Re[Ae])<0&&Object.prototype.propertyIsEnumerable.call(re,Re[Ae])&&(q[Re[Ae]]=re[Re[Ae]]);return q};const J={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},w=y.createContext({}),ne=(()=>{let re=0;return function(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return re+=1,`${se}${re}`}})(),W=null;var Z=null,ce=E(35872),Ce=E(56790),de=E(98423),je=E(33603),Ot=E(96159),rt=E(53124),fe=E(35792),Ne=function(re,se){var q={};for(var Re in re)Object.prototype.hasOwnProperty.call(re,Re)&&se.indexOf(Re)<0&&(q[Re]=re[Re]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Re=Object.getOwnPropertySymbols(re);Ae<Re.length;Ae++)se.indexOf(Re[Ae])<0&&Object.prototype.propertyIsEnumerable.call(re,Re[Ae])&&(q[Re[Ae]]=re[Re[Ae]]);return q},et=re=>{const{prefixCls:se,className:q,dashed:Re}=re,Ae=Ne(re,["prefixCls","className","dashed"]),{getPrefixCls:Tt}=y.useContext(rt.E_),jt=Tt("menu",se),Xt=xe()({[`${jt}-item-divider-dashed`]:!!Re},q);return y.createElement(M.iz,Object.assign({className:Xt},Ae))},Xe=(0,y.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),Ue=E(50344),Mt=E(83062),vt=re=>{var se;const{className:q,children:Re,icon:Ae,title:Tt,danger:jt}=re,{prefixCls:Xt,firstLevel:zt,direction:Rt,disableMenuItemTitleTooltip:mr,inlineCollapsed:St}=y.useContext(Xe),pe=xn=>{const jr=y.createElement("span",{className:`${Xt}-title-content`},Re);return(!Ae||y.isValidElement(Re)&&Re.type==="span")&&Re&&xn&&zt&&typeof Re=="string"?y.createElement("div",{className:`${Xt}-inline-collapsed-noicon`},Re.charAt(0)):jr},{siderCollapsed:Yt}=y.useContext(w);let Jt=Tt;typeof Tt=="undefined"?Jt=zt?Re:"":Tt===!1&&(Jt="");const ir={title:Jt};!Yt&&!St&&(ir.title=null,ir.open=!1);const tr=(0,Ue.Z)(Re).length;let rr=y.createElement(M.ck,Object.assign({},(0,de.Z)(re,["title","icon","danger"]),{className:xe()({[`${Xt}-item-danger`]:jt,[`${Xt}-item-only-child`]:(Ae?tr+1:tr)===1},q),title:typeof Tt=="string"?Tt:void 0}),(0,Ot.Tm)(Ae,{className:xe()(y.isValidElement(Ae)?(se=Ae.props)===null||se===void 0?void 0:se.className:"",`${Xt}-item-icon`)}),pe(St));return mr||(rr=y.createElement(Mt.Z,Object.assign({},ir,{placement:Rt==="rtl"?"left":"right",overlayClassName:`${Xt}-inline-collapsed-tooltip`}),rr)),rr},he=E(76529),ae=E(54548),xt=E(84780),Pe=E(14747),Pt=E(33507),Lt=E(67771),Ye=E(50438),Le=E(48132),Y=E(45503),Ee=re=>{const{componentCls:se,motionDurationSlow:q,horizontalLineHeight:Re,colorSplit:Ae,lineWidth:Tt,lineType:jt,itemPaddingInline:Xt}=re;return{[`${se}-horizontal`]:{lineHeight:Re,border:0,borderBottom:`${(0,ae.unit)(Tt)} ${jt} ${Ae}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${se}-item, ${se}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:Xt},[`> ${se}-item:hover,
        > ${se}-item-active,
        > ${se}-submenu ${se}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${se}-item, ${se}-submenu-title`]:{transition:[`border-color ${q}`,`background ${q}`].join(",")},[`${se}-submenu-arrow`]:{display:"none"}}}},gt=re=>{let{componentCls:se,menuArrowOffset:q,calc:Re}=re;return{[`${se}-rtl`]:{direction:"rtl"},[`${se}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${se}-rtl${se}-vertical,
    ${se}-submenu-rtl ${se}-vertical`]:{[`${se}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,ae.unit)(Re(q).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,ae.unit)(q)})`}}}}};const at=re=>Object.assign({},(0,Pe.oN)(re));var De=(re,se)=>{const{componentCls:q,itemColor:Re,itemSelectedColor:Ae,groupTitleColor:Tt,itemBg:jt,subMenuItemBg:Xt,itemSelectedBg:zt,activeBarHeight:Rt,activeBarWidth:mr,activeBarBorderWidth:St,motionDurationSlow:pe,motionEaseInOut:Yt,motionEaseOut:Jt,itemPaddingInline:ir,motionDurationMid:tr,itemHoverColor:rr,lineType:xn,colorSplit:jr,itemDisabledColor:gn,dangerItemColor:ze,dangerItemHoverColor:ar,dangerItemSelectedColor:vr,dangerItemActiveBg:Tr,dangerItemSelectedBg:br,popupBg:yn,itemHoverBg:Vn,itemActiveBg:fr,menuSubMenuBg:Qn,horizontalItemSelectedColor:un,horizontalItemSelectedBg:Wn,horizontalItemBorderRadius:Mn,horizontalItemHoverBg:fi}=re;return{[`${q}-${se}, ${q}-${se} > ${q}`]:{color:Re,background:jt,[`&${q}-root:focus-visible`]:Object.assign({},at(re)),[`${q}-item-group-title`]:{color:Tt},[`${q}-submenu-selected`]:{[`> ${q}-submenu-title`]:{color:Ae}},[`${q}-item, ${q}-submenu-title`]:{color:Re,[`&:not(${q}-item-disabled):focus-visible`]:Object.assign({},at(re))},[`${q}-item-disabled, ${q}-submenu-disabled`]:{color:`${gn} !important`},[`${q}-item:not(${q}-item-selected):not(${q}-submenu-selected)`]:{[`&:hover, > ${q}-submenu-title:hover`]:{color:rr}},[`&:not(${q}-horizontal)`]:{[`${q}-item:not(${q}-item-selected)`]:{"&:hover":{backgroundColor:Vn},"&:active":{backgroundColor:fr}},[`${q}-submenu-title`]:{"&:hover":{backgroundColor:Vn},"&:active":{backgroundColor:fr}}},[`${q}-item-danger`]:{color:ze,[`&${q}-item:hover`]:{[`&:not(${q}-item-selected):not(${q}-submenu-selected)`]:{color:ar}},[`&${q}-item:active`]:{background:Tr}},[`${q}-item a`]:{"&, &:hover":{color:"inherit"}},[`${q}-item-selected`]:{color:Ae,[`&${q}-item-danger`]:{color:vr},"a, a:hover":{color:"inherit"}},[`& ${q}-item-selected`]:{backgroundColor:zt,[`&${q}-item-danger`]:{backgroundColor:br}},[`&${q}-submenu > ${q}`]:{backgroundColor:Qn},[`&${q}-popup > ${q}`]:{backgroundColor:yn},[`&${q}-submenu-popup > ${q}`]:{backgroundColor:yn},[`&${q}-horizontal`]:Object.assign(Object.assign({},se==="dark"?{borderBottom:0}:{}),{[`> ${q}-item, > ${q}-submenu`]:{top:St,marginTop:re.calc(St).mul(-1).equal(),marginBottom:0,borderRadius:Mn,"&::after":{position:"absolute",insetInline:ir,bottom:0,borderBottom:`${(0,ae.unit)(Rt)} solid transparent`,transition:`border-color ${pe} ${Yt}`,content:'""'},"&:hover, &-active, &-open":{background:fi,"&::after":{borderBottomWidth:Rt,borderBottomColor:un}},"&-selected":{color:un,backgroundColor:Wn,"&:hover":{backgroundColor:Wn},"&::after":{borderBottomWidth:Rt,borderBottomColor:un}}}}),[`&${q}-root`]:{[`&${q}-inline, &${q}-vertical`]:{borderInlineEnd:`${(0,ae.unit)(St)} ${xn} ${jr}`}},[`&${q}-inline`]:{[`${q}-sub${q}-inline`]:{background:Xt},[`${q}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,ae.unit)(mr)} solid ${Ae}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${tr} ${Jt}`,`opacity ${tr} ${Jt}`].join(","),content:'""'},[`&${q}-item-danger`]:{"&::after":{borderInlineEndColor:vr}}},[`${q}-selected, ${q}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${tr} ${Yt}`,`opacity ${tr} ${Yt}`].join(",")}}}}}};const We=re=>{const{componentCls:se,itemHeight:q,itemMarginInline:Re,padding:Ae,menuArrowSize:Tt,marginXS:jt,itemMarginBlock:Xt,itemWidth:zt}=re,Rt=re.calc(Tt).add(Ae).add(jt).equal();return{[`${se}-item`]:{position:"relative",overflow:"hidden"},[`${se}-item, ${se}-submenu-title`]:{height:q,lineHeight:(0,ae.unit)(q),paddingInline:Ae,overflow:"hidden",textOverflow:"ellipsis",marginInline:Re,marginBlock:Xt,width:zt},[`> ${se}-item,
            > ${se}-submenu > ${se}-submenu-title`]:{height:q,lineHeight:(0,ae.unit)(q)},[`${se}-item-group-list ${se}-submenu-title,
            ${se}-submenu-title`]:{paddingInlineEnd:Rt}}};var Ft=re=>{const{componentCls:se,iconCls:q,itemHeight:Re,colorTextLightSolid:Ae,dropdownWidth:Tt,controlHeightLG:jt,motionDurationMid:Xt,motionEaseOut:zt,paddingXL:Rt,itemMarginInline:mr,fontSizeLG:St,motionDurationSlow:pe,paddingXS:Yt,boxShadowSecondary:Jt,collapsedWidth:ir,collapsedIconSize:tr}=re,rr={height:Re,lineHeight:(0,ae.unit)(Re),listStylePosition:"inside",listStyleType:"disc"};return[{[se]:{"&-inline, &-vertical":Object.assign({[`&${se}-root`]:{boxShadow:"none"}},We(re))},[`${se}-submenu-popup`]:{[`${se}-vertical`]:Object.assign(Object.assign({},We(re)),{boxShadow:Jt})}},{[`${se}-submenu-popup ${se}-vertical${se}-sub`]:{minWidth:Tt,maxHeight:`calc(100vh - ${(0,ae.unit)(re.calc(jt).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${se}-inline`]:{width:"100%",[`&${se}-root`]:{[`${se}-item, ${se}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${pe}`,`background ${pe}`,`padding ${Xt} ${zt}`,`padding-inline calc(50% - ${(0,ae.unit)(re.calc(St).div(2).equal())} - ${(0,ae.unit)(mr)})`].join(","),[`> ${se}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${se}-sub${se}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${se}-submenu > ${se}-submenu-title`]:rr,[`& ${se}-item-group-title`]:{paddingInlineStart:Rt}},[`${se}-item`]:rr}},{[`${se}-inline-collapsed`]:{width:ir,[`&${se}-root`]:{[`${se}-item, ${se}-submenu ${se}-submenu-title`]:{[`> ${se}-inline-collapsed-noicon`]:{fontSize:St,textAlign:"center"}}},[`> ${se}-item,
          > ${se}-item-group > ${se}-item-group-list > ${se}-item,
          > ${se}-item-group > ${se}-item-group-list > ${se}-submenu > ${se}-submenu-title,
          > ${se}-submenu > ${se}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,ae.unit)(re.calc(St).div(2).equal())} - ${(0,ae.unit)(mr)})`,textOverflow:"clip",[`
            ${se}-submenu-arrow,
            ${se}-submenu-expand-icon
          `]:{opacity:0},[`${se}-item-icon, ${q}`]:{margin:0,fontSize:tr,lineHeight:(0,ae.unit)(Re),"+ span":{display:"inline-block",opacity:0}}},[`${se}-item-icon, ${q}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${se}-item-icon, ${q}`]:{display:"none"},"a, a:hover":{color:Ae}},[`${se}-item-group-title`]:Object.assign(Object.assign({},Pe.vS),{paddingInline:Yt})}}]};const or=re=>{const{componentCls:se,motionDurationSlow:q,motionDurationMid:Re,motionEaseInOut:Ae,motionEaseOut:Tt,iconCls:jt,iconSize:Xt,iconMarginInlineEnd:zt}=re;return{[`${se}-item, ${se}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${q}`,`background ${q}`,`padding ${q} ${Ae}`].join(","),[`${se}-item-icon, ${jt}`]:{minWidth:Xt,fontSize:Xt,transition:[`font-size ${Re} ${Tt}`,`margin ${q} ${Ae}`,`color ${q}`].join(","),"+ span":{marginInlineStart:zt,opacity:1,transition:[`opacity ${q} ${Ae}`,`margin ${q}`,`color ${q}`].join(",")}},[`${se}-item-icon`]:Object.assign({},(0,Pe.Ro)()),[`&${se}-item-only-child`]:{[`> ${jt}, > ${se}-item-icon`]:{marginInlineEnd:0}}},[`${se}-item-disabled, ${se}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${se}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Ar=re=>{const{componentCls:se,motionDurationSlow:q,motionEaseInOut:Re,borderRadius:Ae,menuArrowSize:Tt,menuArrowOffset:jt}=re;return{[`${se}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:re.margin,width:Tt,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${q} ${Re}, opacity ${q}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:re.calc(Tt).mul(.6).equal(),height:re.calc(Tt).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:Ae,transition:[`background ${q} ${Re}`,`transform ${q} ${Re}`,`top ${q} ${Re}`,`color ${q} ${Re}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,ae.unit)(re.calc(jt).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,ae.unit)(jt)})`}}}}},$r=re=>{const{antCls:se,componentCls:q,fontSize:Re,motionDurationSlow:Ae,motionDurationMid:Tt,motionEaseInOut:jt,paddingXS:Xt,padding:zt,colorSplit:Rt,lineWidth:mr,zIndexPopup:St,borderRadiusLG:pe,subMenuItemBorderRadius:Yt,menuArrowSize:Jt,menuArrowOffset:ir,lineType:tr,groupTitleLineHeight:rr,groupTitleFontSize:xn}=re;return[{"":{[`${q}`]:Object.assign(Object.assign({},(0,Pe.dF)()),{"&-hidden":{display:"none"}})},[`${q}-submenu-hidden`]:{display:"none"}},{[q]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Pe.Wf)(re)),(0,Pe.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:Re,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${Ae} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${q}-item`]:{flex:"none"}},[`${q}-item, ${q}-submenu, ${q}-submenu-title`]:{borderRadius:re.itemBorderRadius},[`${q}-item-group-title`]:{padding:`${(0,ae.unit)(Xt)} ${(0,ae.unit)(zt)}`,fontSize:xn,lineHeight:rr,transition:`all ${Ae}`},[`&-horizontal ${q}-submenu`]:{transition:[`border-color ${Ae} ${jt}`,`background ${Ae} ${jt}`].join(",")},[`${q}-submenu, ${q}-submenu-inline`]:{transition:[`border-color ${Ae} ${jt}`,`background ${Ae} ${jt}`,`padding ${Tt} ${jt}`].join(",")},[`${q}-submenu ${q}-sub`]:{cursor:"initial",transition:[`background ${Ae} ${jt}`,`padding ${Ae} ${jt}`].join(",")},[`${q}-title-content`]:{transition:`color ${Ae}`,[`> ${se}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"}},[`${q}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${q}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:Rt,borderStyle:tr,borderWidth:0,borderTopWidth:mr,marginBlock:mr,padding:0,"&-dashed":{borderStyle:"dashed"}}}),or(re)),{[`${q}-item-group`]:{[`${q}-item-group-list`]:{margin:0,padding:0,[`${q}-item, ${q}-submenu-title`]:{paddingInline:`${(0,ae.unit)(re.calc(Re).mul(2).equal())} ${(0,ae.unit)(zt)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:St,borderRadius:pe,boxShadow:"none",transformOrigin:"0 0",[`&${q}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${q}`]:Object.assign(Object.assign(Object.assign({borderRadius:pe},or(re)),Ar(re)),{[`${q}-item, ${q}-submenu > ${q}-submenu-title`]:{borderRadius:Yt},[`${q}-submenu-title::after`]:{transition:`transform ${Ae} ${jt}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:re.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:re.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:re.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:re.paddingXS}}}),Ar(re)),{[`&-inline-collapsed ${q}-submenu-arrow,
        &-inline ${q}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,ae.unit)(ir)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,ae.unit)(re.calc(ir).mul(-1).equal())})`}},[`${q}-submenu-open${q}-submenu-inline > ${q}-submenu-title > ${q}-submenu-arrow`]:{transform:`translateY(${(0,ae.unit)(re.calc(Jt).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,ae.unit)(re.calc(ir).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,ae.unit)(ir)})`}}})},{[`${se}-layout-header`]:{[q]:{lineHeight:"inherit"}}}]},qe=re=>{var se,q,Re;const{colorPrimary:Ae,colorError:Tt,colorTextDisabled:jt,colorErrorBg:Xt,colorText:zt,colorTextDescription:Rt,colorBgContainer:mr,colorFillAlter:St,colorFillContent:pe,lineWidth:Yt,lineWidthBold:Jt,controlItemBgActive:ir,colorBgTextHover:tr,controlHeightLG:rr,lineHeight:xn,colorBgElevated:jr,marginXXS:gn,padding:ze,fontSize:ar,controlHeightSM:vr,fontSizeLG:Tr,colorTextLightSolid:br,colorErrorHover:yn}=re,Vn=(se=re.activeBarWidth)!==null&&se!==void 0?se:0,fr=(q=re.activeBarBorderWidth)!==null&&q!==void 0?q:Yt,Qn=(Re=re.itemMarginInline)!==null&&Re!==void 0?Re:re.marginXXS,un=new xt.C(br).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:re.zIndexPopupBase+50,radiusItem:re.borderRadiusLG,itemBorderRadius:re.borderRadiusLG,radiusSubMenuItem:re.borderRadiusSM,subMenuItemBorderRadius:re.borderRadiusSM,colorItemText:zt,itemColor:zt,colorItemTextHover:zt,itemHoverColor:zt,colorItemTextHoverHorizontal:Ae,horizontalItemHoverColor:Ae,colorGroupTitle:Rt,groupTitleColor:Rt,colorItemTextSelected:Ae,itemSelectedColor:Ae,colorItemTextSelectedHorizontal:Ae,horizontalItemSelectedColor:Ae,colorItemBg:mr,itemBg:mr,colorItemBgHover:tr,itemHoverBg:tr,colorItemBgActive:pe,itemActiveBg:ir,colorSubItemBg:St,subMenuItemBg:St,colorItemBgSelected:ir,itemSelectedBg:ir,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:Vn,colorActiveBarHeight:Jt,activeBarHeight:Jt,colorActiveBarBorderSize:Yt,activeBarBorderWidth:fr,colorItemTextDisabled:jt,itemDisabledColor:jt,colorDangerItemText:Tt,dangerItemColor:Tt,colorDangerItemTextHover:Tt,dangerItemHoverColor:Tt,colorDangerItemTextSelected:Tt,dangerItemSelectedColor:Tt,colorDangerItemBgActive:Xt,dangerItemActiveBg:Xt,colorDangerItemBgSelected:Xt,dangerItemSelectedBg:Xt,itemMarginInline:Qn,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:rr,groupTitleLineHeight:xn,collapsedWidth:rr*2,popupBg:jr,itemMarginBlock:gn,itemPaddingInline:ze,horizontalLineHeight:`${rr*1.15}px`,iconSize:ar,iconMarginInlineEnd:vr-ar,collapsedIconSize:Tr,groupTitleFontSize:ar,darkItemDisabledColor:new xt.C(br).setAlpha(.25).toRgbString(),darkItemColor:un,darkDangerItemColor:Tt,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:br,darkItemSelectedBg:Ae,darkDangerItemSelectedBg:Tt,darkItemHoverBg:"transparent",darkGroupTitleColor:un,darkItemHoverColor:br,darkDangerItemHoverColor:yn,darkDangerItemSelectedColor:br,darkDangerItemActiveBg:Tt,itemWidth:Vn?`calc(100% + ${fr}px)`:`calc(100% - ${Qn*2}px)`}};var ke=function(re){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,Le.I$)("Menu",Ae=>{const{colorBgElevated:Tt,controlHeightLG:jt,fontSize:Xt,darkItemColor:zt,darkDangerItemColor:Rt,darkItemBg:mr,darkSubMenuItemBg:St,darkItemSelectedColor:pe,darkItemSelectedBg:Yt,darkDangerItemSelectedBg:Jt,darkItemHoverBg:ir,darkGroupTitleColor:tr,darkItemHoverColor:rr,darkItemDisabledColor:xn,darkDangerItemHoverColor:jr,darkDangerItemSelectedColor:gn,darkDangerItemActiveBg:ze,popupBg:ar,darkPopupBg:vr}=Ae,Tr=Ae.calc(Xt).div(7).mul(5).equal(),br=(0,Y.TS)(Ae,{menuArrowSize:Tr,menuHorizontalHeight:Ae.calc(jt).mul(1.15).equal(),menuArrowOffset:Ae.calc(Tr).mul(.25).equal(),menuSubMenuBg:Tt,calc:Ae.calc,popupBg:ar}),yn=(0,Y.TS)(br,{itemColor:zt,itemHoverColor:rr,groupTitleColor:tr,itemSelectedColor:pe,itemBg:mr,popupBg:vr,subMenuItemBg:St,itemActiveBg:"transparent",itemSelectedBg:Yt,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:ir,itemDisabledColor:xn,dangerItemColor:Rt,dangerItemHoverColor:jr,dangerItemSelectedColor:gn,dangerItemActiveBg:ze,dangerItemSelectedBg:Jt,menuSubMenuBg:St,horizontalItemSelectedColor:pe,horizontalItemSelectedBg:Yt});return[$r(br),Ee(br),Ft(br),De(br,"light"),De(yn,"dark"),gt(br),(0,Pt.Z)(br),(0,Lt.oN)(br,"slide-up"),(0,Lt.oN)(br,"slide-down"),(0,Ye._y)(br,"zoom-big")]},qe,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:q,unitless:{groupTitleLineHeight:!0}})(re,se)},Et=E(87263),Lr=re=>{var se;const{popupClassName:q,icon:Re,title:Ae,theme:Tt}=re,jt=y.useContext(Xe),{prefixCls:Xt,inlineCollapsed:zt,theme:Rt}=jt,mr=(0,M.Xl)();let St;if(!Re)St=zt&&!mr.length&&Ae&&typeof Ae=="string"?y.createElement("div",{className:`${Xt}-inline-collapsed-noicon`},Ae.charAt(0)):y.createElement("span",{className:`${Xt}-title-content`},Ae);else{const Jt=y.isValidElement(Ae)&&Ae.type==="span";St=y.createElement(y.Fragment,null,(0,Ot.Tm)(Re,{className:xe()(y.isValidElement(Re)?(se=Re.props)===null||se===void 0?void 0:se.className:"",`${Xt}-item-icon`)}),Jt?Ae:y.createElement("span",{className:`${Xt}-title-content`},Ae))}const pe=y.useMemo(()=>Object.assign(Object.assign({},jt),{firstLevel:!1}),[jt]),[Yt]=(0,Et.Cn)("Menu");return y.createElement(Xe.Provider,{value:pe},y.createElement(M.Wd,Object.assign({},(0,de.Z)(re,["icon"]),{title:St,popupClassName:xe()(Xt,q,`${Xt}-${Tt||Rt}`),popupStyle:{zIndex:Yt}})))},Ur=function(re,se){var q={};for(var Re in re)Object.prototype.hasOwnProperty.call(re,Re)&&se.indexOf(Re)<0&&(q[Re]=re[Re]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Re=Object.getOwnPropertySymbols(re);Ae<Re.length;Ae++)se.indexOf(Re[Ae])<0&&Object.prototype.propertyIsEnumerable.call(re,Re[Ae])&&(q[Re[Ae]]=re[Re[Ae]]);return q};function yt(re){return re===null||re===!1}const Te={item:vt,submenu:Lr,divider:et};var dt=(0,y.forwardRef)((re,se)=>{var q;const Re=y.useContext(he.Z),Ae=Re||{},{getPrefixCls:Tt,getPopupContainer:jt,direction:Xt,menu:zt}=y.useContext(rt.E_),Rt=Tt(),{prefixCls:mr,className:St,style:pe,theme:Yt="light",expandIcon:Jt,_internalDisableMenuItemTitleTooltip:ir,inlineCollapsed:tr,siderCollapsed:rr,rootClassName:xn,mode:jr,selectable:gn,onClick:ze,overflowedIndicatorPopupClassName:ar}=re,vr=Ur(re,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),Tr=(0,de.Z)(vr,["collapsedWidth"]);(q=Ae.validator)===null||q===void 0||q.call(Ae,{mode:jr});const br=(0,Ce.useEvent)(function(){var bt;ze==null||ze.apply(void 0,arguments),(bt=Ae.onClick)===null||bt===void 0||bt.call(Ae)}),yn=Ae.mode||jr,Vn=gn!=null?gn:Ae.selectable,fr=y.useMemo(()=>rr!==void 0?rr:tr,[tr,rr]),Qn={horizontal:{motionName:`${Rt}-slide-up`},inline:(0,je.Z)(Rt),other:{motionName:`${Rt}-zoom-big`}},un=Tt("menu",mr||Ae.prefixCls),Wn=(0,fe.Z)(un),[Mn,fi,Ei]=ke(un,Wn,!Re),ti=xe()(`${un}-${Yt}`,zt==null?void 0:zt.className,St),dn=y.useMemo(()=>{var bt,on;if(typeof Jt=="function"||yt(Jt))return Jt||null;if(typeof Ae.expandIcon=="function"||yt(Ae.expandIcon))return Ae.expandIcon||null;if(typeof(zt==null?void 0:zt.expandIcon)=="function"||yt(zt==null?void 0:zt.expandIcon))return(zt==null?void 0:zt.expandIcon)||null;const Se=(bt=Jt!=null?Jt:Ae==null?void 0:Ae.expandIcon)!==null&&bt!==void 0?bt:zt==null?void 0:zt.expandIcon;return(0,Ot.Tm)(Se,{className:xe()(`${un}-submenu-expand-icon`,y.isValidElement(Se)?(on=Se.props)===null||on===void 0?void 0:on.className:void 0)})},[Jt,Ae==null?void 0:Ae.expandIcon,zt==null?void 0:zt.expandIcon,un]),Dr=y.useMemo(()=>({prefixCls:un,inlineCollapsed:fr||!1,direction:Xt,firstLevel:!0,theme:Yt,mode:yn,disableMenuItemTitleTooltip:ir}),[un,fr,Xt,ir,Yt]);return Mn(y.createElement(he.Z.Provider,{value:null},y.createElement(Xe.Provider,{value:Dr},y.createElement(M.ZP,Object.assign({getPopupContainer:jt,overflowedIndicator:y.createElement(ce.Z,null),overflowedIndicatorPopupClassName:xe()(un,`${un}-${Yt}`,ar),mode:yn,selectable:Vn,onClick:br},Tr,{inlineCollapsed:fr,style:Object.assign(Object.assign({},zt==null?void 0:zt.style),pe),className:ti,prefixCls:un,direction:Xt,defaultMotions:Qn,expandIcon:dn,ref:se,rootClassName:xe()(xn,fi,Ae.rootClassName,Ei,Wn),_internalComponents:Te})))))});const Dt=(0,y.forwardRef)((re,se)=>{const q=(0,y.useRef)(null),Re=y.useContext(w);return(0,y.useImperativeHandle)(se,()=>({menu:q.current,focus:Ae=>{var Tt;(Tt=q.current)===null||Tt===void 0||Tt.focus(Ae)}})),y.createElement(dt,Object.assign({ref:q},re,Re))});Dt.Item=vt,Dt.SubMenu=Lr,Dt.Divider=et,Dt.ItemGroup=M.BW;var nt=Dt},12671:function($t,we,E){"use strict";E.d(we,{ZP:function(){return on}});var y=E(96641),M=E(67294),U=E(38135);const xe=M.createContext({}),te=M.createContext({message:{},notification:{},modal:{}});var J=null,w=E(53124),ne=E(25682),W=E(76278),Z=E(41322),ce=E(26702),Ce=E(83963),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},je=de,Ot=E(82828),rt=function(Ke,It){return M.createElement(Ot.Z,(0,Ce.Z)({},Ke,{ref:It,icon:je}))},fe=M.forwardRef(rt),Ne=fe,Ve=E(22508),et=E(13144),tt=E.n(et),Xe=E(74902),Ue=E(97685),Mt=E(91),Qt=E(1413),vt=E(73935),he=E(87462),ae=E(4942),xt=E(94184),Pe=E.n(xt),Pt=E(38289),Lt=E(71002),Ye=E(15105),Le=E(64217),Y=M.forwardRef(function(Se,Ke){var It=Se.prefixCls,ot=Se.style,Vt=Se.className,Rr=Se.duration,Tn=Rr===void 0?4.5:Rr,G=Se.eventKey,ye=Se.content,Oe=Se.closable,ve=Se.closeIcon,He=ve===void 0?"x":ve,wt=Se.props,pr=Se.onClick,xr=Se.onNoticeClose,Fr=Se.times,Ht=Se.hovering,Sr=M.useState(!1),Wr=(0,Ue.Z)(Sr,2),Vr=Wr[0],hn=Wr[1],Ct=Ht||Vr,kr=function(){xr(G)},qr=function(gr){(gr.key==="Enter"||gr.code==="Enter"||gr.keyCode===Ye.Z.ENTER)&&kr()};M.useEffect(function(){if(!Ct&&Tn>0){var tn=setTimeout(function(){kr()},Tn*1e3);return function(){clearTimeout(tn)}}},[Tn,Ct,Fr]);var mn=M.useMemo(function(){return(0,Lt.Z)(Oe)==="object"&&Oe!==null?Oe:Oe?{closeIcon:He}:{}},[Oe,He]),sn=(0,Le.Z)(mn,!0),en="".concat(It,"-notice");return M.createElement("div",(0,he.Z)({},wt,{ref:Ke,className:Pe()(en,Vt,(0,ae.Z)({},"".concat(en,"-closable"),Oe)),style:ot,onMouseEnter:function(gr){var Sn;hn(!0),wt==null||(Sn=wt.onMouseEnter)===null||Sn===void 0||Sn.call(wt,gr)},onMouseLeave:function(gr){var Sn;hn(!1),wt==null||(Sn=wt.onMouseLeave)===null||Sn===void 0||Sn.call(wt,gr)},onClick:pr}),M.createElement("div",{className:"".concat(en,"-content")},ye),Oe&&M.createElement("a",(0,he.Z)({tabIndex:0,className:"".concat(en,"-close"),onKeyDown:qr,"aria-label":"Close"},sn,{onClick:function(gr){gr.preventDefault(),gr.stopPropagation(),kr()}}),mn.closeIcon))}),me=Y,Ee=M.createContext({}),Ge=function(Ke){var It=Ke.children,ot=Ke.classNames;return M.createElement(Ee.Provider,{value:{classNames:ot}},It)},gt=Ge,at=8,Ze=3,De=16,We=function(Ke){var It={offset:at,threshold:Ze,gap:De};if(Ke&&(0,Lt.Z)(Ke)==="object"){var ot,Vt,Rr;It.offset=(ot=Ke.offset)!==null&&ot!==void 0?ot:at,It.threshold=(Vt=Ke.threshold)!==null&&Vt!==void 0?Vt:Ze,It.gap=(Rr=Ke.gap)!==null&&Rr!==void 0?Rr:De}return[!!Ke,It]},er=We,Ft=["className","style","classNames","styles"],or=function(Ke){var It=Ke.configList,ot=Ke.placement,Vt=Ke.prefixCls,Rr=Ke.className,Tn=Ke.style,G=Ke.motion,ye=Ke.onAllNoticeRemoved,Oe=Ke.onNoticeClose,ve=Ke.stack,He=(0,M.useContext)(Ee),wt=He.classNames,pr=(0,M.useRef)({}),xr=(0,M.useState)(null),Fr=(0,Ue.Z)(xr,2),Ht=Fr[0],Sr=Fr[1],Wr=(0,M.useState)([]),Vr=(0,Ue.Z)(Wr,2),hn=Vr[0],Ct=Vr[1],kr=It.map(function(it){return{config:it,key:String(it.key)}}),qr=er(ve),mn=(0,Ue.Z)(qr,2),sn=mn[0],en=mn[1],tn=en.offset,gr=en.threshold,Sn=en.gap,yi=sn&&(hn.length>0||kr.length<=gr),ri=typeof G=="function"?G(ot):G;return(0,M.useEffect)(function(){sn&&hn.length>1&&Ct(function(it){return it.filter(function(Br){return kr.some(function(Di){var Zi=Di.key;return Br===Zi})})})},[hn,kr,sn]),(0,M.useEffect)(function(){var it;if(sn&&pr.current[(it=kr[kr.length-1])===null||it===void 0?void 0:it.key]){var Br;Sr(pr.current[(Br=kr[kr.length-1])===null||Br===void 0?void 0:Br.key])}},[kr,sn]),M.createElement(Pt.CSSMotionList,(0,he.Z)({key:ot,className:Pe()(Vt,"".concat(Vt,"-").concat(ot),wt==null?void 0:wt.list,Rr,(0,ae.Z)((0,ae.Z)({},"".concat(Vt,"-stack"),!!sn),"".concat(Vt,"-stack-expanded"),yi)),style:Tn,keys:kr,motionAppear:!0},ri,{onAllRemoved:function(){ye(ot)}}),function(it,Br){var Di=it.config,Zi=it.className,Ni=it.style,wn=it.index,Jn=Di,Si=Jn.key,ea=Jn.times,Yn=String(Si),Zn=Di,Xi=Zn.className,Ma=Zn.style,$a=Zn.classNames,ma=Zn.styles,Io=(0,Mt.Z)(Zn,Ft),wi=kr.findIndex(function(yr){return yr.key===Yn}),lo={};if(sn){var qa=kr.length-1-(wi>-1?wi:wn-1),ai=ot==="top"||ot==="bottom"?"-50%":"0";if(qa>0){var Ln,Ie,Bn;lo.height=yi?(Ln=pr.current[Yn])===null||Ln===void 0?void 0:Ln.offsetHeight:Ht==null?void 0:Ht.offsetHeight;for(var eo=0,N=0;N<qa;N++){var be;eo+=((be=pr.current[kr[kr.length-1-N].key])===null||be===void 0?void 0:be.offsetHeight)+Sn}var Be=(yi?eo:qa*tn)*(ot.startsWith("top")?1:-1),Nt=!yi&&Ht!==null&&Ht!==void 0&&Ht.offsetWidth&&(Ie=pr.current[Yn])!==null&&Ie!==void 0&&Ie.offsetWidth?((Ht==null?void 0:Ht.offsetWidth)-tn*2*(qa<3?qa:3))/((Bn=pr.current[Yn])===null||Bn===void 0?void 0:Bn.offsetWidth):1;lo.transform="translate3d(".concat(ai,", ").concat(Be,"px, 0) scaleX(").concat(Nt,")")}else lo.transform="translate3d(".concat(ai,", 0, 0)")}return M.createElement("div",{ref:Br,className:Pe()("".concat(Vt,"-notice-wrapper"),Zi,$a==null?void 0:$a.wrapper),style:(0,Qt.Z)((0,Qt.Z)((0,Qt.Z)({},Ni),lo),ma==null?void 0:ma.wrapper),onMouseEnter:function(){return Ct(function(qn){return qn.includes(Yn)?qn:[].concat((0,Xe.Z)(qn),[Yn])})},onMouseLeave:function(){return Ct(function(qn){return qn.filter(function(Hi){return Hi!==Yn})})}},M.createElement(me,(0,he.Z)({},Io,{ref:function(qn){wi>-1?pr.current[Yn]=qn:delete pr.current[Yn]},prefixCls:Vt,classNames:$a,styles:ma,className:Pe()(Xi,wt==null?void 0:wt.notice),style:Ma,times:ea,key:Si,eventKey:Si,onNoticeClose:Oe,hovering:sn&&hn.length>0})))})},Ar=or,$r=M.forwardRef(function(Se,Ke){var It=Se.prefixCls,ot=It===void 0?"rc-notification":It,Vt=Se.container,Rr=Se.motion,Tn=Se.maxCount,G=Se.className,ye=Se.style,Oe=Se.onAllRemoved,ve=Se.stack,He=Se.renderNotifications,wt=M.useState([]),pr=(0,Ue.Z)(wt,2),xr=pr[0],Fr=pr[1],Ht=function(sn){var en,tn=xr.find(function(gr){return gr.key===sn});tn==null||(en=tn.onClose)===null||en===void 0||en.call(tn),Fr(function(gr){return gr.filter(function(Sn){return Sn.key!==sn})})};M.useImperativeHandle(Ke,function(){return{open:function(sn){Fr(function(en){var tn=(0,Xe.Z)(en),gr=tn.findIndex(function(ri){return ri.key===sn.key}),Sn=(0,Qt.Z)({},sn);if(gr>=0){var yi;Sn.times=(((yi=en[gr])===null||yi===void 0?void 0:yi.times)||0)+1,tn[gr]=Sn}else Sn.times=0,tn.push(Sn);return Tn>0&&tn.length>Tn&&(tn=tn.slice(-Tn)),tn})},close:function(sn){Ht(sn)},destroy:function(){Fr([])}}});var Sr=M.useState({}),Wr=(0,Ue.Z)(Sr,2),Vr=Wr[0],hn=Wr[1];M.useEffect(function(){var mn={};xr.forEach(function(sn){var en=sn.placement,tn=en===void 0?"topRight":en;tn&&(mn[tn]=mn[tn]||[],mn[tn].push(sn))}),Object.keys(Vr).forEach(function(sn){mn[sn]=mn[sn]||[]}),hn(mn)},[xr]);var Ct=function(sn){hn(function(en){var tn=(0,Qt.Z)({},en),gr=tn[sn]||[];return gr.length||delete tn[sn],tn})},kr=M.useRef(!1);if(M.useEffect(function(){Object.keys(Vr).length>0?kr.current=!0:kr.current&&(Oe==null||Oe(),kr.current=!1)},[Vr]),!Vt)return null;var qr=Object.keys(Vr);return(0,vt.createPortal)(M.createElement(M.Fragment,null,qr.map(function(mn){var sn=Vr[mn],en=M.createElement(Ar,{key:mn,configList:sn,placement:mn,prefixCls:ot,className:G==null?void 0:G(mn),style:ye==null?void 0:ye(mn),motion:Rr,onNoticeClose:Ht,onAllNoticeRemoved:Ct,stack:ve});return He?He(en,{prefixCls:ot,key:mn}):en})),Vt)}),qe=$r,ke=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Et=function(){return document.body},cr=0;function Lr(){for(var Se={},Ke=arguments.length,It=new Array(Ke),ot=0;ot<Ke;ot++)It[ot]=arguments[ot];return It.forEach(function(Vt){Vt&&Object.keys(Vt).forEach(function(Rr){var Tn=Vt[Rr];Tn!==void 0&&(Se[Rr]=Tn)})}),Se}function Ur(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ke=Se.getContainer,It=Ke===void 0?Et:Ke,ot=Se.motion,Vt=Se.prefixCls,Rr=Se.maxCount,Tn=Se.className,G=Se.style,ye=Se.onAllRemoved,Oe=Se.stack,ve=Se.renderNotifications,He=(0,Mt.Z)(Se,ke),wt=M.useState(),pr=(0,Ue.Z)(wt,2),xr=pr[0],Fr=pr[1],Ht=M.useRef(),Sr=M.createElement(qe,{container:xr,ref:Ht,prefixCls:Vt,motion:ot,maxCount:Rr,className:Tn,style:G,onAllRemoved:ye,stack:Oe,renderNotifications:ve}),Wr=M.useState([]),Vr=(0,Ue.Z)(Wr,2),hn=Vr[0],Ct=Vr[1],kr=M.useMemo(function(){return{open:function(mn){var sn=Lr(He,mn);(sn.key===null||sn.key===void 0)&&(sn.key="rc-notification-".concat(cr),cr+=1),Ct(function(en){return[].concat((0,Xe.Z)(en),[{type:"open",config:sn}])})},close:function(mn){Ct(function(sn){return[].concat((0,Xe.Z)(sn),[{type:"close",key:mn}])})},destroy:function(){Ct(function(mn){return[].concat((0,Xe.Z)(mn),[{type:"destroy"}])})}}},[]);return M.useEffect(function(){Fr(It())}),M.useEffect(function(){Ht.current&&hn.length&&(hn.forEach(function(qr){switch(qr.type){case"open":Ht.current.open(qr.config);break;case"close":Ht.current.close(qr.key);break;case"destroy":Ht.current.destroy();break}}),Ct(function(qr){return qr.filter(function(mn){return!hn.includes(mn)})}))},[hn]),[kr,Sr]}var yt=E(35792),Te=E(54548),$e=E(87263),dt=E(14747),Dt=E(48132),nt=E(45503);const re=Se=>{const{componentCls:Ke,iconCls:It,boxShadow:ot,colorText:Vt,colorSuccess:Rr,colorError:Tn,colorWarning:G,colorInfo:ye,fontSizeLG:Oe,motionEaseInOutCirc:ve,motionDurationSlow:He,marginXS:wt,paddingXS:pr,borderRadiusLG:xr,zIndexPopup:Fr,contentPadding:Ht,contentBg:Sr}=Se,Wr=`${Ke}-notice`,Vr=new Te.Keyframes("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:pr,transform:"translateY(0)",opacity:1}}),hn=new Te.Keyframes("MessageMoveOut",{"0%":{maxHeight:Se.height,padding:pr,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),Ct={padding:pr,textAlign:"center",[`${Ke}-custom-content > ${It}`]:{verticalAlign:"text-bottom",marginInlineEnd:wt,fontSize:Oe},[`${Wr}-content`]:{display:"inline-block",padding:Ht,background:Sr,borderRadius:xr,boxShadow:ot,pointerEvents:"all"},[`${Ke}-success > ${It}`]:{color:Rr},[`${Ke}-error > ${It}`]:{color:Tn},[`${Ke}-warning > ${It}`]:{color:G},[`${Ke}-info > ${It},
      ${Ke}-loading > ${It}`]:{color:ye}};return[{[Ke]:Object.assign(Object.assign({},(0,dt.Wf)(Se)),{color:Vt,position:"fixed",top:wt,width:"100%",pointerEvents:"none",zIndex:Fr,[`${Ke}-move-up`]:{animationFillMode:"forwards"},[`
        ${Ke}-move-up-appear,
        ${Ke}-move-up-enter
      `]:{animationName:Vr,animationDuration:He,animationPlayState:"paused",animationTimingFunction:ve},[`
        ${Ke}-move-up-appear${Ke}-move-up-appear-active,
        ${Ke}-move-up-enter${Ke}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${Ke}-move-up-leave`]:{animationName:hn,animationDuration:He,animationPlayState:"paused",animationTimingFunction:ve},[`${Ke}-move-up-leave${Ke}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[Ke]:{[`${Wr}-wrapper`]:Object.assign({},Ct)}},{[`${Ke}-notice-pure-panel`]:Object.assign(Object.assign({},Ct),{padding:0,textAlign:"start"})}]},se=Se=>({zIndexPopup:Se.zIndexPopupBase+$e.u6+10,contentBg:Se.colorBgElevated,contentPadding:`${(Se.controlHeightLG-Se.fontSize*Se.lineHeight)/2}px ${Se.paddingSM}px`});var q=(0,Dt.I$)("Message",Se=>{const Ke=(0,nt.TS)(Se,{height:150});return[re(Ke)]},se),Re=function(Se,Ke){var It={};for(var ot in Se)Object.prototype.hasOwnProperty.call(Se,ot)&&Ke.indexOf(ot)<0&&(It[ot]=Se[ot]);if(Se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vt=0,ot=Object.getOwnPropertySymbols(Se);Vt<ot.length;Vt++)Ke.indexOf(ot[Vt])<0&&Object.prototype.propertyIsEnumerable.call(Se,ot[Vt])&&(It[ot[Vt]]=Se[ot[Vt]]);return It};const Ae={info:M.createElement(Ne,null),success:M.createElement(W.Z,null),error:M.createElement(Z.Z,null),warning:M.createElement(ce.Z,null),loading:M.createElement(Ve.Z,null)},Tt=Se=>{let{prefixCls:Ke,type:It,icon:ot,children:Vt}=Se;return M.createElement("div",{className:tt()(`${Ke}-custom-content`,`${Ke}-${It}`)},ot||Ae[It],M.createElement("span",null,Vt))};var Xt=Se=>{const{prefixCls:Ke,className:It,type:ot,icon:Vt,content:Rr}=Se,Tn=Re(Se,["prefixCls","className","type","icon","content"]),{getPrefixCls:G}=M.useContext(w.E_),ye=Ke||G("message"),Oe=(0,yt.Z)(ye),[ve,He,wt]=q(ye,Oe);return ve(M.createElement(me,Object.assign({},Tn,{prefixCls:ye,className:tt()(It,He,`${ye}-notice-pure-panel`,wt,Oe),eventKey:"pure",duration:null,content:M.createElement(Tt,{prefixCls:ye,type:ot,icon:Vt},Rr)})))},zt=E(84481),Rt=E(27288);function mr(Se,Ke){return{motionName:Ke!=null?Ke:`${Se}-move-up`}}function St(Se){let Ke;const It=new Promise(Vt=>{Ke=Se(()=>{Vt(!0)})}),ot=()=>{Ke==null||Ke()};return ot.then=(Vt,Rr)=>It.then(Vt,Rr),ot.promise=It,ot}var pe=function(Se,Ke){var It={};for(var ot in Se)Object.prototype.hasOwnProperty.call(Se,ot)&&Ke.indexOf(ot)<0&&(It[ot]=Se[ot]);if(Se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vt=0,ot=Object.getOwnPropertySymbols(Se);Vt<ot.length;Vt++)Ke.indexOf(ot[Vt])<0&&Object.prototype.propertyIsEnumerable.call(Se,ot[Vt])&&(It[ot[Vt]]=Se[ot[Vt]]);return It};const Yt=8,Jt=3,ir=Se=>{let{children:Ke,prefixCls:It}=Se;const ot=(0,yt.Z)(It),[Vt,Rr,Tn]=q(It,ot);return Vt(M.createElement(gt,{classNames:{list:tt()(Rr,Tn,ot)}},Ke))},tr=(Se,Ke)=>{let{prefixCls:It,key:ot}=Ke;return M.createElement(ir,{prefixCls:It,key:ot},Se)},rr=M.forwardRef((Se,Ke)=>{const{top:It,prefixCls:ot,getContainer:Vt,maxCount:Rr,duration:Tn=Jt,rtl:G,transitionName:ye,onAllRemoved:Oe}=Se,{getPrefixCls:ve,getPopupContainer:He,message:wt,direction:pr}=M.useContext(w.E_),xr=ot||ve("message"),Fr=()=>({left:"50%",transform:"translateX(-50%)",top:It!=null?It:Yt}),Ht=()=>tt()({[`${xr}-rtl`]:G!=null?G:pr==="rtl"}),Sr=()=>mr(xr,ye),Wr=M.createElement("span",{className:`${xr}-close-x`},M.createElement(zt.Z,{className:`${xr}-close-icon`})),[Vr,hn]=Ur({prefixCls:xr,style:Fr,className:Ht,motion:Sr,closable:!1,closeIcon:Wr,duration:Tn,getContainer:()=>(Vt==null?void 0:Vt())||(He==null?void 0:He())||document.body,maxCount:Rr,onAllRemoved:Oe,renderNotifications:tr});return M.useImperativeHandle(Ke,()=>Object.assign(Object.assign({},Vr),{prefixCls:xr,message:wt})),hn});let xn=0;function jr(Se){const Ke=M.useRef(null),It=(0,Rt.ln)("Message");return[M.useMemo(()=>{const Vt=Oe=>{var ve;(ve=Ke.current)===null||ve===void 0||ve.close(Oe)},Rr=Oe=>{if(!Ke.current){const qr=()=>{};return qr.then=()=>{},qr}const{open:ve,prefixCls:He,message:wt}=Ke.current,pr=`${He}-notice`,{content:xr,icon:Fr,type:Ht,key:Sr,className:Wr,style:Vr,onClose:hn}=Oe,Ct=pe(Oe,["content","icon","type","key","className","style","onClose"]);let kr=Sr;return kr==null&&(xn+=1,kr=`antd-message-${xn}`),St(qr=>(ve(Object.assign(Object.assign({},Ct),{key:kr,content:M.createElement(Tt,{prefixCls:He,type:Ht,icon:Fr},xr),placement:"top",className:tt()(Ht&&`${pr}-${Ht}`,Wr,wt==null?void 0:wt.className),style:Object.assign(Object.assign({},wt==null?void 0:wt.style),Vr),onClose:()=>{hn==null||hn(),qr()}})),()=>{Vt(kr)}))},G={open:Rr,destroy:Oe=>{var ve;Oe!==void 0?Vt(Oe):(ve=Ke.current)===null||ve===void 0||ve.destroy()}};return["info","success","warning","error","loading"].forEach(Oe=>{const ve=(He,wt,pr)=>{let xr;He&&typeof He=="object"&&"content"in He?xr=He:xr={content:He};let Fr,Ht;typeof wt=="function"?Ht=wt:(Fr=wt,Ht=pr);const Sr=Object.assign(Object.assign({onClose:Ht,duration:Fr},xr),{type:Oe});return Rr(Sr)};G[Oe]=ve}),G},[]),M.createElement(rr,Object.assign({key:"message-holder"},Se,{ref:Ke}))]}function gn(Se){return jr(Se)}let ze=null,ar=Se=>Se(),vr=[],Tr={};function br(){const{getContainer:Se,duration:Ke,rtl:It,maxCount:ot,top:Vt}=Tr,Rr=(Se==null?void 0:Se())||document.body;return{getContainer:()=>Rr,duration:Ke,rtl:It,maxCount:ot,top:Vt}}const yn=M.forwardRef((Se,Ke)=>{const{messageConfig:It,sync:ot}=Se,{getPrefixCls:Vt}=(0,M.useContext)(w.E_),Rr=Tr.prefixCls||Vt("message"),Tn=(0,M.useContext)(xe),[G,ye]=jr(Object.assign(Object.assign(Object.assign({},It),{prefixCls:Rr}),Tn.message));return M.useImperativeHandle(Ke,()=>{const Oe=Object.assign({},G);return Object.keys(Oe).forEach(ve=>{Oe[ve]=function(){return ot(),G[ve].apply(G,arguments)}}),{instance:Oe,sync:ot}}),ye}),Vn=M.forwardRef((Se,Ke)=>{const[It,ot]=M.useState(br),Vt=()=>{ot(br)};M.useEffect(Vt,[]);const Rr=(0,ne.w6)(),Tn=Rr.getRootPrefixCls(),G=Rr.getIconPrefixCls(),ye=Rr.getTheme(),Oe=M.createElement(yn,{ref:Ke,sync:Vt,messageConfig:It});return M.createElement(ne.ZP,{prefixCls:Tn,iconPrefixCls:G,theme:ye},Rr.holderRender?Rr.holderRender(Oe):Oe)});function fr(){if(!ze){const Se=document.createDocumentFragment(),Ke={fragment:Se};ze=Ke,ar(()=>{(0,U.s)(M.createElement(Vn,{ref:It=>{const{instance:ot,sync:Vt}=It||{};Promise.resolve().then(()=>{!Ke.instance&&ot&&(Ke.instance=ot,Ke.sync=Vt,fr())})}}),Se)});return}ze.instance&&(vr.forEach(Se=>{const{type:Ke,skipped:It}=Se;if(!It)switch(Ke){case"open":{ar(()=>{const ot=ze.instance.open(Object.assign(Object.assign({},Tr),Se.config));ot==null||ot.then(Se.resolve),Se.setCloseFn(ot)});break}case"destroy":ar(()=>{ze==null||ze.instance.destroy(Se.key)});break;default:ar(()=>{var ot;const Vt=(ot=ze.instance)[Ke].apply(ot,(0,y.Z)(Se.args));Vt==null||Vt.then(Se.resolve),Se.setCloseFn(Vt)})}}),vr=[])}function Qn(Se){Tr=Object.assign(Object.assign({},Tr),Se),ar(()=>{var Ke;(Ke=ze==null?void 0:ze.sync)===null||Ke===void 0||Ke.call(ze)})}function un(Se){const Ke=St(It=>{let ot;const Vt={type:"open",config:Se,resolve:It,setCloseFn:Rr=>{ot=Rr}};return vr.push(Vt),()=>{ot?ar(()=>{ot()}):Vt.skipped=!0}});return fr(),Ke}function Wn(Se,Ke){const It=(0,ne.w6)(),ot=St(Vt=>{let Rr;const Tn={type:Se,args:Ke,resolve:Vt,setCloseFn:G=>{Rr=G}};return vr.push(Tn),()=>{Rr?ar(()=>{Rr()}):Tn.skipped=!0}});return fr(),ot}const Mn=Se=>{vr.push({type:"destroy",key:Se}),fr()},fi=["success","info","warning","error","loading"],ti={open:un,destroy:Mn,config:Qn,useMessage:gn,_InternalPanelDoNotUseOrYouWillBeFired:Xt};fi.forEach(Se=>{ti[Se]=function(){for(var Ke=arguments.length,It=new Array(Ke),ot=0;ot<Ke;ot++)It[ot]=arguments[ot];return Wn(Se,It)}});const dn=()=>{};let Dr=null,bt=null;var on=ti},74627:function($t,we,E){"use strict";E.d(we,{Z:function(){return Lt}});var y=E(67294),M=E(13144),U=E.n(M),xe=E(93042),te=E(15105);const J=Ye=>Ye?typeof Ye=="function"?Ye():Ye:null;var w=E(33603),ne=E(96159),W=E(53124),Z=E(83062),ce=E(92419),Ce=E(14747),de=E(50438),je=E(97414),Ot=E(79511),rt=E(8796),fe=E(48132),Ne=E(45503);const Ve=Ye=>{const{componentCls:Le,popoverColor:Y,titleMinWidth:me,fontWeightStrong:Ee,innerPadding:Ge,boxShadowSecondary:gt,colorTextHeading:at,borderRadiusLG:Ze,zIndexPopup:De,titleMarginBottom:We,colorBgElevated:er,popoverBg:Ft,titleBorderBottom:or,innerContentPadding:Ar,titlePadding:$r}=Ye;return[{[Le]:Object.assign(Object.assign({},(0,Ce.Wf)(Ye)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:De,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":er,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${Le}-content`]:{position:"relative"},[`${Le}-inner`]:{backgroundColor:Ft,backgroundClip:"padding-box",borderRadius:Ze,boxShadow:gt,padding:Ge},[`${Le}-title`]:{minWidth:me,marginBottom:We,color:at,fontWeight:Ee,borderBottom:or,padding:$r},[`${Le}-inner-content`]:{color:Y,padding:Ar}})},(0,je.ZP)(Ye,"var(--antd-arrow-background-color)"),{[`${Le}-pure`]:{position:"relative",maxWidth:"none",margin:Ye.sizePopupArrow,display:"inline-block",[`${Le}-content`]:{display:"inline-block"}}}]},et=Ye=>{const{componentCls:Le}=Ye;return{[Le]:rt.i.map(Y=>{const me=Ye[`${Y}6`];return{[`&${Le}-${Y}`]:{"--antd-arrow-background-color":me,[`${Le}-inner`]:{backgroundColor:me},[`${Le}-arrow`]:{background:"transparent"}}}})}},tt=Ye=>{const{lineWidth:Le,controlHeight:Y,fontHeight:me,padding:Ee,wireframe:Ge,zIndexPopupBase:gt,borderRadiusLG:at,marginXS:Ze,lineType:De,colorSplit:We,paddingSM:er}=Ye,Ft=Y-me,or=Ft/2,Ar=Ft/2-Le,$r=Ee;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:gt+30},(0,Ot.w)(Ye)),(0,je.wZ)({contentRadius:at,limitVerticalRadius:!0})),{innerPadding:Ge?0:12,titleMarginBottom:Ge?0:Ze,titlePadding:Ge?`${or}px ${$r}px ${Ar}px`:0,titleBorderBottom:Ge?`${Le}px ${De} ${We}`:"none",innerContentPadding:Ge?`${er}px ${$r}px`:0})};var Xe=(0,fe.I$)("Popover",Ye=>{const{colorBgElevated:Le,colorText:Y}=Ye,me=(0,Ne.TS)(Ye,{popoverBg:Le,popoverColor:Y});return[Ve(me),et(me),(0,de._y)(me,"zoom-big")]},tt,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),Ue=function(Ye,Le){var Y={};for(var me in Ye)Object.prototype.hasOwnProperty.call(Ye,me)&&Le.indexOf(me)<0&&(Y[me]=Ye[me]);if(Ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,me=Object.getOwnPropertySymbols(Ye);Ee<me.length;Ee++)Le.indexOf(me[Ee])<0&&Object.prototype.propertyIsEnumerable.call(Ye,me[Ee])&&(Y[me[Ee]]=Ye[me[Ee]]);return Y};const Mt=(Ye,Le,Y)=>!Le&&!Y?null:y.createElement(y.Fragment,null,Le&&y.createElement("div",{className:`${Ye}-title`},J(Le)),y.createElement("div",{className:`${Ye}-inner-content`},J(Y))),Qt=Ye=>{const{hashId:Le,prefixCls:Y,className:me,style:Ee,placement:Ge="top",title:gt,content:at,children:Ze}=Ye;return y.createElement("div",{className:U()(Le,Y,`${Y}-pure`,`${Y}-placement-${Ge}`,me),style:Ee},y.createElement("div",{className:`${Y}-arrow`}),y.createElement(ce.G,Object.assign({},Ye,{className:Le,prefixCls:Y}),Ze||Mt(Y,gt,at)))};var he=Ye=>{const{prefixCls:Le,className:Y}=Ye,me=Ue(Ye,["prefixCls","className"]),{getPrefixCls:Ee}=y.useContext(W.E_),Ge=Ee("popover",Le),[gt,at,Ze]=Xe(Ge);return gt(y.createElement(Qt,Object.assign({},me,{prefixCls:Ge,hashId:at,className:U()(Y,Ze)})))},ae=function(Ye,Le){var Y={};for(var me in Ye)Object.prototype.hasOwnProperty.call(Ye,me)&&Le.indexOf(me)<0&&(Y[me]=Ye[me]);if(Ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,me=Object.getOwnPropertySymbols(Ye);Ee<me.length;Ee++)Le.indexOf(me[Ee])<0&&Object.prototype.propertyIsEnumerable.call(Ye,me[Ee])&&(Y[me[Ee]]=Ye[me[Ee]]);return Y};const xt=Ye=>{let{title:Le,content:Y,prefixCls:me}=Ye;return y.createElement(y.Fragment,null,Le&&y.createElement("div",{className:`${me}-title`},J(Le)),y.createElement("div",{className:`${me}-inner-content`},J(Y)))},Pt=y.forwardRef((Ye,Le)=>{var Y,me;const{prefixCls:Ee,title:Ge,content:gt,overlayClassName:at,placement:Ze="top",trigger:De="hover",children:We,mouseEnterDelay:er=.1,mouseLeaveDelay:Ft=.1,onOpenChange:or,overlayStyle:Ar={}}=Ye,$r=ae(Ye,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:qe}=y.useContext(W.E_),ke=qe("popover",Ee),[Et,cr,Lr]=Xe(ke),Ur=qe(),yt=U()(at,cr,Lr),[Te,$e]=(0,xe.Z)(!1,{value:(Y=Ye.open)!==null&&Y!==void 0?Y:Ye.visible,defaultValue:(me=Ye.defaultOpen)!==null&&me!==void 0?me:Ye.defaultVisible}),dt=(re,se)=>{$e(re,!0),or==null||or(re,se)},Dt=re=>{re.keyCode===te.Z.ESC&&dt(!1,re)},nt=re=>{dt(re)};return Et(y.createElement(Z.Z,Object.assign({placement:Ze,trigger:De,mouseEnterDelay:er,mouseLeaveDelay:Ft,overlayStyle:Ar},$r,{prefixCls:ke,overlayClassName:yt,ref:Le,open:Te,onOpenChange:nt,overlay:Ge||gt?y.createElement(xt,{prefixCls:ke,title:Ge,content:gt}):null,transitionName:(0,w.m)(Ur,"zoom-big",$r.transitionName),"data-popover-inject":!0}),(0,ne.Tm)(We,{onKeyDown:re=>{var se,q;y.isValidElement(We)&&((q=We==null?void 0:(se=We.props).onKeyDown)===null||q===void 0||q.call(se,re)),Dt(re)}})))});Pt._InternalPanelDoNotUseOrYouWillBeFired=he;var Lt=Pt},6277:function($t,we,E){"use strict";E.d(we,{Z:function(){return Ve}});var y=E(67294),M=E(13144),U=E.n(M),xe=E(25976);const te=["xxl","xl","lg","md","sm","xs"],J=et=>({xs:`(max-width: ${et.screenXSMax}px)`,sm:`(min-width: ${et.screenSM}px)`,md:`(min-width: ${et.screenMD}px)`,lg:`(min-width: ${et.screenLG}px)`,xl:`(min-width: ${et.screenXL}px)`,xxl:`(min-width: ${et.screenXXL}px)`}),w=et=>{const tt=et,Xe=[].concat(te).reverse();return Xe.forEach((Ue,Mt)=>{const Qt=Ue.toUpperCase(),vt=`screen${Qt}Min`,he=`screen${Qt}`;if(!(tt[vt]<=tt[he]))throw new Error(`${vt}<=${he} fails : !(${tt[vt]}<=${tt[he]})`);if(Mt<Xe.length-1){const ae=`screen${Qt}Max`;if(!(tt[he]<=tt[ae]))throw new Error(`${he}<=${ae} fails : !(${tt[he]}<=${tt[ae]})`);const Pe=`screen${Xe[Mt+1].toUpperCase()}Min`;if(!(tt[ae]<=tt[Pe]))throw new Error(`${ae}<=${Pe} fails : !(${tt[ae]}<=${tt[Pe]})`)}}),et};function ne(){const[,et]=(0,xe.ZP)(),tt=J(w(et));return y.useMemo(()=>{const Xe=new Map;let Ue=-1,Mt={};return{matchHandlers:{},dispatch(Qt){return Mt=Qt,Xe.forEach(vt=>vt(Mt)),Xe.size>=1},subscribe(Qt){return Xe.size||this.register(),Ue+=1,Xe.set(Ue,Qt),Qt(Mt),Ue},unsubscribe(Qt){Xe.delete(Qt),Xe.size||this.unregister()},unregister(){Object.keys(tt).forEach(Qt=>{const vt=tt[Qt],he=this.matchHandlers[vt];he==null||he.mql.removeListener(he==null?void 0:he.listener)}),Xe.clear()},register(){Object.keys(tt).forEach(Qt=>{const vt=tt[Qt],he=xt=>{let{matches:Pe}=xt;this.dispatch(Object.assign(Object.assign({},Mt),{[Qt]:Pe}))},ae=window.matchMedia(vt);ae.addListener(he),this.matchHandlers[vt]={mql:ae,listener:he},he(ae)})},responsiveMap:tt}},[et])}const W=(et,tt)=>{if(tt&&typeof tt=="object")for(let Xe=0;Xe<te.length;Xe++){const Ue=te[Xe];if(et[Ue]&&tt[Ue]!==void 0)return tt[Ue]}};var Z=E(53124),ce=E(99134),Ce=E(6999),de=function(et,tt){var Xe={};for(var Ue in et)Object.prototype.hasOwnProperty.call(et,Ue)&&tt.indexOf(Ue)<0&&(Xe[Ue]=et[Ue]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Mt=0,Ue=Object.getOwnPropertySymbols(et);Mt<Ue.length;Mt++)tt.indexOf(Ue[Mt])<0&&Object.prototype.propertyIsEnumerable.call(et,Ue[Mt])&&(Xe[Ue[Mt]]=et[Ue[Mt]]);return Xe};const je=null,Ot=null;function rt(et,tt){const[Xe,Ue]=y.useState(typeof et=="string"?et:""),Mt=()=>{if(typeof et=="string"&&Ue(et),typeof et=="object")for(let Qt=0;Qt<te.length;Qt++){const vt=te[Qt];if(!tt[vt])continue;const he=et[vt];if(he!==void 0){Ue(he);return}}};return y.useEffect(()=>{Mt()},[JSON.stringify(et),tt]),Xe}var Ne=y.forwardRef((et,tt)=>{const{prefixCls:Xe,justify:Ue,align:Mt,className:Qt,style:vt,children:he,gutter:ae=0,wrap:xt}=et,Pe=de(et,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Pt,direction:Lt}=y.useContext(Z.E_),[Ye,Le]=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[Y,me]=y.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Ee=rt(Mt,Y),Ge=rt(Ue,Y),gt=y.useRef(ae),at=ne();y.useEffect(()=>{const Lr=at.subscribe(Ur=>{me(Ur);const yt=gt.current||0;(!Array.isArray(yt)&&typeof yt=="object"||Array.isArray(yt)&&(typeof yt[0]=="object"||typeof yt[1]=="object"))&&Le(Ur)});return()=>at.unsubscribe(Lr)},[]);const Ze=()=>{const Lr=[void 0,void 0];return(Array.isArray(ae)?ae:[ae,void 0]).forEach((yt,Te)=>{if(typeof yt=="object")for(let $e=0;$e<te.length;$e++){const dt=te[$e];if(Ye[dt]&&yt[dt]!==void 0){Lr[Te]=yt[dt];break}}else Lr[Te]=yt}),Lr},De=Pt("row",Xe),[We,er,Ft]=(0,Ce.VM)(De),or=Ze(),Ar=U()(De,{[`${De}-no-wrap`]:xt===!1,[`${De}-${Ge}`]:Ge,[`${De}-${Ee}`]:Ee,[`${De}-rtl`]:Lt==="rtl"},Qt,er,Ft),$r={},qe=or[0]!=null&&or[0]>0?or[0]/-2:void 0;qe&&($r.marginLeft=qe,$r.marginRight=qe);const[ke,Et]=or;$r.rowGap=Et;const cr=y.useMemo(()=>({gutter:[ke,Et],wrap:xt}),[ke,Et,xt]);return We(y.createElement(ce.Z.Provider,{value:cr},y.createElement("div",Object.assign({},Pe,{className:Ar,style:Object.assign(Object.assign({},$r),vt),ref:tt}),he)))}),Ve=Ne},53137:function($t,we,E){"use strict";E.d(we,{Z:function(){return As}});var y=E(67294),M=E(13144),U=E.n(M),xe=E(87462),te=E(74902),J=E(4942),w=E(1413),ne=E(97685),W=E(91),Z=E(71002),ce=E(93042),Ce=E(80334),de=E(94184),je=E.n(de),Ot=E(8410),rt=E(31131),fe=E(15105),Ne=E(42550),Ve=function(_){var Q=_.className,le=_.customizeIcon,_e=_.customizeIconProps,pt=_.children,ct=_.onMouseDown,Bt=_.onClick,hr=typeof le=="function"?le(_e):le;return y.createElement("span",{className:Q,onMouseDown:function(Ir){Ir.preventDefault(),ct==null||ct(Ir)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Bt,"aria-hidden":!0},hr!==void 0?hr:y.createElement("span",{className:je()(Q.split(/\s+/).map(function(zr){return"".concat(zr,"-icon")}))},pt))},et=Ve,tt=function(_,Q,le,_e,pt){var ct=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Bt=arguments.length>6?arguments[6]:void 0,hr=arguments.length>7?arguments[7]:void 0,zr=y.useMemo(function(){if((0,Z.Z)(_e)==="object")return _e.clearIcon;if(pt)return pt},[_e,pt]),Ir=y.useMemo(function(){return!!(!ct&&_e&&(le.length||Bt)&&!(hr==="combobox"&&Bt===""))},[_e,ct,le.length,Bt,hr]);return{allowClear:Ir,clearIcon:y.createElement(et,{className:"".concat(_,"-clear"),onMouseDown:Q,customizeIcon:zr},"\xD7")}},Xe=y.createContext(null);function Ue(){return y.useContext(Xe)}function Mt(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,_=y.useState(!1),Q=(0,ne.Z)(_,2),le=Q[0],_e=Q[1],pt=y.useRef(null),ct=function(){window.clearTimeout(pt.current)};y.useEffect(function(){return ct},[]);var Bt=function(zr,Ir){ct(),pt.current=window.setTimeout(function(){_e(zr),Ir&&Ir()},T)};return[le,Bt,ct]}function Qt(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,_=y.useRef(null),Q=y.useRef(null);y.useEffect(function(){return function(){window.clearTimeout(Q.current)}},[]);function le(_e){(_e||_.current===null)&&(_.current=_e),window.clearTimeout(Q.current),Q.current=window.setTimeout(function(){_.current=null},T)}return[function(){return _.current},le]}function vt(T,_,Q,le){var _e=y.useRef(null);_e.current={open:_,triggerOpen:Q,customizedTrigger:le},y.useEffect(function(){function pt(ct){var Bt;if(!((Bt=_e.current)!==null&&Bt!==void 0&&Bt.customizedTrigger)){var hr=ct.target;hr.shadowRoot&&ct.composed&&(hr=ct.composedPath()[0]||hr),_e.current.open&&T().filter(function(zr){return zr}).every(function(zr){return!zr.contains(hr)&&zr!==hr})&&_e.current.triggerOpen(!1)}}return window.addEventListener("mousedown",pt),function(){return window.removeEventListener("mousedown",pt)}},[])}function he(T){return![fe.Z.ESC,fe.Z.SHIFT,fe.Z.BACKSPACE,fe.Z.TAB,fe.Z.WIN_KEY,fe.Z.ALT,fe.Z.META,fe.Z.WIN_KEY_RIGHT,fe.Z.CTRL,fe.Z.SEMICOLON,fe.Z.EQUALS,fe.Z.CAPS_LOCK,fe.Z.CONTEXT_MENU,fe.Z.F1,fe.Z.F2,fe.Z.F3,fe.Z.F4,fe.Z.F5,fe.Z.F6,fe.Z.F7,fe.Z.F8,fe.Z.F9,fe.Z.F10,fe.Z.F11,fe.Z.F12].includes(T)}var ae=E(64217),xt=E(39983),Pe=function(_,Q){var le,_e=_.prefixCls,pt=_.id,ct=_.inputElement,Bt=_.disabled,hr=_.tabIndex,zr=_.autoFocus,Ir=_.autoComplete,Gt=_.editable,nn=_.activeDescendantId,kt=_.value,Xr=_.maxLength,Yr=_.onKeyDown,Hr=_.onMouseDown,On=_.onChange,Fn=_.onPaste,Nn=_.onCompositionStart,_n=_.onCompositionEnd,Pr=_.open,vn=_.attrs,kn=ct||y.createElement("input",null),Ti=kn,Oi=Ti.ref,hi=Ti.props,Ri=hi.onKeyDown,Mi=hi.onChange,Ai=hi.onMouseDown,di=hi.onCompositionStart,Ii=hi.onCompositionEnd,mi=hi.style;return(0,Ce.Kp)(!("maxLength"in kn.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),kn=y.cloneElement(kn,(0,w.Z)((0,w.Z)((0,w.Z)({type:"search"},hi),{},{id:pt,ref:(0,Ne.sQ)(Q,Oi),disabled:Bt,tabIndex:hr,autoComplete:Ir||"off",autoFocus:zr,className:je()("".concat(_e,"-selection-search-input"),(le=kn)===null||le===void 0||(le=le.props)===null||le===void 0?void 0:le.className),role:"combobox","aria-expanded":Pr||!1,"aria-haspopup":"listbox","aria-owns":"".concat(pt,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(pt,"_list"),"aria-activedescendant":Pr?nn:void 0},vn),{},{value:Gt?kt:"",maxLength:Xr,readOnly:!Gt,unselectable:Gt?null:"on",style:(0,w.Z)((0,w.Z)({},mi),{},{opacity:Gt?null:0}),onKeyDown:function(cn){Yr(cn),Ri&&Ri(cn)},onMouseDown:function(cn){Hr(cn),Ai&&Ai(cn)},onChange:function(cn){On(cn),Mi&&Mi(cn)},onCompositionStart:function(cn){Nn(cn),di&&di(cn)},onCompositionEnd:function(cn){_n(cn),Ii&&Ii(cn)},onPaste:Fn})),kn},Pt=y.forwardRef(Pe),Lt=Pt;function Ye(T){return Array.isArray(T)?T:T!==void 0?[T]:[]}var Le=typeof window!="undefined"&&window.document&&window.document.documentElement,Y=Le;function me(T){return T!=null}function Ee(T){return!T&&T!==0}function Ge(T){return["string","number"].includes((0,Z.Z)(T))}function gt(T){var _=void 0;return T&&(Ge(T.title)?_=T.title.toString():Ge(T.label)&&(_=T.label.toString())),_}function at(T,_){Y?y.useLayoutEffect(T,_):y.useEffect(T,_)}function Ze(T){var _;return(_=T.key)!==null&&_!==void 0?_:T.value}var De=function(_){_.preventDefault(),_.stopPropagation()},We=function(_){var Q=_.id,le=_.prefixCls,_e=_.values,pt=_.open,ct=_.searchValue,Bt=_.autoClearSearchValue,hr=_.inputRef,zr=_.placeholder,Ir=_.disabled,Gt=_.mode,nn=_.showSearch,kt=_.autoFocus,Xr=_.autoComplete,Yr=_.activeDescendantId,Hr=_.tabIndex,On=_.removeIcon,Fn=_.maxTagCount,Nn=_.maxTagTextLength,_n=_.maxTagPlaceholder,Pr=_n===void 0?function(Gr){return"+ ".concat(Gr.length," ...")}:_n,vn=_.tagRender,kn=_.onToggleOpen,Ti=_.onRemove,Oi=_.onInputChange,hi=_.onInputPaste,Ri=_.onInputKeyDown,Mi=_.onInputMouseDown,Ai=_.onInputCompositionStart,di=_.onInputCompositionEnd,Ii=y.useRef(null),mi=(0,y.useState)(0),Kr=(0,ne.Z)(mi,2),cn=Kr[0],bi=Kr[1],li=(0,y.useState)(!1),ja=(0,ne.Z)(li,2),va=ja[0],$i=ja[1],Xn="".concat(le,"-selection"),Vi=pt||Gt==="multiple"&&Bt===!1||Gt==="tags"?ct:"",Ra=Gt==="tags"||Gt==="multiple"&&Bt===!1||nn&&(pt||va);at(function(){bi(Ii.current.scrollWidth)},[Vi]);var ji=function(Er,Un,Kn,bn,xi){return y.createElement("span",{title:gt(Er),className:je()("".concat(Xn,"-item"),(0,J.Z)({},"".concat(Xn,"-item-disabled"),Kn))},y.createElement("span",{className:"".concat(Xn,"-item-content")},Un),bn&&y.createElement(et,{className:"".concat(Xn,"-item-remove"),onMouseDown:De,onClick:xi,customizeIcon:On},"\xD7"))},_a=function(Er,Un,Kn,bn,xi,ta){var Ha=function(aa){De(aa),kn(!pt)};return y.createElement("span",{onMouseDown:Ha},vn({label:Un,value:Er,disabled:Kn,closable:bn,onClose:xi,isMaxTag:!!ta}))},Ea=function(Er){var Un=Er.disabled,Kn=Er.label,bn=Er.value,xi=!Ir&&!Un,ta=Kn;if(typeof Nn=="number"&&(typeof Kn=="string"||typeof Kn=="number")){var Ha=String(ta);Ha.length>Nn&&(ta="".concat(Ha.slice(0,Nn),"..."))}var Ta=function(Ga){Ga&&Ga.stopPropagation(),Ti(Er)};return typeof vn=="function"?_a(bn,ta,Un,xi,Ta):ji(Er,ta,Un,xi,Ta)},An=function(Er){var Un=typeof Pr=="function"?Pr(Er):Pr;return typeof vn=="function"?_a(void 0,Un,!1,!1,void 0,!0):ji({title:Un},Un,!1)},Cr=y.createElement("div",{className:"".concat(Xn,"-search"),style:{width:cn},onFocus:function(){$i(!0)},onBlur:function(){$i(!1)}},y.createElement(Lt,{ref:hr,open:pt,prefixCls:le,id:Q,inputElement:null,disabled:Ir,autoFocus:kt,autoComplete:Xr,editable:Ra,activeDescendantId:Yr,value:Vi,onKeyDown:Ri,onMouseDown:Mi,onChange:Oi,onPaste:hi,onCompositionStart:Ai,onCompositionEnd:di,tabIndex:Hr,attrs:(0,ae.Z)(_,!0)}),y.createElement("span",{ref:Ii,className:"".concat(Xn,"-search-mirror"),"aria-hidden":!0},Vi,"\xA0")),zn=y.createElement(xt.Z,{prefixCls:"".concat(Xn,"-overflow"),data:_e,renderItem:Ea,renderRest:An,suffix:Cr,itemKey:Ze,maxCount:Fn});return y.createElement(y.Fragment,null,zn,!_e.length&&!Vi&&y.createElement("span",{className:"".concat(Xn,"-placeholder")},zr))},er=We,Ft=function(_){var Q=_.inputElement,le=_.prefixCls,_e=_.id,pt=_.inputRef,ct=_.disabled,Bt=_.autoFocus,hr=_.autoComplete,zr=_.activeDescendantId,Ir=_.mode,Gt=_.open,nn=_.values,kt=_.placeholder,Xr=_.tabIndex,Yr=_.showSearch,Hr=_.searchValue,On=_.activeValue,Fn=_.maxLength,Nn=_.onInputKeyDown,_n=_.onInputMouseDown,Pr=_.onInputChange,vn=_.onInputPaste,kn=_.onInputCompositionStart,Ti=_.onInputCompositionEnd,Oi=_.title,hi=y.useState(!1),Ri=(0,ne.Z)(hi,2),Mi=Ri[0],Ai=Ri[1],di=Ir==="combobox",Ii=di||Yr,mi=nn[0],Kr=Hr||"";di&&On&&!Mi&&(Kr=On),y.useEffect(function(){di&&Ai(!1)},[di,On]);var cn=Ir!=="combobox"&&!Gt&&!Yr?!1:!!Kr,bi=Oi===void 0?gt(mi):Oi,li=y.useMemo(function(){return mi?null:y.createElement("span",{className:"".concat(le,"-selection-placeholder"),style:cn?{visibility:"hidden"}:void 0},kt)},[mi,cn,kt,le]);return y.createElement(y.Fragment,null,y.createElement("span",{className:"".concat(le,"-selection-search")},y.createElement(Lt,{ref:pt,prefixCls:le,id:_e,open:Gt,inputElement:Q,disabled:ct,autoFocus:Bt,autoComplete:hr,editable:Ii,activeDescendantId:zr,value:Kr,onKeyDown:Nn,onMouseDown:_n,onChange:function(va){Ai(!0),Pr(va)},onPaste:vn,onCompositionStart:kn,onCompositionEnd:Ti,tabIndex:Xr,attrs:(0,ae.Z)(_,!0),maxLength:di?Fn:void 0})),!di&&mi?y.createElement("span",{className:"".concat(le,"-selection-item"),title:bi,style:cn?{visibility:"hidden"}:void 0},mi.label):null,li)},or=Ft,Ar=function(_,Q){var le=(0,y.useRef)(null),_e=(0,y.useRef)(!1),pt=_.prefixCls,ct=_.open,Bt=_.mode,hr=_.showSearch,zr=_.tokenWithEnter,Ir=_.disabled,Gt=_.autoClearSearchValue,nn=_.onSearch,kt=_.onSearchSubmit,Xr=_.onToggleOpen,Yr=_.onInputKeyDown,Hr=_.domRef;y.useImperativeHandle(Q,function(){return{focus:function(cn){le.current.focus(cn)},blur:function(){le.current.blur()}}});var On=Qt(0),Fn=(0,ne.Z)(On,2),Nn=Fn[0],_n=Fn[1],Pr=function(cn){var bi=cn.which;(bi===fe.Z.UP||bi===fe.Z.DOWN)&&cn.preventDefault(),Yr&&Yr(cn),bi===fe.Z.ENTER&&Bt==="tags"&&!_e.current&&!ct&&(kt==null||kt(cn.target.value)),he(bi)&&Xr(!0)},vn=function(){_n(!0)},kn=(0,y.useRef)(null),Ti=function(cn){nn(cn,!0,_e.current)!==!1&&Xr(!0)},Oi=function(){_e.current=!0},hi=function(cn){_e.current=!1,Bt!=="combobox"&&Ti(cn.target.value)},Ri=function(cn){var bi=cn.target.value;if(zr&&kn.current&&/[\r\n]/.test(kn.current)){var li=kn.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");bi=bi.replace(li,kn.current)}kn.current=null,Ti(bi)},Mi=function(cn){var bi=cn.clipboardData,li=bi==null?void 0:bi.getData("text");kn.current=li||""},Ai=function(cn){var bi=cn.target;if(bi!==le.current){var li=document.body.style.msTouchAction!==void 0;li?setTimeout(function(){le.current.focus()}):le.current.focus()}},di=function(cn){var bi=Nn();cn.target!==le.current&&!bi&&!(Bt==="combobox"&&Ir)&&cn.preventDefault(),(Bt!=="combobox"&&(!hr||!bi)||!ct)&&(ct&&Gt!==!1&&nn("",!0,!1),Xr())},Ii={inputRef:le,onInputKeyDown:Pr,onInputMouseDown:vn,onInputChange:Ri,onInputPaste:Mi,onInputCompositionStart:Oi,onInputCompositionEnd:hi},mi=Bt==="multiple"||Bt==="tags"?y.createElement(er,(0,xe.Z)({},_,Ii)):y.createElement(or,(0,xe.Z)({},_,Ii));return y.createElement("div",{ref:Hr,className:"".concat(pt,"-selector"),onClick:Ai,onMouseDown:di},mi)},$r=y.forwardRef(Ar),qe=$r,ke=E(16772),Et=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],cr=function(_){var Q=_===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Q,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Q,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Q,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Q,adjustY:1},htmlRegion:"scroll"}}},Lr=function(_,Q){var le=_.prefixCls,_e=_.disabled,pt=_.visible,ct=_.children,Bt=_.popupElement,hr=_.animation,zr=_.transitionName,Ir=_.dropdownStyle,Gt=_.dropdownClassName,nn=_.direction,kt=nn===void 0?"ltr":nn,Xr=_.placement,Yr=_.builtinPlacements,Hr=_.dropdownMatchSelectWidth,On=_.dropdownRender,Fn=_.dropdownAlign,Nn=_.getPopupContainer,_n=_.empty,Pr=_.getTriggerDOMNode,vn=_.onPopupVisibleChange,kn=_.onPopupMouseEnter,Ti=(0,W.Z)(_,Et),Oi="".concat(le,"-dropdown"),hi=Bt;On&&(hi=On(Bt));var Ri=y.useMemo(function(){return Yr||cr(Hr)},[Yr,Hr]),Mi=hr?"".concat(Oi,"-").concat(hr):zr,Ai=typeof Hr=="number",di=y.useMemo(function(){return Ai?null:Hr===!1?"minWidth":"width"},[Hr,Ai]),Ii=Ir;Ai&&(Ii=(0,w.Z)((0,w.Z)({},Ii),{},{width:Hr}));var mi=y.useRef(null);return y.useImperativeHandle(Q,function(){return{getPopupElement:function(){var cn;return(cn=mi.current)===null||cn===void 0?void 0:cn.popupElement}}}),y.createElement(ke.Z,(0,xe.Z)({},Ti,{showAction:vn?["click"]:[],hideAction:vn?["click"]:[],popupPlacement:Xr||(kt==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Ri,prefixCls:Oi,popupTransitionName:Mi,popup:y.createElement("div",{onMouseEnter:kn},hi),ref:mi,stretch:di,popupAlign:Fn,popupVisible:pt,getPopupContainer:Nn,popupClassName:je()(Gt,(0,J.Z)({},"".concat(Oi,"-empty"),_n)),popupStyle:Ii,getTriggerDOMNode:Pr,onPopupVisibleChange:vn}),ct)},Ur=y.forwardRef(Lr),yt=Ur,Te=E(84506);function $e(T,_){var Q=T.key,le;return"value"in T&&(le=T.value),Q!=null?Q:le!==void 0?le:"rc-index-key-".concat(_)}function dt(T){return typeof T!="undefined"&&!Number.isNaN(T)}function Dt(T,_){var Q=T||{},le=Q.label,_e=Q.value,pt=Q.options,ct=Q.groupLabel,Bt=le||(_?"children":"label");return{label:Bt,value:_e||"value",options:pt||"options",groupLabel:ct||Bt}}function nt(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=_.fieldNames,le=_.childrenAsData,_e=[],pt=Dt(Q,!1),ct=pt.label,Bt=pt.value,hr=pt.options,zr=pt.groupLabel;function Ir(Gt,nn){Array.isArray(Gt)&&Gt.forEach(function(kt){if(nn||!(hr in kt)){var Xr=kt[Bt];_e.push({key:$e(kt,_e.length),groupOption:nn,data:kt,label:kt[ct],value:Xr})}else{var Yr=kt[zr];Yr===void 0&&le&&(Yr=kt.label),_e.push({key:$e(kt,_e.length),group:!0,data:kt,label:Yr}),Ir(kt[hr],!0)}})}return Ir(T,!1),_e}function re(T){var _=(0,w.Z)({},T);return"props"in _||Object.defineProperty(_,"props",{get:function(){return(0,Ce.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),_}}),_}var se=function(_,Q,le){if(!Q||!Q.length)return null;var _e=!1,pt=function Bt(hr,zr){var Ir=(0,Te.Z)(zr),Gt=Ir[0],nn=Ir.slice(1);if(!Gt)return[hr];var kt=hr.split(Gt);return _e=_e||kt.length>1,kt.reduce(function(Xr,Yr){return[].concat((0,te.Z)(Xr),(0,te.Z)(Bt(Yr,nn)))},[]).filter(Boolean)},ct=pt(_,Q);return _e?typeof le!="undefined"?ct.slice(0,le):ct:null},q=y.createContext(null),Re=q;function Ae(T){var _=T.visible,Q=T.values;if(!_)return null;var le=50;return y.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(Q.slice(0,le).map(function(_e){var pt=_e.label,ct=_e.value;return["number","string"].includes((0,Z.Z)(pt))?pt:ct}).join(", ")),Q.length>le?", ...":null)}var Tt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],jt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Xt=function(_){return _==="tags"||_==="multiple"},zt=y.forwardRef(function(T,_){var Q,le=T.id,_e=T.prefixCls,pt=T.className,ct=T.showSearch,Bt=T.tagRender,hr=T.direction,zr=T.omitDomProps,Ir=T.displayValues,Gt=T.onDisplayValuesChange,nn=T.emptyOptions,kt=T.notFoundContent,Xr=kt===void 0?"Not Found":kt,Yr=T.onClear,Hr=T.mode,On=T.disabled,Fn=T.loading,Nn=T.getInputElement,_n=T.getRawInputElement,Pr=T.open,vn=T.defaultOpen,kn=T.onDropdownVisibleChange,Ti=T.activeValue,Oi=T.onActiveValueChange,hi=T.activeDescendantId,Ri=T.searchValue,Mi=T.autoClearSearchValue,Ai=T.onSearch,di=T.onSearchSplit,Ii=T.tokenSeparators,mi=T.allowClear,Kr=T.suffixIcon,cn=T.clearIcon,bi=T.OptionList,li=T.animation,ja=T.transitionName,va=T.dropdownStyle,$i=T.dropdownClassName,Xn=T.dropdownMatchSelectWidth,Vi=T.dropdownRender,Ra=T.dropdownAlign,ji=T.placement,_a=T.builtinPlacements,Ea=T.getPopupContainer,An=T.showAction,Cr=An===void 0?[]:An,zn=T.onFocus,Gr=T.onBlur,Er=T.onKeyUp,Un=T.onKeyDown,Kn=T.onMouseDown,bn=(0,W.Z)(T,Tt),xi=Xt(Hr),ta=(ct!==void 0?ct:xi)||Hr==="combobox",Ha=(0,w.Z)({},bn);jt.forEach(function(Gn){delete Ha[Gn]}),zr==null||zr.forEach(function(Gn){delete Ha[Gn]});var Ta=y.useState(!1),aa=(0,ne.Z)(Ta,2),Ga=aa[0],ra=aa[1];y.useEffect(function(){ra((0,rt.Z)())},[]);var no=y.useRef(null),Pi=y.useRef(null),ni=y.useRef(null),Yi=y.useRef(null),sa=y.useRef(null),pa=y.useRef(!1),la=Mt(),So=(0,ne.Z)(la,3),Wa=So[0],La=So[1],Xo=So[2];y.useImperativeHandle(_,function(){var Gn,Nr;return{focus:(Gn=Yi.current)===null||Gn===void 0?void 0:Gn.focus,blur:(Nr=Yi.current)===null||Nr===void 0?void 0:Nr.blur,scrollTo:function(Va){var Gi;return(Gi=sa.current)===null||Gi===void 0?void 0:Gi.scrollTo(Va)},nativeElement:no.current||Pi.current}});var Da=y.useMemo(function(){var Gn;if(Hr!=="combobox")return Ri;var Nr=(Gn=Ir[0])===null||Gn===void 0?void 0:Gn.value;return typeof Nr=="string"||typeof Nr=="number"?String(Nr):""},[Ri,Hr,Ir]),Za=Hr==="combobox"&&typeof Nn=="function"&&Nn()||null,ha=typeof _n=="function"&&_n(),Is=(0,Ne.x1)(Pi,ha==null||(Q=ha.props)===null||Q===void 0?void 0:Q.ref),Ys=y.useState(!1),Ks=(0,ne.Z)(Ys,2),ls=Ks[0],us=Ks[1];(0,Ot.Z)(function(){us(!0)},[]);var Qs=(0,ce.Z)(!1,{defaultValue:vn,value:Pr}),_o=(0,ne.Z)(Qs,2),Yo=_o[0],bs=_o[1],ua=ls?Yo:!1,Lo=!Xr&&nn;(On||Lo&&ua&&Hr==="combobox")&&(ua=!1);var Ko=Lo?!1:ua,ln=y.useCallback(function(Gn){var Nr=Gn!==void 0?Gn:!ua;On||(bs(Nr),ua!==Nr&&(kn==null||kn(Nr)))},[On,ua,bs,kn]),In=y.useMemo(function(){return(Ii||[]).some(function(Gn){return[`
`,`\r
`].includes(Gn)})},[Ii]),Cn=y.useContext(Re)||{},$n=Cn.maxCount,Ci=Cn.rawValues,Bi=function(Nr,Ki,Va){if(!(xi&&dt($n)&&(Ci==null?void 0:Ci.size)>=$n)){var Gi=!0,na=Nr;Oi==null||Oi(null);var yo=se(Nr,Ii,dt($n)?$n-Ci.size:void 0),wo=Va?null:yo;return Hr!=="combobox"&&wo&&(na="",di==null||di(wo),ln(!1),Gi=!1),Ai&&Da!==na&&Ai(na,{source:Ki?"typing":"effect"}),Gi}},Ia=function(Nr){!Nr||!Nr.trim()||Ai(Nr,{source:"submit"})};y.useEffect(function(){!ua&&!xi&&Hr!=="combobox"&&Bi("",!1,!1)},[ua]),y.useEffect(function(){Yo&&On&&bs(!1),On&&!pa.current&&La(!1)},[On]);var Xa=Qt(),Fa=(0,ne.Z)(Xa,2),ga=Fa[0],Do=Fa[1],xs=function(Nr){var Ki=ga(),Va=Nr.which;if(Va===fe.Z.ENTER&&(Hr!=="combobox"&&Nr.preventDefault(),ua||ln(!0)),Do(!!Da),Va===fe.Z.BACKSPACE&&!Ki&&xi&&!Da&&Ir.length){for(var Gi=(0,te.Z)(Ir),na=null,yo=Gi.length-1;yo>=0;yo-=1){var wo=Gi[yo];if(!wo.disabled){Gi.splice(yo,1),na=wo;break}}na&&Gt(Gi,{type:"remove",values:[na]})}for(var No=arguments.length,Qo=new Array(No>1?No-1:0),fo=1;fo<No;fo++)Qo[fo-1]=arguments[fo];if(ua){var Jo;(Jo=sa.current)===null||Jo===void 0||Jo.onKeyDown.apply(Jo,[Nr].concat(Qo))}Un==null||Un.apply(void 0,[Nr].concat(Qo))},Js=function(Nr){for(var Ki=arguments.length,Va=new Array(Ki>1?Ki-1:0),Gi=1;Gi<Ki;Gi++)Va[Gi-1]=arguments[Gi];if(ua){var na;(na=sa.current)===null||na===void 0||na.onKeyUp.apply(na,[Nr].concat(Va))}Er==null||Er.apply(void 0,[Nr].concat(Va))},cs=function(Nr){var Ki=Ir.filter(function(Va){return Va!==Nr});Gt(Ki,{type:"remove",values:[Nr]})},io=y.useRef(!1),Ya=function(){La(!0),On||(zn&&!io.current&&zn.apply(void 0,arguments),Cr.includes("focus")&&ln(!0)),io.current=!0},Cs=function(){pa.current=!0,La(!1,function(){io.current=!1,pa.current=!1,ln(!1)}),!On&&(Da&&(Hr==="tags"?Ai(Da,{source:"submit"}):Hr==="multiple"&&Ai("",{source:"blur"})),Gr&&Gr.apply(void 0,arguments))},go=[];y.useEffect(function(){return function(){go.forEach(function(Gn){return clearTimeout(Gn)}),go.splice(0,go.length)}},[]);var Ps=function(Nr){var Ki,Va=Nr.target,Gi=(Ki=ni.current)===null||Ki===void 0?void 0:Ki.getPopupElement();if(Gi&&Gi.contains(Va)){var na=setTimeout(function(){var Qo=go.indexOf(na);if(Qo!==-1&&go.splice(Qo,1),Xo(),!Ga&&!Gi.contains(document.activeElement)){var fo;(fo=Yi.current)===null||fo===void 0||fo.focus()}});go.push(na)}for(var yo=arguments.length,wo=new Array(yo>1?yo-1:0),No=1;No<yo;No++)wo[No-1]=arguments[No];Kn==null||Kn.apply(void 0,[Nr].concat(wo))},Rs=y.useState({}),Es=(0,ne.Z)(Rs,2),qs=Es[1];function el(){qs({})}var jl;ha&&(jl=function(Nr){ln(Nr)}),vt(function(){var Gn;return[no.current,(Gn=ni.current)===null||Gn===void 0?void 0:Gn.getPopupElement()]},Ko,ln,!!ha);var tl=y.useMemo(function(){return(0,w.Z)((0,w.Z)({},T),{},{notFoundContent:Xr,open:ua,triggerOpen:Ko,id:le,showSearch:ta,multiple:xi,toggleOpen:ln})},[T,Xr,Ko,ua,le,ta,xi,ln]),rl=!!Kr||Fn,Fo;rl&&(Fo=y.createElement(et,{className:je()("".concat(_e,"-arrow"),(0,J.Z)({},"".concat(_e,"-arrow-loading"),Fn)),customizeIcon:Kr,customizeIconProps:{loading:Fn,searchValue:Da,open:ua,focused:Wa,showSearch:ta}}));var nl=function(){var Nr;Yr==null||Yr(),(Nr=Yi.current)===null||Nr===void 0||Nr.focus(),Gt([],{type:"clear",values:Ir}),Bi("",!1,!1)},xl=tt(_e,nl,Ir,mi,cn,On,Da,Hr),Hl=xl.allowClear,ao=xl.clearIcon,Iu=y.createElement(bi,{ref:sa}),Cl=je()(_e,pt,(0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)({},"".concat(_e,"-focused"),Wa),"".concat(_e,"-multiple"),xi),"".concat(_e,"-single"),!xi),"".concat(_e,"-allow-clear"),mi),"".concat(_e,"-show-arrow"),rl),"".concat(_e,"-disabled"),On),"".concat(_e,"-loading"),Fn),"".concat(_e,"-open"),ua),"".concat(_e,"-customize-input"),Za),"".concat(_e,"-show-search"),ta)),Na=y.createElement(yt,{ref:ni,disabled:On,prefixCls:_e,visible:Ko,popupElement:Iu,animation:li,transitionName:ja,dropdownStyle:va,dropdownClassName:$i,direction:hr,dropdownMatchSelectWidth:Xn,dropdownRender:Vi,dropdownAlign:Ra,placement:ji,builtinPlacements:_a,getPopupContainer:Ea,empty:nn,getTriggerDOMNode:function(Nr){return Pi.current||Nr},onPopupVisibleChange:jl,onPopupMouseEnter:el},ha?y.cloneElement(ha,{ref:Is}):y.createElement(qe,(0,xe.Z)({},T,{domRef:Pi,prefixCls:_e,inputElement:Za,ref:Yi,id:le,showSearch:ta,autoClearSearchValue:Mi,mode:Hr,activeDescendantId:hi,tagRender:Bt,values:Ir,open:ua,onToggleOpen:ln,activeValue:Ti,searchValue:Da,onSearch:Bi,onSearchSubmit:Ia,onRemove:cs,tokenWithEnter:In}))),_s;return ha?_s=Na:_s=y.createElement("div",(0,xe.Z)({className:Cl},Ha,{ref:no,onMouseDown:Ps,onKeyDown:xs,onKeyUp:Js,onFocus:Ya,onBlur:Cs}),y.createElement(Ae,{visible:Wa&&!ua,values:Ir}),Na,Fo,Hl&&ao),y.createElement(Xe.Provider,{value:tl},_s)}),Rt=zt,mr=function(){return null};mr.isSelectOptGroup=!0;var St=mr,pe=function(){return null};pe.isSelectOption=!0;var Yt=pe,Jt=E(56982),ir=E(98423),tr=E(85344);function rr(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var xn=["disabled","title","children","style","className"];function jr(T){return typeof T=="string"||typeof T=="number"}var gn=function(_,Q){var le=Ue(),_e=le.prefixCls,pt=le.id,ct=le.open,Bt=le.multiple,hr=le.mode,zr=le.searchValue,Ir=le.toggleOpen,Gt=le.notFoundContent,nn=le.onPopupScroll,kt=y.useContext(Re),Xr=kt.maxCount,Yr=kt.flattenOptions,Hr=kt.onActiveValue,On=kt.defaultActiveFirstOption,Fn=kt.onSelect,Nn=kt.menuItemSelectedIcon,_n=kt.rawValues,Pr=kt.fieldNames,vn=kt.virtual,kn=kt.direction,Ti=kt.listHeight,Oi=kt.listItemHeight,hi=kt.optionRender,Ri="".concat(_e,"-item"),Mi=(0,Jt.Z)(function(){return Yr},[ct,Yr],function(An,Cr){return Cr[0]&&An[1]!==Cr[1]}),Ai=y.useRef(null),di=y.useMemo(function(){return Bt&&dt(Xr)&&(_n==null?void 0:_n.size)>=Xr},[Bt,Xr,_n==null?void 0:_n.size]),Ii=function(Cr){Cr.preventDefault()},mi=function(Cr){var zn;(zn=Ai.current)===null||zn===void 0||zn.scrollTo(typeof Cr=="number"?{index:Cr}:Cr)},Kr=function(Cr){for(var zn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Gr=Mi.length,Er=0;Er<Gr;Er+=1){var Un=(Cr+Er*zn+Gr)%Gr,Kn=Mi[Un]||{},bn=Kn.group,xi=Kn.data;if(!bn&&!(xi!=null&&xi.disabled)&&!di)return Un}return-1},cn=y.useState(function(){return Kr(0)}),bi=(0,ne.Z)(cn,2),li=bi[0],ja=bi[1],va=function(Cr){var zn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ja(Cr);var Gr={source:zn?"keyboard":"mouse"},Er=Mi[Cr];if(!Er){Hr(null,-1,Gr);return}Hr(Er.value,Cr,Gr)};(0,y.useEffect)(function(){va(On!==!1?Kr(0):-1)},[Mi.length,zr]);var $i=y.useCallback(function(An){return _n.has(An)&&hr!=="combobox"},[hr,(0,te.Z)(_n).toString(),_n.size]);(0,y.useEffect)(function(){var An=setTimeout(function(){if(!Bt&&ct&&_n.size===1){var zn=Array.from(_n)[0],Gr=Mi.findIndex(function(Er){var Un=Er.data;return Un.value===zn});Gr!==-1&&(va(Gr),mi(Gr))}});if(ct){var Cr;(Cr=Ai.current)===null||Cr===void 0||Cr.scrollTo(void 0)}return function(){return clearTimeout(An)}},[ct,zr]);var Xn=function(Cr){Cr!==void 0&&Fn(Cr,{selected:!_n.has(Cr)}),Bt||Ir(!1)};if(y.useImperativeHandle(Q,function(){return{onKeyDown:function(Cr){var zn=Cr.which,Gr=Cr.ctrlKey;switch(zn){case fe.Z.N:case fe.Z.P:case fe.Z.UP:case fe.Z.DOWN:{var Er=0;if(zn===fe.Z.UP?Er=-1:zn===fe.Z.DOWN?Er=1:rr()&&Gr&&(zn===fe.Z.N?Er=1:zn===fe.Z.P&&(Er=-1)),Er!==0){var Un=Kr(li+Er,Er);mi(Un),va(Un,!0)}break}case fe.Z.ENTER:{var Kn,bn=Mi[li];bn&&!(bn!=null&&(Kn=bn.data)!==null&&Kn!==void 0&&Kn.disabled)&&!di?Xn(bn.value):Xn(void 0),ct&&Cr.preventDefault();break}case fe.Z.ESC:Ir(!1),ct&&Cr.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Cr){mi(Cr)}}}),Mi.length===0)return y.createElement("div",{role:"listbox",id:"".concat(pt,"_list"),className:"".concat(Ri,"-empty"),onMouseDown:Ii},Gt);var Vi=Object.keys(Pr).map(function(An){return Pr[An]}),Ra=function(Cr){return Cr.label};function ji(An,Cr){var zn=An.group;return{role:zn?"presentation":"option",id:"".concat(pt,"_list_").concat(Cr)}}var _a=function(Cr){var zn=Mi[Cr];if(!zn)return null;var Gr=zn.data||{},Er=Gr.value,Un=zn.group,Kn=(0,ae.Z)(Gr,!0),bn=Ra(zn);return zn?y.createElement("div",(0,xe.Z)({"aria-label":typeof bn=="string"&&!Un?bn:null},Kn,{key:Cr},ji(zn,Cr),{"aria-selected":$i(Er)}),Er):null},Ea={role:"listbox",id:"".concat(pt,"_list")};return y.createElement(y.Fragment,null,vn&&y.createElement("div",(0,xe.Z)({},Ea,{style:{height:0,width:0,overflow:"hidden"}}),_a(li-1),_a(li),_a(li+1)),y.createElement(tr.Z,{itemKey:"key",ref:Ai,data:Mi,height:Ti,itemHeight:Oi,fullHeight:!1,onMouseDown:Ii,onScroll:nn,virtual:vn,direction:kn,innerProps:vn?null:Ea},function(An,Cr){var zn=An.group,Gr=An.groupOption,Er=An.data,Un=An.label,Kn=An.value,bn=Er.key;if(zn){var xi,ta=(xi=Er.title)!==null&&xi!==void 0?xi:jr(Un)?Un.toString():void 0;return y.createElement("div",{className:je()(Ri,"".concat(Ri,"-group"),Er.className),title:ta},Un!==void 0?Un:bn)}var Ha=Er.disabled,Ta=Er.title,aa=Er.children,Ga=Er.style,ra=Er.className,no=(0,W.Z)(Er,xn),Pi=(0,ir.Z)(no,Vi),ni=$i(Kn),Yi=Ha||!ni&&di,sa="".concat(Ri,"-option"),pa=je()(Ri,sa,ra,(0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)({},"".concat(sa,"-grouped"),Gr),"".concat(sa,"-active"),li===Cr&&!Yi),"".concat(sa,"-disabled"),Yi),"".concat(sa,"-selected"),ni)),la=Ra(An),So=!Nn||typeof Nn=="function"||ni,Wa=typeof la=="number"?la:la||Kn,La=jr(Wa)?Wa.toString():void 0;return Ta!==void 0&&(La=Ta),y.createElement("div",(0,xe.Z)({},(0,ae.Z)(Pi),vn?{}:ji(An,Cr),{"aria-selected":ni,className:pa,title:La,onMouseMove:function(){li===Cr||Yi||va(Cr)},onClick:function(){Yi||Xn(Kn)},style:Ga}),y.createElement("div",{className:"".concat(sa,"-content")},typeof hi=="function"?hi(An,{index:Cr}):Wa),y.isValidElement(Nn)||ni,So&&y.createElement(et,{className:"".concat(Ri,"-option-state"),customizeIcon:Nn,customizeIconProps:{value:Kn,disabled:Yi,isSelected:ni}},ni?"\u2713":null))}))},ze=y.forwardRef(gn),ar=ze,vr=function(T,_){var Q=y.useRef({values:new Map,options:new Map}),le=y.useMemo(function(){var pt=Q.current,ct=pt.values,Bt=pt.options,hr=T.map(function(Gt){if(Gt.label===void 0){var nn;return(0,w.Z)((0,w.Z)({},Gt),{},{label:(nn=ct.get(Gt.value))===null||nn===void 0?void 0:nn.label})}return Gt}),zr=new Map,Ir=new Map;return hr.forEach(function(Gt){zr.set(Gt.value,Gt),Ir.set(Gt.value,_.get(Gt.value)||Bt.get(Gt.value))}),Q.current.values=zr,Q.current.options=Ir,hr},[T,_]),_e=y.useCallback(function(pt){return _.get(pt)||Q.current.options.get(pt)},[_]);return[le,_e]};function Tr(T,_){return Ye(T).join("").toUpperCase().includes(_)}var br=function(T,_,Q,le,_e){return y.useMemo(function(){if(!Q||le===!1)return T;var pt=_.options,ct=_.label,Bt=_.value,hr=[],zr=typeof le=="function",Ir=Q.toUpperCase(),Gt=zr?le:function(kt,Xr){return _e?Tr(Xr[_e],Ir):Xr[pt]?Tr(Xr[ct!=="children"?ct:"label"],Ir):Tr(Xr[Bt],Ir)},nn=zr?function(kt){return re(kt)}:function(kt){return kt};return T.forEach(function(kt){if(kt[pt]){var Xr=Gt(Q,nn(kt));if(Xr)hr.push(kt);else{var Yr=kt[pt].filter(function(Hr){return Gt(Q,nn(Hr))});Yr.length&&hr.push((0,w.Z)((0,w.Z)({},kt),{},(0,J.Z)({},pt,Yr)))}return}Gt(Q,nn(kt))&&hr.push(kt)}),hr},[T,le,_e,Q,_])},yn=E(98924),Vn=0,fr=(0,yn.Z)();function Qn(){var T;return fr?(T=Vn,Vn+=1):T="TEST_OR_SSR",T}function un(T){var _=y.useState(),Q=(0,ne.Z)(_,2),le=Q[0],_e=Q[1];return y.useEffect(function(){_e("rc_select_".concat(Qn()))},[]),T||le}var Wn=E(50344),Mn=["children","value"],fi=["children"];function Ei(T){var _=T,Q=_.key,le=_.props,_e=le.children,pt=le.value,ct=(0,W.Z)(le,Mn);return(0,w.Z)({key:Q,value:pt!==void 0?pt:Q,children:_e},ct)}function ti(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Wn.Z)(T).map(function(Q,le){if(!y.isValidElement(Q)||!Q.type)return null;var _e=Q,pt=_e.type.isSelectOptGroup,ct=_e.key,Bt=_e.props,hr=Bt.children,zr=(0,W.Z)(Bt,fi);return _||!pt?Ei(Q):(0,w.Z)((0,w.Z)({key:"__RC_SELECT_GRP__".concat(ct===null?le:ct,"__"),label:ct},zr),{},{options:ti(hr)})}).filter(function(Q){return Q})}var dn=function(_,Q,le,_e,pt){return y.useMemo(function(){var ct=_,Bt=!_;Bt&&(ct=ti(Q));var hr=new Map,zr=new Map,Ir=function(kt,Xr,Yr){Yr&&typeof Yr=="string"&&kt.set(Xr[Yr],Xr)},Gt=function nn(kt){for(var Xr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Yr=0;Yr<kt.length;Yr+=1){var Hr=kt[Yr];!Hr[le.options]||Xr?(hr.set(Hr[le.value],Hr),Ir(zr,Hr,le.label),Ir(zr,Hr,_e),Ir(zr,Hr,pt)):nn(Hr[le.options],!0)}};return Gt(ct),{options:ct,valueOptions:hr,labelOptions:zr}},[_,Q,le,_e,pt])},Dr=dn;function bt(T){var _=y.useRef();_.current=T;var Q=y.useCallback(function(){return _.current.apply(_,arguments)},[]);return Q}function on(T){var _=T.mode,Q=T.options,le=T.children,_e=T.backfill,pt=T.allowClear,ct=T.placeholder,Bt=T.getInputElement,hr=T.showSearch,zr=T.onSearch,Ir=T.defaultOpen,Gt=T.autoFocus,nn=T.labelInValue,kt=T.value,Xr=T.inputValue,Yr=T.optionLabelProp,Hr=isMultiple(_),On=hr!==void 0?hr:Hr||_==="combobox",Fn=Q||convertChildrenToData(le);if(warning(_!=="tags"||Fn.every(function(vn){return!vn.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),_==="tags"||_==="combobox"){var Nn=Fn.some(function(vn){return vn.options?vn.options.some(function(kn){return typeof("value"in kn?kn.value:kn.key)=="number"}):typeof("value"in vn?vn.value:vn.key)=="number"});warning(!Nn,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(_!=="combobox"||!Yr,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(_==="combobox"||!_e,"`backfill` only works with `combobox` mode."),warning(_==="combobox"||!Bt,"`getInputElement` only work with `combobox` mode."),noteOnce(_!=="combobox"||!Bt||!pt||!ct,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),zr&&!On&&_!=="combobox"&&_!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Ir||Gt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),kt!=null){var _n=toArray(kt);warning(!nn||_n.every(function(vn){return _typeof(vn)==="object"&&("key"in vn||"value"in vn)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Hr||Array.isArray(kt),"`value` should be array when `mode` is `multiple` or `tags`")}if(le){var Pr=null;toNodeArray(le).some(function(vn){if(!React.isValidElement(vn)||!vn.type)return!1;var kn=vn,Ti=kn.type;if(Ti.isSelectOption)return!1;if(Ti.isSelectOptGroup){var Oi=toNodeArray(vn.props.children).every(function(hi){return!React.isValidElement(hi)||!vn.type||hi.type.isSelectOption?!0:(Pr=hi.type,!1)});return!Oi}return Pr=Ti,!0}),Pr&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(Pr.displayName||Pr.name||Pr,"`.")),warning(Xr===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Se(T,_){if(T){var Q=function le(_e){for(var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ct=0;ct<_e.length;ct++){var Bt=_e[ct];if(Bt[_==null?void 0:_.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!pt&&Array.isArray(Bt[_==null?void 0:_.options])&&le(Bt[_==null?void 0:_.options],!0))break}};Q(T)}}var Ke=null,It=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],ot=["inputValue"];function Vt(T){return!T||(0,Z.Z)(T)!=="object"}var Rr=y.forwardRef(function(T,_){var Q=T.id,le=T.mode,_e=T.prefixCls,pt=_e===void 0?"rc-select":_e,ct=T.backfill,Bt=T.fieldNames,hr=T.inputValue,zr=T.searchValue,Ir=T.onSearch,Gt=T.autoClearSearchValue,nn=Gt===void 0?!0:Gt,kt=T.onSelect,Xr=T.onDeselect,Yr=T.dropdownMatchSelectWidth,Hr=Yr===void 0?!0:Yr,On=T.filterOption,Fn=T.filterSort,Nn=T.optionFilterProp,_n=T.optionLabelProp,Pr=T.options,vn=T.optionRender,kn=T.children,Ti=T.defaultActiveFirstOption,Oi=T.menuItemSelectedIcon,hi=T.virtual,Ri=T.direction,Mi=T.listHeight,Ai=Mi===void 0?200:Mi,di=T.listItemHeight,Ii=di===void 0?20:di,mi=T.labelRender,Kr=T.value,cn=T.defaultValue,bi=T.labelInValue,li=T.onChange,ja=T.maxCount,va=(0,W.Z)(T,It),$i=un(Q),Xn=Xt(le),Vi=!!(!Pr&&kn),Ra=y.useMemo(function(){return On===void 0&&le==="combobox"?!1:On},[On,le]),ji=y.useMemo(function(){return Dt(Bt,Vi)},[JSON.stringify(Bt),Vi]),_a=(0,ce.Z)("",{value:zr!==void 0?zr:hr,postState:function(In){return In||""}}),Ea=(0,ne.Z)(_a,2),An=Ea[0],Cr=Ea[1],zn=Dr(Pr,kn,ji,Nn,_n),Gr=zn.valueOptions,Er=zn.labelOptions,Un=zn.options,Kn=y.useCallback(function(ln){var In=Ye(ln);return In.map(function(Cn){var $n,Ci,Bi,Ia,Xa;if(Vt(Cn))$n=Cn;else{var Fa;Bi=Cn.key,Ci=Cn.label,$n=(Fa=Cn.value)!==null&&Fa!==void 0?Fa:Bi}var ga=Gr.get($n);if(ga){var Do;if(Ci===void 0&&(Ci=ga==null?void 0:ga[_n||ji.label]),Bi===void 0&&(Bi=(Do=ga==null?void 0:ga.key)!==null&&Do!==void 0?Do:$n),Ia=ga==null?void 0:ga.disabled,Xa=ga==null?void 0:ga.title,0)var xs}return{label:Ci,value:$n,key:Bi,disabled:Ia,title:Xa}})},[ji,_n,Gr]),bn=(0,ce.Z)(cn,{value:Kr}),xi=(0,ne.Z)(bn,2),ta=xi[0],Ha=xi[1],Ta=y.useMemo(function(){var ln,In=Xn&&ta===null?[]:ta,Cn=Kn(In);return le==="combobox"&&Ee((ln=Cn[0])===null||ln===void 0?void 0:ln.value)?[]:Cn},[ta,Kn,le,Xn]),aa=vr(Ta,Gr),Ga=(0,ne.Z)(aa,2),ra=Ga[0],no=Ga[1],Pi=y.useMemo(function(){if(!le&&ra.length===1){var ln=ra[0];if(ln.value===null&&(ln.label===null||ln.label===void 0))return[]}return ra.map(function(In){var Cn;return(0,w.Z)((0,w.Z)({},In),{},{label:(Cn=typeof mi=="function"?mi(In):In.label)!==null&&Cn!==void 0?Cn:In.value})})},[le,ra,mi]),ni=y.useMemo(function(){return new Set(ra.map(function(ln){return ln.value}))},[ra]);y.useEffect(function(){if(le==="combobox"){var ln,In=(ln=ra[0])===null||ln===void 0?void 0:ln.value;Cr(me(In)?String(In):"")}},[ra]);var Yi=bt(function(ln,In){var Cn=In!=null?In:ln;return(0,J.Z)((0,J.Z)({},ji.value,ln),ji.label,Cn)}),sa=y.useMemo(function(){if(le!=="tags")return Un;var ln=(0,te.Z)(Un),In=function($n){return Gr.has($n)};return(0,te.Z)(ra).sort(function(Cn,$n){return Cn.value<$n.value?-1:1}).forEach(function(Cn){var $n=Cn.value;In($n)||ln.push(Yi($n,Cn.label))}),ln},[Yi,Un,Gr,ra,le]),pa=br(sa,ji,An,Ra,Nn),la=y.useMemo(function(){return le!=="tags"||!An||pa.some(function(ln){return ln[Nn||"value"]===An})||pa.some(function(ln){return ln[ji.value]===An})?pa:[Yi(An)].concat((0,te.Z)(pa))},[Yi,Nn,le,pa,An,ji]),So=y.useMemo(function(){return Fn?(0,te.Z)(la).sort(function(ln,In){return Fn(ln,In)}):la},[la,Fn]),Wa=y.useMemo(function(){return nt(So,{fieldNames:ji,childrenAsData:Vi})},[So,ji,Vi]),La=function(In){var Cn=Kn(In);if(Ha(Cn),li&&(Cn.length!==ra.length||Cn.some(function(Bi,Ia){var Xa;return((Xa=ra[Ia])===null||Xa===void 0?void 0:Xa.value)!==(Bi==null?void 0:Bi.value)}))){var $n=bi?Cn:Cn.map(function(Bi){return Bi.value}),Ci=Cn.map(function(Bi){return re(no(Bi.value))});li(Xn?$n:$n[0],Xn?Ci:Ci[0])}},Xo=y.useState(null),Da=(0,ne.Z)(Xo,2),Za=Da[0],ha=Da[1],Is=y.useState(0),Ys=(0,ne.Z)(Is,2),Ks=Ys[0],ls=Ys[1],us=Ti!==void 0?Ti:le!=="combobox",Qs=y.useCallback(function(ln,In){var Cn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$n=Cn.source,Ci=$n===void 0?"keyboard":$n;ls(In),ct&&le==="combobox"&&ln!==null&&Ci==="keyboard"&&ha(String(ln))},[ct,le]),_o=function(In,Cn,$n){var Ci=function(){var io,Ya=no(In);return[bi?{label:Ya==null?void 0:Ya[ji.label],value:In,key:(io=Ya==null?void 0:Ya.key)!==null&&io!==void 0?io:In}:In,re(Ya)]};if(Cn&&kt){var Bi=Ci(),Ia=(0,ne.Z)(Bi,2),Xa=Ia[0],Fa=Ia[1];kt(Xa,Fa)}else if(!Cn&&Xr&&$n!=="clear"){var ga=Ci(),Do=(0,ne.Z)(ga,2),xs=Do[0],Js=Do[1];Xr(xs,Js)}},Yo=bt(function(ln,In){var Cn,$n=Xn?In.selected:!0;$n?Cn=Xn?[].concat((0,te.Z)(ra),[ln]):[ln]:Cn=ra.filter(function(Ci){return Ci.value!==ln}),La(Cn),_o(ln,$n),le==="combobox"?ha(""):(!Xt||nn)&&(Cr(""),ha(""))}),bs=function(In,Cn){La(In);var $n=Cn.type,Ci=Cn.values;($n==="remove"||$n==="clear")&&Ci.forEach(function(Bi){_o(Bi.value,!1,$n)})},ua=function(In,Cn){if(Cr(In),ha(null),Cn.source==="submit"){var $n=(In||"").trim();if($n){var Ci=Array.from(new Set([].concat((0,te.Z)(ni),[$n])));La(Ci),_o($n,!0),Cr("")}return}Cn.source!=="blur"&&(le==="combobox"&&La(In),Ir==null||Ir(In))},Lo=function(In){var Cn=In;le!=="tags"&&(Cn=In.map(function(Ci){var Bi=Er.get(Ci);return Bi==null?void 0:Bi.value}).filter(function(Ci){return Ci!==void 0}));var $n=Array.from(new Set([].concat((0,te.Z)(ni),(0,te.Z)(Cn))));La($n),$n.forEach(function(Ci){_o(Ci,!0)})},Ko=y.useMemo(function(){var ln=hi!==!1&&Hr!==!1;return(0,w.Z)((0,w.Z)({},zn),{},{flattenOptions:Wa,onActiveValue:Qs,defaultActiveFirstOption:us,onSelect:Yo,menuItemSelectedIcon:Oi,rawValues:ni,fieldNames:ji,virtual:ln,direction:Ri,listHeight:Ai,listItemHeight:Ii,childrenAsData:Vi,maxCount:ja,optionRender:vn})},[ja,zn,Wa,Qs,us,Yo,Oi,ni,ji,hi,Hr,Ri,Ai,Ii,Vi,vn]);return y.createElement(Re.Provider,{value:Ko},y.createElement(Rt,(0,xe.Z)({},va,{id:$i,prefixCls:pt,ref:_,omitDomProps:ot,mode:le,displayValues:Pi,onDisplayValuesChange:bs,direction:Ri,searchValue:An,onSearch:ua,autoClearSearchValue:nn,onSearchSplit:Lo,dropdownMatchSelectWidth:Hr,OptionList:ar,emptyOptions:!Wa.length,activeValue:Za,activeDescendantId:"".concat($i,"_list_").concat(Ks)})))}),Tn=Rr;Tn.Option=Yt,Tn.OptGroup=St;var G=Tn,ye=G,Oe=E(87263),ve=E(33603),He=E(8745),wt=E(9708),pr=E(53124),xr=E(10110),Fr=E(84780),Ht=E(25976),Wr=()=>{const[,T]=(0,Ht.ZP)(),Q=new Fr.C(T.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return y.createElement("svg",{style:Q,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(24 31.67)"},y.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),y.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),y.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),y.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),y.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),y.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),y.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},y.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),y.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},hn=()=>{const[,T]=(0,Ht.ZP)(),{colorFill:_,colorFillTertiary:Q,colorFillQuaternary:le,colorBgContainer:_e}=T,{borderColor:pt,shadowColor:ct,contentColor:Bt}=(0,y.useMemo)(()=>({borderColor:new Fr.C(_).onBackground(_e).toHexShortString(),shadowColor:new Fr.C(Q).onBackground(_e).toHexShortString(),contentColor:new Fr.C(le).onBackground(_e).toHexShortString()}),[_,Q,le,_e]);return y.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},y.createElement("ellipse",{fill:ct,cx:"32",cy:"33",rx:"32",ry:"7"}),y.createElement("g",{fillRule:"nonzero",stroke:pt},y.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),y.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:Bt}))))},Ct=E(48132),kr=E(45503);const qr=T=>{const{componentCls:_,margin:Q,marginXS:le,marginXL:_e,fontSize:pt,lineHeight:ct}=T;return{[_]:{marginInline:le,fontSize:pt,lineHeight:ct,textAlign:"center",[`${_}-image`]:{height:T.emptyImgHeight,marginBottom:le,opacity:T.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${_}-description`]:{color:T.colorText},[`${_}-footer`]:{marginTop:Q},"&-normal":{marginBlock:_e,color:T.colorTextDescription,[`${_}-description`]:{color:T.colorTextDescription},[`${_}-image`]:{height:T.emptyImgHeightMD}},"&-small":{marginBlock:le,color:T.colorTextDescription,[`${_}-image`]:{height:T.emptyImgHeightSM}}}}};var mn=(0,Ct.I$)("Empty",T=>{const{componentCls:_,controlHeightLG:Q,calc:le}=T,_e=(0,kr.TS)(T,{emptyImgCls:`${_}-img`,emptyImgHeight:le(Q).mul(2.5).equal(),emptyImgHeightMD:Q,emptyImgHeightSM:le(Q).mul(.875).equal()});return[qr(_e)]}),sn=function(T,_){var Q={};for(var le in T)Object.prototype.hasOwnProperty.call(T,le)&&_.indexOf(le)<0&&(Q[le]=T[le]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,le=Object.getOwnPropertySymbols(T);_e<le.length;_e++)_.indexOf(le[_e])<0&&Object.prototype.propertyIsEnumerable.call(T,le[_e])&&(Q[le[_e]]=T[le[_e]]);return Q};const en=y.createElement(Wr,null),tn=y.createElement(hn,null),gr=T=>{var{className:_,rootClassName:Q,prefixCls:le,image:_e=en,description:pt,children:ct,imageStyle:Bt,style:hr}=T,zr=sn(T,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:Ir,direction:Gt,empty:nn}=y.useContext(pr.E_),kt=Ir("empty",le),[Xr,Yr,Hr]=mn(kt),[On]=(0,xr.Z)("Empty"),Fn=typeof pt!="undefined"?pt:On==null?void 0:On.description,Nn=typeof Fn=="string"?Fn:"empty";let _n=null;return typeof _e=="string"?_n=y.createElement("img",{alt:Nn,src:_e}):_n=_e,Xr(y.createElement("div",Object.assign({className:U()(Yr,Hr,kt,nn==null?void 0:nn.className,{[`${kt}-normal`]:_e===tn,[`${kt}-rtl`]:Gt==="rtl"},_,Q),style:Object.assign(Object.assign({},nn==null?void 0:nn.style),hr)},zr),y.createElement("div",{className:`${kt}-image`,style:Bt},_n),Fn&&y.createElement("div",{className:`${kt}-description`},Fn),ct&&y.createElement("div",{className:`${kt}-footer`},ct)))};gr.PRESENTED_IMAGE_DEFAULT=en,gr.PRESENTED_IMAGE_SIMPLE=tn;var Sn=gr,ri=T=>{const{componentName:_}=T,{getPrefixCls:Q}=(0,y.useContext)(pr.E_),le=Q("empty");switch(_){case"Table":case"List":return y.createElement(Sn,{image:Sn.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return y.createElement(Sn,{image:Sn.PRESENTED_IMAGE_SIMPLE,className:`${le}-small`});default:return y.createElement(Sn,null)}},it=E(98866),Br=E(35792),Di=E(98675),Zi=E(78347),Ni=E(27833),wn=E(4173);const Jn=T=>{const Q={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:T==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},Q),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},Q),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},Q),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},Q),{points:["br","tr"],offset:[0,-4]})}};function Si(T,_){return T||Jn(_)}var ea=Si,Yn=E(14747),Zn=E(80110),Xi=E(67771),Ma=E(33297);const $a=T=>{const{optionHeight:_,optionFontSize:Q,optionLineHeight:le,optionPadding:_e}=T;return{position:"relative",display:"block",minHeight:_,padding:_e,color:T.colorText,fontWeight:"normal",fontSize:Q,lineHeight:le,boxSizing:"border-box"}};var Io=T=>{const{antCls:_,componentCls:Q}=T,le=`${Q}-item`,_e=`&${_}-slide-up-enter${_}-slide-up-enter-active`,pt=`&${_}-slide-up-appear${_}-slide-up-appear-active`,ct=`&${_}-slide-up-leave${_}-slide-up-leave-active`,Bt=`${Q}-dropdown-placement-`;return[{[`${Q}-dropdown`]:Object.assign(Object.assign({},(0,Yn.Wf)(T)),{position:"absolute",top:-9999,zIndex:T.zIndexPopup,boxSizing:"border-box",padding:T.paddingXXS,overflow:"hidden",fontSize:T.fontSize,fontVariant:"initial",backgroundColor:T.colorBgElevated,borderRadius:T.borderRadiusLG,outline:"none",boxShadow:T.boxShadowSecondary,[`
          ${_e}${Bt}bottomLeft,
          ${pt}${Bt}bottomLeft
        `]:{animationName:Xi.fJ},[`
          ${_e}${Bt}topLeft,
          ${pt}${Bt}topLeft,
          ${_e}${Bt}topRight,
          ${pt}${Bt}topRight
        `]:{animationName:Xi.Qt},[`${ct}${Bt}bottomLeft`]:{animationName:Xi.Uw},[`
          ${ct}${Bt}topLeft,
          ${ct}${Bt}topRight
        `]:{animationName:Xi.ly},"&-hidden":{display:"none"},[`${le}`]:Object.assign(Object.assign({},$a(T)),{cursor:"pointer",transition:`background ${T.motionDurationSlow} ease`,borderRadius:T.borderRadiusSM,"&-group":{color:T.colorTextDescription,fontSize:T.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Yn.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${le}-option-disabled)`]:{backgroundColor:T.optionActiveBg},[`&-selected:not(${le}-option-disabled)`]:{color:T.optionSelectedColor,fontWeight:T.optionSelectedFontWeight,backgroundColor:T.optionSelectedBg,[`${le}-option-state`]:{color:T.colorPrimary},[`&:has(+ ${le}-option-selected:not(${le}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${le}-option-selected:not(${le}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${le}-option-selected`]:{backgroundColor:T.colorBgContainerDisabled},color:T.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:T.calc(T.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},$a(T)),{color:T.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},(0,Xi.oN)(T,"slide-up"),(0,Xi.oN)(T,"slide-down"),(0,Ma.Fm)(T,"move-up"),(0,Ma.Fm)(T,"move-down")]},wi=E(54548);const lo=T=>{const{multipleSelectItemHeight:_,paddingXXS:Q,lineWidth:le,INTERNAL_FIXED_ITEM_MARGIN:_e}=T,pt=T.max(T.calc(Q).sub(le).equal(),0),ct=T.max(T.calc(pt).sub(_e).equal(),0);return{basePadding:pt,containerPadding:ct,itemHeight:(0,wi.unit)(_),itemLineHeight:(0,wi.unit)(T.calc(_).sub(T.calc(T.lineWidth).mul(2)).equal())}},qa=T=>{const{multipleSelectItemHeight:_,selectHeight:Q,lineWidth:le}=T;return T.calc(Q).sub(_).div(2).sub(le).equal()},ai=T=>{const{componentCls:_,iconCls:Q,borderRadiusSM:le,motionDurationSlow:_e,paddingXS:pt,multipleItemColorDisabled:ct,multipleItemBorderColorDisabled:Bt,colorIcon:hr,colorIconHover:zr,INTERNAL_FIXED_ITEM_MARGIN:Ir}=T;return{[`${_}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${_}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:Ir,borderRadius:le,cursor:"default",transition:`font-size ${_e}, line-height ${_e}, height ${_e}`,marginInlineEnd:T.calc(Ir).mul(2).equal(),paddingInlineStart:pt,paddingInlineEnd:T.calc(pt).div(2).equal(),[`${_}-disabled&`]:{color:ct,borderColor:Bt,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:T.calc(pt).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Yn.Ro)()),{display:"inline-flex",alignItems:"center",color:hr,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Q}`]:{verticalAlign:"-0.2em"},"&:hover":{color:zr}})}}}},Ln=(T,_)=>{const{componentCls:Q,INTERNAL_FIXED_ITEM_MARGIN:le}=T,_e=`${Q}-selection-overflow`,pt=T.multipleSelectItemHeight,ct=qa(T),Bt=_?`${Q}-${_}`:"",hr=lo(T);return{[`${Q}-multiple${Bt}`]:Object.assign(Object.assign({},ai(T)),{[`${Q}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:hr.basePadding,paddingBlock:hr.containerPadding,borderRadius:T.borderRadius,[`${Q}-disabled&`]:{background:T.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,wi.unit)(le)} 0`,lineHeight:(0,wi.unit)(pt),visibility:"hidden",content:'"\\a0"'}},[`${Q}-selection-item`]:{height:hr.itemHeight,lineHeight:(0,wi.unit)(hr.itemLineHeight)},[`${_e}-item + ${_e}-item`]:{[`${Q}-selection-search`]:{marginInlineStart:0}},[`${_e}-item-suffix`]:{height:"100%"},[`${Q}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:T.calc(T.inputPaddingHorizontalBase).sub(ct).equal(),"\n          &-input,\n          &-mirror\n        ":{height:pt,fontFamily:T.fontFamily,lineHeight:(0,wi.unit)(pt),transition:`all ${T.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Q}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:T.inputPaddingHorizontalBase,insetInlineEnd:T.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${T.motionDurationSlow}`}})}};function Ie(T,_){const{componentCls:Q}=T,le=_?`${Q}-${_}`:"",_e={[`${Q}-multiple${le}`]:{fontSize:T.fontSize,[`${Q}-selector`]:{[`${Q}-show-search&`]:{cursor:"text"}},[`
        &${Q}-show-arrow ${Q}-selector,
        &${Q}-allow-clear ${Q}-selector
      `]:{paddingInlineEnd:T.calc(T.fontSizeIcon).add(T.controlPaddingHorizontal).equal()}}};return[Ln(T,_),_e]}var eo=T=>{const{componentCls:_}=T,Q=(0,kr.TS)(T,{selectHeight:T.controlHeightSM,multipleSelectItemHeight:T.multipleItemHeightSM,borderRadius:T.borderRadiusSM,borderRadiusSM:T.borderRadiusXS}),le=(0,kr.TS)(T,{fontSize:T.fontSizeLG,selectHeight:T.controlHeightLG,multipleSelectItemHeight:T.multipleItemHeightLG,borderRadius:T.borderRadiusLG,borderRadiusSM:T.borderRadius});return[Ie(T),Ie(Q,"sm"),{[`${_}-multiple${_}-sm`]:{[`${_}-selection-placeholder`]:{insetInline:T.calc(T.controlPaddingHorizontalSM).sub(T.lineWidth).equal()},[`${_}-selection-search`]:{marginInlineStart:2}}},Ie(le,"lg")]};function N(T,_){const{componentCls:Q,inputPaddingHorizontalBase:le,borderRadius:_e}=T,pt=T.calc(T.controlHeight).sub(T.calc(T.lineWidth).mul(2)).equal(),ct=_?`${Q}-${_}`:"";return{[`${Q}-single${ct}`]:{fontSize:T.fontSize,height:T.controlHeight,[`${Q}-selector`]:Object.assign(Object.assign({},(0,Yn.Wf)(T,!0)),{display:"flex",borderRadius:_e,[`${Q}-selection-search`]:{position:"absolute",top:0,insetInlineStart:le,insetInlineEnd:le,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${Q}-selection-item,
          ${Q}-selection-placeholder
        `]:{padding:0,lineHeight:(0,wi.unit)(pt),transition:`all ${T.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${Q}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${Q}-selection-item:empty:after`,`${Q}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${Q}-show-arrow ${Q}-selection-item,
        &${Q}-show-arrow ${Q}-selection-placeholder
      `]:{paddingInlineEnd:T.showArrowPaddingInlineEnd},[`&${Q}-open ${Q}-selection-item`]:{color:T.colorTextPlaceholder},[`&:not(${Q}-customize-input)`]:{[`${Q}-selector`]:{width:"100%",height:"100%",padding:`0 ${(0,wi.unit)(le)}`,[`${Q}-selection-search-input`]:{height:pt},"&:after":{lineHeight:(0,wi.unit)(pt)}}},[`&${Q}-customize-input`]:{[`${Q}-selector`]:{"&:after":{display:"none"},[`${Q}-selection-search`]:{position:"static",width:"100%"},[`${Q}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,wi.unit)(le)}`,"&:after":{display:"none"}}}}}}}function be(T){const{componentCls:_}=T,Q=T.calc(T.controlPaddingHorizontalSM).sub(T.lineWidth).equal();return[N(T),N((0,kr.TS)(T,{controlHeight:T.controlHeightSM,borderRadius:T.borderRadiusSM}),"sm"),{[`${_}-single${_}-sm`]:{[`&:not(${_}-customize-input)`]:{[`${_}-selection-search`]:{insetInlineStart:Q,insetInlineEnd:Q},[`${_}-selector`]:{padding:`0 ${(0,wi.unit)(Q)}`},[`&${_}-show-arrow ${_}-selection-search`]:{insetInlineEnd:T.calc(Q).add(T.calc(T.fontSize).mul(1.5)).equal()},[`
            &${_}-show-arrow ${_}-selection-item,
            &${_}-show-arrow ${_}-selection-placeholder
          `]:{paddingInlineEnd:T.calc(T.fontSize).mul(1.5).equal()}}}},N((0,kr.TS)(T,{controlHeight:T.singleItemHeightLG,fontSize:T.fontSizeLG,borderRadius:T.borderRadiusLG}),"lg")]}const Be=T=>{const{fontSize:_,lineHeight:Q,lineWidth:le,controlHeight:_e,controlHeightSM:pt,controlHeightLG:ct,paddingXXS:Bt,controlPaddingHorizontal:hr,zIndexPopupBase:zr,colorText:Ir,fontWeightStrong:Gt,controlItemBgActive:nn,controlItemBgHover:kt,colorBgContainer:Xr,colorFillSecondary:Yr,colorBgContainerDisabled:Hr,colorTextDisabled:On}=T,Fn=Bt*2,Nn=le*2,_n=Math.min(_e-Fn,_e-Nn),Pr=Math.min(pt-Fn,pt-Nn),vn=Math.min(ct-Fn,ct-Nn);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(Bt/2),zIndexPopup:zr+50,optionSelectedColor:Ir,optionSelectedFontWeight:Gt,optionSelectedBg:nn,optionActiveBg:kt,optionPadding:`${(_e-_*Q)/2}px ${hr}px`,optionFontSize:_,optionLineHeight:Q,optionHeight:_e,selectorBg:Xr,clearBg:Xr,singleItemHeightLG:ct,multipleItemBg:Yr,multipleItemBorderColor:"transparent",multipleItemHeight:_n,multipleItemHeightSM:Pr,multipleItemHeightLG:vn,multipleSelectorBgDisabled:Hr,multipleItemColorDisabled:On,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(T.fontSize*1.25)}},Nt=(T,_)=>{const{componentCls:Q,antCls:le,controlOutlineWidth:_e}=T;return{[`&:not(${Q}-customize-input) ${Q}-selector`]:{border:`${(0,wi.unit)(T.lineWidth)} ${T.lineType} ${_.borderColor}`,background:T.selectorBg},[`&:not(${Q}-disabled):not(${Q}-customize-input):not(${le}-pagination-size-changer)`]:{[`&:hover ${Q}-selector`]:{borderColor:_.hoverBorderHover},[`${Q}-focused& ${Q}-selector`]:{borderColor:_.activeBorderColor,boxShadow:`0 0 0 ${(0,wi.unit)(_e)} ${_.activeShadowColor}`,outline:0}}}},yr=(T,_)=>({[`&${T.componentCls}-status-${_.status}`]:Object.assign({},Nt(T,_))}),qn=T=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},Nt(T,{borderColor:T.colorBorder,hoverBorderHover:T.colorPrimaryHover,activeBorderColor:T.colorPrimary,activeShadowColor:T.controlOutline})),yr(T,{status:"error",borderColor:T.colorError,hoverBorderHover:T.colorErrorHover,activeBorderColor:T.colorError,activeShadowColor:T.colorErrorOutline})),yr(T,{status:"warning",borderColor:T.colorWarning,hoverBorderHover:T.colorWarningHover,activeBorderColor:T.colorWarning,activeShadowColor:T.colorWarningOutline})),{[`&${T.componentCls}-disabled`]:{[`&:not(${T.componentCls}-customize-input) ${T.componentCls}-selector`]:{background:T.colorBgContainerDisabled,color:T.colorTextDisabled}},[`&${T.componentCls}-multiple ${T.componentCls}-selection-item`]:{background:T.multipleItemBg,border:`${(0,wi.unit)(T.lineWidth)} ${T.lineType} ${T.multipleItemBorderColor}`}})}),Hi=(T,_)=>{const{componentCls:Q,antCls:le}=T;return{[`&:not(${Q}-customize-input) ${Q}-selector`]:{background:_.bg,border:`${(0,wi.unit)(T.lineWidth)} ${T.lineType} transparent`,color:_.color},[`&:not(${Q}-disabled):not(${Q}-customize-input):not(${le}-pagination-size-changer)`]:{[`&:hover ${Q}-selector`]:{background:_.hoverBg},[`${Q}-focused& ${Q}-selector`]:{background:T.selectorBg,borderColor:_.activeBorderColor,outline:0}}}},Fe=(T,_)=>({[`&${T.componentCls}-status-${_.status}`]:Object.assign({},Hi(T,_))}),Aa=T=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Hi(T,{bg:T.colorFillTertiary,hoverBg:T.colorFillSecondary,activeBorderColor:T.colorPrimary,color:T.colorText})),Fe(T,{status:"error",bg:T.colorErrorBg,hoverBg:T.colorErrorBgHover,activeBorderColor:T.colorError,color:T.colorError})),Fe(T,{status:"warning",bg:T.colorWarningBg,hoverBg:T.colorWarningBgHover,activeBorderColor:T.colorWarning,color:T.colorWarning})),{[`&${T.componentCls}-disabled`]:{[`&:not(${T.componentCls}-customize-input) ${T.componentCls}-selector`]:{borderColor:T.colorBorder,background:T.colorBgContainerDisabled,color:T.colorTextDisabled}},[`&${T.componentCls}-multiple ${T.componentCls}-selection-item`]:{background:T.colorBgContainer,border:`${(0,wi.unit)(T.lineWidth)} ${T.lineType} ${T.colorSplit}`}})}),oi=T=>({"&-borderless":{[`${T.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${T.componentCls}-disabled`]:{[`&:not(${T.componentCls}-customize-input) ${T.componentCls}-selector`]:{color:T.colorTextDisabled}},[`&${T.componentCls}-multiple ${T.componentCls}-selection-item`]:{background:T.multipleItemBg,border:`${(0,wi.unit)(T.lineWidth)} ${T.lineType} ${T.multipleItemBorderColor}`}}});var Eo=T=>({[T.componentCls]:Object.assign(Object.assign(Object.assign({},qn(T)),Aa(T)),oi(T))});const vo=T=>{const{componentCls:_}=T;return{position:"relative",transition:`all ${T.motionDurationMid} ${T.motionEaseInOut}`,input:{cursor:"pointer"},[`${_}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${_}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Go=T=>{const{componentCls:_}=T;return{[`${_}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},To=T=>{const{antCls:_,componentCls:Q,inputPaddingHorizontalBase:le,iconCls:_e}=T;return{[Q]:Object.assign(Object.assign({},(0,Yn.Wf)(T)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${Q}-customize-input) ${Q}-selector`]:Object.assign(Object.assign({},vo(T)),Go(T)),[`${Q}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Yn.vS),{[`> ${_}-typography`]:{display:"inline"}}),[`${Q}-selection-placeholder`]:Object.assign(Object.assign({},Yn.vS),{flex:1,color:T.colorTextPlaceholder,pointerEvents:"none"}),[`${Q}-arrow`]:Object.assign(Object.assign({},(0,Yn.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:le,height:T.fontSizeIcon,marginTop:T.calc(T.fontSizeIcon).mul(-1).div(2).equal(),color:T.colorTextQuaternary,fontSize:T.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${T.motionDurationSlow} ease`,[_e]:{verticalAlign:"top",transition:`transform ${T.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${Q}-suffix)`]:{pointerEvents:"auto"}},[`${Q}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${Q}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:le,zIndex:1,display:"inline-block",width:T.fontSizeIcon,height:T.fontSizeIcon,marginTop:T.calc(T.fontSizeIcon).mul(-1).div(2).equal(),color:T.colorTextQuaternary,fontSize:T.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${T.motionDurationMid} ease, opacity ${T.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:T.colorTextTertiary}},"&:hover":{[`${Q}-clear`]:{opacity:1},[`${Q}-arrow:not(:last-child)`]:{opacity:0}}}),[`${Q}-has-feedback`]:{[`${Q}-clear`]:{insetInlineEnd:T.calc(le).add(T.fontSize).add(T.paddingXS).equal()}}}},Po=T=>{const{componentCls:_}=T;return[{[_]:{[`&${_}-in-form-item`]:{width:"100%"}}},To(T),be(T),eo(T),Io(T),{[`${_}-rtl`]:{direction:"rtl"}},(0,Zn.c)(T,{borderElCls:`${_}-selector`,focusElCls:`${_}-focused`})]};var uo=(0,Ct.I$)("Select",(T,_)=>{let{rootPrefixCls:Q}=_;const le=(0,kr.TS)(T,{rootPrefixCls:Q,inputPaddingHorizontalBase:T.calc(T.paddingSM).sub(1).equal(),multipleSelectItemHeight:T.multipleItemHeight,selectHeight:T.controlHeight});return[Po(le),Eo(le)]},Be,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),gs=E(35918),to=E(41322),co=E(84481),D=E(83963),Xs=E(66023),Ca=E(82828),Ro=function(_,Q){return y.createElement(Ca.Z,(0,D.Z)({},_,{ref:Q,icon:Xs.Z}))},po=y.forwardRef(Ro),rn=po,Dn=E(22508),ro=E(13805);function Wo(T){let{suffixIcon:_,clearIcon:Q,menuItemSelectedIcon:le,removeIcon:_e,loading:pt,multiple:ct,hasFeedback:Bt,prefixCls:hr,showSuffixIcon:zr,feedbackIcon:Ir,showArrow:Gt,componentName:nn}=T;const kt=Q!=null?Q:y.createElement(to.Z,null),Xr=Fn=>_===null&&!Bt&&!Gt?null:y.createElement(y.Fragment,null,zr!==!1&&Fn,Bt&&Ir);let Yr=null;if(_!==void 0)Yr=Xr(_);else if(pt)Yr=Xr(y.createElement(Dn.Z,{spin:!0}));else{const Fn=`${hr}-suffix`;Yr=Nn=>{let{open:_n,showSearch:Pr}=Nn;return Xr(_n&&Pr?y.createElement(ro.Z,{className:Fn}):y.createElement(rn,{className:Fn}))}}let Hr=null;le!==void 0?Hr=le:ct?Hr=y.createElement(gs.Z,null):Hr=null;let On=null;return _e!==void 0?On=_e:On=y.createElement(co.Z,null),{clearIcon:kt,suffixIcon:Yr,itemIcon:Hr,removeIcon:On}}function Zo(T,_){return _!==void 0?_:T!==null}var bl=function(T,_){var Q={};for(var le in T)Object.prototype.hasOwnProperty.call(T,le)&&_.indexOf(le)<0&&(Q[le]=T[le]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,le=Object.getOwnPropertySymbols(T);_e<le.length;_e++)_.indexOf(le[_e])<0&&Object.prototype.propertyIsEnumerable.call(T,le[_e])&&(Q[le[_e]]=T[le[_e]]);return Q};const ys="SECRET_COMBOBOX_MODE_DO_NOT_USE",Zr=(T,_)=>{var Q;const{prefixCls:le,bordered:_e,className:pt,rootClassName:ct,getPopupContainer:Bt,popupClassName:hr,dropdownClassName:zr,listHeight:Ir=256,placement:Gt,listItemHeight:nn,size:kt,disabled:Xr,notFoundContent:Yr,status:Hr,builtinPlacements:On,dropdownMatchSelectWidth:Fn,popupMatchSelectWidth:Nn,direction:_n,style:Pr,allowClear:vn,variant:kn,dropdownStyle:Ti,transitionName:Oi,tagRender:hi,maxCount:Ri}=T,Mi=bl(T,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:Ai,getPrefixCls:di,renderEmpty:Ii,direction:mi,virtual:Kr,popupMatchSelectWidth:cn,popupOverflow:bi,select:li}=y.useContext(pr.E_),[,ja]=(0,Ht.ZP)(),va=nn!=null?nn:ja==null?void 0:ja.controlHeight,$i=di("select",le),Xn=di(),Vi=_n!=null?_n:mi,{compactSize:Ra,compactItemClassnames:ji}=(0,wn.ri)($i,Vi),[_a,Ea]=(0,Ni.Z)(kn,_e),An=(0,Br.Z)($i),[Cr,zn,Gr]=uo($i,An),Er=y.useMemo(()=>{const{mode:Za}=T;if(Za!=="combobox")return Za===ys?"combobox":Za},[T.mode]),Un=Er==="multiple"||Er==="tags",Kn=Zo(T.suffixIcon,T.showArrow),bn=(Q=Nn!=null?Nn:Fn)!==null&&Q!==void 0?Q:cn,{status:xi,hasFeedback:ta,isFormItemInput:Ha,feedbackIcon:Ta}=y.useContext(Zi.aM),aa=(0,wt.F)(xi,Hr);let Ga;Yr!==void 0?Ga=Yr:Er==="combobox"?Ga=null:Ga=(Ii==null?void 0:Ii("Select"))||y.createElement(ri,{componentName:"Select"});const{suffixIcon:ra,itemIcon:no,removeIcon:Pi,clearIcon:ni}=Wo(Object.assign(Object.assign({},Mi),{multiple:Un,hasFeedback:ta,feedbackIcon:Ta,showSuffixIcon:Kn,prefixCls:$i,componentName:"Select"})),Yi=vn===!0?{clearIcon:ni}:vn,sa=(0,ir.Z)(Mi,["suffixIcon","itemIcon"]),pa=U()(hr||zr,{[`${$i}-dropdown-${Vi}`]:Vi==="rtl"},ct,Gr,An,zn),la=(0,Di.Z)(Za=>{var ha;return(ha=kt!=null?kt:Ra)!==null&&ha!==void 0?ha:Za}),So=y.useContext(it.Z),Wa=Xr!=null?Xr:So,La=U()({[`${$i}-lg`]:la==="large",[`${$i}-sm`]:la==="small",[`${$i}-rtl`]:Vi==="rtl",[`${$i}-${_a}`]:Ea,[`${$i}-in-form-item`]:Ha},(0,wt.Z)($i,aa,ta),ji,li==null?void 0:li.className,pt,ct,Gr,An,zn),Xo=y.useMemo(()=>Gt!==void 0?Gt:Vi==="rtl"?"bottomRight":"bottomLeft",[Gt,Vi]),[Da]=(0,Oe.Cn)("SelectLike",Ti==null?void 0:Ti.zIndex);return Cr(y.createElement(ye,Object.assign({ref:_,virtual:Kr,showSearch:li==null?void 0:li.showSearch},sa,{style:Object.assign(Object.assign({},li==null?void 0:li.style),Pr),dropdownMatchSelectWidth:bn,transitionName:(0,ve.m)(Xn,"slide-up",Oi),builtinPlacements:ea(On,bi),listHeight:Ir,listItemHeight:va,mode:Er,prefixCls:$i,placement:Xo,direction:Vi,suffixIcon:ra,menuItemSelectedIcon:no,removeIcon:Pi,allowClear:Yi,notFoundContent:Ga,className:La,getPopupContainer:Bt||Ai,dropdownClassName:pa,disabled:Wa,dropdownStyle:Object.assign(Object.assign({},Ti),{zIndex:Da}),maxCount:Un?Ri:void 0,tagRender:Un?hi:void 0})))},si=y.forwardRef(Zr),wr=(0,He.Z)(si);si.SECRET_COMBOBOX_MODE_DO_NOT_USE=ys,si.Option=Yt,si.OptGroup=St,si._InternalPanelDoNotUseOrYouWillBeFired=wr;var As=si},78957:function($t,we,E){"use strict";E.d(we,{Z:function(){return fe}});var y=E(67294),M=E(13144),U=E.n(M),xe=E(50344);function te(Ne){return["small","middle","large"].includes(Ne)}function J(Ne){return Ne?typeof Ne=="number"&&!Number.isNaN(Ne):!1}var w=E(53124),ne=E(4173);const W=y.createContext({latestIndex:0}),Z=W.Provider;var Ce=Ne=>{let{className:Ve,index:et,children:tt,split:Xe,style:Ue}=Ne;const{latestIndex:Mt}=y.useContext(W);return tt==null?null:y.createElement(y.Fragment,null,y.createElement("div",{className:Ve,style:Ue},tt),et<Mt&&Xe&&y.createElement("span",{className:`${Ve}-split`},Xe))},de=E(51916),je=function(Ne,Ve){var et={};for(var tt in Ne)Object.prototype.hasOwnProperty.call(Ne,tt)&&Ve.indexOf(tt)<0&&(et[tt]=Ne[tt]);if(Ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,tt=Object.getOwnPropertySymbols(Ne);Xe<tt.length;Xe++)Ve.indexOf(tt[Xe])<0&&Object.prototype.propertyIsEnumerable.call(Ne,tt[Xe])&&(et[tt[Xe]]=Ne[tt[Xe]]);return et};const rt=y.forwardRef((Ne,Ve)=>{var et,tt;const{getPrefixCls:Xe,space:Ue,direction:Mt}=y.useContext(w.E_),{size:Qt=(Ue==null?void 0:Ue.size)||"small",align:vt,className:he,rootClassName:ae,children:xt,direction:Pe="horizontal",prefixCls:Pt,split:Lt,style:Ye,wrap:Le=!1,classNames:Y,styles:me}=Ne,Ee=je(Ne,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[Ge,gt]=Array.isArray(Qt)?Qt:[Qt,Qt],at=te(gt),Ze=te(Ge),De=J(gt),We=J(Ge),er=(0,xe.Z)(xt,{keepEmpty:!0}),Ft=vt===void 0&&Pe==="horizontal"?"center":vt,or=Xe("space",Pt),[Ar,$r,qe]=(0,de.Z)(or),ke=U()(or,Ue==null?void 0:Ue.className,$r,`${or}-${Pe}`,{[`${or}-rtl`]:Mt==="rtl",[`${or}-align-${Ft}`]:Ft,[`${or}-gap-row-${gt}`]:at,[`${or}-gap-col-${Ge}`]:Ze},he,ae,qe),Et=U()(`${or}-item`,(et=Y==null?void 0:Y.item)!==null&&et!==void 0?et:(tt=Ue==null?void 0:Ue.classNames)===null||tt===void 0?void 0:tt.item);let cr=0;const Lr=er.map((Te,$e)=>{var dt,Dt;Te!=null&&(cr=$e);const nt=Te&&Te.key||`${Et}-${$e}`;return y.createElement(Ce,{className:Et,key:nt,index:$e,split:Lt,style:(dt=me==null?void 0:me.item)!==null&&dt!==void 0?dt:(Dt=Ue==null?void 0:Ue.styles)===null||Dt===void 0?void 0:Dt.item},Te)}),Ur=y.useMemo(()=>({latestIndex:cr}),[cr]);if(er.length===0)return null;const yt={};return Le&&(yt.flexWrap="wrap"),!Ze&&We&&(yt.columnGap=Ge),!at&&De&&(yt.rowGap=gt),Ar(y.createElement("div",Object.assign({ref:Ve,className:ke,style:Object.assign(Object.assign(Object.assign({},yt),Ue==null?void 0:Ue.style),Ye)},Ee),y.createElement(Z,{value:Ur},Lr)))});rt.Compact=ne.ZP;var fe=rt},33297:function($t,we,E){"use strict";E.d(we,{Fm:function(){return Ce}});var y=E(54548),M=E(93590);const U=new y.Keyframes("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),xe=new y.Keyframes("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),te=new y.Keyframes("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),J=new y.Keyframes("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),w=new y.Keyframes("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ne=new y.Keyframes("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),W=new y.Keyframes("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Z=new y.Keyframes("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),ce={"move-up":{inKeyframes:W,outKeyframes:Z},"move-down":{inKeyframes:U,outKeyframes:xe},"move-left":{inKeyframes:te,outKeyframes:J},"move-right":{inKeyframes:w,outKeyframes:ne}},Ce=(de,je)=>{const{antCls:Ot}=de,rt=`${Ot}-${je}`,{inKeyframes:fe,outKeyframes:Ne}=ce[je];return[(0,M.R)(rt,fe,Ne,de.motionDurationMid),{[`
        ${rt}-enter,
        ${rt}-appear
      `]:{opacity:0,animationTimingFunction:de.motionEaseOutCirc},[`${rt}-leave`]:{animationTimingFunction:de.motionEaseInOutCirc}}]}},50438:function($t,we,E){"use strict";E.d(we,{_y:function(){return rt}});var y=E(54548),M=E(93590);const U=new y.Keyframes("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),xe=new y.Keyframes("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),te=new y.Keyframes("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),J=new y.Keyframes("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),w=new y.Keyframes("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),ne=new y.Keyframes("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),W=new y.Keyframes("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Z=new y.Keyframes("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),ce=new y.Keyframes("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Ce=new y.Keyframes("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),de=new y.Keyframes("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),je=new y.Keyframes("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Ot={zoom:{inKeyframes:U,outKeyframes:xe},"zoom-big":{inKeyframes:te,outKeyframes:J},"zoom-big-fast":{inKeyframes:te,outKeyframes:J},"zoom-left":{inKeyframes:W,outKeyframes:Z},"zoom-right":{inKeyframes:ce,outKeyframes:Ce},"zoom-up":{inKeyframes:w,outKeyframes:ne},"zoom-down":{inKeyframes:de,outKeyframes:je}},rt=(fe,Ne)=>{const{antCls:Ve}=fe,et=`${Ve}-${Ne}`,{inKeyframes:tt,outKeyframes:Xe}=Ot[Ne];return[(0,M.R)(et,tt,Xe,Ne==="zoom-big-fast"?fe.motionDurationFast:fe.motionDurationMid),{[`
        ${et}-enter,
        ${et}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:fe.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${et}-leave`]:{animationTimingFunction:fe.motionEaseInOutCirc}}]}},97414:function($t,we,E){"use strict";E.d(we,{ZP:function(){return te},qN:function(){return M},wZ:function(){return U}});var y=E(79511);const M=8;function U(J){const{contentRadius:w,limitVerticalRadius:ne}=J,W=w>12?w+2:12;return{arrowOffsetHorizontal:W,arrowOffsetVertical:ne?M:W}}function xe(J,w){return J?w:{}}function te(J,w,ne){const{componentCls:W,boxShadowPopoverArrow:Z,arrowOffsetVertical:ce,arrowOffsetHorizontal:Ce}=J,{arrowDistance:de=0,arrowPlacement:je={left:!0,right:!0,top:!0,bottom:!0}}=ne||{};return{[W]:Object.assign(Object.assign(Object.assign(Object.assign({[`${W}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,y.W)(J,w,Z)),{"&:before":{background:w}})]},xe(!!je.top,{[[`&-placement-top > ${W}-arrow`,`&-placement-topLeft > ${W}-arrow`,`&-placement-topRight > ${W}-arrow`].join(",")]:{bottom:de,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${W}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${W}-arrow`]:{left:{_skip_check_:!0,value:Ce}},[`&-placement-topRight > ${W}-arrow`]:{right:{_skip_check_:!0,value:Ce}}})),xe(!!je.bottom,{[[`&-placement-bottom > ${W}-arrow`,`&-placement-bottomLeft > ${W}-arrow`,`&-placement-bottomRight > ${W}-arrow`].join(",")]:{top:de,transform:"translateY(-100%)"},[`&-placement-bottom > ${W}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${W}-arrow`]:{left:{_skip_check_:!0,value:Ce}},[`&-placement-bottomRight > ${W}-arrow`]:{right:{_skip_check_:!0,value:Ce}}})),xe(!!je.left,{[[`&-placement-left > ${W}-arrow`,`&-placement-leftTop > ${W}-arrow`,`&-placement-leftBottom > ${W}-arrow`].join(",")]:{right:{_skip_check_:!0,value:de},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${W}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${W}-arrow`]:{top:ce},[`&-placement-leftBottom > ${W}-arrow`]:{bottom:ce}})),xe(!!je.right,{[[`&-placement-right > ${W}-arrow`,`&-placement-rightTop > ${W}-arrow`,`&-placement-rightBottom > ${W}-arrow`].join(",")]:{left:{_skip_check_:!0,value:de},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${W}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${W}-arrow`]:{top:ce},[`&-placement-rightBottom > ${W}-arrow`]:{bottom:ce}}))}}},79511:function($t,we,E){"use strict";E.d(we,{W:function(){return U},w:function(){return M}});var y=E(54548);function M(xe){const{sizePopupArrow:te,borderRadiusXS:J,borderRadiusOuter:w}=xe,ne=te/2,W=0,Z=ne,ce=w*1/Math.sqrt(2),Ce=ne-w*(1-1/Math.sqrt(2)),de=ne-J*(1/Math.sqrt(2)),je=w*(Math.sqrt(2)-1)+J*(1/Math.sqrt(2)),Ot=2*ne-de,rt=je,fe=2*ne-ce,Ne=Ce,Ve=2*ne-W,et=Z,tt=ne*Math.sqrt(2)+w*(Math.sqrt(2)-2),Xe=w*(Math.sqrt(2)-1),Ue=`polygon(${Xe}px 100%, 50% ${Xe}px, ${2*ne-Xe}px 100%, ${Xe}px 100%)`,Mt=`path('M ${W} ${Z} A ${w} ${w} 0 0 0 ${ce} ${Ce} L ${de} ${je} A ${J} ${J} 0 0 1 ${Ot} ${rt} L ${fe} ${Ne} A ${w} ${w} 0 0 0 ${Ve} ${et} Z')`;return{arrowShadowWidth:tt,arrowPath:Mt,arrowPolygon:Ue}}const U=(xe,te,J)=>{const{sizePopupArrow:w,arrowPolygon:ne,arrowPath:W,arrowShadowWidth:Z,borderRadiusXS:ce,calc:Ce}=xe;return{pointerEvents:"none",width:w,height:w,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:w,height:Ce(w).div(2).equal(),background:te,clipPath:{_multi_value_:!0,value:[ne,W]},content:'""'},"&::after":{content:'""',position:"absolute",width:Z,height:Z,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,y.unit)(ce)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:J,zIndex:0,background:"transparent"}}}},83062:function($t,we,E){"use strict";E.d(we,{Z:function(){return Ye}});var y=E(67294),M=E(13144),U=E.n(M),xe=E(92419),te=E(93042),J=E(87263),w=E(33603),ne=E(80636),W=E(96159),Z=E(27288),ce=E(43945),Ce=E(53124),de=E(4173),je=E(25976),Ot=E(54548),rt=E(14747),fe=E(50438),Ne=E(97414),Ve=E(79511),et=E(98719),tt=E(45503),Xe=E(48132);const Ue=Le=>{const{componentCls:Y,tooltipMaxWidth:me,tooltipColor:Ee,tooltipBg:Ge,tooltipBorderRadius:gt,zIndexPopup:at,controlHeight:Ze,boxShadowSecondary:De,paddingSM:We,paddingXS:er}=Le;return[{[Y]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,rt.Wf)(Le)),{position:"absolute",zIndex:at,display:"block",width:"max-content",maxWidth:me,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":Ge,[`${Y}-inner`]:{minWidth:"1em",minHeight:Ze,padding:`${(0,Ot.unit)(Le.calc(We).div(2).equal())} ${(0,Ot.unit)(er)}`,color:Ee,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:Ge,borderRadius:gt,boxShadow:De,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${Y}-inner`]:{borderRadius:Le.min(gt,Ne.qN)}},[`${Y}-content`]:{position:"relative"}}),(0,et.Z)(Le,(Ft,or)=>{let{darkColor:Ar}=or;return{[`&${Y}-${Ft}`]:{[`${Y}-inner`]:{backgroundColor:Ar},[`${Y}-arrow`]:{"--antd-arrow-background-color":Ar}}}})),{"&-rtl":{direction:"rtl"}})},(0,Ne.ZP)(Le,"var(--antd-arrow-background-color)"),{[`${Y}-pure`]:{position:"relative",maxWidth:"none",margin:Le.sizePopupArrow}}]},Mt=Le=>Object.assign(Object.assign({zIndexPopup:Le.zIndexPopupBase+70},(0,Ne.wZ)({contentRadius:Le.borderRadius,limitVerticalRadius:!0})),(0,Ve.w)((0,tt.TS)(Le,{borderRadiusOuter:Math.min(Le.borderRadiusOuter,4)})));var Qt=function(Le){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Xe.I$)("Tooltip",Ee=>{const{borderRadius:Ge,colorTextLightSolid:gt,colorBgSpotlight:at}=Ee,Ze=(0,tt.TS)(Ee,{tooltipMaxWidth:250,tooltipColor:gt,tooltipBorderRadius:Ge,tooltipBg:at});return[Ue(Ze),(0,fe._y)(Ee,"zoom-big-fast")]},Mt,{resetStyle:!1,injectStyle:Y})(Le)},vt=E(98787);function he(Le,Y){const me=(0,vt.o2)(Y),Ee=U()({[`${Le}-${Y}`]:Y&&me}),Ge={},gt={};return Y&&!me&&(Ge.background=Y,gt["--antd-arrow-background-color"]=Y),{className:Ee,overlayStyle:Ge,arrowStyle:gt}}var xt=Le=>{const{prefixCls:Y,className:me,placement:Ee="top",title:Ge,color:gt,overlayInnerStyle:at}=Le,{getPrefixCls:Ze}=y.useContext(Ce.E_),De=Ze("tooltip",Y),[We,er,Ft]=Qt(De),or=he(De,gt),Ar=or.arrowStyle,$r=Object.assign(Object.assign({},at),or.overlayStyle),qe=U()(er,Ft,De,`${De}-pure`,`${De}-placement-${Ee}`,me,or.className);return We(y.createElement("div",{className:qe,style:Ar},y.createElement("div",{className:`${De}-arrow`}),y.createElement(xe.G,Object.assign({},Le,{className:er,prefixCls:De,overlayInnerStyle:$r}),Ge)))},Pe=function(Le,Y){var me={};for(var Ee in Le)Object.prototype.hasOwnProperty.call(Le,Ee)&&Y.indexOf(Ee)<0&&(me[Ee]=Le[Ee]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Ee=Object.getOwnPropertySymbols(Le);Ge<Ee.length;Ge++)Y.indexOf(Ee[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Le,Ee[Ge])&&(me[Ee[Ge]]=Le[Ee[Ge]]);return me};const Lt=y.forwardRef((Le,Y)=>{var me,Ee;const{prefixCls:Ge,openClassName:gt,getTooltipContainer:at,overlayClassName:Ze,color:De,overlayInnerStyle:We,children:er,afterOpenChange:Ft,afterVisibleChange:or,destroyTooltipOnHide:Ar,arrow:$r=!0,title:qe,overlay:ke,builtinPlacements:Et,arrowPointAtCenter:cr=!1,autoAdjustOverflow:Lr=!0}=Le,Ur=!!$r,[,yt]=(0,je.ZP)(),{getPopupContainer:Te,getPrefixCls:$e,direction:dt}=y.useContext(Ce.E_),Dt=(0,Z.ln)("Tooltip"),nt=y.useRef(null),re=()=>{var Mn;(Mn=nt.current)===null||Mn===void 0||Mn.forceAlign()};y.useImperativeHandle(Y,()=>{var Mn;return{forceAlign:re,forcePopupAlign:()=>{Dt.deprecated(!1,"forcePopupAlign","forceAlign"),re()},nativeElement:(Mn=nt.current)===null||Mn===void 0?void 0:Mn.nativeElement}});const[se,q]=(0,te.Z)(!1,{value:(me=Le.open)!==null&&me!==void 0?me:Le.visible,defaultValue:(Ee=Le.defaultOpen)!==null&&Ee!==void 0?Ee:Le.defaultVisible}),Re=!qe&&!ke&&qe!==0,Ae=Mn=>{var fi,Ei;q(Re?!1:Mn),Re||((fi=Le.onOpenChange)===null||fi===void 0||fi.call(Le,Mn),(Ei=Le.onVisibleChange)===null||Ei===void 0||Ei.call(Le,Mn))},Tt=y.useMemo(()=>{var Mn,fi;let Ei=cr;return typeof $r=="object"&&(Ei=(fi=(Mn=$r.pointAtCenter)!==null&&Mn!==void 0?Mn:$r.arrowPointAtCenter)!==null&&fi!==void 0?fi:cr),Et||(0,ne.Z)({arrowPointAtCenter:Ei,autoAdjustOverflow:Lr,arrowWidth:Ur?yt.sizePopupArrow:0,borderRadius:yt.borderRadius,offset:yt.marginXXS,visibleFirst:!0})},[cr,$r,Et,yt]),jt=y.useMemo(()=>qe===0?qe:ke||qe||"",[ke,qe]),Xt=y.createElement(de.BR,null,typeof jt=="function"?jt():jt),{getPopupContainer:zt,placement:Rt="top",mouseEnterDelay:mr=.1,mouseLeaveDelay:St=.1,overlayStyle:pe,rootClassName:Yt}=Le,Jt=Pe(Le,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),ir=$e("tooltip",Ge),tr=$e(),rr=Le["data-popover-inject"];let xn=se;!("open"in Le)&&!("visible"in Le)&&Re&&(xn=!1);const jr=y.isValidElement(er)&&!(0,W.M2)(er)?er:y.createElement("span",null,er),gn=jr.props,ze=!gn.className||typeof gn.className=="string"?U()(gn.className,gt||`${ir}-open`):gn.className,[ar,vr,Tr]=Qt(ir,!rr),br=he(ir,De),yn=br.arrowStyle,Vn=Object.assign(Object.assign({},We),br.overlayStyle),fr=U()(Ze,{[`${ir}-rtl`]:dt==="rtl"},br.className,Yt,vr,Tr),[Qn,un]=(0,J.Cn)("Tooltip",Jt.zIndex),Wn=y.createElement(xe.Z,Object.assign({},Jt,{zIndex:Qn,showArrow:Ur,placement:Rt,mouseEnterDelay:mr,mouseLeaveDelay:St,prefixCls:ir,overlayClassName:fr,overlayStyle:Object.assign(Object.assign({},yn),pe),getTooltipContainer:zt||at||Te,ref:nt,builtinPlacements:Tt,overlay:Xt,visible:xn,onVisibleChange:Ae,afterVisibleChange:Ft!=null?Ft:or,overlayInnerStyle:Vn,arrowContent:y.createElement("span",{className:`${ir}-arrow-content`}),motion:{motionName:(0,w.m)(tr,"zoom-big-fast",Le.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Ar}),xn?(0,W.Tm)(jr,{className:ze}):jr);return ar(y.createElement(ce.Z.Provider,{value:un},Wn))});Lt._InternalPanelDoNotUseOrYouWillBeFired=xt;var Ye=Lt},44003:function($t,we,E){"use strict";E.d(we,{Z:function(){return Tn}});var y=E(67294),M=E(83963),U=E(27363),xe=E(82828),te=function(ye,Oe){return y.createElement(xe.Z,(0,M.Z)({},ye,{ref:Oe,icon:U.Z}))},J=y.forwardRef(te),w=J,ne=E(13144),W=E.n(ne),Z=E(9220),ce=E(50344),Ce=E(8410),de=E(93042),je=E(98423),Ot=E(42550),rt=E(98924),fe=function(ye){if((0,rt.Z)()&&window.document.documentElement){var Oe=Array.isArray(ye)?ye:[ye],ve=window.document.documentElement;return Oe.some(function(He){return He in ve.style})}return!1},Ne=function(ye,Oe){if(!fe(ye))return!1;var ve=document.createElement("div"),He=ve.style[ye];return ve.style[ye]=Oe,ve.style[ye]!==He};function Ve(G,ye){return!Array.isArray(G)&&ye!==void 0?Ne(G,ye):fe(G)}var et=E(15105),tt=function(G,ye){var Oe={};for(var ve in G)Object.prototype.hasOwnProperty.call(G,ve)&&ye.indexOf(ve)<0&&(Oe[ve]=G[ve]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,ve=Object.getOwnPropertySymbols(G);He<ve.length;He++)ye.indexOf(ve[He])<0&&Object.prototype.propertyIsEnumerable.call(G,ve[He])&&(Oe[ve[He]]=G[ve[He]]);return Oe};const Xe={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"};var Mt=y.forwardRef((G,ye)=>{const Oe=Sr=>{const{keyCode:Wr}=Sr;Wr===et.Z.ENTER&&Sr.preventDefault()},ve=Sr=>{const{keyCode:Wr}=Sr,{onClick:Vr}=G;Wr===et.Z.ENTER&&Vr&&Vr()},{style:He,noStyle:wt,disabled:pr,tabIndex:xr=0}=G,Fr=tt(G,["style","noStyle","disabled","tabIndex"]);let Ht={};return wt||(Ht=Object.assign({},Xe)),pr&&(Ht.pointerEvents="none"),Ht=Object.assign(Object.assign({},Ht),He),y.createElement("div",Object.assign({role:"button",tabIndex:xr,ref:ye},Fr,{onKeyDown:Oe,onKeyUp:ve,style:Ht}))}),Qt=E(53124),vt=E(10110),he=E(83062),ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},xt=ae,Pe=function(ye,Oe){return y.createElement(xe.Z,(0,M.Z)({},ye,{ref:Oe,icon:xt}))},Pt=y.forwardRef(Pe),Lt=Pt,Ye=E(96159),Le=E(22913);const Y=G=>({color:G.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${G.motionDurationSlow}`,"&:focus, &:hover":{color:G.colorLinkHover},"&:active":{color:G.colorLinkActive}});var me=E(48132),Ee=E(26483),Ge=E(54548);const gt=(G,ye,Oe,ve)=>{const{titleMarginBottom:He,fontWeightStrong:wt}=ve;return{marginBottom:He,color:Oe,fontWeight:wt,fontSize:G,lineHeight:ye}},at=G=>{const ye=[1,2,3,4,5],Oe={};return ye.forEach(ve=>{Oe[`
      h${ve}&,
      div&-h${ve},
      div&-h${ve} > textarea,
      h${ve}
    `]=gt(G[`fontSizeHeading${ve}`],G[`lineHeightHeading${ve}`],G.colorTextHeading,G)}),Oe},Ze=G=>{const{componentCls:ye}=G;return{"a&, a":Object.assign(Object.assign({},Y(G)),{textDecoration:G.linkDecoration,"&:active, &:hover":{textDecoration:G.linkHoverDecoration},[`&[disabled], &${ye}-disabled`]:{color:G.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:G.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},De=G=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:G.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:G.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Ee.gold[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:G.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),We=G=>{const{componentCls:ye,paddingSM:Oe}=G,ve=Oe;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:G.calc(G.paddingSM).mul(-1).equal(),marginTop:G.calc(ve).mul(-1).equal(),marginBottom:`calc(1em - ${(0,Ge.unit)(ve)})`},[`${ye}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:G.calc(G.marginXS).add(2).equal(),insetBlockEnd:G.marginXS,color:G.colorTextDescription,fontWeight:"normal",fontSize:G.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},er=G=>({[`${G.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:G.colorSuccess}},[`${G.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Ft=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),or=G=>{const{componentCls:ye,titleMarginTop:Oe}=G;return{[ye]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:G.colorText,wordBreak:"break-word",lineHeight:G.lineHeight,[`&${ye}-secondary`]:{color:G.colorTextDescription},[`&${ye}-success`]:{color:G.colorSuccess},[`&${ye}-warning`]:{color:G.colorWarning},[`&${ye}-danger`]:{color:G.colorError,"a&:active, a&:focus":{color:G.colorErrorActive},"a&:hover":{color:G.colorErrorHover}},[`&${ye}-disabled`]:{color:G.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},at(G)),{[`
      & + h1${ye},
      & + h2${ye},
      & + h3${ye},
      & + h4${ye},
      & + h5${ye}
      `]:{marginTop:Oe},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:Oe}}}),De(G)),Ze(G)),{[`
        ${ye}-expand,
        ${ye}-collapse,
        ${ye}-edit,
        ${ye}-copy
      `]:Object.assign(Object.assign({},Y(G)),{marginInlineStart:G.marginXXS})}),We(G)),er(G)),Ft()),{"&-rtl":{direction:"rtl"}})}},Ar=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var $r=(0,me.I$)("Typography",G=>[or(G)],Ar),ke=G=>{const{prefixCls:ye,"aria-label":Oe,className:ve,style:He,direction:wt,maxLength:pr,autoSize:xr=!0,value:Fr,onSave:Ht,onCancel:Sr,onEnd:Wr,component:Vr,enterIcon:hn=y.createElement(Lt,null)}=G,Ct=y.useRef(null),kr=y.useRef(!1),qr=y.useRef(),[mn,sn]=y.useState(Fr);y.useEffect(()=>{sn(Fr)},[Fr]),y.useEffect(()=>{if(Ct.current&&Ct.current.resizableTextArea){const{textArea:Jn}=Ct.current.resizableTextArea;Jn.focus();const{length:Si}=Jn.value;Jn.setSelectionRange(Si,Si)}},[]);const en=Jn=>{let{target:Si}=Jn;sn(Si.value.replace(/[\n\r]/g,""))},tn=()=>{kr.current=!0},gr=()=>{kr.current=!1},Sn=Jn=>{let{keyCode:Si}=Jn;kr.current||(qr.current=Si)},yi=()=>{Ht(mn.trim())},ri=Jn=>{let{keyCode:Si,ctrlKey:ea,altKey:Yn,metaKey:Zn,shiftKey:Xi}=Jn;qr.current===Si&&!kr.current&&!ea&&!Yn&&!Zn&&!Xi&&(Si===et.Z.ENTER?(yi(),Wr==null||Wr()):Si===et.Z.ESC&&Sr())},it=()=>{yi()},Br=Vr?`${ye}-${Vr}`:"",[Di,Zi,Ni]=$r(ye),wn=W()(ye,`${ye}-edit-content`,{[`${ye}-rtl`]:wt==="rtl"},ve,Br,Zi,Ni);return Di(y.createElement("div",{className:wn,style:He},y.createElement(Le.Z,{ref:Ct,maxLength:pr,value:mn,onChange:en,onKeyDown:Sn,onKeyUp:ri,onCompositionStart:tn,onCompositionEnd:gr,onBlur:it,"aria-label":Oe,rows:1,autoSize:xr}),hn!==null?(0,Ye.Tm)(hn,{className:`${ye}-edit-content-confirm`}):null))},Et=E(20640),cr=E.n(Et),Lr=E(56790),Ur=function(G,ye,Oe,ve){function He(wt){return wt instanceof Oe?wt:new Oe(function(pr){pr(wt)})}return new(Oe||(Oe=Promise))(function(wt,pr){function xr(Sr){try{Ht(ve.next(Sr))}catch(Wr){pr(Wr)}}function Fr(Sr){try{Ht(ve.throw(Sr))}catch(Wr){pr(Wr)}}function Ht(Sr){Sr.done?wt(Sr.value):He(Sr.value).then(xr,Fr)}Ht((ve=ve.apply(G,ye||[])).next())})},Te=G=>{let{copyConfig:ye,children:Oe}=G;const[ve,He]=y.useState(!1),[wt,pr]=y.useState(!1),xr=y.useRef(null),Fr=()=>{xr.current&&clearTimeout(xr.current)},Ht={};ye.format&&(Ht.format=ye.format),y.useEffect(()=>Fr,[]);const Sr=(0,Lr.useEvent)(Wr=>Ur(void 0,void 0,void 0,function*(){var Vr;Wr==null||Wr.preventDefault(),Wr==null||Wr.stopPropagation(),pr(!0);try{const hn=typeof ye.text=="function"?yield ye.text():ye.text;cr()(hn||String(Oe)||"",Ht),pr(!1),He(!0),Fr(),xr.current=setTimeout(()=>{He(!1)},3e3),(Vr=ye.onCopy)===null||Vr===void 0||Vr.call(ye,Wr)}catch(hn){throw pr(!1),hn}}));return{copied:ve,copyLoading:wt,onClick:Sr}};function $e(G,ye){return y.useMemo(()=>{const Oe=!!G;return[Oe,Object.assign(Object.assign({},ye),Oe&&typeof G=="object"?G:null)]},[G])}var Dt=(G,ye)=>{const Oe=y.useRef(!1);y.useEffect(()=>{Oe.current?G():Oe.current=!0},ye)},re=G=>{const ye=(0,y.useRef)();return(0,y.useEffect)(()=>{ye.current=G}),ye.current},se=function(G,ye){var Oe={};for(var ve in G)Object.prototype.hasOwnProperty.call(G,ve)&&ye.indexOf(ve)<0&&(Oe[ve]=G[ve]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,ve=Object.getOwnPropertySymbols(G);He<ve.length;He++)ye.indexOf(ve[He])<0&&Object.prototype.propertyIsEnumerable.call(G,ve[He])&&(Oe[ve[He]]=G[ve[He]]);return Oe},Re=y.forwardRef((G,ye)=>{const{prefixCls:Oe,component:ve="article",className:He,rootClassName:wt,setContentRef:pr,children:xr,direction:Fr,style:Ht}=G,Sr=se(G,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:Wr,direction:Vr,typography:hn}=y.useContext(Qt.E_),Ct=Fr!=null?Fr:Vr;let kr=ye;pr&&(kr=(0,Ot.sQ)(ye,pr));const qr=Wr("typography",Oe),[mn,sn,en]=$r(qr),tn=W()(qr,hn==null?void 0:hn.className,{[`${qr}-rtl`]:Ct==="rtl"},He,wt,sn,en),gr=Object.assign(Object.assign({},hn==null?void 0:hn.style),Ht);return mn(y.createElement(ve,Object.assign({className:tn,style:gr,ref:kr},Sr),xr))}),Ae=E(35918),Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},jt=Tt,Xt=function(ye,Oe){return y.createElement(xe.Z,(0,M.Z)({},ye,{ref:Oe,icon:jt}))},zt=y.forwardRef(Xt),Rt=zt,mr=E(22508);function St(G){return G===!1?[!1,!1]:Array.isArray(G)?G:[G]}function pe(G,ye,Oe){return G===!0||G===void 0?ye:G||Oe&&ye}var Jt=G=>{const{prefixCls:ye,copied:Oe,locale:ve,iconOnly:He,tooltips:wt,icon:pr,loading:xr,tabIndex:Fr,onCopy:Ht}=G,Sr=St(wt),Wr=St(pr),{copied:Vr,copy:hn}=ve!=null?ve:{},Ct=Oe?pe(Sr[1],Vr):pe(Sr[0],hn),qr=typeof Ct=="string"?Ct:Oe?Vr:hn;return y.createElement(he.Z,{key:"copy",title:Ct},y.createElement(Mt,{className:W()(`${ye}-copy`,{[`${ye}-copy-success`]:Oe,[`${ye}-copy-icon-only`]:He}),onClick:Ht,"aria-label":qr,tabIndex:Fr},Oe?pe(Wr[1],y.createElement(Ae.Z,null),!0):pe(Wr[0],xr?y.createElement(mr.Z,null):y.createElement(Rt,null),!0)))},ir=E(96641);const tr=y.forwardRef((G,ye)=>{let{style:Oe,children:ve}=G;const He=y.useRef(null);return y.useImperativeHandle(ye,()=>({isExceed:()=>{const wt=He.current;return wt.scrollHeight>wt.clientHeight},getHeight:()=>He.current.clientHeight})),y.createElement("span",{"aria-hidden":!0,ref:He,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},Oe)},ve)});function rr(G){const ye=typeof G;return ye==="string"||ye==="number"}function xn(G){let ye=0;return G.forEach(Oe=>{rr(Oe)?ye+=String(Oe).length:ye+=1}),ye}function jr(G,ye){let Oe=0;const ve=[];for(let He=0;He<G.length;He+=1){if(Oe===ye)return ve;const wt=G[He],xr=rr(wt)?String(wt).length:1,Fr=Oe+xr;if(Fr>ye){const Ht=ye-Oe;return ve.push(String(wt).slice(0,Ht)),ve}ve.push(wt),Oe=Fr}return G}const gn=0,ze=1,ar=2,vr=3,Tr={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function br(G){const{enableMeasure:ye,width:Oe,text:ve,children:He,rows:wt,expanded:pr,miscDeps:xr,onEllipsis:Fr}=G,Ht=y.useMemo(()=>(0,ce.Z)(ve),[ve]),Sr=y.useMemo(()=>xn(Ht),[ve]),Wr=y.useMemo(()=>He(Ht,!1),[ve]),[Vr,hn]=y.useState(null),Ct=y.useRef(null),kr=y.useRef(null),qr=y.useRef(null),mn=y.useRef(null),[sn,en]=y.useState(!1),[tn,gr]=y.useState(gn),[Sn,yi]=y.useState(0);(0,Ce.Z)(()=>{gr(ye&&Oe&&Sr?ze:gn)},[Oe,ve,wt,ye,Ht]),(0,Ce.Z)(()=>{var Di,Zi,Ni,wn;if(tn===ze){const Jn=!!(!((Di=kr.current)===null||Di===void 0)&&Di.isExceed());gr(Jn?ar:vr),hn(Jn?[0,Sr]:null),en(Jn);const Si=((Zi=kr.current)===null||Zi===void 0?void 0:Zi.getHeight())||0,ea=wt===1?0:((Ni=qr.current)===null||Ni===void 0?void 0:Ni.getHeight())||0,Yn=((wn=mn.current)===null||wn===void 0?void 0:wn.getHeight())||0,Zn=ea+Yn,Xi=Math.max(Si,Zn);yi(Xi+1),Fr(Jn)}},[tn]);const ri=Vr?Math.ceil((Vr[0]+Vr[1])/2):0;(0,Ce.Z)(()=>{var Di;const[Zi,Ni]=Vr||[0,0];if(Zi!==Ni){const Jn=(((Di=Ct.current)===null||Di===void 0?void 0:Di.getHeight())||0)>Sn;let Si=ri;Ni-Zi===1&&(Si=Jn?Zi:Ni),hn(Jn?[Zi,Si]:[Si,Ni])}},[Vr,ri]);const it=y.useMemo(()=>{if(tn!==ar||!Vr||Vr[0]!==Vr[1]){const Di=He(Ht,!1);return tn!==vr&&tn!==gn?y.createElement("span",{style:Object.assign(Object.assign({},Tr),{WebkitLineClamp:wt})},Di):Di}return He(pr?Ht:jr(Ht,Vr[0]),sn)},[pr,tn,Vr,Ht].concat((0,ir.Z)(xr))),Br={width:Oe,whiteSpace:"normal",margin:0,padding:0};return y.createElement(y.Fragment,null,it,tn===ze&&y.createElement(y.Fragment,null,y.createElement(tr,{style:Object.assign(Object.assign(Object.assign({},Br),Tr),{WebkitLineClamp:wt}),ref:kr},Wr),y.createElement(tr,{style:Object.assign(Object.assign(Object.assign({},Br),Tr),{WebkitLineClamp:wt-1}),ref:qr},Wr),y.createElement(tr,{style:Object.assign(Object.assign(Object.assign({},Br),Tr),{WebkitLineClamp:1}),ref:mn},He([],!0))),tn===ar&&Vr&&Vr[0]!==Vr[1]&&y.createElement(tr,{style:Object.assign(Object.assign({},Br),{top:400}),ref:Ct},He(jr(Ht,ri),!0)))}var Vn=G=>{let{enableEllipsis:ye,isEllipsis:Oe,children:ve,tooltipProps:He}=G;return!(He!=null&&He.title)||!ye?ve:y.createElement(he.Z,Object.assign({open:Oe?void 0:!1},He),ve)},fr=function(G,ye){var Oe={};for(var ve in G)Object.prototype.hasOwnProperty.call(G,ve)&&ye.indexOf(ve)<0&&(Oe[ve]=G[ve]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,ve=Object.getOwnPropertySymbols(G);He<ve.length;He++)ye.indexOf(ve[He])<0&&Object.prototype.propertyIsEnumerable.call(G,ve[He])&&(Oe[ve[He]]=G[ve[He]]);return Oe};function Qn(G,ye){let{mark:Oe,code:ve,underline:He,delete:wt,strong:pr,keyboard:xr,italic:Fr}=G,Ht=ye;function Sr(Wr,Vr){Vr&&(Ht=y.createElement(Wr,{},Ht))}return Sr("strong",pr),Sr("u",He),Sr("del",wt),Sr("code",ve),Sr("mark",Oe),Sr("kbd",xr),Sr("i",Fr),Ht}const un="...";var Mn=y.forwardRef((G,ye)=>{var Oe,ve,He;const{prefixCls:wt,className:pr,style:xr,type:Fr,disabled:Ht,children:Sr,ellipsis:Wr,editable:Vr,copyable:hn,component:Ct,title:kr}=G,qr=fr(G,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:mn,direction:sn}=y.useContext(Qt.E_),[en]=(0,vt.Z)("Text"),tn=y.useRef(null),gr=y.useRef(null),Sn=mn("typography",wt),yi=(0,je.Z)(qr,["mark","code","delete","underline","strong","keyboard","italic"]),[ri,it]=$e(Vr),[Br,Di]=(0,de.Z)(!1,{value:it.editing}),{triggerType:Zi=["icon"]}=it,Ni=rn=>{var Dn;rn&&((Dn=it.onStart)===null||Dn===void 0||Dn.call(it)),Di(rn)},wn=re(Br);Dt(()=>{var rn;!Br&&wn&&((rn=gr.current)===null||rn===void 0||rn.focus())},[Br]);const Jn=rn=>{rn==null||rn.preventDefault(),Ni(!0)},Si=rn=>{var Dn;(Dn=it.onChange)===null||Dn===void 0||Dn.call(it,rn),Ni(!1)},ea=()=>{var rn;(rn=it.onCancel)===null||rn===void 0||rn.call(it),Ni(!1)},[Yn,Zn]=$e(hn),{copied:Xi,copyLoading:Ma,onClick:$a}=Te({copyConfig:Zn,children:Sr}),[ma,Io]=y.useState(!1),[wi,lo]=y.useState(!1),[qa,ai]=y.useState(!1),[Ln,Ie]=y.useState(!1),[Bn,eo]=y.useState(!0),[N,be]=$e(Wr,{expandable:!1,symbol:rn=>rn?en==null?void 0:en.collapse:en==null?void 0:en.expand}),[Be,Nt]=(0,de.Z)(be.defaultExpanded||!1,{value:be.expanded}),yr=N&&(!Be||be.expandable==="collapsible"),{rows:qn=1}=be,Hi=y.useMemo(()=>yr&&(be.suffix!==void 0||be.onEllipsis||be.expandable||ri||Yn),[yr,be,ri,Yn]);(0,Ce.Z)(()=>{N&&!Hi&&(Io(Ve("webkitLineClamp")),lo(Ve("textOverflow")))},[Hi,N]);const[Fe,Aa]=y.useState(yr),oi=y.useMemo(()=>Hi?!1:qn===1?wi:ma,[Hi,wi,ma]);(0,Ce.Z)(()=>{Aa(oi&&yr)},[oi,yr]);const Ho=yr&&(Fe?Ln:qa),Eo=yr&&qn===1&&Fe,vo=yr&&qn>1&&Fe,Go=(rn,Dn)=>{var ro;Nt(Dn.expanded),(ro=be.onExpand)===null||ro===void 0||ro.call(be,rn,Dn)},[To,Po]=y.useState(0),uo=rn=>{let{offsetWidth:Dn}=rn;Po(Dn)},gs=rn=>{var Dn;ai(rn),qa!==rn&&((Dn=be.onEllipsis)===null||Dn===void 0||Dn.call(be,rn))};y.useEffect(()=>{const rn=tn.current;if(N&&Fe&&rn){const Dn=vo?rn.offsetHeight<rn.scrollHeight:rn.offsetWidth<rn.scrollWidth;Ln!==Dn&&Ie(Dn)}},[N,Fe,Sr,vo,Bn,To]),y.useEffect(()=>{const rn=tn.current;if(typeof IntersectionObserver=="undefined"||!rn||!Fe||!yr)return;const Dn=new IntersectionObserver(()=>{eo(!!rn.offsetParent)});return Dn.observe(rn),()=>{Dn.disconnect()}},[Fe,yr]);let to={};be.tooltip===!0?to={title:(Oe=it.text)!==null&&Oe!==void 0?Oe:Sr}:y.isValidElement(be.tooltip)?to={title:be.tooltip}:typeof be.tooltip=="object"?to=Object.assign({title:(ve=it.text)!==null&&ve!==void 0?ve:Sr},be.tooltip):to={title:be.tooltip};const co=y.useMemo(()=>{const rn=Dn=>["string","number"].includes(typeof Dn);if(!(!N||Fe)){if(rn(it.text))return it.text;if(rn(Sr))return Sr;if(rn(kr))return kr;if(rn(to.title))return to.title}},[N,Fe,kr,to.title,Ho]);if(Br)return y.createElement(ke,{value:(He=it.text)!==null&&He!==void 0?He:typeof Sr=="string"?Sr:"",onSave:Si,onCancel:ea,onEnd:it.onEnd,prefixCls:Sn,className:pr,style:xr,direction:sn,component:Ct,maxLength:it.maxLength,autoSize:it.autoSize,enterIcon:it.enterIcon});const D=()=>{const{expandable:rn,symbol:Dn}=be;return!rn||Be&&rn!=="collapsible"?null:y.createElement("a",{key:"expand",className:`${Sn}-${Be?"collapse":"expand"}`,onClick:ro=>Go(ro,{expanded:!Be}),"aria-label":Be?en.collapse:en==null?void 0:en.expand},typeof Dn=="function"?Dn(Be):Dn)},Xs=()=>{if(!ri)return;const{icon:rn,tooltip:Dn,tabIndex:ro}=it,Wo=(0,ce.Z)(Dn)[0]||(en==null?void 0:en.edit),Zo=typeof Wo=="string"?Wo:"";return Zi.includes("icon")?y.createElement(he.Z,{key:"edit",title:Dn===!1?"":Wo},y.createElement(Mt,{ref:gr,className:`${Sn}-edit`,onClick:Jn,"aria-label":Zo,tabIndex:ro},rn||y.createElement(w,{role:"button"}))):null},Ca=()=>Yn?y.createElement(Jt,Object.assign({key:"copy"},Zn,{prefixCls:Sn,copied:Xi,locale:en,onCopy:$a,loading:Ma,iconOnly:Sr==null})):null,Ro=rn=>[rn&&D(),Xs(),Ca()],po=rn=>[rn&&!Be&&y.createElement("span",{"aria-hidden":!0,key:"ellipsis"},un),be.suffix,Ro(rn)];return y.createElement(Z.Z,{onResize:uo,disabled:!yr},rn=>y.createElement(Vn,{tooltipProps:to,enableEllipsis:yr,isEllipsis:Ho},y.createElement(Re,Object.assign({className:W()({[`${Sn}-${Fr}`]:Fr,[`${Sn}-disabled`]:Ht,[`${Sn}-ellipsis`]:N,[`${Sn}-single-line`]:yr&&qn===1&&!Be,[`${Sn}-ellipsis-single-line`]:Eo,[`${Sn}-ellipsis-multiple-line`]:vo},pr),prefixCls:wt,style:Object.assign(Object.assign({},xr),{WebkitLineClamp:vo?qn:void 0}),component:Ct,ref:(0,Ot.sQ)(rn,tn,ye),direction:sn,onClick:Zi.includes("text")?Jn:void 0,"aria-label":co==null?void 0:co.toString(),title:kr},yi),y.createElement(br,{enableMeasure:yr&&!Fe,text:Sr,rows:qn,width:To,onEllipsis:gs,expanded:Be,miscDeps:[Xi,Be,Ma,ri,Yn]},(Dn,ro)=>Qn(G,y.createElement(y.Fragment,null,Dn.length>0&&ro&&!Be&&co?y.createElement("span",{key:"show-content","aria-hidden":!0},Dn):Dn,po(ro)))))))}),fi=function(G,ye){var Oe={};for(var ve in G)Object.prototype.hasOwnProperty.call(G,ve)&&ye.indexOf(ve)<0&&(Oe[ve]=G[ve]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,ve=Object.getOwnPropertySymbols(G);He<ve.length;He++)ye.indexOf(ve[He])<0&&Object.prototype.propertyIsEnumerable.call(G,ve[He])&&(Oe[ve[He]]=G[ve[He]]);return Oe},ti=y.forwardRef((G,ye)=>{var{ellipsis:Oe,rel:ve}=G,He=fi(G,["ellipsis","rel"]);const wt=Object.assign(Object.assign({},He),{rel:ve===void 0&&He.target==="_blank"?"noopener noreferrer":ve});return delete wt.navigate,y.createElement(Mn,Object.assign({},wt,{ref:ye,ellipsis:!!Oe,component:"a"}))}),Dr=y.forwardRef((G,ye)=>y.createElement(Mn,Object.assign({ref:ye},G,{component:"div"}))),bt=function(G,ye){var Oe={};for(var ve in G)Object.prototype.hasOwnProperty.call(G,ve)&&ye.indexOf(ve)<0&&(Oe[ve]=G[ve]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,ve=Object.getOwnPropertySymbols(G);He<ve.length;He++)ye.indexOf(ve[He])<0&&Object.prototype.propertyIsEnumerable.call(G,ve[He])&&(Oe[ve[He]]=G[ve[He]]);return Oe};const on=(G,ye)=>{var{ellipsis:Oe}=G,ve=bt(G,["ellipsis"]);const He=y.useMemo(()=>Oe&&typeof Oe=="object"?(0,je.Z)(Oe,["expandable","rows"]):Oe,[Oe]);return y.createElement(Mn,Object.assign({ref:ye},ve,{ellipsis:He,component:"span"}))};var Se=y.forwardRef(on),Ke=function(G,ye){var Oe={};for(var ve in G)Object.prototype.hasOwnProperty.call(G,ve)&&ye.indexOf(ve)<0&&(Oe[ve]=G[ve]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,ve=Object.getOwnPropertySymbols(G);He<ve.length;He++)ye.indexOf(ve[He])<0&&Object.prototype.propertyIsEnumerable.call(G,ve[He])&&(Oe[ve[He]]=G[ve[He]]);return Oe};const It=[1,2,3,4,5];var Vt=y.forwardRef((G,ye)=>{const{level:Oe=1}=G,ve=Ke(G,["level"]);let He;return It.includes(Oe)?He=`h${Oe}`:He="h1",y.createElement(Mn,Object.assign({ref:ye},ve,{component:He}))});const Rr=Re;Rr.Text=Se,Rr.Link=ti,Rr.Title=Vt,Rr.Paragraph=Dr;var Tn=Rr},76278:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(83963),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},xe=U,te=E(82828),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},35918:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(83963),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},xe=U,te=E(82828),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},26702:function($t,we,E){"use strict";E.d(we,{Z:function(){return ne}});var y=E(83963),M=E(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},xe=U,te=E(82828),J=function(Z,ce){return M.createElement(te.Z,(0,y.Z)({},Z,{ref:ce,icon:xe}))},w=M.forwardRef(J),ne=w},27484:function($t){(function(we,E){$t.exports=E()})(this,function(){"use strict";var we=1e3,E=6e4,y=36e5,M="millisecond",U="second",xe="minute",te="hour",J="day",w="week",ne="month",W="quarter",Z="year",ce="date",Ce="Invalid Date",de=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,je=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ot={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(vt){var he=["th","st","nd","rd"],ae=vt%100;return"["+vt+(he[(ae-20)%10]||he[ae]||he[0])+"]"}},rt=function(vt,he,ae){var xt=String(vt);return!xt||xt.length>=he?vt:""+Array(he+1-xt.length).join(ae)+vt},fe={s:rt,z:function(vt){var he=-vt.utcOffset(),ae=Math.abs(he),xt=Math.floor(ae/60),Pe=ae%60;return(he<=0?"+":"-")+rt(xt,2,"0")+":"+rt(Pe,2,"0")},m:function vt(he,ae){if(he.date()<ae.date())return-vt(ae,he);var xt=12*(ae.year()-he.year())+(ae.month()-he.month()),Pe=he.clone().add(xt,ne),Pt=ae-Pe<0,Lt=he.clone().add(xt+(Pt?-1:1),ne);return+(-(xt+(ae-Pe)/(Pt?Pe-Lt:Lt-Pe))||0)},a:function(vt){return vt<0?Math.ceil(vt)||0:Math.floor(vt)},p:function(vt){return{M:ne,y:Z,w,d:J,D:ce,h:te,m:xe,s:U,ms:M,Q:W}[vt]||String(vt||"").toLowerCase().replace(/s$/,"")},u:function(vt){return vt===void 0}},Ne="en",Ve={};Ve[Ne]=Ot;var et=function(vt){return vt instanceof Mt},tt=function vt(he,ae,xt){var Pe;if(!he)return Ne;if(typeof he=="string"){var Pt=he.toLowerCase();Ve[Pt]&&(Pe=Pt),ae&&(Ve[Pt]=ae,Pe=Pt);var Lt=he.split("-");if(!Pe&&Lt.length>1)return vt(Lt[0])}else{var Ye=he.name;Ve[Ye]=he,Pe=Ye}return!xt&&Pe&&(Ne=Pe),Pe||!xt&&Ne},Xe=function(vt,he){if(et(vt))return vt.clone();var ae=typeof he=="object"?he:{};return ae.date=vt,ae.args=arguments,new Mt(ae)},Ue=fe;Ue.l=tt,Ue.i=et,Ue.w=function(vt,he){return Xe(vt,{locale:he.$L,utc:he.$u,x:he.$x,$offset:he.$offset})};var Mt=function(){function vt(ae){this.$L=tt(ae.locale,null,!0),this.parse(ae)}var he=vt.prototype;return he.parse=function(ae){this.$d=function(xt){var Pe=xt.date,Pt=xt.utc;if(Pe===null)return new Date(NaN);if(Ue.u(Pe))return new Date;if(Pe instanceof Date)return new Date(Pe);if(typeof Pe=="string"&&!/Z$/i.test(Pe)){var Lt=Pe.match(de);if(Lt){var Ye=Lt[2]-1||0,Le=(Lt[7]||"0").substring(0,3);return Pt?new Date(Date.UTC(Lt[1],Ye,Lt[3]||1,Lt[4]||0,Lt[5]||0,Lt[6]||0,Le)):new Date(Lt[1],Ye,Lt[3]||1,Lt[4]||0,Lt[5]||0,Lt[6]||0,Le)}}return new Date(Pe)}(ae),this.$x=ae.x||{},this.init()},he.init=function(){var ae=this.$d;this.$y=ae.getFullYear(),this.$M=ae.getMonth(),this.$D=ae.getDate(),this.$W=ae.getDay(),this.$H=ae.getHours(),this.$m=ae.getMinutes(),this.$s=ae.getSeconds(),this.$ms=ae.getMilliseconds()},he.$utils=function(){return Ue},he.isValid=function(){return this.$d.toString()!==Ce},he.isSame=function(ae,xt){var Pe=Xe(ae);return this.startOf(xt)<=Pe&&Pe<=this.endOf(xt)},he.isAfter=function(ae,xt){return Xe(ae)<this.startOf(xt)},he.isBefore=function(ae,xt){return this.endOf(xt)<Xe(ae)},he.$g=function(ae,xt,Pe){return Ue.u(ae)?this[xt]:this.set(Pe,ae)},he.unix=function(){return Math.floor(this.valueOf()/1e3)},he.valueOf=function(){return this.$d.getTime()},he.startOf=function(ae,xt){var Pe=this,Pt=!!Ue.u(xt)||xt,Lt=Ue.p(ae),Ye=function(Ze,De){var We=Ue.w(Pe.$u?Date.UTC(Pe.$y,De,Ze):new Date(Pe.$y,De,Ze),Pe);return Pt?We:We.endOf(J)},Le=function(Ze,De){return Ue.w(Pe.toDate()[Ze].apply(Pe.toDate("s"),(Pt?[0,0,0,0]:[23,59,59,999]).slice(De)),Pe)},Y=this.$W,me=this.$M,Ee=this.$D,Ge="set"+(this.$u?"UTC":"");switch(Lt){case Z:return Pt?Ye(1,0):Ye(31,11);case ne:return Pt?Ye(1,me):Ye(0,me+1);case w:var gt=this.$locale().weekStart||0,at=(Y<gt?Y+7:Y)-gt;return Ye(Pt?Ee-at:Ee+(6-at),me);case J:case ce:return Le(Ge+"Hours",0);case te:return Le(Ge+"Minutes",1);case xe:return Le(Ge+"Seconds",2);case U:return Le(Ge+"Milliseconds",3);default:return this.clone()}},he.endOf=function(ae){return this.startOf(ae,!1)},he.$set=function(ae,xt){var Pe,Pt=Ue.p(ae),Lt="set"+(this.$u?"UTC":""),Ye=(Pe={},Pe[J]=Lt+"Date",Pe[ce]=Lt+"Date",Pe[ne]=Lt+"Month",Pe[Z]=Lt+"FullYear",Pe[te]=Lt+"Hours",Pe[xe]=Lt+"Minutes",Pe[U]=Lt+"Seconds",Pe[M]=Lt+"Milliseconds",Pe)[Pt],Le=Pt===J?this.$D+(xt-this.$W):xt;if(Pt===ne||Pt===Z){var Y=this.clone().set(ce,1);Y.$d[Ye](Le),Y.init(),this.$d=Y.set(ce,Math.min(this.$D,Y.daysInMonth())).$d}else Ye&&this.$d[Ye](Le);return this.init(),this},he.set=function(ae,xt){return this.clone().$set(ae,xt)},he.get=function(ae){return this[Ue.p(ae)]()},he.add=function(ae,xt){var Pe,Pt=this;ae=Number(ae);var Lt=Ue.p(xt),Ye=function(me){var Ee=Xe(Pt);return Ue.w(Ee.date(Ee.date()+Math.round(me*ae)),Pt)};if(Lt===ne)return this.set(ne,this.$M+ae);if(Lt===Z)return this.set(Z,this.$y+ae);if(Lt===J)return Ye(1);if(Lt===w)return Ye(7);var Le=(Pe={},Pe[xe]=E,Pe[te]=y,Pe[U]=we,Pe)[Lt]||1,Y=this.$d.getTime()+ae*Le;return Ue.w(Y,this)},he.subtract=function(ae,xt){return this.add(-1*ae,xt)},he.format=function(ae){var xt=this,Pe=this.$locale();if(!this.isValid())return Pe.invalidDate||Ce;var Pt=ae||"YYYY-MM-DDTHH:mm:ssZ",Lt=Ue.z(this),Ye=this.$H,Le=this.$m,Y=this.$M,me=Pe.weekdays,Ee=Pe.months,Ge=function(De,We,er,Ft){return De&&(De[We]||De(xt,Pt))||er[We].slice(0,Ft)},gt=function(De){return Ue.s(Ye%12||12,De,"0")},at=Pe.meridiem||function(De,We,er){var Ft=De<12?"AM":"PM";return er?Ft.toLowerCase():Ft},Ze={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Y+1,MM:Ue.s(Y+1,2,"0"),MMM:Ge(Pe.monthsShort,Y,Ee,3),MMMM:Ge(Ee,Y),D:this.$D,DD:Ue.s(this.$D,2,"0"),d:String(this.$W),dd:Ge(Pe.weekdaysMin,this.$W,me,2),ddd:Ge(Pe.weekdaysShort,this.$W,me,3),dddd:me[this.$W],H:String(Ye),HH:Ue.s(Ye,2,"0"),h:gt(1),hh:gt(2),a:at(Ye,Le,!0),A:at(Ye,Le,!1),m:String(Le),mm:Ue.s(Le,2,"0"),s:String(this.$s),ss:Ue.s(this.$s,2,"0"),SSS:Ue.s(this.$ms,3,"0"),Z:Lt};return Pt.replace(je,function(De,We){return We||Ze[De]||Lt.replace(":","")})},he.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},he.diff=function(ae,xt,Pe){var Pt,Lt=Ue.p(xt),Ye=Xe(ae),Le=(Ye.utcOffset()-this.utcOffset())*E,Y=this-Ye,me=Ue.m(this,Ye);return me=(Pt={},Pt[Z]=me/12,Pt[ne]=me,Pt[W]=me/3,Pt[w]=(Y-Le)/6048e5,Pt[J]=(Y-Le)/864e5,Pt[te]=Y/y,Pt[xe]=Y/E,Pt[U]=Y/we,Pt)[Lt]||Y,Pe?me:Ue.a(me)},he.daysInMonth=function(){return this.endOf(ne).$D},he.$locale=function(){return Ve[this.$L]},he.locale=function(ae,xt){if(!ae)return this.$L;var Pe=this.clone(),Pt=tt(ae,xt,!0);return Pt&&(Pe.$L=Pt),Pe},he.clone=function(){return Ue.w(this.$d,this)},he.toDate=function(){return new Date(this.valueOf())},he.toJSON=function(){return this.isValid()?this.toISOString():null},he.toISOString=function(){return this.$d.toISOString()},he.toString=function(){return this.$d.toUTCString()},vt}(),Qt=Mt.prototype;return Xe.prototype=Qt,[["$ms",M],["$s",U],["$m",xe],["$H",te],["$W",J],["$M",ne],["$y",Z],["$D",ce]].forEach(function(vt){Qt[vt[1]]=function(he){return this.$g(he,vt[0],vt[1])}}),Xe.extend=function(vt,he){return vt.$i||(vt(he,Mt,Xe),vt.$i=!0),Xe},Xe.locale=tt,Xe.isDayjs=et,Xe.unix=function(vt){return Xe(1e3*vt)},Xe.en=Ve[Ne],Xe.Ls=Ve,Xe.p={},Xe})},78181:function($t,we,E){"use strict";E.d(we,{ZP:function(){return at}});var y=E(67294),M=Object.defineProperty,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,J=(Ze,De,We)=>De in Ze?M(Ze,De,{enumerable:!0,configurable:!0,writable:!0,value:We}):Ze[De]=We,w=(Ze,De)=>{for(var We in De||(De={}))xe.call(De,We)&&J(Ze,We,De[We]);if(U)for(var We of U(De))te.call(De,We)&&J(Ze,We,De[We]);return Ze};const ne=Ze=>y.createElement("svg",w({viewBox:"64 64 896 896"},Ze),y.createElement("path",{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}));var W="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODYyIDQ2NS4zaC04MWMtNC42IDAtOSAyLTEyLjEgNS41TDU1MCA3MjMuMVYxNjBjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djU2My4xTDI1NS4xIDQ3MC44Yy0zLTMuNS03LjQtNS41LTEyLjEtNS41aC04MWMtNi44IDAtMTAuNSA4LjEtNiAxMy4yTDQ4Ny45IDg2MWEzMS45NiAzMS45NiAwIDAgMCA0OC4zIDBMODY4IDQ3OC41YzQuNS01LjIuOC0xMy4yLTYtMTMuMnoiLz48L3N2Zz4=",Z=Object.defineProperty,ce=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,je=(Ze,De,We)=>De in Ze?Z(Ze,De,{enumerable:!0,configurable:!0,writable:!0,value:We}):Ze[De]=We,Ot=(Ze,De)=>{for(var We in De||(De={}))Ce.call(De,We)&&je(Ze,We,De[We]);if(ce)for(var We of ce(De))de.call(De,We)&&je(Ze,We,De[We]);return Ze};const rt=Ze=>y.createElement("svg",Ot({viewBox:"64 64 896 896"},Ze),y.createElement("path",{d:"M868 545.5 536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}));var fe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODY4IDU0NS41IDUzNi4xIDE2M2EzMS45NiAzMS45NiAwIDAgMC00OC4zIDBMMTU2IDU0NS41YTcuOTcgNy45NyAwIDAgMCA2IDEzLjJoODFjNC42IDAgOS0yIDEyLjEtNS41TDQ3NCAzMDAuOVY4NjRjMCA0LjQgMy42IDggOCA4aDYwYzQuNCAwIDgtMy42IDgtOFYzMDAuOWwyMTguOSAyNTIuM2MzIDMuNSA3LjQgNS41IDEyLjEgNS41aDgxYzYuOCAwIDEwLjUtOCA2LTEzLjJ6Ii8+PC9zdmc+",Ne=Object.defineProperty,Ve=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,Xe=(Ze,De,We)=>De in Ze?Ne(Ze,De,{enumerable:!0,configurable:!0,writable:!0,value:We}):Ze[De]=We,Ue=(Ze,De)=>{for(var We in De||(De={}))et.call(De,We)&&Xe(Ze,We,De[We]);if(Ve)for(var We of Ve(De))tt.call(De,We)&&Xe(Ze,We,De[We]);return Ze};const Mt=Ze=>y.createElement("svg",Ue({viewBox:"64 64 896 896"},Ze),y.createElement("path",{d:"M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}));var Qt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNOTA5LjYgODU0LjUgNjQ5LjkgNTk0LjhDNjkwLjIgNTQyLjcgNzEyIDQ3OSA3MTIgNDEyYzAtODAuMi0zMS4zLTE1NS40LTg3LjktMjEyLjEtNTYuNi01Ni43LTEzMi04Ny45LTIxMi4xLTg3LjlzLTE1NS41IDMxLjMtMjEyLjEgODcuOUMxNDMuMiAyNTYuNSAxMTIgMzMxLjggMTEyIDQxMmMwIDgwLjEgMzEuMyAxNTUuNSA4Ny45IDIxMi4xQzI1Ni41IDY4MC44IDMzMS44IDcxMiA0MTIgNzEyYzY3IDAgMTMwLjYtMjEuOCAxODIuNy02MmwyNTkuNyAyNTkuNmE4LjIgOC4yIDAgMCAwIDExLjYgMGw0My42LTQzLjVhOC4yIDguMiAwIDAgMCAwLTExLjZ6TTU3MC40IDU3MC40QzUyOCA2MTIuNyA0NzEuOCA2MzYgNDEyIDYzNnMtMTE2LTIzLjMtMTU4LjQtNjUuNkMyMTEuMyA1MjggMTg4IDQ3MS44IDE4OCA0MTJzMjMuMy0xMTYuMSA2NS42LTE1OC40QzI5NiAyMTEuMyAzNTIuMiAxODggNDEyIDE4OHMxMTYuMSAyMy4yIDE1OC40IDY1LjZTNjM2IDM1Mi4yIDYzNiA0MTJzLTIzLjMgMTE2LjEtNjUuNiAxNTguNHoiLz48L3N2Zz4=",vt=E(52830),he=E(47727),ae=(0,y.forwardRef)(function(Ze,De){var We=(0,vt.YB)(),er=(0,y.useRef)(!1),Ft=(0,y.useRef)(null);return(0,y.useImperativeHandle)(De,function(){return Ft.current}),y.createElement("input",{className:"dumi-default-search-bar-input",onCompositionStart:function(){return er.current=!0},onCompositionEnd:function(Ar){er.current=!1,Ze.onChange(Ar.currentTarget.value)},onFocus:Ze.onFocus,onBlur:Ze.onBlur,onMouseEnter:Ze.onMouseEnter,onKeyDown:function(Ar){["ArrowDown","ArrowUp"].includes(Ar.key)&&Ar.preventDefault(),Ar.key==="Escape"&&!er.current&&Ar.currentTarget.blur()},onChange:function(Ar){var $r=Ar.target.value;setTimeout(function(){er.current||Ze.onChange($r)},1)},placeholder:We.formatMessage({id:"header.search.placeholder"}),ref:Ft})}),xt=function(De){return(0,y.useEffect)(function(){if(De.visible)document.body.style.overflow="hidden";else if(document.body.style.overflow){var We;document.body.style.overflow="",(We=De.onClose)===null||We===void 0||We.call(De)}},[De.visible]),De.visible?y.createElement("div",{className:"dumi-default-search-modal"},y.createElement("div",{className:"dumi-default-search-modal-mask",onClick:De.onMaskClick}),y.createElement("div",{className:"dumi-default-search-modal-content"},De.children)):null},Pe;function Pt(Ze,De){return me(Ze)||Y(Ze,De)||Ye(Ze,De)||Lt()}function Lt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(Ze,De){if(Ze){if(typeof Ze=="string")return Le(Ze,De);var We=Object.prototype.toString.call(Ze).slice(8,-1);if(We==="Object"&&Ze.constructor&&(We=Ze.constructor.name),We==="Map"||We==="Set")return Array.from(Ze);if(We==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We))return Le(Ze,De)}}function Le(Ze,De){(De==null||De>Ze.length)&&(De=Ze.length);for(var We=0,er=new Array(De);We<De;We++)er[We]=Ze[We];return er}function Y(Ze,De){var We=Ze==null?null:typeof Symbol!="undefined"&&Ze[Symbol.iterator]||Ze["@@iterator"];if(We!=null){var er,Ft,or,Ar,$r=[],qe=!0,ke=!1;try{if(or=(We=We.call(Ze)).next,De===0){if(Object(We)!==We)return;qe=!1}else for(;!(qe=(er=or.call(We)).done)&&($r.push(er.value),$r.length!==De);qe=!0);}catch(Et){ke=!0,Ft=Et}finally{try{if(!qe&&We.return!=null&&(Ar=We.return(),Object(Ar)!==Ar))return}finally{if(ke)throw Ft}}return $r}}function me(Ze){if(Array.isArray(Ze))return Ze}var Ee=/(mac|iphone|ipod|ipad)/i.test(typeof navigator!="undefined"?(Pe=navigator)===null||Pe===void 0?void 0:Pe.platform:""),Ge=function(De){return["TEXTAREA","INPUT"].includes(De.tagName)||De.contentEditable==="true"},gt=function(){var De=(0,y.useState)(!1),We=Pt(De,2),er=We[0],Ft=We[1],or=(0,y.useRef)(null),Ar=(0,y.useRef)(null),$r=(0,y.useState)("\u2318"),qe=Pt($r,2),ke=qe[0],Et=qe[1],cr=(0,vt.OO)(),Lr=cr.keywords,Ur=cr.setKeywords,yt=cr.result,Te=cr.loading,$e=cr.load,dt=(0,y.useState)(!1),Dt=Pt(dt,2),nt=Dt[0],re=Dt[1];return(0,y.useEffect)(function(){Ee||Et("Ctrl");var se=function(Re){if(((Ee?Re.metaKey:Re.ctrlKey)&&Re.key==="k"||Re.key==="/"&&!Ge(Re.target))&&(Re.preventDefault(),or.current)){var Ae=or.current.getBoundingClientRect(),Tt=Ae.top,jt=Ae.bottom,Xt=Ae.left,zt=Ae.right,Rt=Tt>=0&&Xt>=0&&jt<=window.innerHeight&&zt<=window.innerWidth;Rt?or.current.focus():(Ur(""),re(!0),setTimeout(function(){var mr;(mr=Ar.current)===null||mr===void 0||mr.focus()}))}Re.key==="Escape"&&(Re.preventDefault(),re(!1))};return document.addEventListener("keydown",se),function(){return document.removeEventListener("keydown",se)}},[]),y.createElement("div",{className:"dumi-default-search-bar"},y.createElement(Mt,{className:"dumi-default-search-bar-svg"}),y.createElement(ae,{onFocus:function(){Ft(!0),$e()},onMouseEnter:function(){$e()},onBlur:function(){setTimeout(function(){Ft(!1)},1)},onChange:function(q){return Ur(q)},ref:or}),y.createElement("span",{className:"dumi-default-search-shortcut"},ke," K"),Lr.trim()&&er&&!nt&&y.createElement("div",{className:"dumi-default-search-popover"},y.createElement("section",null,y.createElement(he.Z,{data:yt,loading:Te}))),y.createElement(xt,{visible:nt,onMaskClick:function(){re(!1)},onClose:function(){return Ur("")}},y.createElement("div",{style:{position:"relative"}},y.createElement(Mt,{className:"dumi-default-search-bar-svg"}),y.createElement(ae,{onFocus:function(){return Ft(!0)},onBlur:function(){setTimeout(function(){Ft(!1)},1)},onChange:function(q){return Ur(q)},ref:Ar})),y.createElement(he.Z,{data:yt,loading:Te,onItemSelect:function(){re(!1)}}),y.createElement("footer",null,y.createElement("ul",{className:"dumi-default-search-modal-commands"},y.createElement("li",{className:"dumi-default-search-modal-commands-arrow"},y.createElement("span",{className:"dumi-default-search-modal-shortcut"},y.createElement(rt,{width:"10px",height:"10px",fill:"rgba(0, 0, 0, 0.45)"})),y.createElement("span",{className:"dumi-default-search-modal-shortcut"},y.createElement(ne,{width:"10px",height:"10px",fill:"rgba(0, 0, 0, 0.45)"})),y.createElement("span",{className:"dumi-default-search-modal-commands-text"},"to navigate")),y.createElement("li",null,y.createElement("span",{className:"dumi-default-search-modal-shortcut"},"esc"),y.createElement("span",{className:"dumi-default-search-modal-commands-text"},"to close"))))))},at=gt},74932:function($t,we,E){"use strict";E.d(we,{Z:function(){return Le}});var y=E(67294),M=Object.defineProperty,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,J=(Y,me,Ee)=>me in Y?M(Y,me,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):Y[me]=Ee,w=(Y,me)=>{for(var Ee in me||(me={}))xe.call(me,Ee)&&J(Y,Ee,me[Ee]);if(U)for(var Ee of U(me))te.call(me,Ee)&&J(Y,Ee,me[Ee]);return Y};const ne=Y=>y.createElement("svg",w({viewBox:"0 0 1024 1024"},Y),y.createElement("path",{d:"m885.2 446.3-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0 0 60.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}));var W="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48cGF0aCBkPSJtODg1LjIgNDQ2LjMtLjItLjgtMTEyLjItMjg1LjFjLTUtMTYuMS0xOS45LTI3LjItMzYuOC0yNy4ySDI4MS4yYy0xNyAwLTMyLjEgMTEuMy0zNi45IDI3LjZMMTM5LjQgNDQzbC0uMy43LS4yLjhjLTEuMyA0LjktMS43IDkuOS0xIDE0LjgtLjEgMS42LS4yIDMuMi0uMiA0LjhWODMwYTYwLjkgNjAuOSAwIDAgMCA2MC44IDYwLjhoNjI3LjJjMzMuNSAwIDYwLjgtMjcuMyA2MC45LTYwLjhWNDY0LjFjMC0xLjMgMC0yLjYtLjEtMy43LjQtNC45IDAtOS42LTEuMy0xNC4xem0tMjk1LjgtNDMtLjMgMTUuN2MtLjggNDQuOS0zMS44IDc1LjEtNzcuMSA3NS4xLTIyLjEgMC00MS4xLTcuMS01NC44LTIwLjZTNDM2IDQ0MS4yIDQzNS42IDQxOWwtLjMtMTUuN0gyMjkuNUwzMDkgMjEwaDM5OS4ybDgxLjcgMTkzLjNINTg5LjR6bS0zNzUgNzYuOGgxNTcuM2MyNC4zIDU3LjEgNzYgOTAuOCAxNDAuNCA5MC44IDMzLjcgMCA2NS05LjQgOTAuMy0yNy4yIDIyLjItMTUuNiAzOS41LTM3LjQgNTAuNy02My42aDE1Ni41VjgxNEgyMTQuNFY0ODAuMXoiLz48L3N2Zz4=",Z=function(Y,me,Ee,Ge){function gt(at){return at instanceof Ee?at:new Ee(function(Ze){Ze(at)})}return new(Ee||(Ee=Promise))(function(at,Ze){function De(Ft){try{er(Ge.next(Ft))}catch(or){Ze(or)}}function We(Ft){try{er(Ge.throw(Ft))}catch(or){Ze(or)}}function er(Ft){Ft.done?at(Ft.value):gt(Ft.value).then(De,We)}er((Ge=Ge.apply(Y,me||[])).next())})};function ce(Y){let me=0,Ee=0,Ge=Y;do me+=Ge.offsetTop||0,Ee+=Ge.offsetLeft||0,Ge=Ge.offsetParent;while(Ge);return{top:me,left:Ee}}class Ce{constructor(me){this.element=me}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(me,Ee){return ce(me).left-ce(Ee).left}getVerticalElementScrollOffset(me,Ee){return ce(me).top-ce(Ee).top}scrollTo(me,Ee){this.element.scrollLeft=me,this.element.scrollTop=Ee}}class de{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(me){return(window.scrollX||document.documentElement.scrollLeft)+me.getBoundingClientRect().left}getVerticalElementScrollOffset(me){return(window.scrollY||document.documentElement.scrollTop)+me.getBoundingClientRect().top}scrollTo(me,Ee){window.scrollTo(me,Ee)}}const je={elements:[],cancelMethods:[],add:(Y,me)=>{je.elements.push(Y),je.cancelMethods.push(me)},remove:(Y,me)=>{const Ee=je.elements.indexOf(Y);Ee>-1&&(me&&je.cancelMethods[Ee](),je.elements.splice(Ee,1),je.cancelMethods.splice(Ee,1))}},Ot=typeof window!="undefined",rt={cancelOnUserAction:!0,easing:Y=>--Y*Y*Y+1,elementToScroll:Ot?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};function fe(Y,me={}){return Z(this,void 0,void 0,function*(){if(Ot){if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill."}else return new Promise(yt=>{yt(!1)});let Ee,Ge,gt,at=Object.assign(Object.assign({},rt),me);const Ze=at.elementToScroll===window,De=!!at.elementToScroll.nodeName;if(!Ze&&!De)throw"Element to scroll needs to be either window or DOM element.";const We=Ze?document.documentElement:at.elementToScroll;getComputedStyle(We).getPropertyValue("scroll-behavior")==="smooth"&&console.warn(`${We.tagName} has "scroll-behavior: smooth" which can mess up with animated-scroll-to's animations`);const Ft=Ze?new de:new Ce(at.elementToScroll);if(Y instanceof Element){if(gt=Y,De&&(!at.elementToScroll.contains(gt)||at.elementToScroll.isSameNode(gt)))throw"options.elementToScroll has to be a parent of scrollToElement";Ee=Ft.getHorizontalElementScrollOffset(gt,at.elementToScroll),Ge=Ft.getVerticalElementScrollOffset(gt,at.elementToScroll)}else if(typeof Y=="number")Ee=Ft.getHorizontalScroll(),Ge=Y;else if(Array.isArray(Y)&&Y.length===2)Ee=Y[0]===null?Ft.getHorizontalScroll():Y[0],Ge=Y[1]===null?Ft.getVerticalScroll():Y[1];else throw`Wrong function signature. Check documentation.
Available method signatures are:
  animateScrollTo(y:number, options)
  animateScrollTo([x:number | null, y:number | null], options)
  animateScrollTo(scrollToElement:Element, options)`;Ee+=at.horizontalOffset,Ge+=at.verticalOffset;const or=Ft.getMaxHorizontalScroll(),Ar=Ft.getHorizontalScroll();Ee>or&&(Ee=or);const $r=Ee-Ar,qe=Ft.getMaxVerticalScroll(),ke=Ft.getVerticalScroll();Ge>qe&&(Ge=qe);const Et=Ge-ke,cr=Math.abs(Math.round($r/1e3*at.speed)),Lr=Math.abs(Math.round(Et/1e3*at.speed));let Ur=cr>Lr?cr:Lr;return Ur<at.minDuration?Ur=at.minDuration:Ur>at.maxDuration&&(Ur=at.maxDuration),new Promise((yt,Te)=>{$r===0&&Et===0&&yt(!0),je.remove(Ft.element,!0);let $e;const dt=()=>{q(),cancelAnimationFrame($e),yt(!1)};je.add(Ft.element,dt);const Dt=Tt=>Tt.preventDefault(),nt=at.cancelOnUserAction?dt:Dt,re=at.cancelOnUserAction?{passive:!0}:{passive:!1},se=["wheel","touchstart","keydown","mousedown"],q=()=>{se.forEach(Tt=>{Ft.element.removeEventListener(Tt,nt,re)})};se.forEach(Tt=>{Ft.element.addEventListener(Tt,nt,re)});const Re=Date.now(),Ae=()=>{var Tt=Date.now()-Re,jt=Tt/Ur;const Xt=Math.round(Ar+$r*at.easing(jt)),zt=Math.round(ke+Et*at.easing(jt));Tt<Ur&&(Xt!==Ee||zt!==Ge)?(Ft.scrollTo(Xt,zt),$e=requestAnimationFrame(Ae)):(Ft.scrollTo(Ee,Ge),cancelAnimationFrame($e),q(),je.remove(Ft.element,!1),yt(!0))};$e=requestAnimationFrame(Ae)})})}var Ne=fe,Ve=E(52830);function et(Y,me){return Qt(Y)||Mt(Y,me)||Xe(Y,me)||tt()}function tt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(Y,me){if(Y){if(typeof Y=="string")return Ue(Y,me);var Ee=Object.prototype.toString.call(Y).slice(8,-1);if(Ee==="Object"&&Y.constructor&&(Ee=Y.constructor.name),Ee==="Map"||Ee==="Set")return Array.from(Y);if(Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee))return Ue(Y,me)}}function Ue(Y,me){(me==null||me>Y.length)&&(me=Y.length);for(var Ee=0,Ge=new Array(me);Ee<me;Ee++)Ge[Ee]=Y[Ee];return Ge}function Mt(Y,me){var Ee=Y==null?null:typeof Symbol!="undefined"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ee!=null){var Ge,gt,at,Ze,De=[],We=!0,er=!1;try{if(at=(Ee=Ee.call(Y)).next,me===0){if(Object(Ee)!==Ee)return;We=!1}else for(;!(We=(Ge=at.call(Ee)).done)&&(De.push(Ge.value),De.length!==me);We=!0);}catch(Ft){er=!0,gt=Ft}finally{try{if(!We&&Ee.return!=null&&(Ze=Ee.return(),Object(Ze)!==Ze))return}finally{if(er)throw gt}}return De}}function Qt(Y){if(Array.isArray(Y))return Y}var vt=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M5.333 10.667h21.334c.889 0 1.333.444 1.333 1.333s-.444 1.333-1.333 1.333H5.333C4.444 13.333 4 12.89 4 12s.444-1.333 1.333-1.333Z"}),y.createElement("path",{d:"M13.207 2.667h.126a1.206 1.206 0 0 1 1.2 1.326l-2.413 24.14a1.333 1.333 0 0 1-1.327 1.2h-.126a1.206 1.206 0 0 1-1.2-1.326l2.413-24.14c.068-.682.642-1.2 1.327-1.2Zm8 0h.126a1.206 1.206 0 0 1 1.2 1.326l-2.413 24.14a1.333 1.333 0 0 1-1.327 1.2h-.126a1.206 1.206 0 0 1-1.2-1.326l2.413-24.14c.068-.682.642-1.2 1.327-1.2Z"}),y.createElement("path",{d:"M5.333 18.667h21.334c.889 0 1.333.444 1.333 1.333s-.444 1.333-1.333 1.333H5.333C4.444 21.333 4 20.89 4 20s.444-1.333 1.333-1.333Z"}))},he=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M9.402 0h14.78L30 6.16V24.5c0 1.933-1.71 3.5-3.589 3.5H9.401C7.524 28 6 26.433 6 24.5v-21C6 1.567 7.523 0 9.402 0ZM23 2v4.183c0 .451.366.817.817.817H28l-5-5Zm3.333 24c.92 0 1.667-.768 1.667-1.714V8.857h-5c-.92 0-1.667-.767-1.667-1.714V2H9.667C8.747 2 8 2.768 8 3.714v20.572C8 25.232 8.746 26 9.667 26h16.666Z"}))},ae=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M6.12 14.589h6.628l1.52 4.004h2.485l-5.938-15.19H8.053L2.115 18.732H4.6l1.52-4.143ZM8.88 6.855c.139-.414.277-.828.415-1.38h.138c0 .138.138.414.414 1.104 0 .138.138.276.138.276 0 .138.829 2.072 2.21 5.938H6.672c1.519-3.866 2.21-5.8 2.21-5.938Zm8.148 2.348h12.705v1.933H17.029V9.203ZM2.115 20.665h27.619v1.933H2.114v-1.933Zm14.914-5.662h12.705v1.933H17.029v-1.933ZM2.115 26.327h27.619v1.933H2.114v-1.933ZM17.029 3.54h12.705v1.934H17.029V3.54Z"}))},xt=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M28 6h-5a5 5 0 0 0-10 0H8a2 2 0 0 0-2 2v5a5 5 0 0 0 0 10v5a2 2 0 0 0 2 2h7v-2a3 3 0 0 1 6 0v2h7a2 2 0 0 0 2-2v-7h-2a3 3 0 0 1 0-6h2V8a2 2 0 0 0-2-2Zm-5 12a5 5 0 0 0 5 5v5h-5a5 5 0 0 0-10 0H8v-7H6a3 3 0 0 1 0-6h2V8h7V6a3 3 0 0 1 6 0v2h7v5a5 5 0 0 0-5 5Z"}))},Pe={title:vt,page:he,content:ae,demo:xt},Pt=function(me){return y.createElement(y.Fragment,null,me.texts.map(function(Ee,Ge){return y.createElement(y.Fragment,{key:Ge},Ee.highlighted?y.createElement("mark",null,Ee.text):Ee.text)}))},Lt=function(me){var Ee=(0,y.useCallback)(function(){var De=0,We=[];return me.forEach(function(er){er.title&&We.push({type:"title",value:{title:er.title}}),er.hints.forEach(function(Ft){We.push({type:"hint",activeIndex:De++,value:Ft})})}),[We,De]},[me]),Ge=(0,y.useState)(Ee),gt=et(Ge,2),at=gt[0],Ze=gt[1];return(0,y.useEffect)(function(){Ze(Ee)},[me]),at},Ye=function(me){var Ee=Lt(me.data),Ge=et(Ee,2),gt=Ge[0],at=Ge[1],Ze=(0,y.useState)(-1),De=et(Ze,2),We=De[0],er=De[1],Ft=(0,Ve.TH)(),or=Ft.pathname,Ar=function(ke){var Et;(Et=me.onItemSelect)===null||Et===void 0||Et.call(me,ke);var cr=new URL(ke==null?void 0:ke.link,location.origin);(cr==null?void 0:cr.pathname)===or&&!cr.hash&&setTimeout(function(){Ne(0,{maxDuration:300})},1)};(0,y.useEffect)(function(){var qe=function(Et){if(Et.key==="ArrowDown")er((We+1)%at);else if(Et.key==="ArrowUp")er((We+at-1)%at);else if(Et.key==="Enter"&&We>=0){var cr=gt.find(function(Lr){return Lr.type==="hint"&&Lr.activeIndex===We}).value;Ve.m8.push(cr.link),Ar==null||Ar(cr),document.activeElement.blur()}["Escape","Enter"].includes(Et.key)&&er(-1)};return document.addEventListener("keydown",qe),function(){return document.removeEventListener("keydown",qe)}});var $r=null;return me.loading?$r=y.createElement("div",{className:"dumi-default-search-empty"},y.createElement(ne,null),y.createElement(Ve._H,{id:"search.loading"})):me.data.length?$r=y.createElement("dl",null,gt.map(function(qe,ke){return qe.type==="title"?y.createElement("dt",{key:String(ke)},qe.value.title):y.createElement("dd",{key:String(ke)},y.createElement(Ve.rU,{to:qe.value.link,"data-active":We===qe.activeIndex||void 0,onClick:function(){return Ar==null?void 0:Ar(qe.value)}},y.createElement(Pe[qe.value.type]),y.createElement("h4",null,y.createElement(Pt,{texts:qe.value.highlightTitleTexts})),y.createElement("p",null,y.createElement(Pt,{texts:qe.value.highlightTexts}))))})):$r=y.createElement("div",{className:"dumi-default-search-empty"},y.createElement(ne,null),y.createElement(Ve._H,{id:"search.not.found"})),y.createElement("div",{className:"dumi-default-search-result",onMouseEnter:function(){return er(-1)},onMouseDownCapture:function(ke){return ke.preventDefault()},onMouseUpCapture:function(){document.activeElement.blur()}},$r)},Le=Ye},83465:function($t,we,E){$t=E.nmd($t);var y=200,M="__lodash_hash_undefined__",U=9007199254740991,xe="[object Arguments]",te="[object Array]",J="[object Boolean]",w="[object Date]",ne="[object Error]",W="[object Function]",Z="[object GeneratorFunction]",ce="[object Map]",Ce="[object Number]",de="[object Object]",je="[object Promise]",Ot="[object RegExp]",rt="[object Set]",fe="[object String]",Ne="[object Symbol]",Ve="[object WeakMap]",et="[object ArrayBuffer]",tt="[object DataView]",Xe="[object Float32Array]",Ue="[object Float64Array]",Mt="[object Int8Array]",Qt="[object Int16Array]",vt="[object Int32Array]",he="[object Uint8Array]",ae="[object Uint8ClampedArray]",xt="[object Uint16Array]",Pe="[object Uint32Array]",Pt=/[\\^$.*+?()[\]{}|]/g,Lt=/\w*$/,Ye=/^\[object .+?Constructor\]$/,Le=/^(?:0|[1-9]\d*)$/,Y={};Y[xe]=Y[te]=Y[et]=Y[tt]=Y[J]=Y[w]=Y[Xe]=Y[Ue]=Y[Mt]=Y[Qt]=Y[vt]=Y[ce]=Y[Ce]=Y[de]=Y[Ot]=Y[rt]=Y[fe]=Y[Ne]=Y[he]=Y[ae]=Y[xt]=Y[Pe]=!0,Y[ne]=Y[W]=Y[Ve]=!1;var me=typeof E.g=="object"&&E.g&&E.g.Object===Object&&E.g,Ee=typeof self=="object"&&self&&self.Object===Object&&self,Ge=me||Ee||Function("return this")(),gt=we&&!we.nodeType&&we,at=gt&&!0&&$t&&!$t.nodeType&&$t,Ze=at&&at.exports===gt;function De(N,be){return N.set(be[0],be[1]),N}function We(N,be){return N.add(be),N}function er(N,be){for(var Be=-1,Nt=N?N.length:0;++Be<Nt&&be(N[Be],Be,N)!==!1;);return N}function Ft(N,be){for(var Be=-1,Nt=be.length,yr=N.length;++Be<Nt;)N[yr+Be]=be[Be];return N}function or(N,be,Be,Nt){var yr=-1,qn=N?N.length:0;for(Nt&&qn&&(Be=N[++yr]);++yr<qn;)Be=be(Be,N[yr],yr,N);return Be}function Ar(N,be){for(var Be=-1,Nt=Array(N);++Be<N;)Nt[Be]=be(Be);return Nt}function $r(N,be){return N==null?void 0:N[be]}function qe(N){var be=!1;if(N!=null&&typeof N.toString!="function")try{be=!!(N+"")}catch(Be){}return be}function ke(N){var be=-1,Be=Array(N.size);return N.forEach(function(Nt,yr){Be[++be]=[yr,Nt]}),Be}function Et(N,be){return function(Be){return N(be(Be))}}function cr(N){var be=-1,Be=Array(N.size);return N.forEach(function(Nt){Be[++be]=Nt}),Be}var Lr=Array.prototype,Ur=Function.prototype,yt=Object.prototype,Te=Ge["__core-js_shared__"],$e=function(){var N=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),dt=Ur.toString,Dt=yt.hasOwnProperty,nt=yt.toString,re=RegExp("^"+dt.call(Dt).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),se=Ze?Ge.Buffer:void 0,q=Ge.Symbol,Re=Ge.Uint8Array,Ae=Et(Object.getPrototypeOf,Object),Tt=Object.create,jt=yt.propertyIsEnumerable,Xt=Lr.splice,zt=Object.getOwnPropertySymbols,Rt=se?se.isBuffer:void 0,mr=Et(Object.keys,Object),St=ri(Ge,"DataView"),pe=ri(Ge,"Map"),Yt=ri(Ge,"Promise"),Jt=ri(Ge,"Set"),ir=ri(Ge,"WeakMap"),tr=ri(Object,"create"),rr=Yn(St),xn=Yn(pe),jr=Yn(Yt),gn=Yn(Jt),ze=Yn(ir),ar=q?q.prototype:void 0,vr=ar?ar.valueOf:void 0;function Tr(N){var be=-1,Be=N?N.length:0;for(this.clear();++be<Be;){var Nt=N[be];this.set(Nt[0],Nt[1])}}function br(){this.__data__=tr?tr(null):{}}function yn(N){return this.has(N)&&delete this.__data__[N]}function Vn(N){var be=this.__data__;if(tr){var Be=be[N];return Be===M?void 0:Be}return Dt.call(be,N)?be[N]:void 0}function fr(N){var be=this.__data__;return tr?be[N]!==void 0:Dt.call(be,N)}function Qn(N,be){var Be=this.__data__;return Be[N]=tr&&be===void 0?M:be,this}Tr.prototype.clear=br,Tr.prototype.delete=yn,Tr.prototype.get=Vn,Tr.prototype.has=fr,Tr.prototype.set=Qn;function un(N){var be=-1,Be=N?N.length:0;for(this.clear();++be<Be;){var Nt=N[be];this.set(Nt[0],Nt[1])}}function Wn(){this.__data__=[]}function Mn(N){var be=this.__data__,Be=ve(be,N);if(Be<0)return!1;var Nt=be.length-1;return Be==Nt?be.pop():Xt.call(be,Be,1),!0}function fi(N){var be=this.__data__,Be=ve(be,N);return Be<0?void 0:be[Be][1]}function Ei(N){return ve(this.__data__,N)>-1}function ti(N,be){var Be=this.__data__,Nt=ve(Be,N);return Nt<0?Be.push([N,be]):Be[Nt][1]=be,this}un.prototype.clear=Wn,un.prototype.delete=Mn,un.prototype.get=fi,un.prototype.has=Ei,un.prototype.set=ti;function dn(N){var be=-1,Be=N?N.length:0;for(this.clear();++be<Be;){var Nt=N[be];this.set(Nt[0],Nt[1])}}function Dr(){this.__data__={hash:new Tr,map:new(pe||un),string:new Tr}}function bt(N){return yi(this,N).delete(N)}function on(N){return yi(this,N).get(N)}function Se(N){return yi(this,N).has(N)}function Ke(N,be){return yi(this,N).set(N,be),this}dn.prototype.clear=Dr,dn.prototype.delete=bt,dn.prototype.get=on,dn.prototype.has=Se,dn.prototype.set=Ke;function It(N){this.__data__=new un(N)}function ot(){this.__data__=new un}function Vt(N){return this.__data__.delete(N)}function Rr(N){return this.__data__.get(N)}function Tn(N){return this.__data__.has(N)}function G(N,be){var Be=this.__data__;if(Be instanceof un){var Nt=Be.__data__;if(!pe||Nt.length<y-1)return Nt.push([N,be]),this;Be=this.__data__=new dn(Nt)}return Be.set(N,be),this}It.prototype.clear=ot,It.prototype.delete=Vt,It.prototype.get=Rr,It.prototype.has=Tn,It.prototype.set=G;function ye(N,be){var Be=$a(N)||Ma(N)?Ar(N.length,String):[],Nt=Be.length,yr=!!Nt;for(var qn in N)(be||Dt.call(N,qn))&&!(yr&&(qn=="length"||wn(qn,Nt)))&&Be.push(qn);return Be}function Oe(N,be,Be){var Nt=N[be];(!(Dt.call(N,be)&&Xi(Nt,Be))||Be===void 0&&!(be in N))&&(N[be]=Be)}function ve(N,be){for(var Be=N.length;Be--;)if(Xi(N[Be][0],be))return Be;return-1}function He(N,be){return N&&tn(be,Ie(be),N)}function wt(N,be,Be,Nt,yr,qn,Hi){var Fe;if(Nt&&(Fe=qn?Nt(N,yr,qn,Hi):Nt(N)),Fe!==void 0)return Fe;if(!ai(N))return N;var Aa=$a(N);if(Aa){if(Fe=Di(N),!be)return en(N,Fe)}else{var oi=Br(N),Ho=oi==W||oi==Z;if(wi(N))return Wr(N,be);if(oi==de||oi==xe||Ho&&!qn){if(qe(N))return qn?N:{};if(Fe=Zi(Ho?{}:N),!be)return gr(N,He(Fe,N))}else{if(!Y[oi])return qn?N:{};Fe=Ni(N,oi,wt,be)}}Hi||(Hi=new It);var Eo=Hi.get(N);if(Eo)return Eo;if(Hi.set(N,Fe),!Aa)var vo=Be?Sn(N):Ie(N);return er(vo||N,function(Go,To){vo&&(To=Go,Go=N[To]),Oe(Fe,To,wt(Go,be,Be,Nt,To,N,Hi))}),Fe}function pr(N){return ai(N)?Tt(N):{}}function xr(N,be,Be){var Nt=be(N);return $a(N)?Nt:Ft(Nt,Be(N))}function Fr(N){return nt.call(N)}function Ht(N){if(!ai(N)||Si(N))return!1;var be=lo(N)||qe(N)?re:Ye;return be.test(Yn(N))}function Sr(N){if(!ea(N))return mr(N);var be=[];for(var Be in Object(N))Dt.call(N,Be)&&Be!="constructor"&&be.push(Be);return be}function Wr(N,be){if(be)return N.slice();var Be=new N.constructor(N.length);return N.copy(Be),Be}function Vr(N){var be=new N.constructor(N.byteLength);return new Re(be).set(new Re(N)),be}function hn(N,be){var Be=be?Vr(N.buffer):N.buffer;return new N.constructor(Be,N.byteOffset,N.byteLength)}function Ct(N,be,Be){var Nt=be?Be(ke(N),!0):ke(N);return or(Nt,De,new N.constructor)}function kr(N){var be=new N.constructor(N.source,Lt.exec(N));return be.lastIndex=N.lastIndex,be}function qr(N,be,Be){var Nt=be?Be(cr(N),!0):cr(N);return or(Nt,We,new N.constructor)}function mn(N){return vr?Object(vr.call(N)):{}}function sn(N,be){var Be=be?Vr(N.buffer):N.buffer;return new N.constructor(Be,N.byteOffset,N.length)}function en(N,be){var Be=-1,Nt=N.length;for(be||(be=Array(Nt));++Be<Nt;)be[Be]=N[Be];return be}function tn(N,be,Be,Nt){Be||(Be={});for(var yr=-1,qn=be.length;++yr<qn;){var Hi=be[yr],Fe=Nt?Nt(Be[Hi],N[Hi],Hi,Be,N):void 0;Oe(Be,Hi,Fe===void 0?N[Hi]:Fe)}return Be}function gr(N,be){return tn(N,it(N),be)}function Sn(N){return xr(N,Ie,it)}function yi(N,be){var Be=N.__data__;return Jn(be)?Be[typeof be=="string"?"string":"hash"]:Be.map}function ri(N,be){var Be=$r(N,be);return Ht(Be)?Be:void 0}var it=zt?Et(zt,Object):Bn,Br=Fr;(St&&Br(new St(new ArrayBuffer(1)))!=tt||pe&&Br(new pe)!=ce||Yt&&Br(Yt.resolve())!=je||Jt&&Br(new Jt)!=rt||ir&&Br(new ir)!=Ve)&&(Br=function(N){var be=nt.call(N),Be=be==de?N.constructor:void 0,Nt=Be?Yn(Be):void 0;if(Nt)switch(Nt){case rr:return tt;case xn:return ce;case jr:return je;case gn:return rt;case ze:return Ve}return be});function Di(N){var be=N.length,Be=N.constructor(be);return be&&typeof N[0]=="string"&&Dt.call(N,"index")&&(Be.index=N.index,Be.input=N.input),Be}function Zi(N){return typeof N.constructor=="function"&&!ea(N)?pr(Ae(N)):{}}function Ni(N,be,Be,Nt){var yr=N.constructor;switch(be){case et:return Vr(N);case J:case w:return new yr(+N);case tt:return hn(N,Nt);case Xe:case Ue:case Mt:case Qt:case vt:case he:case ae:case xt:case Pe:return sn(N,Nt);case ce:return Ct(N,Nt,Be);case Ce:case fe:return new yr(N);case Ot:return kr(N);case rt:return qr(N,Nt,Be);case Ne:return mn(N)}}function wn(N,be){return be=be==null?U:be,!!be&&(typeof N=="number"||Le.test(N))&&N>-1&&N%1==0&&N<be}function Jn(N){var be=typeof N;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?N!=="__proto__":N===null}function Si(N){return!!$e&&$e in N}function ea(N){var be=N&&N.constructor,Be=typeof be=="function"&&be.prototype||yt;return N===Be}function Yn(N){if(N!=null){try{return dt.call(N)}catch(be){}try{return N+""}catch(be){}}return""}function Zn(N){return wt(N,!0,!0)}function Xi(N,be){return N===be||N!==N&&be!==be}function Ma(N){return Io(N)&&Dt.call(N,"callee")&&(!jt.call(N,"callee")||nt.call(N)==xe)}var $a=Array.isArray;function ma(N){return N!=null&&qa(N.length)&&!lo(N)}function Io(N){return Ln(N)&&ma(N)}var wi=Rt||eo;function lo(N){var be=ai(N)?nt.call(N):"";return be==W||be==Z}function qa(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=U}function ai(N){var be=typeof N;return!!N&&(be=="object"||be=="function")}function Ln(N){return!!N&&typeof N=="object"}function Ie(N){return ma(N)?ye(N):Sr(N)}function Bn(){return[]}function eo(){return!1}$t.exports=Zn},50010:function($t,we,E){"use strict";E.d(we,{Z:function(){return vt}});var y=E(1413),M=E(97685),U=E(67294),xe=E(54535),te=E(8410),J=E(4942),w=E(87462),ne=E(94184),W=E.n(ne),Z=E(38289),ce=E(15105),Ce=E(64217),de=U.createContext(null),je=de,Ot=function(ae){var xt=ae.prefixCls,Pe=ae.className,Pt=ae.style,Lt=ae.children,Ye=ae.containerRef,Le=ae.onMouseEnter,Y=ae.onMouseOver,me=ae.onMouseLeave,Ee=ae.onClick,Ge=ae.onKeyDown,gt=ae.onKeyUp,at={onMouseEnter:Le,onMouseOver:Y,onMouseLeave:me,onClick:Ee,onKeyDown:Ge,onKeyUp:gt};return U.createElement(U.Fragment,null,U.createElement("div",(0,w.Z)({className:W()("".concat(xt,"-content"),Pe),style:(0,y.Z)({},Pt),"aria-modal":"true",role:"dialog",ref:Ye},at),Lt))},rt=Ot,fe=E(80334);function Ne(he){return typeof he=="string"&&String(Number(he))===he?((0,fe.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(he)):he}function Ve(he){warning(!("wrapperClassName"in he),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!he.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var et={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function tt(he,ae){var xt,Pe,Pt,Lt,Ye=he.prefixCls,Le=he.open,Y=he.placement,me=he.inline,Ee=he.push,Ge=he.forceRender,gt=he.autoFocus,at=he.keyboard,Ze=he.rootClassName,De=he.rootStyle,We=he.zIndex,er=he.className,Ft=he.style,or=he.motion,Ar=he.width,$r=he.height,qe=he.children,ke=he.contentWrapperStyle,Et=he.mask,cr=he.maskClosable,Lr=he.maskMotion,Ur=he.maskClassName,yt=he.maskStyle,Te=he.afterOpenChange,$e=he.onClose,dt=he.onMouseEnter,Dt=he.onMouseOver,nt=he.onMouseLeave,re=he.onClick,se=he.onKeyDown,q=he.onKeyUp,Re=U.useRef(),Ae=U.useRef(),Tt=U.useRef();U.useImperativeHandle(ae,function(){return Re.current});var jt=function(ar){var vr=ar.keyCode,Tr=ar.shiftKey;switch(vr){case ce.Z.TAB:{if(vr===ce.Z.TAB){if(!Tr&&document.activeElement===Tt.current){var br;(br=Ae.current)===null||br===void 0||br.focus({preventScroll:!0})}else if(Tr&&document.activeElement===Ae.current){var yn;(yn=Tt.current)===null||yn===void 0||yn.focus({preventScroll:!0})}}break}case ce.Z.ESC:{$e&&at&&(ar.stopPropagation(),$e(ar));break}}};U.useEffect(function(){if(Le&&gt){var ze;(ze=Re.current)===null||ze===void 0||ze.focus({preventScroll:!0})}},[Le]);var Xt=U.useState(!1),zt=(0,M.Z)(Xt,2),Rt=zt[0],mr=zt[1],St=U.useContext(je),pe;Ee===!1?pe={distance:0}:Ee===!0?pe={}:pe=Ee||{};var Yt=(xt=(Pe=(Pt=pe)===null||Pt===void 0?void 0:Pt.distance)!==null&&Pe!==void 0?Pe:St==null?void 0:St.pushDistance)!==null&&xt!==void 0?xt:180,Jt=U.useMemo(function(){return{pushDistance:Yt,push:function(){mr(!0)},pull:function(){mr(!1)}}},[Yt]);U.useEffect(function(){if(Le){var ze;St==null||(ze=St.push)===null||ze===void 0||ze.call(St)}else{var ar;St==null||(ar=St.pull)===null||ar===void 0||ar.call(St)}},[Le]),U.useEffect(function(){return function(){var ze;St==null||(ze=St.pull)===null||ze===void 0||ze.call(St)}},[]);var ir=Et&&U.createElement(Z.default,(0,w.Z)({key:"mask"},Lr,{visible:Le}),function(ze,ar){var vr=ze.className,Tr=ze.style;return U.createElement("div",{className:W()("".concat(Ye,"-mask"),vr,Ur),style:(0,y.Z)((0,y.Z)({},Tr),yt),onClick:cr&&Le?$e:void 0,ref:ar})}),tr=typeof or=="function"?or(Y):or,rr={};if(Rt&&Yt)switch(Y){case"top":rr.transform="translateY(".concat(Yt,"px)");break;case"bottom":rr.transform="translateY(".concat(-Yt,"px)");break;case"left":rr.transform="translateX(".concat(Yt,"px)");break;default:rr.transform="translateX(".concat(-Yt,"px)");break}Y==="left"||Y==="right"?rr.width=Ne(Ar):rr.height=Ne($r);var xn={onMouseEnter:dt,onMouseOver:Dt,onMouseLeave:nt,onClick:re,onKeyDown:se,onKeyUp:q},jr=U.createElement(Z.default,(0,w.Z)({key:"panel"},tr,{visible:Le,forceRender:Ge,onVisibleChanged:function(ar){Te==null||Te(ar)},removeOnLeave:!1,leavedClassName:"".concat(Ye,"-content-wrapper-hidden")}),function(ze,ar){var vr=ze.className,Tr=ze.style;return U.createElement("div",(0,w.Z)({className:W()("".concat(Ye,"-content-wrapper"),vr),style:(0,y.Z)((0,y.Z)((0,y.Z)({},rr),Tr),ke)},(0,Ce.Z)(he,{data:!0})),U.createElement(rt,(0,w.Z)({containerRef:ar,prefixCls:Ye,className:er,style:Ft},xn),qe))}),gn=(0,y.Z)({},De);return We&&(gn.zIndex=We),U.createElement(je.Provider,{value:Jt},U.createElement("div",{className:W()(Ye,"".concat(Ye,"-").concat(Y),Ze,(Lt={},(0,J.Z)(Lt,"".concat(Ye,"-open"),Le),(0,J.Z)(Lt,"".concat(Ye,"-inline"),me),Lt)),style:gn,tabIndex:-1,ref:Re,onKeyDown:jt},ir,U.createElement("div",{tabIndex:0,ref:Ae,style:et,"aria-hidden":"true","data-sentinel":"start"}),jr,U.createElement("div",{tabIndex:0,ref:Tt,style:et,"aria-hidden":"true","data-sentinel":"end"})))}var Xe=U.forwardRef(tt),Ue=Xe,Mt=function(ae){var xt=ae.open,Pe=xt===void 0?!1:xt,Pt=ae.prefixCls,Lt=Pt===void 0?"rc-drawer":Pt,Ye=ae.placement,Le=Ye===void 0?"right":Ye,Y=ae.autoFocus,me=Y===void 0?!0:Y,Ee=ae.keyboard,Ge=Ee===void 0?!0:Ee,gt=ae.width,at=gt===void 0?378:gt,Ze=ae.mask,De=Ze===void 0?!0:Ze,We=ae.maskClosable,er=We===void 0?!0:We,Ft=ae.getContainer,or=ae.forceRender,Ar=ae.afterOpenChange,$r=ae.destroyOnClose,qe=ae.onMouseEnter,ke=ae.onMouseOver,Et=ae.onMouseLeave,cr=ae.onClick,Lr=ae.onKeyDown,Ur=ae.onKeyUp,yt=U.useState(!1),Te=(0,M.Z)(yt,2),$e=Te[0],dt=Te[1],Dt=U.useState(!1),nt=(0,M.Z)(Dt,2),re=nt[0],se=nt[1];(0,te.Z)(function(){se(!0)},[]);var q=re?Pe:!1,Re=U.useRef(),Ae=U.useRef();(0,te.Z)(function(){q&&(Ae.current=document.activeElement)},[q]);var Tt=function(Rt){var mr;if(dt(Rt),Ar==null||Ar(Rt),!Rt&&Ae.current&&!(!((mr=Re.current)===null||mr===void 0)&&mr.contains(Ae.current))){var St;(St=Ae.current)===null||St===void 0||St.focus({preventScroll:!0})}};if(!or&&!$e&&!q&&$r)return null;var jt={onMouseEnter:qe,onMouseOver:ke,onMouseLeave:Et,onClick:cr,onKeyDown:Lr,onKeyUp:Ur},Xt=(0,y.Z)((0,y.Z)({},ae),{},{open:q,prefixCls:Lt,placement:Le,autoFocus:me,keyboard:Ge,width:at,mask:De,maskClosable:er,inline:Ft===!1,afterOpenChange:Tt,ref:Re},jt);return U.createElement(xe.Z,{open:q||or||$e,autoDestroy:!1,getContainer:Ft,autoLock:De&&(q||$e)},U.createElement(Ue,Xt))},Qt=Mt,vt=Qt},91298:function($t,we,E){"use strict";E.d(we,{Z:function(){return ce}});var y=E(1413),M=E(4942),U=E(91),xe=E(67294),te=E(94184),J=E.n(te),w=function(de){var je=de.prefixCls,Ot=de.icon,rt=de.title,fe=de.items,Ne=fe===void 0?[]:fe,Ve=de.style,et=de.className;return xe.createElement("div",{className:J()("".concat(je,"-column"),et),style:Ve},(rt||Ot)&&xe.createElement("h2",null,Ot&&xe.createElement("span",{className:"".concat(je,"-column-icon")},Ot),rt),Ne.map(function(tt,Xe){var Ue=tt.LinkComponent||"a";return xe.createElement("div",{className:J()("".concat(je,"-item"),tt.className),style:tt.style,key:Xe},xe.createElement(Ue,{href:tt.url,to:typeof Ue!="string"?tt.url:void 0,target:tt.openExternal?"_blank":void 0,rel:tt.openExternal?"noopener noreferrer":void 0},tt.icon&&xe.createElement("span",{className:"".concat(je,"-item-icon")},tt.icon),tt.title),tt.description&&xe.createElement(xe.Fragment,null,xe.createElement("span",{className:"".concat(je,"-item-separator")},"-"),xe.createElement("span",{className:"".concat(je,"-item-description")},tt.description)))}))},ne=w,W=["prefixCls","className","style","bottom","columns","maxColumnsPerRow","backgroundColor","columnLayout","theme"],Z=function(de){var je=de.prefixCls,Ot=je===void 0?"rc-footer":je,rt=de.className,fe=de.style,Ne=de.bottom,Ve=de.columns,et=de.maxColumnsPerRow,tt=de.backgroundColor,Xe=de.columnLayout,Ue=de.theme,Mt=Ue===void 0?"dark":Ue,Qt=(0,U.Z)(de,W),vt=J()("".concat(Ot),rt,(0,M.Z)({},"".concat(Ot,"-").concat(Mt),!!Mt)),he=typeof et=="number"&&et>0;return xe.createElement("footer",(0,y.Z)((0,y.Z)({},Qt),{},{className:vt,style:(0,y.Z)((0,y.Z)({},fe),{},{backgroundColor:tt})}),xe.createElement("section",{className:"".concat(Ot,"-container")},Ve&&Ve.length>0&&xe.createElement("section",{className:"".concat(Ot,"-columns"),style:{justifyContent:Xe,flexWrap:he?"wrap":void 0}},Ve.map(function(ae,xt){var Pe=ae.title,Pt=ae.icon,Lt=ae.style,Ye=ae.className,Le=ae.items,Y=Le===void 0?[]:Le,me=(0,y.Z)({},Lt);return he&&(me.flex="0 0 ".concat(100/(et+1)+.1,"%")),xe.createElement(ne,{key:xt,prefixCls:Ot,title:Pe,icon:Pt,items:Y,style:me,className:Ye})}))),Ne&&xe.createElement("section",{className:"".concat(Ot,"-bottom")},xe.createElement("div",{className:"".concat(Ot,"-bottom-container")},Ne)))},ce=Z},92419:function($t,we,E){"use strict";E.d(we,{G:function(){return xe},Z:function(){return fe}});var y=E(94184),M=E.n(y),U=E(67294);function xe(Ne){var Ve=Ne.children,et=Ne.prefixCls,tt=Ne.id,Xe=Ne.overlayInnerStyle,Ue=Ne.className,Mt=Ne.style;return U.createElement("div",{className:M()("".concat(et,"-content"),Ue),style:Mt},U.createElement("div",{className:"".concat(et,"-inner"),id:tt,role:"tooltip",style:Xe},typeof Ve=="function"?Ve():Ve))}var te=E(87462),J=E(1413),w=E(91),ne=E(16772),W={shiftX:64,adjustY:1},Z={adjustX:1,shiftY:!0},ce=[0,0],Ce={left:{points:["cr","cl"],overflow:Z,offset:[-4,0],targetOffset:ce},right:{points:["cl","cr"],overflow:Z,offset:[4,0],targetOffset:ce},top:{points:["bc","tc"],overflow:W,offset:[0,-4],targetOffset:ce},bottom:{points:["tc","bc"],overflow:W,offset:[0,4],targetOffset:ce},topLeft:{points:["bl","tl"],overflow:W,offset:[0,-4],targetOffset:ce},leftTop:{points:["tr","tl"],overflow:Z,offset:[-4,0],targetOffset:ce},topRight:{points:["br","tr"],overflow:W,offset:[0,-4],targetOffset:ce},rightTop:{points:["tl","tr"],overflow:Z,offset:[4,0],targetOffset:ce},bottomRight:{points:["tr","br"],overflow:W,offset:[0,4],targetOffset:ce},rightBottom:{points:["bl","br"],overflow:Z,offset:[4,0],targetOffset:ce},bottomLeft:{points:["tl","bl"],overflow:W,offset:[0,4],targetOffset:ce},leftBottom:{points:["br","bl"],overflow:Z,offset:[-4,0],targetOffset:ce}},de=null,je=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Ot=function(Ve,et){var tt=Ve.overlayClassName,Xe=Ve.trigger,Ue=Xe===void 0?["hover"]:Xe,Mt=Ve.mouseEnterDelay,Qt=Mt===void 0?0:Mt,vt=Ve.mouseLeaveDelay,he=vt===void 0?.1:vt,ae=Ve.overlayStyle,xt=Ve.prefixCls,Pe=xt===void 0?"rc-tooltip":xt,Pt=Ve.children,Lt=Ve.onVisibleChange,Ye=Ve.afterVisibleChange,Le=Ve.transitionName,Y=Ve.animation,me=Ve.motion,Ee=Ve.placement,Ge=Ee===void 0?"right":Ee,gt=Ve.align,at=gt===void 0?{}:gt,Ze=Ve.destroyTooltipOnHide,De=Ze===void 0?!1:Ze,We=Ve.defaultVisible,er=Ve.getTooltipContainer,Ft=Ve.overlayInnerStyle,or=Ve.arrowContent,Ar=Ve.overlay,$r=Ve.id,qe=Ve.showArrow,ke=qe===void 0?!0:qe,Et=(0,w.Z)(Ve,je),cr=(0,U.useRef)(null);(0,U.useImperativeHandle)(et,function(){return cr.current});var Lr=(0,J.Z)({},Et);"visible"in Ve&&(Lr.popupVisible=Ve.visible);var Ur=function(){return U.createElement(xe,{key:"content",prefixCls:Pe,id:$r,overlayInnerStyle:Ft},Ar)};return U.createElement(ne.Z,(0,te.Z)({popupClassName:tt,prefixCls:Pe,popup:Ur,action:Ue,builtinPlacements:Ce,popupPlacement:Ge,ref:cr,popupAlign:at,getPopupContainer:er,onPopupVisibleChange:Lt,afterPopupVisibleChange:Ye,popupTransitionName:Le,popupAnimation:Y,popupMotion:me,defaultPopupVisible:We,autoDestroy:De,mouseLeaveDelay:he,popupStyle:ae,mouseEnterDelay:Qt,arrow:ke},Lr),Pt)},rt=(0,U.forwardRef)(Ot),fe=rt},75251:function($t,we,E){"use strict";var y;var M=E(67294),U=Symbol.for("react.element"),xe=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,J=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function ne(W,Z,ce){var Ce,de={},je=null,Ot=null;ce!==void 0&&(je=""+ce),Z.key!==void 0&&(je=""+Z.key),Z.ref!==void 0&&(Ot=Z.ref);for(Ce in Z)te.call(Z,Ce)&&!w.hasOwnProperty(Ce)&&(de[Ce]=Z[Ce]);if(W&&W.defaultProps)for(Ce in Z=W.defaultProps,Z)de[Ce]===void 0&&(de[Ce]=Z[Ce]);return{$$typeof:U,type:W,key:je,ref:Ot,props:de,_owner:J.current}}y=xe,we.jsx=ne,we.jsxs=ne},85893:function($t,we,E){"use strict";$t.exports=E(75251)},87256:function($t,we,E){"use strict";E.d(we,{J5N:function(){return tv}});function y(i,o,n,e,t,r,a){try{var s=i[r](a),l=s.value}catch(u){n(u);return}s.done?o(l):Promise.resolve(l).then(e,t)}function M(i){return function(){var o=this,n=arguments;return new Promise(function(e,t){var r=i.apply(o,n);function a(l){y(r,e,t,a,s,"next",l)}function s(l){y(r,e,t,a,s,"throw",l)}a(void 0)})}}function U(i,o){return o!=null&&typeof Symbol!="undefined"&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](i):U(i,o)}function xe(i){"@swc/helpers - typeof";return i&&typeof Symbol!="undefined"&&i.constructor===Symbol?"symbol":typeof i}function te(i,o,n,e){var t=arguments.length,r=t<3?o:e===null?e=Object.getOwnPropertyDescriptor(o,n):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,o,n,e);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(r=(t<3?a(r):t>3?a(o,n,r):a(o,n))||r);return t>3&&r&&Object.defineProperty(o,n,r),r}function J(i,o){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},e,t,r,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(h){return l([u,h])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(e=1,t&&(r=u[0]&2?t.return:u[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,u[1])).done)return r;switch(t=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,t=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=o.call(i,n)}catch(h){u=[6,h],t=0}finally{e=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var w,ne=new Uint8Array(16);function W(){if(!w&&(w=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!w))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(ne)}for(var Z=[],ce=0;ce<256;++ce)Z.push((ce+256).toString(16).slice(1));function Ce(i,o){return o===void 0&&(o=0),Z[i[o+0]]+Z[i[o+1]]+Z[i[o+2]]+Z[i[o+3]]+"-"+Z[i[o+4]]+Z[i[o+5]]+"-"+Z[i[o+6]]+Z[i[o+7]]+"-"+Z[i[o+8]]+Z[i[o+9]]+"-"+Z[i[o+10]]+Z[i[o+11]]+Z[i[o+12]]+Z[i[o+13]]+Z[i[o+14]]+Z[i[o+15]]}var de=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),je={randomUUID:de};function Ot(i,o,n){if(je.randomUUID&&!o&&!i)return je.randomUUID();i=i||{};var e=i.random||(i.rng||W)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,o){n=n||0;for(var t=0;t<16;++t)o[n+t]=e[t];return o}return Ce(e)}function rt(i,o){return i.includes(o)||i.push(o),i}function fe(i,o){var n=i.indexOf(o);return n>-1&&i.splice(n,1),i}function Ne(i,o,n,e){if(e===void 0&&(e=!1),!i.includes(o)&&(i.push(o),i.length!==1)){var t=i.length-1;if(t){var r=i[t];if(e)for(;i[t-1][n]<r[n]&&(i[t]=i[t-1],t--,t!==0););else for(;i[t-1][n]>r[n]&&(i[t]=i[t-1],t--,t!==0););i[t]=r}}}function Ve(i,o,n,e){e===void 0&&(e=1);var t=i.buffer;if(t.byteLength<i.BYTES_PER_ELEMENT*o){var r=Math.ceil(o*e);Number.isNaN(n)||(r=Math.min(r,n));var a=new ArrayBuffer(i.BYTES_PER_ELEMENT*r),s=new i.constructor(a);return s.set(i),s}return i}function et(i,o){var n=[0,0,0,0];if(Lr(i)){i=i.replace(/[\s\t\r\n]/g,"");var e=/rgba?\(([.\d]+),([.\d]+),([.\d]+),?([.\d]+)?\)/.exec(i);if(e){var t=+e[4];n=[+e[1],+e[2],+e[3],isNaN(t)?255:t*255]}else/^#[a-f\d]{3}$/i.test(i)?n=[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),255]:(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))&&(n=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255])}else U(i,Array)&&(n=[i[0],i[1],i[2],isNaN(i[3])?255:i[3]]);if(o)for(var r=0;r<4;r++)n[r]/=255;return n}function tt(i,o,n){if(i.length){for(var e,t=1;t<=i.length-1;t++){var r=i[t-1],a=i[t];if(r.stop<=o&&o<=a.stop){e=Ue(r.color,a.color,(o-r.stop)/(a.stop-r.stop));break}}return e||(e=i[i.length-1].color),n?e.map(function(s){return s/255}):e}return[0,0,0,0]}function Xe(i){var o=[];if(U(i,Array)?i.forEach(function(e){var t=e[0],r=e[1],a=e[2],s=e[3],l=e[4];o.push({stop:Mt(t),color:[r,a,s,l]})}):Object.keys(i).forEach(function(e){var t=i[e],r=et(t);o.push({stop:Mt(e),color:r})}),o=o.sort(function(e,t){return e.stop-t.stop}),o.length){o[0].stop!==0&&o.unshift({stop:0,color:o[0].color.slice()});var n=o[o.length-1];n.stop!==1&&o.push({stop:1,color:n.color.slice()})}return o}function Ue(i,o,n,e){var t=[],r=1-n;if(e)for(var a=0;a<4;a++)t[a]=i[a]*r+o[a]*n;else{for(var s=0;s<3;s++)t[s]=Math.round(Math.sqrt(i[s]*i[s]*r+o[s]*o[s]*n));t[3]=Math.round(i[3]*r+o[3]*n)}return t}function Mt(i){var o=/^(-)?([\d+.]+)%$/.exec(i);return o?+o[2]/100*(o[1]?-1:1):+i}function Qt(){if(typeof screen=="object"&&typeof document=="object"){var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=screen.width,n=o/i;return Math.min(2*n,2)}return 1}function vt(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}function he(){var i=navigator.userAgent.toLowerCase(),o=i.match(/cpu (iphone )?os (.*?) like mac os/);return o?parseInt(o[2],10):0}function ae(){return/\b[Aa]ndroid\b/.test(navigator.userAgent)}function xt(){return ae()||/\b(iPad|iPhone|iPod)\b/.test(navigator.userAgent)}function Pe(){return Pt()||Lt()}function Pt(){var i;return typeof my!="undefined"&&((i=my)==null?void 0:i.renderTarget)==="web"}function Lt(){return window.__wxjs_environment==="miniprogram"}function Ye(i){Lr(i)&&(i=et(i));for(var o=i,n={width:1,height:1,data:new Uint8Array(1*1*4)},e=n.data,t=0;t<4;t++)e[t]=o[t];return n}function Le(i){var o=128,n={width:o,height:1,data:new Uint8Array(o*1*4)},e=n.data,t=Xe(i);if(t.length){e.set(t[0].color,0);for(var r=1,a=0;r<o-1;r++){for(var s=r/o,l=void 0,u=void 0,h=a;h<t.length&&(l=t[h],u=t[h+1],!(l.stop<=s&&u.stop>s));h++);var m=Ue(l.color,u.color,(s-l.stop)/(u.stop-l.stop));e.set(m,r*4)}e.set(t[t.length-1].color,(o-1)*4)}return n}var Y;(function(i){i[i.none=1]="none",i[i.ascending=2]="ascending",i[i.descending=3]="descending"})(Y||(Y={}));function me(i,o){o===void 0&&(o=2);var n=i.length;if(n<=1||o===1)return i;if(n<=30){for(var e=1;e<n;e++)Ge(i,e,o);return i}else return gt(i,o)}function Ee(i,o,n){return n===void 0&&(n=2),i.includes(o)||(i.push(o),i.length===1)||n!==1&&Ge(i,i.length-1,n),i}function Ge(i,o,n){var e=i[o];if(n!==2)for(;o>=1&&i[o-1].priority<e.priority&&(i[o]=i[o-1],o--,o!==0););else for(;o>=1&&i[o-1].priority>e.priority&&(i[o]=i[o-1],o--,o!==0););i[o]=e}function gt(i,o,n,e){if(n===void 0&&(n=0),e===void 0&&(e=i.length-1),n>=e)return i;for(var t=i[n],r=n,a=e;r<a;){if(o===2){for(;i[a].priority>t.priority&&a>=r;)a--;for(;i[r].priority<=t.priority&&r<a;)r++}else{for(;i[a].priority<t.priority&&a>=r;)a--;for(;i[r].priority>=t.priority&&r<a;)r++}var s;s=[i[a],i[r]],i[r]=s[0],i[a]=s[1]}var l;return l=[i[r],i[n]],i[n]=l[0],i[r]=l[1],gt(i,o,n,r-1),gt(i,o,a+1,e),i}function at(i,o){if(o===void 0&&(o="item doesn't exist"),i==null)throw new Error(o)}function Ze(i,o){if(o===void 0&&(o="asserts failed"),!i)throw new Error(o)}function De(i){return/^[^\d.][\w-]*$/.test(i)}var We="[Galacean Effects]",er;function Ft(i){return["%c"+We,"color: #AA0100",""+i]}function or(i){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];var t;(t=console).error.apply(t,[].concat(Ft(i),[n])),er==null||er("error",i,n)}function Ar(i){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];var t;(t=console).debug.apply(t,[].concat(Ft(i))),er==null||er("info",i,n)}function $r(i){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++)n[e-1]=arguments[e];var t;(t=console).warn.apply(t,[].concat(Ft(i))),er==null||er("warn",i,n)}function qe(i){i&&yt(i)&&(er=i)}var ke={error:or,info:Ar,warn:$r,register:qe},Et;(function(i){i[i.destroy=0]="destroy",i[i.keep=1]="keep",i[i.force=0]="force"})(Et||(Et={}));function cr(){}function Lr(i){return typeof i=="string"}var Ur=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function yt(i){return Object.prototype.toString.call(i)==="[object Function]"}function Te(i){return Object.prototype.toString.call(i)==="[object Object]"}function $e(i){var o;return typeof i=="object"&&i!==null&&((o=i.tagName)==null?void 0:o.toUpperCase())==="CANVAS"}function dt(i,o){return i+Math.random()*(o-i)}function Dt(){throw new Error("Destroyed item cannot be used again.")}function nt(){return Ot().replace(/-/g,"")}function re(i,o,n){o===void 0&&(o="base64File"),n===void 0&&(n="");for(var e=i.split(",")[1]||i,t=atob(e),r=[],a=0;a<t.length;a+=512){for(var s=t.slice(a,a+512),l=new Array(s.length),u=0;u<s.length;u++)l[u]=s.charCodeAt(u);var h=new Uint8Array(l);r.push(h)}var m=new Blob(r,{type:n}),v=new File([m],o,{type:n});return v}function se(i,o){o.forEach(function(n){Object.getOwnPropertyNames(n.prototype).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n.prototype,e);if(!t)throw new Error("Cannot find property descriptor of class "+n);Object.defineProperty(i.prototype,e,t)})})}var q={},Re=[],Ae={};function Tt(i,o,n,e){Ae[i]&&ke.error("Duplicate registration for plugin "+i+"."),Ae[i]=n,q[i]=o,e&&rt(Re,i)}function jt(i){delete Ae[i],delete q[i],fe(Re,i)}var Xt=function(){function i(n){var e={},t=[],r=function(a){var s=q[a];t.includes(s)||(t.push(s),e[a]=s)};Re.forEach(r),n.forEach(r),this.plugins=Object.keys(e).map(function(a){var s=q[a];if(!s)throw new Error("The plugin '"+a+"' not found."+Rt(a));var l=new s;return l.name=a,l}).sort(function(a,s){return a.order-s.order})}var o=i.prototype;return o.initializeComposition=function(e,t){this.plugins.forEach(function(r){return r.onCompositionConstructed(e,t)})},o.destroyComposition=function(e){this.plugins.forEach(function(t){return t.onCompositionDestroyed(e)})},o.resetComposition=function(e,t){this.plugins.forEach(function(r){return r.onCompositionReset(e,t)})},o.processRawJSON=function(e,t){var r=this;return M(function(){return J(this,function(a){return[2,r.callStatic("processRawJSON",e,t)]})})()},o.processAssets=function(e,t){var r=this;return M(function(){return J(this,function(a){return[2,r.callStatic("processAssets",e,t)]})})()},o.precompile=function(e,t,r){var a=this;return M(function(){return J(this,function(s){return[2,a.callStatic("precompile",e,t,r)]})})()},o.loadResources=function(e,t){var r=this;return M(function(){return J(this,function(a){return[2,r.callStatic("prepareResource",e,t)]})})()},o.callStatic=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s=this;return M(function(){var l,u,h,m,v,p,b;return J(this,function(x){for(l=[],u=s.plugins,h=0;h<u.length;h++)m=u[h],v=q[m.name],e in v&&l.push(Promise.resolve((b=v[e])==null?void 0:(p=b).call.apply(p,[].concat([v],r))));return[2,Promise.all(l)]})})()},i}(),zt={"alipay-downgrade":"@galacean/effects-plugin-alipay-downgrade",downgrade:"@galacean/effects-plugin-downgrade","editor-gizmo":"@galacean/effects-plugin-editor-gizmo",model:"@galacean/effects-plugin-model",video:"@galacean/effects-plugin-multimedia",audio:"@galacean/effects-plugin-multimedia","orientation-transformer":"@galacean/effects-plugin-orientation-transformer",richtext:"@galacean/effects-plugin-rich-text",spine:"@galacean/effects-plugin-spine"};function Rt(i){var o=zt[i];return o?`
\u8BF7\u6309\u5982\u4E0B\u547D\u4EE4\u8FDB\u884C\u64CD\u4F5C\uFF08Please follow the commands below to proceed\uFF09\uFF1A
1\u3001\u4F7F\u7528 npm \u5B89\u88C5\u63D2\u4EF6\uFF08Install Plugin\uFF09\uFF1Anpm i `+o+`@latest --save
2\u3001\u5BFC\u5165\u63D2\u4EF6\uFF08Import Plugin\uFF09\uFF1Aimport '`+o+"'":""}var mr=function(){function i(){this.order=100,this.name=""}var o=i.prototype;return o.onCompositionConstructed=function(e,t){},o.onCompositionItemLifeBegin=function(e,t){},o.onCompositionItemLifeEnd=function(e,t){},o.onCompositionItemRemoved=function(e,t){},o.onCompositionReset=function(e,t){},o.onCompositionWillReset=function(e,t){},o.onCompositionDestroyed=function(e){},o.onCompositionUpdate=function(e,t){},o.prepareRenderFrame=function(e,t){return!1},o.postProcessFrame=function(e,t){},i.precompile=function(e,t){return Promise.resolve()},i}();function St(i,o){return St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},St(i,o)}function pe(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&St(i,o)}var Yt;(function(i){i.S="S",i.APlus="A+",i.A="A",i.BPlus="B+",i.B="B"})(Yt||(Yt={}));var Jt;(function(i){i[i.ALPHA=0]="ALPHA",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.BRIGHTNESS=3]="BRIGHTNESS",i[i.SUBTRACTION=4]="SUBTRACTION",i[i.STRONG_LIGHT=5]="STRONG_LIGHT",i[i.WEAK_LIGHT=6]="WEAK_LIGHT",i[i.SUPERPOSITION=7]="SUPERPOSITION"})(Jt||(Jt={}));var ir;(function(i){i[i.DOUBLE=1032]="DOUBLE",i[i.FRONT=1028]="FRONT",i[i.BACK=1029]="BACK"})(ir||(ir={}));var tr;(function(i){i[i.NONE=0]="NONE",i[i.MASK=1]="MASK",i[i.OBSCURED=2]="OBSCURED",i[i.REVERSE_OBSCURED=3]="REVERSE_OBSCURED"})(tr||(tr={}));var rr;(function(i){i[i.NONE=0]="NONE",i[i.SPHERE=1]="SPHERE",i[i.CONE=2]="CONE",i[i.HEMISPHERE=3]="HEMISPHERE",i[i.CIRCLE=4]="CIRCLE",i[i.DONUT=5]="DONUT",i[i.RECTANGLE=6]="RECTANGLE",i[i.RECTANGLE_EDGE=7]="RECTANGLE_EDGE",i[i.EDGE=8]="EDGE",i[i.TEXTURE=9]="TEXTURE"})(rr||(rr={}));var xn;(function(i){i[i.GYROSCOPE=0]="GYROSCOPE",i[i.SPINE=1]="SPINE"})(xn||(xn={}));var jr;(function(i){i[i.CLICK=0]="CLICK",i[i.MESSAGE=1]="MESSAGE",i[i.DRAG=2]="DRAG"})(jr||(jr={}));var gn;(function(i){i[i.NONE=0]="NONE",i[i.NOTIFY=1]="NOTIFY",i[i.RESUME_PLAYER=2]="RESUME_PLAYER",i[i.REMOVE=3]="REMOVE",i[i.PAUSE=4]="PAUSE"})(gn||(gn={}));var ze;(function(i){i.base="0",i.sprite="1",i.particle="2",i.null="3",i.interact="4",i.plugin="5",i.camera="6",i.composition="7",i.spine="spine",i.mesh="mesh",i.tree="tree",i.text="text",i.light="light",i.skybox="skybox",i.effect="effect",i.shape="shape",i.postProcessVolume="postProcessVolume",i.node="node",i.video="video",i.audio="audio",i.richtext="richtext"})(ze||(ze={}));var ar;(function(i){i[i.BILLBOARD=0]="BILLBOARD",i[i.MESH=1]="MESH",i[i.VERTICAL_BILLBOARD=2]="VERTICAL_BILLBOARD",i[i.HORIZONTAL_BILLBOARD=3]="HORIZONTAL_BILLBOARD"})(ar||(ar={}));var vr;(function(i){i[i.PARTICLE_ORIGIN_CENTER=0]="PARTICLE_ORIGIN_CENTER",i[i.PARTICLE_ORIGIN_LEFT_TOP=1]="PARTICLE_ORIGIN_LEFT_TOP",i[i.PARTICLE_ORIGIN_LEFT_CENTER=2]="PARTICLE_ORIGIN_LEFT_CENTER",i[i.PARTICLE_ORIGIN_LEFT_BOTTOM=3]="PARTICLE_ORIGIN_LEFT_BOTTOM",i[i.PARTICLE_ORIGIN_CENTER_TOP=4]="PARTICLE_ORIGIN_CENTER_TOP",i[i.PARTICLE_ORIGIN_CENTER_BOTTOM=5]="PARTICLE_ORIGIN_CENTER_BOTTOM",i[i.PARTICLE_ORIGIN_RIGHT_TOP=6]="PARTICLE_ORIGIN_RIGHT_TOP",i[i.PARTICLE_ORIGIN_RIGHT_CENTER=7]="PARTICLE_ORIGIN_RIGHT_CENTER",i[i.PARTICLE_ORIGIN_RIGHT_BOTTOM=8]="PARTICLE_ORIGIN_RIGHT_BOTTOM"})(vr||(vr={}));var Tr;(function(i){i.Opaque="Opaque",i.Transparent="Transparent"})(Tr||(Tr={}));var br;(function(i){i.Both="Both",i.Back="Back",i.Front="Front"})(br||(br={}));var yn=0,Vn=1,fr=2,Qn=3,un=4,Wn=5,Mn=6,fi=1,Ei=0,ti=2,dn=1,Dr;(function(i){i[i.portrait=1]="portrait",i[i.landscape=0]="landscape"})(Dr||(Dr={}));var bt;(function(i){i[i.CONSTANT=0]="CONSTANT",i[i.CONSTANT_VEC2=1]="CONSTANT_VEC2",i[i.CONSTANT_VEC3=2]="CONSTANT_VEC3",i[i.CONSTANT_VEC4=3]="CONSTANT_VEC4",i[i.RANDOM=4]="RANDOM",i[i.LINE=5]="LINE",i[i.CURVE=6]="CURVE",i[i.BEZIER_PATH=7]="BEZIER_PATH",i[i.RGBA_COLOR=8]="RGBA_COLOR",i[i.GRADIENT_COLOR=9]="GRADIENT_COLOR",i[i.SHAPE_POINTS=10]="SHAPE_POINTS",i[i.SHAPE_SPLITS=11]="SHAPE_SPLITS",i[i.LINEAR_PATH=12]="LINEAR_PATH",i[i.COLORS=13]="COLORS",i[i.BINARY=20]="BINARY",i[i.BEZIER_CURVE=21]="BEZIER_CURVE",i[i.BEZIER_CURVE_PATH=22]="BEZIER_CURVE_PATH",i[i.BEZIER_CURVE_QUAT=23]="BEZIER_CURVE_QUAT",i[i.COLOR_CURVE=24]="COLOR_CURVE",i[i.VECTOR4_CURVE=25]="VECTOR4_CURVE"})(bt||(bt={}));var on;(function(i){i[i.AUTO=0]="AUTO",i[i.EASE=1]="EASE",i[i.EASE_IN=2]="EASE_IN",i[i.EASE_OUT=3]="EASE_OUT",i[i.LINE=4]="LINE",i[i.HOLD=5]="HOLD",i[i.LINE_OUT=6]="LINE_OUT"})(on||(on={}));var Se;(function(i){i[i.destroy=0]="destroy",i[i.restart=5]="restart",i[i.forward=2]="forward",i[i.freeze=4]="freeze"})(Se||(Se={}));var Ke;(function(i){i[i.destroyChildren=6]="destroyChildren"})(Ke||(Ke={}));var It;(function(i){i[i.none=0]="none",i[i.removeParticle=1]="removeParticle"})(It||(It={}));var ot;(function(i){i[i.RANDOM=0]="RANDOM",i[i.UNIDIRECTIONAL_CYCLE=1]="UNIDIRECTIONAL_CYCLE",i[i.BIDIRECTIONAL_CYCLE=2]="BIDIRECTIONAL_CYCLE",i[i.UNIFORM_BURST=3]="UNIFORM_BURST"})(ot||(ot={}));var Vt;(function(i){i.point="point",i.spot="spot",i.directional="directional",i.ambient="ambient"})(Vt||(Vt={}));var Rr;(function(i){i[i.box=2]="box",i[i.sphere=3]="sphere"})(Rr||(Rr={}));var Tn;(function(i){i.orthographic="orthographic",i.perspective="perspective"})(Tn||(Tn={}));var G;(function(i){i.unlit="unlit",i.pbr="pbr",i.hair="hair"})(G||(G={}));var ye;(function(i){i[i.opaque=100]="opaque",i[i.masked=101]="masked",i[i.translucent=102]="translucent",i[i.additive=103]="additive"})(ye||(ye={}));var Oe;(function(i){i.none="none",i.uv="uv",i.normal="normal",i.basecolor="basecolor",i.alpha="alpha",i.metallic="metallic",i.roughness="roughness",i.ao="ao",i.emissive="emissive",i.diffuse="diffuse"})(Oe||(Oe={}));var ve;(function(i){i[i.display=0]="display",i[i.clip=1]="clip",i[i.ellipsis=2]="ellipsis"})(ve||(ve={}));var He;(function(i){i[i.top=0]="top",i[i.middle=1]="middle",i[i.bottom=2]="bottom"})(He||(He={}));var wt;(function(i){i[i.left=0]="left",i[i.middle=1]="middle",i[i.right=2]="right"})(wt||(wt={}));var pr;(function(i){i.normal="normal",i.bold="bold",i.lighter="lighter"})(pr||(pr={}));var xr;(function(i){i.normal="normal",i.italic="italic",i.oblique="oblique"})(xr||(xr={}));var Fr={WhiteTexture:"whitetexture00000000000000000000",TransparentTexture:"transparenttexture00000000000000000000",PBRShader:"pbr00000000000000000000000000000",UnlitShader:"unlit000000000000000000000000000"},Ht;(function(i){i[i.Custom=0]="Custom",i[i.Rectangle=1]="Rectangle",i[i.Ellipse=2]="Ellipse",i[i.Polygon=3]="Polygon",i[i.Star=4]="Star"})(Ht||(Ht={}));var Sr;Sr||(Sr={});var Wr;Wr||(Wr={});var Vr;(function(i){i.video="video",i.image="image"})(Vr||(Vr={}));var hn;(function(i){i.video="video",i.audio="audio"})(hn||(hn={}));var Ct;(function(i){i.VFXItemData="VFXItemData",i.EffectComponent="EffectComponent",i.Material="Material",i.Shader="Shader",i.SpriteComponent="SpriteComponent",i.ParticleSystem="ParticleSystem",i.InteractComponent="InteractComponent",i.CameraController="CameraController",i.PostProcessVolume="PostProcessVolume",i.Geometry="Geometry",i.Texture="Texture",i.Image="Image",i.AnimationClip="AnimationClip",i.TextComponent="TextComponent",i.BinaryAsset="BinaryAsset",i.TrackAsset="TrackAsset",i.TimelineAsset="TimelineAsset",i.ObjectBindingTrack="ObjectBindingTrack",i.TransformTrack="TransformTrack",i.SpriteColorTrack="SpriteColorTrack",i.ActivationTrack="ActivationTrack",i.SubCompositionTrack="SubCompositionTrack",i.FloatPropertyTrack="FloatPropertyTrack",i.ColorPropertyTrack="ColorPropertyTrack",i.Vector4PropertyTrack="Vector4PropertyTrack",i.TransformPlayableAsset="TransformPlayableAsset",i.SpriteColorPlayableAsset="SpriteColorPlayableAsset",i.ActivationPlayableAsset="ActivationPlayableAsset",i.SubCompositionPlayableAsset="SubCompositionPlayableAsset",i.FloatPropertyPlayableAsset="FloatPropertyPlayableAsset",i.ColorPropertyPlayableAsset="ColorPropertyPlayableAsset",i.MeshComponent="MeshComponent",i.SkyboxComponent="SkyboxComponent",i.LightComponent="LightComponent",i.CameraComponent="CameraComponent",i.ModelPluginComponent="ModelPluginComponent",i.TreeComponent="TreeComponent",i.AnimationComponent="AnimationComponent",i.SpineComponent="SpineComponent",i.VideoComponent="VideoComponent",i.AudioComponent="AudioComponent",i.RichTextComponent="RichTextComponent",i.OrientationComponent="OrientationComponent",i.ShapeComponent="ShapeComponent",i.TimelineClip="TimelineClip"})(Ct||(Ct={}));var kr;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(kr||(kr={}));var qr;(function(i){i[i.Float16=0]="Float16",i[i.Float32=1]="Float32",i[i.Int8=2]="Int8",i[i.Int16=3]="Int16",i[i.Int32=4]="Int32",i[i.UInt8=5]="UInt8",i[i.UInt16=6]="UInt16",i[i.UInt32=7]="UInt32"})(qr||(qr={}));var mn;(function(i){i[i.None=-1]="None",i[i.UInt8=0]="UInt8",i[i.UInt16=1]="UInt16",i[i.UInt32=2]="UInt32"})(mn||(mn={}));var sn;(function(i){i.Position="POSITION",i.Uv="TEXCOORD0",i.Uv2="TEXCOORD1",i.Normal="NORMAL",i.Tangent="TANGENT",i.Color="COLOR",i.Joints="JOINTS",i.Weights="WEIGHTS",i.PositionBS0="POSITION_BS0",i.PositionBS1="POSITION_BS1",i.PositionBS2="POSITION_BS2",i.PositionBS3="POSITION_BS3",i.PositionBS4="POSITION_BS4",i.PositionBS5="POSITION_BS5",i.PositionBS6="POSITION_BS6",i.PositionBS7="POSITION_BS7",i.NormalBS0="NORMAL_BS0",i.NormalBS1="NORMAL_BS1",i.NormalBS2="NORMAL_BS2",i.NormalBS3="NORMAL_BS3",i.TangentBS0="TANGENT_BS0",i.TangentBS1="TANGENT_BS1",i.TangentBS2="TANGENT_BS2",i.TangentBS3="TANGENT_BS3"})(sn||(sn={}));var en=Object.freeze({__proto__:null,get RenderLevel(){return Yt},get BlendingMode(){return Jt},get SideMode(){return ir},get MaskMode(){return tr},get ParticleEmitterShapeType(){return rr},get PluginType(){return xn},get InteractType(){return jr},get InteractBehavior(){return gn},get ItemType(){return ze},get RenderMode(){return ar},get ParticleOrigin(){return vr},get RenderType(){return Tr},get RenderFace(){return br},get CameraClipMode(){return Dr},END_BEHAVIOR_DESTROY:yn,END_BEHAVIOR_PAUSE:Vn,END_BEHAVIOR_FORWARD:fr,END_BEHAVIOR_PAUSE_AND_DESTROY:Qn,END_BEHAVIOR_FREEZE:un,END_BEHAVIOR_RESTART:Wn,END_BEHAVIOR_DESTROY_CHILDREN:Mn,CAMERA_CLIP_MODE_VERTICAL:fi,CAMERA_CLIP_MODE_NORMAL:Ei,MESSAGE_ITEM_PHRASE_BEGIN:ti,MESSAGE_ITEM_PHRASE_END:dn,get ValueType(){return bt},get BezierKeyframeType(){return on},get EndBehavior(){return Se},get ParentItemEndBehavior(){return Ke},get ParticleInteractionBehavior(){return It},get ShapeArcMode(){return ot},get LightType(){return Vt},get ModelBoundingType(){return Rr},get CameraType(){return Tn},get MaterialType(){return G},get MaterialBlending(){return ye},get RenderMode3D(){return Oe},get TextOverflow(){return ve},get TextBaseline(){return He},get TextAlignment(){return wt},get TextWeight(){return pr},get FontStyle(){return xr},BuiltinObjectGUID:Fr,get ShapePrimitiveType(){return Ht},get ShapeConnectType(){return Sr},get ShapePointType(){return Wr},get BackgroundType(){return Vr},get MultimediaType(){return hn},get DataType(){return Ct},get GeometryType(){return kr},get VertexFormatType(){return qr},get IndexFormatType(){return mn},get VertexBufferSemantic(){return sn}});function tn(i,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function gr(i,o,n){return o&&tn(i.prototype,o),n&&tn(i,n),i}var Sn=new Map,yi=new Map,ri={};function it(i){return function(o,n){ri[i]&&console.warn("Class "+i+" is already registered."),ri[i]=o}}function Br(i,o){return Zi(i,o)}function Di(i){var o=i.constructor;if(yi.get(o))return yi.get(o);var n={};yi.set(o,n);for(var e=i,t=o;t;){var r=Sn.get(t);for(var a in r)n[a]=r[a];var s=Object.getPrototypeOf(e);if(t=Object.getPrototypeOf(s).constructor,t===Object)break;e=s}return n}function Zi(i,o){return function(n,e){var t=Ni(n);t&&(t[e]||(t[e]={type:i,sourceName:o}))}}function Ni(i){var o=i.constructor;return Sn.get(o)||Sn.set(o,{}),Sn.get(o)}var wn=function(){function i(n){this.engine=n,this.guid=nt(),this.taggedProperties={},this.engine.addInstance(this)}var o=i.prototype;return o.getInstanceId=function(){return this.guid},o.setInstanceId=function(e){this.engine.removeInstance(this.guid),this.guid=e,this.engine.addInstance(this)},o.toData=function(){},o.fromData=function(e){e.id&&this.setInstanceId(e.id)},o.dispose=function(){},i.is=function(e){return U(e,i)&&"guid"in e},i}(),Jn=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.isAwakeCalled=!1,e.isStartCalled=!1,e.isEnableCalled=!1,e._enabled=!0,e}var n=o.prototype;return n.onAwake=function(){},n.onEnable=function(){},n.onDisable=function(){},n.onStart=function(){},n.onUpdate=function(t){},n.onLateUpdate=function(t){},n.onDestroy=function(){},n.enable=function(){this.item.composition&&(this.item.composition.sceneTicking.addComponent(this),this.isEnableCalled=!0),this.onEnable()},n.disable=function(){this.onDisable(),this.item.composition&&(this.isEnableCalled=!1,this.item.composition.sceneTicking.removeComponent(this))},n.setVFXItem=function(t){this.item=t,t.isDuringPlay&&(this.isAwakeCalled||(this.onAwake(),this.isAwakeCalled=!0),t.isActive&&this.enabled&&(this.start(),this.enable()))},n.fromData=function(t){i.prototype.fromData.call(this,t),t.item&&(this.item=t.item)},n.dispose=function(){this.isEnableCalled&&this.disable(),this.isAwakeCalled&&(this.isAwakeCalled=!1,this.onDestroy()),this.item&&fe(this.item.components,this)},n.start=function(){this.isStartCalled||(this.isStartCalled=!0,this.onStart())},gr(o,[{key:"transform",get:function(){return this.item.transform}},{key:"isActiveAndEnabled",get:function(){return this.item.isActive&&this.enabled}},{key:"enabled",get:function(){return this._enabled},set:function(t){this.enabled!==t&&(this._enabled=t,t?this.isActiveAndEnabled&&(this.enable(),this.isStartCalled||(this.onStart(),this.isStartCalled=!0)):this.isEnableCalled&&this.disable())}}]),o}(wn);te([Br()],Jn.prototype,"_enabled",void 0);var Si=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.setVFXItem=function(t){i.prototype.setVFXItem.call(this,t)},n.dispose=function(){i.prototype.dispose.call(this)},o}(Jn),ea=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.materials=[],e._priority=0,e}var n=o.prototype;return n.render=function(t){},n.setVFXItem=function(t){i.prototype.setVFXItem.call(this,t),this.item.rendererComponents.push(this)},n.onEnable=function(){var t;(t=this.item.composition)==null||t.renderFrame.addMeshToDefaultRenderPass(this)},n.onDisable=function(){var t;(t=this.item.composition)==null||t.renderFrame.removeMeshFromDefaultRenderPass(this)},n.fromData=function(t){i.prototype.fromData.call(this,t)},n.toData=function(){i.prototype.toData.call(this)},n.dispose=function(){this.item&&fe(this.item.rendererComponents,this),i.prototype.dispose.call(this)},gr(o,[{key:"priority",get:function(){return this._priority},set:function(t){this._priority=t}},{key:"material",get:function(){return this.materials[0]},set:function(t){this.materials.length===0?this.materials.push(t):this.materials[0]=t}}]),o}(Jn);te([Br()],ea.prototype,"materials",void 0),te([Br()],ea.prototype,"_priority",void 0);var Yn=Math.PI*2,Zn=Math.PI/180,Xi=180/Math.PI,Ma=1e-6;function $a(i){return isNaN(i)||Math.abs(i)<Ma}function ma(i,o){return Math.abs(i-o)<Ma||i===1/0&&o===1/0||i===-1/0&&o===-1/0}var Io=function(i,o,n,e){return wi(i,o,1-Math.exp(-n*e))},wi=function(i,o,n){return(1-n)*i+n*o},lo=function(i){return i*Zn},qa=function(i){return i*Xi};function ai(i,o,n){var e=isNaN(o)?-1/0:o,t=isNaN(n)?1/0:n,r=Math.min(e,t),a=Math.max(e,t);return Math.min(Math.max(i,r),a)}var Ln=function(){function i(n,e){n===void 0&&(n=0),e===void 0&&(e=0),this.x=n,this.y=e}var o=i.prototype;return o.set=function(e,t){return this.x=e,this.y=t,this},o.setZero=function(){return this.x=0,this.y=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.x=(r=e[t])!=null?r:0;var a;return this.y=(a=e[t+1])!=null?a:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this},o.clone=function(){return new i(this.x,this.y)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e):U(e,Array)?(this.x+=e[0],this.y+=e[1]):(this.x+=e.x,this.y+=e.y),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e):U(e,Array)?(this.x-=e[0],this.y-=e[1]):(this.x-=e.x,this.y-=e.y),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e):U(e,Array)?(this.x*=e[0],this.y*=e[1]):(this.x*=e.x,this.y*=e.y),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e):U(e,Array)?(this.x/=e[0],this.y/=e[1]):(this.x/=e.x,this.y/=e.y),this},o.scale=function(e){return this.x*=e,this.y*=e,this},o.sum=function(){return this.x+this.y},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.lengthSquared=function(){return this.x*this.x+this.y*this.y},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},o.lerpVectors=function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this},o.dot=function(e){return this.x*e.x+this.y*e.y},o.cross=function(e){return this.x*e.y-this.y*e.x},o.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},o.distanceSquared=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},o.equals=function(e){return this.x===e.x&&this.y===e.y},o.isZero=function(){var e=Ma,t=this,r=t.x,a=t.y;return Math.abs(r)<=e&&Math.abs(a)<=e},o.toArray=function(){return[this.x,this.y]},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();Ln.ONE=new Ln(1,1),Ln.ZERO=new Ln(0,0);var Ie=function(){function i(n,e,t){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),this.x=n,this.y=e,this.z=t}var o=i.prototype;return o.set=function(e,t,r){return this.x=e,this.y=t,this.z=r,this},o.setZero=function(){return this.x=0,this.y=0,this.z=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this.z=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.x=(r=e[t])!=null?r:0;var a;this.y=(a=e[t+1])!=null?a:0;var s;return this.z=(s=e[t+2])!=null?s:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},o.clone=function(){return new i(this.x,this.y,this.z)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e,this.z+=e):U(e,Array)?(this.x+=e[0],this.y+=e[1],this.z+=e[2]):(this.x+=e.x,this.y+=e.y,this.z+=e.z),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},o.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e,this.z-=e):U(e,Array)?(this.x-=e[0],this.y-=e[1],this.z-=e[2]):(this.x-=e.x,this.y-=e.y,this.z-=e.z),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e):U(e,Array)?(this.x*=e[0],this.y*=e[1],this.z*=e[2]):(this.x*=e.x,this.y*=e.y,this.z*=e.z),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e):U(e,Array)?(this.x/=e[0],this.y/=e[1],this.z/=e[2]):(this.x/=e.x,this.y/=e.y,this.z/=e.z),this},o.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this},o.sum=function(){return this.x+this.y+this.z},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e),this.z=Math.min(this.z,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),this.z=Math.max(this.z,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},o.lerpVectors=function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},o.cross=function(e){return this.crossVectors(this,e)},o.crossVectors=function(e,t){var r=e.x,a=e.y,s=e.z,l=t.x,u=t.y,h=t.z;return this.x=a*h-s*u,this.y=s*l-r*h,this.z=r*u-a*l,this},o.reflect=function(e){return this.subtract(e.clone().multiply(2*this.dot(e)))},o.distance=function(e){return Math.sqrt(this.distanceSquared(e))},o.distanceSquared=function(e){var t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},o.isZero=function(){var e=Ma,t=this,r=t.x,a=t.y,s=t.z;return Math.abs(r)<=e&&Math.abs(a)<=e&&Math.abs(s)<=e},o.toArray=function(){return[this.x,this.y,this.z]},o.toVector2=function(){return new Ln(this.x,this.y)},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},o.applyEuler=function(e,t){return e.rotateVector3(this,t)},o.applyQuaternion=function(e,t){return e.rotateVector3(this,t)},o.applyMatrix=function(e,t){return e.transformPoint(this,t)},o.applyNormalMatrix=function(e,t){return e.transformNormal(this,t)},o.applyProjectionMatrix=function(e,t){return e.projectPoint(this,t)},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();Ie.X=new Ie(1,0,0),Ie.Y=new Ie(0,1,0),Ie.Z=new Ie(0,0,1),Ie.ONE=new Ie(1,1,1),Ie.ZERO=new Ie(0,0,0);var Bn=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),this.x=n,this.y=e,this.z=t,this.w=r}var o=i.prototype;return o.set=function(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this},o.setZero=function(){return this.x=0,this.y=0,this.z=0,this.w=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.x=(r=e[t])!=null?r:0;var a;this.y=(a=e[t+1])!=null?a:0;var s;this.z=(s=e[t+2])!=null?s:0;var l;return this.w=(l=e[t+3])!=null?l:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.clone=function(){return new i(this.x,this.y,this.z,this.w)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e,this.z+=e,this.w+=e):U(e,Array)?(this.x+=e[0],this.y+=e[1],this.z+=e[2],this.w+=e[3]):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},o.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e,this.z-=e,this.w-=e):U(e,Array)?(this.x-=e[0],this.y-=e[1],this.z-=e[2],this.w-=e[3]):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):U(e,Array)?(this.x*=e[0],this.y*=e[1],this.z*=e[2],this.w*=e[3]):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this.w=e.w*t.w,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e,this.w/=e):U(e,Array)?(this.x/=e[0],this.y/=e[1],this.z/=e[2],this.w/=e[3]):(this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w),this},o.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},o.sum=function(){return this.x+this.y+this.z+this.w},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e),this.z=Math.min(this.z,e),this.w=Math.min(this.w,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),this.z=Math.max(this.z,e),this.w=Math.max(this.w,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this.w=Math.abs(this.w),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},o.lerpVectors=function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},o.isZero=function(){var e=Ma,t=this,r=t.x,a=t.y,s=t.z,l=t.w;return Math.abs(r)<=e&&Math.abs(a)<=e&&Math.abs(s)<=e&&Math.abs(l)<=e},o.toArray=function(){return[this.x,this.y,this.z,this.w]},o.toVector3=function(){return new Ie(this.x,this.y,this.z)},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},o.applyMatrix=function(e,t){return e.transformVector4(this,t)},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();Bn.ONE=new Bn(1,1,1,1),Bn.ZERO=new Bn(0,0,0,0);var eo=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.meshCollider=new vf,e.getHitTestParams=function(t){var r=e.transform.getWorldMatrix();e.meshCollider.setGeometry(e.geometry,r);var a=e.meshCollider.getBoundingBoxData();if(a)return{type:a.type,triangles:a.area}},e}var n=o.prototype;return n.render=function(t){t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.transform.getWorldMatrix()),t.drawGeometry(this.geometry,this.material)},n.getBoundingBox=function(){var t=this.transform.getWorldMatrix();this.meshCollider.setGeometry(this.geometry,t);var r=this.meshCollider.getBoundingBox();return r},o}(ea);te([Br()],eo.prototype,"geometry",void 0);var N=function(i){pe(o,i);function o(e){var t;return t=i.call(this,e)||this,t.name="EffectComponent",t}var n=o.prototype;return n.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},n.onUpdate=function(t){var r=this.item.time,a,s=(a=this.material.getVector4("_Time"))!=null?a:new Bn;this.material.setVector4("_Time",s.set(r/20,r,r*2,r*3))},n.fromData=function(t){i.prototype.fromData.call(this,t),this.material=this.materials[0]},o}(eo);N=te([it(Ct.EffectComponent)],N);var be=function(i){pe(o,i);function o(e){var t;return t=i.call(this,e)||this,t.bloom={threshold:0,intensity:0,active:!1},t.vignette={intensity:0,smoothness:0,roundness:0,active:!1},t.tonemapping={active:!1},t.colorAdjustments={brightness:0,saturation:0,contrast:0,active:!1},t}var n=o.prototype;return n.onStart=function(){var t=this.item.composition;t&&(t.renderFrame.globalVolume=this)},o}(Si);te([Br()],be.prototype,"bloom",void 0),te([Br()],be.prototype,"vignette",void 0),te([Br()],be.prototype,"tonemapping",void 0),te([Br()],be.prototype,"colorAdjustments",void 0),be=te([it(Ct.PostProcessVolume)],be);function Be(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Nt=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=1),this.x=n,this.y=e,this.z=t,this.w=r}var o=i.prototype;return o.set=function(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this},o.setFromEuler=function(e){return e.toQuaternion(this),this},o.setFromAxisAngle=function(e,t){var r=t/2,a=Math.sin(r),s=i.tempVec0;return s.copyFrom(e).normalize(),this.x=s.x*a,this.y=s.y*a,this.z=s.z*a,this.w=Math.cos(r),this},o.setFromVector4=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.setFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},o.setFromRotationMatrix=function(e){var t=e.elements,r=t[0],a=t[4],s=t[8],l=t[1],u=t[5],h=t[9],m=t[2],v=t[6],p=t[10],b=r+u+p;if(b>0){var x=.5/Math.sqrt(b+1);this.w=.25/x,this.x=(v-h)*x,this.y=(s-m)*x,this.z=(l-a)*x}else if(r>u&&r>p){var I=2*Math.sqrt(1+r-u-p);this.w=(v-h)/I,this.x=.25*I,this.y=(a+l)/I,this.z=(s+m)/I,this.negate()}else if(u>p){var B=2*Math.sqrt(1+u-r-p);this.w=(s-m)/B,this.x=(a+l)/B,this.y=.25*B,this.z=(h+v)/B,this.negate()}else{var F=2*Math.sqrt(1+p-r-u);this.w=(l-a)/F,this.x=(s+m)/F,this.y=(h+v)/F,this.z=.25*F,this.negate()}return this},o.setFromUnitVectors=function(e,t){var r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this.x=-e.y,this.y=e.x,this.z=0,this.w=r):(this.x=0,this.y=-e.z,this.z=e.y,this.w=r)):(this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this.w=r),this.normalize()},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.clone=function(){return new i(this.x,this.y,this.z,this.w)},o.angleTo=function(e){return 2*Math.acos(Math.abs(ai(this.dot(e),-1,1)))},o.rotateTowards=function(e,t){var r=this.angleTo(e);if(r===0)return this;var a=Math.min(1,t/r);return this.slerp(e,a),this},o.identity=function(){return this.set(0,0,0,1)},o.invert=function(){return this.conjugate()},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},o.conjugate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},o.normalize=function(){var e=this.length();return e===0?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},o.multiply=function(e){return this.multiplyQuaternions(this,e)},o.premultiply=function(e){return this.multiplyQuaternions(e,this)},o.multiplyQuaternions=function(e,t){var r=e.x,a=e.y,s=e.z,l=e.w,u=t.x,h=t.y,m=t.z,v=t.w;return this.x=r*v+l*u+a*m-s*h,this.y=a*v+l*h+s*u-r*m,this.z=s*v+l*m+r*h-a*u,this.w=l*v-r*u-a*h-s*m,this},o.slerp=function(e,t){if(t===0)return this;if(t===1)return this.copyFrom(e);var r=this,a=r.x,s=r.y,l=r.z,u=r.w,h=u*e.w+a*e.x+s*e.y+l*e.z;if(h<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,h=-h):this.copyFrom(e),h>=1)return this.w=u,this.x=a,this.y=s,this.z=l,this;var m=1-h*h;if(m<=Number.EPSILON){var v=1-t;return this.w=v*u+t*this.w,this.x=v*a+t*this.x,this.y=v*s+t*this.y,this.z=v*l+t*this.z,this.normalize(),this}var p=Math.sqrt(m),b=Math.atan2(p,h),x=Math.sin((1-t)*b)/p,I=Math.sin(t*b)/p;return this.w=u*x+this.w*I,this.x=a*x+this.x*I,this.y=s*x+this.y*I,this.z=l*x+this.z*I,this},o.slerpQuaternions=function(e,t,r){this.copyFrom(e).slerp(t,r)},o.rotateVector3=function(e,t){var r=this,a=r.x,s=r.y,l=r.z,u=r.w,h=e.x,m=e.y,v=e.z,p=u*h+s*v-l*m,b=u*m+l*h-a*v,x=u*v+a*m-s*h,I=-a*h-s*m-l*v,B=t!=null?t:e;return B.x=p*u+I*-a+b*-l-x*-s,B.y=b*u+I*-s+x*-a-p*-l,B.z=x*u+I*-l+p*-s-b*-a,B},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},o.toArray=function(){return[this.x,this.y,this.z,this.w]},o.toVector4=function(e){return e.set(this.x,this.y,this.z,this.w)},o.toEuler=function(e){return e.setFromQuaternion(this)},o.toMatrix4=function(e){return e.compose(Ie.ZERO,this,Ie.ONE)},i.fromEuler=function(e){return new i().setFromEuler(e)},i.fromAxisAngle=function(e,t){return new i().setFromAxisAngle(e,t)},i.fromVector4=function(e){return new i().setFromVector4(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromRotationMatrix=function(e){return new i().setFromRotationMatrix(e)},i.fromUnitVectors=function(e,t){return new i().setFromUnitVectors(e,t)},i}();Nt.tempVec0=new Ie;var yr=function(){function i(n,e,t,r,a,s,l,u,h,m,v,p,b,x,I,B){n===void 0&&(n=1),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=1),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=0),m===void 0&&(m=0),v===void 0&&(v=1),p===void 0&&(p=0),b===void 0&&(b=0),x===void 0&&(x=0),I===void 0&&(I=0),B===void 0&&(B=1),this.elements=[n,e,t,r,a,s,l,u,h,m,v,p,b,x,I,B]}var o=i.prototype;return o.set=function(e,t,r,a,s,l,u,h,m,v,p,b,x,I,B,F){var R=this.elements;return R[0]=e,R[1]=t,R[2]=r,R[3]=a,R[4]=s,R[5]=l,R[6]=u,R[7]=h,R[8]=m,R[9]=v,R[10]=p,R[11]=b,R[12]=x,R[13]=I,R[14]=B,R[15]=F,this},o.setFromRowMajorData=function(e,t,r,a,s,l,u,h,m,v,p,b,x,I,B,F){var R=this.elements;return R[0]=e,R[4]=t,R[8]=r,R[12]=a,R[1]=s,R[5]=l,R[9]=u,R[13]=h,R[2]=m,R[6]=v,R[10]=p,R[14]=b,R[3]=x,R[7]=I,R[11]=B,R[15]=F,this},o.setFromColumnVectors=function(e,t,r,a){return this.set(e.x,e.y,e.z,e.w,t.x,t.y,t.z,t.w,r.x,r.y,r.z,r.w,a.x,a.y,a.z,a.w)},o.setFromMatrix3=function(e){var t=e.elements;return this.set(t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1),this},o.setFromArray=function(e,t){t===void 0&&(t=0);for(var r=0;r<16;r++)this.elements[r]=e[t+r];return this},o.setFromScale=function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)},o.setFromTranslation=function(e,t,r){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1)},o.setFromRotationX=function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,r,0,0,-r,t,0,0,0,0,1)},o.setFromRotationY=function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,-r,0,0,1,0,0,r,0,t,0,0,0,0,1)},o.setFromRotationZ=function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,r,0,0,-r,t,0,0,0,0,1,0,0,0,0,1)},o.setFromRotationAxis=function(e,t){var r=i.tempVec0;r.copyFrom(e).normalize();var a=Math.cos(t),s=Math.sin(t),l=1-a,u=r.x,h=r.y,m=r.z,v=l*u,p=l*h;return this.set(v*u+a,v*h+s*m,v*m-s*h,0,v*h-s*m,p*h+a,p*m+s*u,0,v*m+s*h,p*m-s*u,l*m*m+a,0,0,0,0,1)},o.setFromEuler=function(e){return e.toMatrix4(this),this},o.setFromQuaternion=function(e){return this.compose(Ie.ZERO,e,Ie.ONE)},o.setFromShear=function(e,t,r){return this.set(1,e,e,0,t,1,t,0,r,r,1,0,0,0,0,1)},o.setFromBasis=function(e,t,r){return this.set(e.x,e.y,e.z,0,t.x,t.y,t.z,0,r.x,r.y,r.z,0,0,0,0,1)},o.setZero=function(){for(var e=0;e<16;e++)this.elements[e]=0;return this},o.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},o.isIdentity=function(){var e=this.elements;return e[0]===1&&e[4]===0&&e[8]===0&&e[12]===0&&e[1]===0&&e[5]===1&&e[9]===0&&e[13]===0&&e[2]===0&&e[6]===0&&e[10]===1&&e[14]===0&&e[3]===0&&e[7]===0&&e[11]===0&&e[15]===1},o.clone=function(){var e=this.elements;return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},o.copyFrom=function(e){return this.elements=[].concat(e.elements),this},o.getColumnVector=function(e,t){return t.set(this.elements[e*4],this.elements[e*4+1],this.elements[e*4+2],this.elements[e*4+3])},o.lookAt=function(e,t,r){var a=i.tempVec0,s=i.tempVec1,l=i.tempVec2;l.subtractVectors(e,t),l.normalize(),a.crossVectors(r,l),a.normalize(),s.crossVectors(l,a);var u=this.elements;return u[0]=a.x,u[1]=s.x,u[2]=l.x,u[3]=0,u[4]=a.y,u[5]=s.y,u[6]=l.y,u[7]=0,u[8]=a.z,u[9]=s.z,u[10]=l.z,u[11]=0,u[12]=-a.dot(e),u[13]=-s.dot(e),u[14]=-l.dot(e),u[15]=1,this},o.addScaledMatrix=function(e,t){for(var r=this.elements,a=e.elements,s=0;s<16;s++)r[s]+=a[s]*t;return this},o.multiply=function(e){if(typeof e=="number"){for(var t=0;t<16;t++)this.elements[t]*=e;return this}else return this.multiplyMatrices(this,e)},o.premultiply=function(e){return this.multiplyMatrices(e,this)},o.multiplyMatrices=function(e,t){var r=e.elements,a=t.elements,s=this.elements,l=r[0],u=r[4],h=r[8],m=r[12],v=r[1],p=r[5],b=r[9],x=r[13],I=r[2],B=r[6],F=r[10],R=r[14],X=r[3],k=r[7],H=r[11],ee=r[15],ie=a[0],oe=a[4],Qe=a[8],Je=a[12],st=a[1],ft=a[5],At=a[9],Wt=a[13],Zt=a[2],Kt=a[6],qt=a[10],_t=a[14],_r=a[3],sr=a[7],Or=a[11],Qr=a[15];return s[0]=l*ie+u*st+h*Zt+m*_r,s[4]=l*oe+u*ft+h*Kt+m*sr,s[8]=l*Qe+u*At+h*qt+m*Or,s[12]=l*Je+u*Wt+h*_t+m*Qr,s[1]=v*ie+p*st+b*Zt+x*_r,s[5]=v*oe+p*ft+b*Kt+x*sr,s[9]=v*Qe+p*At+b*qt+x*Or,s[13]=v*Je+p*Wt+b*_t+x*Qr,s[2]=I*ie+B*st+F*Zt+R*_r,s[6]=I*oe+B*ft+F*Kt+R*sr,s[10]=I*Qe+B*At+F*qt+R*Or,s[14]=I*Je+B*Wt+F*_t+R*Qr,s[3]=X*ie+k*st+H*Zt+ee*_r,s[7]=X*oe+k*ft+H*Kt+ee*sr,s[11]=X*Qe+k*At+H*qt+ee*Or,s[15]=X*Je+k*Wt+H*_t+ee*Qr,this},o.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},o.determinant=function(){var e=this.elements,t=e[0],r=e[4],a=e[8],s=e[12],l=e[1],u=e[5],h=e[9],m=e[13],v=e[2],p=e[6],b=e[10],x=e[14],I=e[3],B=e[7],F=e[11],R=e[15];return I*(+s*h*p-a*m*p-s*u*b+r*m*b+a*u*x-r*h*x)+B*(+t*h*x-t*m*b+s*l*b-a*l*x+a*m*v-s*h*v)+F*(+t*m*p-t*u*x-s*l*p+r*l*x+s*u*v-r*m*v)+R*(-a*u*v-t*h*p+t*u*b+a*l*p-r*l*b+r*h*v)},o.transpose=function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},o.invert=function(){var e=this.elements,t=e[0],r=e[1],a=e[2],s=e[3],l=e[4],u=e[5],h=e[6],m=e[7],v=e[8],p=e[9],b=e[10],x=e[11],I=e[12],B=e[13],F=e[14],R=e[15],X=p*F*m-B*b*m+B*h*x-u*F*x-p*h*R+u*b*R,k=I*b*m-v*F*m-I*h*x+l*F*x+v*h*R-l*b*R,H=v*B*m-I*p*m+I*u*x-l*B*x-v*u*R+l*p*R,ee=I*p*h-v*B*h-I*u*b+l*B*b+v*u*F-l*p*F,ie=t*X+r*k+a*H+s*ee;if(ie===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var oe=1/ie;return e[0]=X*oe,e[1]=(B*b*s-p*F*s-B*a*x+r*F*x+p*a*R-r*b*R)*oe,e[2]=(u*F*s-B*h*s+B*a*m-r*F*m-u*a*R+r*h*R)*oe,e[3]=(p*h*s-u*b*s-p*a*m+r*b*m+u*a*x-r*h*x)*oe,e[4]=k*oe,e[5]=(v*F*s-I*b*s+I*a*x-t*F*x-v*a*R+t*b*R)*oe,e[6]=(I*h*s-l*F*s-I*a*m+t*F*m+l*a*R-t*h*R)*oe,e[7]=(l*b*s-v*h*s+v*a*m-t*b*m-l*a*x+t*h*x)*oe,e[8]=H*oe,e[9]=(I*p*s-v*B*s-I*r*x+t*B*x+v*r*R-t*p*R)*oe,e[10]=(l*B*s-I*u*s+I*r*m-t*B*m-l*r*R+t*u*R)*oe,e[11]=(v*u*s-l*p*s-v*r*m+t*p*m+l*r*x-t*u*x)*oe,e[12]=ee*oe,e[13]=(v*B*a-I*p*a+I*r*b-t*B*b-v*r*F+t*p*F)*oe,e[14]=(I*u*a-l*B*a-I*r*h+t*B*h+l*r*F-t*u*F)*oe,e[15]=(l*p*a-v*u*a+v*r*h-t*p*h-l*r*b+t*u*b)*oe,this},o.extractBasis=function(e,t,r){var a=this.elements;return e.set(a[0],a[1],a[2]),t.set(a[4],a[5],a[6]),r.set(a[8],a[9],a[10]),this},o.compose=function(e,t,r,a){a===void 0&&(a=Ie.ZERO);var s=this.elements,l=t.x,u=t.y,h=t.z,m=t.w,v=-a.x,p=-a.y,b=-a.z,x=l+l,I=u+u,B=h+h,F=l*x,R=l*I,X=l*B,k=u*I,H=u*B,ee=h*B,ie=m*x,oe=m*I,Qe=m*B,Je=r.x,st=r.y,ft=r.z;return s[0]=(1-(k+ee))*Je,s[1]=(R+Qe)*Je,s[2]=(X-oe)*Je,s[3]=0,s[4]=(R-Qe)*st,s[5]=(1-(F+ee))*st,s[6]=(H+ie)*st,s[7]=0,s[8]=(X+oe)*ft,s[9]=(H-ie)*ft,s[10]=(1-(F+k))*ft,s[11]=0,s[12]=v*s[0]+p*s[4]+b*s[8]-v+e.x,s[13]=v*s[1]+p*s[5]+b*s[9]-p+e.y,s[14]=v*s[2]+p*s[6]+b*s[10]-b+e.z,this},o.decompose=function(e,t,r){var a=i.tempVec0,s=this.elements,l=a.set(s[0],s[1],s[2]).length(),u=a.set(s[4],s[5],s[6]).length(),h=a.set(s[8],s[9],s[10]).length(),m=this.determinant();m<0&&(l=-l),e.x=s[12],e.y=s[13],e.z=s[14];var v=i.tempMat0;v.copyFrom(this);var p=1/l,b=1/u,x=1/h;return v.elements[0]*=p,v.elements[1]*=p,v.elements[2]*=p,v.elements[4]*=b,v.elements[5]*=b,v.elements[6]*=b,v.elements[8]*=x,v.elements[9]*=x,v.elements[10]*=x,t.setFromRotationMatrix(v),r.x=l,r.y=u,r.z=h,this},o.getTranslation=function(e){var t=this.elements;return e.set(t[12],t[13],t[14])},o.getScale=function(e){var t=this.elements;return e.set(Math.hypot(t[0],t[1],t[2]),Math.hypot(t[4],t[5],t[6]),Math.hypot(t[8],t[9],t[10]))},o.getTransform=function(){var e=new Ie,t=new Nt,r=new Ie;return this.decompose(e,t,r),{translation:e,rotation:t,scale:r}},o.orthographic=function(e,t,r,a,s,l){var u=1/(t-e),h=1/(r-a),m=1/(l-s),v=-(t+e)*u,p=-(r+a)*h,b=-(l+s)*m;u*=2,h*=2,m*=-2;var x=this.elements;return x[0]=u,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=h,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=m,x[11]=0,x[12]=v,x[13]=p,x[14]=b,x[15]=1,this},o.perspective=function(e,t,r,a,s){var l=1/Math.tan(e*.5),u=1/(r-a),h=this.elements;return h[0]=s?l:l/t,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=s?l*t:l,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=(a+r)*u,h[11]=-1,h[12]=0,h[13]=0,h[14]=2*a*r*u,h[15]=0,(a===null||a===1/0)&&(h[10]=-1,h[14]=-2*r),this},o.projectPoint=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;u.x=l[0]*r+l[4]*a+l[8]*s+l[12],u.y=l[1]*r+l[5]*a+l[9]*s+l[13],u.z=l[2]*r+l[6]*a+l[10]*s+l[14];var h=l[3]*r+l[7]*a+l[11]*s+l[15];return u.multiply(1/h)},o.transformPoint=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;return u.x=l[0]*r+l[4]*a+l[8]*s+l[12],u.y=l[1]*r+l[5]*a+l[9]*s+l[13],u.z=l[2]*r+l[6]*a+l[10]*s+l[14],u},o.transformNormal=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;return u.x=l[0]*r+l[4]*a+l[8]*s,u.y=l[1]*r+l[5]*a+l[9]*s,u.z=l[2]*r+l[6]*a+l[10]*s,u.normalize()},o.transformVector4=function(e,t){var r=e.x,a=e.y,s=e.z,l=e.w,u=this.elements,h=t!=null?t:e;return h.x=u[0]*r+u[4]*a+u[8]*s+u[12]*l,h.y=u[1]*r+u[5]*a+u[9]*s+u[13]*l,h.z=u[2]*r+u[6]*a+u[10]*s+u[14]*l,h.w=u[3]*r+u[7]*a+u[11]*s+u[15]*l,h},o.equals=function(e){for(var t=this.elements,r=e.elements,a=0;a<16;a++)if(!ma(t[a],r[a]))return!1;return!0},o.toArray=function(){return[].concat(this.elements)},o.fill=function(e,t){t===void 0&&(t=0);var r=this.elements;e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15]},i.fromIdentity=function(){return new i(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},i.fromLookAt=function(e,t,r){return new i().lookAt(e,t,r)},i.fromPerspective=function(e,t,r,a,s){return new i().perspective(e,t,r,a,s)},i.fromColumnVectors=function(e,t,r,a){return new i().setFromColumnVectors(e,t,r,a)},i.fromMatrix3=function(e){return new i().setFromMatrix3(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromScale=function(e,t,r){return new i().setFromScale(e,t,r)},i.fromTranslation=function(e,t,r){return new i().setFromTranslation(e,t,r)},i.fromRotationX=function(e){return new i().setFromRotationX(e)},i.fromRotationY=function(e){return new i().setFromRotationY(e)},i.fromRotationZ=function(e){return new i().setFromRotationZ(e)},i.fromRotationAxis=function(e,t){return new i().setFromRotationAxis(e,t)},i.fromEuler=function(e){return new i().setFromEuler(e)},i.fromQuaternion=function(e){return new i().setFromQuaternion(e)},i.fromShear=function(e,t,r){return new i().setFromShear(e,t,r)},i.fromBasis=function(e,t,r){return new i().setFromBasis(e,t,r)},i.fromRowMajorData=function(e,t,r,a,s,l,u,h,m,v,p,b,x,I,B,F){return new i(e,s,m,x,t,l,v,I,r,u,p,B,a,h,b,F)},i}();yr.IDENTITY=new yr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),yr.ZERO=new yr(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),yr.tempVec0=new Ie,yr.tempVec1=new Ie,yr.tempVec2=new Ie,yr.tempMat0=new yr;function qn(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,e=new Array(o);n<o;n++)e[n]=i[n];return e}function Hi(i,o){if(i){if(typeof i=="string")return qn(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(i,o)}}function Fe(i,o){var n=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(n)return(n=n.call(i)).next.bind(n);if(Array.isArray(i)||(n=Hi(i))||o&&i&&typeof i.length=="number"){n&&(i=n);var e=0;return function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Aa;(function(i){i[i.noShader=0]="noShader",i[i.success=1]="success",i[i.fail=2]="fail",i[i.compiling=3]="compiling"})(Aa||(Aa={}));var oi;(function(i){i.GLSL1="100",i.GLSL3="300 es"})(oi||(oi={}));var Ho=function(i){pe(o,i);function o(n,e){var t;return t=i.call(this,n)||this,t.source=e,t}return o}(wn),Eo=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createVariant=function(t){var r=[];if(t)for(var a=Fe(Object.keys(t)),s;!(s=a()).done;){var l=s.value;r.push([l,t[l]])}var u=this.engine.getShaderLibrary().createShader(this.shaderData,r);return u.shader=this,u},n.fromData=function(t){i.prototype.fromData.call(this,t),this.shaderData=t},o}(wn);Eo=te([it(Ct.Shader)],Eo);var vo="effects-internal-copy",Go="effects-internal-copy-mesh",To=`
precision highp float;
attribute vec2 aPos;
varying vec2 vTex;
void main(){
    gl_Position = vec4(aPos,0.,1.0);
    vTex = (aPos + vec2(1.0))/2.;
}`,Po=`precision mediump float;
varying vec2 vTex;

#ifdef DEPTH_TEXTURE
uniform sampler2D uDepth;
#extension GL_EXT_frag_depth : enable
#endif
void main(){
    #ifdef DEPTH_TEXTURE
    gl_FragDepthEXT = texture2D(uDepth,vTex).r;
    #endif
}
`;function uo(i,o){var n=i===2;return{name:vo,vertex:To,fragment:Po,glslVersion:n?oi.GLSL3:oi.GLSL1,macros:[["DEPTH_TEXTURE",!!o]],cacheId:Go+ +o}}function gs(i,o,n){o===void 0&&(o="webgl");var e;if(o==="webgl2"&&(e=i.getContext("webgl2",n),e||console.debug("WebGL2 context retrieval failed, falling back to WebGL context.")),(!e||o==="webgl")&&(e=i.getContext("webgl",n)),!e)throw new Error("This browser does not support WebGL or the WebGL version is incorrect. Please check your WebGL version.");return e}function to(i){var o=i.getExtension("EXT_disjoint_timer_query_webgl2");if(o){var n=i.createQuery(),e=M(function(){return J(this,function(t){return[2,new Promise(function(r,a){if(n){var s=i.getQueryParameter(n,i.QUERY_RESULT_AVAILABLE),l=i.getParameter(o.GPU_DISJOINT_EXT);if(s&&!l){var u=i.getQueryParameter(n,i.QUERY_RESULT);r(u/1e3/1e3)}(s||l)&&(i.deleteQuery(n),n=null),s!==null&&n&&window.setTimeout(function(){e().then(r).catch},1)}})]})});return n?{begin:function(){n&&i.beginQuery(o.TIME_ELAPSED_EXT,n)},end:function(){i.endQuery(o.TIME_ELAPSED_EXT)},getTime:e}:void 0}}var co=[],D={};co.length||Xs();function Xs(){typeof WebGL2RenderingContext=="function"?Ro(WebGL2RenderingContext):typeof WebGLRenderingContext!="undefined"?(Ro(WebGLRenderingContext),Ro(WebGLRenderingContext.prototype)):co.push("iOS16 lockdown mode, WebGL Constants not in global"),!co.length&&!("HALF_FLOAT"in D)&&(D.HALF_FLOAT=5131)}function Ca(i){return typeof WebGL2RenderingContext!="undefined"&&i.constructor.name==="WebGL2RenderingContext"}function Ro(i){for(var o in i)/^[A-Z_]/.test(o)&&(D[o]=i[o])}function po(i){switch(i){case qr.Float32:return WebGLRenderingContext.FLOAT;case qr.Int16:return WebGLRenderingContext.SHORT;case qr.Int8:return WebGLRenderingContext.BYTE;case qr.UInt16:return WebGLRenderingContext.UNSIGNED_SHORT;case qr.UInt8:return WebGLRenderingContext.UNSIGNED_BYTE;default:return WebGLRenderingContext.FLOAT}}function rn(i){switch(i){case WebGLRenderingContext.FLOAT:return qr.Float32;case WebGLRenderingContext.SHORT:return qr.Int16;case WebGLRenderingContext.BYTE:return qr.Int8;case WebGLRenderingContext.UNSIGNED_SHORT:return qr.UInt16;case WebGLRenderingContext.UNSIGNED_BYTE:return qr.UInt8;default:return qr.Float32}}var Dn;(function(i){i[i.vertex=0]="vertex",i[i.fragment=1]="fragment"})(Dn||(Dn={}));function ro(i,o){return i==null?o:i}function Wo(i){switch(i){case Jt.ALPHA:return 1;case Jt.ADD:return 1;case Jt.SUBTRACTION:return 1;case Jt.STRONG_LIGHT:return 1;case Jt.WEAK_LIGHT:return 1;case Jt.SUPERPOSITION:return 2;case Jt.BRIGHTNESS:return 3;case Jt.MULTIPLY:return 0;default:return 1}}function Zo(i,o){switch(o){case void 0:i.blendFunction=[D.ONE,D.ONE_MINUS_SRC_ALPHA,D.ONE,D.ONE_MINUS_SRC_ALPHA];break;case Jt.ALPHA:i.blendFunction=[D.ONE,D.ONE_MINUS_SRC_ALPHA,D.ONE,D.ONE_MINUS_SRC_ALPHA];break;case Jt.ADD:i.blendFunction=[D.ONE,D.ONE,D.ONE,D.ONE];break;case Jt.SUBTRACTION:i.blendFunction=[D.ONE,D.ONE,D.ZERO,D.ONE],i.blendEquation=[D.FUNC_REVERSE_SUBTRACT,D.FUNC_REVERSE_SUBTRACT];break;case Jt.SUPERPOSITION:i.blendFunction=[D.ONE,D.ONE,D.ONE,D.ONE];break;case Jt.MULTIPLY:i.blendFunction=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA,D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA];break;case Jt.BRIGHTNESS:i.blendFunction=[D.ONE,D.ONE_MINUS_SRC_ALPHA,D.ONE,D.ONE_MINUS_SRC_ALPHA];break;case Jt.STRONG_LIGHT:i.blendFunction=[D.DST_COLOR,D.DST_ALPHA,D.ZERO,D.ONE];break;case Jt.WEAK_LIGHT:i.blendFunction=[D.DST_COLOR,D.ZERO,D.ZERO,D.ONE];break;default:console.warn("BlendMode "+o+" not in specification, please set blend params separately.")}}function bl(i,o){o===ir.DOUBLE?i.culling=!1:(i.culling=!0,i.frontFace=D.CW,i.cullFace=o===ir.BACK?D.BACK:D.FRONT)}function ys(i,o){switch(o){case void 0:i.stencilTest=!1;break;case tr.MASK:i.stencilTest=!0,i.stencilFunc=[D.ALWAYS,D.ALWAYS],i.stencilOpZPass=[D.REPLACE,D.REPLACE];break;case tr.OBSCURED:i.stencilTest=!0,i.stencilFunc=[D.EQUAL,D.EQUAL];break;case tr.REVERSE_OBSCURED:i.stencilTest=!0,i.stencilFunc=[D.NOTEQUAL,D.NOTEQUAL];break;case tr.NONE:i.stencilTest=!1;break;default:console.warn("MaskMode "+o+" not in specification, please set stencil params seperately.")}}function Zr(){return Zr=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o},Zr.apply(this,arguments)}var si;(function(i){i[i.whatever=0]="whatever",i[i.clear=2]="clear"})(si||(si={}));var wr;(function(i){i[i.none=0]="none",i[i.data=1]="data",i[i.image=2]="image",i[i.compressed=3]="compressed",i[i.video=4]="video",i[i.canvas=5]="canvas",i[i.framebuffer=6]="framebuffer",i[i.mipmaps=7]="mipmaps"})(wr||(wr={}));var As=function(){function i(){this.callbacks={}}var o=i.prototype;return o.downloadJSON=function(e,t,r){this.download(e,"json",t,r)},o.downloadBinary=function(e,t,r){this.download(e,"arraybuffer",t,r)},o.downloadBlob=function(e,t,r){this.download(e,"blob",t,r)},o.download=function(e,t,r,a){var s=this;if(t===void 0&&(t="json"),!this.start(e,r,a)){var l=new XMLHttpRequest,u=function(){s.finish(e,l.status,l.response)},h=function(){l.status==200||l.status==0?s.finish(e,200,l.response):u()};l.responseType=t,l.addEventListener("load",h),l.addEventListener("error",u),l.open("GET",e,!0),l.send()}},o.start=function(e,t,r){var a=this.callbacks[e];try{if(a)return!0;this.callbacks[e]=a=[]}finally{a.push(t,r)}},o.finish=function(e,t,r){var a=this.callbacks[e];delete this.callbacks[e];for(var s=t==200||t==0?[r]:[t,r],l=s.length-1,u=a.length;l<u;l+=2)a[l].apply(null,s)},i}(),T=!1,_=!1;function Q(i,o){return le.apply(this,arguments)}function le(){return le=M(function(i,o){var n,e,t;return J(this,function(r){switch(r.label){case 0:return T||!o?[4,ct(i)]:[3,2];case 1:return n=r.sent(),[2,{image:n,url:i}];case 2:return r.trys.push([2,4,,6]),[4,ct(o)];case 3:return e=r.sent(),[2,{image:e,url:o}];case 4:return r.sent(),T=!0,[4,ct(i)];case 5:return t=r.sent(),[2,{image:t,url:i}];case 6:return[2]}})}),le.apply(this,arguments)}function _e(i,o){return pt.apply(this,arguments)}function pt(){return pt=M(function(i,o){var n,e,t;return J(this,function(r){switch(r.label){case 0:return _||!o?[4,ct(i)]:[3,2];case 1:return n=r.sent(),[2,{image:n,url:i}];case 2:return r.trys.push([2,4,,6]),[4,ct(o)];case 3:return e=r.sent(),[2,{image:e,url:o}];case 4:return r.sent(),_=!0,[4,ct(i)];case 5:return t=r.sent(),[2,{image:t,url:i}];case 6:return[2]}})}),pt.apply(this,arguments)}function ct(i){return Bt.apply(this,arguments)}function Bt(){return Bt=M(function(i){var o,n;return J(this,function(e){if(o="",U(i,HTMLImageElement)){if(i.complete)return[2,i];o=i.src}else U(i,Blob)?(o=URL.createObjectURL(i),n=!0):typeof i=="string"&&(o=i);if(!o)throw new Error("Invalid url type: "+JSON.stringify(i)+".");return[2,new Promise(function(t,r){var a=new Image;/^data:/.test(o)||(a.crossOrigin="*"),a.onload=function(){return a.onload=null,n&&URL.revokeObjectURL(o),t(a)},a.onerror=function(s){return a.onerror=null,n&&URL.revokeObjectURL(o),r("Load image fail: "+o+", reason: "+JSON.stringify(s))},a.src=o})]})}),Bt.apply(this,arguments)}function hr(i){return zr.apply(this,arguments)}function zr(){return zr=M(function(i){return J(this,function(o){return[2,new Promise(function(n,e){new As().downloadBinary(i,n,function(t,r){e("Couldn't load bins "+i+": status "+t+", "+r)})})]})}),zr.apply(this,arguments)}function Ir(i){return Gt.apply(this,arguments)}function Gt(){return Gt=M(function(i){return J(this,function(o){return[2,new Promise(function(n,e){new As().downloadBlob(i,n,function(t,r){e("Couldn't load blob "+i+": status "+t+", "+r)})})]})}),Gt.apply(this,arguments)}function nn(i){return kt.apply(this,arguments)}function kt(){return kt=M(function(i){var o;return J(this,function(n){return o=document.createElement("video"),typeof i=="string"?o.src=i:o.srcObject=i,o.crossOrigin="anonymous",o.muted=!0,ae()&&o.setAttribute("renderer","standard"),o.setAttribute("playsinline","playsinline"),[2,new Promise(function(e,t){var r=o.play();r?r.then(function(){return e(o)}):o.addEventListener("loadeddata",function a(){e(o),o.removeEventListener("loadeddata",a)},!0),o.addEventListener("error",function(a){t("Load video fail.")})})]})}),kt.apply(this,arguments)}function Xr(i,o){return Yr.apply(this,arguments)}function Yr(){return Yr=M(function(i,o){return J(this,function(n){switch(n.label){case 0:if(!Array.isArray(i))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,5]),[4,o(i[0])];case 2:return[2,n.sent()];case 3:return n.sent(),[4,o(i[1])];case 4:return[2,n.sent()];case 5:return[2,o(i)]}})}),Yr.apply(this,arguments)}function Hr(i,o,n){return On.apply(this,arguments)}function On(){return On=M(function(i,o,n,e){var t,r,a,s,l,u,h,m,v;return J(this,function(p){switch(p.label){case 0:return e===void 0&&(e=[]),i.target!==34067?[3,2]:(t=i.mipmaps,r=i.target,a=t.map(function(b){return Promise.all(b.map(function(x){if(x.id){var I=n[x.id];return I}else return Fn(x,o)}))}),[4,Promise.all(a)]);case 1:return s=p.sent(),[2,Zr({keepImageSource:!1},i,{mipmaps:s,sourceFrom:{target:r,type:wr.mipmaps}})];case 2:return l=i.mipmaps,u=i.target,h=l.map(function(b){return Fn(b,o)}),[4,Promise.all(h)];case 3:return m=p.sent(),v=e[l[0][1][0]].url,[2,Zr({keepImageSource:!1},i,{mipmaps:m,sourceType:wr.mipmaps,sourceFrom:{target:u,bin:v,type:wr.mipmaps,mipmaps:l.map(function(b){return[b[1][1],b[1][2]]})}})];case 4:return[2]}})}),On.apply(this,arguments)}function Fn(i,o){return Nn.apply(this,arguments)}function Nn(){return Nn=M(function(i,o){var n,e,t,r,a;return J(this,function(s){if(n=i[1],e=n[0],t=n[1],r=n[2],a=o[e],!a)throw new Error("Invalid bin pointer: "+JSON.stringify(i)+".");return[2,ct(new Blob([new Uint8Array(a,t,r)]))]})}),Nn.apply(this,arguments)}var _n=1,Pr=function(i){pe(o,i);function o(e){var t;return t=i.call(this,e)||this,t.destroyed=!1,t.id="Tex"+_n++,t}var n=o.prototype;return n.getWidth=function(){return this.width||0},n.getHeight=function(){return this.height||0},n.uploadCurrentVideoFrame=function(){},n.offloadData=function(){},n.reloadData=function(){},n.initialize=function(){},n.assembleOptions=function(t){var r=t.target,a=r===void 0?D.TEXTURE_2D:r,s=t.format,l=s===void 0?D.RGBA:s;return t.sourceType||("image"in t?t.sourceType=wr.image:"data"in t?t.sourceType=wr.data:"video"in t?t.sourceType=wr.video:t.sourceType=0),Zr({minFilter:D.NEAREST,magFilter:D.NEAREST,wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE,target:a,format:D.RGBA,internalFormat:l,type:D.UNSIGNED_BYTE},t)},o.fromImage=function(t,r,a){return M(function(){var s,l;return J(this,function(u){switch(u.label){case 0:return[4,ct(t)];case 1:return s=u.sent(),l=o.create(r,Zr({sourceType:wr.image,image:s,target:D.TEXTURE_2D,id:nt(),flipY:!0},a)),l.initialize(),[2,l]}})})()},o.fromVideo=function(t,r,a){return M(function(){var s,l;return J(this,function(u){switch(u.label){case 0:return[4,nn(t)];case 1:return s=u.sent(),l=o.create(r,Zr({sourceType:wr.video,video:s,id:nt(),flipY:!0},a)),l.initialize(),[2,l]}})})()},gr(o,[{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(wn);function vn(i,o,n,e){var t=o.length/n/e,r,a;return t===4||t===0?a=r=D.RGBA:t===3?a=r=D.RGB:t===2?a=r=D.LUMINANCE_ALPHA:a=r=D.LUMINANCE,Pr.createWithData(i,{data:o,width:n,height:e},{type:D.HALF_FLOAT,format:r,internalFormat:a,wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE})}var kn={type:D.UNSIGNED_BYTE,format:D.RGBA,internalFormat:D.RGBA,wrapS:D.MIRRORED_REPEAT,wrapT:D.MIRRORED_REPEAT,minFilter:D.NEAREST,magFilter:D.NEAREST};function Ti(i){return Pr.create(i,Zr({id:Fr.WhiteTexture,data:{width:1,height:1,data:new Uint8Array([255,255,255,255])},sourceType:wr.data},kn))}function Oi(i){return Pr.create(i,Zr({id:Fr.TransparentTexture,data:{width:1,height:1,data:new Uint8Array([0,0,0,0])},sourceType:wr.data},kn))}var hi=12+13*4,Ri=0,Mi=2,Ai=function(){function i(n,e,t){t===void 0&&(t=0),this.arrayBuffer=n,this.baseOffset=t;var r=new Uint8Array(this.arrayBuffer,this.baseOffset,12);if(r[0]!==171||r[1]!==75||r[2]!==84||r[3]!==88||r[4]!==32||r[5]!==49||r[6]!==49||r[7]!==187||r[8]!==13||r[9]!==10||r[10]!==26||r[11]!==10)throw new Error("Texture missing KTX identifier.");var a=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(this.arrayBuffer,this.baseOffset+12,13*a),l=s.getUint32(0,!0),u=l===67305985;if(this.glType=s.getUint32(1*a,u),this.glTypeSize=s.getUint32(2*a,u),this.glFormat=s.getUint32(3*a,u),this.glInternalFormat=s.getUint32(4*a,u),this.glBaseInternalFormat=s.getUint32(5*a,u),this.pixelWidth=s.getUint32(6*a,u),this.pixelHeight=s.getUint32(7*a,u),this.pixelDepth=s.getUint32(8*a,u),this.numberOfArrayElements=s.getUint32(9*a,u),this.numberOfFaces=s.getUint32(10*a,u),this.numberOfMipmapLevels=s.getUint32(11*a,u),this.bytesOfKeyValueData=s.getUint32(12*a,u),this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),this.pixelHeight===0||this.pixelDepth!==0){ke.warn("Only 2D textures currently supported.");return}if(this.numberOfArrayElements!==0){ke.warn("Texture arrays not currently supported.");return}if(this.numberOfFaces!==e){ke.warn("Number of faces expected "+e+", but found "+this.numberOfFaces+".");return}this.glType===0?this.loadType=Ri:this.loadType=Mi}var o=i.prototype;return o.mipmaps=function(e){for(var t=[],r=hi+this.bytesOfKeyValueData,a=this.pixelWidth,s=this.pixelHeight,l=e?this.numberOfMipmapLevels:1,u=0;u<l;u++){for(var h=new Int32Array(this.arrayBuffer,this.baseOffset+r,1)[0],m=0;m<this.numberOfFaces;m++){var v=new Uint8Array(this.arrayBuffer,this.baseOffset+r+4,h);t.push({data:v,width:a,height:s}),r+=h+4,r+=3-(h+3)%4}a=Math.max(1,a*.5),s=Math.max(1,s*.5)}return t},i}();function di(i){var o=new Ai(i,1),n=o.numberOfMipmapLevels,e=o.pixelWidth,t=o.pixelHeight,r=o.glType,a=o.numberOfFaces,s=o.glInternalFormat,l=o.glFormat,u=n>=Math.floor(Math.log2(Math.max(e,t))+1);return{sourceType:wr.compressed,type:r,target:a===6?D.TEXTURE_CUBE_MAP:D.TEXTURE_2D,internalFormat:s,format:l,mipmaps:o.mipmaps(u)}}var Ii=function(){function i(){this.reloadPending={}}var o=i.prototype;return o.reload=function(e){var t=this;return M(function(){var r,a;return J(this,function(s){switch(s.label){case 0:return r=e.id,t.reloadPending[r]?[2]:e.sourceFrom?(t.reloadPending[r]=!0,[4,t.loadSource(e.sourceFrom)]):[3,2];case 1:return a=s.sent(),e.updateSource(a),t.reloadPending[r]=!1,[3,3];case 2:throw new Error("No source from.");case 3:return[2]}})})()},o.canOffloadTexture=function(e){if(e){var t=e.type;if(t===wr.compressed||t===wr.image){var r=e.target,a=e.map,s=e.url;return r===D.TEXTURE_CUBE_MAP?typeof a=="object"&&!!a:Lr(s)&&s.length>0}if(t===wr.mipmaps){var l=e.bin,u=e.mipmaps,h=e.target,m=e.maps,v=e.urls;return l?u.length>0:h===D.TEXTURE_CUBE_MAP?m.every(function(p){return typeof p=="object"&&p}):v.every(function(p){return Lr(p)&&p.length>0})}}return!1},o.loadSource=function(e,t){var r=this;return M(function(){var a,s,l,u,h,m,v,p,b,x,I,B,F,R,X,k,H,ee;return J(this,function(ie){switch(ie.label){case 0:return a=e.type,s=e.target,l=e.map,u=e.url,h=e.bin,m=e.mipmaps,v=e.urls,p=e.maps,s===D.TEXTURE_CUBE_MAP&&a!==wr.mipmaps?[4,r.loadCubeMap(l)]:[3,2];case 1:return b=ie.sent(),[2,Zr({},t,{cube:b,target:D.TEXTURE_CUBE_MAP,sourceType:wr.image,sourceFrom:{type:wr.image,map:Zr({},l),target:D.TEXTURE_CUBE_MAP}})];case 2:return a!==wr.image?[3,4]:[4,ct(u)];case 3:return x=ie.sent(),[2,Zr({},t,{image:x,sourceType:wr.image,sourceFrom:{type:a,url:u,target:D.TEXTURE_2D}})];case 4:return a!==wr.video?[3,6]:[4,nn(u)];case 5:return I=ie.sent(),[2,Zr({},t,{video:I,sourceType:wr.video})];case 6:return a!==wr.compressed?[3,8]:[4,hr(u)];case 7:return B=ie.sent(),[2,Zr({},di(B),t,{sourceFrom:{url:u,type:wr.compressed}})];case 8:return a!==wr.mipmaps?[3,17]:h?[4,hr(h)]:[3,13];case 9:return F=ie.sent(),R=s!=null?s:D.TEXTURE_2D,X=R===D.TEXTURE_2D?m.slice():m.map(function(oe){return oe.slice()}),s!==D.TEXTURE_CUBE_MAP?[3,11]:[4,Promise.all(m.map(function(oe){return r.loadMipmapImages(oe,F)}))];case 10:return k=ie.sent(),[3,12];case 11:k=r.loadMipmapImages(m,F),ie.label=12;case 12:return[2,Zr({},t,{mipmaps:k,target:R,sourceType:wr.mipmaps,sourceFrom:{bin:h,mipmaps:X,target:R,type:wr.mipmaps}})];case 13:return s===D.TEXTURE_2D||!s?[4,Promise.all(v.map(function(oe){return ct(oe)}))]:[3,15];case 14:return H=ie.sent(),[2,Zr({},t,{mipmaps:H,target:D.TEXTURE_2D,sourceType:wr.mipmaps,sourceFrom:{type:a,urls:v.slice(),target:D.TEXTURE_2D}})];case 15:return s!==D.TEXTURE_CUBE_MAP?[3,17]:[4,Promise.all(p.map(function(oe){return r.loadCubeMap(oe)}))];case 16:return ee=ie.sent(),[2,Zr({},t,{mipmaps:ee,target:D.TEXTURE_CUBE_MAP,sourceType:wr.mipmaps,sourceFrom:{type:a,maps:p.map(function(oe){return Zr({},oe)}),target:D.TEXTURE_CUBE_MAP}})];case 17:throw new Error("Invalid resource type: "+a+".")}})})()},o.loadMipmapImages=function(e,t){return M(function(){return J(this,function(r){return[2,Promise.all(e.map(function(a){var s=new Blob([new Uint8Array(t,a[0],a[1])]);return ct(s)}))]})})()},o.loadCubeMap=function(e){return M(function(){return J(this,function(t){return[2,Promise.all(e.map(function(r){return ct(r)}))]})})()},i}(),mi;function Kr(){return mi||(mi=new Ii),mi}function cn(i){mi=i}var bi=null;function li(i){return typeof i=="object"&&i&&i.length===void 0&&U(i,Pr)}function ja(i){return i&&i.length!==void 0&&li(i[0])}var va;(function(i){i[i.normal=0]="normal",i[i.transformFeedback=1]="transformFeedback"})(va||(va={}));var $i=1,Xn=function(i){pe(o,i);function o(e,t){var r;if(r=i.call(this,e)||this,r.stringTags={},r.enabledMacros={},r.destroyed=!1,r.initialized=!1,r.shaderDirty=!0,t){var a=t.name,s=a===void 0?"Material"+$i++:a,l=t.renderType,u=l===void 0?0:l,h=t.shader,m=t.uniformSemantics;r.name=s,r.renderType=u,r.shaderSource=h,r.props=t,r.uniformSemantics=Zr({},m)}else r.name="Material"+$i++,r.renderType=0;return r}var n=o.prototype;return n.initialize=function(){},n.createShaderVariant=function(){},n.use=function(t,r){},gr(o,[{key:"shader",get:function(){return this._shader},set:function(t){this._shader!==t&&(this._shader=t,this.shaderDirty=!0)}},{key:"mainTexture",get:function(){return this.getTexture("_MainTex")},set:function(t){this.setTexture("_MainTex",t)}},{key:"color",get:function(){return this.getColor("_Color")},set:function(t){this.setColor("_Color",t)}},{key:"blending",set:function(t){}},{key:"blendFunction",set:function(t){}},{key:"blendEquation",set:function(t){}},{key:"depthTest",set:function(t){}},{key:"depthMask",set:function(t){}},{key:"stencilTest",set:function(t){}},{key:"stencilRef",set:function(t){}},{key:"stencilFunc",set:function(t){}},{key:"stencilOpZPass",set:function(t){}},{key:"culling",set:function(t){}},{key:"frontFace",set:function(t){}},{key:"cullFace",set:function(t){}},{key:"blendColor",set:function(t){}},{key:"depthRange",set:function(t){}},{key:"depthFunc",set:function(t){}},{key:"polygonOffsetFill",set:function(t){}},{key:"polygonOffset",set:function(t){}},{key:"sampleAlphaToCoverage",set:function(t){}},{key:"colorMask",set:function(t){}},{key:"stencilMask",set:function(t){}},{key:"stencilOpFail",set:function(t){}},{key:"stencilOpZFail",set:function(t){}}]),o}(wn),Vi={format:D.RGBA,type:D.UNSIGNED_BYTE,minFilter:D.LINEAR,magFilter:D.LINEAR,wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE},Ra=Symbol("dispose"),ji=function(){function i(n){this.textureCache={},this.textureRef={},this.engine=n}var o=i.prototype;return o.requestColorAttachmentTexture=function(e){var t=this,r=e.width,a=e.height,s=e.name,l={sourceType:wr.framebuffer,data:{width:r,height:a},name:s},u=[s];Object.getOwnPropertyNames(Vi).forEach(function(p){var b,x=(b=e[p])!=null?b:Vi[p];l[p]=x,u.push(p,x)});var h=u.join(":"),m=this.textureCache[h];if(m)this.textureRef[h]++;else{var v=this.engine;at(v),m=Pr.create(v,l),this.textureCache[h]=m,this.textureRef[h]=1,m[Ra]=m.dispose,m.dispose=function(){return t.removeTexture(h)}}return m},o.removeTexture=function(e){var t=this.textureRef[e];if(t<=1){t<0&&console.error("Ref count < 0.");var r=this.textureCache[e];r&&(r[Ra](),r.dispose=r[Ra]),delete this.textureCache[e],delete this.textureRef[e]}else this.textureRef[e]=t-1},o.dispose=function(){var e=this;Object.keys(this.textureCache).forEach(function(t){var r=e.textureCache[t];r[Ra](),r.dispose=r[Ra]}),this.textureCache={},this.textureRef={},this.engine=void 0},i}(),_a=function(){function i(n){n===void 0&&(n={}),this.semantics=Zr({},n)}var o=i.prototype;return o.toObject=function(){return Zr({},this.semantics)},o.setSemantic=function(e,t){t===void 0?delete this.semantics[e]:this.semantics[e]=t},o.getSemanticValue=function(e,t){var r=this.semantics[e];return yt(r)?r(t):r},o.hasSemanticValue=function(e){return e in this.semantics},o.dispose=function(){var e=this;Object.keys(this.semantics).forEach(function(t){delete e.semantics[t]})},i}(),Ea,An=(Ea={},Ea[D.FLOAT]=Float32Array.BYTES_PER_ELEMENT,Ea[D.INT]=Int32Array.BYTES_PER_ELEMENT,Ea[D.SHORT]=Int16Array.BYTES_PER_ELEMENT,Ea[D.BYTE]=Int8Array.BYTES_PER_ELEMENT,Ea),Cr=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.initialize=function(){},n.flush=function(){},o}(wn);function zn(i){return i===D.INT?new Int32Array(0):i===D.SHORT?new Int16Array(0):new Float32Array(0)}var Gr;(function(i){i[i.XYZ=0]="XYZ",i[i.XZY=1]="XZY",i[i.YXZ=2]="YXZ",i[i.YZX=3]="YZX",i[i.ZXY=4]="ZXY",i[i.ZYX=5]="ZYX"})(Gr||(Gr={}));var Er=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=i.DEFAULT_ORDER),this.x=n,this.y=e,this.z=t,this.order=r}var o=i.prototype;return o.set=function(e,t,r,a){return a===void 0&&(a=this.order),this.x=e,this.y=t,this.z=r,this.order=a,this},o.setZero=function(e){return e===void 0&&(e=this.order),this.set(0,0,0,e)},o.setFromRotationMatrix4=function(e,t){t===void 0&&(t=this.order);var r=e.elements,a=r[0],s=r[4],l=r[8],u=r[1],h=r[5],m=r[9],v=r[2],p=r[6],b=r[10];switch(t){case Gr.XYZ:this.y=Math.asin(ai(l,-1,1)),Math.abs(l)<.9999999?(this.x=Math.atan2(-m,b),this.z=Math.atan2(-s,a)):(this.x=Math.atan2(p,h),this.z=0);break;case Gr.YXZ:this.x=Math.asin(-ai(m,-1,1)),Math.abs(m)<.9999999?(this.y=Math.atan2(l,b),this.z=Math.atan2(u,h)):(this.y=Math.atan2(-v,a),this.z=0);break;case Gr.ZXY:this.x=Math.asin(ai(p,-1,1)),Math.abs(p)<.9999999?(this.y=Math.atan2(-v,b),this.z=Math.atan2(-s,h)):(this.y=0,this.z=Math.atan2(u,a));break;case Gr.ZYX:this.y=Math.asin(-ai(v,-1,1)),Math.abs(v)<.9999999?(this.x=Math.atan2(p,b),this.z=Math.atan2(u,a)):(this.x=0,this.z=Math.atan2(-s,h));break;case Gr.YZX:this.z=Math.asin(ai(u,-1,1)),Math.abs(u)<.9999999?(this.x=Math.atan2(-m,h),this.y=Math.atan2(-v,a)):(this.x=0,this.y=Math.atan2(l,b));break;case Gr.XZY:this.z=Math.asin(-ai(s,-1,1)),Math.abs(s)<.9999999?(this.x=Math.atan2(p,h),this.y=Math.atan2(l,a)):(this.x=Math.atan2(-m,b),this.y=0);break;default:console.error("setFromRotationMatrix: unknown order: "+t)}return this.x*=Xi,this.y*=Xi,this.z*=Xi,this.order=t,this},o.setFromQuaternion=function(e,t){t===void 0&&(t=this.order);var r=i.tempMat0;return r.setFromQuaternion(e),this.setFromRotationMatrix4(r,t)},o.setFromVector3=function(e,t){return t===void 0&&(t=this.order),this.set(e.x,e.y,e.z,t)},o.setFromArray=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.order);var a;this.x=(a=e[t])!=null?a:0;var s;this.y=(s=e[t+1])!=null?s:0;var l;this.z=(l=e[t+2])!=null?l:0;var u;return this.order=(u=e[t+3])!=null?u:r,this},o.clone=function(){return new i(this.x,this.y,this.z,this.order)},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.order=e.order,this},o.add=function(e){return this.order!=e.order?(console.error("add euler with different order"),this):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},o.addEulers=function(e,t){return e.order!=t.order?(console.error("add euler with different order"),this):(this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.order=e.order,this)},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.reorder=function(e){var t=new Nt;return t.setFromEuler(this),this.setFromQuaternion(t,e)},o.rotateVector3=function(e,t){var r=i.tempQuat0;return r.setFromEuler(this).rotateVector3(e,t)},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.order===this.order},o.toVector3=function(e){return e.set(this.x,this.y,this.z)},o.toArray=function(){return[this.x,this.y,this.z]},o.toQuaternion=function(e){var t=this,r=t.x,a=t.y,s=t.z,l=t.order,u=Math.cos(r*Zn*.5),h=Math.cos(a*Zn*.5),m=Math.cos(s*Zn*.5),v=Math.sin(r*Zn*.5),p=Math.sin(a*Zn*.5),b=Math.sin(s*Zn*.5);switch(l){case Gr.XYZ:e.set(v*h*m+u*p*b,u*p*m-v*h*b,u*h*b+v*p*m,u*h*m-v*p*b);break;case Gr.YXZ:e.set(v*h*m+u*p*b,u*p*m-v*h*b,u*h*b-v*p*m,u*h*m+v*p*b);break;case Gr.ZXY:e.set(v*h*m-u*p*b,u*p*m+v*h*b,u*h*b+v*p*m,u*h*m-v*p*b);break;case Gr.ZYX:e.set(v*h*m-u*p*b,u*p*m+v*h*b,u*h*b-v*p*m,u*h*m+v*p*b);break;case Gr.YZX:e.set(v*h*m+u*p*b,u*p*m+v*h*b,u*h*b-v*p*m,u*h*m-v*p*b);break;case Gr.XZY:e.set(v*h*m-u*p*b,u*p*m-v*h*b,u*h*b+v*p*m,u*h*m+v*p*b);break;default:console.error("unknown euler order: "+l)}return e},o.toMatrix4=function(e){var t=e.elements,r=this,a=r.x,s=r.y,l=r.z,u=r.order,h=Math.cos(a*Zn),m=Math.sin(a*Zn),v=Math.cos(s*Zn),p=Math.sin(s*Zn),b=Math.cos(l*Zn),x=Math.sin(l*Zn);if(u===Gr.XYZ){var I=h*b,B=h*x,F=m*b,R=m*x;t[0]=v*b,t[4]=-v*x,t[8]=p,t[1]=B+F*p,t[5]=I-R*p,t[9]=-m*v,t[2]=R-I*p,t[6]=F+B*p,t[10]=h*v}else if(u===Gr.YXZ){var X=v*b,k=v*x,H=p*b,ee=p*x;t[0]=X+ee*m,t[4]=H*m-k,t[8]=h*p,t[1]=h*x,t[5]=h*b,t[9]=-m,t[2]=k*m-H,t[6]=ee+X*m,t[10]=h*v}else if(u===Gr.ZXY){var ie=v*b,oe=v*x,Qe=p*b,Je=p*x;t[0]=ie-Je*m,t[4]=-h*x,t[8]=Qe+oe*m,t[1]=oe+Qe*m,t[5]=h*b,t[9]=Je-ie*m,t[2]=-h*p,t[6]=m,t[10]=h*v}else if(u===Gr.ZYX){var st=h*b,ft=h*x,At=m*b,Wt=m*x;t[0]=v*b,t[4]=At*p-ft,t[8]=st*p+Wt,t[1]=v*x,t[5]=Wt*p+st,t[9]=ft*p-At,t[2]=-p,t[6]=m*v,t[10]=h*v}else if(u===Gr.YZX){var Zt=h*v,Kt=h*p,qt=m*v,_t=m*p;t[0]=v*b,t[4]=_t-Zt*x,t[8]=qt*x+Kt,t[1]=x,t[5]=h*b,t[9]=-m*b,t[2]=-p*b,t[6]=Kt*x+qt,t[10]=Zt-_t*x}else if(u===Gr.XZY){var _r=h*v,sr=h*p,Or=m*v,Qr=m*p;t[0]=v*b,t[4]=-x,t[8]=p*b,t[1]=_r*x+Qr,t[5]=h*b,t[9]=sr*x-Or,t[2]=Or*x-sr,t[6]=m*b,t[10]=Qr*x+_r}else console.error("toMatrix4: Invalid order "+u);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,e},i.fromRotationMatrix4=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromRotationMatrix4(e,t)},i.fromQuaternion=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromQuaternion(e,t)},i.fromVector3=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromVector3(e,t)},i.fromArray=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=i.DEFAULT_ORDER),new i().setFromArray(e,t,r)},i}();Er.DEFAULT_ORDER=Gr.ZYX,Er.tempQuat0=new Nt,Er.tempMat0=new yr;var Un=function(){function i(n,e,t,r,a,s,l,u,h){n===void 0&&(n=1),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=1),s===void 0&&(s=0),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=1),this.elements=[n,e,t,r,a,s,l,u,h]}var o=i.prototype;return o.set=function(e,t,r,a,s,l,u,h,m){var v=this.elements;return v[0]=e,v[3]=a,v[6]=u,v[1]=t,v[4]=s,v[7]=h,v[2]=r,v[5]=l,v[8]=m,this},o.setFromRowMajorData=function(e,t,r,a,s,l,u,h,m){var v=this.elements;return v[0]=e,v[3]=t,v[6]=r,v[1]=a,v[4]=s,v[7]=l,v[2]=u,v[5]=h,v[8]=m,this},o.setFromColumnVectors=function(e,t,r){return this.set(e.x,e.y,e.z,t.x,t.y,t.z,r.x,r.y,r.z)},o.setFromMatrix4=function(e){var t=e.elements;return this.set(t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10])},o.setFromArray=function(e,t){t===void 0&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[t+r];return this},o.setFromQuaternion=function(e){var t=e.x,r=e.y,a=e.z,s=e.w,l=t+t,u=r+r,h=a+a,m=t*l,v=t*u,p=t*h,b=r*u,x=r*h,I=a*h,B=s*l,F=s*u,R=s*h,X=this.elements;return X[0]=1-(b+I),X[1]=v+R,X[2]=p-F,X[3]=v-R,X[4]=1-(m+I),X[5]=x+B,X[6]=p+F,X[7]=x-B,X[8]=1-(m+b),this},o.setZero=function(){for(var e=0;e<9;e++)this.elements[e]=0;return this},o.identity=function(){return this.set(1,0,0,0,1,0,0,0,1)},o.clone=function(){var e=this.elements;return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},o.copyFrom=function(e){return this.elements=[].concat(e.elements),this},o.getColumnVector=function(e,t){return t.set(this.elements[e*3],this.elements[e*3+1],this.elements[e*3+2])},o.scale=function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},o.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),a=this.elements,s=a[0],l=a[3],u=a[6],h=a[1],m=a[4],v=a[7];return a[0]=t*s+r*h,a[3]=t*l+r*m,a[6]=t*u+r*v,a[1]=-r*s+t*h,a[4]=-r*l+t*m,a[7]=-r*u+t*v,this},o.translate=function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},o.multiply=function(e){if(typeof e=="number"){for(var t=0;t<9;t++)this.elements[t]*=e;return this}else return this.multiplyMatrices(this,e)},o.premultiply=function(e){return this.multiplyMatrices(e,this)},o.multiplyMatrices=function(e,t){var r=e.elements,a=t.elements,s=this.elements,l=r[0],u=r[3],h=r[6],m=r[1],v=r[4],p=r[7],b=r[2],x=r[5],I=r[8],B=a[0],F=a[3],R=a[6],X=a[1],k=a[4],H=a[7],ee=a[2],ie=a[5],oe=a[8];return s[0]=l*B+u*X+h*ee,s[3]=l*F+u*k+h*ie,s[6]=l*R+u*H+h*oe,s[1]=m*B+v*X+p*ee,s[4]=m*F+v*k+p*ie,s[7]=m*R+v*H+p*oe,s[2]=b*B+x*X+I*ee,s[5]=b*F+x*k+I*ie,s[8]=b*R+x*H+I*oe,this},o.determinant=function(){var e=this.elements,t=e[0],r=e[3],a=e[6],s=e[1],l=e[4],u=e[7],h=e[2],m=e[5],v=e[8];return t*(l*v-m*u)+s*(m*a-r*v)+h*(r*u-l*a)},o.invert=function(){var e=this.elements,t=e[0],r=e[3],a=e[6],s=e[1],l=e[4],u=e[7],h=e[2],m=e[5],v=e[8],p=v*l-m*u,b=m*a-v*r,x=u*r-l*a,I=t*p+s*b+h*x;if(I===0)return this.set(0,0,0,0,0,0,0,0,0);var B=1/I;return e[0]=p*B,e[1]=(h*u-v*s)*B,e[2]=(m*s-h*l)*B,e[3]=b*B,e[4]=(v*t-h*a)*B,e[5]=(h*r-m*t)*B,e[6]=x*B,e[7]=(s*a-u*t)*B,e[8]=(l*t-s*r)*B,this},o.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},o.transformPoint=function(e,t){var r=e.x,a=e.y,s=e.z,l=this.elements,u=t!=null?t:e;return u.x=l[0]*r+l[3]*a+l[6]*s,u.y=l[1]*r+l[4]*a+l[7]*s,u.z=l[2]*r+l[5]*a+l[8]*s,u},o.transformNormal=function(e,t){return this.transformPoint(e,t).normalize()},o.equals=function(e){for(var t=this.elements,r=e.elements,a=0;a<9;a++)if(!ma(t[a],r[a]))return!1;return!0},o.toArray=function(){return[].concat(this.elements)},o.fill=function(e,t){t===void 0&&(t=0);var r=this.elements;e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8]},i.fromIdentity=function(){return new i(1,0,0,0,1,0,0,0,1)},i.fromColumnVectors=function(e,t,r){return new i().setFromColumnVectors(e,t,r)},i.fromMatrix4=function(e){return new i().setFromMatrix4(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromQuaternion=function(e){return new i().setFromQuaternion(e)},i.fromRowMajorData=function(e,t,r,a,s,l,u,h,m){return new i(e,a,u,t,s,h,r,l,m)},i}(),Kn=function(){function i(n,e){n===void 0&&(n=Ie.ZERO),e===void 0&&(e=Ie.X),this.origin=new Ie,this.direction=new Ie,this.origin.copyFrom(n),this.direction.copyFrom(e).normalize()}var o=i.prototype;return o.set=function(e,t){return this.origin.copyFrom(e),this.direction.copyFrom(t).normalize(),this},o.clone=function(){return new i(this.origin,this.direction)},o.copyFrom=function(e){return this.set(e.origin,e.direction)},o.recast=function(e){return this.origin.copyFrom(this.at(e,i.tempVec0)),this},o.at=function(e,t){var r=t||new Ie;return r.copyFrom(this.origin),r.addScaledVector(this.direction,e)},o.equals=function(e){return this.origin.equals(e.origin)&&this.direction.equals(e.direction)},o.applyMatrix=function(e){return this.origin.applyProjectionMatrix(e),this.direction.applyNormalMatrix(e),this},o.intersectBox=function(e,t){var r=this.origin,a=r.x,s=r.y,l=r.z,u=this.direction,h=u.x,m=u.y,v=u.z,p=e.min,b=p.x,x=p.y,I=p.z,B=e.max,F=B.x,R=B.y,X=B.z,k,H,ee,ie,oe,Qe,Je=1/h,st=1/m,ft=1/v;if(Je>=0?(k=(b-a)*Je,H=(F-a)*Je):(k=(F-a)*Je,H=(b-a)*Je),st>=0?(ee=(x-s)*st,ie=(R-s)*st):(ee=(R-s)*st,ie=(x-s)*st),!(k>ie||ee>H)&&((ee>k||k!==k)&&(k=ee),(ie<H||H!==H)&&(H=ie),(ee>k||k!==k)&&(k=ee),(ie<H||H!==H)&&(H=ie),ft>=0?(oe=(I-l)*ft,Qe=(X-l)*ft):(oe=(X-l)*ft,Qe=(I-l)*ft),!(k>Qe||oe>H)&&((oe>k||k!==k)&&(k=oe),(Qe<H||H!==H)&&(H=Qe),!(H<0))))return k>=0?this.at(k,t):this.at(H,t)},o.intersectPlane=function(e,t){var r=e.normal,a=e.distance,s=r.dot(this.direction);if(s===0){var l=r.dot(this.origin)+a;if(l===0){var u=t||new Ie;return u.copyFrom(this.origin)}return}var h=-(this.origin.dot(r)+a)/s;return h>=0?this.at(h,t):void 0},o.intersectSphere=function(e,t){var r=e.center,a=i.tempVec0.subtractVectors(r,this.origin),s=a.dot(this.direction),l=a.dot(a)-s*s,u=e.radius*e.radius;if(!(l>u)){var h=Math.sqrt(u-l),m=s-h,v=s+h;if(!(v<0))return m>=0?this.at(m,t):this.at(v,t)}},o.intersectTriangle=function(e,t,r){var a=e.p0,s=e.p1,l=e.p2,u=i.tempVec0.subtractVectors(s,a),h=i.tempVec1.subtractVectors(l,a),m=i.tempVec2.subtractVectors(this.origin,a),v=i.tempVec3.crossVectors(u,h),p=this.direction.dot(v),b;if(p>0){if(r)return;b=1}else if(p<0)b=-1,p=-p;else return;h.crossVectors(m,h);var x=b*this.direction.dot(h);if(!(x<0)){u.cross(m);var I=b*this.direction.dot(u);if(!(I<0)&&!(x+I>p)){var B=-b*m.dot(v);if(!(B<0))return this.at(B/p,t)}}},i}();Kn.tempVec0=new Ie,Kn.tempVec1=new Ie,Kn.tempVec2=new Ie,Kn.tempVec3=new Ie;var bn=function(){function i(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),this.r=n,this.g=e,this.b=t,this.a=r}var o=i.prototype;return o.set=function(e,t,r,a){return this.r=e,this.g=t,this.b=r,this.a=a,this},o.setZero=function(){return this.r=0,this.g=0,this.b=0,this.a=0,this},o.setFromNumber=function(e){return this.r=e,this.g=e,this.b=e,this.a=e,this},o.setFromVector4=function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this.a=e.w,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var r;this.r=(r=e[t])!=null?r:0;var a;this.g=(a=e[t+1])!=null?a:0;var s;this.b=(s=e[t+2])!=null?s:0;var l;return this.a=(l=e[t+3])!=null?l:0,this},o.setFromHSV=function(e,t,r,a){a===void 0&&(a=1);var s=r*t,l=e/60,u=s*(1-Math.abs(l%2-1)),h=0,m=0,v=0;l>=0&&l<=1?(h=s,m=u):l>=1&&l<=2?(h=u,m=s):l>=2&&l<=3?(m=s,v=u):l>=3&&l<=4?(m=u,v=s):l>=4&&l<=5?(h=u,v=s):l>=5&&l<=6&&(h=s,v=u);var p=r-s;return this.set(h+p,m+p,v+p,a)},o.setFromHexString=function(e){if(e.substring(0,1)!=="#"||e.length!==9&&e.length!==7)return this;var t=parseInt(e.substring(1,3),16)/255,r=parseInt(e.substring(3,5),16)/255,a=parseInt(e.substring(5,7),16)/255,s=e.length===9?parseInt(e.substring(7,9),16)/255:1;return this.set(t,r,a,s)},o.copyFrom=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},o.clone=function(){return new i(this.r,this.g,this.b,this.a)},o.setElement=function(e,t){switch(e){case 0:this.r=t;break;case 1:this.g=t;break;case 2:this.b=t;break;case 3:this.a=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.r;case 1:return this.g;case 2:return this.b;case 3:return this.a;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.r+=e,this.g+=e,this.b+=e,this.a+=e):U(e,Array)?(this.r+=e[0],this.g+=e[1],this.b+=e[2],this.a+=e[3]):(this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a),this},o.subtract=function(e){return typeof e=="number"?(this.r-=e,this.g-=e,this.b-=e,this.a-=e):U(e,Array)?(this.r-=e[0],this.g-=e[1],this.b-=e[2],this.a-=e[3]):(this.r-=e.r,this.g-=e.g,this.b-=e.b,this.a-=e.a),this},o.multiply=function(e){return typeof e=="number"?(this.r*=e,this.g*=e,this.b*=e,this.a*=e):U(e,Array)?(this.r*=e[0],this.g*=e[1],this.b*=e[2],this.a*=e[3]):(this.r*=e.r,this.g*=e.g,this.b*=e.b,this.a*=e.a),this},o.divide=function(e){return typeof e=="number"?(this.r/=e,this.g/=e,this.b/=e,this.a/=e):U(e,Array)?(this.r/=e[0],this.g/=e[1],this.b/=e[2],this.a/=e[3]):(this.r/=e.r,this.g/=e.g,this.b/=e.b,this.a/=e.a),this},o.scale=function(e){return this.r*=e,this.g*=e,this.b*=e,this.a*=e,this},o.min=function(e){return typeof e=="number"?(this.r=Math.min(this.r,e),this.g=Math.min(this.g,e),this.b=Math.min(this.b,e),this.a=Math.min(this.a,e)):(this.r=Math.min(this.r,e.r),this.g=Math.min(this.g,e.g),this.b=Math.min(this.b,e.b),this.a=Math.min(this.a,e.a)),this},o.max=function(e){return typeof e=="number"?(this.r=Math.max(this.r,e),this.g=Math.max(this.g,e),this.b=Math.max(this.b,e),this.a=Math.max(this.a,e)):(this.r=Math.max(this.r,e.r),this.g=Math.max(this.g,e.g),this.b=Math.max(this.b,e.b),this.a=Math.max(this.a,e.a)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.lerp=function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this.a+=(e.a-this.a)*t,this},o.luminance=function(){return this.r*.3+this.g*.59+this.b*.11},o.equals=function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a},o.toLinear=function(){return this.r=i.gammaToLinear(this.r),this.g=i.gammaToLinear(this.g),this.b=i.gammaToLinear(this.b),this},o.toGamma=function(){return this.r=i.linearToGamma(this.r),this.g=i.linearToGamma(this.g),this.b=i.linearToGamma(this.b),this},o.toArray=function(){return[this.r,this.g,this.b,this.a]},o.toVector4=function(){return new Bn(this.r,this.g,this.b,this.a)},o.toHSV=function(){var e=this,t=e.r,r=e.g,a=e.b,s=e.a,l=Math.max(t,r,a),u=Math.min(t,r,a),h=l,m=l-u,v=0,p=0;return l!==0&&(p=m/l),l!=u&&(l==t?(v=(r-a)/m,r<a&&(v+=6)):l==r?v=(a-t)/m+2:l==a&&(v=(t-r)/m+4),v*=60),new i(v,p,h,s)},o.toHexString=function(e){e===void 0&&(e=!0);var t=i.ToHex(Math.round(this.r*255)),r=i.ToHex(Math.round(this.g*255)),a=i.ToHex(Math.round(this.b*255)),s=i.ToHex(Math.round(this.a*255));return e?"#"+t+r+a+s:"#"+t+r+a},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e[t+3]=this.a},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromHexString=function(e){return new i().setFromHexString(e)},i.fromHSV=function(e,t,r,a){return a===void 0&&(a=1),new i().setFromHSV(e,t,r,a)},i.gammaToLinear=function(e){return e<=0?0:e<=.04045?e/12.92:e<1?Math.pow((e+.055)/1.055,2.4):Math.pow(e,2.4)},i.linearToGamma=function(e){return e<=0?0:e<.0031308?12.92*e:e<1?1.055*Math.pow(e,.41666)-.055:Math.pow(e,.41666)},i.ToHex=function(e){var t=e.toString(16);return e<=15?("0"+t).toUpperCase():t.toUpperCase()},i}();bn.BLACK=new bn(0,0,0,1),bn.BLUE=new bn(0,0,1,1),bn.CLEAR=new bn(0,0,0,0),bn.CYAN=new bn(0,1,1,1),bn.GRAY=new bn(.5,.5,.5,1),bn.GREEN=new bn(0,1,0,1),bn.MAGENTA=new bn(1,0,1,1),bn.RED=new bn(1,0,0,1),bn.WHITE=new bn(1,1,1,1),bn.YELLOW=new bn(1,.92,.016,1);var xi=function(){function i(n,e){n===void 0&&(n=new Ie(1/0,1/0,1/0)),e===void 0&&(e=new Ie(-1/0,-1/0,-1/0)),this.min=n.clone(),this.max=e.clone()}var o=i.prototype;return o.set=function(e,t){return this.min.copyFrom(e),this.max.copyFrom(t),this},o.setFromArray=function(e){for(var t=1/0,r=1/0,a=1/0,s=-1/0,l=-1/0,u=-1/0,h=0,m=e.length;h<m;h+=3){var v=e[h],p=e[h+1],b=e[h+2];v<t&&(t=v),p<r&&(r=p),b<a&&(a=b),v>s&&(s=v),p>l&&(l=p),b>u&&(u=b)}return this.min.set(t,r,a),this.max.set(s,l,u),this},o.setFromPoints=function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},o.setFromCenterAndSize=function(e,t){var r=t.clone().multiply(.5);return this.min.copyFrom(e).subtract(r),this.max.copyFrom(e).add(r),this},o.setFromObject=function(e){return this.makeEmpty(),this.expandByObject(e)},o.clone=function(){return new i().copyFrom(this)},o.copyFrom=function(e){return this.min.copyFrom(e.min),this.max.copyFrom(e.max),this},o.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},o.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},o.getCenter=function(e){return e===void 0&&(e=new Ie),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiply(.5)},o.getSize=function(e){return e===void 0&&(e=new Ie),this.isEmpty()?e.set(0,0,0):e.subtractVectors(this.max,this.min)},o.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},o.expandByVector=function(e){return this.min.subtract(e),this.max.add(e),this},o.expandByScalar=function(e){return this.min.add(-e),this.max.add(e),this},o.expandByBox=function(e){return this.min.min(e.min),this.max.max(e.max),this},o.expandByObject=function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;if(t!==void 0){t.boundingBox===null&&t.computeBoundingBox();var r=new i;r.copyFrom(t.boundingBox),r.applyMatrix4(e.matrixWorld),this.union(r)}for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s]);return this},o.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},o.containsBox=function(e){return this.min.x<=e.min.x&&this.max.x>=e.max.x&&this.min.y<=e.min.y&&this.max.y>=e.max.y&&this.min.z<=e.min.z&&this.max.z>=e.max.z},o.getParameter=function(e,t){return t===void 0&&(t=new Ie),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},o.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},o.intersectsSphere=function(e){var t=new Ie;return this.clampPoint(e.center,t),t.distanceSquared(e.center)<=e.radius*e.radius},o.clampPoint=function(e,t){return t===void 0&&(t=new Ie),t.copyFrom(e).clamp(this.min,this.max)},o.distanceToPoint=function(e){var t=e.clone().clamp(this.min,this.max);return t.subtract(e).length()},o.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},o.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},o.applyMatrix4=function(e,t){if(t===void 0&&(t=new Ie),this.isEmpty())return this;var r=this.getOBBPoints(e,t);return this.setFromPoints(r),this},o.getOBBPoints=function(e,t){if(t===void 0&&(t=new Ie),this.isEmpty())return[];var r=[];return r[0]=new Ie(this.min.x,this.min.y,this.min.z),r[1]=new Ie(this.min.x,this.min.y,this.max.z),r[2]=new Ie(this.min.x,this.max.y,this.min.z),r[3]=new Ie(this.min.x,this.max.y,this.max.z),r[4]=new Ie(this.max.x,this.min.y,this.min.z),r[5]=new Ie(this.max.x,this.min.y,this.max.z),r[6]=new Ie(this.max.x,this.max.y,this.min.z),r[7]=new Ie(this.max.x,this.max.y,this.max.z),r.forEach(function(a){a.subtract(t),a.applyMatrix(e),a.add(t)}),r},o.getBoundingSphere=function(e){this.getCenter(e.center);var t=new Ie;return e.radius=this.getSize(t).length()*.5,e},o.translate=function(e){return this.min.add(e),this.max.add(e),this},o.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},i}(),ta=function(){function i(n,e){n===void 0&&(n=Ie.ZERO),e===void 0&&(e=-1),this.center=n.clone(),this.radius=e}var o=i.prototype;return o.set=function(e,t){return this.center.copyFrom(e),this.radius=t,this},o.setFromPoints=function(e,t){var r=this.center;if(t!==void 0){r.copyFrom(t);for(var a=0,s=0;s<e.length;s++)a=Math.max(a,r.distanceSquared(e[s]));this.radius=Math.sqrt(a)}else{var l=new xi().setFromPoints(e);l.getCenter(r),this.radius=l.getSize().length()/2}return this},o.copyFrom=function(e){return this.center.copyFrom(e.center),this.radius=e.radius,this},o.isEmpty=function(){return this.radius<0},o.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},o.containsPoint=function(e){return e.distanceSquared(this.center)<=this.radius*this.radius},o.distanceToPoint=function(e){return e.distance(this.center)-this.radius},o.intersectsSphere=function(e){var t=this.radius+e.radius;return e.center.distanceSquared(this.center)<=t*t},o.intersectsBox=function(e){return e.intersectsSphere(this)},o.clampPoint=function(e,t){var r=this.center.distanceSquared(e);return t===void 0&&(t=new Ie),t.copyFrom(e),r>this.radius*this.radius&&(t.subtract(this.center).normalize(),t.multiply(this.radius).add(this.center)),t},o.getBoundingBox=function(e){return e===void 0&&(e=new xi),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},o.applyMatrix4=function(e){var t=e.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10],l=Math.sqrt(Math.max(r,a,s));return this.center.applyMatrix(e),this.radius=this.radius*l,this},o.translate=function(e){return this.center.add(e),this},o.expandByPoint=function(e){var t=new Ie().subtractVectors(e,this.center),r=t.lengthSquared();if(r>this.radius*this.radius){var a=Math.sqrt(r),s=(a-this.radius)*.5;this.center.add(t.multiply(s/a)),this.radius+=s}return this},o.union=function(e){var t=new Ie,r=new Ie;return r.subtractVectors(e.center,this.center).normalize().multiply(e.radius),this.expandByPoint(t.copyFrom(e.center).add(r)),this.expandByPoint(t.copyFrom(e.center).subtract(r)),this},o.intersect=function(e){var t=new Ie().subtractVectors(this.center,e.center),r=t.length(),a=this.radius+e.radius;return r>a?this.makeEmpty():(this.center=this.center.add(t.normalize().multiply(r/2)),this.radius=this.radius+e.radius-r,this)},o.equals=function(e){return e.center.equals(this.center)&&e.radius===this.radius},o.clone=function(){return new i().copyFrom(this)},i}(),Ha=Object.freeze({__proto__:null,get EulerOrder(){return Gr},Euler:Er,Quaternion:Nt,Vector2:Ln,Vector3:Ie,Vector4:Bn,Matrix3:Un,Matrix4:yr,Ray:Kn,PI2:Yn,DEG2RAD:Zn,RAD2DEG:Xi,NumberEpsilon:Ma,isZero:$a,isEqual:ma,damp:Io,lerp:wi,degToRad:lo,radToDeg:qa,clamp:ai,Color:bn,Box3:xi,Sphere:ta}),Ta=1,aa=function(i){pe(o,i);function o(e,t){var r;if(r=i.call(this,e)||this,r.destroyed=!1,r.visible=!0,t){var a=t.material,s=t.geometry,l=t.name,u=l===void 0?"<unnamed>":l,h=t.priority,m=h===void 0?0:h,v=t.worldMatrix,p=v===void 0?yr.fromIdentity():v;r.id="Mesh"+Ta++,r.name=u,r.geometry=s,r.material=a,r.priority=m,r.worldMatrix=p}else r.id="Mesh"+Ta++,r.name="<unnamed>",r.worldMatrix=yr.fromIdentity(),r._priority=0;return r}var n=o.prototype;return n.setVisible=function(t){this.visible=t},n.getVisible=function(){return this.visible},n.render=function(t){this.isDestroyed||this.getVisible()&&(t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.worldMatrix),t.drawGeometry(this.geometry,this.material))},n.firstGeometry=function(){return this.geometry},n.setMaterial=function(t,r){r!==Et.keep&&this.material.dispose(r),this.material=t},n.restore=function(){},n.dispose=function(t){if(!this.destroyed){(t==null?void 0:t.geometries)!==Et.keep&&this.geometry.dispose();var r=t==null?void 0:t.material;r!==Et.keep&&this.material.dispose(r),this.destroyed=!0,this.engine!==void 0&&(this.engine.removeMesh(this),this.engine=void 0)}},gr(o,[{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(ea),Ga=0,ra=1e3,no=3e3,Pi;(function(i){i[i.none=0]="none",i[i.color=1]="color",i[i.stencil_8_opaque=2]="stencil_8_opaque",i[i.depth_16_opaque=3]="depth_16_opaque",i[i.depth_stencil_opaque=4]="depth_stencil_opaque",i[i.depth_16_texture=5]="depth_16_texture",i[i.depth_24_stencil_8_texture=6]="depth_24_stencil_8_texture"})(Pi||(Pi={}));var ni;(function(i){i[i.store=0]="store",i[i.clear=2]="clear"})(ni||(ni={}));var Yi=function(){function i(n,e){if(this.destroyed=!1,!!e){var t=e.texture,r=e.size;if(U(t,Pr))this.texture=t,this.externalTexture=!0;else if(t){var a=t.wrapT,s=t.wrapS,l=t.minFilter,u=t.magFilter,h=t.internalFormat,m=t.format,v=m===void 0?D.RGBA:m,p=t.type,b=p===void 0?D.UNSIGNED_BYTE:p;this.externalTexture=!1,this.textureOptions={size:r,format:v,type:b,internalFormat:h||v,wrapT:a,wrapS:s,minFilter:l,magFilter:u,name:e.name},this.texture=Pr.create(n,Zr({},this.textureOptions,{sourceType:wr.framebuffer,data:{width:r[0],height:r[1]}}))}}}var o=i.prototype;return o.dispose=function(){this.destroyed||(this.texture.dispose(),this.destroyed=!0)},gr(i,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"storageType",get:function(){return 1}},{key:"size",get:function(){var e=this.texture;return e?[e.getWidth(),e.getHeight()]:[0,0]}},{key:"width",get:function(){return this.texture.getWidth()||0}},{key:"height",get:function(){return this.texture.getHeight()||0}}]),i}(),sa;(function(i){i[i.force=0]="force",i[i.keep=1]="keep",i[i.keepExternal=2]="keepExternal",i[i.destroy=0]="destroy"})(sa||(sa={}));var pa=1,la=function(){function i(n,e){this.attachments=[],this.destroyed=!1,this.initialized=!1;var t=e.name,r=t===void 0?"RenderPass_"+pa++:t,a=e.clearAction,s=e.semantics,l=e.depthStencilAttachment,u=e.storeAction,h=e.priority,m=h===void 0?0:h,v=e.meshOrder,p=v===void 0?Y.ascending:v,b=e.meshes,x=b===void 0?[]:b,I=e.delegate,B=I===void 0?{}:I;this.name=r,this.renderer=n,this.priority=m,this.meshOrder=p,this.meshes=me(x.slice(),this.meshOrder),this.depthStencilType=(l==null?void 0:l.storageType)||0,this.clearAction=Zr({},a),this.storeAction=Zr({colorAction:0,depthAction:0,stencilAction:0},u),this.semantics=new _a(s),this.options=e,this.delegate=B,this.setViewportOptions(e)}var o=i.prototype;return o.addMesh=function(e){Ee(this.meshes,e,this.meshOrder)},o.removeMesh=function(e){fe(this.meshes,e)},o.setMeshes=function(e){var t;return this.meshes.length=0,(t=this.meshes).splice.apply(t,[].concat([0,0],e)),me(this.meshes,this.meshOrder),this.meshes},o.getInitAttachments=function(){return this.attachments.length>0?this.attachments:this.options.attachments},o.configure=function(e){if(this.framebuffer)e.setFramebuffer(this.framebuffer);else{var t=this.getViewport(),r=t[0],a=t[1],s=t[2],l=t[3];e.setViewport(r,a,s,l)}},o.execute=function(e){e.clear(this.clearAction),e.renderMeshes(this.meshes),e.clear(this.storeAction)},o.frameCleanup=function(e){},o.resetColorAttachments=function(e){var t=this;if(e.length||this.resetAttachments({attachments:[]}),!this.attachments.length)this.resetAttachments({attachments:e.map(function(a){return{texture:a}})});else{var r=e.map(function(a){return a.updateSource({sourceType:wr.framebuffer}),new Yi(t.renderer.engine,{texture:a})});this.attachments.forEach(function(a){return!a.externalTexture&&a.dispose()}),this.attachments=r,this.framebuffer&&(this.framebuffer.bind(),this.framebuffer.resetColorTextures(e.map(function(a){return a})))}},o.resetAttachments=function(e){this.options=e,this.setViewportOptions(e),this.renderer&&this._resetAttachments()},o.setViewportOptions=function(e){if(e.viewport){if(this.isCustomViewport=!0,this.viewportScale=1,this.customViewport=e.viewport.slice(0,4),this.framebuffer){var t=this.customViewport;this.framebuffer.isCustomViewport=!1,this.framebuffer.resize(t[0],t[1],t[2],t[3])}}else this.isCustomViewport=!1,this.viewportScale=e.viewportScale||1,this.framebuffer&&(this.framebuffer.isCustomViewport=!0,this.framebuffer.viewportScale=this.viewportScale)},o._resetAttachments=function(){var e=this,t,r=this.renderer,a=this.options;if(this.attachments.length){var s;this.attachments.forEach(function(b){return!b.externalTexture&&b.dispose()}),this.attachments.length=0,(s=this.framebuffer)==null||s.dispose({depthStencilAttachment:2}),this.framebuffer=null}var l=this.viewportScale,u=this.isCustomViewport?this.customViewport:[0,0,r.getWidth()*l,r.getHeight()*l],h=[u[2],u[3]],m=this.name;if((t=a.attachments)!=null&&t.length){var v=a.attachments.map(function(b,x){var I,B=new Yi(e.renderer.engine,Zr({size:h,name:((I=b.texture)==null?void 0:I.name)||m+"##color_"+x},b));return B});this.attachments=v;var p=Rs.create({storeAction:this.storeAction,name:m,viewport:u,viewportScale:this.viewportScale,isCustomViewport:this.isCustomViewport,attachments:v.map(function(b){return b.texture}),depthStencilAttachment:a.depthStencilAttachment||{storageType:0}},r);p.bind(),p.unbind(),this.framebuffer=p}else this.attachments.length=0},o.getViewport=function(){var e,t=((e=this.framebuffer)==null?void 0:e.viewport)||this.customViewport;if(t)return t;var r=this.renderer,a=this.viewportScale;return r?[0,0,r.getWidth()*a,r.getHeight()*a]:[0,0,0,0]},o.getDepthAttachment=function(){var e=this.framebuffer;if(e){var t=e.getDepthTexture(),r=t?this.getDepthTexture(t,e.externalStorage):void 0;return{storageType:e.depthStencilStorageType,storage:e.depthStorage,texture:r}}},o.getStencilAttachment=function(){var e=this.framebuffer;if(e){var t=e.getStencilTexture(),r=t?this.getDepthTexture(t,e.externalStorage):void 0;return{storageType:e.depthStencilStorageType,storage:e.stencilStorage,texture:r}}},o.getDepthTexture=function(e,t){if(!this.depthTexture){var r,a=(r=this.options.depthStencilAttachment)==null?void 0:r.texture,s=e===a?a:e;return t||(this.depthTexture=s),s}return this.depthTexture},o.getStencilTexture=function(e,t){if(!this.stencilTexture){var r,a=(r=this.options.depthStencilAttachment)==null?void 0:r.texture,s=e===a?a:e;return t||(this.stencilTexture=s),s}return this.stencilTexture},o.initialize=function(e){return this.initialized||(this._resetAttachments(),this.initialized=!0),this},o.dispose=function(e){if(!this.destroyed){var t=(e==null?void 0:e.meshes)||void 0;t!==Et.keep&&this.meshes.forEach(function(m){m.dispose(t)}),this.meshes.length=0;var r=e!=null&&e.colorAttachment?e.colorAttachment:0;this.attachments.forEach(function(m){var v=m.externalTexture&&r===2||r===1;v||m.dispose()}),this.attachments.length=0,(e==null?void 0:e.semantics)!==Et.keep&&this.semantics.dispose(),this.destroyed=!0;var a=e!=null&&e.depthStencilAttachment?e.depthStencilAttachment:0,s=this.framebuffer;if(s){s.dispose({depthStencilAttachment:a});var l=s.externalStorage&&a===2||a===1;if(!l){var u,h;(u=this.stencilTexture)==null||u.dispose(),(h=this.depthTexture)==null||h.dispose()}}this.options=this.renderer=null,this.initialize=Dt}},gr(i,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"viewport",get:function(){return this.getViewport()}},{key:"stencilAttachment",get:function(){return this.getStencilAttachment()}},{key:"depthAttachment",get:function(){return this.getDepthAttachment()}}]),i}(),So="vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}",Wa=`#version 100
precision highp float;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}varying vec4 vColor;varying vec4 vTexCoord;varying highp vec2 vParams;uniform vec3 uFrameColor;void main(){gl_FragColor=vec4(uFrameColor.xyz,1.0);}`,La="float calculateMovement(float t,vec2 p1,vec2 p2,vec2 p3,vec2 p4){float movement=0.0;float h=(t-p1.x)*0.05;for(int i=0;i<=20;i++){float t=float(i)*h;float nt=binarySearchT(t,p1.x,p2.x,p3.x,p4.x);float y=cubicBezier(nt,p1.y,p2.y,p3.y,p4.y);float weight=(i==0||i==20)? 1.0 :(mod(float(i),2.)!=0.)? 4.0 : 2.0;movement+=weight*y;}movement*=h/3.;return movement;}float integrateFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i+=2){vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return ret;}vec2 p1=vec2(k0.x,k0.y);vec2 p2=vec2(k0.z,k0.w);vec2 p3=vec2(k1.z,k1.w);vec2 p4=vec2(k1.x,k1.y);if(time>=k1.x){ret+=calculateMovement(k1.x,p1,p2,p3,p4);}if(time>=k0.x&&time<k1.x){return ret+calculateMovement(time,p1,p2,p3,p4);}}return ret;}float integrateByTimeLineSeg(float t,vec2 p0,vec2 p1){float t0=p0.x;float t1=p1.x;float y0=p0.y;float y1=p1.y;vec4 tSqr=vec4(t,t,t0,t0);tSqr=tSqr*tSqr;vec4 a=vec4(2.*t,3.,-t0,3.)*tSqr;float t1y0=t1*y0;vec4 b=vec4(y0-y1,t0*y1-t1y0,2.*y0+y1,t1y0);float r=dot(a,b);return r/(t0-t1)*0.16666667;}float integrateLineSeg(float time,vec2 p0,vec2 p1){float h=time-p0.x;float y0=p0.y;return(y0+y0+(p1.y-y0)*h/(p1.x-p0.x))*h/2.;}float integrateFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateLineSeg(time,k0,k1);}ret+=integrateLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateLineSeg(time,k1,k2);}ret+=integrateLineSeg(k2.x,k1,k2);}return ret;}float integrateByTimeFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateByTimeLineSeg(time,k0,k1);}ret+=integrateByTimeLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateByTimeLineSeg(time,k1,k2);}ret+=integrateByTimeLineSeg(k2.x,k1,k2);}return ret;}float getIntegrateFromTime0(float t1,vec4 value){float type=value.x;if(type==0.){return value.y*t1;}if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateLineSeg(t1,p0,p1);}if(type==3.){return integrateFromLineSeg(t1,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*t1;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w);}return 0.;}float getIntegrateByTimeFromTime(float t0,float t1,vec4 value){float type=value.x;if(type==0.){return value.y*(t1*t1-t0*t0)/2.;}else if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateByTimeLineSeg(t1,p0,p1)-integrateByTimeLineSeg(t0,p0,p1);}if(type==3.){return integrateByTimeFromLineSeg(t1,value.y,value.z)-integrateByTimeFromLineSeg(t0,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*(t1*t1-t0*t0)/2.;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w)-integrateFromBezierCurveFrames(t0,value.z,value.w);}return 0.;}",Xo=`precision highp float;attribute vec2 atlasOffset;attribute vec3 aPos;varying vec2 vTexCoord;varying vec3 vParams;varying vec4 vColor;uniform vec2 _Size;uniform vec3 _Scale;uniform vec4 _Color;uniform vec4 _TexParams;uniform vec4 _TexOffset;uniform mat4 effects_MatrixVP;uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixV;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
void main(){vec4 texParams=_TexParams;vTexCoord=vec2(atlasOffset.xy*_TexOffset.zw+_TexOffset.xy);vColor=_Color;vParams=vec3(0.0,texParams.y,texParams.x);if(texParams.z==1.0){vec4 pos=vec4(aPos.xy*_Size,aPos.z,1.0);gl_Position=effects_MatrixVP*effects_ObjectToWorld*pos;}else{mat4 view=effects_MatrixV;vec3 camRight=vec3(view[0][0],view[1][0],view[2][0]);vec3 camUp=vec3(view[0][1],view[1][1],view[2][1]);vec3 worldPosition=vec3(effects_ObjectToWorld*vec4(0.0,0.0,0.0,1.0));vec3 vertexPosition=worldPosition+camRight*aPos.x*_Size.x*_Scale.x+camUp*aPos.y*_Size.y*_Scale.y;gl_Position=effects_MatrixVP*vec4(vertexPosition,1.0);}
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}`,Da=`precision highp float;varying vec4 vColor;varying vec2 vTexCoord;varying vec3 vParams;uniform sampler2D _MainTex;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}void main(){vec4 color=vec4(0.);vec4 texColor=texture2D(_MainTex,vTexCoord.xy);color=blendColor(texColor,vColor,floor(0.5+vParams.y));
#ifdef ALPHA_CLIP
if(vParams.z==0.&&color.a<0.04){discard;}
#endif
color.a=clamp(color.a,0.0,1.0);gl_FragColor=color;}`,Za=`#version 100
precision mediump float;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}
#define PATICLE_SHADER 1
varying float vLife;varying vec2 vTexCoord;varying vec4 vColor;uniform vec3 emissionColor;uniform float emissionIntensity;uniform sampler2D uMaskTex;uniform vec4 uColorParams;uniform vec2 uTexOffset;
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
#ifdef USE_SPRITE
varying vec4 vTexCoordBlend;
#endif
varying float vSeed;
#ifdef PREVIEW_BORDER
uniform vec4 uPreviewColor;
#endif
#ifdef USE_SPRITE
vec4 getTextureColor(sampler2D tex,vec2 texCoord){if(vTexCoordBlend.w>0.){return mix(texture2D(tex,texCoord),texture2D(tex,vTexCoordBlend.xy+texCoord),vTexCoordBlend.z);}return texture2D(tex,texCoord);}
#else
#define getTextureColor texture2D
#endif
#ifndef WEBGL2
#define round(a) floor(0.5+a)
#endif
#ifdef PREVIEW_BORDER
void main(){gl_FragColor=uPreviewColor;}
#else
void main(){vec4 color=vec4(1.0);vec4 tempColor=vColor;vec2 texOffset=uTexOffset;if(vLife<0.){discard;}if(uColorParams.x>0.0){color=getTextureColor(uMaskTex,vTexCoord);}
#ifdef COLOR_OVER_LIFETIME
#ifndef ENABLE_VERTEX_TEXTURE
tempColor*=texture2D(uColorOverLifetime,vec2(vLife,0.));
#endif
#endif
color=blendColor(color,tempColor,round(uColorParams.y));if(color.a<=0.01&&uColorParams.w>0.){float _at=texture2D(uMaskTex,vTexCoord+texOffset).a+texture2D(uMaskTex,vTexCoord+texOffset*-1.).a;if(_at<=0.02){discard;}}vec3 emission=emissionColor*pow(2.0,emissionIntensity);color=vec4(pow(pow(color.rgb,vec3(2.2))+emission,vec3(1.0/2.2)),color.a);gl_FragColor=color;}
#endif
`,ha=`#version 100
precision mediump float;
#define SHADER_VERTEX 1
#define PATICLE_SHADER 1
#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}float calculateMovement(float t,vec2 p1,vec2 p2,vec2 p3,vec2 p4){float movement=0.0;float h=(t-p1.x)*0.05;for(int i=0;i<=20;i++){float t=float(i)*h;float nt=binarySearchT(t,p1.x,p2.x,p3.x,p4.x);float y=cubicBezier(nt,p1.y,p2.y,p3.y,p4.y);float weight=(i==0||i==20)? 1.0 :(mod(float(i),2.)!=0.)? 4.0 : 2.0;movement+=weight*y;}movement*=h/3.;return movement;}float integrateFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i+=2){vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return ret;}vec2 p1=vec2(k0.x,k0.y);vec2 p2=vec2(k0.z,k0.w);vec2 p3=vec2(k1.z,k1.w);vec2 p4=vec2(k1.x,k1.y);if(time>=k1.x){ret+=calculateMovement(k1.x,p1,p2,p3,p4);}if(time>=k0.x&&time<k1.x){return ret+calculateMovement(time,p1,p2,p3,p4);}}return ret;}float integrateByTimeLineSeg(float t,vec2 p0,vec2 p1){float t0=p0.x;float t1=p1.x;float y0=p0.y;float y1=p1.y;vec4 tSqr=vec4(t,t,t0,t0);tSqr=tSqr*tSqr;vec4 a=vec4(2.*t,3.,-t0,3.)*tSqr;float t1y0=t1*y0;vec4 b=vec4(y0-y1,t0*y1-t1y0,2.*y0+y1,t1y0);float r=dot(a,b);return r/(t0-t1)*0.16666667;}float integrateLineSeg(float time,vec2 p0,vec2 p1){float h=time-p0.x;float y0=p0.y;return(y0+y0+(p1.y-y0)*h/(p1.x-p0.x))*h/2.;}float integrateFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateLineSeg(time,k0,k1);}ret+=integrateLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateLineSeg(time,k1,k2);}ret+=integrateLineSeg(k2.x,k1,k2);}return ret;}float integrateByTimeFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateByTimeLineSeg(time,k0,k1);}ret+=integrateByTimeLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateByTimeLineSeg(time,k1,k2);}ret+=integrateByTimeLineSeg(k2.x,k1,k2);}return ret;}float getIntegrateFromTime0(float t1,vec4 value){float type=value.x;if(type==0.){return value.y*t1;}if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateLineSeg(t1,p0,p1);}if(type==3.){return integrateFromLineSeg(t1,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*t1;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w);}return 0.;}float getIntegrateByTimeFromTime(float t0,float t1,vec4 value){float type=value.x;if(type==0.){return value.y*(t1*t1-t0*t0)/2.;}else if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateByTimeLineSeg(t1,p0,p1)-integrateByTimeLineSeg(t0,p0,p1);}if(type==3.){return integrateByTimeFromLineSeg(t1,value.y,value.z)-integrateByTimeFromLineSeg(t0,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*(t1*t1-t0*t0)/2.;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w)-integrateFromBezierCurveFrames(t0,value.z,value.w);}return 0.;}const float d2r=3.141592653589793/180.;attribute vec3 aPos;attribute vec4 aOffset;attribute vec4 aColor;attribute vec3 aDirX;attribute vec3 aDirY;attribute vec3 aTranslation;attribute vec3 aRotation0;attribute vec3 aRotation1;attribute vec3 aRotation2;attribute vec3 aLinearMove;
#ifdef USE_SPRITE
attribute vec3 aSprite;uniform vec4 uSprite;struct UVDetail{vec2 uv0;vec3 uv1;};UVDetail getSpriteUV(vec2 uv,float lifeTime);varying vec4 vTexCoordBlend;
#endif
#ifdef FINAL_TARGET
uniform vec3 uFinalTarget;uniform vec4 uForceCurve;
#endif
uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixV;uniform mat4 effects_MatrixVP;uniform vec4 uParams;uniform vec4 uOpacityOverLifetimeValue;
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
uniform vec4 uOrbXByLifetimeValue;uniform vec4 uOrbYByLifetimeValue;uniform vec4 uOrbZByLifetimeValue;uniform vec3 uOrbCenter;uniform vec4 uSizeByLifetimeValue;
#ifdef SIZE_Y_BY_LIFE
uniform vec4 uSizeYByLifetimeValue;
#endif
varying float vLife;varying vec4 vColor;varying vec2 vTexCoord;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
vec3 calOrbitalMov(float _life,float _dur){vec3 orb=vec3(0.0);
#ifdef AS_ORBITAL_MOVEMENT
#define FUNC(a) getValueFromTime(_life,a)
#else
#define FUNC(a) getIntegrateFromTime0(_life,a) * _dur
#endif
#if ORB_VEL_X
orb.x=FUNC(uOrbXByLifetimeValue);
#endif
#if ORB_VEL_Y
orb.y=FUNC(uOrbYByLifetimeValue);
#endif
#if ORB_VEL_Z
orb.z=FUNC(uOrbZByLifetimeValue);
#endif
#undef FUNC
return orb;}mat3 mat3FromRotation(vec3 rotation){vec3 sinR=sin(rotation*d2r);vec3 cosR=cos(rotation*d2r);return mat3(cosR.z,-sinR.z,0.,sinR.z,cosR.z,0.,0.,0.,1.)*mat3(cosR.y,0.,sinR.y,0.,1.,0.,-sinR.y,0,cosR.y)*mat3(1.,0.,0.,0,cosR.x,-sinR.x,0.,sinR.x,cosR.x);}
#ifdef USE_SPRITE
UVDetail getSpriteUV(vec2 uv,float lifeTime){float t=fract(clamp((lifeTime-aSprite.x)/aSprite.y,0.0,1.)*aSprite.z);float frame=uSprite.z*t;float frameIndex=max(ceil(frame)-1.,0.);float row=floor((frameIndex+0.1)/uSprite.x);float col=frameIndex-row*uSprite.x;vec2 retUV=(vec2(col,row)+uv)/uSprite.xy;UVDetail ret;if(uSprite.w>0.){float blend=frame-frameIndex;float frameIndex1=min(ceil(frame),uSprite.z-1.);float row1=floor((frameIndex1+0.1)/uSprite.x);float col1=frameIndex1-row1*uSprite.x;vec2 coord=(vec2(col1,row1)+uv)/uSprite.xy-retUV;ret.uv1=vec3(coord.x,1.-coord.y,blend);}ret.uv0=vec2(retUV.x,1.-retUV.y);return ret;}
#endif
void main(){float time=uParams.x-aOffset.z;float dur=aOffset.w;if(time<0.||time>dur){gl_Position=vec4(-3.,-3.,-3.,1.);}else{float life=clamp(time/dur,0.0,1.0);vLife=life;
#ifdef USE_SPRITE
UVDetail uvD=getSpriteUV(aOffset.xy,time);vTexCoord=uvD.uv0;vTexCoordBlend=vec4(uvD.uv1,uSprite.w);
#else
vTexCoord=aOffset.xy;
#endif
vColor=aColor;
#ifdef COLOR_OVER_LIFETIME
#ifdef ENABLE_VERTEX_TEXTURE
vColor*=texture2D(uColorOverLifetime,vec2(life,0.));
#endif
#endif
vColor.a*=clamp(getValueFromTime(life,uOpacityOverLifetimeValue),0.,1.);vec3 size=vec3(vec2(getValueFromTime(life,uSizeByLifetimeValue)),1.0);
#ifdef SIZE_Y_BY_LIFE
size.y=getValueFromTime(life,uSizeYByLifetimeValue);
#endif
mat3 aRotation=mat3(aRotation0,aRotation1,aRotation2);vec3 point=aRotation*(aDirX*size.x+aDirY*size.y);vec3 _pos=aPos+aTranslation;
#if ORB_VEL_X + ORB_VEL_Y + ORB_VEL_Z
_pos=mat3FromRotation(calOrbitalMov(life,dur))*(_pos-uOrbCenter);_pos+=uOrbCenter;
#endif
_pos.xyz+=aLinearMove;
#ifdef FINAL_TARGET
float force=getValueFromTime(life,uForceCurve);vec4 pos=vec4(mix(_pos,uFinalTarget,force),1.);
#else
vec4 pos=vec4(_pos,1.0);
#endif
#if RENDER_MODE == 1
pos.xyz+=point;pos=effects_ObjectToWorld*pos;
#elif RENDER_MODE == 3
pos=effects_ObjectToWorld*pos;pos.xyz+=effects_MatrixV[0].xyz*point.x+effects_MatrixV[2].xyz*point.y;
#elif RENDER_MODE == 2
pos=effects_ObjectToWorld*pos;pos.xy+=point.xy;
#elif RENDER_MODE == 0
pos=effects_ObjectToWorld*pos;pos.xyz+=effects_MatrixV[0].xyz*point.x+effects_MatrixV[1].xyz*point.y;
#endif
gl_Position=effects_MatrixVP*pos;vSeed=aSeed;gl_PointSize=6.0;
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}}`,Is=`#version 100
precision mediump float;
#define SHADER_VERTEX 1
#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}attribute vec4 aPos;attribute vec3 aDir;attribute vec3 aInfo;attribute vec4 aColor;attribute float aTime;
#ifdef ATTR_TRAIL_START
attribute float aTrailStart;
#else
uniform float uTrailStart[64];attribute float aTrailStartIndex;
#endif
uniform mat4 effects_MatrixInvV;uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixVP;uniform vec4 uTextureMap;uniform float uTime;uniform vec4 uParams;uniform vec4 uColorParams;uniform vec4 uOpacityOverLifetimeValue;uniform vec4 uWidthOverTrail;
#ifdef COLOR_OVER_TRAIL
uniform sampler2D uColorOverTrail;
#endif
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
varying float vLife;varying vec2 vTexCoord;varying vec4 vColor;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
void main(){vec4 _pa=effects_MatrixVP*vec4(aPos.xyz,1.);vec4 _pb=effects_MatrixVP*vec4(aPos.xyz+aDir,1.);vec2 dir=normalize(_pb.xy/_pb.w-_pa.xy/_pa.w);vec2 screen_xy=vec2(-dir.y,dir.x);vec4 pos=effects_ObjectToWorld*vec4(aPos.xyz,1.);
#ifdef ATTR_TRAIL_START
float ts=aTrailStart;
#else
float ts=uTrailStart[int(aTrailStartIndex)];
#endif
float trail=(ts-aInfo.y)/uParams.y;float width=aPos.w*getValueFromTime(trail,uWidthOverTrail)/max(abs(screen_xy.x),abs(screen_xy.y));pos.xyz+=(effects_MatrixInvV[0].xyz*screen_xy.x+effects_MatrixInvV[1].xyz*screen_xy.y)*width;float time=min((uTime-aTime)/aInfo.x,1.0);gl_Position=effects_MatrixVP*pos;vColor=aColor;
#ifdef COLOR_OVER_LIFETIME
#ifdef ENABLE_VERTEX_TEXTURE
vColor*=texture2D(uColorOverLifetime,vec2(time,0.));
#endif
#endif
#ifdef COLOR_OVER_TRAIL
vColor*=texture2D(uColorOverTrail,vec2(trail,0.));
#endif
vColor.a*=clamp(getValueFromTime(time,uOpacityOverLifetimeValue),0.,1.);vLife=time;vTexCoord=uTextureMap.xy+vec2(trail,aInfo.z)*uTextureMap.zw;vSeed=aSeed;
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}`,Ys=`#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}`,Ks=`#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
`,ls="precision highp float;attribute vec2 aPos;varying vec2 uv;void main(){gl_Position=vec4(aPos,0.,1.0);uv=(aPos+vec2(1.0))/2.;}",us=`precision highp float;
#define HALF_MAX 60000.0
#define ACEScc_MIDGRAY 0.4135884
varying vec2 uv;uniform sampler2D _GaussianTex;uniform sampler2D _SceneTex;uniform float _BloomIntensity;uniform float _Brightness;uniform float _Saturation;uniform float _Contrast;uniform bool _UseBloom;uniform bool _UseToneMapping;uniform vec3 _VignetteColor;uniform vec2 _VignetteCenter;uniform float _VignetteIntensity;uniform float _VignetteSmoothness;uniform float _VignetteRoundness;mat3 LinearToACES=mat3(0.59719,0.07600,0.02840,0.35458,0.90834,0.13383,0.04823,0.01566,0.83777);mat3 ACESToLinear=mat3(1.60475,-0.10208,-0.00327,-0.53108,1.10813,-0.07276,-0.07367,-0.00605,1.07602);float log10(float x){return log(x)/log(10.0);}vec3 log10(vec3 v){return vec3(log10(v.x),log10(v.y),log10(v.z));}vec3 LinearToLogC(vec3 x){return 0.244161*log10(5.555556*x+0.047996)+0.386036;}vec3 LogCToLinear(vec3 x){return(pow(vec3(10.0),(x-0.386036)/0.244161)-0.047996)/5.555556;}vec3 rrt_and_odt_fit(vec3 col){vec3 a=col*(col+0.0245786)-0.000090537;vec3 b=col*(0.983729*col+0.4329510)+0.238081;return a/b;}vec3 ACESToneMapping(vec3 col){vec3 aces=LinearToACES*col;aces=rrt_and_odt_fit(aces);col=ACESToLinear*aces;return col;}vec3 LinearToSrgb(vec3 c){return mix(1.055*pow(c,vec3(1./2.4))-0.055,12.92*c,step(c,vec3(0.0031308)));}vec3 GammaCorrection(vec3 c){return pow(c,vec3(1.0/2.2));}vec3 ApplyVignette(vec3 inputColor,vec2 uv,vec2 center,float intensity,float roundness,float smoothness,vec3 color){vec2 dist=abs(uv-center)*intensity;dist.x*=roundness;float vfactor=pow(clamp((1.0-dot(dist,dist)),0.0,1.0),smoothness);return inputColor*mix(color,vec3(1.0),vfactor);}void main(){vec4 hdrColor=texture2D(_SceneTex,uv);hdrColor.rgb=pow(hdrColor.rgb,vec3(2.2));vec3 finalColor=hdrColor.rgb;if(_UseBloom){vec4 bloomColor=texture2D(_GaussianTex,uv);bloomColor.rgb*=_BloomIntensity;finalColor+=bloomColor.rgb;}if(_VignetteIntensity>0.0){finalColor=ApplyVignette(finalColor,uv,_VignetteCenter,_VignetteIntensity,_VignetteRoundness,_VignetteSmoothness,_VignetteColor);}finalColor=finalColor*_Brightness;vec3 colorLog=LinearToLogC(finalColor);colorLog=(colorLog-ACEScc_MIDGRAY)*_Contrast+ACEScc_MIDGRAY;finalColor=LogCToLinear(colorLog);finalColor=max(finalColor,0.0);float luminance=0.2125*finalColor.r+0.7154*finalColor.g+0.0721*finalColor.b;vec3 luminanceColor=vec3(luminance,luminance,luminance);finalColor=(finalColor-luminanceColor)*_Saturation+luminanceColor;finalColor=max(finalColor,0.0);if(_UseToneMapping){finalColor=max(vec3(0.0),ACESToneMapping(finalColor));}float alpha=min(hdrColor.a,1.0);gl_FragColor=vec4(clamp(GammaCorrection(finalColor),0.0,1.0),alpha);}`,Qs="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;float GaussWeight2D(float x,float y,float sigma){float PI=3.14159265358;float E=2.71828182846;float sigma_2=pow(sigma,2.0);float a=-(x*x+y*y)/(2.0*sigma_2);return pow(E,a)/(2.0*PI*sigma_2);}vec3 GaussNxN(sampler2D tex,vec2 uv,vec2 stride,float sigma){vec3 color=vec3(0.,0.,0.);const int r=5/2;float weight=0.0;for(int i=-r;i<=r;i++){for(int j=-r;j<=r;j++){float w=GaussWeight2D(float(i),float(j),sigma);vec2 coord=uv+vec2(i,j)*stride;color+=texture2D(tex,coord).rgb*w;weight+=w;}}color/=weight;return color;}void main(){vec4 mainColor=texture2D(_MainTex,uv);vec3 color=mainColor.rgb;color=GaussNxN(_MainTex,uv,1.0/_TextureSize,1.0);gl_FragColor=vec4(color,1.0);}",_o="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;vec3 GaussH(sampler2D tex,vec2 uv){vec3 color=vec3(0.0);float offsets[9];offsets[0]=-4.0;offsets[1]=-3.0;offsets[2]=-2.0;offsets[3]=-1.0;offsets[4]=0.0;offsets[5]=1.0;offsets[6]=2.0;offsets[7]=3.0;offsets[8]=4.0;float weights[9];weights[0]=0.01621622;weights[1]=0.05405405;weights[2]=0.12162162;weights[3]=0.19459459;weights[4]=0.22702703;weights[5]=0.19459459;weights[6]=0.12162162;weights[7]=0.05405405;weights[8]=0.01621622;for(int i=0;i<9;i++){vec2 offset=vec2(offsets[i]*2.0*(1.0/_TextureSize.x),0);color+=texture2D(tex,uv+offset).rgb*weights[i];}return color;}void main(){vec3 color=GaussH(_MainTex,uv);gl_FragColor=vec4(color,1.0);}",Yo="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;vec3 GaussV(sampler2D tex,vec2 uv){vec3 color=vec3(0.0);float offsets[5];offsets[0]=-3.23076923;offsets[1]=-1.38461538;offsets[2]=0.0;offsets[3]=1.38461538;offsets[4]=3.23076923;float weights[5];weights[0]=0.07027027;weights[1]=0.31621622;weights[2]=0.22702703;weights[3]=0.31621622;weights[4]=0.07027027;for(int i=0;i<5;i++){vec2 offset=vec2(0,offsets[i]*(1.0/_TextureSize.y));color+=texture2D(tex,uv+offset).rgb*weights[i];}return color;}void main(){vec3 color=GaussV(_MainTex,uv);gl_FragColor=vec4(color,1.0);}",bs="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform sampler2D _GaussianDownTex;uniform vec2 _GaussianDownTextureSize;float GaussWeight2D(float x,float y,float sigma){float PI=3.14159265358;float E=2.71828182846;float sigma_2=pow(sigma,2.0);float a=-(x*x+y*y)/(2.0*sigma_2);return pow(E,a)/(2.0*PI*sigma_2);}vec3 GaussNxN(sampler2D tex,vec2 uv,vec2 stride,float sigma){vec3 color=vec3(0.,0.,0.);const int r=1;float weight=0.0;for(int i=-r;i<=r;i++){for(int j=-r;j<=r;j++){float w=GaussWeight2D(float(i),float(j),sigma);vec2 coord=uv+vec2(i,j)*stride;color+=texture2D(tex,coord).rgb*w;weight+=w;}}color/=weight;return color;}void main(){vec3 lowResColor=GaussNxN(_MainTex,uv,0.5/_GaussianDownTextureSize,1.0);vec3 highResColor=GaussNxN(_GaussianDownTex,uv,1.0/_GaussianDownTextureSize,1.0);vec3 color=mix(highResColor,lowResColor,0.7);gl_FragColor=vec4(color,1.0);}",ua="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform float _Threshold;void main(){vec4 mainTex=texture2D(_MainTex,uv);mainTex.rgb=pow(mainTex.rgb,vec3(2.2));float brightness=max(mainTex.r,max(mainTex.g,mainTex.b));float w=max(0.0,brightness-_Threshold)/max(brightness,0.00001);mainTex.rgb*=w;mainTex.rgb*=mainTex.a;gl_FragColor=vec4(mainTex.rgb,1.0);}",Lo={},Ko=function(){function i(){}return i.registerInclude=function(n,e){Lo[n]&&ke.warn('The "'+n+'" shader include already exist.'),Lo[n]=e},i.unRegisterInclude=function(n){delete Lo[n]},i.unRegisterAllIncludes=function(){Object.keys(Lo).forEach(function(n){i.unRegisterInclude(n)})},i.genFinalShaderCode=function(n){var e=n.level,t=n.shaderType,r=n.shader,a=n.macros,s=n.removeVersion,l=i.genMacroString(e,a),u=i.genShaderVersion(e),h=i.parseIncludes(r),m=i.isVersion300(h);return h=i.removeWebGLVersion(h),e===2&&!m&&(h=i.convertTo300(h,t===Dn.fragment)),s?l+h:u+l+h},i.convertTo300=function(n,e){n=n.replace(/\bvarying\b/g,e?"in":"out"),n=n.replace(/\btexture(2D|Cube)\b/g,"texture");var t=/#extension.+(GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g;if(n=n.replace(t,""),e){if(n=n.replace(/\btexture(2D|Cube)LodEXT\b/g,"textureLod"),n=n.replace(/\btexture(2D|Cube)GradEXT\b/g,"textureGrad"),n=n.replace(/\bgl_FragDepthEXT\b/g,"gl_FragDepth"),!i.has300Output(n)){var r=/\bgl_FragData\[.+?\]/g.test(n);if(r){n=n.replace(/\bgl_FragColor\b/g,"gl_FragData[0]");var a=n.match(/\bgl_FragData\[.+?\]/g);a&&(n=i.replaceMRTShader(n,a))}else n=n.replace(/void\s+?main\s*\(/g,`out vec4 glFragColor;
void main(`),n=n.replace(/\bgl_FragColor\b/g,"glFragColor")}}else n=n.replace(/\battribute\b/g,"in");return n},i.parseIncludes=function(n,e){e===void 0&&(e=/#include <(.+)>/gm);for(var t;(t=e.exec(n))!==null;){var r=t[1],a=Lo[r];if(a===void 0)throw new Error("Can't find include shader name "+r);n=n.replace(t[0],a)}return n},i.genMacroString=function(n,e,t){t===void 0&&(t=!0);var r=[],a="WEBGL"+n;return r.push("#ifndef "+a),r.push("#define "+a),r.push("#endif"),t&&r.push("#define GE_RUNTIME"),e&&e.length&&e.forEach(function(s){var l=s[0],u=s[1];u===!0?r.push("#define "+l):Number.isFinite(u)&&r.push("#define "+l+" "+u)}),r.length?r.join(`
`)+`
`:""},i.genShaderVersion=function(n){return n===1?`#version 100
`:`#version 300 es
`},i.isVersion300=function(n){var e=/#version\s+\b\d{3}\b\s*(es)?/,t=n.match(e),r=t?t[0]:"";return r.includes("300")},i.removeWebGLVersion=function(n){var e=/#version\s+\b\d{3}\b\s*(es)?/,t=n.match(e);return t?n.replace(t[0],""):n},i.has300Output=function(n){var e=/\bout\s+(?:\w+\s+)?(?:vec4)\s+(?:\w+)\s*;/;return e.test(n)},i.replaceMRTShader=function(n,e){for(var t=new Set,r="",a=0;a<e.length;a++){var s=e[a].match(/\bgl_FragData\[(.+?)\]/);s&&t.add(s[1])}return t.forEach(function(l){r+="layout(location="+l+") out vec4 fragOutColor"+l+`;
`}),r+="void main(",n=n.replace(/\bgl_FragData\[(.+?)\]/g,"fragOutColor$1"),n=n.replace(/void\s+?main\s*\(/g,r),n},i}(),ln=function(i){pe(o,i);function o(e,t){var r;r=i.call(this,e,t)||this;var a=r.renderer.engine,s=Cr.create(a,{mode:D.TRIANGLE_STRIP,attributes:{aPos:{type:D.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),l=Xn.create(a,{shader:{vertex:ls,fragment:ua,glslVersion:oi.GLSL1}});return l.blending=!1,l.depthTest=!1,l.culling=!1,r.screenMesh=aa.create(a,{geometry:s,material:l,priority:0}),r.priority=5e3,r}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],this.sceneTextureHandle.texture=this.mainTexture,t.setFramebuffer(this.framebuffer)},n.execute=function(t){var r,a;t.clear({colorAction:ni.clear,depthAction:ni.clear,stencilAction:ni.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture);var s,l=(s=(a=t.renderingData.currentFrame.globalVolume)==null||(r=a.bloom)==null?void 0:r.threshold)!=null?s:1;this.screenMesh.material.setFloat("_Threshold",l),t.renderMeshes([this.screenMesh])},o}(la),In=function(i){pe(o,i);function o(e,t,r){var a;a=i.call(this,e,r)||this,a.type=t;var s=a.renderer.engine,l="PostProcess",u=Cr.create(s,{name:l,mode:D.TRIANGLE_STRIP,attributes:{aPos:{type:D.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),h=t=="H"?_o:Yo,m={vertex:ls,fragment:h,glslVersion:oi.GLSL1},v=Xn.create(s,{name:l,shader:m});return v.blending=!1,v.depthTest=!1,v.culling=!1,a.screenMesh=aa.create(s,{name:l,geometry:u,material:v,priority:0}),a.priority=5e3,a}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],t.setFramebuffer(this.framebuffer)},n.execute=function(t){t.clear({colorAction:ni.clear,depthAction:ni.clear,stencilAction:ni.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture),this.screenMesh.material.setVector2("_TextureSize",Xa(this.mainTexture)),t.renderMeshes([this.screenMesh]),this.type==="V"&&(this.gaussianResult.texture=t.getFramebuffer().getColorTextures()[0])},o}(la),Cn=function(i){pe(o,i);function o(e,t){var r;r=i.call(this,e,t)||this;var a="PostProcess",s=r.renderer.engine,l=Cr.create(s,{name:a,mode:D.TRIANGLE_STRIP,attributes:{aPos:{type:D.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),u={vertex:ls,fragment:bs},h=Xn.create(s,{name:a,shader:u});return h.blending=!1,h.depthTest=!1,h.culling=!1,r.screenMesh=aa.create(s,{name:a,geometry:l,material:h,priority:0}),r.priority=5e3,r}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],t.setFramebuffer(this.framebuffer)},n.execute=function(t){t.clear({colorAction:ni.clear,depthAction:ni.clear,stencilAction:ni.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture),this.screenMesh.material.setTexture("_GaussianDownTex",this.gaussianDownSampleResult.texture),this.screenMesh.material.setVector2("_GaussianDownTextureSize",Xa(this.gaussianDownSampleResult.texture)),t.renderMeshes([this.screenMesh])},o}(la),$n=function(i){pe(o,i);function o(e,t){var r;r=i.call(this,e,{})||this;var a="PostProcess",s=r.renderer.engine;r.sceneTextureHandle=t||new Yi(s);var l=Cr.create(s,{name:a,mode:D.TRIANGLE_STRIP,attributes:{aPos:{type:D.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),u=Xn.create(s,{name:a,shader:{vertex:ls,fragment:us,glslVersion:oi.GLSL1}});return u.blending=!1,u.depthTest=!1,u.culling=!1,r.screenMesh=aa.create(s,{name:a,geometry:l,material:u,priority:0}),r.priority=5e3,r}var n=o.prototype;return n.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],this.sceneTextureHandle.texture||(this.sceneTextureHandle.texture=this.mainTexture),t.setFramebuffer(null)},n.execute=function(t){t.clear({colorAction:ni.clear,depthAction:ni.clear,stencilAction:ni.clear});var r=t.renderingData.currentFrame.globalVolume,a=Zr({threshold:0,intensity:0,active:!1},r==null?void 0:r.bloom),s=Zr({intensity:0,smoothness:0,roundness:0,active:!1},r==null?void 0:r.vignette),l=Zr({brightness:0,saturation:0,contrast:0,active:!1},r==null?void 0:r.colorAdjustments),u=Zr({active:!1},r==null?void 0:r.tonemapping);this.screenMesh.material.setTexture("_SceneTex",this.sceneTextureHandle.texture),this.screenMesh.material.setFloat("_Brightness",Math.pow(2,l.brightness)),this.screenMesh.material.setFloat("_Saturation",l.saturation*.01+1),this.screenMesh.material.setFloat("_Contrast",l.contrast*.01+1),this.screenMesh.material.setInt("_UseBloom",Number(a.active)),a.active&&(this.screenMesh.material.setTexture("_GaussianTex",this.mainTexture),this.screenMesh.material.setFloat("_BloomIntensity",a.intensity)),s.intensity>0&&(this.screenMesh.material.setFloat("_VignetteIntensity",s.intensity),this.screenMesh.material.setFloat("_VignetteSmoothness",s.smoothness),this.screenMesh.material.setFloat("_VignetteRoundness",s.roundness),this.screenMesh.material.setVector2("_VignetteCenter",new Ln(.5,.5)),this.screenMesh.material.setVector3("_VignetteColor",new Ie(0,0,0))),this.screenMesh.material.setInt("_UseToneMapping",Number(u.active)),t.renderMeshes([this.screenMesh])},o}(la),Ci="_effects_default_",Bi=1,Ia=function(){function i(n){var e;this.renderQueue=[],this.destroyed=!1,this.renderPassInfoMap=new WeakMap;var t=n.camera,r=n.keepColorBuffer,a=n.renderer,s=n.editorTransform,l=s===void 0?[1,1,0,0]:s,u=n.globalVolume,h=n.postProcessingEnabled,m=h===void 0?!1:h,v=n.clearAction,p=v===void 0?{colorAction:si.whatever,stencilAction:si.clear,depthAction:si.whatever}:v,b=a.engine;u&&(this.globalVolume=u),this.globalUniforms=new Do;var x=[],I,B={};if(this.renderer=a,m){var F=!0;if(!this.renderer.engine.gpuCapability.detail.halfFloatTexture)throw new Error("Half float texture is not supported.");var R=F?D.HALF_FLOAT:D.UNSIGNED_BYTE;x=[{texture:{format:D.RGBA,type:R,magFilter:D.LINEAR,minFilter:D.LINEAR}}],I={storageType:Pi.depth_stencil_opaque},B={colorAction:si.clear,stencilAction:si.clear,depthAction:si.clear}}this.drawObjectPass=new la(a,{name:Ci,priority:ra,meshOrder:Y.ascending,depthStencilAttachment:I,attachments:x,clearAction:B});var X=[this.drawObjectPass];if(this.setRenderPasses(X),m){var k=new Yi(b),H=7,ee=[0,0,this.renderer.getWidth()/2,this.renderer.getHeight()/2],ie=new Array(H),oe=!0,Qe=oe?D.HALF_FLOAT:D.UNSIGNED_BYTE,Je=new ln(a,{name:"BloomThresholdPass",attachments:[{texture:{format:D.RGBA,type:Qe,minFilter:D.LINEAR,magFilter:D.LINEAR}}]});Je.sceneTextureHandle=k,this.addRenderPass(Je);for(var st=0;st<H;st++){ie[st]=new Yi(b);var ft=new In(a,"H",{name:"GaussianDownPassH"+st,viewport:ee,attachments:[{texture:{format:D.RGBA,type:Qe,minFilter:D.LINEAR,magFilter:D.LINEAR}}]}),At=new In(a,"V",{name:"GaussianDownPassV"+st,viewport:ee,attachments:[{texture:{format:D.RGBA,type:Qe,minFilter:D.LINEAR,magFilter:D.LINEAR}}]});At.gaussianResult=ie[st],this.addRenderPass(ft),this.addRenderPass(At),ee[2]/=2,ee[3]/=2}ee[2]*=4,ee[3]*=4;for(var Wt=0;Wt<H-1;Wt++){var Zt=new Cn(a,{name:"GaussianUpPass"+Wt,viewport:ee,attachments:[{texture:{format:D.RGBA,type:Qe,minFilter:D.LINEAR,magFilter:D.LINEAR}}]});Zt.gaussianDownSampleResult=ie[H-2-Wt],this.addRenderPass(Zt),ee[2]*=2,ee[3]*=2}var Kt=new $n(a,k);this.addRenderPass(Kt)}this.semantics=new _a(n.semantics),this.clearAction=p,this.name="RenderFrame"+Bi++;var qt=X[0];this.emptyTexture=Ti(b),this.transparentTexture=Oi(b),this.camera=t,this.keepColorBuffer=r,this.renderPassInfoMap.set(qt,{listStart:0,listEnd:0,renderPass:qt,intermedia:!1}),this.editorTransform=Bn.fromArray(l),n.clearAction||this.resetClearActions(),this.passTextureCache=new ji(b);var _t=b.gpuCapability,_r=_t.detail,sr=_t.level,Or=_r.readableDepthStencilTextures&&_r.writableFragDepth,Qr=uo(sr,Or);(e=this.renderer.getShaderLibrary())==null||e.addShader(Qr)}var o=i.prototype;return o.addMeshToDefaultRenderPass=function(e){this.drawObjectPass.addMesh(e)},o.removeMeshFromDefaultRenderPass=function(e){this.drawObjectPass.removeMesh(e)},o.dispose=function(e){(e==null?void 0:e.semantics)!==Et.keep&&this.semantics.dispose();var t=e!=null&&e.passes?e.passes:void 0;if(t!==Et.keep&&this._renderPasses.forEach(function(s){s.dispose(t)}),this.passTextureCache.dispose(),this._renderPasses.length=0,this.emptyTexture.dispose(),this.transparentTexture.dispose(),this.resource){var r,a;this.resource.color_a.dispose(),this.resource.color_b.dispose(),(a=this.resource.depthStencil)==null||(r=a.texture)==null||r.dispose(),this.resource.finalCopyRP.dispose(),this.resource.resRP.dispose(),this.resource=null}this.destroyed=!0},o.resetRenderPassDefaultAttachment=function(e,t){for(var r,a=this.resource,s=a.color_a,l=a.color_b,u=t;u<e.length;u++){var h,m,v=e[u],p=(h=v.attachments[0])==null?void 0:h.texture;if(p&&r===p){var b=p===s?l:s;v.resetColorAttachments([b])}p=(m=v.attachments[0])==null?void 0:m.texture,p&&(r=p)}},o.findMeshRenderPassIndex=function(e){var t=-1;return this.renderPasses.every(function(r,a){return r.name.startsWith(Ci)&&r.meshes.includes(e)?(t=a,!1):!0}),t},o.addToRenderPass=function(e,t){var r=this.renderPassInfoMap.get(e),a=t.priority;r&&(e.meshes.length===0?r.listStart=r.listEnd=a:a<r.listStart?r.listStart=a:a>r.listEnd&&(r.listEnd=a),e.addMesh(t))},o.getRPAttachments=function(e,t){if((e==null?void 0:e.length)===1){var r=e[0],a=r.texture,s=r.persistent,l=a.format,u,h=(u=t==null?void 0:t.getInitAttachments())!=null?u:[];if(l===D.RGBA&&!s){var m=this.resource.color_a;if(h.length===0)return[{texture:m}];var v=h[0].texture===m?this.resource.color_b:m;return[{texture:v}]}}return e},o.resetClearActions=function(){var e=this.renderPasses.length>1?si.clear:si.whatever;this.clearAction.stencilAction=e,this.clearAction.depthAction=e,this.clearAction.colorAction=e,this.keepColorBuffer&&(this.clearAction.colorAction=si.whatever)},o.setRenderPasses=function(e){var t=this;this.renderer!==void 0&&e.forEach(function(r){return r.initialize(t.renderer)}),this._renderPasses=e.slice()},o.addRenderPass=function(e){this.renderer!==void 0&&e.initialize(this.renderer),this._renderPasses.push(e)},o.createResource=function(){var e=this.renderer.engine;if(!this.resource){var t,r=e.gpuCapability,a=r.detail,s=r.level,l=this.renderer.getWidth(),u=this.renderer.getHeight(),h=s===2?D.LINEAR:D.NEAREST,m=Pr.create(e,{sourceType:wr.framebuffer,format:D.RGBA,name:"frame_a",minFilter:h,magFilter:h}),v=Pr.create(e,{sourceType:wr.framebuffer,format:D.RGBA,data:{width:l,height:u},minFilter:h,magFilter:h,name:"frame_b"}),p=a.readableDepthStencilTextures&&a.writableFragDepth?Pi.depth_24_stencil_8_texture:Pi.depth_stencil_opaque,b=new la(this.renderer,{depthStencilAttachment:{storageType:p},attachments:[{texture:m}]}).initialize(this.renderer),x=new ga(this.renderer,{name:"effects-final-copy",priority:ra+600,clearAction:{depthAction:si.clear,stencilAction:si.clear,colorAction:si.clear},meshOrder:Y.ascending,meshes:[this.createCopyMesh({blend:!0,depthTexture:(t=b.getDepthAttachment())==null?void 0:t.texture})]});this.resource={color_a:b.attachments[0].texture,color_b:v,finalCopyRP:x,depthStencil:b.depthAttachment,resRP:b}}},o.createCopyMesh=function(e){var t,r=vo,a=this.renderer.engine,s=Cr.create(a,{name:r,mode:D.TRIANGLE_STRIP,attributes:{aPos:{type:D.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),l=uo(a.gpuCapability.level,!!(e!=null&&e.depthTexture));(t=this.renderer.getShaderLibrary())==null||t.addShader(l);var u=Xn.create(a,{uniformValues:{uDepth:e==null?void 0:e.depthTexture},name:r,shader:l});return u.blending=!1,u.depthTest=!1,u.culling=!1,e!=null&&e.blend&&(u.blending=!0,u.blendFunction=[D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA,D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA]),aa.create(a,{name:r,geometry:s,material:u,priority:0})},o.removeRenderPass=function(e){fe(this._renderPasses,e)},gr(i,[{key:"renderPasses",get:function(){return this._renderPasses.slice()}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}();function Xa(i){return i?new Ln(i.getWidth(),i.getHeight()):new Ln}function Fa(i,o){var n=i.indexOf(o);return i[n-1]}var ga=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.configure=function(t){var r=t.getFramebuffer();r&&(this.prePassTexture=r.getColorTextures()[0]),t.setFramebuffer(null)},n.execute=function(t){t.clear(this.clearAction),this.meshes[0].material.setTexture("uFilterSource",this.prePassTexture),this.meshes[0].material.setVector2("uFilterSourceSize",Xa(this.prePassTexture)),t.renderMeshes(this.meshes),this.storeAction&&t.clear(this.storeAction)},o}(la),Do=function(){this.floats={},this.ints={},this.vector3s={},this.vector4s={},this.matrices={},this.samplers=[],this.uniforms=[]},xs=function(){function i(o){this.size=[0,0],this.multiSample=1,this.destroyed=!1;var n=o.storageType,e=o.format,t=o.attachment;this.storageType=n,this.format=e,this.attachment=t}return gr(i,[{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),Js=typeof WebGL2RenderingContext=="function",cs=function(){function i(n){this.setupCapability(n)}var o=i.prototype;return o.setupCapability=function(e){var t,r=Js&&U(e,WebGL2RenderingContext)?2:1,a=r===2,s=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),l=e.getExtension("WEBGL_depth_texture"),u=!!e.getExtension("OES_texture_half_float_linear"),h=!!e.getExtension("OES_texture_float_linear");this.level=r,this.type=a?"webgl2":"webgl",this.vaoExt=e.getExtension("OES_vertex_array_object"),this.glAsyncCompileExt=e.getExtension("KHR_parallel_shader_compile"),this.UNSIGNED_INT_24_8=e.UNSIGNED_INT_24_8,this.drawBufferExtension=e.getExtension("WEBGL_draw_buffers"),l&&(this.UNSIGNED_INT_24_8=l.UNSIGNED_INT_24_8_WEBGL),a&&!u&&(u=io(e,e.HALF_FLOAT)),a&&!h&&(h=io(e,e.FLOAT)),this.internalFormatDepth16=a?e.DEPTH_COMPONENT16:e.DEPTH_COMPONENT,this.internalFormatDepth24_stencil8=a?e.DEPTH24_STENCIL8:e.DEPTH_STENCIL;var m=a||e.getExtension("OES_texture_float")?e.FLOAT:0,v=a?WebGL2RenderingContext.HALF_FLOAT:((t=e.getExtension("OES_texture_half_float"))==null?void 0:t.HALF_FLOAT_OES)||0,p={floatTexture:m,halfFloatTexture:v,maxSample:a?e.getParameter(e.MAX_SAMPLES):1,maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxFragmentTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),floatColorAttachment:a?!!e.getExtension("EXT_color_buffer_float"):m>0&&!!e.getExtension("WEBGL_color_buffer_float"),halfFloatColorAttachment:a?!!e.getExtension("EXT_color_buffer_float"):v>0&&!!e.getExtension("EXT_color_buffer_half_float"),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxShaderTexCount:e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),compressedTexture:Cs(e),halfFloatLinear:u,floatLinear:h,maxTextureAnisotropy:s?e.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,shaderTextureLod:a||!!e.getExtension("EXT_shader_texture_lod"),instanceDraw:a||!!e.getExtension("ANGLE_instanced_arrays"),drawBuffers:a||!!this.drawBufferExtension,asyncShaderCompile:!!this.glAsyncCompileExt,intIndexElementBuffer:!!e.getExtension("OES_element_index_uint"),standardDerivatives:a||!!e.getExtension("OES_standard_derivatives"),readableDepthStencilTextures:a||!!l,writableFragDepth:a||!!e.getExtension("EXT_frag_depth")};this.detail=p,s&&(this.textureMaxAnisotropyExt=s.TEXTURE_MAX_ANISOTROPY_EXT)},o.framebufferTexture2D=function(e,t,r,a,s){var l=this.drawBufferExtension;if(this.level===1&&!l&&r>0)throw new Error("Draw multiple color buffers not available.");var u=l?l["COLOR_ATTACHMENT"+r+"_WEBGL"]:e["COLOR_ATTACHMENT"+r];u?e.framebufferTexture2D(t,u,a,s,0):console.error("Invalid color attachment index: "+r+".")},o.drawBuffers=function(e,t){var r=this.drawBufferExtension;if(this.level===1&&!r){if(t.length>1)throw new Error("Draw buffers not available.");return}var a=t.map(function(s,l){return s?r?r["COLOR_ATTACHMENT"+l+"_WEBGL"]:e["COLOR_ATTACHMENT"+l]:e.NONE});r?r.drawBuffersWEBGL(a):e.drawBuffers(a)},o.setTextureAnisotropic=function(e,t,r){var a=this.detail.maxTextureAnisotropy;a&&e.texParameterf(t,this.textureMaxAnisotropyExt,Math.min(a,r||4))},i}();function io(i,o){var n=i.createTexture(),e=!1;return i.getError(),i.bindTexture(i.TEXTURE_2D,n),i.texImage2D(i.TEXTURE_2D,0,i.R16F,1,1,0,i.RED,o,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.getError()||(e=!0),i.deleteTexture(n),e}var Ya;(function(i){i[i.NONE=0]="NONE",i[i.PVRTC=1]="PVRTC",i[i.ASTC=2]="ASTC"})(Ya||(Ya={}));function Cs(i){return i.getExtension("WEBGL_compressed_texture_astc")?2:i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")?1:0}var go;(function(i){i[i.Nearest=0]="Nearest",i[i.Linear=1]="Linear"})(go||(go={}));var Ps;(function(i){i[i.RGBA32=0]="RGBA32",i[i.RGBAHalf=1]="RGBAHalf"})(Ps||(Ps={}));var Rs=function(){function i(){}var o=i.prototype;return o.resize=function(e,t,r,a){},o.resetColorTextures=function(e){},o.unbind=function(){},o.bind=function(){},o.getDepthTexture=function(){},o.getStencilTexture=function(){},o.getColorTextures=function(){return[]},o.dispose=function(e){},gr(i,[{key:"stencilStorage",get:function(){}},{key:"depthStorage",get:function(){}}]),i}(),Es=function(){function i(){}var o=i.prototype;return o.setGlobalFloat=function(e,t){},o.setGlobalInt=function(e,t){},o.setGlobalVector4=function(e,t){},o.setGlobalVector3=function(e,t){},o.setGlobalMatrix=function(e,t){},o.getFramebuffer=function(){return null},o.setFramebuffer=function(e){},o.setViewport=function(e,t,r,a){},o.resize=function(e,t){},o.clear=function(e){},o.getWidth=function(){return 0},o.getHeight=function(){return 0},o.addLostHandler=function(e){},o.addRestoreHandler=function(e){},o.lost=function(e){},o.restore=function(){},o.getShaderLibrary=function(){},o.renderRenderFrame=function(e){},o.renderMeshes=function(e){},o.drawGeometry=function(e,t,r){},o.getTemporaryRT=function(e,t,r,a,s,l){return null},o.dispose=function(e){},i}(),qs=function(){var i=new Float32Array(1),o=new Int32Array(i.buffer);return function(e){i[0]=e;var t=o[0],r=t>>16&32768,a=t>>12&2047,s=t>>23&255;return s<103?r:s>142?(r|=31744,r|=(s==255?0:1)&&t&8388607,r):s<113?(a|=2048,r|=(a>>114-s)+(a>>113-s&1),r):(r|=s-112<<10|a>>1,r+=a&1,r)}}(),el=function(){function i(n){if(Number.isInteger(n))this.data=new Uint16Array(n);else if(n&&typeof n=="object"&&Number.isInteger(n.length))for(var e=this.data=new Uint16Array(n.length),t=0;t<e.length;t++)e[t]=qs(n[t])}var o=i.prototype;return o.set=function(e,t){for(var r=0;r<e.length;r++)this.data[r+t]=qs(e[r])},i}();function jl(i,o){for(var n=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],e=0;e<8;e+=2)n[e]+=i,n[e+1]+=o;return n}var tl=new Er,rl=new yr;function Fo(i,o,n,e,t,r,a){var s=i,l=e/t,u=e,h=o.speedOverLifetime;h&&(u=h.getIntegrateValue(0,e,t));var m=o.gravityModifier?o.gravityModifier.getIntegrateByTime(0,e):0;s.copyFrom(r),s.addScaledVector(a,u),s.addScaledVector(n,m);var v=o.linearVelOverLifetime||{},p=o.orbitalVelOverLifetime||{},b=["x","y","z"];if(p.enabled){var x=new Ie;p.center&&x.setFromArray(p.center);var I=s.clone().subtract(x),B=p.asRotation,F=b.map(function(Je){var st=p[Je];return st?B?st.getValue(l):st.getIntegrateValue(0,e,t):0});tl.setFromArray(F).negate(),rl.setFromEuler(tl);var R=rl.transformPoint(I);s.addVectors(x,R)}if(v.enabled){var X=v.asMovement,k=v.x,H=v.y,ee=v.z;if(k){var ie=X?k.getValue(l):k.getIntegrateValue(0,e,t);s.x=s.x+ie}if(H){var oe=X?H.getValue(l):H.getIntegrateValue(0,e,t);s.y=s.y+oe}if(ee){var Qe=X?ee.getValue(l):ee.getIntegrateValue(0,e,t);s.z=s.z+Qe}}return s}function nl(i){return Array.isArray(i)?[i[0],i[1],i[2]]:[0,0,0]}function xl(i,o){for(var n=0,e=i.length;n<e;n++)i[n]=o;return i}function Hl(i,o,n){if(o&&n)for(var e=0,t=o.length;e<t;e++)i[e]=o[e]*n[e];else if(o){if(i!==o)for(var r=0;r<o.length;r++)i[r]=o[r]}else if(n&&i!==n)for(var a=0;a<n.length;a++)i[a]=n[a];return i}var ao,Iu=(ao={},ao[vr.PARTICLE_ORIGIN_CENTER]=[0,0],ao[vr.PARTICLE_ORIGIN_CENTER_BOTTOM]=[0,-.5],ao[vr.PARTICLE_ORIGIN_CENTER_TOP]=[0,.5],ao[vr.PARTICLE_ORIGIN_LEFT_TOP]=[-.5,.5],ao[vr.PARTICLE_ORIGIN_LEFT_CENTER]=[-.5,0],ao[vr.PARTICLE_ORIGIN_LEFT_BOTTOM]=[-.5,-.5],ao[vr.PARTICLE_ORIGIN_RIGHT_CENTER]=[.5,0],ao[vr.PARTICLE_ORIGIN_RIGHT_BOTTOM]=[.5,-.5],ao[vr.PARTICLE_ORIGIN_RIGHT_TOP]=[.5,.5],ao);function Cl(i){return Math.pow(2,Math.round(Math.log(i)/Math.LN2))}function Na(i,o,n){var e=n.position,t=new Ie(i,o,0),r=new Ie,a=n.getInverseViewProjectionMatrix();return a.projectPoint(t,r),r.subtract(e),new Kn(e,r)}function _s(i,o,n){var e=i.x,t=i.y,r=i.z,a=new Ie(e-o,t+n,r),s=new Ie(e-o,t-n,r),l=new Ie(e+o,t-n,r),u=new Ie(e+o,t+n,r);return[{p0:a,p1:s,p2:l},{p0:a.clone(),p1:l.clone(),p2:u}]}function Gn(i,o,n){return n===void 0&&(n=1e-6),Math.abs(i-o)<n}function Nr(i,o){o===void 0&&(o=2);var n=Math.pow(10,o);return Math.floor(i*n)/n}var Ki={getPointInCurve:function(o){o[0];var n=o[1],e=this.getPointIndexInCurve(o),t=e.xIndex,r=e.yIndex,a=n[t],s=n[r];return new Ln(a,s)},getPointIndexInCurve:function(o){var n=o[0],e=o[2],t=n===on.LINE||n===on.EASE_OUT?0:n===on.EASE_IN||n===on.EASE||n===on.HOLD&&e===on.EASE_IN?2:0;return{xIndex:t,yIndex:t+1}},isLeftSideEase:function(o){var n=o[0];o[1];var e=o[2];return n===on.HOLD&&this.isKeyframeTypeLeftSideEase(e)?!0:this.isKeyframeTypeLeftSideEase(n)},isRightSideEase:function(o){var n=o[0];o[1];var e=o[2];return n===on.HOLD&&this.isKeyframeTypeRightSideEase(e)?!0:this.isKeyframeTypeRightSideEase(n)},isKeyframeTypeLeftSideEase:function(o){return[on.EASE,on.EASE_IN,on.AUTO].includes(o)},isKeyframeTypeRightSideEase:function(o){return[on.EASE,on.EASE_OUT,on.AUTO].includes(o)},isHoldInKeyframe:function(o){var n=o[0];o[1];var e=o[2];return n===on.HOLD&&[on.HOLD,on.LINE_OUT,on.EASE_OUT].includes(e)},isHoldOutKeyframe:function(o){var n=o[0];o[1];var e=o[2];return n===on.HOLD&&[on.HOLD,on.LINE,on.EASE_IN].includes(e)}},Va=function(o,n){this.points=o,this.totalLength=n},Gi={},na={},yo=4,wo=.001,No=1e-7,Qo=10,fo=300,Jo=11,El=1/(Jo-1);function Tl(i,o){return 1-3*o+3*i}function Pu(i,o){return 3*o-6*i}function Gl(i){return 3*i}function il(i,o,n){return((Tl(o,n)*i+Pu(o,n))*i+Gl(o))*i}function Wl(i,o,n){return 3*Tl(o,n)*i*i+2*Pu(o,n)*i+Gl(o)}function Ls(i,o,n,e,t){var r,a,s=0;do a=o+(n-o)/2,r=il(a,e,t)-i,r>0?n=a:o=a;while(Math.abs(r)>No&&++s<Qo);return a}function Ru(i,o,n,e){for(var t=0;t<yo;++t){var r=Wl(o,n,e);if(r===0)return o;var a=il(o,n,e)-i;o-=a/r}return o}function ca(i,o,n,e){var t=Nr(o.x-i.x,3)+"_"+Nr(o.y-i.y,3)+"_"+Nr(o.z-i.z,3),r=Nr(n.x-i.x,3)+"_"+Nr(n.y-i.y,3)+"_"+Nr(n.z-i.z,3),a=Nr(e.x-i.x,3)+"_"+Nr(e.y-i.y,3)+"_"+Nr(e.z-i.z,3),s=t+"&"+r+"&"+a;if(na[s])return{data:na[s],interval:i};for(var l=[],u=null,h=0,m=0,v=fo,p=0;p<v;p+=1){var b=new Ie,x=p/(v-1);m=0,b.x=3*Math.pow(1-x,2)*x*(n.x-i.x)+3*(1-x)*Math.pow(x,2)*(e.x-i.x)+Math.pow(x,3)*(o.x-i.x),b.y=3*Math.pow(1-x,2)*x*(n.y-i.y)+3*(1-x)*Math.pow(x,2)*(e.y-i.y)+Math.pow(x,3)*(o.y-i.y),b.z=3*Math.pow(1-x,2)*x*(n.z-i.z)+3*(1-x)*Math.pow(x,2)*(e.z-i.z)+Math.pow(x,3)*(o.z-i.z),u!==null&&(m+=Math.pow(b.x-u.x,2),m+=Math.pow(b.y-u.y,2),m+=Math.pow(b.z-u.z,2)),u=b,m=Math.sqrt(m),h+=m,l[p]={partialLength:m,point:b}}var I=new Va(l,h);return na[s]=I,{data:I,interval:new Ie(i.x,i.y,i.z)}}var bo=function(){function i(n,e,t,r){this.p1=n,this.p2=e,this.p3=t,this.p4=r,this.catching={lastPoint:0,lastAddedLength:0};var a=ca(n,e,t,r),s=a.data,l=a.interval;this.lengthData=s,this.interval=l,this.totalLength=s.totalLength}var o=i.prototype;return o.getPointInPercent=function(e){var t=this.lengthData;if(e===0)return t.points[0].point.clone().add(this.interval);if(Gn(1-e,0))return t.points[fo-1].point.clone().add(this.interval);if(Gn(t.totalLength,0))return this.p1.clone();var r=new Ie,a=Nr(t.totalLength*e,4),s=this.catching.lastAddedLength,l=this.catching.lastPoint;if(Gn(s,a))return t.points[l].point.clone().add(this.interval);var u=!0,h=1;for(a<s&&(h=-1);u;){if(a>=s){if(l===fo-1){r.x=t.points[l].point.x,r.y=t.points[l].point.y,r.z=t.points[l].point.z;break}if(a<s+t.points[l+1].partialLength){var m=(a-s)/t.points[l+1].partialLength;r.x=t.points[l].point.x+(t.points[l+1].point.x-t.points[l].point.x)*m,r.y=t.points[l].point.y+(t.points[l+1].point.y-t.points[l].point.y)*m,r.z=t.points[l].point.z+(t.points[l+1].point.z-t.points[l].point.z)*m;break}}h>0&&l<fo-1?(l+=h,s+=Nr(t.points[l].partialLength,5)):h<0&&l>0?(s-=Nr(t.points[l].partialLength,5),l+=h):u=!1}return this.catching.lastPoint=l,this.catching.lastAddedLength=s,r.add(this.interval),r},i}(),_u=function(){function i(n,e,t,r){this.p1=n,this.p2=e,this.p3=t,this.p4=r,this.temp=new Nt,this.totalLength=0}var o=i.prototype;return o.getPointInPercent=function(e){return e===0?this.temp.copyFrom(this.p1):Gn(1-e,0)?this.temp.copyFrom(this.p2):(Yl.slerpFlat(this.temp,this.p1,this.p2,e),this.temp)},i}(),ef=function(){function i(n,e,t,r){this.mX1=n,this.mY1=e,this.mX2=t,this.mY2=r,this.precomputed=!1,this.mSampleValues=new Array(Jo)}var o=i.prototype;return o.precompute=function(){this.precomputed=!0,(this.mX1!==this.mY1||this.mX2!==this.mY2)&&this.calcSampleValues()},o.getValue=function(e){if(this.mX1===this.mY1&&this.mX2===this.mY2)return e;if(isNaN(this.mY1)||isNaN(this.mY2))return 0;if(e===0||e===1)return e;this.precomputed||this.precompute();var t=il(this.getTForX(e),this.mY1,this.mY2);return t},o.calcSampleValues=function(){for(var e=0;e<Jo;++e)this.mSampleValues[e]=il(e*El,this.mX1,this.mX2)},o.getTForX=function(e){for(var t=this.mSampleValues,r=Jo-1,a=0,s=1;s!==r&&t[s]<=e;++s)a+=El;--s;var l=(e-t[s])/(t[s+1]-t[s]),u=a+l*El,h=Wl(u,this.mX1,this.mX2);return h>=wo?Ru(e,u,this.mX1,this.mX2):h===0?u:Ls(e,a,a+El,this.mX1,this.mX2)},i}();function Zl(i,o){var n=Xl(i,o,!0),e=n.p0,t=n.p1,r=n.p2,a=n.p3;at(r),at(a);var s=a.x-e.x,l=a.y-e.y,u,h,m=Nr((t.x-e.x)/s,5),v=Nr((r.x-e.x)/s,5);Gn(l,0)?u=h=NaN:(u=Nr((t.y-e.y)/l,5),h=Nr((r.y-e.y)/l,5)),m<0&&(console.error("Invalid bezier points, x1 < 0",e,t,r,a),m=0),v<0&&(console.error("Invalid bezier points, x2 < 0",e,t,r,a),v=0),m>1&&(console.error("Invalid bezier points, x1 >= 1",e,t,r,a),m=1),v>1&&(console.error("Invalid bezier points, x2 >= 1",e,t,r,a),v=1);var p=("bez_"+m+"_"+u+"_"+v+"_"+h).replace(/\./g,"p"),b;return Gi[p]?b=Gi[p]:(b=new ef(m,u,v,h),Gi[p]=b),{points:[e,t,r,a],timeInterval:s,valueInterval:l,curve:b}}function Xl(i,o,n){var e=i[1],t=Ki.isHoldOutKeyframe(i),r=Ki.isHoldInKeyframe(o),a=!r&&Ki.isRightSideEase(i),s=!t&&Ki.isLeftSideEase(o);if(a&&!s&&!r){var l=new Ln(e[e.length-4],e[e.length-3]),u=new Ln(e[e.length-2],e[e.length-1]),h=Ki.getPointInCurve(o),m=new Ln(h.x,h.y),v=new Ln(m.x-(m.x-l.x)/10,m.y);return{type:"ease",p0:l,p1:u,p2:v,p3:m}}if(!a&&s&&!t){var p=o[1],b=Ki.getPointInCurve(i),x=new Ln(b.x,b.y),I=new Ln(p[0],p[1]),B=new Ln(p[2],p[3]),F=new Ln(x.x+(B.x-x.x)/10,x.y);return{type:"ease",p0:x,p1:F,p2:I,p3:B}}if(a&&s){var R=o[1],X=new Ln(e[e.length-4],e[e.length-3]),k=new Ln(e[e.length-2],e[e.length-1]),H=new Ln(R[0],R[1]),ee=new Ln(R[2],R[3]);return{type:"ease",p0:X,p1:k,p2:H,p3:ee}}var ie=Ki.getPointInCurve(i),oe=Ki.getPointInCurve(o);if(t?oe.y=ie.y:r&&(ie.y=oe.y),n){var Qe=new Ln((oe.x-ie.x)/3+ie.x,(oe.y-ie.y)/3+ie.y),Je=new Ln((oe.x-ie.x)/3*2+ie.x,(oe.y-ie.y)/3*2+ie.y);return{type:"ease",p0:ie,p1:Qe,p2:Je,p3:oe,isHold:t||r,leftHoldLine:t,rightHoldLine:r}}else return{type:"line",p0:ie,p1:oe,isHold:t||r,leftHoldLine:t,rightHoldLine:r}}var Yl=function(){function i(){}return i.slerpFlat=function(n,e,t,r){var a=e.x,s=e.y,l=e.z,u=e.w,h=t.x,m=t.y,v=t.z,p=t.w;if(r===0){n.x=a,n.y=s,n.z=l,n.w=u;return}if(r===1){n.x=h,n.y=m,n.z=v,n.w=p;return}if(u!==p||a!==h||s!==m||l!==v){var b=1-r,x=a*h+s*m+l*v+u*p,I=x>=0?1:-1,B=1-x*x;if(B>Number.EPSILON){var F=Math.sqrt(B),R=Math.atan2(F,x*I);b=Math.sin(b*R)/F,r=Math.sin(r*R)/F}var X=r*I;if(a=a*b+h*X,s=s*b+m*X,l=l*b+v*X,u=u*b+p*X,b===1-r){var k=1/Math.sqrt(a*a+s*s+l*l+u*u);a*=k,s*=k,l*=k,u*=k}}n.x=a,n.y=s,n.z=l,n.w=u},i}(),qo=0,Kl=1,Lu=2,Sl=3,es="not_implement",ia=function(){function i(n){this.onCreate(n)}var o=i.prototype;return o.onCreate=function(e){throw new Error(es)},o.getIntegrateValue=function(e,t,r){throw new Error(es)},o.getIntegrateByTime=function(e,t){throw new Error(es)},o.getValue=function(e){throw new Error(es)},o.getMaxTime=function(){throw new Error(es)},o.toUniform=function(e){throw new Error(es)},o.map=function(e){throw new Error(es)},o.scaleXCoord=function(e){return this},o.toData=function(){throw new Error(es)},i.getAllData=function(e,t){for(var r=new(t?el:Float32Array)(e.index*4),a=0,s=0,l=e.curves;a<l.length;a++){var u=l[a].toData();r.set(u,s),s+=u.length}return t?r.data:r},i}(),Vo=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.value=t},n.getIntegrateValue=function(t,r,a){return this.value*(r-t)},n.getIntegrateByTime=function(t,r){return .5*this.value*(r*r-t*t)},n.getValue=function(t){return this.value},n.toUniform=function(){return new Float32Array([0,this.value,0,0])},n.map=function(t){var r=this.value;return this.value=t(r),this},n.getMaxTime=function(){return 0},o}(ia),Du=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.items=t},n.getValue=function(t){var r=this.items;return r[Math.floor(Math.random()*r.length)]},n.map=function(t){return this.items=this.items.map(t),this},o}(ia),Oo=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.min=t[0],this.max=t[1]},n.getValue=function(t,r){var a=r!=null?r:Math.random();return this.min+a*(this.max-this.min)},n.getIntegrateValue=function(t,r,a){var s=a!=null?a:1;return(this.min+s*(this.max-this.min))*(r-t)},n.toUniform=function(){return new Float32Array([4,this.min,this.max,0])},n.map=function(t){return this.min=t(this.min),this.max=t(this.max),this},o}(ia),tf=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.min=t[0],this.max=t[1]},n.getValue=function(t){for(var r=this.min,a=this.max,s=[],l=0;l<r.length;l++){var u=Math.random();s[l]=r[l]*(1-u)+a[l]*u}return s},n.map=function(t){return this.min=this.min.map(t),this.max=this.max.map(t),this},o}(ia),Ds=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.min=t[0],this.max=t[1],this.xCoord=1},n.getValue=function(t){return t/=this.xCoord,this.min*(1-t)+this.max*t},n.toUniform=function(){return new Float32Array([1,this.min,this.max,this.xCoord])},n.getIntegrateValue=function(t,r,a){a===void 0&&(a=1);var s=this.min,l=this.max,u=this.xCoord*a,h=s+(l-s)*(r/u),m=s+(l-s)*(t/u);return((h+s)*r-(m+s)*t)/2},n.getIntegrateByTime=function(t,r){return Ns(r,0,this.xCoord,this.min,this.max)-Ns(t,0,this.xCoord,this.min,this.max)},n.map=function(t){return this.min=t(this.min),this.max=t(this.max),this},n.scaleXCoord=function(t){return this.xCoord=t,this},o}(ia),Fu=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.stops=Xe(t)},n.getStops=function(){return this.stops},n.getValue=function(t){for(var r=this.stops,a=r.length-1,s=0;s<a;s++){var l=r[s],u=r[s+1];if(l.stop<=t&&u.stop>t){var h=(t-l.stop)/(u.stop-l.stop);return Ue(l.color,u.color,h,!0)}}return r[a].color.slice()},o}(ia),Fs=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.keys=t.map(function(s){return s.slice?s.slice(0,2):[s.time,s.value]}).sort(function(s,l){return s[0]-l[0]});var r=this.keys[this.keys.length-1];r[0]<1&&this.keys.push([1,r[1]]);var a=this.keys[0];a[0]>0&&this.keys.unshift([0,a[1]]),this.isLineSeg=!0},n.getValue=function(t){var r=this.keys;if(t<r[0][0])return r[0][1];for(var a=r.length-1,s=0;s<a;s++){var l=r[s],u=r[s+1],h=l[0],m=u[0];if(t>=h&&t<=m){var v=(t-h)/(m-h),p=l[1];return p+v*(u[1]-p)}}return r[a][1]},n.getIntegrateValue=function(t,r,a){return a===void 0&&(a=1),(this.integrate(r,!1)-this.integrate(t,!1))*a},n.getIntegrateByTime=function(t,r){return this.integrate(r,!0)-this.integrate(t,!0)},n.integrate=function(t,r){var a=this.keys;if(t<=a[0][0])return 0;for(var s=0,l=a.length-1,u=r?Ns:af,h=0;h<l;h++){var m=a[h],v=a[h+1],p=m[0],b=v[0];if(t>p&&t<=b)return s+u(t,p,b,m[1],v[1]);s+=u(b,p,b,m[1],v[1])}return s},n.toData=function(){for(var t=this.keys,r=new Float32Array(Math.ceil(t.length/2)*4),a=0,s=0;a<t.length;a++,s+=2)r.set(t[a],s);return r.set(t[t.length-1],r.length-2),r},n.toUniform=function(t){var r=t.index,a=this.keys,s=Math.ceil(a.length/2);return t.lineSegCount+=s,t.curves.push(this),t.index+=s,t.max=Math.max(t.max,s),new Float32Array([3,r,s,0])},n.map=function(t){return this.keys.forEach(function(r){return r[1]=t(r[1])}),this},n.scaleXCoord=function(t){return this.keys.forEach(function(r){return r[0]=t*r[0]}),this},o}(ia),Nu=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){var r=t;this.curveMap={},this.keys=[];for(var a=0;a<r.length-1;a++){var s=r[a],l=r[a+1],u=Zl(s,l),h=u.points,m=u.curve,v=u.timeInterval,p=u.valueInterval,b=h[0],x=h[h.length-1];this.keys.push([].concat(b.toArray(),h[1].toArray())),this.keys.push([].concat(x.toArray(),h[2].toArray())),this.curveMap[b.x+"&"+x.x]={points:h,timeInterval:v,valueInterval:p,curve:m,timeStart:Number(b.x),timeEnd:Number(x.x)}}this.keyTimeData=Object.keys(this.curveMap)},n.getValue=function(t){var r=0,a=this.keyTimeData,s=this.curveMap[a[0]].timeStart,l=this.curveMap[a[a.length-1]].timeEnd;if(t<=s)return this.getCurveValue(a[0],s);if(t>=l)return this.getCurveValue(a[a.length-1],l);for(var u=0;u<a.length;u++){var h=this.curveMap[a[u]].timeStart,m=this.curveMap[a[u]].timeEnd;if(t>=Number(h)&&t<Number(m)){r=this.getCurveValue(a[u],t);break}}return r},n.getIntegrateValue=function(t,r,a){a===void 0&&(a=1);var s=(r-t)/a,l=0,u=Object.keys(this.curveMap),h=this.curveMap[u[0]].timeStart;if(s<=h)return 0;for(var m=0;m<u.length;m++){var v=this.curveMap[u[m]].timeStart,p=this.curveMap[u[m]].timeEnd;if(s>=Number(p)&&(l+=a*this.getCurveIntegrateValue(u[m],Number(p))),s>=Number(v)&&s<Number(p)){l+=a*this.getCurveIntegrateValue(u[m],s);break}}return l},n.getIntegrateByTime=function(t,r){return this.getIntegrateValue(0,r)-this.getIntegrateValue(0,t)},n.getCurveIntegrateValue=function(t,r){for(var a=this.curveMap[t],s=a.points,l=s[0],u=a.timeInterval,h=a.valueInterval,m=20,v=0,p=(r-l.x)/m,b=0;b<=m;b++){var x=b*p,I=x/u,B=l.y+h*a.curve.getValue(I);b===0||b===m?v+=B:b%2===1?v+=4*B:v+=2*B}return v*=p/3,v},n.getCurveValue=function(t,r){var a=this.curveMap[t],s=a.points,l=s[0],u=a.timeInterval,h=a.valueInterval,m=(r-l.x)/u,v=a.curve.getValue(m);return l.y+h*v},n.toUniform=function(t){var r=t.index,a=this.keys.length;return t.curves.push(this),t.index=r+a,t.max=Math.max(t.max,a),t.curveCount+=a,new Float32Array([5,r+1/a,r,a])},n.toData=function(){for(var t=this.keys,r=new Float32Array(t.length*4),a=0,s=0;a<t.length;a++,s+=4)r.set(t[a],s);return r},n.getMaxTime=function(){var t=this.keyTimeData;return this.curveMap[t[t.length-1]].timeEnd},o}(ia),rf=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){this.keys=t[0],this.values=t[1]},n.getValue=function(t){for(var r=this.keys,a=this.values,s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(l[0]<=t&&u[0]>=t){var h=u[1]-l[1],m=void 0;if(h===0)m=(t-l[0])/(u[0]-l[0]);else{var v=of(t,l,u);m=(v-l[1])/h}return this.calculateVec(s,m)}}return t<=r[0][0]?a[0].slice():a[a.length-1].slice()},n.calculateVec=function(t,r){for(var a=this.values[t],s=this.values[t+1],l=[0,0,0],u=0;u<a.length;u++)l[u]=a[u]*(1-r)+s[u]*r;return l},o}(ia),Vu=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){var r=t[0],a=t[1],s=t[2];if(this.curveSegments={},!!s.length){for(var l=0;l<r.length-1;l++){var u=r[l],h=r[l+1],m=new Ie(a[l][0],a[l][1],a[l][2]),v=new Ie(a[l+1][0],a[l+1][1],a[l+1][2]),p=new Ie(s[2*l][0],s[2*l][1],s[2*l][2]),b=new Ie(s[2*l+1][0],s[2*l+1][1],s[2*l+1][2]),x=Zl(u,h),I=x.points,B=x.curve,F=x.timeInterval,R=x.valueInterval,X=I[0],k=I[I.length-1],H=new bo(m,v,p,b);this.curveSegments[X.x+"&"+k.x]={points:I,timeInterval:F,valueInterval:R,easingCurve:B,pathCurve:H,timeStart:Number(X.x),timeEnd:Number(k.x)}}this.keyTimeData=Object.keys(this.curveSegments)}},n.getValue=function(t){var r=Nr(t,5),a=0,s=new Ie,l=this.keyTimeData;if(!l.length)return s;var u=this.curveSegments[l[0]].timeStart,h=this.curveSegments[l[l.length-1]].timeEnd;if(r<=u){var m=this.curveSegments[l[0]].pathCurve;return s=m.getPointInPercent(0),s}if(r>=h){var v=this.curveSegments[l[l.length-1]].pathCurve;return s=v.getPointInPercent(1),s}for(var p=0;p<l.length;p++){var b=this.curveSegments[l[p]].timeStart,x=this.curveSegments[l[p]].timeEnd;if(r>=Number(b)&&r<Number(x)){var I=this.curveSegments[l[p]].pathCurve;a=this.getPercValue(l[p],r),s=I.getPointInPercent(a)}}return s},n.getPercValue=function(t,r){var a=this.curveSegments[t],s=a.points,l=s[0],u=a.timeInterval,h=Nr((r-l.x)/u,4),m=a.easingCurve.getValue(h);return ai(m,0,1)},n.getMaxTime=function(){var t=this.keyTimeData;return this.curveSegments[t[t.length-1]].timeEnd},o}(ia),nf=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.onCreate=function(t){var r=t[0],a=t[1],s=t[2];if(this.curveSegments={},!!s.length)for(var l=0;l<r.length-1;l++){var u=r[l],h=r[l+1],m=Nt.fromArray(a[l]),v=Nt.fromArray(a[l+1]),p=Nt.fromArray(s[2*l]),b=Nt.fromArray(s[2*l+1]),x=Zl(u,h),I=x.points,B=x.curve,F=x.timeInterval,R=x.valueInterval,X=I[0],k=I[I.length-1],H=new _u(m,v,p,b);this.curveSegments[X.x+"&"+k.x]={points:I,timeInterval:F,valueInterval:R,easingCurve:B,pathCurve:H}}},n.getValue=function(t){var r=0,a=Nr(t,5),s=Object.keys(this.curveSegments),l=Number(s[0].split("&")[0]),u=Number(s[s.length-1].split("&")[1]);if(a<=l){var h=this.curveSegments[s[0]].pathCurve;return h.getPointInPercent(0)}if(a>=u){var m=this.curveSegments[s[s.length-1]].pathCurve;return m.getPointInPercent(1)}for(var v=0;v<s.length;v++){var p=s[v].split("&"),b=p[0],x=p[1];if(a>=Number(b)&&a<Number(x)){var I=this.curveSegments[s[v]].pathCurve;return r=this.getPercValue(s[v],a),I.getPointInPercent(r)}}var B=this.curveSegments[s[0]].pathCurve;return B.getPointInPercent(0)},n.getPercValue=function(t,r){var a=this.curveSegments[t],s=a.points,l=s[0],u=a.timeInterval,h=Nr((r-l.x)/u,4),m=a.easingCurve.getValue(h);return ai(m,0,1)},n.getMaxTime=function(){var t=Object.keys(this.curveSegments);return Number(t[t.length-1].split("&")[1])},o}(ia);function af(i,o,n,e,t){var r=i-o;return(e+e+(t-e)*r/(n-o))*r/2}function Ns(i,o,n,e,t){var r=i*i,a=r*i,s=o*o,l=s*o;return(2*a*(e-t)+3*r*(o*t-n*e)-l*(2*e+t)+3*s*n*e)/(6*(o-n))}function of(i,o,n){var e=n[qo]-o[qo],t=o[Sl]*e,r=n[Lu]*e,a=(i-o[qo])/e,s=a*a,l=s*a,u=2*l-3*s+1,h=l-2*s+a,m=l-s,v=-2*l+3*s;return u*o[Kl]+h*t+m*r+v*n[Kl]}function oo(i,o){if(o){var n=o[0],e=o[1];if(n===bt.CURVE){i.curves.push(e);var t=e.length;e[0][0]>0&&t++,e[e.length-1][0]<1&&t++,i.index+=t,i.max=Math.max(i.max,t),i.curveCount+=t}else if(n===bt.LINE){var r=e.length;if(r===2&&e[0][0]===0&&e[1][0]===1)return;e[0][0]>0&&r++,e[e.length-1][0]<1&&r++;var a=Math.ceil(r/2);i.lineSegCount+=a,i.curves.push(e),i.index+=a,i.max=Math.max(i.max,a)}else if(n===bt.BEZIER_CURVE){var s=e.length-1;i.index+=2*s,i.curves.push(e),i.max=Math.max(i.max,2*s),i.curveCount+=2*s}}}function Ts(){return{curves:[],index:0,max:0,lineSegCount:0,curveCount:0}}function Bu(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(Bu=function(){return!!i})()}function Ss(i,o,n){return Bu()?Ss=Reflect.construct:Ss=function(t,r,a){var s=[null];s.push.apply(s,r);var l=Function.bind.apply(t,s),u=new l;return a&&St(u,a.prototype),u},Ss.apply(null,arguments)}var jn=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.value=new Bn,e}var n=o.prototype;return n.onCreate=function(t){this.xCurve=lr(t[0]),this.yCurve=lr(t[1]),this.zCurve=lr(t[2]),this.wCurve=lr(t[3])},n.getValue=function(t){var r=this.xCurve.getValue(t),a=this.yCurve.getValue(t),s=this.zCurve.getValue(t),l=this.wCurve.getValue(t);return this.value.set(r,a,s,l),this.value},o}(ia),wl=6,wh="PRE_COLOR_0",Ad="PRE_COLOR_SIZE_0",Oh="PRE_MAIN_COLOR_0",sf="PRE_MAIN_COLOR_SIZE_0",Mo="editor",al={"Item duration can't be less than 0":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#AOnQS","ValueType: 21/22 is not supported":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#smO1b"},Sa,Vs=(Sa={},Sa[bt.RANDOM]=function(i){return U(i[0],Array)?new tf(i):new Oo(i)},Sa[bt.CONSTANT]=function(i){return new Vo(i)},Sa[bt.CONSTANT_VEC2]=function(i){return new Vo(i)},Sa[bt.CONSTANT_VEC3]=function(i){return new Vo(i)},Sa[bt.CONSTANT_VEC4]=function(i){return new Vo(i)},Sa[bt.RGBA_COLOR]=function(i){return new Vo(i)},Sa[bt.COLORS]=function(i){return new Du(i.map(function(o){return et(o,!1)}))},Sa[bt.LINE]=function(i){return i.length===2&&i[0][0]===0&&i[1][0]===1?new Ds([i[0][1],i[1][1]]):new Fs(i)},Sa[bt.GRADIENT_COLOR]=function(i){return new Fu(i)},Sa[bt.LINEAR_PATH]=function(i){return new rf(i)},Sa[bt.BEZIER_CURVE]=function(i){return i.length===1?new Vo(i[0][1][1]):new Nu(i)},Sa[bt.BEZIER_CURVE_PATH]=function(i){return i[0].length===1?new Vo(Ss(Ie,[].concat(i[1][0]))):new Vu(i)},Sa[bt.BEZIER_CURVE_QUAT]=function(i){return i[0].length===1?new Vo(Ss(Nt,[].concat(i[1][0]))):new nf(i)},Sa[bt.COLOR_CURVE]=function(i){return new Ol(i)},Sa[bt.VECTOR4_CURVE]=function(i){return new jn(i)},Sa);function lr(i){if(!i||!isNaN(+i))return new Vo(i||0);if(U(i,ia))return i;if(yt(Vs[i[0]]))return Vs[i[0]](i[1]);throw new Error("ValueType: "+i[0]+" is not supported, see "+al["ValueType: 21/22 is not supported"]+".")}var Ol=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.value=new bn,e}var n=o.prototype;return n.onCreate=function(t){this.rCurve=lr(t[0]),this.gCurve=lr(t[1]),this.bCurve=lr(t[2]),this.aCurve=lr(t[3])},n.getValue=function(t){var r=this.rCurve.getValue(t),a=this.gCurve.getValue(t),s=this.bCurve.getValue(t),l=this.aCurve.getValue(t);return this.value.set(r,a,s,l),this.value},o}(ia),Ql=function(i){pe(o,i);function o(e){var t;t=i.call(this,e)||this,t.cachePrefix="-",t.color=[1,1,1,1],t.visible=!0,t.isManualTimeSet=!1,t.frameAnimationTime=0,t.getHitTestParams=function(a){var s=t.interaction;if(a||s){var l=t.getBoundingBox();if(l){var u;return{behavior:((u=t.interaction)==null?void 0:u.behavior)||0,type:l.type,triangles:l.area,backfaceCulling:t.renderer.side===ir.FRONT}}}},t.renderer={renderMode:ar.MESH,blending:Jt.ALPHA,texture:t.engine.emptyTexture,occlusion:!1,transparentOcclusion:!1,side:ir.DOUBLE,mask:0,maskMode:tr.NONE,order:0},t.emptyTexture=t.engine.emptyTexture,t.renderInfo=Ml(Be(t));var r=t.createMaterial(t.renderInfo,2);return t.worldMatrix=yr.fromIdentity(),t.material=r,t.material.setVector4("_Color",new Bn().setFromArray([1,1,1,1])),t.material.setVector4("_TexOffset",new Bn().setFromArray([0,0,1,1])),t}var n=o.prototype;return n.setVisible=function(t){this.visible=t},n.getVisible=function(){return this.visible},n.setColor=function(t){this.color=t,this.material.setVector4("_Color",new Bn().setFromArray(t))},n.setTexture=function(t){this.renderer.texture=t,this.material.setTexture("_MainTex",t)},n.setAnimationTime=function(t){this.frameAnimationTime=t,this.isManualTimeSet=!0},n.render=function(t){if(this.getVisible()){var r=this.material,a=this.geometry;t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.transform.getWorldMatrix()),this.material.setVector2("_Size",this.transform.size),(this.renderer.renderMode===ar.BILLBOARD||this.renderer.renderMode===ar.VERTICAL_BILLBOARD||this.renderer.renderMode===ar.HORIZONTAL_BILLBOARD)&&this.material.setVector3("_Scale",this.transform.scale),t.drawGeometry(a,r)}},n.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},n.onDestroy=function(){this.item&&this.item.composition&&this.item.composition.destroyTextures(this.getTextures())},n.getItemInitData=function(){this.geoData=this.getItemGeometryData();var t=this.geoData,r=t.index,a=t.atlasOffset,s=r.length,l=this.wireframe?new Uint8Array([0,1,1,3,2,3,2,0]):new r.constructor(s);if(!this.wireframe)for(var u=0;u<s;u++)l[u]=0+r[u];return{atlasOffset:a,index:l}},n.setItem=function(){var t=[],r=this.renderer.texture;r&&rt(t,r),r=this.renderer.texture;var a=this.getItemInitData(),s=this.renderer,l=this.material.getVector4("_TexParams");l&&(l.x=s.occlusion?+s.transparentOcclusion:1,l.y=+this.preMultiAlpha,l.z=s.renderMode,l.x===0?this.material.enableMacro("ALPHA_CLIP"):this.material.disableMacro("ALPHA_CLIP"));var u={atlasOffset:new Float32Array(a.atlasOffset.length),index:new Uint16Array(a.index.length)};u.atlasOffset.set(a.atlasOffset),u.index.set(a.index);var h=this,m=h.material,v=h.geometry,p=u.index;v.setIndexData(p),v.setAttributeData("atlasOffset",u.atlasOffset),v.setDrawCount(a.index.length),m.setTexture("_MainTex",r)},n.getItemGeometryData=function(){var t=this.renderer;if(t.shape){for(var r=t.shape,a=r.index,s=a===void 0?[]:a,l=r.aPoint,u=l===void 0?[]:l,h=new Float32Array(u),m=[],v=[],p=0;p<h.length;p+=6)v.push(u[p+2],u[p+3]),m.push(h[p],h[p+1],0);return this.geometry.setAttributeData("aPos",new Float32Array(m)),{index:s,atlasOffset:v}}else return this.geometry.setAttributeData("aPos",new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])),{index:[0,1,2,2,1,3],atlasOffset:[0,1,0,0,1,1,1,0]}},n.createGeometry=function(t){return Cr.create(this.engine,{attributes:{aPos:{type:D.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},atlasOffset:{size:2,offset:0,releasable:!0,type:D.FLOAT,data:new Float32Array(0)}},indices:{data:new Uint16Array(0),releasable:!0},mode:t,maxVertex:4})},n.createMaterial=function(t,r){var a=t.side,s=t.occlusion,l=t.blending,u=t.maskMode,h=t.mask,m={shader:Pl(t,r,1)};this.preMultiAlpha=Wo(l);var v=Xn.create(this.engine,m),p={side:a,blending:!0,blendMode:l,mask:h,maskMode:u,depthTest:!0,depthMask:s};return v.blending=p.blending,v.stencilRef=p.mask!==void 0?[p.mask,p.mask]:void 0,v.depthTest=p.depthTest,v.depthMask=p.depthMask,Zo(v,p.blendMode),ys(v,p.maskMode),bl(v,p.side),v.shader.shaderData.properties='_MainTex("_MainTex",2D) = "white" {}',v.hasUniform("_Color")||v.setVector4("_Color",new Bn(0,0,0,1)),v.hasUniform("_TexOffset")||v.setVector4("_TexOffset",new Bn),v.hasUniform("_TexParams")||v.setVector4("_TexParams",new Bn),v},n.getTextures=function(){var t=[],r=this.renderer.texture;return r&&t.push(r),t},n.getBoundingBox=function(){if(this.item){var t=this.transform.getWorldMatrix(),r=_s(Ie.ZERO,.5*this.transform.size.x,.5*this.transform.size.y);return r.forEach(function(a){t.transformPoint(a.p0),t.transformPoint(a.p1),t.transformPoint(a.p2)}),{type:xo.triangle,area:r}}},o}(ea);function Ml(i){var o=i.renderer,n=o.blending,e=o.side,t=o.occlusion,r=o.mask,a=o.maskMode,s=o.order,l=+n,u=i.cachePrefix||"-";return{side:e,occlusion:t,blending:n,mask:r,maskMode:a,cachePrefix:u,cacheId:u+"."+ +e+"+"+ +t+"+"+l+"+"+s+"+"+a+"."+r}}var Jl=function(){},zu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ts={exports:{}};(function(i){var o;function n(S,P){return S.b===P.b&&S.a===P.a}function e(S,P){return S.b<P.b||S.b===P.b&&S.a<=P.a}function t(S,P,z){var $=P.b-S.b,ue=z.b-P.b;return 0<$+ue?$<ue?P.a-S.a+$/($+ue)*(S.a-z.a):P.a-z.a+ue/($+ue)*(z.a-S.a):0}function r(S,P,z){var $=P.b-S.b,ue=z.b-P.b;return 0<$+ue?(P.a-z.a)*$+(P.a-S.a)*ue:0}function a(S,P){return S.a<P.a||S.a===P.a&&S.b<=P.b}function s(S,P,z){var $=P.a-S.a,ue=z.a-P.a;return 0<$+ue?$<ue?P.b-S.b+$/($+ue)*(S.b-z.b):P.b-z.b+ue/($+ue)*(z.b-S.b):0}function l(S,P,z){var $=P.a-S.a,ue=z.a-P.a;return 0<$+ue?(P.b-z.b)*$+(P.b-S.b)*ue:0}function u(S){return e(S.b.a,S.a)}function h(S){return e(S.a,S.b.a)}function m(S,P,z,$){return S=0>S?0:S,z=0>z?0:z,S<=z?z===0?(P+$)/2:P+S/(S+z)*($-P):$+z/(S+z)*(P-$)}function v(S){var P=B(S.b);return R(P,S.c),R(P.b,S.c),X(P,S.a),P}function p(S,P){var z=!1,$=!1;S!==P&&(P.a!==S.a&&($=!0,H(P.a,S.a)),P.d!==S.d&&(z=!0,ee(P.d,S.d)),F(P,S),$||(R(P,S.a),S.a.c=S),z||(X(P,S.d),S.d.a=S))}function b(S){var P=S.b,z=!1;S.d!==S.b.d&&(z=!0,ee(S.d,S.b.d)),S.c===S?H(S.a,null):(S.b.d.a=Li(S),S.a.c=S.c,F(S,Li(S)),z||X(S,S.d)),P.c===P?(H(P.a,null),ee(P.d,null)):(S.d.a=Li(P),P.a.c=P.c,F(P,Li(P))),k(S)}function x(S){var P=B(S),z=P.b;return F(P,S.e),P.a=S.b.a,R(z,P.a),P.d=z.d=S.d,P=P.b,F(S.b,Li(S.b)),F(S.b,P),S.b.a=P.a,P.b.a.c=P.b,P.b.d=S.b.d,P.f=S.f,P.b.f=S.b.f,P}function I(S,P){var z=!1,$=B(S),ue=$.b;return P.d!==S.d&&(z=!0,ee(P.d,S.d)),F($,S.e),F(ue,P),$.a=S.b.a,ue.a=P.a,$.d=ue.d=S.d,S.d.a=ue,z||X($,S.d),$}function B(S){var P=new os,z=new os,$=S.b.h;return z.h=$,$.b.h=P,P.h=S,S.b.h=z,P.b=z,P.c=P,P.e=z,z.b=P,z.c=z,z.e=P}function F(S,P){var z=S.c,$=P.c;z.b.e=P,$.b.e=S,S.c=$,P.c=z}function R(S,P){var z=P.f,$=new Zs(P,z);z.e=$,P.f=$,z=$.c=S;do z.a=$,z=z.c;while(z!==S)}function X(S,P){var z=P.d,$=new ps(P,z);z.b=$,P.d=$,$.a=S,$.c=P.c,z=S;do z.d=$,z=z.e;while(z!==S)}function k(S){var P=S.h;S=S.b.h,P.b.h=S,S.b.h=P}function H(S,P){var z=S.c,$=z;do $.a=P,$=$.c;while($!==z);z=S.f,$=S.e,$.f=z,z.e=$}function ee(S,P){var z=S.a,$=z;do $.d=P,$=$.e;while($!==z);z=S.d,$=S.b,$.d=z,z.b=$}function ie(S){var P=0;return Math.abs(S[1])>Math.abs(S[0])&&(P=1),Math.abs(S[2])>Math.abs(S[P])&&(P=2),P}var oe=4*1e150;function Qe(S,P){S.f+=P.f,S.b.f+=P.b.f}function Je(S,P,z){return S=S.a,P=P.a,z=z.a,P.b.a===S?z.b.a===S?e(P.a,z.a)?0>=r(z.b.a,P.a,z.a):0<=r(P.b.a,z.a,P.a):0>=r(z.b.a,S,z.a):z.b.a===S?0<=r(P.b.a,S,P.a):(P=t(P.b.a,S,P.a),S=t(z.b.a,S,z.a),P>=S)}function st(S){S.a.i=null;var P=S.e;P.a.c=P.c,P.c.a=P.a,S.e=null}function ft(S,P){b(S.a),S.c=!1,S.a=P,P.i=S}function At(S){var P=S.a.a;do S=ss(S);while(S.a.a===P);return S.c&&(P=I(Ua(S).a.b,S.a.e),ft(S,P),S=ss(S)),S}function Wt(S,P,z){var $=new Eh;return $.a=z,$.e=fa(S.f,P.e,$),z.i=$}function Zt(S,P){switch(S.s){case 100130:return(P&1)!==0;case 100131:return P!==0;case 100132:return 0<P;case 100133:return 0>P;case 100134:return 2<=P||-2>=P}return!1}function Kt(S){var P=S.a,z=P.d;z.c=S.d,z.a=P,st(S)}function qt(S,P,z){for(S=P,P=P.a;S!==z;){S.c=!1;var $=Ua(S),ue=$.a;if(ue.a!==P.a){if(!$.c){Kt(S);break}ue=I(P.c.b,ue.b),ft($,ue)}P.c!==ue&&(p(Li(ue),ue),p(P,ue)),Kt(S),P=$.a,S=$}return P}function _t(S,P,z,$,ue,lt){var mt=!0;do Wt(S,P,z.b),z=z.c;while(z!==$);for(ue===null&&(ue=Ua(P).a.b.c);$=Ua(P),z=$.a.b,z.a===ue.a;)z.c!==ue&&(p(Li(z),z),p(Li(ue),z)),$.f=P.f-z.f,$.d=Zt(S,$.f),P.b=!0,!mt&&Qr(S,P)&&(Qe(z,ue),st(P),b(ue)),mt=!1,P=$,ue=z;P.b=!0,lt&&ii(S,P)}function _r(S,P,z,$,ue){var lt=[P.g[0],P.g[1],P.g[2]];P.d=null,P.d=S.o&&S.o(lt,z,$,S.c)||null,P.d===null&&(ue?S.n||(pi(S,100156),S.n=!0):P.d=z[0])}function sr(S,P,z){var $=[null,null,null,null];$[0]=P.a.d,$[1]=z.a.d,_r(S,P.a,$,[.5,.5,0,0],!1),p(P,z)}function Or(S,P,z,$,ue){var lt=Math.abs(P.b-S.b)+Math.abs(P.a-S.a),mt=Math.abs(z.b-S.b)+Math.abs(z.a-S.a),Mr=ue+1;$[ue]=.5*mt/(lt+mt),$[Mr]=.5*lt/(lt+mt),S.g[0]+=$[ue]*P.g[0]+$[Mr]*z.g[0],S.g[1]+=$[ue]*P.g[1]+$[Mr]*z.g[1],S.g[2]+=$[ue]*P.g[2]+$[Mr]*z.g[2]}function Qr(S,P){var z=Ua(P),$=P.a,ue=z.a;if(e($.a,ue.a)){if(0<r(ue.b.a,$.a,ue.a))return!1;if(!n($.a,ue.a))x(ue.b),p($,Li(ue)),P.b=z.b=!0;else if($.a!==ue.a){var z=S.e,lt=$.a.h;if(0<=lt){var z=z.b,mt=z.d,Mr=z.e,Rn=z.c,Hn=Rn[lt];mt[Hn]=mt[z.a],Rn[mt[Hn]]=Hn,Hn<=--z.a&&(1>=Hn||e(Mr[mt[Hn>>1]],Mr[mt[Hn]])?Jc(z,Hn):Sd(z,Hn)),Mr[lt]=null,Rn[lt]=z.b,z.b=lt}else for(z.c[-(lt+1)]=null;0<z.a&&z.c[z.d[z.a-1]]===null;)--z.a;sr(S,Li(ue),$)}}else{if(0>r($.b.a,ue.a,$.a))return!1;ss(P).b=P.b=!0,x($.b),p(Li(ue),$)}return!0}function Jr(S,P){var z=Ua(P),$=P.a,ue=z.a,lt=$.a,mt=ue.a,Mr=$.b.a,Rn=ue.b.a,Hn=new Zs;if(r(Mr,S.a,lt),r(Rn,S.a,mt),lt===mt||Math.min(lt.a,Mr.a)>Math.max(mt.a,Rn.a))return!1;if(e(lt,mt)){if(0<r(Rn,lt,mt))return!1}else if(0>r(Mr,mt,lt))return!1;var da=Mr,Ji=lt,qi=Rn,ka=mt,ci,Oa;if(e(da,Ji)||(ci=da,da=Ji,Ji=ci),e(qi,ka)||(ci=qi,qi=ka,ka=ci),e(da,qi)||(ci=da,da=qi,qi=ci,ci=Ji,Ji=ka,ka=ci),e(qi,Ji)?e(Ji,ka)?(ci=t(da,qi,Ji),Oa=t(qi,Ji,ka),0>ci+Oa&&(ci=-ci,Oa=-Oa),Hn.b=m(ci,qi.b,Oa,Ji.b)):(ci=r(da,qi,Ji),Oa=-r(da,ka,Ji),0>ci+Oa&&(ci=-ci,Oa=-Oa),Hn.b=m(ci,qi.b,Oa,ka.b)):Hn.b=(qi.b+Ji.b)/2,a(da,Ji)||(ci=da,da=Ji,Ji=ci),a(qi,ka)||(ci=qi,qi=ka,ka=ci),a(da,qi)||(ci=da,da=qi,qi=ci,ci=Ji,Ji=ka,ka=ci),a(qi,Ji)?a(Ji,ka)?(ci=s(da,qi,Ji),Oa=s(qi,Ji,ka),0>ci+Oa&&(ci=-ci,Oa=-Oa),Hn.a=m(ci,qi.a,Oa,Ji.a)):(ci=l(da,qi,Ji),Oa=-l(da,ka,Ji),0>ci+Oa&&(ci=-ci,Oa=-Oa),Hn.a=m(ci,qi.a,Oa,ka.a)):Hn.a=(qi.a+Ji.a)/2,e(Hn,S.a)&&(Hn.b=S.a.b,Hn.a=S.a.a),da=e(lt,mt)?lt:mt,e(da,Hn)&&(Hn.b=da.b,Hn.a=da.a),n(Hn,lt)||n(Hn,mt))return Qr(S,P),!1;if(!n(Mr,S.a)&&0<=r(Mr,S.a,Hn)||!n(Rn,S.a)&&0>=r(Rn,S.a,Hn)){if(Rn===S.a)return x($.b),p(ue.b,$),P=At(P),$=Ua(P).a,qt(S,Ua(P),z),_t(S,P,Li($),$,$,!0),!0;if(Mr===S.a){x(ue.b),p($.e,Li(ue)),lt=z=P,mt=lt.a.b.a;do lt=ss(lt);while(lt.a.b.a===mt);return P=lt,lt=Ua(P).a.b.c,z.a=Li(ue),ue=qt(S,z,null),_t(S,P,ue.c,$.b.c,lt,!0),!0}return 0<=r(Mr,S.a,Hn)&&(ss(P).b=P.b=!0,x($.b),$.a.b=S.a.b,$.a.a=S.a.a),0>=r(Rn,S.a,Hn)&&(P.b=z.b=!0,x(ue.b),ue.a.b=S.a.b,ue.a.a=S.a.a),!1}return x($.b),x(ue.b),p(Li(ue),$),$.a.b=Hn.b,$.a.a=Hn.a,$.a.h=so(S.e,$.a),$=$.a,ue=[0,0,0,0],Hn=[lt.d,Mr.d,mt.d,Rn.d],$.g[0]=$.g[1]=$.g[2]=0,Or($,lt,Mr,ue,0),Or($,mt,Rn,ue,2),_r(S,$,Hn,ue,!0),ss(P).b=P.b=z.b=!0,!1}function ii(S,P){for(var z=Ua(P);;){for(;z.b;)P=z,z=Ua(z);if(!P.b&&(z=P,P=ss(P),P===null||!P.b))break;P.b=!1;var $=P.a,ue=z.a,lt;if(lt=$.b.a!==ue.b.a)e:{lt=P;var mt=Ua(lt),Mr=lt.a,Rn=mt.a,Hn=void 0;if(e(Mr.b.a,Rn.b.a)){if(0>r(Mr.b.a,Rn.b.a,Mr.a)){lt=!1;break e}ss(lt).b=lt.b=!0,Hn=x(Mr),p(Rn.b,Hn),Hn.d.c=lt.d}else{if(0<r(Rn.b.a,Mr.b.a,Rn.a)){lt=!1;break e}lt.b=mt.b=!0,Hn=x(Rn),p(Mr.e,Rn.b),Hn.b.d.c=lt.d}lt=!0}if(lt&&(z.c?(st(z),b(ue),z=Ua(P),ue=z.a):P.c&&(st(P),b($),P=ss(z),$=P.a)),$.a!==ue.a){if($.b.a===ue.b.a||P.c||z.c||$.b.a!==S.a&&ue.b.a!==S.a)Qr(S,P);else if(Jr(S,P))break}$.a===ue.a&&$.b.a===ue.b.a&&(Qe(ue,$),st(P),b($),P=ss(z))}}function an(S,P){S.a=P;for(var z=P.c;z.i===null;)if(z=z.c,z===P.c){var z=S,$=P,mt=new Eh;mt.a=$.c.b;var ue=z.f,Mr=ue.a;do Mr=Mr.a;while(Mr.b!==null&&!ue.c(ue.b,mt,Mr.b));var ue=Mr.b,lt=Ua(ue),mt=ue.a,Mr=lt.a;if(r(mt.b.a,$,mt.a)===0)mt=ue.a,n(mt.a,$)||n(mt.b.a,$)||(x(mt.b),ue.c&&(b(mt.c),ue.c=!1),p($.c,mt),an(z,$));else{var Rn=e(Mr.b.a,mt.b.a)?ue:lt,lt=void 0;ue.d||Rn.c?(Rn===ue?lt=I($.c.b,mt.e):lt=I(Mr.b.c.b,$.c).b,Rn.c?ft(Rn,lt):(mt=z,ue=Wt(z,ue,lt),ue.f=ss(ue).f+ue.a.f,ue.d=Zt(mt,ue.f)),an(z,$)):_t(z,ue,$.c,$.c,null,!0)}return}if(z=At(z.i),mt=Ua(z),ue=mt.a,mt=qt(S,mt,null),mt.c===ue){var ue=mt,mt=ue.c,Mr=Ua(z),lt=z.a,Rn=Mr.a,Hn=!1;lt.b.a!==Rn.b.a&&Jr(S,z),n(lt.a,S.a)&&(p(Li(mt),lt),z=At(z),mt=Ua(z).a,qt(S,Ua(z),Mr),Hn=!0),n(Rn.a,S.a)&&(p(ue,Li(Rn)),ue=qt(S,Mr,null),Hn=!0),Hn?_t(S,z,ue.c,mt,mt,!0):(e(Rn.a,lt.a)?$=Li(Rn):$=lt,$=I(ue.c.b,$),_t(S,z,$,$.c,$.c,!1),$.b.i.c=!0,ii(S,z))}else _t(S,z,mt.c,ue,ue,!0)}function oa(S,P){var z=new Eh,$=v(S.b);$.a.b=oe,$.a.a=P,$.b.a.b=-oe,$.b.a.a=P,S.a=$.b.a,z.a=$,z.f=0,z.d=!1,z.c=!1,z.h=!0,z.b=!1,$=S.f,$=fa($,$.a,z),z.e=$}function wa(S){this.a=new Ja,this.b=S,this.c=Je}function fa(S,P,z){do P=P.c;while(P.b!==null&&!S.c(S.b,P.b,z));return S=new Ja(z,P.a,P),P.a.c=S,P.a=S}function Ja(S,P,z){this.b=S||null,this.a=P||this,this.c=z||this}function En(){this.d=Ba,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var Ba=0;o=En.prototype,o.x=function(){za(this,Ba)},o.B=function(S,P){switch(S){case 100142:return;case 100140:switch(P){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=P;return}break;case 100141:this.m=!!P;return;default:pi(this,100900);return}pi(this,100901)},o.y=function(S){switch(S){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:pi(this,100900)}return!1},o.A=function(S,P,z){this.j[0]=S,this.j[1]=P,this.j[2]=z},o.z=function(S,P){var z=P||null;switch(S){case 100100:case 100106:this.h=z;break;case 100104:case 100110:this.l=z;break;case 100101:case 100107:this.k=z;break;case 100102:case 100108:this.i=z;break;case 100103:case 100109:this.p=z;break;case 100105:case 100111:this.o=z;break;case 100112:this.r=z;break;default:pi(this,100900)}},o.C=function(S,P){var z=!1,$=[0,0,0];za(this,2);for(var ue=0;3>ue;++ue){var lt=S[ue];-1e150>lt&&(lt=-1e150,z=!0),1e150<lt&&(lt=1e150,z=!0),$[ue]=lt}z&&pi(this,100155),z=this.q,z===null?(z=v(this.b),p(z,z.b)):(x(z),z=z.e),z.a.d=P,z.a.g[0]=$[0],z.a.g[1]=$[1],z.a.g[2]=$[2],z.f=1,z.b.f=-1,this.q=z},o.u=function(S){za(this,Ba),this.d=1,this.b=new Wi,this.c=S},o.t=function(){za(this,1),this.d=2,this.q=null},o.v=function(){za(this,2),this.d=1},o.w=function(){za(this,1),this.d=Ba;var S=this.j[0],P=this.j[1],z=this.j[2],$=!1,ue=[S,P,z];if(S===0&&P===0&&z===0){for(var P=[-2*1e150,-2*1e150,-2*1e150],lt=[2*1e150,2*1e150,2*1e150],z=[],mt=[],$=this.b.c,S=$.e;S!==$;S=S.e)for(var Mr=0;3>Mr;++Mr){var Rn=S.g[Mr];Rn<lt[Mr]&&(lt[Mr]=Rn,mt[Mr]=S),Rn>P[Mr]&&(P[Mr]=Rn,z[Mr]=S)}if(S=0,P[1]-lt[1]>P[0]-lt[0]&&(S=1),P[2]-lt[2]>P[S]-lt[S]&&(S=2),lt[S]>=P[S])ue[0]=0,ue[1]=0,ue[2]=1;else{for(P=0,lt=mt[S],z=z[S],mt=[0,0,0],lt=[lt.g[0]-z.g[0],lt.g[1]-z.g[1],lt.g[2]-z.g[2]],Mr=[0,0,0],S=$.e;S!==$;S=S.e)Mr[0]=S.g[0]-z.g[0],Mr[1]=S.g[1]-z.g[1],Mr[2]=S.g[2]-z.g[2],mt[0]=lt[1]*Mr[2]-lt[2]*Mr[1],mt[1]=lt[2]*Mr[0]-lt[0]*Mr[2],mt[2]=lt[0]*Mr[1]-lt[1]*Mr[0],Rn=mt[0]*mt[0]+mt[1]*mt[1]+mt[2]*mt[2],Rn>P&&(P=Rn,ue[0]=mt[0],ue[1]=mt[1],ue[2]=mt[2]);0>=P&&(ue[0]=ue[1]=ue[2]=0,ue[ie(lt)]=1)}$=!0}for(mt=ie(ue),S=this.b.c,P=(mt+1)%3,z=(mt+2)%3,mt=0<ue[mt]?1:-1,ue=S.e;ue!==S;ue=ue.e)ue.b=ue.g[P],ue.a=mt*ue.g[z];if($){for(ue=0,$=this.b.a,S=$.b;S!==$;S=S.b)if(P=S.a,!(0>=P.f))do ue+=(P.a.b-P.b.a.b)*(P.a.a+P.b.a.a),P=P.e;while(P!==S.a);if(0>ue)for(ue=this.b.c,$=ue.e;$!==ue;$=$.e)$.a=-$.a}for(this.n=!1,ue=this.b.b,S=ue.h;S!==ue;S=$)$=S.h,P=S.e,n(S.a,S.b.a)&&S.e.e!==S&&(sr(this,P,S),b(S),S=P,P=S.e),P.e===S&&(P!==S&&((P===$||P===$.b)&&($=$.h),b(P)),(S===$||S===$.b)&&($=$.h),b(S));for(this.e=ue=new $o,$=this.b.c,S=$.e;S!==$;S=S.e)S.h=so(ue,S);for(xa(ue),this.f=new wa(this),oa(this,-oe),oa(this,oe);(ue=Ms(this.e))!==null;){for(;;){e:if(S=this.e,S.a===0)$=Ch(S.b);else if($=S.c[S.d[S.a-1]],S.b.a!==0&&(S=Ch(S.b),e(S,$))){$=S;break e}if($===null||!n($,ue))break;$=Ms(this.e),sr(this,ue.c,$.c)}an(this,ue)}for(this.a=this.f.a.a.b.a.a,ue=0;($=this.f.a.a.b)!==null;)$.h||++ue,st($);for(this.f=null,ue=this.e,ue.b=null,ue.d=null,this.e=ue.c=null,ue=this.b,S=ue.a.b;S!==ue.a;S=$)$=S.b,S=S.a,S.e.e===S&&(Qe(S.c,S),b(S));if(!this.n){if(ue=this.b,this.m)for(S=ue.b.h;S!==ue.b;S=$)$=S.h,S.b.d.c!==S.d.c?S.f=S.d.c?1:-1:b(S);else for(S=ue.a.b;S!==ue.a;S=$)if($=S.b,S.c){for(S=S.a;e(S.b.a,S.a);S=S.c.b);for(;e(S.a,S.b.a);S=S.e);for(P=S.c.b,z=void 0;S.e!==P;)if(e(S.b.a,P.a)){for(;P.e!==S&&(u(P.e)||0>=r(P.a,P.b.a,P.e.b.a));)z=I(P.e,P),P=z.b;P=P.c.b}else{for(;P.e!==S&&(h(S.c.b)||0<=r(S.b.a,S.a,S.c.b.a));)z=I(S,S.c.b),S=z.b;S=S.e}for(;P.e.e!==S;)z=I(P.e,P),P=z.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ue=this.b,$=ue.a.b;$!==ue.a;$=$.b)if($.c){this.h&&this.h(2,this.c),S=$.a;do this.k&&this.k(S.a.d,this.c),S=S.e;while(S!==$.a);this.i&&this.i(this.c)}}else{for(ue=this.b,$=!!this.l,S=!1,P=-1,z=ue.a.d;z!==ue.a;z=z.d)if(z.c){S||(this.h&&this.h(4,this.c),S=!0),mt=z.a;do $&&(lt=mt.b.d.c?0:1,P!==lt&&(P=lt,this.l&&this.l(!!P,this.c))),this.k&&this.k(mt.a.d,this.c),mt=mt.e;while(mt!==z.a)}S&&this.i&&this.i(this.c)}if(this.r){for(ue=this.b,S=ue.a.b;S!==ue.a;S=$)if($=S.b,!S.c){P=S.a,z=P.e,mt=void 0;do mt=z,z=mt.e,mt.d=null,mt.b.d===null&&(mt.c===mt?H(mt.a,null):(mt.a.c=mt.c,F(mt,Li(mt))),lt=mt.b,lt.c===lt?H(lt.a,null):(lt.a.c=lt.c,F(lt,Li(lt))),k(mt));while(mt!==P);P=S.d,S=S.b,S.d=P,P.b=S}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function za(S,P){if(S.d!==P)for(;S.d!==P;)if(S.d<P)switch(S.d){case Ba:pi(S,100151),S.u(null);break;case 1:pi(S,100152),S.t()}else switch(S.d){case 2:pi(S,100154),S.v();break;case 1:pi(S,100153),S.w()}}function pi(S,P){S.p&&S.p(P,S.c)}function ps(S,P){this.b=S||this,this.d=P||this,this.a=null,this.c=!1}function os(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Li(S){return S.b.e}function Wi(){this.c=new Zs,this.a=new ps,this.b=new os,this.d=new os,this.b.b=this.d,this.d.b=this.b}function Zs(S,P){this.e=S||this,this.f=P||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function $o(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new jo}function xa(S){S.d=[];for(var P=0;P<S.a;P++)S.d[P]=P;S.d.sort(function(z){return function($,ue){return e(z[$],z[ue])?1:-1}}(S.c)),S.e=!0,av(S.b)}function so(S,P){if(S.e){var z=S.b,$=++z.a;2*$>z.f&&(z.f*=2,z.c=Qc(z.c,z.f+1));var ue;return z.b===0?ue=$:(ue=z.b,z.b=z.c[z.b]),z.e[ue]=P,z.c[ue]=$,z.d[$]=ue,z.h&&Sd(z,$),ue}return z=S.a++,S.c[z]=P,-(z+1)}function Ms(S){if(S.a===0)return Td(S.b);var P=S.c[S.d[S.a-1]];if(S.b.a!==0&&e(Ch(S.b),P))return Td(S.b);do--S.a;while(0<S.a&&S.c[S.d[S.a-1]]===null);return P}function jo(){this.d=Qc([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Qc(S,P){for(var z=Array(P),$=0;$<S.length;$++)z[$]=S[$];for(;$<P;$++)z[$]=0;return z}function av(S){for(var P=S.a;1<=P;--P)Jc(S,P);S.h=!0}function Ch(S){return S.e[S.d[1]]}function Td(S){var P=S.d,z=S.e,$=S.c,ue=P[1],lt=z[ue];return 0<S.a&&(P[1]=P[S.a],$[P[1]]=1,z[ue]=null,$[ue]=S.b,S.b=ue,0<--S.a&&Jc(S,1)),lt}function Jc(S,P){for(var z=S.d,$=S.e,ue=S.c,lt=P,mt=z[lt];;){var Mr=lt<<1;Mr<S.a&&e($[z[Mr+1]],$[z[Mr]])&&(Mr+=1);var Rn=z[Mr];if(Mr>S.a||e($[mt],$[Rn])){z[lt]=mt,ue[mt]=lt;break}z[lt]=Rn,ue[Rn]=lt,lt=Mr}}function Sd(S,P){for(var z=S.d,$=S.e,ue=S.c,lt=P,mt=z[lt];;){var Mr=lt>>1,Rn=z[Mr];if(Mr===0||e($[Rn],$[mt])){z[lt]=mt,ue[mt]=lt;break}z[lt]=Rn,ue[Rn]=lt,lt=Mr}}function Eh(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ua(S){return S.e.c.b}function ss(S){return S.e.a.b}zu.libtess={GluTesselator:En,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},En.prototype.gluDeleteTess=En.prototype.x,En.prototype.gluTessProperty=En.prototype.B,En.prototype.gluGetTessProperty=En.prototype.y,En.prototype.gluTessNormal=En.prototype.A,En.prototype.gluTessCallback=En.prototype.z,En.prototype.gluTessVertex=En.prototype.C,En.prototype.gluTessBeginPolygon=En.prototype.u,En.prototype.gluTessBeginContour=En.prototype.t,En.prototype.gluTessEndContour=En.prototype.v,En.prototype.gluTessEndPolygon=En.prototype.w,i.exports=zu.libtess})(ts);var Bs=function(){function o(s,l){l[l.length]=s[0],l[l.length]=s[1]}function n(s){s!==ts.exports.primitiveType.GL_TRIANGLES&&console.info("expected TRIANGLES but got type: "+s)}function e(s){console.error("error callback, error number: "+s)}function t(s,l,u){return[s[0],s[1],s[2]]}function r(s){}var a=new ts.exports.GluTesselator;return a.gluTessCallback(ts.exports.gluEnum.GLU_TESS_VERTEX_DATA,o),a.gluTessCallback(ts.exports.gluEnum.GLU_TESS_BEGIN,n),a.gluTessCallback(ts.exports.gluEnum.GLU_TESS_ERROR,e),a.gluTessCallback(ts.exports.gluEnum.GLU_TESS_COMBINE,t),a.gluTessCallback(ts.exports.gluEnum.GLU_TESS_EDGE_FLAG,r),a}();function Uu(i){Bs.gluTessNormal(0,0,1);var o=[];Bs.gluTessBeginPolygon(o);for(var n=0;n<i.length;n++){Bs.gluTessBeginContour();for(var e=i[n],t=0;t<e.length;t+=2){var r=[e[t],e[t+1],0];Bs.gluTessVertex(r,r)}Bs.gluTessEndContour()}return Bs.gluTessEndPolygon(),o}var ku=function(i){pe(o,i);function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a;a=i.call(this)||this,a.points=[],a.closePath=!1;var s=Array.isArray(t[0])?t[0]:t;if(typeof s[0]!="number"){for(var l=[],u=0,h=s.length;u<h;u++)l.push(s[u].x,s[u].y);s=l}return a.points=s,a.closePath=!0,a}var n=o.prototype;return n.clone=function(){var t=this.points.slice(),r=new o(t);return r.closePath=this.closePath,r},n.contains=function(t,r){for(var a=!1,s=this.points.length/2,l=0,u=s-1;l<s;u=l++){var h=this.points[l*2],m=this.points[l*2+1],v=this.points[u*2],p=this.points[u*2+1],b=m>r!=p>r&&t<(v-h)*((r-m)/(p-m))+h;b&&(a=!a)}return a},n.copyFrom=function(t){return this.points=t.points.slice(),this.closePath=t.closePath,this},n.copyTo=function(t){return t.copyFrom(this),t},n.getX=function(){return this.points[this.points.length-2]},n.getY=function(){return this.points[this.points.length-1]},n.build=function(t){for(var r=0;r<this.points.length;r++)t[r]=this.points[r]},n.triangulate=function(t,r,a,s,l){for(var u=Uu([t]),h=0;h<u.length;h++)r[a+h]=u[h];for(var m=u.length/2,v=0;v<m;v++)s[l+v]=v},gr(o,[{key:"lastX",get:function(){return this.points[this.points.length-2]}},{key:"lastY",get:function(){return this.points[this.points.length-1]}}]),o}(Jl),lf=8,Al=11920929e-14,$u=1,Mh=.5;function zs(i,o,n,e,t,r,a,s,l,u){var h=5,m=Math.min(.99,Math.max(0,u!=null?u:Mh)),v=($u-m)/h;return v*=v,ju(o,n,e,t,r,a,s,l,i,v),i}function ju(i,o,n,e,t,r,a,s,l,u){ql(i,o,n,e,t,r,a,s,l,u,0),l.push(a,s)}function ql(i,o,n,e,t,r,a,s,l,u,h){if(!(h>lf)){var m=(i+n)/2,v=(o+e)/2,p=(n+t)/2,b=(e+r)/2,x=(t+a)/2,I=(r+s)/2,B=(m+p)/2,F=(v+b)/2,R=(p+x)/2,X=(b+I)/2,k=(B+R)/2,H=(F+X)/2;if(h>0){var ee=a-i,ie=s-o,oe=Math.abs((n-a)*ie-(e-s)*ee),Qe=Math.abs((t-a)*ie-(r-s)*ee);if(oe>Al&&Qe>Al){if((oe+Qe)*(oe+Qe)<=u*(ee*ee+ie*ie)){l.push(k,H);return}}else if(oe>Al){if(oe*oe<=u*(ee*ee+ie*ie)){l.push(k,H);return}}else if(Qe>Al){if(Qe*Qe<=u*(ee*ee+ie*ie)){l.push(k,H);return}}else if(ee=k-(i+a)/2,ie=H-(o+s)/2,ee*ee+ie*ie<=u){l.push(k,H);return}}ql(i,o,m,v,B,F,k,H,l,u,h+1),ql(k,H,R,X,x,I,a,s,l,u,h+1)}}var Hu=function(i){pe(o,i);function o(e,t,r,a){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0);var s;return s=i.call(this)||this,s.type="ellipse",s.x=e,s.y=t,s.halfWidth=r,s.halfHeight=a,s}var n=o.prototype;return n.clone=function(){return new o(this.x,this.y,this.halfWidth,this.halfHeight)},n.contains=function(t,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;var a=(t-this.x)/this.halfWidth,s=(r-this.y)/this.halfHeight;return a*=a,s*=s,a+s<=1},n.strokeContains=function(t,r,a){var s=this,l=s.halfWidth,u=s.halfHeight;if(l<=0||u<=0)return!1;var h=a/2,m=l-h,v=u-h,p=l+h,b=u+h,x=t-this.x,I=r-this.y,B=x*x/(m*m)+I*I/(v*v),F=x*x/(p*p)+I*I/(b*b);return B>1&&F<=1},n.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this},n.copyTo=function(t){return t.copyFrom(this),t},n.getX=function(){return this.x},n.getY=function(){return this.y},n.build=function(t){var r=this.x,a=this.y,s=this.halfWidth,l=this.halfHeight,u=0,h=0;if(!(s>=0&&l>=0&&u>=0&&h>=0))return t;var m=5,v=Math.ceil(m*Math.sqrt(s+l)),p=v*8+0+0;if(p===0)return t;if(v===0)return t[0]=t[6]=r+u,t[1]=t[3]=a+h,t[2]=t[4]=r-u,t[5]=t[7]=a-h,t;var b=0,x=v*4+0+2,I=x,B=p,F=u+s,R=h,X=r+F,k=r-F,H=a+R;t[b++]=X,t[b++]=H,t[--x]=H,t[--x]=k;for(var ee=1;ee<v;ee++){var ie=Math.PI/2*(ee/v),oe=u+Math.cos(ie)*s,Qe=h+Math.sin(ie)*l,Je=r+oe,st=r-oe,ft=a+Qe,At=a-Qe;t[b++]=Je,t[b++]=ft,t[--x]=ft,t[--x]=st,t[I++]=st,t[I++]=At,t[--B]=At,t[--B]=Je}F=u,R=h+l,X=r+F,k=r-F,H=a+R;var Wt=a-R;return t[b++]=X,t[b++]=H,t[--B]=Wt,t[--B]=X,t},n.triangulate=function(t,r,a,s,l){if(t.length!==0){for(var u=0,h=0,m=0;m<t.length;m+=2)u+=t[m],h+=t[m+1];u/=t.length/2,h/=t.length/2;var v=a;r[v*2]=u,r[v*2+1]=h;for(var p=v++,b=0;b<t.length;b+=2)r[v*2]=t[b],r[v*2+1]=t[b+1],b>0&&(s[l++]=v,s[l++]=p,s[l++]=v-1),v++;s[l++]=p+1,s[l++]=p,s[l++]=v-1}},o}(Jl),ol;(function(i){i[i.Star=0]="Star",i[i.Polygon=1]="Polygon"})(ol||(ol={}));var uf=function(i){pe(o,i);function o(e,t,r,a,s,l){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0);var u;return u=i.call(this)||this,u.pointCount=e,u.outerRadius=t,u.innerRadius=r,u.outerRoundness=a,u.innerRoundness=s,u.starType=l,u.v=[],u.in=[],u.out=[],u}var n=o.prototype;return n.clone=function(){var t=new o(this.pointCount,this.outerRadius,this.innerRadius,this.outerRoundness,this.innerRoundness,this.starType);return t},n.copyFrom=function(t){this.pointCount=t.pointCount,this.outerRadius=t.outerRadius,this.innerRadius=t.innerRadius,this.outerRoundness=t.outerRoundness,this.innerRoundness=t.innerRoundness,this.starType=t.starType},n.copyTo=function(t){t.copyFrom(this)},n.build=function(t){switch(this.starType){case 0:{this.buildStarPath();break}case 1:{this.buildPolygonPath();break}}for(var r=1,a=0;a<this.v.length-2;a+=2)zs(t,this.v[a],this.v[a+1],this.out[a],this.out[a+1],this.in[a+2],this.in[a+3],this.v[a+2],this.v[a+3],r);var s=this.v.length-1;zs(t,this.v[s-1],this.v[s],this.out[s-1],this.out[s],this.in[0],this.in[1],this.v[0],this.v[1],r)},n.triangulate=function(t,r,a,s,l){for(var u=Uu([t]),h=0;h<u.length;h++)r[a+h]=u[h];for(var m=u.length/2,v=0;v<m;v++)s[l+v]=v},n.buildStarPath=function(){this.v=[],this.in=[],this.out=[];var t=Math.floor(this.pointCount)*2,r=Math.PI*2/t,a=!0,s=this.outerRadius,l=this.innerRadius,u=this.outerRoundness/100,h=this.innerRoundness/100,m=2*Math.PI*s/(t*2),v=2*Math.PI*l/(t*2),p,b,x,I,B=-Math.PI/2,F=1;for(p=0;p<t;p++){b=a?s:l,x=a?u:h,I=a?m:v;var R=b*Math.cos(B),X=b*Math.sin(B),k=R===0&&X===0?0:X/Math.sqrt(R*R+X*X),H=R===0&&X===0?0:-R/Math.sqrt(R*R+X*X),ee=p*2;this.v[ee]=R,this.v[ee+1]=X,this.in[ee]=R+k*I*x*F,this.in[ee+1]=X+H*I*x*F,this.out[ee]=R-k*I*x*F,this.out[ee+1]=X-H*I*x*F,a=!a,B+=r*F}},n.buildPolygonPath=function(){this.v=[],this.in=[],this.out=[];var t=Math.floor(this.pointCount),r=Math.PI*2/t,a=this.outerRadius,s=this.outerRoundness/100,l=2*Math.PI*a/(t*4),u,h=-Math.PI*.5,m=1;for(u=0;u<t;u++){var v=a*Math.cos(h),p=a*Math.sin(h),b=v===0&&p===0?0:p/Math.sqrt(v*v+p*p),x=v===0&&p===0?0:-v/Math.sqrt(v*v+p*p),I=u*2;this.v[I]=v,this.v[I+1]=p,this.in[I]=v+b*l*s*m,this.in[I+1]=p+x*l*s*m,this.out[I]=v-b*l*s*m,this.out[I+1]=p-x*l*s*m,h+=r*m}},o}(Jl),Gu=function(i){pe(o,i);function o(e,t,r,a){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=0);var s;return s=i.call(this)||this,s.x=Number(e),s.y=Number(t),s.width=Number(r),s.height=Number(a),s}var n=o.prototype;return n.isEmpty=function(){return this.left===this.right||this.top===this.bottom},n.clone=function(){return new o(this.x,this.y,this.width,this.height)},n.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.copyTo=function(t){return t.copyFrom(this),t},n.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},n.strokeContains=function(t,r,a){var s=this,l=s.width,u=s.height;if(l<=0||u<=0)return!1;var h=this.x,m=this.y,v=h-a/2,p=h+l+a/2,b=m-a/2,x=m+u+a/2,I=h+a/2,B=h+l-a/2,F=m+a/2,R=m+u-a/2;return t>=v&&t<=p&&r>=b&&r<=x&&!(t>I&&t<B&&r>F&&r<R)},n.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},n.fit=function(t){var r=Math.max(this.x,t.x),a=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),l=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(a-r,0),this.y=s,this.height=Math.max(l-s,0),this},n.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var a=Math.ceil((this.x+this.width-r)*t)/t,s=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=a-this.x,this.height=s-this.y,this},n.enlarge=function(t){var r=Math.min(this.x,t.x),a=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),l=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=a-r,this.y=s,this.height=l-s,this},n.getBounds=function(t){return t=t||new o,t.copyFrom(this),t},n.getX=function(){return this.x},n.getY=function(){return this.y},n.build=function(t){var r=this.x,a=this.y,s=this.width,l=this.height;return s>=0&&l>=0&&(t[0]=r,t[1]=a,t[2]=r+s,t[3]=a,t[4]=r+s,t[5]=a+l,t[6]=r,t[7]=a+l),t},n.triangulate=function(t,r,a,s,l){var u=0,h=2;a*=h,r[a+u]=t[0],r[a+u+1]=t[1],u+=h,r[a+u]=t[2],r[a+u+1]=t[3],u+=h,r[a+u]=t[6],r[a+u+1]=t[7],u+=h,r[a+u]=t[4],r[a+u+1]=t[5],u+=h;var m=a/h;s[l++]=m,s[l++]=m+1,s[l++]=m+2,s[l++]=m+1,s[l++]=m+3,s[l++]=m+2},gr(o,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new o(0,0,0,0)}}]),o}(Jl),cf=function(){function i(n){this.graphicsPath=n,this.currentPoly=null,this.shapePrimitives=[]}var o=i.prototype;return o.buildPath=function(){this.currentPoly=null,this.shapePrimitives.length=0;for(var e=this.graphicsPath,t=Fe(e.instructions),r;!(r=t()).done;){var a=r.value,s=a.action,l=a.data;switch(s){case"bezierCurveTo":{this.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);break}case"moveTo":{this.moveTo(l[0],l[1]);break}case"ellipse":{this.ellipse(l[0],l[1],l[2],l[3],l[4]);break}case"polyStar":{this.polyStar(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);break}case"rect":{this.rect(l[0],l[1],l[2],l[3],l[4]);break}}}this.endPoly()},o.bezierCurveTo=function(e,t,r,a,s,l,u){this.ensurePoly();var h=this.currentPoly;return zs(h.points,h.lastX,h.lastY,e,t,r,a,s,l,u),this},o.moveTo=function(e,t){return this.startPoly(e,t),this},o.ellipse=function(e,t,r,a,s){return this.drawShape(new Hu(e,t,r,a),s),this},o.polyStar=function(e,t,r,a,s,l,u){return this.drawShape(new uf(e,t,r,a,s,l),u),this},o.rect=function(e,t,r,a,s){return this.drawShape(new Gu(e,t,r,a),s),this},o.drawShape=function(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this},o.startPoly=function(e,t){var r=this.currentPoly;return r&&this.endPoly(),r=new ku,r.points.push(e,t),this.currentPoly=r,this},o.endPoly=function(e){e===void 0&&(e=!1);var t=this.currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this.currentPoly=null,this},o.ensurePoly=function(e){this.currentPoly||(this.currentPoly=new ku,this.currentPoly.points.push(0,0))},i}(),ff=function(){function i(){this.instructions=[],this.dirty=!1}var o=i.prototype;return o.bezierCurveTo=function(e,t,r,a,s,l,u){return this.instructions.push({action:"bezierCurveTo",data:[e,t,r,a,s,l,u]}),this.dirty=!0,this},o.moveTo=function(e,t){return this.instructions.push({action:"moveTo",data:[e,t]}),this.dirty=!0,this},o.ellipse=function(e,t,r,a,s){return this.instructions.push({action:"ellipse",data:[e,t,r,a,s]}),this.dirty=!0,this},o.rect=function(e,t,r,a,s){return this.instructions.push({action:"rect",data:[e,t,r,a,s]}),this.dirty=!0,this},o.polyStar=function(e,t,r,a,s,l,u){return this.instructions.push({action:"polyStar",data:[e,t,r,a,s,l,u]}),this.dirty=!0,this},o.clear=function(){return this.instructions.length=0,this.dirty=!0,this},gr(i,[{key:"shapePath",get:function(){return this._shapePath||(this._shapePath=new cf(this)),this.dirty&&(this.dirty=!1,this._shapePath.buildPath()),this._shapePath}}]),i}(),eu=function(i){pe(o,i);function o(e){var t;if(t=i.call(this,e)||this,t.path=new ff,t.curveValues=[],t.animated=!0,t.vert=`
precision highp float;

attribute vec3 aPos;//x y

uniform mat4 effects_MatrixVP;
uniform mat4 effects_MatrixInvV;
uniform mat4 effects_ObjectToWorld;

void main() {
  vec4 pos = vec4(aPos.xyz, 1.0);
  gl_Position = effects_MatrixVP * effects_ObjectToWorld * pos;
}
`,t.frag=`
precision highp float;

uniform vec4 _Color;

void main() {
  vec4 color = _Color;
  color.rgb *= color.a;
  gl_FragColor = color;
}
`,t.geometry||(t.geometry=Cr.create(e,{attributes:{aPos:{type:D.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},aUV:{type:D.FLOAT,size:2,data:new Float32Array}},mode:D.TRIANGLES,drawCount:4})),!t.material){var r={shader:{vertex:t.vert,fragment:t.frag,glslVersion:oi.GLSL1}};t.material=Xn.create(e,r),t.material.setColor("_Color",new bn(1,1,1,1)),t.material.depthMask=!1,t.material.depthTest=!0,t.material.blending=!0}return t}var n=o.prototype;return n.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},n.onUpdate=function(t){this.animated&&(this.buildPath(this.data),this.buildGeometryFromPath(this.path.shapePath),this.animated=!1)},n.buildGeometryFromPath=function(t){for(var r=t.shapePrimitives,a=[],s=[],l=Fe(r),u;!(u=l()).done;){var h=u.value,m=h.shape,v=[],p=s.length,b=a.length/2;m.build(v),m.triangulate(v,a,b,s,p)}var x=a.length/2,I=this.geometry.getAttributeData("aPos"),B=this.geometry.getAttributeData("aUV"),F=this.geometry.getIndexData();(!I||I.length<x*3)&&(I=new Float32Array(x*3)),(!B||B.length<x*2)&&(B=new Float32Array(x*2)),F||(F=new Uint16Array(s.length));for(var R=0;R<x;R++){var X=R*3,k=R*2,H=R*2;I[X]=a[k],I[X+1]=a[k+1],I[X+2]=0,B[H]=I[X],B[H+1]=I[X+1]}F.set(s),this.geometry.setAttributeData("aPos",I),this.geometry.setAttributeData("aUV",B),this.geometry.setIndexData(F),this.geometry.setDrawCount(s.length)},n.buildPath=function(t){this.path.clear();var r=t;switch(r.type){case Ht.Custom:{var a=r,s=a.points,l=a.easingIns,u=a.easingOuts;this.curveValues=[];for(var h=Fe(a.shapes),m;!(m=h()).done;){var v=m.value;this.setFillColor(v.fill);for(var p=v.indexes,b=1;b<p.length;b++){var x=p[b],I=p[b-1];this.curveValues.push({point:s[x.point],controlPoint1:u[I.easingOut],controlPoint2:l[x.easingIn]})}this.curveValues.push({point:s[p[0].point],controlPoint1:u[p[p.length-1].easingOut],controlPoint2:l[p[0].easingIn]})}this.path.moveTo(this.curveValues[this.curveValues.length-1].point.x,this.curveValues[this.curveValues.length-1].point.y);for(var B=Fe(this.curveValues),F;!(F=B()).done;){var R=F.value,X=R.point,k=R.controlPoint1,H=R.controlPoint2;this.path.bezierCurveTo(k.x,k.y,H.x,H.y,X.x,X.y,1)}break}case Ht.Ellipse:{var ee=r;this.path.ellipse(0,0,ee.xRadius,ee.yRadius),this.setFillColor(ee.fill);break}case Ht.Rectangle:{var ie=r;this.path.rect(-ie.width/2,-ie.height/2,ie.width,ie.height),this.setFillColor(ie.fill);break}case Ht.Star:{var oe=r;this.path.polyStar(oe.pointCount,oe.outerRadius,oe.innerRadius,oe.outerRoundness,oe.innerRoundness,ol.Star),this.setFillColor(oe.fill);break}case Ht.Polygon:{var Qe=r;this.path.polyStar(Qe.pointCount,Qe.radius,Qe.radius,Qe.roundness,Qe.roundness,ol.Polygon),this.setFillColor(Qe.fill);break}}},n.setFillColor=function(t){if(t){var r=t.color;this.material.setColor("_Color",new bn(r.r,r.g,r.b,r.a))}},n.fromData=function(t){i.prototype.fromData.call(this,t),this.data=t;var r=this.material;r.stencilRef=t.renderer.mask!==void 0?[t.renderer.mask,t.renderer.mask]:void 0,ys(r,t.renderer.maskMode)},o}(eo);eu=te([it("ShapeComponent")],eu);var ya=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.loop=!1,e.amountOfMotion=1,e.animationLength=2,e.mode=1,e.startPositionX=0,e.startPositionY=0,e.startPositionZ=0,e.endPositionX=0,e.endPositionY=0,e.endPositionZ=0,e.amplitudeX=0,e.amplitudeY=0,e.amplitudeZ=0,e.phaseX=0,e.phaseY=0,e.phaseZ=0,e}var n=o.prototype;return n.onStart=function(){this.effectComponent=this.item.getComponent(N)},n.onUpdate=function(t){this.updateFake3D()},n.updateFake3D=function(){if(this.effectComponent){var t=this.item.time%this.animationLength/this.animationLength,r=0,a=0,s=0;switch(this.mode){case 0:{var l=Math.PI;r=Math.sin(2*l*(t+this.phaseX))*this.amplitudeX,a=Math.sin(2*l*(t+this.phaseY))*this.amplitudeY,s=Math.sin(2*l*(t+this.phaseZ))*this.amplitudeZ;break}case 1:{var u=t;this.loop&&(u>.5&&(u=1-u),u*=2),r=this.startPositionX*(1-u)+u*this.endPositionX,a=this.startPositionY*(1-u)+u*this.endPositionY,s=this.startPositionZ*(1-u)+u*this.endPositionZ;break}}var h=this.effectComponent.material;h.setFloat("_PosX",r*this.amountOfMotion),h.setFloat("_PosY",a*this.amountOfMotion),h.setFloat("_PosZ",s*this.amountOfMotion)}},o}(Jn);te([Br()],ya.prototype,"loop",void 0),te([Br()],ya.prototype,"amountOfMotion",void 0),te([Br()],ya.prototype,"animationLength",void 0),te([Br()],ya.prototype,"mode",void 0),te([Br()],ya.prototype,"startPositionX",void 0),te([Br()],ya.prototype,"startPositionY",void 0),te([Br()],ya.prototype,"startPositionZ",void 0),te([Br()],ya.prototype,"endPositionX",void 0),te([Br()],ya.prototype,"endPositionY",void 0),te([Br()],ya.prototype,"endPositionZ",void 0),te([Br()],ya.prototype,"amplitudeX",void 0),te([Br()],ya.prototype,"amplitudeY",void 0),te([Br()],ya.prototype,"amplitudeZ",void 0),te([Br()],ya.prototype,"phaseX",void 0),te([Br()],ya.prototype,"phaseY",void 0),te([Br()],ya.prototype,"phaseZ",void 0),ya=te([it("Fake3DComponent")],ya);var ho;(function(i){i[i.Circular=0]="Circular",i[i.Linear=1]="Linear"})(ho||(ho={}));var tu=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,t&&r.fromData(t),r}var n=o.prototype;return n.onUpdate=function(){if(this.item.composition&&this.item.transform.getValid()){var t=this.item.composition.camera;t.near=this.options.near,t.far=this.options.far,t.fov=this.options.fov,t.clipMode=this.options.clipMode,t.position=this.transform.getWorldPosition(),t.rotation=this.transform.getWorldRotation()}},n.fromData=function(t){i.prototype.fromData.call(this,t),this.options=t.options},o}(Si);tu=te([it(Ct.CameraController)],tu);var Wu=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o}(mr),xo;(function(i){i[i.triangle=1]="triangle",i[i.box=2]="box",i[i.sphere=3]="sphere",i[i.custom=4]="custom"})(xo||(xo={}));var ru="click",hf="touchstart",df="touchmove",Zu="touchend",Xu=function(){function i(n,e){e===void 0&&(e=!1),this.target=n,this.allowPropagation=e,this.enabled=!0,this.handlers={},this.nativeHandlers={}}var o=i.prototype;return o.bindListeners=function(){var e=this,t,r,a,s,l;l=function(b){return b};var u="mousedown",h="mousemove",m="mouseup",v=function(b,x,I,B,F){B===void 0&&(B=0),F===void 0&&(F=0);var R=0,X=0,k=performance.now();if(!e.target)return ke.error("Trigger TouchEvent after EventSystem is disposed."),{x,y:I,vx:0,vy:X,dx:B,dy:F,ts:k,width:0,height:0,origin:b};var H=e.target,ee=H.width,ie=H.height;if(s){var oe=k-s.ts;R=(B-s.dx)/oe||0,X=(F-s.dy)/oe||0,s={dx:B,dy:F,ts:k}}return{x,y:I,vx:R,vy:X,dx:B,dy:F,ts:k,width:ee,height:ie,origin:b}};xt()&&(l=function(b){var x=b.touches,I=b.changedTouches;return x[0]||I[0]},u="touchstart",h="touchmove",m="touchend");var p;this.nativeHandlers=(p={},p[u]=function(b){if(e.enabled){var x=l(b),I=Il(x);t=I.x,r=I.y,s=a={clientX:x.clientX,clientY:x.clientY,ts:performance.now(),x:t,y:r},e.dispatchEvent(hf,v(b,t,r))}},p[h]=function(b){if(a&&e.enabled){var x=Il(l(b));t=x.x,r=x.y,e.dispatchEvent(df,v(b,t,r,t-a.x,r-a.y))}},p[m]=function(b){if(a&&e.enabled){!e.allowPropagation&&b.cancelable&&(b.preventDefault(),b.stopPropagation());var x=l(b),I=Il(x),B=Math.abs(a.clientX-x.clientX)+Math.abs(a.clientY-x.clientY);t=I.x,r=I.y,B<4&&e.dispatchEvent(ru,v(b,t,r)),e.dispatchEvent(Zu,v(b,t,r,t-a.x,r-a.y))}a=0},p),Object.keys(this.nativeHandlers).forEach(function(b){var x;(x=e.target)==null||x.addEventListener(String(b),e.nativeHandlers[b])})},o.dispatchEvent=function(e,t){var r=this.handlers[e];r==null||r.forEach(function(a){return a(t)})},o.addEventListener=function(e,t){var r=this.handlers[e];return r||(r=this.handlers[e]=[]),rt(r,t),function(){fe(r,t)}},o.removeEventListener=function(e,t){var r=this.handlers[e];r&&fe(r,t)},o.dispose=function(){var e=this;this.target&&(this.handlers={},Object.keys(this.nativeHandlers).forEach(function(t){var r;(r=e.target)==null||r.removeEventListener(String(t),e.nativeHandlers[t])}),this.nativeHandlers={},this.target=null)},i}();function Il(i){var o=i.target,n=i.clientX,e=i.clientY,t=o.getBoundingClientRect(),r=t.left,a=t.top,s=t.width,l=t.height,u=(n-r)/s*2-1,h=1-(e-a)/l*2;return{x:u,y:h}}var Yu=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o}(mr),mf=`
precision highp float;

attribute vec2 aPoint;
uniform vec4 uPos;
uniform vec2 uSize;
uniform vec4 uQuat;
uniform vec4 uColor;
uniform mat4 effects_ObjectToWorld;
uniform mat4 effects_MatrixInvV;
uniform mat4 effects_MatrixVP;
varying vec4 vColor;
#ifdef ENV_EDITOR
  uniform vec4 uEditorTransform;
#endif

vec3 rotateByQuat(vec3 a, vec4 quat){
  vec3 qvec = quat.xyz;
  vec3 uv = cross(qvec, a);
  vec3 uuv = cross(qvec, uv) * 2.;
  return a +(uv * 2. * quat.w + uuv);
}

void main() {
  vec4 _pos = uPos;
  vec3 point = rotateByQuat(vec3(aPoint.xy * uSize, 0.),uQuat);
  vec4 pos = vec4(_pos.xyz, 1.0);
  pos = effects_ObjectToWorld * pos;
  pos.xyz += effects_MatrixInvV[0].xyz * point.x+ effects_MatrixInvV[1].xyz * point.y;
  gl_Position = effects_MatrixVP * pos;
  vColor = uColor;
  #ifdef ENV_EDITOR
    gl_Position = vec4(gl_Position.xy * uEditorTransform.xy + uEditorTransform.zw * gl_Position.w, gl_Position.zw);
  #endif
}
`,Ku=`
precision highp float;

#define fragColor gl_FragColor

varying vec4 vColor;
void main() {
  gl_FragColor = vColor*vColor.a;
}
`,Qu=1,Ju=function(){function i(n,e,t,r){this.transform=t,this.engine=r,this.color=n.options.previewColor;var a=this.createMaterial(e),s=this.createGeometry();this.mesh=this.createMesh(s,a),this.updateMesh()}var o=i.prototype;return o.updateMesh=function(){var e=this.mesh.material,t=e.getVector2("uSize").clone(),r=e.getVector4("uPos").clone(),a=new Ie,s=new Nt,l=this.transform.scale.clone();this.transform.assignWorldTRS(a,s,l),t.x=l.x,t.y=l.y,r.x=a.x,r.y=a.y,r.z=a.z,e.setVector2("uSize",t),e.setVector4("uPos",r),e.setQuaternion("uQuat",s)},o.createMaterial=function(e){var t,r=[["ENV_EDITOR",((t=this.engine.renderer)==null?void 0:t.env)===Mo]],a=lr(this.color).getValue(0),s={shader:{vertex:mf,fragment:Ku,glslVersion:oi.GLSL1,cacheId:""+e.cachePrefix+"_effects_interact",macros:r},uniformSemantics:{effects_MatrixVP:"VIEWPROJECTION",effects_MatrixInvV:"VIEWINVERSE",effects_ObjectToWorld:"MODEL",uEditorTransform:"EDITOR_TRANSFORM"}},l=Xn.create(this.engine,s);return l.blending=!0,l.depthTest=!1,l.setVector4("uPos",new Bn(0,0,0,0)),l.setVector2("uSize",new Ln(1,1)),l.setVector4("uColor",new Bn(a[0]/255,a[1]/255,a[2]/255,a[3])),l.setQuaternion("uQuat",new Nt(0,0,0,0)),l},o.createGeometry=function(){var e=new Uint8Array([0,1,1,2,2,3,3,0]);return Cr.create(this.engine,{attributes:{aPoint:{size:2,offset:0,stride:2*Float32Array.BYTES_PER_ELEMENT,data:new Float32Array([-.5,.5,.5,.5,.5,-.5,-.5,-.5])}},drawCount:e.length,indices:{data:e},mode:D.LINES,maxVertex:4})},o.createMesh=function(e,t){return aa.create(this.engine,{name:"Interact_preview"+Qu++,priority:0,worldMatrix:yr.fromIdentity(),geometry:e,material:t})},i}(),nu=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.downgrade=.95,e.dragRatio=[1,1],e.dragRange={dxRange:[0,0],dyRange:[0,0]},e.duringPlay=!1,e._interactive=!0,e.getHitTestParams=function(t){if(e.clickable){var r=e.item.props.content.options.behavior,a=e.getBoundingBox();if(a)return{type:a.type,triangles:a.area,behavior:r}}},e}var n=o.prototype;return n.getDragRangeX=function(){return this.dragRange.dxRange},n.setDragRangeX=function(t,r){this.dragRange.dxRange=[t,r]},n.getDragRangeY=function(){return this.dragRange.dyRange},n.setDragRangeY=function(t,r){this.dragRange.dyRange=[t,r]},n.onStart=function(){var t=this.item.props.content.options,r=this.item.engine.renderer.env,a=this.item.composition,s=this.interactData.options,l=s.type,u=s.showPreview;if(l===jr.CLICK&&(this.clickable=!0,u&&r===Mo)){var h=a==null?void 0:a.getRendererOptions();h!==void 0&&(this.previewContent=new Ju(this.item.props.content,h,this.transform,this.engine))}t.type===jr.DRAG&&(r!==Mo||t.enableInEditor)&&a!=null&&a.event&&this.beginDragTarget(t,a.event),this.previewContent&&(this.previewContent.mesh.item=this.item,this.materials=this.previewContent.mesh.materials),this.item.getHitTestParams=this.getHitTestParams},n.onDisable=function(){i.prototype.onDisable.call(this),this.item&&this.item.composition&&(this.duringPlay&&!this.item.transform.getValid()&&(this.item.composition.removeInteractiveItem(this.item,this.item.props.content.options.type),this.duringPlay=!1),this.clickable=!1,this.endDragTarget())},n.onEnable=function(){i.prototype.onEnable.call(this);var t=this.interactData.options.type;t===jr.CLICK&&(this.clickable=!0)},n.onUpdate=function(t){var r;if(this.duringPlay=!0,this.item.time>0&&this.item.time-t/1e3<=0){var a,s=this.item.props.content.options;(a=this.item.composition)==null||a.addInteractiveItem(this.item,s.type)}(r=this.previewContent)==null||r.updateMesh(),!(!this.dragEvent||!this.bouncingArg)&&(this.bouncingArg.vx*=this.downgrade,this.bouncingArg.vy*=this.downgrade,this.bouncingArg.dy+=this.bouncingArg.vy,this.bouncingArg.dx+=this.bouncingArg.vx,qu(this.bouncingArg)?(this.dragEvent=null,this.bouncingArg=null):this.handleDragMove(this.dragEvent,this.bouncingArg))},n.render=function(t){this.previewContent&&this.previewContent.mesh.render(t)},n.onDestroy=function(){var t;(t=this.previewContent)==null||t.mesh.dispose()},n.endDragTarget=function(){},n.handleDragMove=function(t,r){if(!(!(t!=null&&t.cameraParam)||!this.canInteract()||!this.item.composition)){var a=t.cameraParam,s=a.position,l=a.fov,u=r.dy,h=r.dx*r.width/r.height,m=s[2],v=Math.tan(l*Math.PI/180/2)*Math.abs(m),p=u*v,b=h*v,x=this.dragRange,I=x.dxRange,B=x.dyRange,F=s[0]-this.dragRatio[0]*b,R=s[1]-this.dragRatio[1]*p,X=I[0],k=I[1],H=B[0],ee=B[1];if(F=ai(F,X,k),R=ai(R,H,ee),F!==X&&F!==k&&X!==k){var ie;(ie=r.origin)==null||ie.preventDefault()}if(R!==H&&R!==ee&&H!==ee){var oe;(oe=r.origin)==null||oe.preventDefault()}this.item.composition.camera.position=new Ie(F,R,m)}},n.beginDragTarget=function(t,r){var a=this;if(t.target==="camera"){var s,l={touchstart:function(u){var h;if(a.canInteract()){a.dragEvent=null,a.bouncingArg=null;var m=(h=a.item.composition)==null?void 0:h.camera;s={x:u.x,y:u.y,cameraParam:{position:(m==null?void 0:m.position.toArray())||[0,0,8],fov:(m==null?void 0:m.fov)||60}}}},touchmove:function(u){a.handleDragMove(s,u),a.bouncingArg=u},touchend:function(u){if(a.canInteract()){var h=a.bouncingArg;if(!qu(h,3)&&h){var m=5;h.vx*=m,h.vy*=m,a.dragEvent=Zr({},s)}s=null}}};Object.keys(l).forEach(function(u){r.addEventListener(u,l[u])}),l.touchmove({dx:0,dy:0,width:1,height:1}),this.item.getComponent(o).endDragTarget=function(){Object.keys(l).forEach(function(u){r.removeEventListener(u,l[u])})}}},n.getBoundingBox=function(){var t=this.transform.getWorldMatrix(),r=_s(Ie.ZERO,.5*this.transform.size.x,.5*this.transform.size.y);return r.forEach(function(a){t.transformPoint(a.p0),t.transformPoint(a.p1),t.transformPoint(a.p2)}),{type:xo.triangle,area:r}},n.fromData=function(t){if(i.prototype.fromData.call(this,t),this.interactData=t,t.options.type===jr.DRAG){var r=t.options;r.dxRange&&(this.dragRange.dxRange=r.dxRange),r.dyRange&&(this.dragRange.dyRange=r.dyRange)}},n.canInteract=function(){var t;return!!((t=this.item.composition)!=null&&t.interactive)&&this._interactive},gr(o,[{key:"interactive",get:function(){return this._interactive},set:function(t){this._interactive=t,t||(this.bouncingArg=null)}}]),o}(ea);nu=te([it(Ct.InteractComponent)],nu);function qu(i,o){var n=1e-5*(o||1);return i&&Math.abs(i.vx||0)<n&&Math.abs(i.vy||0)<n}var vf=function(){function i(){this.triangles=[],this.worldMatrix=new yr}var o=i.prototype;return o.getBoundingBoxData=function(){return this.applyWorldMatrix(this.boundingBoxData.area),this.boundingBoxData},o.getBoundingBox=function(){for(var e=-Number.MAX_VALUE,t=-Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,s=Fe(this.boundingBoxData.area),l;!(l=s()).done;){var u=l.value;e=Math.max(u.p0.x,u.p1.x,u.p2.x,e),t=Math.max(u.p0.y,u.p1.y,u.p2.y,t),r=Math.min(u.p0.x,u.p1.x,u.p2.x,r),a=Math.min(u.p0.y,u.p1.y,u.p2.y,a)}var h=[],m=new Ie(r,t,0),v=new Ie(e,t,0),p=new Ie(e,a,0),b=new Ie(r,a,0);return h.push({p0:m,p1:v,p2:p}),h.push({p0:m,p1:p,p2:b}),this.applyWorldMatrix(h),{type:xo.triangle,area:h}},o.setGeometry=function(e,t){this.geometry!==e&&(this.triangles=this.geometryToTriangles(e),this.geometry=e);for(var r=[],a=Fe(this.triangles),s;!(s=a()).done;){var l=s.value;r.push({p0:l.p0,p1:l.p1,p2:l.p2})}t&&this.worldMatrix.copyFrom(t),this.boundingBoxData={type:xo.triangle,area:r}},o.geometryToTriangles=function(e){for(var t,r=(t=e.getIndexData())!=null?t:[],a,s=(a=e.getAttributeData("aPos"))!=null?a:[],l=[],u=0;u<r.length;u+=3){var h=r[u]*3,m=r[u+1]*3,v=r[u+2]*3,p={x:s[h],y:s[h+1],z:s[h+2]},b={x:s[m],y:s[m+1],z:s[m+2]},x={x:s[v],y:s[v+1],z:s[v+2]};l.push({p0:p,p1:b,p2:x})}return l},o.applyWorldMatrix=function(e){var t=this;return e.forEach(function(r){r.p0=t.worldMatrix.transformPoint(r.p0,new Ie),r.p1=t.worldMatrix.transformPoint(r.p1,new Ie),r.p2=t.worldMatrix.transformPoint(r.p2,new Ie)}),e},i}(),Bo=8;function sl(i){if(i.maxVertexUniforms>=256)return Bo=32;if(i.maxVertexUniforms>=128)return Bo=16}function iu(i,o){var n=o!=null?o:{},e=n.env,t=e===void 0?"":e,r=n.wireframe,a=[["ENV_EDITOR",t===Mo]],s=r?Wa:Da,l=Xo;return{fragment:s,vertex:l,glslVersion:i===1?oi.GLSL1:oi.GLSL3,macros:a,shared:!0}}function pf(i,o){return i.cachePrefix+"_effects_sprite_"+o}function Pl(i,o,n,e){var t=i.wireframe,r=iu(n,{wireframe:t,env:e});return r.shared=!0,r}function Ah(i){Bo=i}var ll={blending:0,cacheId:"-",mask:0,maskMode:0,occlusion:!1,side:0,cachePrefix:"-"},ec=function(i){pe(o,i);function o(){var n;return n=i.apply(this,arguments)||this,n.name="sprite",n}return o.precompile=function(e,t,r){var a=t.getShaderLibrary(),s=t.engine.gpuCapability,l=s.level,u=s.detail,h=(r!=null?r:{}).env;return a!=null&&a.shaderResults[pf(ll,2)]||(a==null||a.addShader(Pl(ll,2,1,h)),a==null||a.addShader(Pl(ll,Bo,1,h)),u.writableFragDepth&&(a==null||a.addShader(uo(l,!0)))),Promise.resolve()},o}(mr),tc=function(){function i(){this.playableOutputs=[],this.playables=[]}var o=i.prototype;return o.evaluate=function(e){for(var t=Fe(this.playableOutputs),r;!(r=t()).done;){var a=r.value;a.context.deltaTime=e}for(var s=Fe(this.playableOutputs),l;!(l=s()).done;){var u=l.value;this.prepareFrameWithRoot(u)}for(var h=Fe(this.playableOutputs),m;!(m=h()).done;){var v=m.value;this.processFrameWithRoot(v)}},o.addOutput=function(e){this.playableOutputs.push(e)},o.addPlayable=function(e){this.playables.push(e)},o.processFrameWithRoot=function(e){e.sourcePlayable.processFrame(e.context),e.processFrame()},o.prepareFrameWithRoot=function(e){e.prepareFrame(),e.sourcePlayable.prepareFrame(e.context)},o.updatePlayableTime=function(e,t){e.getPlayState()===0&&e.setTime(e.getTime()+t)},i}(),zo=function(){function i(n,e){this.onPlayablePlayFlag=!0,this.onPlayablePauseFlag=!1,this.duration=0,this.destroyed=!1,this.playState=0,this.time=0,n.addPlayable(this)}var o=i.prototype;return o.play=function(){switch(this.playState){case 0:break;case 1:this.playState=0,this.onPlayablePlayFlag=!0,this.onPlayablePauseFlag=!1;break}},o.pause=function(){switch(this.playState){case 0:this.playState=1,this.onPlayablePauseFlag=!0,this.onPlayablePlayFlag=!1;break}},o.setTime=function(e){this.time=e},o.getTime=function(){return this.time},o.setDuration=function(e){this.duration=e},o.getDuration=function(){return this.duration},o.getPlayState=function(){return this.playState},o.prepareFrame=function(e){},o.processFrame=function(e){},o.onPlayableDestroy=function(){},o.dispose=function(){this.destroyed||(this.onPlayableDestroy(),this.destroyed=!0)},i}(),gf=function(){function i(){this.context={deltaTime:0,output:this}}var o=i.prototype;return o.setSourcePlayable=function(e){this.sourcePlayable=e},o.setUserData=function(e){this.userData=e},o.getUserData=function(){return this.userData},o.prepareFrame=function(){},o.processFrame=function(){},i}(),Uo=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o}(wn),Rl;(function(i){i[i.Playing=0]="Playing",i[i.Paused=1]="Paused"})(Rl||(Rl={}));var yf=new Nt,rc=1,ul=function(){function i(n,e){n===void 0&&(n={}),this.taggedProperties={},this.position=new Ie(0,0,0),this.quat=new Nt(0,0,0,1),this.rotation=new Er(0,0,0),this.scale=new Ie(1,1,1),this.anchor=new Ie(0,0,0),this.size=new Ln(1,1),this.children=[],this.worldMatrix=yr.fromIdentity(),this.localMatrix=yr.fromIdentity(),this.valid=!0,this.dirtyFlags={localData:!1,localMatrix:!1,worldMatrix:!1,parentMatrix:!1},this.worldTRSCache={position:new Ie(0,0,0),quat:new Nt(0,0,0,1),scale:new Ie(1,1,1)},this.name="transform_"+rc++,n&&this.setTransform(n),e&&(this.parentTransform=e),n.valid!==void 0&&this.setValid(n.valid)}var o=i.prototype;return o.setPosition=function(e,t,r){(this.position.x!==e||this.position.y!==t||this.position.z!==r)&&(this.position.x=e,this.position.y=t,this.position.z=r,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.translate=function(e,t,r){(e!==0||t!==0||r!==0)&&(this.position.x+=e,this.position.y+=t,this.position.z+=r,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setRotation=function(e,t,r){(this.rotation.x!==e||this.rotation.y!==t||this.rotation.z!==r)&&(this.rotation.x=e,this.rotation.y=t,this.rotation.z=r,this.quat.setFromEuler(this.rotation),this.quat.conjugate(),this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setQuaternion=function(e,t,r,a){(this.quat.x!==e||this.quat.y!==t||this.quat.z!==r||this.quat.w!==a)&&(this.quat.x=e,this.quat.y=t,this.quat.z=r,this.quat.w=a,this.rotation.setFromQuaternion(this.quat),this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setScale=function(e,t,r){(this.scale.x!==e||this.scale.y!==t||this.scale.z!==r)&&(this.scale.x=e,this.scale.y=t,this.scale.z=r,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setSize=function(e,t){(this.size.x!==e||this.size.y!==t)&&(this.size.x=e,this.size.y=t,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.rotateByQuat=function(e){this.quat.multiply(e),this.rotation.setFromQuaternion(this.quat),this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.scaleBy=function(e,t,r){this.scale.x*=e,this.scale.y*=t,this.scale.z*=r,this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.setAnchor=function(e,t){(this.anchor.x!==e||this.anchor.y!==t)&&(this.anchor.x=e,this.anchor.y=t,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setTransform=function(e,t){var r=e.position,a=e.rotation,s=e.scale,l=e.size,u=e.quat,h=e.name,m=e.anchor;if(h&&(this.name=h),r&&(U(r,Ie)?this.setPosition(r.x,r.y,r.z):this.setPosition(r[0],r[1],r[2])),u)U(u,Nt)?this.setQuaternion(u.x,u.y,u.z,u.w):this.setQuaternion(u[0],u[1],u[2],u[3]);else if(a){var v=t?-1:1;U(a,Er)?this.setRotation(a.x*v,a.y*v,a.z*v):this.setRotation(a[0]*v,a[1]*v,a[2]*v)}s&&(U(s,Ie)?this.setScale(s.x,s.y,s.z):this.setScale(s[0],s[1],s[2])),l&&this.setSize(l.x,l.y),m&&(U(m,Ln)?this.setAnchor(m.x,m.y):this.setAnchor(m[0],m[1]))},o.addChild=function(e){rt(this.children,e)},o.removeChild=function(e){fe(this.children,e)},o.getRotation=function(){return i.getRotation(this.quat,new Er)},o.getQuaternion=function(){return this.quat},o.updateLocalMatrix=function(){this.valid?(this.dirtyFlags.localData&&(this.localMatrix.compose(this.position,this.quat,this.scale,this.anchor),this.dirtyFlags.localMatrix=!0),this.dirtyFlags.localData=!1):this.localMatrix.isIdentity()||(this.localMatrix.identity(),this.dirtyFlags.localMatrix=!0)},o.getMatrix=function(){return this.updateLocalMatrix(),this.localMatrix},o.getParentMatrix=function(){return this.parent&&(this.parentMatrix=this.parent.getWorldMatrix(),this.dirtyFlags.parentMatrix=this.dirtyFlags.parentMatrix||this.parent.dirtyFlags.localMatrix||this.parent.dirtyFlags.worldMatrix),this.parentMatrix},o.getWorldMatrix=function(){var e=this.getMatrix(),t=this.getParentMatrix();return(this.dirtyFlags.localMatrix||this.dirtyFlags.parentMatrix)&&(t?this.worldMatrix.multiplyMatrices(t,e):this.worldMatrix.copyFrom(e),this.dirtyFlags.worldMatrix=!0,this.dirtyFlags.localMatrix=!1,this.dirtyFlags.parentMatrix=!1),this.worldMatrix},o.getWorldScale=function(){var e=this.worldTRSCache;if(this.dirtyFlags.worldMatrix){var t=this.getWorldMatrix();t.decompose(e.position,e.quat,e.scale),this.dirtyFlags.worldMatrix=!1}return this.worldTRSCache.scale.clone()},o.getWorldPosition=function(){return this.updateTRSCache(),this.worldTRSCache.position.clone()},o.getWorldRotation=function(){return this.updateTRSCache(),i.getRotation(this.worldTRSCache.quat,new Er)},o.assignWorldTRS=function(e,t,r){this.updateTRSCache(),e&&e.copyFrom(this.worldTRSCache.position),t&&t.copyFrom(this.worldTRSCache.quat),r&&r.copyFrom(this.worldTRSCache.scale)},o.cloneFromMatrix=function(e,t){e.decompose(this.position,this.quat,this.scale),t&&t.copyFrom(this.scale),this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.setValid=function(e){this.valid!==e&&(this.valid=e,e?this.dirtyFlags.localData=!0:(this.localMatrix.identity(),this.dirtyFlags.localMatrix=!0),this.dispatchValueChange())},o.getValid=function(){return this.valid},o.toData=function(){var e=this.taggedProperties;return e.position=this.position.clone(),e.eulerHint={x:this.rotation.x,y:this.rotation.y,z:this.rotation.z},e.scale=this.scale.clone(),e},o.fromData=function(e){var t={position:new Ie().copyFrom(e.position),rotation:new Er(e.eulerHint.x,e.eulerHint.y,e.eulerHint.z),scale:new Ie().copyFrom(e.scale)};this.setTransform(t)},o.dispose=function(){},o.updateTRSCache=function(){var e=this.getWorldMatrix();if(this.dirtyFlags.worldMatrix){var t=this.worldTRSCache;e.decompose(t.position,t.quat,t.scale),this.dirtyFlags.worldMatrix=!1}},o.dispatchValueChange=function(){this.children.forEach(function(e){e.parentMatrixDirty=!0})},i.getRotation=function(e,t){var r=yf.copyFrom(e);return r.conjugate(),t.setFromQuaternion(r)},gr(i,[{key:"parentTransform",get:function(){return this.parent},set:function(e){!e||this.parent===e||this===e||(this.parent&&this.parent.removeChild(this),e.addChild(this),this.parent=e,this.parentMatrixDirty=!0)}},{key:"parentMatrixDirty",get:function(){return this.dirtyFlags.parentMatrix},set:function(e){this.dirtyFlags.parentMatrix!==e&&(this.dirtyFlags.parentMatrix=e,this.dispatchValueChange())}}]),i}(),au=function(){var o=this,n=this;this.listeners={},this.off=function(e,t){o.listeners[e]&&(o.listeners[e]=o.listeners[e].filter(function(r){var a=r.listener;return a!==t}))},this.on=function(e,t,r){return o.listeners[e]=o.listeners[e]||[],o.listeners[e].push({listener:t,options:r}),function(){return o.off(e,t)}},this.once=function(e,t){o.on(e,t,{once:!0})},this.emit=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s;(s=n.listeners[e])==null||s.forEach(function(l){var u=l.listener,h=l.options;u.apply(void 0,[].concat(r)),h!=null&&h.once&&n.off(e,u)})},this.getListeners=function(e){var t;return((t=o.listeners[e])==null?void 0:t.map(function(r){var a=r.listener;return a}))||[]}},_i=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.children=[],r.transform=new ul,r.time=0,r.duration=0,r.start=0,r.endBehavior=Se.forward,r.type=ze.base,r.isDuringPlay=!1,r.components=[],r.rendererComponents=[],r.active=!0,r.visible=!0,r.speed=1,r.listIndex=0,r.isEnabled=!1,r.eventProcessor=new au,r.name="VFXItem",r.transform.name=r.name,r.transform.engine=e,t&&r.fromData(t),r}var n=o.prototype;return n.on=function(t,r,a){this.eventProcessor.on(t,r,a)},n.off=function(t,r){this.eventProcessor.off(t,r)},n.once=function(t,r){this.eventProcessor.once(t,r)},n.emit=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var l;(l=this.eventProcessor).emit.apply(l,[].concat([t],a))},n.getListeners=function(t){return this.eventProcessor.getListeners(t)},n.setSpeed=function(t){this.speed=t},n.getSpeed=function(){return this.speed},n.addComponent=function(t){var r=new t(this.engine);return this.components.push(r),r.setVFXItem(this),r},n.getComponent=function(t){for(var r,a=Fe(this.components),s;!(s=a()).done;){var l=s.value;if(U(l,t)){r=l;break}}return r},n.getComponents=function(t){for(var r=[],a=Fe(this.components),s;!(s=a()).done;){var l=s.value;U(l,t)&&r.push(l)}return r},n.setParent=function(t){t===this&&!t||(this.parent&&fe(this.parent.children,this),this.parent=t,o.isCamera(this)||(this.transform.parentTransform=t.transform),t.children.push(this),this.composition||(this.composition=t.composition),!this.isDuringPlay&&t.isDuringPlay&&this.beginPlay())},n.setColor=function(t,r,a,s){},n.setOpacity=function(t){},n.setActive=function(t){this.active!==t&&(this.active=!!t,this.onActiveChanged())},n.setVisible=function(t){for(var r=Fe(this.components),a;!(a=r()).done;){var s=a.value;s.enabled=t}this.visible=t},n.getVisible=function(){return this.visible},n.getWorldTransform=function(t){var r=t!=null?t:new ul({valid:!0});return r.cloneFromMatrix(this.transform.getWorldMatrix()),r},n.translate=function(t,r,a){this.transform.translate(t,r,a)},n.rotate=function(t,r,a){var s=new Er(t,r,a),l=Nt.fromEuler(s);l.conjugate(),this.transform.rotateByQuat(l)},n.scale=function(t,r,a){this.transform.scaleBy(t,r,a)},n.setPositionByPixel=function(t,r){if(this.composition){var a=this.transform.getWorldPosition().z,s=this.composition.camera.getInverseVPRatio(a),l=s.x,u=s.y,h=this.composition.renderer.getWidth()/2,m=this.composition.renderer.getHeight()/2;this.transform.setPosition((2*t/h-1)*l,(1-2*r/m)*u,a)}},n.setPosition=function(t,r,a){this.transform.setPosition(t,r,a)},n.setRotation=function(t,r,a){this.transform.setRotation(t,r,a)},n.setScale=function(t,r,a){this.transform.setScale(t,r,a)},n.getBoundingBox=function(){},n.getHitTestParams=function(t){},n.getCurrentPosition=function(){var t=new Ie;return this.transform.assignWorldTRS(t),t},n.find=function(t){var r;if(this.name===t)return this;var a=[];(r=a).push.apply(r,[].concat(this.children));for(var s=0;s<a.length;){var l,u=a[s];if(s++,u.name===t)return u;(l=a).push.apply(l,[].concat(u.children))}},n.beginPlay=function(){this.isDuringPlay=!0,this.composition&&this.active&&!this.isEnabled&&this.onEnable();for(var t=Fe(this.children),r;!(r=t()).done;){var a=r.value;a.isDuringPlay||a.beginPlay()}},n.onActiveChanged=function(){this.isEnabled?this.onDisable():this.onEnable()},n.onEnable=function(){this.isEnabled=!0;for(var t=Fe(this.components),r;!(r=t()).done;){var a=r.value;a.enabled&&!a.isStartCalled&&(a.onStart(),a.isStartCalled=!0)}for(var s=Fe(this.components),l;!(l=s()).done;){var u=l.value;u.enabled&&!u.isEnableCalled&&u.enable()}},n.onDisable=function(){this.isEnabled=!1;for(var t=Fe(this.components),r;!(r=t()).done;){var a=r.value;a.enabled&&a.isEnableCalled&&a.disable()}},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t.id,a=t.name,s=t.delay,l=t.parentId,u=t.endBehavior,h=t.transform,m=t.duration,v=m===void 0?0:m;if(this.props=t,this.type=t.type,this.id=r.toString(),this.name=a,this.start=s||this.start,h){if(h.position=new Ie().copyFrom(h.position),h.quat)h.quat=new Nt(h.quat.x,h.quat.y,h.quat.z,h.quat.w);else{var p;h.rotation=new Er().copyFrom((p=h.eulerHint)!=null?p:h.rotation)}h.scale=new Ie().copyFrom(h.scale),h.size&&(h.size=new Ln().copyFrom(h.size)),h.anchor&&(h.anchor=new Ln().copyFrom(h.anchor)),this.transform.setTransform(h)}if(this.transform.name=this.name,this.transform.engine=this.engine,this.parentId=l,this.duration=v,this.endBehavior=u,t.content||(t.content={options:{}}),v<0)throw new Error("Item duration can't be less than 0, see "+al["Item duration can't be less than 0"]+".");this.rendererComponents.length=0;for(var b=Fe(this.components),x;!(x=b()).done;){var I=x.value;I.item=this,U(I,ea)&&this.rendererComponents.push(I),U(I,ds)&&(this.components.includes(I.renderer)||this.components.push(I.renderer),this.rendererComponents.push(I.renderer))}},n.toData=function(){var t;if(this.taggedProperties.id=this.guid,this.taggedProperties.transform=this.transform.toData(),this.taggedProperties.dataType=Ct.VFXItemData,((t=this.parent)==null?void 0:t.name)!=="rootItem"){var r;this.taggedProperties.parentId=(r=this.parent)==null?void 0:r.guid}if(!this.taggedProperties.components){this.taggedProperties.components=[];for(var a=Fe(this.components),s;!(s=a()).done;){var l=s.value;U(l,N)&&this.taggedProperties.components.push(l)}}this.taggedProperties.content={}},n.translateByPixel=function(t,r){if(this.composition){var a=this.composition.renderer.canvas.getBoundingClientRect(),s=a.width,l=a.height,u=this.transform.getWorldPosition().z,h=this.composition.camera.getInverseVPRatio(u),m=h.x,v=h.y;this.transform.translate(2*t*m/s,-2*r*v/l,0)}},n.dispose=function(){if(this.resetChildrenParent(),this.composition){this.composition.destroyItem(this);for(var t=Fe(this.components.slice()),r;!(r=t()).done;){var a=r.value;a.dispose()}this.components=[],this._content=void 0,this.composition=null,this.transform.setValid(!1)}},n.resetChildrenParent=function(){for(var t=Fe(this.children),r;!(r=t()).done;){var a=r.value;this.parent&&a.setParent(this.parent)}if(this.parent){var s;fe((s=this.parent)==null?void 0:s.children,this)}},o.isComposition=function(t){return t.type===ze.composition},o.isSprite=function(t){return t.type===ze.sprite},o.isParticle=function(t){return t.type===ze.particle},o.isNull=function(t){return t.type===ze.null},o.isTree=function(t){return t.type===ze.tree},o.isCamera=function(t){return t.type===ze.camera},o.isAncestor=function(t,r){for(var a=r.parent;a;){if(a===t)return!0;a=a.parent}return!1},gr(o,[{key:"content",get:function(){return this._content}},{key:"compositionReusable",get:function(){var t,r;return(r=(t=this.composition)==null?void 0:t.reusable)!=null?r:!1}},{key:"renderOrder",get:function(){return this.listIndex},set:function(t){if(this.listIndex!==t){this.listIndex=t;for(var r=Fe(this.rendererComponents),a;!(a=r()).done;){var s=a.value;s.priority=t}}}},{key:"isActive",get:function(){return this.active}},{key:"isVisible",get:function(){return this.visible}}]),o}(wn);te([Br()],_i.prototype,"components",void 0),_i=te([it(Ct.VFXItemData)],_i);var ou;(function(i){function o(r,a){return r.type===a}i.is=o;function n(r){return r.type===ze.composition}i.isComposition=n;function e(r){return r.type===ze.particle}i.isParticle=e;function t(r){return r.type===ze.null}i.isNull=t})(ou||(ou={}));var bf=[1,1,1,1],xf=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.renderColor=[1,1,1,1],e}var n=o.prototype;return n.processFrame=function(t){var r,a=t.output.getUserData();if(U(a,_i)){if(this.activeComponent||(this.activeComponent=this.getActiveComponent(a)),!this.activeMaterial){var s,l;this.activeMaterial=(s=this.activeComponent)==null?void 0:s.material;var u=(l=this.activeMaterial)==null?void 0:l.getVector4("_Color");u&&(this.startColor=u.toArray())}(r=this.activeComponent)==null||r.setAnimationTime(this.time);var h=xl(bf,1),m,v=this.time/a.duration,p=this.opacityOverLifetime,b=this.colorOverLifetime;if(b&&(h=tt(b,v,!0),m=!0),p&&(h[3]*=p.getValue(v),m=!0),m){var x,I;Hl(this.renderColor,h,this.startColor),(I=this.activeMaterial)==null||(x=I.getVector4("_Color"))==null||x.setFromArray(this.renderColor)}}},n.create=function(t){this.clipData=t;var r=t.colorOverLifetime;if(r){var a;this.opacityOverLifetime=lr((a=r.opacity)!=null?a:1),r.color&&r.color[0]===bt.GRADIENT_COLOR&&(this.colorOverLifetime=Xe(r.color[1]))}return this},n.getActiveComponent=function(t){return t.getComponent(Ql)},o}(zo),nc=[[0,0,1,1,void 0]],ic=0,su=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new xf(t);return r.create(this.data),r},n.fromData=function(t){this.data=t},o}(Uo);su=te([it(Ct.SpriteColorPlayableAsset)],su);var ac=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.splits=nc,r.frameAnimationLoop=!1,r.name="MSprite"+ic++,r.geometry=r.createGeometry(D.TRIANGLES),r.setItem(),t&&r.fromData(t),r}var n=o.prototype;return n.onUpdate=function(t){var r=this;this.isManualTimeSet||(this.frameAnimationTime+=t/1e3,this.isManualTimeSet=!1);var a=this.frameAnimationTime,s=this.item.duration;a>s&&this.frameAnimationLoop&&(a=a%s);var l=Math.min(Math.max(a/s,0),1),u=this.textureSheetAnimation,h=this.renderer.texture.source.video;if(h&&(a===0?h.pause():h.play().catch(function(oe){r.engine.renderErrors.add(oe)})),u){var m,v=u.total||u.row*u.col,p=0,b=0,x=1,I=1,B;if(this.splits){var F=this.splits[0];B=F[4],p=F[0],b=F[1],B?(x=F[3],I=F[2]):(x=F[2],I=F[3])}var R,X;B?(R=1/u.row*x,X=1/u.col*I):(R=1/u.col*x,X=1/u.row*I);var k;if(u.animate){var H=Math.round(l*(v-1)),ee=Math.floor(H/u.col),ie=H-ee*u.col;k=B?[R*ee,X*(u.col-ie)]:[R*ie,X*(1+ee)]}else k=[0,X];(m=this.material.getVector4("_TexOffset"))==null||m.setFromArray([p+k[0],I+b-k[1],R,X])}},n.onDestroy=function(){var t=this.getTextures();this.item&&this.item.composition&&this.item.composition.destroyTextures(t),t.forEach(function(r){var a=r.source;a.sourceType===wr.video&&(a!=null&&a.video)&&(a.video.pause(),a.video.src="",a.video.load())})},n.createGeometry=function(t){var r=12*this.splits.length;return Cr.create(this.engine,{attributes:{aPos:{type:D.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},atlasOffset:{size:2,offset:0,releasable:!0,type:D.FLOAT,data:new Float32Array(0)}},indices:{data:new Uint16Array(0),releasable:!0},mode:t,maxVertex:r})},n.getItemGeometryData=function(){var t=this,r=t.splits,a=t.textureSheetAnimation,s=1,l=1,u=this.renderer;if(u.shape){for(var h=u.shape,m=h.index,v=m===void 0?[]:m,p=h.aPoint,b=p===void 0?[]:p,x=new Float32Array(b),I=[],B=[],F=0;F<x.length;F+=6)x[F]*=s,x[F+1]*=l,B.push(b[F+2],b[F+3]),I.push(x[F],x[F+1],0);return this.geometry.setAttributeData("aPos",new Float32Array(I)),{index:v,atlasOffset:B}}var R=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],X=[],k=[],H=2,ee=2;r.length===1&&(H=1,ee=1);for(var ie=[],oe=0;oe<H;oe++)for(var Qe=0;Qe<ee;Qe++){var Je=(Qe*2+oe)*4,st=a?[0,0,1,1,r[0][4]]:r[Qe*2+oe],ft=st[4]?[0,0,1,0,0,1,1,1]:[0,1,0,0,1,1,1,0],At=((oe+oe+1)/H-1)/2,Wt=((Qe+Qe+1)/ee-1)/2,Zt=st[0],Kt=st[1],qt=st[4]?st[3]:st[2],_t=st[4]?st[2]:st[3],_r=[R[0]/H+At,R[1]/ee+Wt,R[2]/H+At,R[3]/ee+Wt,R[4]/H+At,R[5]/ee+Wt,R[6]/H+At,R[7]/ee+Wt];X.push(ft[0]*qt+Zt,ft[1]*_t+Kt,ft[2]*qt+Zt,ft[3]*_t+Kt,ft[4]*qt+Zt,ft[5]*_t+Kt,ft[6]*qt+Zt,ft[7]*_t+Kt),ie.push(_r[0]*s,_r[1]*l,0,_r[2]*s,_r[3]*l,0,_r[4]*s,_r[5]*l,0,_r[6]*s,_r[7]*l,0),k.push(Je,1+Je,2+Je,2+Je,1+Je,3+Je)}return this.geometry.setAttributeData("aPos",new Float32Array(ie)),{index:k,atlasOffset:X}},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t.interaction,a=t.options,s=t.listIndex,l=s===void 0?0:s,u=t.renderer;u||(u={}),this.interaction=r;var h,m,v,p,b,x;this.renderer={renderMode:(h=u.renderMode)!=null?h:ar.MESH,blending:(m=u.blending)!=null?m:Jt.ALPHA,texture:(v=u.texture)!=null?v:this.engine.emptyTexture,occlusion:!!u.occlusion,transparentOcclusion:!!u.transparentOcclusion||u.maskMode===tr.MASK,side:(p=u.side)!=null?p:ir.DOUBLE,shape:u.shape,mask:(b=u.mask)!=null?b:0,maskMode:(x=u.maskMode)!=null?x:tr.NONE,order:l},this.emptyTexture=this.engine.emptyTexture,this.splits=t.splits||nc,this.textureSheetAnimation=t.textureSheetAnimation,this.cachePrefix="-",this.renderInfo=Ml(this);var I=this.createGeometry(D.TRIANGLES),B=this.createMaterial(this.renderInfo,2);this.worldMatrix=yr.fromIdentity(),this.material=B,this.geometry=I;var F=a.startColor||[1,1,1,1];this.material.setVector4("_Color",new Bn().setFromArray(F)),this.material.setVector4("_TexOffset",new Bn().setFromArray([0,0,1,1])),this.setItem()},o}(Ql);ac=te([it(Ct.SpriteComponent)],ac);var Ih="runtime_env",oc="lookup_texture",sc="offscreen_canvas",Cf="post_process_settings",lu={};function uu(i){return lu[i]}function Ef(i,o){return lu[i]=o}var Tf=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.generate=function(e){var t=Us(this.arc,this.arcMode,e),r=t*Zn,a=Math.cos(r)*this.radius,s=Math.sin(r)*this.radius,l=new Ie(a,s,0),u=Math.tan(this.angle*Zn),h=l.clone().multiply(u);return h.z+=1,{position:l.multiply(dt(0,1)),direction:h.normalize()}},i}();function Us(i,o,n){if(o===ot.RANDOM)i=dt(0,i);else if(o===ot.UNIDIRECTIONAL_CYCLE){var e=n.index%(n.total+1);i=i/n.total*e}else if(o===ot.BIDIRECTIONAL_CYCLE){var t=n.index/(n.total+1),r=t-Math.floor(t);i=i*(Math.floor(t)%2?1-r:r)}else o===ot.UNIFORM_BURST&&(i=i*n.burstIndex/n.burstCount);return i}var cu=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.generate=function(e){var t=Us(this.arc,this.arcMode,e)*Zn,r=new Ie(Math.cos(t),Math.sin(t),0),a=this.radius;return{direction:r,position:r.clone().multiply(a)}},i}(),lc=function(){function i(n){this._d=(n.width||1)/2,this._h=(n.height||1)/2}var o=i.prototype;return o.generate=function(e){var t=dt(-this._d,this._d),r=dt(-this._h,this._h);return{direction:new Ie(0,0,1),position:new Ie(t,r,0)}},i}(),Sf=function(){function i(n){this._d=(n.width||1)/2,this._h=(n.height||1)/2,this.arcMode=n.arcMode,this.arc=n.arc}var o=i.prototype;return o.generate=function(e){var t=Us(this.arc,this.arcMode,e)*Zn,r=new Ie(Math.cos(t),Math.sin(t),0),a=this._d,s=this._h,l=Math.atan2(s,a),u=Math.tan(t),h=new Ie;return t<l?h.set(a,a*u,0):t>=l&&t<Math.PI-l?h.set(s/u,s,0):t<Math.PI+l?h.set(-a,-a*u,0):t<Math.PI*2-l?h.set(-s/u,-s,0):h.set(a,a*u,0),{direction:r,position:h}},i}(),uc=function(){function i(n){this._d=n.width||1,this.arcMode=n.arcMode}var o=i.prototype;return o.generate=function(e){var t=this.arcMode===ot.UNIFORM_BURST?e.burstIndex%e.burstCount/(e.burstCount-1):dt(0,1);return{direction:new Ie(0,1,0),position:new Ie(this._d*(t-.5),0,0)}},i}(),wf=new yr,Of=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.generate=function(e){var t=this.donutRadius,r=this.radius-t,a=dt(0,Math.PI*2),s=Us(this.arc,this.arcMode,e)*Zn,l=wf.setFromRotationZ(s),u=new Ie(Math.cos(a),Math.sin(a),0),h=new Ie(r+Math.cos(a)*t,0,Math.sin(a)*t);return{direction:l.transformNormal(u),position:l.transformPoint(h)}},i}(),cc=new yr,fc=function(){function i(n){var e=this;Object.keys(n).forEach(function(t){e[t]=n[t]})}var o=i.prototype;return o.getHorizontalAngle=function(){return dt(-90,90)},o.generate=function(e){var t=Us(this.arc,this.arcMode,e)*Zn,r=this.getHorizontalAngle()*Zn,a=this.radius,s=new Ie(Math.cos(r),0,Math.sin(r)),l=cc.setFromRotationZ(t),u=l.transformNormal(s);return{position:u.clone().multiply(a),direction:u}},i}(),fu=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.getHorizontalAngle=function(){return dt(0,90)},o}(fc),hu=function(){function i(n){var e=n.detail||{anchors:[.5,.5],block:[0,0]};this.anchors=new Float32Array(e.anchors),this.width=n.width||1,this.height=n.height||1,this.block=e.block,this.arcMode=n.arcMode,this.random=ai(n.random||0,0,1)}var o=i.prototype;return o.generate=function(e){var t=this.anchors,r=t.length/2-1,a=Math.floor(Us(r,this.arcMode,e)),s=(t[a*2]+this.block[0]*this.random*Math.random())%1-.5,l=(t[a*2+1]+this.block[1]*this.random*Math.random())%1-.5,u=new Ie(s,l,0);return{position:new Ie(s*this.width,l*this.height,0),direction:u.normalize()}},i}(),hc=function(){function i(){}var o=i.prototype;return o.generate=function(){return{position:new Ie,direction:new Ie}},i}(),Co,Mf=(Co={},Co[rr.NONE]=hc,Co[rr.CONE]=Tf,Co[rr.SPHERE]=fc,Co[rr.HEMISPHERE]=fu,Co[rr.CIRCLE]=cu,Co[rr.DONUT]=Of,Co[rr.RECTANGLE]=lc,Co[rr.EDGE]=uc,Co[rr.RECTANGLE_EDGE]=Sf,Co[rr.TEXTURE]=hu,Co);function Af(i){if(!i)return new hc;var o=Zr({radius:1,arc:360,angle:0,arcMode:ot.RANDOM},i),n=i.type,e=Mf[n];if(!e)throw new Error("Invalid shape: "+n+".");var t=new e(o);if(n!==rr.NONE){var r=i.alignSpeedDirection,a=i.upDirection,s=a===void 0?[0,0,1]:a;t.alignSpeedDirection=r,t.upDirection=Ie.fromArray(s).normalize()}return t}function dc(i,o,n,e,t){var r,a;if(t===Df(i,o,n,e)>0)for(r=o;r<n;r+=e)a=Ec(r,i[r],i[r+1],a);else for(r=n-e;r>=o;r-=e)a=Ec(r,i[r],i[r+1],a);return a&&Dl(a,a.next)&&(fl(a),a=a.next),a}function fs(i,o){if(!i)return i;o||(o=i);var n=i,e;do if(e=!1,!n.steiner&&(Dl(n,n.next)||Fi(n.prev,n,n.next)===0)){if(fl(n),n=o=n.prev,n===n.next)break;e=!0}else n=n.next;while(e||n!==o);return o}function If(i){var o=i.prev,n=i,e=i.next;if(Fi(o,n,e)>=0)return!1;for(var t=i.next.next;t!==i.prev;){if(hs(o.x,o.y,n.x,n.y,e.x,e.y,t.x,t.y)&&Fi(t.prev,t,t.next)>=0)return!1;t=t.next}return!0}function Pf(i,o,n,e){var t=i.prev,r=i,a=i.next;if(Fi(t,r,a)>=0)return!1;for(var s=t.x<r.x?t.x<a.x?t.x:a.x:r.x<a.x?r.x:a.x,l=t.y<r.y?t.y<a.y?t.y:a.y:r.y<a.y?r.y:a.y,u=t.x>r.x?t.x>a.x?t.x:a.x:r.x>a.x?r.x:a.x,h=t.y>r.y?t.y>a.y?t.y:a.y:r.y>a.y?r.y:a.y,m=du(s,l,o,n,e),v=du(u,h,o,n,e),p=i.prevZ,b=i.nextZ;p&&p.z>=m&&b&&b.z<=v;){if(p!==i.prev&&p!==i.next&&hs(t.x,t.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Fi(p.prev,p,p.next)>=0||(p=p.prevZ,b!==i.prev&&b!==i.next&&hs(t.x,t.y,r.x,r.y,a.x,a.y,b.x,b.y)&&Fi(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;p&&p.z>=m;){if(p!==i.prev&&p!==i.next&&hs(t.x,t.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Fi(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;b&&b.z<=v;){if(b!==i.prev&&b!==i.next&&hs(t.x,t.y,r.x,r.y,a.x,a.y,b.x,b.y)&&Fi(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Rf(i,o,n,e){var t=[],r,a,s,l,u;for(r=0,a=o.length;r<a;r++)s=o[r]*e,l=r<a-1?o[r+1]*e:i.length,u=dc(i,s,l,e,!1),u===u.next&&(u.steiner=!0),t.push(gc(u));for(t.sort(mc),r=0;r<t.length;r++)vc(t[r],n),n=fs(n,n.next);return n}function mc(i,o){return i.x-o.x}function vc(i,o){if(o=_l(i,o),o){var n=Cc(o,i);fs(o,o.next),fs(n,n.next)}}function _l(i,o){var n=o,e=i.x,t=i.y,r=-1/0,a;do{if(t<=n.y&&t>=n.next.y&&n.next.y!==n.y){var s=n.x+(t-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=e&&s>r){if(r=s,s===e){if(t===n.y)return n;if(t===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==o);if(!a)return null;if(e===r)return a;var l=a,u=a.x,h=a.y,m=1/0,v;n=a;do e>=n.x&&n.x>=u&&e!==n.x&&hs(t<h?e:r,t,u,h,t<h?r:e,t,n.x,n.y)&&(v=Math.abs(t-n.y)/(e-n.x),cl(n,i)&&(v<m||v===m&&(n.x>a.x||n.x===a.x&&Ll(a,n)))&&(a=n,m=v)),n=n.next;while(n!==l);return a}function Ll(i,o){return Fi(i.prev,i,o.prev)<0&&Fi(o.next,i,i.next)<0}function pc(i,o,n,e){var t=i;do t.z===null&&(t.z=du(t.x,t.y,o,n,e)),t.prevZ=t.prev,t.nextZ=t.next,t=t.next;while(t!==i);t.prevZ.nextZ=null,t.prevZ=null,_f(t)}function _f(i){var o,n,e,t,r,a,s,l,u=1;do{for(n=i,i=null,r=null,a=0;n;){for(a++,e=n,s=0,o=0;o<u&&(s++,e=e.nextZ,!!e);o++);for(l=u;s>0||l>0&&e;)s!==0&&(l===0||!e||n.z<=e.z)?(t=n,n=n.nextZ,s--):(t=e,e=e.nextZ,l--),r?r.nextZ=t:i=t,t.prevZ=r,r=t;n=e}r.nextZ=null,u*=2}while(a>1);return i}function du(i,o,n,e,t){return i=32767*(i-n)*t,o=32767*(o-e)*t,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,i|o<<1}function gc(i){var o=i,n=i;do(o.x<n.x||o.x===n.x&&o.y<n.y)&&(n=o),o=o.next;while(o!==i);return n}function hs(i,o,n,e,t,r,a,s){return(t-a)*(o-s)-(i-a)*(r-s)>=0&&(i-a)*(e-s)-(n-a)*(o-s)>=0&&(n-a)*(r-s)-(t-a)*(e-s)>=0}function yc(i,o){return i.next.i!==o.i&&i.prev.i!==o.i&&!Lf(i,o)&&(cl(i,o)&&cl(o,i)&&xc(i,o)&&(Fi(i.prev,i,o.prev)||Fi(i,o.prev,o))||Dl(i,o)&&Fi(i.prev,i,i.next)>0&&Fi(o.prev,o,o.next)>0)}function Fi(i,o,n){return(o.y-i.y)*(n.x-o.x)-(o.x-i.x)*(n.y-o.y)}function Dl(i,o){return i.x===o.x&&i.y===o.y}function bc(i,o,n,e){var t=Nl(Fi(i,o,n)),r=Nl(Fi(i,o,e)),a=Nl(Fi(n,e,i)),s=Nl(Fi(n,e,o));return!!(t!==r&&a!==s||t===0&&Fl(i,n,o)||r===0&&Fl(i,e,o)||a===0&&Fl(n,i,e)||s===0&&Fl(n,o,e))}function Fl(i,o,n){return o.x<=Math.max(i.x,n.x)&&o.x>=Math.min(i.x,n.x)&&o.y<=Math.max(i.y,n.y)&&o.y>=Math.min(i.y,n.y)}function Nl(i){return i>0?1:i<0?-1:0}function Lf(i,o){var n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==o.i&&n.next.i!==o.i&&bc(n,n.next,i,o))return!0;n=n.next}while(n!==i);return!1}function cl(i,o){return Fi(i.prev,i,i.next)<0?Fi(i,o,i.next)>=0&&Fi(i,i.prev,o)>=0:Fi(i,o,i.prev)<0||Fi(i,i.next,o)<0}function xc(i,o){var n=i,e=!1,t=(i.x+o.x)/2,r=(i.y+o.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&t<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(e=!e),n=n.next;while(n!==i);return e}function Cc(i,o){var n=new mu(i.i,i.x,i.y),e=new mu(o.i,o.x,o.y),t=i.next,r=o.prev;return i.next=o,o.prev=i,n.next=t,t.prev=n,e.next=n,n.prev=e,r.next=e,e.prev=r,e}function Ec(i,o,n,e){var t=new mu(i,o,n);return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function fl(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function mu(i,o,n){this.i=i,this.x=o,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Df(i,o,n,e){for(var t=0,r=o,a=n-e;r<n;r+=e)t+=(i[a]-i[r])*(i[r+1]+i[a+1]),a=r;return t}var rs=0;function Ff(i,o,n,e){n=n||2,rs=e||0;var t=o&&o.length,r=t?o[0]*n:i.length,a=dc(i,0,r,n,!0),s=[];if(!a||a.next===a.prev)return s;var l,u,h,m,v,p,b;if(t&&(a=Rf(i,o,a,n)),i.length>80*n){l=h=i[0],u=m=i[1];for(var x=n;x<r;x+=n)v=i[x],p=i[x+1],v<l&&(l=v),p<u&&(u=p),v>h&&(h=v),p>m&&(m=p);b=Math.max(h-l,m-u),b=b!==0?1/b:0}return hl(a,s,n,l,u,b),s}function hl(i,o,n,e,t,r,a){if(i){!a&&r&&pc(i,e,t,r);for(var s=i,l,u;i.prev!==i.next;){if(l=i.prev,u=i.next,r?Pf(i,e,t,r):If(i)){o.push(l.i/n+rs),o.push(i.i/n+rs),o.push(u.i/n+rs),fl(i),i=u.next,s=u.next;continue}if(i=u,i===s){a?a===1?(i=Tc(fs(i),o,n),hl(i,o,n,e,t,r,2)):a===2&&Nf(i,o,n,e,t,r):hl(fs(i),o,n,e,t,r,1);break}}}}function Tc(i,o,n){var e=i;do{var t=e.prev,r=e.next.next;!Dl(t,r)&&bc(t,e,e.next,r)&&cl(t,r)&&cl(r,t)&&(o.push(t.i/n+rs),o.push(e.i/n+rs),o.push(r.i/n+rs),fl(e),fl(e.next),e=i=r),e=e.next}while(e!==i);return fs(e)}function Nf(i,o,n,e,t,r){var a=i;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&yc(a,s)){var l=Cc(a,s);a=fs(a,a.next),l=fs(l,l.next),hl(a,o,n,e,t,r),hl(l,o,n,e,t,r);return}s=s.next}a=a.next}while(a!==i)}var Sc=2;function Vf(i,o){for(var n=i.s,e=i.p,t=n[1],r=e[1],a=0,s=0;s<t.length;s++){var l=t[s];a+=l.length-1}var u=new Float32Array(a*wl),h=o.indexBase,m=h===void 0?0:h,v=o.uvTransform,p=0,b=0,x=0,I=1,B=1,F;v&&(b=v[0],x=v[1],F=v[4],I=F?v[3]:v[2],B=F?v[2]:v[3]);for(var R=[0,0],X=F===0?0:-Math.PI/2,k=0;k<t.length;k++)for(var H=t[k],ee=r[k],ie=r[k+1]||r[0],oe=H,Qe=[0,0],Je=0;Je<oe.length-1;Je++){var st=oe[Je];Uf(Qe,st,ee,ie,ee[4],ee[5],ie[2],ie[3]),At(Qe[0],Qe[1])}var ft=Ff(Array.from(u),null,wl,m);return{aPoint:u,index:new Uint16Array(ft)};function At(Wt,Zt){u[p++]=Wt/2,u[p++]=Zt/2,v?(R[0]=Wt,R[1]=Zt,vu(R,R,X),u[p++]=b+(R[0]+1)/2*I,u[p++]=x+(R[1]+1)/2*B):(u[p++]=(Wt+1)/2,u[p++]=(Zt+1)/2),p+=Sc}}function Bf(i){var o=[];return"gs"in i?i.gs.forEach(function(n){o.push({p:[bt.SHAPE_POINTS,n.p],s:[bt.SHAPE_SPLITS,n.s]})}):"g"in i?o.push({p:[bt.SHAPE_POINTS,i.g.p],s:[bt.SHAPE_SPLITS,i.g.s]}):o.push(i),o}function zf(i,o){for(var n=[],e=Bf(i),t=0,r=0,a=0,s=0;s<e.length;s++){var l=e[s],u=Vf(l,{indexBase:t,uvTransform:o});t+=u.aPoint.length/5,n.push(u),r+=u.aPoint.length,a+=u.index.length}if(n.length===1)return n[0];for(var h=new Float32Array(r),m=new Uint16Array(a),v=0,p=0,b=0;v<n[v];v++){var x=n[v];h.set(x.aPoint,p),p+=x.aPoint.length,m.set(x.index,b),b+=x.index.length}return{aPoint:h,index:m}}function vu(i,o,n){var e=Math.cos(n),t=Math.sin(n),r=o[0],a=o[1];return i[0]=e*r+t*a,i[1]=-t*r+e*a,i}function Uf(i,o,n,e,t,r,a,s){var l=1-o,u=l*l*l,h=3*o*l*l,m=3*o*o*l,v=o*o*o;return i[0]=u*n[0]+h*t+m*a+v*e[0],i[1]=u*n[1]+h*r+m*s+v*e[1],i}var kf=function(){function i(n){var e=n.time,t=n.interval,r=n.count,a=n.cycles,s=n.probability;this.time=+e||0,this.interval=+t||1,this.count=U(r,ia)?r:lr(r),this.cycles=+a||1/0,this.probability=isNaN(s)?1:+s,this.reset()}var o=i.prototype;return o.getGeneratorOptions=function(e,t){var r=e-this.time-this.now;if(r>this.interval*this.index&&this.internalCycles>0)return this.internalCycles--,this.index++,Math.random()<=this.probability?{index:this.index,total:1/this.interval,count:this.count.getValue(t),cycleIndex:this.cycles-this.internalCycles-1}:null},o.reset=function(){this.internalCycles=this.cycles,this.index=0,this.now=0},o.clone=function(){var e={time:this.time,interval:this.interval,count:this.count,cycles:this.cycles,probability:this.probability};return new i(e)},i}(),wc=function(o){this.content=o},Oc=function(){function i(n){this.sort=n,this.length=0}var o=i.prototype;return o.findNodeByContent=function(e){var t=this.first;if(t)do if(e(t.content))return t;while(t=t.next)},o.insertNode=function(e,t){var r=e.next;e.next=t,t.pre=e,t.next=r,r&&(r.pre=t)},o.shiftNode=function(e){var t=new wc(e);if(this.length++,this.length===1)return this.first=this.last=t;for(var r=this.first;r;)if(this.sort(r.content,t.content)<=0)if(r.next)r=r.next;else return this.insertNode(r,t),this.last=t;else return r.pre?this.insertNode(r.pre,t):(this.first=t,t.next=r,r.pre=t),t},o.pushNode=function(e){var t=new wc(e);if(this.length++,this.length===1)return this.last=this.first=t;for(var r=this.last;r;)if(this.sort(t.content,r.content)<=0){if(this.first===r)return r.pre=t,t.next=r,this.first=t;r=r.pre}else return this.insertNode(r,t),r===this.last&&(this.last=t),t},o.removeNode=function(e){var t=this.first;if(this.length--,t===e){var r=this.first=t.next;r&&(r.pre=null)}else if((t=this.last)===e){var a=this.last=t.pre;a&&(a.next=null)}else if(e){var s=e.pre,l=e.next;s.next=l,l&&(l.pre=s)}e.pre=null,e.next=null},o.forEach=function(e,t){var r=this.first,a=0;if(r)do e.call(t||this,r.content,a++);while(r=r.next)},o.forEachReverse=function(e,t){var r=this.last,a=this.length-1;if(r)do e.call(t||this,r.content,a--);while(r=r.pre)},o.getNodeByIndex=function(e){var t=0,r=this.first;if(!r||e>=this.length||e<0)return null;for(;t<e;)r=r.next,t++;return r},i}(),$f=new Ie,pu=new Ie,gu=function(){function i(n,e){this.pointStart=[];var t=e.colorOverLifetime,r=e.colorOverTrail,a=e.maxTrailCount,s=e.opacityOverLifetime,l=s===void 0?lr(1):s,u=e.widthOverTrail,h=e.name,m=e.occlusion,v=e.blending,p=e.maskMode,b=e.textureMap,x=b===void 0?[0,0,1,1]:b,I=e.texture,B=e.transparentOcclusion,F=e.minimumVertexDistance,R=e.lifetime,X=e.matrix,k=n.gpuCapability,H=k.detail,ee=k.level,ie=Math.max(e.pointCountPerTrail,2),oe=Ts(),Qe=H.maxVertexTextures>0,Je,st=((Je=n.renderer)!=null?Je:{}).env,ft={},At=0,Wt=[["ENABLE_VERTEX_TEXTURE",Qe],["LOOKUP_TEXTURE_CURVE",At],["ENV_EDITOR",st===Mo]],Zt=a>64,Kt=0;t&&(Wt.push(["COLOR_OVER_LIFETIME",!0]),Kt|=1,ft.uColorOverLifetime=Pr.createWithData(n,Le(t))),r&&(Wt.push(["COLOR_OVER_TRAIL",!0]),Kt|=4,ft.uColorOverTrail=Pr.createWithData(n,Le(r))),Zt?(Wt.push(["ATTR_TRAIL_START",1]),Kt|=8):ft.uTrailStart=new Float32Array(a),ft.uOpacityOverLifetimeValue=l.toUniform(oe);var qt=u.toUniform(oe);if(Wt.push(["VERT_CURVE_VALUE_COUNT",oe.index],["VERT_MAX_KEY_FRAME_COUNT",oe.max]),Qe&&At){var _t=vn(n,ia.getAllData(oe,!0),oe.index,1);ft.uVCurveValueTexture=_t}else ft.uVCurveValues=ia.getAllData(oe);var _r=Is,sr=Za,Or={shader:{vertex:_r,fragment:sr,macros:Wt,glslVersion:ee===1?oi.GLSL1:oi.GLSL3,shared:!0,name:"trail#"+h,cacheId:"-t:+"+Kt+"+"+oe.index+"+"+oe.max},uniformSemantics:{effects_MatrixVP:"VIEWPROJECTION",effects_MatrixInvV:"VIEWINVERSE",effects_ObjectToWorld:"MODEL",uEditorTransform:"EDITOR_TRANSFORM"}},Qr=ie*a*2,Jr=(ie-1)*a,ii=Float32Array.BYTES_PER_ELEMENT,an=12*ii,oa={attributes:{aColor:{size:4,stride:an,data:new Float32Array(Qr*12)},aSeed:{size:1,stride:an,offset:4*ii,dataSource:"aColor"},aInfo:{size:3,stride:an,offset:5*ii,dataSource:"aColor"},aPos:{size:4,stride:an,offset:8*ii,dataSource:"aColor"},aTime:{size:1,data:new Float32Array(Qr)},aDir:{size:3,data:new Float32Array(Qr*3)}},indices:{data:new Uint16Array(Qr*6)},drawCount:Jr*6,name:"trail#"+h,bufferUsage:D.DYNAMIC_DRAW};if(Zt)oa.attributes.aTrailStart={size:1,data:new Float32Array(Qr)};else{var wa=new Float32Array(Qr);oa.attributes.aTrailStartIndex={size:1,data:wa};for(var fa=0;fa<a;fa++)for(var Ja=ie*2,En=fa*Ja,Ba=0;Ba<Ja;Ba++)wa[En+Ba]=fa}var za=Wo(v),pi=Xn.create(n,Or);pi.blending=!0,pi.depthMask=m,pi.depthTest=!0,ys(pi,p),Zo(pi,v);var ps=this.mesh=aa.create(n,{name:"MTrail_"+h,material:pi,geometry:Cr.create(n,oa)}),os=I!=null?I:Pr.createWithData(n);Object.keys(ft).map(function(Li){var Wi=ft[Li];if(U(Wi,Pr))pi.setTexture(Li,Wi);else if(Li==="uTrailStart")pi.setFloats("uTrailStart",Wi);else if(Li==="uVCurveValues"){for(var Zs=[],$o=0;$o<Wi.length;$o=$o+4){var xa=new Bn(Wi[$o],Wi[$o+1],Wi[$o+2],Wi[$o+3]);Zs.push(xa)}pi.setVector4Array(Li,Zs)}else pi.setVector4(Li,Bn.fromArray(Wi))}),pi.setFloat("uTime",0),pi.setVector4("uWidthOverTrail",Bn.fromArray(qt)),pi.setVector2("uTexOffset",new Ln(0,0)),pi.setVector4("uTextureMap",Bn.fromArray(x)),pi.setVector4("uParams",new Bn(0,ie-1,0,0)),pi.setTexture("uMaskTex",os),pi.setVector4("uColorParams",new Bn(I?1:0,+za,0,+(m&&!B))),this.maxTrailCount=a,this.pointCountPerTrail=ie,this.checkVertexDistance=F>0,this.minimumVertexDistance=Math.pow(F||.001,2),this.useAttributeTrailStart=Zt,this.lifetime=R,X&&(this.mesh.worldMatrix=X),this.geometry=ps.firstGeometry(),this.trailCursors=new Uint16Array(a)}var o=i.prototype;return o.addPoint=function(e,t,r){r=r||{};var a=this.trailCursors[e],s=this.pointCountPerTrail,l=this.geometry,u=s-1,h=a%s,m=(a-1)%s,v=(a-2)%s,p=this.getTrailPosition(e,m,$f);if(!(p&&this.checkVertexDistance&&(p==null?void 0:p.distanceSquared(t))<this.minimumVertexDistance)){var b=e*s+h,x=bu(p,t),I=r.time||this.time,B=[Math.random(),r.lifetime||this.lifetime,a],F=r.size||1,R=b*6,X=new Float32Array(6);X.set(x,0),X.set(x,3),l.setAttributeSubData("aDir",R,X),l.setAttributeSubData("aTime",b*2,new Float32Array([I,I]));var k=r.color||[1,1,1,1],H=new Float32Array(24),ee=t.toArray();if(H.set(k,0),H.set(B,4),H[7]=0,H.set(ee,8),H[11]=.5*F,H.set(k,12),H.set(B,16),H[19]=1,H.set(ee,20),H[23]=-.5*F,l.setAttributeSubData("aColor",b*24,H),m>=0){var ie=this.getTrailPosition(e,v,pu),oe=new Float32Array(bu(ie,p,t)),Qe=(e*s+m)*6;l.setAttributeSubData("aDir",Qe,oe),l.setAttributeSubData("aDir",Qe+3,oe);var Je=e*s*2,st=new Uint16Array([m*2+Je,m*2+1+Je,h*2+Je,h*2+Je,m*2+1+Je,h*2+1+Je]),ft=(e*u+(a-1)%u)*6;l.setIndexSubData(ft,st)}a=++this.trailCursors[e];var At=this.mesh.material,Wt=At.getVector4("uParams"),Zt=B[2];if(this.useAttributeTrailStart){for(var Kt=s*2,qt=new Float32Array(Kt),_t=0;_t<Kt;_t++)qt[_t]=Zt;l.setAttributeSubData("aTrailStart",e*qt.length,qt)}else{var _r=At.getFloats("uTrailStart");_r!=null&&(_r[e]=Zt,At.setFloats("uTrailStart",_r))}Wt&&(Wt.y=Math.max(Wt.y,a-1)-Math.max(0,a-s),At.setVector4("uParams",Wt))}},o.getTrailPosition=function(e,t,r){var a=this.pointCountPerTrail;if(t>=0&&t<a){var s=(e*a+t)*24+8,l=this.geometry.getAttributeData("aColor");return at(l),r.x=l[s],r.y=l[1+s],r.z=l[2+s],r}},o.clearAllTrails=function(){var e=this.geometry.getIndexData();at(e),this.trailCursors=new Uint16Array(this.trailCursors.length),this.geometry.setIndexData(new Uint16Array(e.length))},o.minusTime=function(e){var t=this.geometry.getAttributeData("aTime");at(t);for(var r=0;r<t.length;r++)t[r]-=e;this.geometry.setAttributeData("aTime",t),this.time-=e},o.clearTrail=function(e){if(this.trailCursors[e]!==0){var t=this.pointCountPerTrail,r=(t-1)*6,a=this.geometry.getIndexData();at(a),a.set(new Uint16Array(r),e*r),this.geometry.setIndexData(a),this.trailCursors[e]=0}},o.getPointStartPos=function(e){return this.pointStart[e]},o.setPointStartPos=function(e,t){this.pointStart[e]=t},o.onUpdate=function(e){},gr(i,[{key:"time",get:function(){return this.mesh.material.getFloat("uTime")||0},set:function(e){this.mesh.material.setFloat("uTime",e!=null?e:0)}}]),i}(),Mc=new Ie,ks=new Ie,yu=new Ie;function bu(i,o,n){var e=Mc;return!i&&!n?[0,0,0]:(i?n?(ks.subtractVectors(o,i).normalize(),ks.subtractVectors(n,o),yu.copyFrom(ks).normalize(),e.addVectors(ks,yu)):e.subtractVectors(o,i):e.subtractVectors(n,o),e.normalize().toArray())}function Ac(i,o,n,e,t){t===void 0&&(t="");var r=0,a=uu(oc)?1:0,s=e.detail.maxVertexTextures>0,l=[["ENABLE_VERTEX_TEXTURE",s],["LOOKUP_TEXTURE_CURVE",a],["ENV_EDITOR",t===Mo]],u=Ts();i.colorOverLifetime&&(l.push(["COLOR_OVER_LIFETIME",!0]),r|=1),i.colorOverTrail&&(l.push(["COLOR_OVER_TRAIL",!0]),r|=4);var h=o>64;return h&&(l.push(["ATTR_TRAIL_START",1]),r|=8),oo(u,i.opacityOverLifetime),oo(u,i.widthOverTrail),l.push(["VERT_CURVE_VALUE_COUNT",u.index],["VERT_MAX_KEY_FRAME_COUNT",u.max]),{vertex:Is,fragment:Za,macros:l,shared:!0,name:"trail#"+n,cacheId:"-t:+"+r+"+"+u.index+"+"+u.max}}var Ic=function(i){pe(o,i);function o(e,t,r){var a;a=i.call(this,e)||this,a.name="ParticleSystemRenderer",t&&(a.particleMesh=new Qf(e,t)),r&&(a.trailMesh=new gu(e,r));var s=[a.particleMesh.mesh];return a.materials.push(a.particleMesh.mesh.material),a.trailMesh&&(s.push(a.trailMesh.mesh),a.materials.push(a.trailMesh.mesh.material)),a.meshes=s,a}var n=o.prototype;return n.onStart=function(){this._priority=this.item.renderOrder,this.particleMesh.gravityModifier.scaleXCoord(this.item.duration);for(var t=Fe(this.meshes),r;!(r=t()).done;){var a=r.value;a.onStart()}},n.onUpdate=function(t){var r=this.particleMesh.time,a,s=(a=this.particleMesh.mesh.material.getVector4("uParams"))!=null?a:new Bn;this.particleMesh.mesh.material.setVector4("uParams",s.set(r,this.item.duration,0,0))},n.render=function(t){for(var r=Fe(this.meshes),a;!(a=r()).done;){var s=a.value;s.render(t)}},n.reset=function(){var t;this.particleMesh.clearPoints(),(t=this.trailMesh)==null||t.clearAllTrails()},n.updateTime=function(t,r){this.particleMesh.time=t,this.particleMesh.onUpdate(r),this.trailMesh&&(this.trailMesh.time=t,this.trailMesh.onUpdate(r))},n.minusTimeForLoop=function(t){var r;this.particleMesh.minusTime(t),(r=this.trailMesh)==null||r.minusTime(t)},n.updateWorldMatrix=function(t){this.particleMesh.mesh.worldMatrix=t,this.trailMesh&&(this.trailMesh.mesh.worldMatrix=t)},n.setVisible=function(t){var r;this.particleMesh.mesh.setVisible(t),(r=this.trailMesh)==null||r.mesh.setVisible(t)},n.getTextures=function(){var t=[],r=this.particleMesh.mesh.material.textures;if(Object.keys(r).forEach(function(s){t.push(r[s])}),this.trailMesh){var a=this.trailMesh.mesh.material.textures;Object.keys(a).forEach(function(s){t.push(a[s])})}return t},n.setParticlePoint=function(t,r){this.particleMesh.setPoint(t,r)},n.removeParticlePoint=function(t){this.particleMesh.removePoint(t)},n.getParticlePointColor=function(t){return this.particleMesh.getPointColor(t)},n.hasTrail=function(){return this.trailMesh!==void 0},n.clearTrail=function(t){var r;(r=this.trailMesh)==null||r.clearTrail(t)},n.addTrailPoint=function(t,r,a){var s;(s=this.trailMesh)==null||s.addPoint(t,r,a)},n.setTrailStartPosition=function(t,r){var a;(a=this.trailMesh)==null||a.setPointStartPos(t,r)},n.getTrailStartPosition=function(t){return this.trailMesh.getPointStartPos(t)},o}(ea),ds=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.destroyed=!1,r.getHitTestParams=function(a){var s=r.interaction;if(a||s)return{type:xo.custom,collect:function(l){return r.raycast({radius:(s==null?void 0:s.radius)||.4,multiple:!!(s!=null&&s.multiple),removeParticle:(s==null?void 0:s.behavior)===It.removeParticle,ray:l})}}},t&&r.fromData(t),r}var n=o.prototype;return n.isFrozen=function(){return this.frozen},n.isEnded=function(){return this.ended},n.initEmitterTransform=function(){var t=this.item.transform.position.clone(),r=this.item.transform.rotation.clone(),a=this.props.emitterTransform&&this.props.emitterTransform.path,s;a&&(a[0]===bt.CONSTANT_VEC3?t.add(a[1]):s=lr(a)),this.basicTransform={position:t,rotation:r,path:s};var l=this.transform.parentTransform,u=t.clone();if(s&&u.add(s.getValue(0)),this.transform.setPosition(u.x,u.y,u.z),this.options.particleFollowParent&&l){var h=l.getWorldMatrix();this.renderer.updateWorldMatrix(h)}},n.updateEmitterTransform=function(t){var r=this.transform.parentTransform,a=this.basicTransform,s=a.path,l=a.position,u=l.clone();if(s){var h=this.item.duration;u.add(s.getValue(t/h))}if(this.transform.setPosition(u.x,u.y,u.z),this.options.particleFollowParent&&r){var m=r.getWorldMatrix();this.renderer.updateWorldMatrix(m)}},n.addParticle=function(t,r){var a=this.particleLink,s=[t.delay+t.lifetime,0,t.delay,t],l;if(a.length<r)l=s[1]=a.length;else{var u=a.first;a.removeNode(u),l=s[1]=u.content[1]}a.pushNode(s),this.renderer.setParticlePoint(l,t),this.clearPointTrail(l),this.transform.parentTransform&&this.renderer.setTrailStartPosition(l,this.transform.parentTransform.position.clone())},n.setVisible=function(t){this.renderer.setVisible(t)},n.setOpacity=function(t){var r,a=this.renderer.particleMesh.mesh.material,s=this.renderer.particleMesh.mesh.geometry,l=((r=a.getVector4("uOpacityOverLifetimeValue"))==null?void 0:r.toArray())||[1,1,1,1];a.setVector4("uOpacityOverLifetimeValue",new Bn(l[0],l[1],l[2],t));for(var u=s.getAttributeData("aColor")||[],h=0;h<u.length;h+=32)u[h*8+7]=t},n.setColor=function(t,r,a,s){var l,u=this.renderer.particleMesh.mesh.material,h=this.renderer.particleMesh.mesh.geometry,m=((l=u.getVector4("uOpacityOverLifetimeValue"))==null?void 0:l.toArray())||[1,1,1,1];u.setVector4("uOpacityOverLifetimeValue",new Bn(m[0],m[1],m[2],s));for(var v=h.getAttributeData("aColor")||[],p=0;p<v.length;p+=32)v[p*8+4]=t,v[p*8+5]=r,v[p*8+6]=a,v[p*8+7]=s},n.setParentTransform=function(t){},n.getTextures=function(){return this.renderer.getTextures()},n.startEmit=function(){(!this.started||this.ended)&&(this.reset(),this.started=!0,this.ended=!1)},n.stop=function(){this.ended=!0,this.started=!1},n.reset=function(){this.renderer.reset(),this.lastUpdate=0,this.loopStartTime=0,this.lastEmitTime=-1/this.emission.rateOverTime.getValue(0),this.generatedCount=0,this.particleLink=new Oc(function(t,r){return t[0]-r[0]}),this.emission.bursts.forEach(function(t){return t.reset()}),this.frozen=!1,this.ended=!1,this.destroyed=!1},n.update=function(t){var r=this;if(this.started&&!this.frozen){var a=this.lastUpdate+t/1e3,s=this.options,l=this.loopStartTime,u=this.emission;this.lastUpdate=a,this.upDirectionWorld=null,this.renderer.updateTime(a,t);var h=this.particleLink,m=(a-l)/this.item.duration,v=this.timePassed,p=!1,b=function(){r.trails&&!p&&(p=!0,h.forEach(function(Qr){var Jr=Qr[0],ii=Qr[1],an=Qr[2],oa=Qr[3];Jr<v?r.clearPointTrail(ii):v>an&&r.updatePointTrail(ii,m,oa,an)}))};if(this.ended){if(this.item.endBehavior!==Se.restart&&Se.destroy===this.item.endBehavior){var Or=h.last;Or&&Or.content[0]<this.lastUpdate&&(this.destroyed=!0)}}else{var x=this.item.duration,I=this.lifetime;if(v<x){var B=1/u.rateOverTime.getValue(I),F=Math.floor((v-this.lastEmitTime)/B),R=F,X=B/F,k=a,H=s.maxCount;this.updateEmitterTransform(v);for(var ee=function(){var Qr=h.first;return r.emissionStopped||h.length===H&&Qr&&Qr.content[0]-l>v},ie=0;ie<R&&ie<H&&!ee();ie++){var oe=this.createPoint(I);oe.delay+=k+ie*X,this.addParticle(oe,H),this.lastEmitTime=v}for(var Qe=u.bursts,Je=(Qe==null?void 0:Qe.length)-1,st=0;Je>=0&&st<H&&!ee();Je--){var ft=Qe[Je],At=!ft.disabled&&ft.getGeneratorOptions(v,I);if(At){var Wt=[0,0,0],Zt=u.burstOffsets[Je],Kt=Zt&&Zt[At.cycleIndex]||Wt;ft.once&&this.removeBurst(Je);for(var qt=0;qt<At.count&&st<H;qt++){var _t;if(ee())break;var _r=this.initPoint(this.shape.generate({total:At.total,index:At.index,burstIndex:qt,burstCount:At.count}));_r.delay+=k,st++,(_t=_r.transform).translate.apply(_t,[].concat(Kt)),this.addParticle(_r,H)}}}}else if(this.item.endBehavior===Se.restart)b(),this.loopStartTime=a-x,this.lastEmitTime-=x,this.lastUpdate-=x,u.bursts.forEach(function(Qr){return Qr.reset()}),this.particleLink.forEach(function(Qr){Qr[0]-=x,Qr[2]-=x,Qr[3].delay-=x}),this.renderer.minusTimeForLoop(x);else{this.ended=!0;var sr=this.item.endBehavior;sr===Se.freeze&&(this.frozen=!0)}}b()}},n.onDestroy=function(){this.item&&this.item.composition&&(this.item.composition.destroyTextures(this.getTextures()),this.meshes.forEach(function(t){return t.dispose({material:{textures:Et.keep}})}))},n.getParticleBoxes=function(){var t=this.particleLink,r=this.renderer,a=[],s=this.particleCount,l=0;if(!(t&&r))return a;for(var u=t.last,h=!1;!h;){var m=u.content[0],v=u.content[3];if(m>this.timePassed){var p=this.getPointPosition(v);a.push({center:p,size:v.transform.scale}),u.pre?u=u.pre:h=!0}l++,l>s&&(h=!0)}return a},n.raycast=function(t){var r=this.particleLink,a=this.renderer;if(r&&a){var s=r.last,l=[],u=new Ie,h=!1;if(s&&s.content)do{var m=s.content,v=m[0],p=m[1];m[2];var b=m[3];if(v>this.timePassed){var x=this.getPointPosition(b),I=t.ray,B=!1;I&&(B=!!I.intersectSphere({center:x,radius:t.radius},u)),B&&(t.removeParticle&&(a.removeParticlePoint(p),this.clearPointTrail(p),r.removeNode(s),s.content=[0]),l.push(x),t.multiple||(h=!0))}else break}while((s=s.pre)&&!h);return l}},n.clearPointTrail=function(t){this.trails&&this.trails.dieWithParticles&&this.renderer.clearTrail(t)},n.updatePointTrail=function(t,r,a,s){var l=this.renderer;if(l.hasTrail()){var u=this.trails,h=this.getPointPosition(a),m=u.inheritParticleColor?l.getParticlePointColor(t):[1,1,1,1],v=a.transform.getWorldScale().toArray(),p=1,b=u.lifetime.getValue(r);if(u.sizeAffectsWidth&&(p*=v[0]),u.sizeAffectsLifetime&&(b*=v[0]),u.parentAffectsPosition&&this.transform.parentTransform){h.add(this.transform.parentTransform.position);var x=l.getTrailStartPosition(t);x&&h.subtract(x)}l.addTrailPoint(t,h,{color:m,lifetime:b,size:p,time:s})}},n.getPointPositionByIndex=function(t){var r=this.particleLink.getNodeByIndex(t);return r?this.getPointPosition(r.content[3]):(console.error("Get point error."),null)},n.getPointPosition=function(t){var r=t.transform,a=t.vel,s=t.lifetime,l=t.delay,u=t.gravity,h=u===void 0?[]:u,m=this.options.forceTarget,v=this.lastUpdate-l,p=new Ie,b=Ie.fromArray(h);r.assignWorldTRS(p);var x=Fo(new Ie,this.options,b,v,s,p,a);if(m){var I=m.target||[0,0,0],B=m.curve.getValue(v/s),F=1-B;x.x=x.x*F+I[0]*B,x.y=x.y*F+I[1]*B,x.z=x.z*F+I[2]*B}return x},n.initPoint=function(t){var r=this.options,a=this.lifetime,s=this.shape,l=r.startSpeed.getValue(a),u=r.particleFollowParent?this.transform.getMatrix():this.transform.getWorldMatrix(),h=t.position,m=u.transformPoint(h,new Ie),v=new ul({position:m,valid:!0}),p=t.direction;if(p=u.transformNormal(p,Pc).normalize(),r.startTurbulence&&r.turbulence){for(var b=0;b<3;b++)xu.setElement(b,r.turbulence[b].getValue(a));_c.setFromVector3(xu.negate());var x=Zf.setFromEuler(_c);x.transformNormal(p).normalize()}var I=Hf,B=Gf;s.alignSpeedDirection?(B.copyFrom(p),this.upDirectionWorld||(s.upDirection?this.upDirectionWorld=s.upDirection.clone():this.upDirectionWorld=Ie.Z.clone(),u.transformNormal(this.upDirectionWorld)),I.crossVectors(B,this.upDirectionWorld).normalize(),I.isZero()&&I.set(1,0,0)):(I.set(1,0,0),B.set(0,1,0));var F,R=this.textureSheetAnimation;R&&R.animate&&(F=Wf,F[0]=R.animationDelay.getValue(a),F[1]=R.animationDuration.getValue(a),F[2]=R.cycles.getValue(a));var X=Rc;r.start3DRotation?X.set(r.startRotationX.getValue(a),r.startRotationY.getValue(a),r.startRotationZ.getValue(a)):r.startRotation?X.set(0,0,r.startRotation.getValue(a)):X.set(0,0,0),v.setRotation(X.x,X.y,X.z);var k=r.startColor.getValue(a);k.length===3&&(k[3]=1);var H=jf;if(r.start3DSize)H.x=r.startSizeX.getValue(a),H.y=r.startSizeY.getValue(a);else{var ee=r.startSize.getValue(a),ie=r.sizeAspect.getValue(a);H.x=ee,H.y=ie===0?0:ee/ie}var oe=p.clone();if(oe.multiply(l),!r.particleFollowParent){var Qe=new Ie;this.transform.assignWorldTRS(void 0,void 0,Qe),H.x*=Qe.x,H.y*=Qe.y}return v.setScale(H.x,H.y,1),{size:H,vel:oe,color:k,delay:r.startDelay.getValue(a),lifetime:r.startLifetime.getValue(a),uv:Vl(this.uvs,!0),gravity:r.gravity,sprite:F,dirY:B,dirX:I,transform:v}},n.addBurst=function(t,r){var a=!1;if(this.emission.bursts.includes(t)||(this.emission.bursts.push(t),a=!0),a&&U(r,Array)){var s=this.emission.bursts.indexOf(t);return this.emission.burstOffsets[s]=r,s}return-1},n.removeBurst=function(t){t<this.emission.bursts.length&&(this.emission.burstOffsets[t]=null,this.emission.bursts.splice(t,1))},n.createPoint=function(t){var r={total:this.emission.rateOverTime.getValue(t),index:this.generatedCount,burstIndex:0,burstCount:0};return this.generatedCount++,this.initPoint(this.shape.generate(r))},n.stopParticleEmission=function(){this.emissionStopped=!0},n.resumeParticleEmission=function(){this.emissionStopped=!1},n.getBoundingBox=function(){var t=this.getParticleBoxes();return{type:xo.sphere,area:t}},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t;this.props=r,this.destroyed=!1;var a="",s=r.options,l=r.positionOverLifetime,u=l===void 0?{}:l,h=r.shape,m=u==null?void 0:u.gravityOverLifetime,v=nl(u==null?void 0:u.gravity),p=r.textureSheetAnimation,b=p?{animationDelay:lr(p.animationDelay||0),animationDuration:lr(p.animationDuration||1),cycles:lr(p.cycles||1),animate:p.animate,col:p.col,row:p.row,total:p.total||p.col*p.row}:void 0,x=!!(h&&h.turbulenceX||h!=null&&h.turbulenceY||h!=null&&h.turbulenceZ),I;if(x){var B,F,R;I=[lr((B=h.turbulenceX)!=null?B:0),lr((F=h.turbulenceY)!=null?F:0),lr((R=h.turbulenceZ)!=null?R:0)]}this.name="ParticleSystem",this.shape=Af(h);var X;this.emission={rateOverTime:lr(r.emission.rateOverTime),burstOffsets:Xf((X=r.emission.burstOffsets)!=null?X:[]),bursts:(r.emission.bursts||[]).map(function(ps){return new kf(ps)})},this.textureSheetAnimation=b;var k=r.renderer||{},H,ee=r.rotationOverLifetime;ee&&(H={},H.asRotation=!!ee.asRotation,H.z=ee.z?lr(ee.z):lr(0),ee.separateAxes&&(H.x=ee.x&&lr(ee.x),H.y=ee.y&&lr(ee.y)));var ie;u!=null&&u.forceTarget&&(ie={target:u.target||[0,0,0],curve:lr(u.forceCurve||[bt.LINE,[[0,0],[1,1]]])});var oe={x:u.linearX&&lr(u.linearX||0),y:u.linearY&&lr(u.linearY||0),z:u.linearZ&&lr(u.linearZ||0),asMovement:u.asMovement},Qe={x:u.orbitalX&&lr(u.orbitalX),y:u.orbitalY&&lr(u.orbitalY),z:u.orbitalZ&&lr(u.orbitalZ),center:u.orbCenter,asRotation:u.asRotation},Je=r.sizeOverLifetime||{},st=r.colorOverLifetime,ft=a,At=Je!=null&&Je.separateAxes?{separateAxes:!0,x:lr(Je.x),y:lr(Je.y)}:{separateAxes:!1,x:lr(("size"in Je?Je.size:Je.x)||1)};k.anchor=k.anchor||[0,0];var Wt=Ln.fromArray(k.anchor),Zt;this.options={particleFollowParent:!!s.particleFollowParent,startLifetime:lr(s.startLifetime),startDelay:lr(s.startDelay||0),startSpeed:lr(u.startSpeed||0),startColor:lr(s.startColor),looping:!1,maxCount:(Zt=s.maxCount)!=null?Zt:0,gravityModifier:lr(m||0),gravity:v,start3DSize:!!s.start3DSize,startTurbulence:x,turbulence:I,speedOverLifetime:u.speedOverLifetime&&lr(u.speedOverLifetime),linearVelOverLifetime:oe,orbitalVelOverLifetime:Qe,forceTarget:ie},s.startRotationZ&&(this.options.startRotation=lr(s.startRotationZ||0)),(s.startRotationX||s.startRotationY)&&(this.options.start3DRotation=!0,this.options.startRotationX=lr(s.startRotationX||0),this.options.startRotationY=lr(s.startRotationY||0),this.options.startRotationZ=lr(s.startRotationZ||0)),s.start3DSize?(this.options.startSizeX=lr(s.startSizeX),this.options.startSizeY=lr(s.startSizeY)):(this.options.startSize=lr(s.startSize),this.options.sizeAspect=lr(s.sizeAspect||1));var Kt,qt={meshSlots:s.meshSlots,name:this.name,matrix:yr.IDENTITY,shaderCachePrefix:ft,renderMode:k.renderMode||ar.BILLBOARD,side:k.side||ir.DOUBLE,gravity:v,blending:k.blending||Jt.ALPHA,rotationOverLifetime:H,gravityModifier:this.options.gravityModifier,linearVelOverLifetime:this.options.linearVelOverLifetime,orbitalVelOverLifetime:this.options.orbitalVelOverLifetime,speedOverLifetime:this.options.speedOverLifetime,sprite:b,occlusion:!!k.occlusion,transparentOcclusion:!!k.transparentOcclusion,maxCount:s.maxCount,mask:k.mask,maskMode:(Kt=k.maskMode)!=null?Kt:tr.NONE,forceTarget:ie,diffuse:k.texture,sizeOverLifetime:At,anchor:Wt};if(st){var _t=st.color,_r=st.opacity;qt.colorOverLifetime={},_r&&(qt.colorOverLifetime.opacity=lr(st.opacity)),_t&&(_t[0]===bt.GRADIENT_COLOR?qt.colorOverLifetime.color=st.color[1]:_t[0]===bt.RGBA_COLOR?qt.colorOverLifetime.color=Pr.createWithData(this.engine,{data:new Uint8Array(_t[1]),width:1,height:1}):U(_t,Pr)&&(qt.colorOverLifetime.color=_t))}var sr=[],Or=[0,0,1,1],Qr;if(r.splits){var Jr=r.splits[0];Qr=Jr[4],Or=Qr?[Jr[0],Jr[1],Jr[3],Jr[2]]:[Jr[0],Jr[1],Jr[2],Jr[3]]}if(b&&!b.animate)for(var ii=Qr?b.row:b.col,an=Qr?b.col:b.row,oa=b.total||ii*an,wa=0,fa=0;fa<ii;fa++)for(var Ja=0;Ja<an&&wa<oa;Ja++,wa++)sr.push([fa*Or[2]/ii+Or[0],Ja*Or[3]/an+Or[1],Or[2]/ii,Or[3]/an]);else sr.push(Or);this.uvs=sr,qt.textureFlip=Qr;var En=r.trails,Ba;En&&(this.trails={lifetime:lr(En.lifetime),dieWithParticles:En.dieWithParticles!==!1,sizeAffectsWidth:!!En.sizeAffectsWidth,sizeAffectsLifetime:!!En.sizeAffectsLifetime,inheritParticleColor:!!En.inheritParticleColor,parentAffectsPosition:!!En.parentAffectsPosition},Ba={name:"Trail",matrix:yr.IDENTITY,minimumVertexDistance:En.minimumVertexDistance||.02,maxTrailCount:s.maxCount,pointCountPerTrail:Math.round(En.maxPointPerTrail)||32,blending:En.blending,texture:En.texture,opacityOverLifetime:lr(En.opacityOverLifetime||1),widthOverTrail:lr(En.widthOverTrail||1),shaderCachePrefix:ft,lifetime:this.trails.lifetime,occlusion:!!En.occlusion,transparentOcclusion:!!En.transparentOcclusion,textureMap:En.textureMap,mask:k.mask,maskMode:k.maskMode},En.colorOverLifetime&&En.colorOverLifetime[0]===bt.GRADIENT_COLOR&&(Ba.colorOverLifetime=En.colorOverLifetime[1]),En.colorOverTrail&&En.colorOverTrail[0]===bt.GRADIENT_COLOR&&(Ba.colorOverTrail=En.colorOverTrail[1])),this.renderer=new Ic(this.engine,qt,Ba),this.renderer.item=this.item,this.meshes=this.renderer.meshes;var za=r.interaction;if(za){var pi;this.interaction={multiple:za.multiple,radius:(pi=za.radius)!=null?pi:.4,behavior:za.behavior}}this.item.getHitTestParams=this.getHitTestParams,this.item._content=this},gr(o,[{key:"timePassed",get:function(){return this.lastUpdate-this.loopStartTime}},{key:"lifetime",get:function(){return this.timePassed/this.item.duration}},{key:"particleCount",get:function(){return this.particleLink.length}}]),o}(Jn);ds=te([it(Ct.ParticleSystem)],ds);var Pc=new Ie,jf=new Ln,Rc=new Er,Hf=new Ie,Gf=new Ie,xu=new Ie,_c=new Er,Wf=[0,0,0],Zf=new yr;function Xf(i){var o={};return Array.isArray(i)&&i.forEach(function(n){var e=U(n,Array),t=e?n[0]:n.index,r=o[t];r||(r=o[t]=[]),e?r.push(n.slice(1,4)):r.push([+n.x,+n.y,+n.z])}),o}function Vl(i,o){var n=Math.floor(Math.random()*i.length),e=i[n];return o||i.splice(n,1),e}var Lc=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.lastTime=0,e}var n=o.prototype;return n.start=function(t){var r=t.output.getUserData();this.particleSystem||!U(r,_i)||(this.particleSystem=r.getComponent(ds),this.particleSystem&&(this.particleSystem.name=r.name,this.particleSystem.startEmit(),this.particleSystem.initEmitterTransform()))},n.processFrame=function(t){this.time>=0&&this.start(t);var r=this.particleSystem;if(r){var a=t.deltaTime;this.time>=0&&this.time<r.item.duration&&r.isEnded()&&r.reset(),Math.abs(this.time-this.lastTime)<.001&&(a=0),r.update(a)}this.lastTime=this.time},o}(zo),Yf=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){return new Lc(t)},o}(Uo),Kf={uSprite:"vec4",uParams:"vec4",uAcceleration:"vec4",uGravityModifierValue:"vec4",uOpacityOverLifetimeValue:"vec4",uRXByLifeTimeValue:"vec4",uRYByLifeTimeValue:"vec4",uRZByLifeTimeValue:"vec4",uLinearXByLifetimeValue:"vec4",uLinearYByLifetimeValue:"vec4",uLinearZByLifetimeValue:"vec4",uSpeedLifetimeValue:"vec4",uOrbXByLifetimeValue:"vec4",uOrbYByLifetimeValue:"vec4",uOrbZByLifetimeValue:"vec4",uSizeByLifetimeValue:"vec4",uSizeYByLifetimeValue:"vec4",uColorParams:"vec4",uFSprite:"vec4",uPreviewColor:"vec4",uVCurveValues:"vec4Array",uFCurveValues:"vec4",uFinalTarget:"vec3",uForceCurve:"vec4",uOrbCenter:"vec3",uTexOffset:"vec2",uPeriodValue:"vec4",uMovementValue:"vec4",uStrengthValue:"vec4",uWaveParams:"vec4"},Qf=function(){function i(n,e){this.particleCount=0,this.cachedRotationVector3=new Ie,this.cachedRotationMatrix=new Un,this.cachedLinearMove=new Ie,this.tempMatrix3=new Un,this.VERT_MAX_KEY_FRAME_COUNT=0;var t,r=((t=n.renderer)!=null?t:{}).env,a=e.speedOverLifetime,s=e.colorOverLifetime,l=e.linearVelOverLifetime,u=e.orbitalVelOverLifetime,h=e.sizeOverLifetime,m=e.rotationOverLifetime,v=e.sprite,p=e.gravityModifier,b=e.maxCount,x=e.textureFlip,I=e.useSprite,B=e.name,F=e.gravity,R=e.forceTarget,X=e.side,k=e.occlusion,H=e.anchor,ee=e.blending,ie=e.maskMode,oe=e.mask,Qe=e.transparentOcclusion,Je=e.meshSlots,st=e.renderMode,ft=st===void 0?0:st,At=e.diffuse,Wt=At===void 0?Pr.createWithData(n):At,Zt=n.gpuCapability.detail,Kt=Zt.halfFloatTexture,qt=Zt.maxVertexUniforms,_t=[["RENDER_MODE",+ft],["ENV_EDITOR",r===Mo]],_r=n.gpuCapability.level,sr=Ts(),Or=Ts(),Qr=qt>0,Jr={},ii=0,an=0,oa;if(this.useSprite=I,Qr&&_t.push(["ENABLE_VERTEX_TEXTURE",!0]),a&&(_t.push(["SPEED_OVER_LIFETIME",!0]),an|=2,Jr.uSpeedLifetimeValue=a.toUniform(sr)),v!=null&&v.animate&&(_t.push(["USE_SPRITE",!0]),an|=4,Jr.uFSprite=Jr.uSprite=new Float32Array([v.col,v.row,v.total,v.blend?1:0]),this.useSprite=!0),s!=null&&s.color&&(_t.push(["COLOR_OVER_LIFETIME",!0]),an|=16,Jr.uColorOverLifetime=U(s.color,Pr)?s.color:Pr.createWithData(n,Le(s.color))),s!=null&&s.opacity?Jr.uOpacityOverLifetimeValue=s.opacity.toUniform(sr):Jr.uOpacityOverLifetimeValue=lr(1).toUniform(sr),["x","y","z"].forEach(function(xa,so){var Ms=0,jo=0;l!=null&&l[xa]&&(Jr["uLinear"+xa.toUpperCase()+"ByLifetimeValue"]=l[xa].toUniform(sr),Ms=1,an|=1<<7+so,l.enabled=!0),_t.push(["LINEAR_VEL_"+xa.toUpperCase(),Ms]),u!=null&&u[xa]&&(Jr["uOrb"+xa.toUpperCase()+"ByLifetimeValue"]=u[xa].toUniform(sr),jo=1,an|=1<<10+so,oa=!0,u.enabled=!0),_t.push(["ORB_VEL_"+xa.toUpperCase(),jo])}),l!=null&&l.asMovement&&(_t.push(["AS_LINEAR_MOVEMENT",!0]),an|=32),oa&&(u!=null&&u.asRotation&&(_t.push(["AS_ORBITAL_MOVEMENT",!0]),an|=64),Jr.uOrbCenter=new Float32Array((u==null?void 0:u.center)||[0,0,0])),Jr.uSizeByLifetimeValue=h==null?void 0:h.x.toUniform(sr),h!=null&&h.separateAxes){var wa;_t.push(["SIZE_Y_BY_LIFE",1]),an|=16384,Jr.uSizeYByLifetimeValue=h==null||(wa=h.y)==null?void 0:wa.toUniform(sr)}m!=null&&m.z&&(Jr.uRZByLifeTimeValue=m.z.toUniform(sr),an|=32768,_t.push(["ROT_Z_LIFETIME",1])),m!=null&&m.x&&(Jr.uRXByLifeTimeValue=m.x.toUniform(sr),an|=65536,_t.push(["ROT_X_LIFETIME",1])),m!=null&&m.y&&(Jr.uRYByLifeTimeValue=m.y.toUniform(sr),an|=1<<17,_t.push(["ROT_Y_LIFETIME",1])),m!=null&&m.asRotation&&(_t.push(["ROT_LIFETIME_AS_MOVEMENT",1]),an|=1<<18),Jr.uGravityModifierValue=p.toUniform(sr),R&&(_t.push(["FINAL_TARGET",!0]),an|=1<<19,Jr.uFinalTarget=new Float32Array(R.target||[0,0,0]),Jr.uForceCurve=R.curve.toUniform(sr)),Kt&&Or.max?(an|=1<<20,Jr.uFCurveValueTexture=vn(n,ia.getAllData(Or,!0),Or.index,1)):Jr.uFCurveValues=ia.getAllData(Or);var fa=sr.max+sr.curves.length-32>qt;if(_r===2&&(sr.max=-1,sr.index=Je?Je[0]:Dc(sr.index),Or.index>0&&(Or.max=-1,Or.index=Je?Je[1]:Dc(Or.index))),fa&&Kt&&Qr){var Ja=vn(n,ia.getAllData(sr,!0),sr.index,1);Jr.uVCurveValueTexture=Ja,ii=1}else Jr.uVCurveValues=ia.getAllData(sr);var En=["-p:",ft,an,sr.index,sr.max,Or.index,Or.max].join("+");_t.push(["VERT_CURVE_VALUE_COUNT",sr.index],["FRAG_CURVE_VALUE_COUNT",Or.index],["VERT_MAX_KEY_FRAME_COUNT",sr.max],["FRAG_MAX_KEY_FRAME_COUNT",Or.max]),this.VERT_MAX_KEY_FRAME_COUNT=sr.max;var Ba=Za,za="#define LOOKUP_TEXTURE_CURVE "+ii+`
`+ha,pi=za,ps={fragment:Ba,vertex:pi,glslVersion:_r===1?oi.GLSL1:oi.GLSL3,shared:!0,cacheId:En,macros:_t,name:"particle#"+B},os={shader:ps,uniformSemantics:{effects_MatrixV:"VIEW",effects_MatrixVP:"VIEWPROJECTION",uEditorTransform:"EDITOR_TRANSFORM",effects_ObjectToWorld:"MODEL"}},Li=Wo(ee);Jr.uTexOffset=new Float32Array(Wt?[1/Wt.getWidth(),1/Wt.getHeight()]:[0,0]),Jr.uMaskTex=Wt,Jr.uColorParams=new Float32Array([Wt?1:0,+Li,0,+(!!k&&!Qe)]),Jr.uParams=[0,0,0,0],Jr.uAcceleration=[(F==null?void 0:F[0])||0,(F==null?void 0:F[1])||0,(F==null?void 0:F[2])||0,0];var Wi=Xn.create(n,os);Wi.blending=!0,Wi.depthTest=!0,Wi.depthMask=!!k,Wi.stencilRef=oe?[oe,oe]:void 0,ys(Wi,ie),Zo(Wi,ee),bl(Wi,X),Object.keys(Jr).map(function(xa){var so=Jr[xa];if(U(so,Pr)){Wi.setTexture(xa,so);return}var Ms=[];switch(Kf[xa]){case"vec4":Wi.setVector4(xa,Bn.fromArray(so));break;case"vec3":Wi.setVector3(xa,Ie.fromArray(so));break;case"vec2":Wi.setVector2(xa,Ln.fromArray(so));break;case"vec4Array":for(var jo=0;jo<so.length;jo=jo+4){var Qc=new Bn(so[jo],so[jo+1],so[jo+2],so[jo+3]);Ms.push(Qc)}Wi.setVector4Array(xa,Ms),Ms.length=0;break;default:console.warn("Uniform "+xa+"'s type not in typeMap.")}}),Wi.setVector3("emissionColor",new Ie(0,0,0)),Wi.setFloat("emissionIntensity",0);var Zs=Cr.create(n,Eu(b*4,this.useSprite,"particle#"+B)),$o=aa.create(n,{name:"MParticle_"+B,material:Wi,geometry:Zs});this.anchor=H,this.mesh=$o,this.geometry=$o.firstGeometry(),this.forceTarget=R,this.sizeOverLifetime=h,this.speedOverLifetime=a,this.linearVelOverLifetime=l,this.orbitalVelOverLifetime=u,this.orbitalVelOverLifetime=u,this.gravityModifier=p,this.rotationOverLifetime=m,this.maxCount=b,this.textureOffsets=x?[0,0,1,0,0,1,1,1]:[0,1,0,0,1,1,1,0],this.time=0}var o=i.prototype;return o.getPointColor=function(e){var t=this.geometry.getAttributeData("aRot"),r=e*32+4;return at(t),[t[r],t[r+1],t[r+2],t[r+3]]},o.clearPoints=function(){this.resetGeometryData(this.geometry),this.particleCount=0,this.geometry.setDrawCount(0),this.maxParticleBufferCount=0},o.resetGeometryData=function(e){for(var t=e.getAttributeNames(),r=e.getIndexData(),a=0;a<t.length;a++){var s=t[a],l=e.getAttributeData(s);l&&e.setAttributeData(s,new l.constructor(0))}e.setIndexData(new r.constructor(0))},o.onUpdate=function(e){var t=this.geometry.getAttributeData("aPos"),r=Math.ceil(t.length/12);this.applyTranslation(r,e),this.applyRotation(r,e),this.applyLinearMove(r,e)},o.minusTime=function(e){for(var t=this.geometry.getAttributeData("aOffset"),r=0;r<t.length;r+=4)t[r+2]-=e;this.geometry.setAttributeData("aOffset",t),this.time-=e},o.removePoint=function(e){e<this.particleCount&&this.geometry.setAttributeSubData("aOffset",e*16,new Float32Array(16))},o.setPoint=function(e,t){var r=this.maxCount;if(e<r){var a=e+1,s=a*4,l=this.geometry,u=a>this.maxParticleBufferCount,h=1;this.particleCount>300?h=(this.particleCount+100)/this.particleCount:this.particleCount>100?h=1.4:this.particleCount>0&&(h=2);var m={aPos:new Float32Array(48),aRot:new Float32Array(32),aOffset:new Float32Array(16),aTranslation:new Float32Array(12),aLinearMove:new Float32Array(12),aRotation0:new Float32Array(36)},v=this.useSprite;v&&(m.aSprite=new Float32Array(12));var p=new Ie,b=new Nt,x=new Ie(1,1,1);t.transform.assignWorldTRS(p,b,x);var I=ul.getRotation(b,new Er),B=p.toArray(),F=I.toArray(),R=this.textureOffsets,X=[0,0,t.delay,t.lifetime],k=[0,0,1,1],H=t.vel,ee=t.color,ie=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],oe=Math.random(),Qe;v&&(Qe=t.sprite);for(var Je=0;Je<4;Je++){var st=Je*2,ft=Je*3,At=Je*4,Wt=Je*12,Zt=Je*8;m.aPos.set(B,Wt),H.fill(m.aPos,Wt+3),m.aRot.set(F,Zt),m.aRot[Zt+3]=oe,m.aRot.set(ee,Zt+4),v&&m.aSprite.set(Qe,ft);var Kt=t.uv||k;if(Kt){var qt=v?1-R[st+1]:R[st+1];X[0]=Kt[0]+R[st]*Kt[2],X[1]=Kt[1]+qt*Kt[3]}m.aOffset.set(X,At);for(var _t=Je+Je,_r=(ie[_t]-this.anchor.x)*x.x,sr=(ie[_t+1]-this.anchor.y)*x.y,Or=0;Or<3;Or++)m.aPos[Wt+6+Or]=t.dirX.getElement(Or)*_r,m.aPos[Wt+9+Or]=t.dirY.getElement(Or)*sr}var Qr=new Uint16Array([0,1,2,2,1,3].map(function(an){return an+e*4}));if(u){var Jr=l.getIndexData(),ii=Ve(Jr,a*6,r*6,h);ii.set(Qr,e*6),l.setIndexData(ii),this.maxParticleBufferCount=ii.length/6}else l.setIndexSubData(e*6,Qr);Object.keys(m).forEach(function(an){var oa=m[an],wa=l.getAttributeStride(an)/Float32Array.BYTES_PER_ELEMENT;if(u){var fa=l.getAttributeData(an);at(fa);var Ja=Ve(fa,s*wa,r*4*wa,h);Ja.set(oa,oa.length*e),l.setAttributeData(an,Ja)}else l.setAttributeSubData(an,oa.length*e,oa)}),this.particleCount=Math.max(a,this.particleCount),l.setDrawCount(this.particleCount*6)}},o.applyTranslation=function(e,t){var r=this.time,a=this.geometry.getAttributeData("aTranslation"),s=this.geometry.getAttributeData("aVel"),l=this.geometry.getAttributeData("aOffset");a.length<e*3&&(a=this.expandArray(a,e*3));for(var u=0,h=0,m=0,v=this.mesh.material.getVector4("uAcceleration"),p=this.mesh.material.getVector4("uGravityModifierValue"),b=0;b<e;b+=4){var x=b*12+3;u=s[x],h=s[x+1],m=s[x+2];var I=r-l[b*4+2],B=l[b*4+3];if(v&&p){var F=this.gravityModifier.getIntegrateValue(0,I,B),R=v.x*F,X=v.y*F,k=v.z*F;if(this.speedOverLifetime){var H=this.speedOverLifetime.getValue(I/B);u=u*H+R,h=h*H+X,m=m*H+k}else u=u+R,h=h+X,m=m+k}var ee=b*3;if(l[b*4+2]<r){var ie=u*(t/1e3),oe=h*(t/1e3),Qe=m*(t/1e3);a[ee]+=ie,a[ee+1]+=oe,a[ee+2]+=Qe,a[ee+3]+=ie,a[ee+4]+=oe,a[ee+5]+=Qe,a[ee+6]+=ie,a[ee+7]+=oe,a[ee+8]+=Qe,a[ee+9]+=ie,a[ee+10]+=oe,a[ee+11]+=Qe}}this.geometry.setAttributeData("aTranslation",a)},o.applyRotation=function(e,t){var r=this.geometry.getAttributeData("aRotation0"),a=this.geometry.getAttributeData("aOffset"),s=this.geometry.getAttributeData("aRot"),l=this.geometry.getAttributeData("aSeed"),u=this.time,h=this.cachedRotationMatrix;r.length<e*9&&(r=this.expandArray(r,e*9));for(var m=0;m<e;m+=4){var v=u-a[m*4+2],p=a[m*4+3],b=ai(v/p,0,1),x=m*8,I=this.cachedRotationVector3.set(s[x],s[x+1],s[x+2]),B=l[m*8+3],F=I;this.rotationOverLifetime?(this.rotationOverLifetime.x&&(U(this.rotationOverLifetime.x,Oo)?F.x+=this.rotationOverLifetime.x.getValue(b,B):F.x+=this.rotationOverLifetime.x.getValue(b)),this.rotationOverLifetime.y&&(U(this.rotationOverLifetime.y,Oo)?F.y+=this.rotationOverLifetime.y.getValue(b,B):F.y+=this.rotationOverLifetime.y.getValue(b)),this.rotationOverLifetime.z&&(U(this.rotationOverLifetime.z,Oo)?F.z+=this.rotationOverLifetime.z.getValue(b,B):F.z+=this.rotationOverLifetime.z.getValue(b))):h.setZero(),F.dot(F)===0&&h.identity();var R=Math.PI/180,X=F.x*R,k=F.y*R,H=F.z*R,ee=Math.sin(X),ie=Math.sin(k),oe=Math.sin(H),Qe=Math.cos(X),Je=Math.cos(k),st=Math.cos(H);h.set(st,-oe,0,oe,st,0,0,0,1),h.multiply(this.tempMatrix3.set(Je,0,ie,0,1,0,-ie,0,Je)),h.multiply(this.tempMatrix3.set(1,0,0,0,Qe,-ee,0,ee,Qe));var ft=m*9,At=h.elements;r.set(At,ft),m+4<=e&&(r.set(At,ft+9),r.set(At,ft+18),r.set(At,ft+27))}this.geometry.setAttributeData("aRotation0",r)},o.applyLinearMove=function(e,t){var r=this.geometry.getAttributeData("aLinearMove"),a=this.geometry.getAttributeData("aOffset"),s=this.geometry.getAttributeData("aSeed"),l=this.time;r.length<e*3&&(r=this.expandArray(r,e*3));var u=this.cachedLinearMove;if(this.linearVelOverLifetime&&this.linearVelOverLifetime.enabled)for(var h=0;h<e;h+=4){var m=l-a[h*4+2],v=a[h*4+3],p=m/v,b=s[h*8+3];u.setZero(),this.linearVelOverLifetime.asMovement?(this.linearVelOverLifetime.x&&(U(this.linearVelOverLifetime.x,Oo)?u.x=this.linearVelOverLifetime.x.getValue(p,b):u.x=this.linearVelOverLifetime.x.getValue(p)),this.linearVelOverLifetime.y&&(U(this.linearVelOverLifetime.y,Oo)?u.y=this.linearVelOverLifetime.y.getValue(p,b):u.y=this.linearVelOverLifetime.y.getValue(p)),this.linearVelOverLifetime.z&&(U(this.linearVelOverLifetime.z,Oo)?u.z=this.linearVelOverLifetime.z.getValue(p,b):u.z=this.linearVelOverLifetime.z.getValue(p))):(this.linearVelOverLifetime.x&&(U(this.linearVelOverLifetime.x,Oo)?u.x=this.linearVelOverLifetime.x.getIntegrateValue(0,m,b):u.x=this.linearVelOverLifetime.x.getIntegrateValue(0,m,v)),this.linearVelOverLifetime.y&&(U(this.linearVelOverLifetime.y,Oo)?u.y=this.linearVelOverLifetime.y.getIntegrateValue(0,m,b):u.y=this.linearVelOverLifetime.y.getIntegrateValue(0,m,v)),this.linearVelOverLifetime.z&&(U(this.linearVelOverLifetime.z,Oo)?u.z=this.linearVelOverLifetime.z.getIntegrateValue(0,m,b):u.z=this.linearVelOverLifetime.z.getIntegrateValue(0,m,v)));var x=h*3;r[x]=u.x,r[x+1]=u.y,r[x+2]=u.z,r[x+3]=u.x,r[x+4]=u.y,r[x+5]=u.z,r[x+6]=u.x,r[x+7]=u.y,r[x+8]=u.z,r[x+9]=u.x,r[x+10]=u.y,r[x+11]=u.z}this.geometry.setAttributeData("aLinearMove",r)},o.expandArray=function(e,t){var r=new Float32Array(t);return r.set(e),r},i}(),Cu=[10,32,64,160];function Dc(i){for(var o=0;o<Cu.length;o++){var n=Cu[o];if(n>i)return n}return i||Cu[0]}function Eu(i,o,n){var e=Float32Array.BYTES_PER_ELEMENT,t=e*12,r={aPos:{size:3,offset:0,stride:t,data:new Float32Array(0)},aVel:{size:3,offset:3*e,stride:t,dataSource:"aPos"},aDirX:{size:3,offset:6*e,stride:t,dataSource:"aPos"},aDirY:{size:3,offset:9*e,stride:t,dataSource:"aPos"},aRot:{size:3,offset:0,stride:8*e,data:new Float32Array(0)},aSeed:{size:1,offset:3*e,stride:8*e,dataSource:"aRot"},aColor:{size:4,offset:4*e,stride:8*e,dataSource:"aRot"},aOffset:{size:4,stride:4*e,data:new Float32Array(0)},aTranslation:{size:3,data:new Float32Array(0)},aLinearMove:{size:3,data:new Float32Array(0)},aRotation0:{size:3,offset:0,stride:9*e,data:new Float32Array(0)},aRotation1:{size:3,offset:3*e,stride:9*e,dataSource:"aRotation0"},aRotation2:{size:3,offset:6*e,stride:9*e,dataSource:"aRotation0"}};return o&&(r.aSprite={size:3,stride:3*e,data:new Float32Array(0)}),{attributes:r,indices:{data:new Uint16Array(0)},name:n,maxVertex:i}}function Fc(i,o,n){n===void 0&&(n="");var e,t=i.content,r=+(((e=t.renderer)==null?void 0:e.renderMode)||0),a=[["RENDER_MODE",r],["ENV_EDITOR",n===Mo]],s=o.level,l=o.detail,u=Ts(),h=Ts(),m=l.maxVertexUniforms>0,v,p=((v=t.positionOverLifetime)!=null?v:{}).speedOverLifetime,b=0,x=0;m&&a.push(["ENABLE_VERTEX_TEXTURE",!0]),p&&(a.push(["SPEED_OVER_LIFETIME",!0]),x|=2,oo(u,p));var I=t.textureSheetAnimation;I&&I.animate&&(a.push(["USE_SPRITE",!0]),x|=4);var B=t.colorOverLifetime;B&&B.color&&(a.push(["COLOR_OVER_LIFETIME",!0]),x|=16);var F=B&&B.opacity;F&&oo(u,F);var R=t.positionOverLifetime,X;if(["x","y","z"].forEach(function(At,Wt){var Zt=0,Kt="linear"+At.toUpperCase(),qt="orbital"+At.toUpperCase();R!=null&&R[Kt]&&(oo(u,R[Kt]),Zt=1,x|=1<<7+Wt),a.push(["LINEAR_VEL_"+At.toUpperCase(),Zt]);var _t=0;R!=null&&R[qt]&&(oo(u,R[qt]),_t=1,x|=1<<10+Wt,X=!0),a.push(["ORB_VEL_"+At.toUpperCase(),_t])}),R!=null&&R.asMovement&&(a.push(["AS_LINEAR_MOVEMENT",!0]),x|=32),X&&R!=null&&R.asRotation&&(a.push(["AS_ORBITAL_MOVEMENT",!0]),x|=64),t.sizeOverLifetime){var k=t.sizeOverLifetime,H=k.separateAxes;H?(oo(u,k.x),a.push(["SIZE_Y_BY_LIFE",1]),x|=16384,oo(u,k.y)):oo(u,k.size)}if(t.rotationOverLifetime){var ee=t.rotationOverLifetime;ee.z&&(oo(u,ee==null?void 0:ee.z),x|=32768,a.push(["ROT_Z_LIFETIME",1])),ee.separateAxes&&(ee.x&&(oo(u,ee.x),x|=65536,a.push(["ROT_X_LIFETIME",1])),ee.y&&(oo(u,ee.y),x|=1<<17,a.push(["ROT_Y_LIFETIME",1]))),ee!=null&&ee.asRotation&&(a.push(["ROT_LIFETIME_AS_MOVEMENT",1]),x|=1<<18)}oo(u,R==null?void 0:R.gravityOverLifetime);var ie=R==null?void 0:R.forceTarget;ie&&(a.push(["FINAL_TARGET",!0]),x|=1<<19,oo(u,R.forceCurve));var oe=l.halfFloatTexture;oe&&h.max&&(x|=1<<20);var Qe=l.maxVertexUniforms,Je=u.max+u.curves.length-32>Qe;uu(oc)&&(Je=!0),s===2&&(u.max=-1,h.index>0&&(h.max=-1)),Je&&oe&&m&&(b=1);var st=["-p:",r,x,u.index,u.max,h.index,h.max].join("+"),ft={fragment:Za,vertex:"#define LOOKUP_TEXTURE_CURVE "+b+`
`+ha,shared:!0,cacheId:st,macros:a,name:"particle#"+i.name};return a.push(["VERT_CURVE_VALUE_COUNT",u.index],["FRAG_CURVE_VALUE_COUNT",h.index],["VERT_MAX_KEY_FRAME_COUNT",u.max],["FRAG_MAX_KEY_FRAME_COUNT",h.max]),{shader:ft,vertex:u.index,fragment:h.index}}function Jf(i,o,n){var e,t=(e=i.cacheId)==null?void 0:e.split("+");if(t[3]=o,t[5]=n,i.cacheId=t.join("+"),!!i.macros)for(var r=0;r<i.macros.length;r++){var a=i.macros[r];if(a[0]==="VERT_CURVE_VALUE_COUNT")a[1]=o;else if(a[0]==="FRAG_CURVE_VALUE_COUNT"){a[1]=n;break}}}var qf=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o.precompile=function(e,t,r){var a=t.engine.gpuCapability,s=a.level,l=(r!=null?r:{}).env,u=t.getShaderLibrary(),h=[],m=[],v=0,p=0;return e.forEach(function(b){b.items.forEach(function(x){ou.isParticle(x)&&h.push(x)})}),h.forEach(function(b){var x=Fc(b,a,l),I=x.shader,B=x.fragment,F=x.vertex;if(m.push(I),v=Math.max(v,B),p=Math.max(p,F),b.content.trails){var R=Ac(b.content.trails,b.content.options.maxCount,b.name,a,l);R.glslVersion=s===2?oi.GLSL3:oi.GLSL1,u==null||u.addShader(R)}}),m.forEach(function(b){s===2?(Jf(b,p,v),b.glslVersion=oi.GLSL3):b.glslVersion=oi.GLSL1,u==null||u.addShader(b)}),s===2&&h.forEach(function(b){b.content.options.meshSlots=[p,v]}),Promise.resolve()},o}(mr),eh=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o}(mr),Nc=function(){function i(n){this.curveValues={},this.playable=n}var o=i.prototype;return o.setCurveValue=function(e,t,r){return this.findCurveValue(e,t)?this.curveValues[e+t].value=r:this.curveValues[e+t]={componentType:e,propertyName:t,value:r},this.curveValues[e+t]},o.findCurveValue=function(e,t){return this.curveValues[e+t]},i}(),th=function(i){pe(o,i);function o(n){var e;return e=i.call(this,n)||this,e.animationStream=new Nc(Be(e)),e}return o}(zo),$s=new Er,ns=new Ie(1,1,1),Vc=new Ie,rh=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.start=function(){var t=this.boundObject,r=t.transform.scale;this.originalTransform={position:t.transform.position.clone(),rotation:t.transform.getRotation().clone(),scale:new Ie(r.x,r.y,r.x)};var a=this.data.positionOverLifetime,s=this.data.rotationOverLifetime,l=this.data.sizeOverLifetime;if(a&&Object.keys(a).length!==0){this.positionOverLifetime=a,a.path&&(this.originalTransform.path=lr(a.path));var u=a.linearX||a.linearY||a.linearZ;u&&(this.linearVelOverLifetime={x:a.linearX&&lr(a.linearX),y:a.linearY&&lr(a.linearY),z:a.linearZ&&lr(a.linearZ),asMovement:a.asMovement,enabled:!!u});var h=a.orbitalX||a.orbitalY||a.orbitalZ;h&&(this.orbitalVelOverLifetime={x:a.orbitalX&&lr(a.orbitalX),y:a.orbitalY&&lr(a.orbitalY),z:a.orbitalZ&&lr(a.orbitalZ),center:nl(a.orbCenter),asRotation:a.asRotation,enabled:!!h}),this.speedOverLifetime=a.speedOverLifetime&&lr(a.speedOverLifetime)}if(l&&(l.separateAxes?(this.sizeSeparateAxes=!0,this.sizeXOverLifetime=lr(l.x||1),this.sizeYOverLifetime=lr(l.y||1),this.sizeZOverLifetime=lr(l.z||1)):this.sizeXOverLifetime=lr(l.size||1)),s&&(this.rotationOverLifetime={asRotation:s.asRotation,separateAxes:s.separateAxes,z:lr(s.z||0)},s.separateAxes)){var m=this.rotationOverLifetime;m.x=lr(s.x||0),m.y=lr(s.y||0)}this.gravity=Ie.fromArray((a==null?void 0:a.gravity)||[]);var v;this.gravityModifier=lr((v=a==null?void 0:a.gravityOverLifetime)!=null?v:0),this.direction=a!=null&&a.direction?Ie.fromArray(a.direction).normalize():new Ie,this.startSpeed=(a==null?void 0:a.startSpeed)||0,this.velocity=this.direction.clone(),this.velocity.multiply(this.startSpeed)},n.processFrame=function(t){if(!this.boundObject){var r=t.output.getUserData();U(r,_i)&&(this.boundObject=r,this.start())}this.boundObject&&this.boundObject.composition&&this.sampleAnimation()},n.sampleAnimation=function(){var t=this,r=this.boundObject,a=r.duration,s=this.time/a;if(s=s<0?0:s>1?1:s,this.sizeXOverLifetime){ns.x=this.sizeXOverLifetime.getValue(s),this.sizeSeparateAxes?(ns.y=this.sizeYOverLifetime.getValue(s),ns.z=this.sizeZOverLifetime.getValue(s)):ns.z=ns.y=ns.x;var l=this.originalTransform.scale;r.transform.setScale(ns.x*l.x,ns.y*l.y,ns.z*l.z)}if(this.rotationOverLifetime){var u=function(b){return t.rotationOverLifetime.asRotation?b.getValue(s):b.getIntegrateValue(0,s,a)},h=u(this.rotationOverLifetime.z),m=this.rotationOverLifetime.separateAxes;$s.x=m?u(this.rotationOverLifetime.x):0,$s.y=m?u(this.rotationOverLifetime.y):0,$s.z=h;var v=$s.addEulers(this.originalTransform.rotation,$s);r.transform.setRotation(v.x,v.y,v.z)}if(this.positionOverLifetime){var p=Vc;Fo(p,this,this.gravity,this.time,a,this.originalTransform.position,this.velocity),this.originalTransform.path&&p.add(this.originalTransform.path.getValue(s)),r.transform.setPosition(p.x,p.y,p.z)}},o}(th),Bc=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new rh(t);return r.data=this.transformAnimationData,r},n.fromData=function(t){this.transformAnimationData=t},o}(Uo);Bc=te([it(Ct.TransformPlayableAsset)],Bc);var nh=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.processFrame=function(t){var r=t.output.getUserData();U(r,_i)&&(r.time=this.time)},o}(zo),zc=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){return new nh(t)},o}(Uo);zc=te([it(Ct.ActivationPlayableAsset)],zc);var Uc=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.duration=0,e.positionCurves=[],e.rotationCurves=[],e.scaleCurves=[],e.floatCurves=[],e}var n=o.prototype;return n.sampleAnimation=function(t,r){var a=t.duration,s=r/a;s=s<0?0:s>1?1:s;for(var l=Fe(this.positionCurves),u;!(u=l()).done;){var h=u.value,m=h.keyFrames.getValue(s),v=this.findTarget(t,h.path);v==null||v.transform.setPosition(m.x,m.y,m.z)}for(var p=Fe(this.rotationCurves),b;!(b=p()).done;){var x=b.value,I=x.keyFrames.getValue(s),B=this.findTarget(t,x.path);B==null||B.transform.setQuaternion(I.x,I.y,I.z,I.w)}for(var F=Fe(this.scaleCurves),R;!(R=F()).done;){var X=R.value,k=X.keyFrames.getValue(s),H=this.findTarget(t,X.path);H==null||H.transform.setScale(k.x,k.y,k.z)}},n.fromData=function(t){this.positionCurves.length=0,this.scaleCurves.length=0,this.floatCurves.length=0;for(var r=Fe(t.positionCurves),a;!(a=r()).done;){var s=a.value,l={path:s.path,keyFrames:lr(s.keyFrames)};this.duration=Math.max(this.duration,l.keyFrames.getMaxTime()),this.positionCurves.push(l)}for(var u=Fe(t.rotationCurves),h;!(h=u()).done;){var m=h.value,v={path:m.path,keyFrames:lr(m.keyFrames)};this.duration=Math.max(this.duration,v.keyFrames.getMaxTime()),this.rotationCurves.push(v)}for(var p=Fe(t.scaleCurves),b;!(b=p()).done;){var x=b.value,I={path:x.path,keyFrames:lr(x.keyFrames)};this.duration=Math.max(this.duration,I.keyFrames.getMaxTime()),this.scaleCurves.push(I)}for(var B=Fe(t.floatCurves),F;!(F=B()).done;){var R=F.value,X={path:R.path,keyFrames:lr(R.keyFrames),property:R.property,className:R.className};this.duration=Math.max(this.duration,X.keyFrames.getMaxTime()),this.floatCurves.push(X)}},n.findTarget=function(t,r){for(var a=t,s=Fe(r),l;!(l=s()).done;){for(var u=l.value,h=!1,m=Fe(a.children),v;!(v=m()).done;){var p=v.value;if(p.name===u){a=p,h=!0;break}}if(!h)return}return a},o}(wn);Uc=te([it(Ct.AnimationClip)],Uc);var Ph=null,c=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.clipPlayables=[],e.clipWeights=[],e}var n=o.prototype;return n.processFrame=function(t){for(var r=Fe(this.clipPlayables),a;!(a=r()).done;){var s=a.value;s.processFrame(t)}this.evaluate(t)},n.setClipWeight=function(t,r){if(U(t,zo)){for(var a=0;a<this.clipPlayables.length;a++)if(this.clipPlayables[a]===t){this.clipWeights[a]=r;return}}else this.clipWeights.length<t+1&&(this.clipWeights.length=t+1),this.clipWeights[t]=r},n.getClipWeight=function(t){return this.clipWeights[t]},n.getClipPlayable=function(t){return this.clipPlayables[t]},n.evaluate=function(t){},o}(zo),f=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(U(r,_i)){for(var a=r,s=!1,l=0;l<this.clipPlayables.length;l++)if(this.getClipWeight(l)>0){s=!0;break}s?(a.transform.setValid(!0),a.setActive(!0)):(a.transform.setValid(!1),a.setActive(!1))}},o}(c),d=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.processFrame=function(t){this.value=this.curve.getValue(this.time/this.getDuration())},o}(zo),g=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(r){var a=!1,s=r[this.propertyName];if(U(s,bn)){s.setZero();for(var l=0;l<this.clipPlayables.length;l++){var u=this.getClipWeight(l);if(u>0){var h=this.getClipPlayable(l);if(!U(h,d)){console.error("ColorPropertyMixerPlayable received incompatible input");continue}var m=h.value;s.r+=m.r*u,s.g+=m.g*u,s.b+=m.b*u,s.a+=m.a*u,a=!0}}a&&(r[this.propertyName]=s)}}},o}(c),C=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(r){for(var a=!1,s=0,l=0;l<this.clipPlayables.length;l++){var u=this.getClipWeight(l);if(u>0){var h=this.getClipPlayable(l);if(!U(h,d)){console.error("FloatPropertyTrack added non-FloatPropertyPlayableAsset");continue}var m=h.value;s+=m*u,a=!0}}a&&(r[this.propertyName]=s)}},o}(c),A=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){},o}(c),O=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){},o}(c),L=function(){function i(){}return i.collectSerializableObject=function(n,e){if(!e[n.getInstanceId()]){n.toData(),e[n.getInstanceId()]=n;var t=Di(n);if(t)for(var r=Fe(Object.keys(t)),a;!(a=r()).done;){var s=a.value,l=n.taggedProperties[s];if(l===void 0&&(l=n[s]),wn.is(l))i.collectSerializableObject(l,e);else if(Ur(l))for(var u=Fe(l),h;!(h=u()).done;){var m=h.value;wn.is(m)&&i.collectSerializableObject(m,e)}else if(Te(l))for(var v=Fe(Object.keys(l)),p;!(p=v()).done;){var b=p.value,x=l[b];wn.is(x)&&i.collectSerializableObject(x,e)}}}},i.serializeEffectObject=function(n){var e={},t=n.engine,r=Zr({},t.jsonSceneData);i.collectSerializableObject(n,e);for(var a=Fe(Object.keys(e)),s;!(s=a()).done;){var l=s.value,u=e[l];r[u.getInstanceId()]||(r[u.getInstanceId()]={}),i.serialize(u,r[u.getInstanceId()])}return r},i.serialize=function(n,e){n.toData(),e||(e={});var t=Di(n);if(t)for(var r=Fe(Object.keys(t)),a;!(a=r()).done;){var s=a.value,l=n[s];typeof l=="number"||typeof l=="string"||typeof l=="boolean"||i.checkTypedArray(l)?e[s]=l:Ur(l)?(e[s]||(e[s]=[]),i.serializeArrayProperty(l,e[s],0)):wn.is(l)?e[s]={id:l.getInstanceId()}:Te(l)&&(e[s]||(e[s]={}),i.serializeObjectProperty(l,e[s],0))}for(var u=Fe(Object.keys(n.taggedProperties)),h;!(h=u()).done;){var m=h.value,v=n.taggedProperties[m];typeof v=="number"||typeof v=="string"||typeof v=="boolean"||i.checkTypedArray(v)?e[m]=v:Ur(v)?(e[m]||(e[m]=[]),i.serializeArrayProperty(v,e[m],0)):wn.is(v)?e[m]={id:v.getInstanceId()}:Te(v)&&(e[m]||(e[m]={}),i.serializeObjectProperty(v,e[m],0))}return e},i.deserialize=function(n,e){for(var t=e.taggedProperties,r=Di(e),a=e.engine,s=Fe(Object.keys(n)),l;!(l=s()).done;){var u=l.value;if(!(r&&r[u])){var h=n[u];t[u]=i.deserializeProperty(h,a,0)}}if(r)for(var m=Fe(Object.keys(r)),v;!(v=m()).done;){var p=v.value,b=n[p];if(b!==void 0){var x=r[p].type;e[p]=i.deserializeProperty(b,a,0,x)}}e.fromData(t)},i.deserializeAsync=function(n,e){return M(function(){var t,r,a,s,l,u,h,m,v,p,b,x;return J(this,function(I){switch(I.label){case 0:t=e.taggedProperties,r=Di(e),a=e.engine,s=Fe(Object.keys(n)),I.label=1;case 1:return(l=s()).done?[3,4]:(u=l.value,r&&r[u]?[3,3]:(h=n[u],[4,i.deserializePropertyAsync(h,a,0)]));case 2:t[u]=I.sent(),I.label=3;case 3:return[3,1];case 4:if(!r)return[3,8];m=Fe(Object.keys(r)),I.label=5;case 5:return(v=m()).done?[3,8]:(p=v.value,b=n[p],b===void 0?[3,7]:(x=r[p].type,[4,i.deserializePropertyAsync(b,a,0,x)]));case 6:e[p]=I.sent(),I.label=7;case 7:return[3,5];case 8:return e.fromData(t),[2]}})})()},i.checkTypedArray=function(n){return U(n,Int8Array)||U(n,Uint8Array)||U(n,Uint8ClampedArray)||U(n,Int16Array)||U(n,Uint16Array)||U(n,Int32Array)||U(n,Uint32Array)||U(n,Float32Array)||U(n,Float64Array)||U(n,ArrayBuffer)},i.checkDataPath=function(n){return!!(Te(n)&&Object.keys(n).length===1&&"id"in n&&Lr(n.id)&&n.id.length===32)},i.checkGLTFNode=function(n){return Te(n)&&n.nodeIndex!==void 0&&n.isJoint!==void 0},i.checkImageSource=function(n){return $e(n)||U(n,HTMLImageElement)},i.deserializeProperty=function(n,e,t,r){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}if(Ur(n)){for(var a=[],s=Fe(n),l;!(l=s()).done;){var u=l.value;a.push(i.deserializeProperty(u,e,t+1,r))}return a}else{if(i.checkDataPath(n))return e.assetLoader.loadGUID(n.id);if(Te(n)&&n.constructor===Object){var h;r?h=new r:h={};for(var m=Fe(Object.keys(n)),v;!(v=m()).done;){var p=v.value;h[p]=i.deserializeProperty(n[p],e,t+1)}return h}else return n}},i.deserializePropertyAsync=function(n,e,t,r){return M(function(){var a,s,l,u,h,m,v,p,b,x;return J(this,function(I){switch(I.label){case 0:if(t>14)return console.error("The nested object layers of the serialized data exceed the maximum limit."),[2];if(!Ur(n))return[3,5];a=[],s=Fe(n),I.label=1;case 1:return(l=s()).done?[3,4]:(u=l.value,h=a.push,[4,i.deserializePropertyAsync(u,e,t+1,r)]);case 2:h.apply(a,[I.sent()]),I.label=3;case 3:return[3,1];case 4:return[2,a];case 5:return i.checkDataPath(n)?[4,e.assetLoader.loadGUIDAsync(n.id)]:[3,7];case 6:return m=I.sent(),[2,m];case 7:if(!(Te(n)&&n.constructor===Object))return[3,12];r?v=new r:v={},p=Fe(Object.keys(n)),I.label=8;case 8:return(b=p()).done?[3,11]:(x=b.value,[4,i.deserializePropertyAsync(n[x],e,t+1)]);case 9:v[x]=I.sent(),I.label=10;case 10:return[3,8];case 11:return[2,v];case 12:return[2,n];case 13:return[2]}})})()},i.serializeObjectProperty=function(n,e,t){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}e||(e={});for(var r=Fe(Object.keys(n)),a;!(a=r()).done;){var s=a.value,l=n[s];typeof l=="number"||typeof l=="string"||typeof l=="boolean"||i.checkTypedArray(n)?e[s]=l:Ur(l)?(e[s]||(e[s]=[]),i.serializeArrayProperty(l,e[s],t+1)):wn.is(l)?e[s]={id:l.getInstanceId()}:Te(l)&&(e[s]||(e[s]={}),i.serializeObjectProperty(l,e[s],t+1))}},i.serializeArrayProperty=function(n,e,t){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}e||(e=[]);for(var r=0;r<n.length;r++){var a=n[r];typeof a=="number"||typeof a=="string"||typeof a=="boolean"||i.checkTypedArray(n)?e[r]=a:Ur(a)?(e[r]||(e[r]=[]),i.serializeArrayProperty(a,e[r],t+1)):wn.is(a)?e[r]={id:a.getInstanceId()}:Te(a)&&(e[r]||(e[r]={}),i.serializeObjectProperty(a,e[r],t+1))}},i}(),V=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.time=0,e.startTime=0,e.items=[],e.reusable=!1,e.sceneBindings=[],e.graph=new tc,e}var n=o.prototype;return n.onStart=function(){this.timelineAsset||(this.timelineAsset=new Tu(this.engine)),this.resolveBindings(),this.timelinePlayable=this.timelineAsset.createPlayable(this.graph),this.item.endBehavior!==Se.destroy&&this.setReusable(!0)},n.setReusable=function(t){for(var r=Fe(this.timelineAsset.tracks),a;!(a=r()).done;){var s=a.value,l=s.boundObject;if(U(l,_i)){var u=l.getComponent(o);u&&u.setReusable(t)}}},n.getReusable=function(){return this.reusable},n.onUpdate=function(t){var r=this.time;this.timelinePlayable.setTime(r),this.timelinePlayable.evaluate(),this.graph.evaluate(t)},n.createContent=function(){if(this.item.composition)for(var t=Fe(this.items),r;!(r=t()).done;){var a=r.value;if(a.composition=this.item.composition,_i.isComposition(a)){this.item.composition.refContent.push(a);var s=a.props.content,l=s.options.refId,u=this.item.composition.refCompositionProps.get(l);if(!u)throw new Error("Referenced precomposition with Id: "+l+" does not exist.");var h=a.addComponent(o);L.deserialize(u,h),h.createContent();for(var m=Fe(h.items),v;!(v=m()).done;){var p=v.value;p.setInstanceId(nt());for(var b=Fe(p.components),x;!(x=b()).done;){var I=x.value;I.setInstanceId(nt())}}}}},n.onEnable=function(){for(var t=Fe(this.items),r;!(r=t()).done;){var a=r.value;a.setActive(!0)}},n.onDisable=function(){for(var t=Fe(this.items),r;!(r=t()).done;){var a=r.value;a.setActive(!1)}},n.onDestroy=function(){this.item.composition&&this.items&&(this.items.forEach(function(t){return t.dispose()}),this.items.length=0)},n.hitTest=function(t,r,a,s,l,u){for(var h,m=function(F){var R=h.items[F];if(R.isActive&&R.transform.getValid()&&!_i.isComposition(R)&&!b(R)){var X=R.getHitTestParams(l);if(X){var k=!1,H=new Ie;if(X.type===xo.triangle)for(var ee=X.triangles,ie=X.backfaceCulling,oe=0;oe<ee.length;oe++){var Qe=ee[oe];if(t.intersectTriangle(Qe,H,ie)){k=!0,v.push(H);break}}else if(X.type===xo.box){var Je=X.center,st=X.size,ft=Je.clone().addScaledVector(st,.5),At=Je.clone().addScaledVector(st,-.5);t.intersectBox({min:ft,max:At},H)&&(k=!0,v.push(H))}else if(X.type===xo.sphere){var Wt=X.center,Zt=X.radius;t.intersectSphere({center:Wt,radius:Zt},H)&&(k=!0,v.push(H))}else if(X.type===xo.custom){var Kt=X.collect(t,new Ln(r,a));Kt&&Kt.length>0&&(Kt.forEach(function(_t){v.push(_t)}),k=!0)}if(k){var qt={compContent:h.item,id:R.id,name:R.name,position:v[v.length-1],parentId:R.parentId,hitPositions:v,behavior:X.behavior};if(R.emit("click",qt),s.push(qt),p(qt))return{v:s}}}}},v=[],p=(u==null?void 0:u.stop)||cr,b=(u==null?void 0:u.skip)||cr,x=(u==null?void 0:u.maxCount)||this.items.length,I=0;I<this.items.length&&s.length<x;I++){var B=(h=this,m(I));if(xe(B)==="object")return B.v}return s},n.setChildrenRenderOrder=function(t){for(var r=Fe(this.items),a;!(a=r()).done;){var s=a.value;s.renderOrder=t++;var l=s.getComponent(o);l&&(t=l.setChildrenRenderOrder(t))}return t},n.fromData=function(t){i.prototype.fromData.call(this,t),this.items=t.items;var r;this.startTime=(r=t.startTime)!=null?r:0,this.sceneBindings=t.sceneBindings,this.timelineAsset=t.timelineAsset},n.resolveBindings=function(){for(var t=Fe(this.sceneBindings),r;!(r=t()).done;){var a=r.value;a.key.boundObject=a.value}for(var s=Fe(this.timelineAsset.tracks),l;!(l=s()).done;){var u=l.value;this.updateTrackAnimatedObject(u)}},n.updateTrackAnimatedObject=function(t){for(var r=Fe(t.getChildTracks()),a;!(a=r()).done;){var s=a.value;s.updateAnimatedObject(),this.updateTrackAnimatedObject(s)}},o}(Si),j=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.processFrame=function(t){var r=t.output.getUserData();U(r,V)&&(r.time=this.getTime())},o}(zo),K=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(U(r,V)){for(var a=r,s=!1,l=0;l<this.clipPlayables.length;l++)if(this.getClipWeight(l)>0){s=!0;break}s?a.item.setActive(!0):a.item.setActive(!1)}},o}(c),ge=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.evaluate=function(t){},o}(c),Me=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var n=o.prototype;return n.evaluate=function(t){var r=t.output.getUserData();if(r){var a=!1,s=r[this.propertyName];if(U(s,Bn)){s.setZero();for(var l=0;l<this.clipPlayables.length;l++){var u=this.getClipWeight(l);if(u>0){var h=this.getClipPlayable(l);if(!U(h,d)){console.error("Vector4PropertyTrack added non-Vector4PropertyPlayableAsset");continue}var m=h.value;s.x+=m.x*u,s.y+=m.y*u,s.z+=m.z*u,s.w+=m.w*u,a=!0}}a&&(r[this.propertyName]=s)}}},o}(c),ut=function(){function i(){this.start=0,this.duration=0}var o=i.prototype;return o.toLocalTime=function(e){var t=e-this.start,r=this.duration;return t-r>0&&(this.endBehavior===Se.restart?t=t%r:this.endBehavior===Se.freeze&&(t=Math.min(r,t))),t},i}(),ht=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.trackType=0,e.clipSeed=0,e.clips=[],e.children=[],e}var n=o.prototype;return n.updateAnimatedObject=function(){this.parent&&(this.boundObject=this.parent.boundObject)},n.createTrackMixer=function(t){return new c(t)},n.createOutput=function(){var t=new gf;return t},n.createPlayableGraph=function(t,r){var a=this.createMixerPlayableGraph(t,r);return a},n.createMixerPlayableGraph=function(t,r){for(var a=[],s=Fe(this.clips),l;!(l=s()).done;){var u=l.value;a.push(u)}var h=this.compileClips(t,a,r);return h},n.compileClips=function(t,r,a){for(var s=this.createTrackMixer(t),l=Fe(r),u;!(u=l()).done;){var h=u.value,m=this.createClipPlayable(t,h);m.setDuration(h.duration);var v=new dr(h,m,s,this);a.push(v),s.clipPlayables.push(m),s.setClipWeight(m,0)}return s},n.createPlayable=function(t){return new zo(t)},n.getChildTracks=function(){return this.children},n.addChild=function(t){this.children.push(t),t.parent=this},n.createClip=function(t,r){var a=new ut;return a.asset=new t(this.engine),a.name=r||"TimelineClip"+a.id,this.addClip(a),a},n.getClips=function(){return this.clips},n.findClip=function(t){for(var r=Fe(this.clips),a;!(a=r()).done;){var s=a.value;if(s.name===t)return s}},n.addClip=function(t){t.id=(this.clipSeed++).toString(),this.clips.push(t)},n.createClipPlayable=function(t,r){return r.asset.createPlayable(t)},n.fromData=function(t){i.prototype.fromData.call(this,t);for(var r=Fe(this.children),a;!(a=r()).done;){var s=a.value;s.parent=this}},o}(Uo);te([Br(ut)],ht.prototype,"clips",void 0),te([Br()],ht.prototype,"children",void 0),ht=te([it(Ct.TrackAsset)],ht);var Ut;(function(i){i[i.MasterTrack=0]="MasterTrack",i[i.ObjectTrack=1]="ObjectTrack"})(Ut||(Ut={}));var dr=function(){function i(n,e,t,r){this.clip=n,this.playable=e,this.parentMixer=t,this.track=r,U(this.track.boundObject,_i)&&(this.particleSystem=this.track.boundObject.getComponent(ds))}var o=i.prototype;return o.evaluateAt=function(e){var t=this.clip,r=1,a=!1,s=!1,l=this.track.boundObject;e>=t.start+t.duration&&t.endBehavior===Se.destroy?U(l,_i)&&_i.isParticle(l)&&this.particleSystem&&!this.particleSystem.destroyed?r=1:(r=0,a=!0):e-this.clip.start>=0?(r=1,s=!0):e<t.start&&(r=0),s&&this.playable.getPlayState()!==Rl.Playing&&this.playable.play(),this.parentMixer.setClipWeight(this.playable,r);var u=parseFloat(t.toLocalTime(e).toFixed(3));this.playable.setTime(u),a&&this.playable.getPlayState()===Rl.Playing&&this.playable.pause()},gr(i,[{key:"enable",set:function(e){e?this.playable.play():(this.parentMixer.setClipWeight(this.playable,0),this.playable.pause())}}]),i}(),ur=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new f(t)},o}(ht);ur=te([it(Ct.ActivationTrack)],ur);var fn=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyNames=[],e.path="",e}var n=o.prototype;return n.updateAnimatedObject=function(){for(var t=this.propertyNames,r=this.parent.boundObject,a=0;a<t.length-1;a++){var s=r[t[a]];s===void 0&&console.error("The "+t[a]+" property of "+r+" was not found"),r=s}this.boundObject=r},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=this.path.split(".");this.propertyNames=r},o}(ht);te([Br()],fn.prototype,"path",void 0);var pn=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){var r=new C(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];r.propertyName=s}return r},n.updateAnimatedObject=function(){for(var t=this.propertyNames,r=this.parent.boundObject,a=0;a<t.length-1;a++){var s=r[t[a]];s===void 0&&console.error("The "+t[a]+" property of "+r+" was not found"),r=s}this.boundObject=r},o}(fn);pn=te([it(Ct.FloatPropertyTrack)],pn);var ui=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new O(t)},o}(ht);ui=te([it(Ct.SpriteColorTrack)],ui);var Pn=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.updateAnimatedObject=function(){if(!this.parent||!U(this.parent.boundObject,_i))throw new Error("SubCompositionTrack needs to be set under the VFXItem track.");this.boundObject=this.parent.boundObject.getComponent(V)},n.createTrackMixer=function(t){return new K(t)},o}(ht);Pn=te([it(Ct.SubCompositionTrack)],Pn);var zi=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new ge(t)},o}(ht);zi=te([it(Ct.TransformTrack)],zi);var ba=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.updateAnimatedObject=function(){U(this.parent.boundObject,ea)&&(this.parent.boundObject,this.boundObject=this.parent.boundObject.materials[this.index])},o}(ht);te([Br()],ba.prototype,"index",void 0),ba=te([it("MaterialTrack")],ba);var ei=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){return new A(t)},o}(ht),Ka=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){var r=new Me(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];r.propertyName=s}return r},o}(fn);Ka=te([it(Ct.Vector4PropertyTrack)],Ka);var mo=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createTrackMixer=function(t){var r=new g(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];r.propertyName=s}return r},o}(fn);mo=te([it(Ct.ColorPropertyTrack)],mo);var ms=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new d(t);return r.curve=lr(this.curveData),r.value=r.curve.getValue(0),r},o}(Uo);te([Br()],ms.prototype,"curveData",void 0),ms=te([it(Ct.ColorPropertyPlayableAsset)],ms);var Bl=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new d(t);return r.curve=lr(this.curveData),r.value=r.curve.getValue(0),r},o}(Uo);te([Br()],Bl.prototype,"curveData",void 0),Bl=te([it(Ct.FloatPropertyPlayableAsset)],Bl);var kc=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){return new j(t)},o}(Uo);kc=te([it(Ct.SubCompositionPlayableAsset)],kc);var $c=function(){function i(n,e,t){this.children=[],this.trackAsset=n,this.mixer=e,this.output=t}var o=i.prototype;return o.addChild=function(e){this.children.push(e)},i}(),Tu=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.tracks=[],e.cacheFlattenedTracks=null,e}var n=o.prototype;return n.createPlayable=function(t){for(var r=new Rh(t),a=Fe(this.tracks),s;!(s=a()).done;){var l=s.value;U(l,ml)&&l.create(this)}return this.sortTracks(this.tracks),r.compileTracks(t,this.flattenedTracks),r},n.createTrack=function(t,r,a){var s=new t(this.engine);return s.name=a||t.name,r.addChild(s),this.invalidate(),s},n.invalidate=function(){this.cacheFlattenedTracks=null},n.addSubTracksRecursive=function(t,r){for(var a=Fe(t.getChildTracks()),s;!(s=a()).done;){var l=s.value;r.push(l)}for(var u=Fe(t.getChildTracks()),h;!(h=u()).done;){var m=h.value;this.addSubTracksRecursive(m,r)}},n.sortTracks=function(t){for(var r=[],a=0;a<t.length;a++)r.push(new Qa(t[a],a));r.sort(is),t.length=0;for(var s=Fe(r),l;!(l=s()).done;){var u=l.value;t.push(u.track)}},n.fromData=function(t){},gr(o,[{key:"flattenedTracks",get:function(){if(!this.cacheFlattenedTracks){this.cacheFlattenedTracks=[];for(var t=Fe(this.tracks),r;!(r=t()).done;){var a=r.value;this.cacheFlattenedTracks.push(a),this.addSubTracksRecursive(a,this.cacheFlattenedTracks)}}return this.cacheFlattenedTracks}}]),o}(Uo);te([Br()],Tu.prototype,"tracks",void 0),Tu=te([it(Ct.TimelineAsset)],Tu);var Rh=function(i){pe(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.clips=[],e.masterTrackInstances=[],e}var n=o.prototype;return n.prepareFrame=function(t){},n.evaluate=function(){for(var t=this.getTime(),r=Fe(this.clips),a;!(a=r()).done;){var s=a.value;s.evaluateAt(t)}},n.compileTracks=function(t,r){for(var a=r,s={},l=Fe(a),u;!(u=l()).done;){var h=u.value,m=h.createPlayableGraph(t,this.clips),v=h.createOutput();v.setUserData(h.boundObject),t.addOutput(v),v.setSourcePlayable(m);var p=new $c(h,m,v);s[h.getInstanceId()]=p,h.parent||this.masterTrackInstances.push(p)}for(var b=Fe(a),x;!(x=b()).done;)for(var I=x.value,B=s[I.getInstanceId()],F=Fe(I.getChildTracks()),R;!(R=F()).done;){var X=R.value,k=s[X.getInstanceId()];B.addChild(k)}},o}(zo),Qa=function(o,n){this.track=o,this.originalIndex=n};function is(i,o){var n=i.track.boundObject,e=o.track.boundObject;return!U(n,_i)||!U(e,_i)?i.originalIndex-o.originalIndex:_i.isAncestor(n,e)?-1:_i.isAncestor(e,n)?1:i.originalIndex-o.originalIndex}var dl=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.createPlayable=function(t){var r=new d(t);return r.curve=lr(this.curveData),r.value=r.curve.getValue(0),r},o}(Uo);te([Br()],dl.prototype,"curveData",void 0),dl=te([it("Vector4PropertyPlayableAsset")],dl);var ml=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.updateAnimatedObject=function(){},n.create=function(t){if(U(this.boundObject,_i)){var r=this.boundObject;if(r.getComponent(ds)){var a=t.createTrack(ei,this,"ParticleTrack");a.boundObject=this.boundObject;var s=a.createClip(Yf);s.start=r.start,s.duration=r.duration,s.endBehavior=r.endBehavior}}},o}(ht);ml=te([it(Ct.ObjectBindingTrack)],ml);function _h(i,o){return o&&(xe(o)==="object"||typeof o=="function")?o:Be(i)}var Id=function(){function i(n){this.width=0,this.height=0;var e=n.textHeight,t=e===void 0?100:e,r=n.textWidth,a=r===void 0?100:r,s=n.textOverflow,l=s===void 0?ve.clip:s,u=n.textBaseline,h=u===void 0?He.top:u,m=n.textAlign,v=m===void 0?wt.left:m,p=n.text,b=p===void 0?" ":p,x=n.letterSpace,I=x===void 0?0:x,B=n.autoWidth,F=B===void 0?!1:B,R=n.fontSize,X=n.lineHeight,k=X===void 0?R:X,H=R+I;this.autoWidth=F,this.maxTextWidth=b.length*H,this.width=a,this.height=t,this.letterSpace=I,this.overflow=l,this.textBaseline=h,this.textAlign=v,this.lineHeight=k}var o=i.prototype;return o.getOffsetY=function(e,t,r,a){var s=e.outlineWidth,l=e.fontScale,u=(r-a)/3,h=a+s*l,m=r*(t-1),v=0;switch(this.textBaseline){case He.top:v=h+u;break;case He.middle:v=(this.height*l-m+h)/2;break;case He.bottom:v=this.height*l-m-u;break}return v},o.getOffsetX=function(e,t){var r=0;switch(this.textAlign){case wt.left:r=e.outlineWidth*e.fontScale;break;case wt.middle:r=(this.width*e.fontScale-t)/2;break;case wt.right:r=this.width*e.fontScale-t;break}return r},o.setSize=function(e,t){this.width=e,this.height=t},i}(),Pd=function(o){this.isUnderline=!1,this.underlineHeight=1,this.isOutlined=!1,this.outlineWidth=0,this.hasShadow=!1,this.fontDesc="",this.fontScale=2,this.fontOffset=0;var n=o.textColor,e=n===void 0?[1,1,1,1]:n,t=o.fontSize,r=t===void 0?40:t,a=o.outline,s=o.shadow,l=o.fontWeight,u=l===void 0?"normal":l,h=o.fontStyle,m=h===void 0?"normal":h,v=o.fontFamily,p=v===void 0?"sans-serif":v;if(this.textColor=e,this.textWeight=u,this.fontStyle=m,this.fontFamily=p,this.fontSize=r,a){this.isOutlined=!0;var b;this.outlineColor=(b=a.outlineColor)!=null?b:[1,1,1,1];var x;this.outlineWidth=(x=a.outlineWidth)!=null?x:1,this.fontOffset+=this.outlineWidth}if(s){this.hasShadow=!0;var I;this.shadowBlur=(I=s.shadowBlur)!=null?I:2;var B;this.shadowColor=(B=s.shadowColor)!=null?B:[0,0,0,1];var F;this.shadowOffsetX=(F=s.shadowOffsetX)!=null?F:0;var R;this.shadowOffsetY=(R=s.shadowOffsetY)!=null?R:0}this.fontStyle!==xr.normal&&(this.fontOffset+=this.fontSize*Math.tan(12*.0174532925))},Rd=function(){function i(){this.elements=[]}var o=i.prototype;return o.dispose=function(){this.elements.forEach(function(e){return e.remove()}),this.elements.length=0},o.getCanvas=function(){if(this.elements.length!==0){var e=this.elements.shift();return at(e),e}if(uu(sc))return window._createOffscreenCanvas(10,10);var t=document.createElement("canvas");return t.getContext("2d",{willReadFrequently:!0}),t},o.saveCanvas=function(e){e.width=1,e.height=1,this.elements.length<3?rt(this.elements,e):e.remove()},i}(),jc=new Rd,_d=["serif","sans-serif","monospace","courier"],Ld=0,ih=function(i){pe(o,i);function o(e,t){var r;if(r=i.call(this,e)||this,r.isDirty=!0,r.lineCount=0,r.SCALE_FACTOR=.1,r.ALPHA_FIX_VALUE=1/255,r.name="MText"+Ld++,r.geometry=r.createGeometry(D.TRIANGLES),t&&r.fromData(t),r.canvas=jc.getCanvas(),jc.saveCanvas(r.canvas),r.context=r.canvas.getContext("2d",{willReadFrequently:!0}),r.setItem(),!t)return _h(r);var a=t.options;return r.updateWithOptions(a),r.updateTexture(),r}var n=o.prototype;return n.onUpdate=function(t){i.prototype.onUpdate.call(this,t),this.updateTexture()},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t.interaction,a=t.options,s=t.listIndex,l=s===void 0?0:s,u=t.renderer;u||(u={}),this.interaction=r;var h,m,v,p,b,x;this.renderer={renderMode:(h=u.renderMode)!=null?h:ar.MESH,blending:(m=u.blending)!=null?m:Jt.ALPHA,texture:(v=u.texture)!=null?v:this.engine.emptyTexture,occlusion:!!u.occlusion,transparentOcclusion:!!u.transparentOcclusion||u.maskMode===tr.MASK,side:(p=u.side)!=null?p:ir.DOUBLE,mask:(b=u.mask)!=null?b:0,maskMode:(x=u.maskMode)!=null?x:tr.NONE,order:l},this.interaction=r,this.updateWithOptions(a),this.updateTexture()},n.updateWithOptions=function(t){},n.updateTexture=function(t){},o}(Ql);ih=te([it(Ct.TextComponent)],ih);var Dd=function(){function i(){}var o=i.prototype;return o.updateWithOptions=function(e){this.textStyle=new Pd(e),this.textLayout=new Id(e),this.text=e.text.toString(),this.lineCount=this.getLineCount(e.text,!0)},o.getLineCount=function(e,t){for(var r=this.context,a=this.textLayout.letterSpace,s=t?this.textStyle.fontSize/10:1/this.textStyle.fontScale,l=this.textLayout.width+this.textStyle.fontOffset,u=1,h=0,m=0;m<e.length;m++){var v,p=e[m],b,x=((b=r==null||(v=r.measureText(p))==null?void 0:v.width)!=null?b:0)*s;h+=a,(h+x>l&&m>0||p===`
`)&&(u++,h=0),p!==`
`&&(h+=x)}return u},o.setFontSize=function(e){if(this.textStyle.fontSize!==e){var t=this.textStyle.fontSize-e;this.textLayout.lineHeight+=t,this.textStyle.fontSize=e,this.isDirty=!0}},o.setFontWeight=function(e){this.textStyle.textWeight!==e&&(this.textStyle.textWeight=e,this.isDirty=!0)},o.setFontStyle=function(e){this.textStyle.fontStyle!==e&&(this.textStyle.fontStyle=e,this.isDirty=!0)},o.setText=function(e){this.text!==e&&(this.text=e.toString(),this.lineCount=this.getLineCount(e,!1),this.isDirty=!0)},o.setTextAlign=function(e){this.textLayout.textAlign!==e&&(this.textLayout.textAlign=e,this.isDirty=!0)},o.setTextBaseline=function(e){this.textLayout.textBaseline!==e&&(this.textLayout.textBaseline=e,this.isDirty=!0)},o.setTextColor=function(e){this.textStyle.textColor!==e&&(this.textStyle.textColor=e,this.isDirty=!0)},o.setFontFamily=function(e){if(this.textStyle.fontFamily===e&&!De(e)){console.warn("The font is either the current font or an risky font family.");return}this.textStyle.fontFamily=e,this.isDirty=!0},o.setOutlineColor=function(e){this.textStyle.outlineColor!==e&&(this.textStyle.outlineColor=e,this.isDirty=!0)},o.setOutlineWidth=function(e){this.textStyle.outlineWidth!==e&&(this.textStyle.outlineWidth=e,this.isDirty=!0)},o.setShadowBlur=function(e){this.textStyle.shadowBlur!==e&&(this.textStyle.shadowBlur=e,this.isDirty=!0)},o.setShadowColor=function(e){this.textStyle.shadowColor!==e&&(this.textStyle.shadowColor=e,this.isDirty=!0)},o.setShadowOffsetX=function(e){this.textStyle.shadowOffsetX!==e&&(this.textStyle.shadowOffsetX=e,this.isDirty=!0)},o.setShadowOffsetY=function(e){this.textStyle.shadowOffsetY!==e&&(this.textStyle.shadowOffsetY=e,this.isDirty=!0)},o.setFontScale=function(e){this.textStyle.fontScale!==e&&(this.textStyle.fontScale=e,this.isDirty=!0)},o.setAutoWidth=function(e){this.textLayout.autoWidth!==e&&(this.textLayout.autoWidth=e,this.isDirty=!0)},o.updateTexture=function(e){if(e===void 0&&(e=!0),!(!this.isDirty||!this.context||!this.canvas)){var t=this.context,r=this.textStyle,a=this.textLayout,s=r.fontScale,l=(a.width+r.fontOffset)*s,u=a.lineHeight*this.lineCount,h=r.fontSize*s,m=a.lineHeight*s;this.char=(this.text||"").split(""),this.canvas.width=l,a.autoWidth?(this.canvas.height=u*s,this.item.transform.size.set(1,u/a.height)):this.canvas.height=a.height*s;var v=this.canvas.height;t.clearRect(0,0,l,v),t.fillStyle="rgba(255, 255, 255, 0.0039)",e||(t.translate(0,v),t.scale(1,-1)),t.fillRect(0,0,l,v),r.fontDesc=this.getFontDesc(),t.font=r.fontDesc,r.hasShadow&&this.setupShadow(),r.isOutlined&&this.setupOutline(),t.fillStyle="rgba("+r.textColor[0]+", "+r.textColor[1]+", "+r.textColor[2]+", "+r.textColor[3]+")";for(var p=[],b=0,x=a.getOffsetY(r,this.lineCount,m,h),I=[],B=[],F=0;F<this.char.length;F++){var R=this.char[F],X=t.measureText(R);b+=a.letterSpace*s,(b+X.width>l&&F>0||R===`
`)&&(p.push({y:x,width:b,chars:I,charOffsetX:B}),b=0,x+=m,I=[],B=[]),R!==`
`&&(I.push(R),B.push(b),b+=X.width)}p.push({y:x,width:b,chars:I,charOffsetX:B}),p.forEach(function(H){var ee=a.getOffsetX(r,H.width);H.chars.forEach(function(ie,oe){r.isOutlined&&t.strokeText(ie,ee+H.charOffsetX[oe],H.y),t.fillText(ie,ee+H.charOffsetX[oe],H.y)})}),r.hasShadow&&(t.shadowColor="transparent");var k=t.getImageData(0,0,this.canvas.width,this.canvas.height);this.material.setTexture("_MainTex",Pr.createWithData(this.engine,{data:new Uint8Array(k.data),width:k.width,height:k.height},{flipY:e,magFilter:D.LINEAR,minFilter:D.LINEAR,wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE})),this.isDirty=!1}},o.getFontDesc=function(){var e=this.textStyle,t=e.fontSize,r=e.fontScale,a=e.fontFamily,s=e.textWeight,l=e.fontStyle,u=""+(t*r).toString()+"px ";return _d.includes(a)?u+=a:u+='"'+a+'"',s!==pr.normal&&(u=s+" "+u),l!==xr.normal&&(u=l+" "+u),u},o.setupOutline=function(){var e=this.context,t=this.textStyle,r=t.outlineColor,a=t.outlineWidth,s=r[0],l=r[1],u=r[2],h=r[3];e&&(e.strokeStyle="rgba("+s*255+", "+l*255+", "+u*255+", "+h+")",e.lineWidth=a*2)},o.setupShadow=function(){var e=this.context,t=this.textStyle,r=t.outlineColor,a=t.shadowBlur,s=t.shadowOffsetX,l=t.shadowOffsetY,u=r[0],h=r[1],m=r[2],v=r[3];e&&(e.shadowColor="rgba("+u*255+", "+h*255+", "+m*255+", "+v+")",e.shadowBlur=a,e.shadowOffsetX=s,e.shadowOffsetY=-l)},i}();se(ih,[Dd]);var Fd=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o}(mr),Nd=function(i){pe(o,i);function o(){return i.apply(this,arguments)}return o}(wn),ah=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.fromData=function(t){},o}(wn);te([Br()],ah.prototype,"buffer",void 0),ah=te([it(Ct.BinaryAsset)],ah);var Vd=function(){function i(n){this.engine=n}var o=i.prototype;return o.loadGUID=function(e){if(this.engine.objectInstance[e])return this.engine.objectInstance[e];var t=this.findData(e),r;if(!t){console.error("Object data with uuid: "+e+" not found.");return}switch(t.dataType){case Ct.Material:r=Xn.create(this.engine);break;case Ct.Geometry:r=Cr.create(this.engine);break;case Ct.Texture:r=Pr.create(this.engine);break;default:{var a=i.getClass(t.dataType);a&&(r=new a(this.engine))}}if(!r){console.error("Constructor for DataType: "+t.dataType+" not found.");return}return r.setInstanceId(t.id),this.engine.addInstance(r),L.deserialize(t,r),r},o.loadGUIDAsync=function(e){var t=this;return M(function(){var r,a,s;return J(this,function(l){switch(l.label){case 0:return t.engine.objectInstance[e]?[2,t.engine.objectInstance[e]]:(r=t.findData(e),r?[3,2]:t.engine.database?[4,t.engine.database.loadGUID(e)]:(console.error("Object data with uuid: "+e+" not found."),[2,void 0]));case 1:return a=l.sent(),a?(t.engine.addInstance(a),[2,a]):(console.error("Disk data with uuid: "+e+" not found."),[2,void 0]);case 2:switch(r.dataType){case Ct.Material:a=Xn.create(t.engine);break;case Ct.Geometry:a=Cr.create(t.engine);break;case Ct.Texture:a=Pr.create(t.engine);break;default:s=i.getClass(r.dataType),s&&(a=new s(t.engine))}return a?(a.setInstanceId(r.id),t.engine.addInstance(a),[4,L.deserializeAsync(r,a)]):(console.error("Constructor for DataType: "+r.dataType+" not found."),[2,void 0]);case 3:return l.sent(),[2,a]}})})()},o.findData=function(e){return this.engine.jsonSceneData[e]},i.getClass=function(e){return ri[e]},i}(),uv=null;function Lh(i,o){if(!i.includes(o))return i.push(o),!0}function vi(i){if(Number.isFinite(i))return[bt.CONSTANT,i];if(i){var o=i[0],n=i[1];if(Array.isArray(o))return;if(o==="static"||o===bt.CONSTANT)return[bt.CONSTANT,i[1]];if(o==="lines")return[bt.LINE,i[1]];if(o===bt.LINE){var e=n.map(function(t){return[on.LINE,t]});return[bt.BEZIER_CURVE,e]}return o==="curve"||o===bt.CURVE?[bt.BEZIER_CURVE,Bh(n)]:i}}function Dh(i,o){return Array.isArray(i)&&i[0]==="random"?[bt.CONSTANT,i[1][o]]:vi(i)}function Fh(i){return i&&i[0]==="color"?Hc(i[1],!0):[1,1,1,1]}function Bd(i,o){if(i)return i[0]==="colors"?[bt.COLORS,i[1].map(function(n){return Hc(n,o)})]:i[0]==="gradient"?oh(i[1],o):i[0]==="color"?[bt.RGBA_COLOR,Hc(i[1],o)]:i}function Qi(i){return i&&i[0]==="random"?[bt.RANDOM,i[1]]:vi(i)}function oh(i,o){if(i){var n=[];return Object.getOwnPropertyNames(i).forEach(function(e){var t=Ud(e),r=Hc(i[e],o);n.push([t,r[0],r[1],r[2],r[3]])}),n=n.sort(function(e,t){return e[0]-t[0]}),[bt.GRADIENT_COLOR,n]}}function Hc(i,o){var n;if(typeof i=="string"){i=i.replace(/[\s\t\r\n]/g,"");var e=/rgba?\(([.\d]+),([.\d]+),([.\d]+),?([.\d]+)?\)/.exec(i);if(e){var t=+e[4];n=[+e[1],+e[2],+e[3],isNaN(t)?255:Math.round(t*255)]}else/^#[a-f\d]{3}$/i.test(i)?n=[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),255]:(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))&&(n=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255])}else U(i,Array)&&(n=[i[0],i[1],i[2],isNaN(i[3])?255:Math.round(i[3]*255)]);return o&&(n=zd(n)),n}function zd(i){if(Array.isArray(i))return i.map(function(o){return Number.isFinite(o/255)?Number((o/255).toFixed(6)):0})}function Ud(i){var o=/^(-)?([\d+.]+)%$/.exec(i);return o?+o[2]/100*(o[1]?-1:1):+i}function Gc(i,o){return Array.isArray(i)?i[0]===bt.GRADIENT_COLOR?i:(i[0]==="gradient"||i[0]==="color")&&oh(i[1],o):oh(i,o)}function Wc(i){if(i){if(i.length===3)return[bt.CONSTANT_VEC3,i];var o=i[0];if(o==="path"||o==="bezier"||o===bt.BEZIER_PATH||o===bt.LINEAR_PATH){var n=i[1],e=n[0],t=n[1],r=n[2],a=Bh(e);if(!r){r=[];for(var s=0;s<t.length;s++){var l=t[s].slice();s===0||s<t.length-1&&r.push(l),r.push(l)}}return[bt.BEZIER_CURVE_PATH,[a,t,r]]}return i}}function Nh(i){for(var o=Fe(Object.keys(i)),n;!(n=o()).done;){var e=n.value;i[e]=Number(i[e])}return i}function Su(i){for(var o=Fe(Object.keys(i)),n;!(n=o()).done;){var e=n.value;i[e]===void 0&&delete i[e]}return i}var sh=Math.cos,lh=Math.sin,zl=Math.PI/180,Zc=180/Math.PI;function kd(i,o,n,e){var t=sh(o*zl/2),r=sh(n*zl/2),a=sh(e*zl/2),s=lh(o*zl/2),l=lh(n*zl/2),u=lh(e*zl/2);return i[0]=s*r*a+t*l*u,i[1]=t*l*a-s*r*u,i[2]=t*r*u+s*l*a,i[3]=t*r*a-s*l*u,i}function $d(i,o,n){return i>n?n:i<o?o:i}function jd(i,o){var n=o[0],e=o[1],t=o[2],r=o[3],a=n+n,s=e+e,l=t+t,u=n*a,h=e*a,m=e*s,v=t*a,p=t*s,b=t*l,x=r*a,I=r*s,B=r*l,F=1-m-b,R=h-B,X=h+B,k=1-u-b,H=v-I,ee=p+x,ie=1-u-m;return i[1]=Math.asin($d(-H,-1,1))*Zc,Math.abs(H)<.9999999?(i[0]=Math.atan2(ee,ie)*Zc,i[2]=Math.atan2(X,F)*Zc):(i[0]=0,i[2]=Math.atan2(-R,k)*Zc),i}function Vh(i,o){return i?[i[0]-.5,.5-i[1]]:o?Hd[o]:[0,0]}var as,Hd=(as={},as[vr.PARTICLE_ORIGIN_CENTER]=[0,0],as[vr.PARTICLE_ORIGIN_CENTER_BOTTOM]=[0,-.5],as[vr.PARTICLE_ORIGIN_CENTER_TOP]=[0,.5],as[vr.PARTICLE_ORIGIN_LEFT_TOP]=[-.5,.5],as[vr.PARTICLE_ORIGIN_LEFT_CENTER]=[-.5,0],as[vr.PARTICLE_ORIGIN_LEFT_BOTTOM]=[-.5,-.5],as[vr.PARTICLE_ORIGIN_RIGHT_CENTER]=[.5,0],as[vr.PARTICLE_ORIGIN_RIGHT_BOTTOM]=[.5,-.5],as[vr.PARTICLE_ORIGIN_RIGHT_TOP]=[.5,.5],as);function Gd(i,o,n,e){var t=n[0],r=n[1],a=e[0],s=e[1],l=a-t;i=i*l,o=o*l;var u=[[t+(a-t)/3,r+i/3],[a-(a-t)/3,s-o/3]];return u}function Bh(i){for(var o=-1e6,n=1e6,e=0;e<i.length;e++)o=Math.max(o,i[e][1]),n=Math.min(n,i[e][1]);for(var t=[[i[0][0],i[0][1]]],r=0;r<i.length-1;r++){var a=i[r][3]*(o-n),s=i[r+1][2]*(o-n),l=[i[r][0],i[r][1]],u=[i[r+1][0],i[r+1][1]];if(l[0]!=u[0]){var h=Gd(a,s,l,u),m=h[0],v=h[1];t[t.length-1].push(m[0]),t[t.length-1].push(m[1]),t.push([v[0],v[1],u[0],u[1]])}else t[t.length-1].push(u[0]),t[t.length-1].push(u[1])}return t.map(function(p,b){return b===0?[on.EASE_OUT,p]:b===t.length-1?[on.EASE_IN,p]:[on.EASE,p]})}function Wd(i){var o,n=i.options,e={options:{fov:n.fov,far:n.far,near:n.near,clipMode:n.clipMode}},t=i.velocityOverLifetime;if(t||(o=i.transform)!=null&&o.path){var r,a={path:Wc((r=i.transform)==null?void 0:r.path),linearX:vi(t==null?void 0:t.translateX),linearY:vi(t==null?void 0:t.translateY),linearZ:vi(t==null?void 0:t.translateZ)};Su(a),e.positionOverLifetime=a}var s=i.rotationOverLifetime;if(s){var l={separateAxes:s.separateAxes,x:vi(s==null?void 0:s.rotateX),y:vi(s==null?void 0:s.rotateY),z:s.separateAxes?vi(s==null?void 0:s.rotateZ):vi(s.rotation)};Su(l),e.rotationOverLifetime=l}return e}function Zd(i){var o=i.options,n;switch(o.type){case"click":{n={type:jr.CLICK,showPreview:o.showPreview,previewColor:o.previewColor&&Fh(o.previewColor),behavior:o.behavior||gn.NOTIFY};break}case"drag":{n={type:jr.DRAG,enableInEditor:!!o.enableInEditor,dxRange:o.dxRange,dyRange:o.dyRange,target:o.target};break}case"message":{n={type:jr.MESSAGE};break}}var e={options:n};return e}function zh(i){return i.compositions.forEach(function(o){o.items.forEach(function(n){n.type===ze.null&&n.endBehavior===Se.destroy&&(n.endBehavior=Se.freeze)})}),i.version="2.1",i}function Xd(i){var o,n=(o=i.version)==null?void 0:o.split(".");return!n||Number(n[0])>2||Number(n[0])===2&&Number(n[1])>=2||i.compositions.forEach(function(e){e.items.forEach(function(t){(t.type===ze.mesh||t.type===ze.light)&&(t.endBehavior=t.endBehavior===1?Se.destroy:t.endBehavior)})}),i}function Uh(i){for(var o=function(){var sr=v.value;(sr.endBehavior===Qn||sr.endBehavior===Vn)&&(sr.endBehavior=Se.freeze),sr.items=sr.items.filter(function(an){return an.type!=="8"}),sr.items.forEach(function(an){if(an.type===ze.particle){var oa=an.content.filter;oa&&delete an.content.filter}});for(var Or=Fe(sr.items),Qr;!(Qr=Or()).done;){var Jr=Qr.value;u[Jr.id]=nt(),Jr.oldId=Jr.id,Jr.id=u[Jr.id],h[Jr.id]=Jr}sr.items.forEach(function(an,oa){if(an.parentId)if(an.parentId.includes("^")){var wa=an.parentId.split("^")[0],fa=an.parentId.split("^")[1];an.parentId=u[wa]+"^"+fa}else an.parentId=u[an.parentId];e.items.push(an),sr.items[oa]={id:an.id}});var ii=Zr({},sr,{timelineAsset:{id:""},sceneBindings:[]});e.compositions.push(ii),Kd(ii,h,e)},n,e=Zr({},i,{items:[],compositions:[],components:[],materials:[],shaders:[],geometries:[],animations:[],miscs:[]}),t=Fe(e.images),r;!(r=t()).done;){var a=r.value;a.id=nt()}var s;if((s=(n=e).textures)!=null||(n.textures=[]),e.textures.forEach(function(sr){var Or;sr.id=nt(),sr.dataType=Ct.Texture,sr.source={id:(Or=e.images[sr.source])==null?void 0:Or.id}}),e.textures.length<e.images.length)for(var l=e.textures.length;l<e.images.length;l++)e.textures.push({id:nt(),dataType:Ct.Texture,source:{id:e.images[l].id},flipY:!0});i.bins&&Qd(i.bins,e);for(var u={},h={},m=Fe(i.compositions),v;!(v=m()).done;)o();for(var p=Fe(e.items),b;!(b=p()).done;){var x=b.value;if(x.content){if(x.content.renderer&&x.content.renderer.texture!==void 0){var I=x.content.renderer.texture;x.content.renderer.texture={id:e.textures[I].id}}if(x.content.trails&&x.content.trails.texture!==void 0){var B=x.content.trails.texture;x.content.trails.texture={id:e.textures[B].id}}}if(x.transform){var F,R=[].concat((F=x.transform.position)!=null?F:[0,0,0]),X,k=[].concat((X=x.transform.rotation)!=null?X:[0,0,0]),H,ee=[].concat((H=x.transform.scale)!=null?H:[1,1,1]);if(Object.assign(x,{transform:{position:{x:R[0],y:R[1],z:R[2]},eulerHint:{x:k[0],y:k[1],z:k[2]},scale:{x:ee[0],y:ee[1],z:ee[0]}}}),x.type===ze.sprite&&(x.transform.size={x:ee[0],y:ee[1]},x.transform.scale={x:1,y:1,z:1}),x.type===ze.sprite){var ie=x.content;ie.renderer||(ie.renderer={});var oe=ie.renderer,Qe=Vh(oe.anchor,oe.particleOrigin),Je=x.transform.size;if(!oe.anchor&&oe.particleOrigin!==void 0){var st;x.transform.position.x+=-Qe[0]*((st=Je==null?void 0:Je.x)!=null?st:1);var ft;x.transform.position.y+=-Qe[1]*((ft=Je==null?void 0:Je.y)!=null?ft:1)}var At,Wt;x.transform.anchor={x:Qe[0]*((At=Je==null?void 0:Je.x)!=null?At:1),y:Qe[1]*((Wt=Je==null?void 0:Je.y)!=null?Wt:1)}}}if(x.type===ze.particle){var Zt=x.content;Zt.renderer||(Zt.renderer={});var Kt=Zt.renderer;Zt.renderer.anchor=Vh(Kt.anchor,Kt.particleOrigin)}if(x.type===ze.camera&&x.content.positionOverLifetime&&Object.keys(x.content.positionOverLifetime).length!==0&&(x.content.positionOverLifetime.asMovement=!0),x.pn!==void 0){var qt=x.pn,_t=i.plugins,_r=_t===void 0?[]:_t;qt!==void 0&&Number.isInteger(qt)&&(x.pluginName=_r[qt])}switch(x.pluginName==="editor-gizmo"&&(x.type="editor-gizmo"),x.pluginName==="orientation-transformer"&&(x.type="orientation-transformer"),x.content.options.target&&x.pluginName==="editor-gizmo"&&(x.content.options.target=u[x.content.options.target]),x.type===ze.spine&&i.spines&&i.spines.length!==0&&Jd(i.spines[x.content.options.spine],x.content,e),(x.type===ze.sprite||x.type===ze.particle||x.type===ze.mesh||x.type===ze.skybox||x.type===ze.light||x.type==="camera"||x.type===ze.tree||x.type===ze.interact||x.type===ze.camera||x.type===ze.text||x.type===ze.spine||x.type==="editor-gizmo"||x.type==="orientation-transformer")&&(x.components=[],e.components.push(x.content),x.content.id=nt(),x.content.item={id:x.id},x.dataType=Ct.VFXItemData,x.components.push({id:x.content.id})),(x.type===ze.null||x.type===ze.composition)&&(x.components=[],x.dataType=Ct.VFXItemData),x.type){case ze.sprite:x.content.dataType=Ct.SpriteComponent;break;case ze.particle:x.content.dataType=Ct.ParticleSystem;break;case ze.mesh:x.content.dataType=Ct.MeshComponent;break;case ze.skybox:x.content.dataType=Ct.SkyboxComponent;break;case ze.light:x.content.dataType=Ct.LightComponent;break;case"camera":x.content.dataType=Ct.CameraComponent;break;case"editor-gizmo":x.content.dataType="GizmoComponent";break;case"orientation-transformer":x.content.dataType="OrientationComponent";break;case ze.tree:x.content.dataType=Ct.TreeComponent;break;case ze.interact:x.content.dataType=Ct.InteractComponent;break;case ze.camera:x.content.dataType=Ct.CameraController;break;case ze.text:x.content.dataType=Ct.TextComponent;break;case ze.spine:x.content.dataType=Ct.SpineComponent;break}}return e.version="3.0",e}function Yd(i){return i.compositions.map(function(o){for(var n=Fe(o.items),e;!(e=n()).done;){var t=e.value;kh(t.content)}}),i}function kh(i){if(i)for(var o=Fe(Object.keys(i)),n;!(n=o()).done;){var e=n.value,t=i[e],r=Array.isArray(t);r&&t.length===2&&Array.isArray(t[1])?e==="path"?i[e]=Wc(t):i[e]=vi(t):!r&&typeof t=="object"&&kh(t)}}function Kd(i,o,n){for(var e=[],t=[],r=[],a={tracks:[],id:nt(),dataType:"TimelineAsset"},s=Fe(i.items),l;!(l=s()).done;){var u=l.value,h=o[u.id],m=[],v={id:nt(),dataType:"ActivationPlayableAsset"};r.push(v);var p={id:nt(),dataType:"ActivationTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:v.id}}]};if(m.push({id:p.id}),t.push(p),h.type!==ze.particle){var b={id:nt(),dataType:"TransformPlayableAsset",sizeOverLifetime:h.content.sizeOverLifetime,rotationOverLifetime:h.content.rotationOverLifetime,positionOverLifetime:h.content.positionOverLifetime};r.push(b);var x={id:nt(),dataType:"TransformTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:b.id}}]};m.push({id:x.id}),t.push(x)}if(h.type===ze.sprite||h.type===ze.text){var I={id:nt(),dataType:"SpriteColorPlayableAsset",colorOverLifetime:h.content.colorOverLifetime};r.push(I);var B={id:nt(),dataType:"SpriteColorTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:I.id}}]};m.push({id:B.id}),t.push(B)}if(h.type===ze.composition){var F={id:nt(),dataType:"SubCompositionPlayableAsset"};r.push(F);var R={id:nt(),dataType:"SubCompositionTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:F.id}}]};m.push({id:R.id}),t.push(R)}var X={id:nt(),dataType:"ObjectBindingTrack",children:m,clips:[]};t.push(X),a.tracks.push({id:X.id}),e.push({key:{id:X.id},value:{id:h.id}})}for(var k=[],H=Fe(t),ee;!(ee=H()).done;){var ie=ee.value;k.push({id:ie.id})}i.timelineAsset={id:a.id},i.sceneBindings=e,n.miscs.push(a);for(var oe=Fe(t),Qe;!(Qe=oe()).done;){var Je=Qe.value;n.miscs.push(Je)}for(var st=Fe(r),ft;!(ft=st()).done;){var At=ft.value;n.miscs.push(At)}}function Qd(i,o){o.bins=i.map(function(n){return{url:n.url,dataType:"BinaryAsset",id:nt()}})}function Jd(i,o,n){o.resource={atlas:{bins:{id:n.bins[i.atlas[1][0]].id},source:i.atlas[1].slice(1)},skeleton:{bins:{id:n.bins[i.skeleton[1][0]].id},source:i.skeleton[1].slice(1)},skeletonType:i.skeletonType,images:i.images.map(function(e){return{id:n.textures[e].id}})}}function qd(i){var o=i.options,n=i.transform,e={type:rr.NONE};if(i.shape){var t,r=(t=i.shape.shape)==null?void 0:t.replace(/([A-Z])/g,"_$1").toUpperCase().replace(/^_/,"");if(e=Zr({},i.shape,{type:rr[r]}),i.shape.upDirection){var a=i.shape.upDirection,s=a[0],l=a[1],u=a[2];s===0&&l===0&&u===0&&delete e.upDirection}}o.startTurbulence&&(e.turbulenceX=Qi(o.turbulenceX),e.turbulenceY=Qi(o.turbulenceY),e.turbulenceZ=Qi(o.turbulenceZ));var h=i.emission;h.bursts&&h.bursts.length>0&&(h.bursts=h.bursts.map(function(k){return Nh(k)})),h.burstOffsets&&h.burstOffsets.length>0&&(h.burstOffsets=h.burstOffsets.map(function(k){return Nh(k)})),h.rateOverTime&&(h.rateOverTime=Qi(h.rateOverTime));var m={renderer:i.renderer,shape:e,splits:i.splits,emission:h,options:{startLifetime:Qi(o.startLifetime),start3DSize:!!o.start3DSize,startSize:Qi(o.startSize),startSizeX:Qi(o.startSizeX),startSizeY:Qi(o.startSizeY),sizeAspect:Qi(o.sizeAspect),maxCount:o.maxCount,startDelay:Qi(o.startDelay),startColor:Bd(o.startColor,!0),startRotationZ:Qi(o.startRotation||o.startRotationZ),particleFollowParent:o.particleFollowParent}};o.start3DRotation&&(m.options.startRotationX=Qi(o.startRotationX),m.options.startRotationY=Qi(o.startRotationY)),n&&n.path&&(m.emitterTransform={path:Wc(n.path)});var v=i.sizeOverLifetime;v&&(v.separateAxes?m.sizeOverLifetime={separateAxes:!0,x:Qi(v.x),y:Qi(v.y)}:m.sizeOverLifetime={size:Qi(v.size)});var p=i.velocityOverLifetime||{},b=p.speedOverLifetime;b?b=vi(b):b=void 0,m.positionOverLifetime={gravity:o.gravity,gravityOverLifetime:vi(o.gravityModifier),startSpeed:Qi(o.startSpeed),speedOverLifetime:b,asMovement:p.asMovement,linearX:Qi(p.linearX),linearY:Qi(p.linearY),linearZ:Qi(p.linearZ),asRotation:p.asRotation,orbCenter:p.orbCenter,orbitalX:Qi(p.orbitalX),orbitalY:Qi(p.orbitalY),orbitalZ:Qi(p.orbitalZ),forceTarget:p.forceTarget,target:p.target,forceCurve:vi(p.forceCurve)},Su(m.positionOverLifetime);var x=i.rotationOverLifetime;x&&(m.rotationOverLifetime={separateAxes:x.separateAxes,asRotation:x.asRotation,z:Qi(x.separateAxes?x.z:x.angularVelocity)},x.separateAxes&&(m.rotationOverLifetime.y=vi(x.y),m.rotationOverLifetime.x=vi(x.x)));var I=i.colorOverLifetime;if(I){var B=m.colorOverLifetime={opacity:vi(I.opacity)};I.color&&(B.color=Gc(I.color))}var F=i.textureSheetAnimation;F&&(m.textureSheetAnimation={row:F.row,col:F.col,total:F.total,animate:F.animate,cycles:vi(F.cycles),animationDelay:Dh(F.animationDelay,0),animationDuration:Dh(F.animationDuration,0)});var R=i.trails;R&&(m.trails={lifetime:Qi(R.lifetime),dieWithParticles:R.dieWithParticles,maxPointPerTrail:R.maxPointPerTrail,minimumVertexDistance:R.minimumVertexDistance,widthOverTrail:vi(R.widthOverTrail),colorOverTrail:R.colorOverTrail&&Gc(R.colorOverTrail,!1),blending:R.blending,colorOverLifetime:R.colorOverLifetime&&Gc(R.colorOverLifetime,!1),inheritParticleColor:R.inheritParticleColor,occlusion:R.occlusion,transparentOcclusion:R.transparentOcclusion,orderOffset:R.orderOffset,sizeAffectsLifetime:R.sizeAffectsLifetime,sizeAffectsWidth:R.sizeAffectsWidth,texture:R.texture,parentAffectsPosition:R.parentAffectsPosition,opacityOverLifetime:Qi(R.opacityOverLifetime)}),m.trails&&Su(m.trails);var X=i.interaction;return X&&(m.interaction={behavior:X.behavior,radius:X.radius,multiple:X.multiple}),m}function $h(i,o){var n,e=i.options,t=i.velocityOverLifetime||{},r={path:Wc((n=i.transform)==null?void 0:n.path),gravity:e.gravity,gravityOverLifetime:vi(e.gravityModifier),direction:e.direction,startSpeed:e.startSpeed,asMovement:t.asMovement,linearX:vi(t.linearX),linearY:vi(t.linearY),linearZ:vi(t.linearZ),asRotation:t.asRotation,orbCenter:t.orbCenter,orbitalX:vi(t.orbitalX),orbitalY:vi(t.orbitalY),orbitalZ:vi(t.orbitalZ),speedOverLifetime:vi(t.speedOverLifetime)};Su(r);var a={options:{startColor:Fh(e.startColor)},positionOverLifetime:r};e.startSize&&(o.scale=[e.startSize,e.startSize/(e.sizeAspect||1),1]),e.startRotation&&(o.rotation?o.rotation[2]+=e.startRotation:o.rotation=[0,0,e.startRotation]);var s=i.rotationOverLifetime;if(s){var l=a.rotationOverLifetime={separateAxes:s.separateAxes,asRotation:s.asRotation};l.separateAxes?(l.x=vi(s.x),l.y=vi(s.y),l.z=vi(s.z)):l.z=vi(s.angularVelocity)}var u=i.colorOverLifetime;if(u){var h=a.colorOverLifetime={opacity:vi(u.opacity)};u.color&&(h.color=Gc(u.color))}var m=i.sizeOverLifetime;return m&&(a.sizeOverLifetime={separateAxes:m.separateAxes,size:vi(m.size),x:vi(m.x),y:vi(m.y),z:vi(m.z)}),a}function em(i,o){var n=$h(i,o),e=i.textureSheetAnimation;return e&&(n.textureSheetAnimation={row:e.row,col:e.col,total:e.total||void 0,animate:e.animate}),n.renderer=i.renderer,i.splits&&(n.splits=i.splits),i.interaction&&(n.interaction=i.interaction),n}var tm=/^(\d+)\.(\d+)\.(\d+)(-(\w+)\.\d+)?$/,rm=/^(\d+)\.(\d+)$/,uh=!1;function nm(i){if(!i||typeof i!="object")throw new Error("Invalid input: Expected a JSON object.");if(Xd(i),tm.test(i.version)){var o;return uh=((o=/^(\d+)/.exec(i.version))==null?void 0:o[0])==="0",Uh(zh(im(i)))}uh=!1;var n=rm.exec(i.version)||[],e=Number(n[1]),t=Number(n[2]);if(e)return(e<2||e===2&&t<4)&&(i=Yd(i)),e<3?Uh(zh(i)):i;throw new Error("Invalid JSON version: "+i.version+".")}var ch="1.0";function im(i){var o;ch="1.0";var n=i.plugins||[];(o=i.bins)!=null&&o.length&&(ch="1.3");var e=(i.requires||[]).slice(),t=i.images.map(function(l,u){return am(l,u,i.imageTags||[])}),r=i.textures||t.map(function(l,u){return{source:u,flipY:!0}}),a,s={plugins:n,shapes:i.shapes||[],type:"ge",version:ch,playerVersion:(a=i.playerVersion)!=null?a:{web:"",native:""},compositionId:i.compositionId+"",compositions:i.compositions.map(function(l){return om(l,{plugins:n,requires:e})}),images:t,imgUsage:i._imgs,binUsage:i.binUsage,spines:i.spines,requires:i.requires,textures:r,bins:(i.bins||[]).slice()};return i._textures&&(s._textures=i._textures),s}function am(i,o,n){var e=n[o],t=i.oriY;if(typeof i=="string")return{id:nt(),renderLevel:e,url:i,oriY:t};if(i.template)return{id:nt(),url:i.url,template:i.template,webp:i.webp,renderLevel:e,oriY:t};if(i.compressed)return{id:nt(),url:i.url,oriY:t,compressed:{astc:i.compressed.android,pvrtc:i.compressed.iOS},webp:i.webp,renderLevel:e};if(i.url)return{id:nt(),url:i.url,webp:i.webp,renderLevel:e,oriY:t};if(i&&i.sourceType)return i;throw new Error("Invalid image type.")}function om(i,o){o===void 0&&(o={});var n,e={id:i.id+"",camera:Zr({clipMode:Ei},i.camera),duration:i.duration,endBehavior:i.endBehavior,items:i.items.map(function(a){return lm(a,o)}),name:i.name},t=i.startTime||i.st;t&&(e.startTime=t);var r=(n=i.meta)==null?void 0:n.previewSize;return r&&r[0]===r[1]&&r[0]===0&&(r=void 0),r&&(e.previewSize=r),e}var sm=[0,0,0,1],jh=.5;function lm(i,o){o===void 0&&(o={});var n,e=ze.base,t,r,a,s=i.endBehavior,l,u,h=NaN,m;if(i.content?(e=i.type||ze.plugin,m=i.pn,u=i.pluginName,a=i.content,r=i.content,isNaN(m)&&!u&&(u=a.options.type),i.duration&&(h=i.duration),t=i.transform||B(r.transform)):i.particle?(e=ze.particle,r=i.particle,t=B(r.transform,uh,!0),a=qd(r)):i.sprite?(e=ze.sprite,r=i.sprite,t=B(r.transform,!1,!0),a=em(r,t)):i.cal?(e=ze.null,r=i.cal,t=B(r.transform,!1,!0),a=$h(r,t)):i.ui?(e=ze.interact,r=i.ui,t=B(r.transform),a=Zd(r),t.scale=[r.options.width||1,r.options.height||1,1]):i.model&&(r=i.model,i.model.options.type===1&&(e=ze.camera,t=B(r.transform),a=Wd(r))),(n=a.renderer)!=null&&n.anchor){var v=new Float32Array(a.renderer.anchor);v[0]==jh&&v[1]==jh?delete a.renderer.anchor:o.requires&&Lh(o.requires,"anchor")}if(r){var p,b=(p=r.options)==null?void 0:p.looping;if(b)Array.isArray(b)?s=b[1]?Se.restart:Se.destroy:s=Se.restart;else{var x;s=s||(r==null||(x=r.options)==null?void 0:x.endBehavior)||Se.destroy}r.options.renderLevel&&(l=r.options.renderLevel),isNaN(h)&&(h=r.options.duration)}var I={type:e,name:i.name,delay:i.delay,duration:h,id:i.id+"",transform:t,endBehavior:s,renderLevel:l,content:a};return u?o.plugins?(Lh(o.plugins,u),I.pn=o.plugins.indexOf(u)):I.pluginName=u:Number.isInteger(m)&&(I.pn=m),i.parentId&&(I.parentId=i.parentId+""),I;function B(F,R,X){if(F){var k={},H=F.rotation;if(H&&(R?k.rotation=[-H[0],-H[1],-H[2]]:k.rotation=[H[0],H[1],H[2]],X)){var ee=kd(sm,k.rotation[0],k.rotation[1],k.rotation[2]);k.rotation=jd([],ee)}var ie=F.position;return ie&&(k.position=F.position),Array.isArray(F.scale)&&(k.scale=[F.scale[0]||1,F.scale[1]||1,F.scale[2]||1]),k}return{}}}var wu,um=(wu={},wu[Yt.S]=[Yt.S,Yt.BPlus,Yt.APlus],wu[Yt.A]=[Yt.A,Yt.BPlus,Yt.APlus],wu[Yt.B]=[Yt.B,Yt.BPlus],wu);function Hh(i,o){if(!i||!o)return!0;var n=um[o];return n?n.includes(i):!1}var Ul;(function(i){function o(t){return Te(t)&&"jsonScene"in t}i.isJSONObject=o;function n(t){return Te(t)&&"url"in t}i.isURL=n;function e(t){return Te(t)&&"options"in t}i.isWithOptions=e})(Ul||(Ul={}));function Gh(i,o){var n,e,t=(e=i==null?void 0:i.background)!=null?e:{},r=t.name,a=t.url;return r&&(o&&o[r]?n=o[r]:a&&(n=a)),n}function cm(i,o,n){return fh.apply(this,arguments)}function fh(){return fh=M(function(i,o,n){var e,t;return J(this,function(r){switch(r.label){case 0:return typeof i!="string"?[3,2]:[4,ct(i)];case 1:return e=r.sent(),[3,3];case 2:e=i,r.label=3;case 3:if(!e)throw new Error("Image not provided.");if(!o)return[2,e];if(t=Gh(o,n),t){if(Lr(t)&&t!==e.src)return[2,ct(t)];if(U(t,HTMLImageElement))return[2,t]}return[2,e]}})}),fh.apply(this,arguments)}var fm=1,Wh=function(){function i(n,e){n===void 0&&(n={}),e===void 0&&(e=new As),this.options=n,this.downloader=e,this.assets={},this.sourceFrom={},this.id=fm++,this.timers=[],this.updateOptions(n)}var o=i.prototype;return o.updateOptions=function(e){e===void 0&&(e={}),this.options=e,e.pluginData||(e.pluginData={});var t=e.timeout,r=t===void 0?10:t;this.timeout=r},o.loadScene=function(e,t,r){var a=this;return M(function(){var s,l,u,h,m,v,p,b,x,I,B,F,R;return J(this,function(X){return l=Lr(e)?e:a.id,u=performance.now(),h=[],m=t==null?void 0:t.engine.gpuCapability,p=(v=m==null?void 0:m.detail.compressedTexture)!=null?v:Ya.NONE,b={},I=!1,B=new Promise(function(k,H){x=window.setTimeout(function(){I=!0,a.removeTimer(x);var ee=performance.now()-u;H(new Error("Load time out: totalTime: "+ee.toFixed(4)+"ms "+h.join(" ")+", url: "+l+"."))},a.timeout*1e3),a.timers.push(x)}),F=M(function(k,H){var ee,ie,oe,Qe;return J(this,function(Je){switch(Je.label){case 0:if(I)return[3,4];ee=performance.now(),Je.label=1;case 1:return Je.trys.push([1,3,,4]),[4,H()];case 2:return ie=Je.sent(),oe=performance.now()-ee,h.push("["+k+": "+oe.toFixed(2)+"]"),b[k]=oe,[2,ie];case 3:throw Qe=Je.sent(),new Error("Load error in "+k+", "+Qe+".");case 4:throw new Error("Load canceled.")}})}),R=M(function(){var k,H,ee,ie,oe,Qe,Je,st,ft,At,Wt,Zt,Kt,qt,_t,_r,sr,Or,Qr,Jr;return J(this,function(ii){switch(ii.label){case 0:return Lr(e)?(H=new URL(e,location.href).href,a.baseUrl=H,[4,F("loadJSON",function(){return a.loadJSON(H)})]):[3,2];case 1:return s=ii.sent(),[3,3];case 2:s=e,a.baseUrl=location.href,ii.label=3;case 3:return Ul.isJSONObject(s)?(k=Zr({},s),ee=k.jsonScene,ie=k.pluginSystem,oe=k.images,Qe=ee.compositions,Je=ee.images,a.assignImagesToAssets(Je,oe),[4,Promise.all([F("plugin:processAssets",function(){return a.processPluginAssets(ee,ie,r)}),F("plugin:precompile",function(){return a.precompile(Qe,ie,t,r)})])]):[3,5];case 4:return ii.sent(),[3,10];case 5:return[4,F("processJSON",function(){return a.processJSON(s)})];case 6:return st=ii.sent(),ft=st.jsonScene,At=st.pluginSystem,Wt=ft.bins,Zt=Wt===void 0?[]:Wt,Kt=ft.images,qt=ft.compositions,_t=ft.fonts,[4,Promise.all([F("processBins",function(){return a.processBins(Zt)}),F("processImages",function(){return a.processImages(Kt,p)}),F("plugin:processAssets",function(){return a.processPluginAssets(ft,At,r)}),F("plugin:precompile",function(){return a.precompile(qt,At,t,r)}),F("processFontURL",function(){return a.processFontURL(_t)})])];case 7:return _r=ii.sent(),sr=_r[0],Or=_r[1],[4,F("processTextures",function(){return a.processTextures(Or,sr,ft)})];case 8:return Qr=ii.sent(),k={timeInfos:b,url:e,renderLevel:a.options.renderLevel,storage:{},pluginSystem:At,jsonScene:ft,bins:sr,images:Or,textureOptions:Qr},[4,F("plugin:prepareResource",function(){return At.loadResources(k,a.options)})];case 9:ii.sent(),ii.label=10;case 10:return[4,F("prepareAssets",function(){return a.prepareAssets(t==null?void 0:t.engine)})];case 11:return ii.sent(),Jr=performance.now()-u,ke.info("Load asset: totalTime: "+Jr.toFixed(4)+"ms "+h.join(" ")+", url: "+l+"."),window.clearTimeout(x),a.removeTimer(x),k.totalTime=Jr,k.startTime=u,k.timeInfos=b,[2,k]}})}),[2,Promise.race([B,R()])]})})()},o.precompile=function(e,t,r,a){return M(function(){return J(this,function(s){switch(s.label){case 0:return!r||!r.getShaderLibrary()?[2]:[4,t.precompile(e,r,a)];case 1:return s.sent(),[2]}})})()},o.processJSON=function(e){var t=this;return M(function(){var r,a,s,l;return J(this,function(u){switch(u.label){case 0:return r=nm(e),a=r.plugins,s=a===void 0?[]:a,l=new Xt(s),[4,l.processRawJSON(r,t.options)];case 1:return u.sent(),[2,{jsonScene:r,pluginSystem:l}]}})})()},o.processBins=function(e){var t=this;return M(function(){var r,a,s;return J(this,function(l){return r=t.options.renderLevel,a=t.baseUrl,s=e.map(function(u){if(U(u,ArrayBuffer))return u;if(Hh(u.renderLevel,r))return t.loadBins(new URL(u.url,a).href);throw new Error("Invalid bins source: "+JSON.stringify(e)+".")}),[2,Promise.all(s)]})})()},o.processFontURL=function(e){var t=this;return M(function(){var r;return J(this,function(a){return e?(r=e.map(M(function(s){var l,u,h;return J(this,function(m){switch(m.label){case 0:if(!(s.fontURL&&!i.fontCache.has(s.fontFamily)))return[3,4];De(s.fontFamily)||console.warn("Risky font family: "+s.fontFamily+"."),m.label=1;case 1:return m.trys.push([1,3,,4]),l=new URL(s.fontURL,t.baseUrl).href,h=new FontFace((u=s.fontFamily)!=null?u:"","url("+l+")"),[4,h.load()];case 2:return m.sent(),document.fonts.add(h),i.fontCache.add(s.fontFamily),[3,4];case 3:return m.sent(),ke.warn("Invalid font family or font source: "+JSON.stringify(s.fontURL)+"."),[3,4];case 4:return[2]}})})),[2,Promise.all(r)]):[2]})})()},o.processImages=function(e,t){t===void 0&&(t=0);var r=this;return M(function(){var a,s,l,u,h,m,v,p;return J(this,function(b){switch(b.label){case 0:return a=r.options,s=a.useCompressedTexture,l=a.variables,u=a.disableWebP,h=a.disableAVIF,m=r.baseUrl,v=e.map(M(function(x,I){var B,F,R,X,k,H,ee,ie,oe,Qe,Je,st,ft,At,Wt,Zt,Kt,qt,_t,_r,sr;return J(this,function(Or){switch(Or.label){case 0:if(B=x.url,F=x.webp,R=x.avif,X=new URL(B,m).href,k=!u&&F?new URL(F,m).href:void 0,H=!h&&R?new URL(R,m).href:void 0,ee=x.id,!("template"in x))return[3,8];if(ie=x.template,oe=ie.background,!oe)return[3,7];Qe=Gh(ie,l),Je=oe.type===Vr.video,st=oe&&Je?nn:ct,Or.label=1;case 1:return Or.trys.push([1,6,,7]),[4,Xr(Qe,st)];case 2:return ft=Or.sent(),U(ft,HTMLVideoElement)?(r.sourceFrom[ee]={url:ft.src,type:wr.video},[2,ft]):[3,3];case 3:return oe&&Array.isArray(Qe)&&l&&(l[oe.name]=ft.src),r.sourceFrom[ee]={url:ft.src,type:wr.image},[4,cm(ft,ie,l)];case 4:return[2,Or.sent()];case 5:return[3,7];case 6:throw At=Or.sent(),new Error("Failed to load. Check the template or if the URL is "+(Je?"video":"image")+" type, URL: "+Qe+", Error: "+(At.message||At)+".");case 7:return[3,9];case 8:if("compressed"in x&&s&&t){if(Wt=x.compressed,t===Ya.ASTC?Zt=Wt.astc:t===Ya.PVRTC&&(Zt=Wt.pvrtc),Zt)return Kt=new URL(Zt,m).href,r.sourceFrom[ee]={url:Kt,type:wr.compressed},[2,r.loadBins(Kt)]}else if(U(x,HTMLImageElement)||U(x,HTMLCanvasElement)||U(x,HTMLVideoElement)||U(x,Pr))return[2,x];Or.label=9;case 9:return H?[4,_e(X,H)]:[3,11];case 10:return sr=Or.sent(),[3,13];case 11:return[4,Q(X,k)];case 12:sr=Or.sent(),Or.label=13;case 13:return qt=sr,_t=qt.url,_r=qt.image,r.sourceFrom[ee]={url:_t,type:wr.image},[2,_r]}})})),[4,Promise.all(v)];case 1:return p=b.sent(),r.assignImagesToAssets(e,p),[2,p]}})})()},o.processPluginAssets=function(e,t,r){var a=this;return M(function(){var s,l,u,h,m;return J(this,function(v){switch(v.label){case 0:return[4,t.processAssets(e,r)];case 1:for(s=v.sent(),l=s.reduce(function(p,b){return p.assets=p.assets.concat(b.assets),p.loadedAssets=p.loadedAssets.concat(b.loadedAssets),p},{assets:[],loadedAssets:[]}),u=l.assets,h=l.loadedAssets,m=0;m<u.length;m++)a.assets[u[m].id]=h[m];return[2]}})})()},o.prepareAssets=function(e){var t=this;return M(function(){var r,a,s,l,u;return J(this,function(h){if(!e)return[2];for(r=Fe(Object.keys(t.assets));!(a=r()).done;)s=a.value,l=t.assets[s],u=new Nd(e),u.data=l,u.setInstanceId(s),e.addInstance(u);return[2]})})()},o.processTextures=function(e,t,r){var a=this;return M(function(){var s,l,u;return J(this,function(h){return l=(s=r.textures)!=null?s:e.map(function(m,v){return{source:v}}),u=l.map(M(function(m,v){var p,b,x,I,B,F;return J(this,function(R){switch(R.label){case 0:if(U(m,Pr))return[2,m];if(!("mipmaps"in m))return[3,4];R.label=1;case 1:return R.trys.push([1,3,,4]),[4,Hr(m,t,a.assets,r.bins)];case 2:return[2,R.sent()];case 3:throw p=R.sent(),new Error("Load texture "+v+" fails, error message: "+p+".");case 4:return b=m.source,x=m.id,B="",Te(b)?(I=a.assets[b.id],B=b.id,[3,7]):[3,5];case 5:return typeof b!="string"?[3,7]:[4,ct(re(b))];case 6:I=R.sent(),R.label=7;case 7:if(I)return F=hm(I,a.sourceFrom[B],x),[2,F.sourceType===wr.compressed?F:Zr({},F,m)];throw new Error("Invalid texture source: "+b+".")}})})),[2,Promise.all(u)]})})()},o.loadJSON=function(e){var t=this;return M(function(){return J(this,function(r){return[2,new Promise(function(a,s){t.downloader.downloadJSON(e,a,function(l,u){s("Couldn't load JSON "+JSON.stringify(e)+": status "+l+", "+u)})})]})})()},o.loadBins=function(e){var t=this;return M(function(){return J(this,function(r){return[2,new Promise(function(a,s){t.downloader.downloadBinary(e,a,function(l,u){s("Couldn't load bins "+JSON.stringify(e)+": status "+l+", "+u)})})]})})()},o.assignImagesToAssets=function(e,t){for(var r=0;r<e.length;r++)this.assets[e[r].id]=t[r]},o.removeTimer=function(e){var t=this.timers.indexOf(e);t!==-1&&this.timers.splice(t,1)},o.dispose=function(){this.timers.length&&this.timers.map(function(e){return window.clearTimeout(e)}),this.assets={},this.sourceFrom={},this.timers=[]},i}();Wh.fontCache=new Set;function hm(i,o,n){var e={id:n,dataType:Ct.Texture};if(U(i,Pr))return Zr({},i.source,e);if(U(i,HTMLImageElement)||$e(i))return Zr({image:i,sourceType:wr.image,sourceFrom:o,keepImageSource:!0,minFilter:D.LINEAR,magFilter:D.LINEAR},e);if(U(i,HTMLVideoElement))return Zr({sourceType:wr.video,video:i,minFilter:D.LINEAR,magFilter:D.LINEAR},e);if(U(i,ArrayBuffer))return Zr({},di(i),{sourceFrom:o},e);if("width"in i&&"height"in i&&"data"in i)return Zr({sourceType:wr.data,data:i,wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE,minFilter:D.NEAREST,magFilter:D.NEAREST},e);throw new Error("Invalid texture options.")}var dm=new Ie(1,1,1),mm=function(){function i(n,e){e===void 0&&(e={}),this.name=n,this.viewportMatrix=yr.fromIdentity(),this.viewMatrix=yr.fromIdentity(),this.projectionMatrix=yr.fromIdentity(),this.viewProjectionMatrix=yr.fromIdentity(),this.inverseViewMatrix=yr.fromIdentity(),this.dirty=!0;var t=e.near,r=t===void 0?.1:t,a=e.far,s=a===void 0?20:a,l=e.fov,u=l===void 0?60:l,h=e.aspect,m=h===void 0?1:h,v=e.clipMode,p=v===void 0?Dr.portrait:v,b=e.position,x=b===void 0?[0,0,8]:b,I=e.rotation,B=I===void 0?[0,0,0]:I;this.options={near:r,far:s,fov:u,aspect:m,clipMode:p,position:Ie.fromArray(x),rotation:Er.fromArray(B)},this.dirty=!0,this.updateMatrix()}var o=i.prototype;return o.setViewportMatrix=function(e){this.viewportMatrix=e.clone(),this.dirty=!0},o.getViewportMatrix=function(){return this.viewportMatrix},o.getViewMatrix=function(){return this.updateMatrix(),this.viewMatrix.clone()},o.getInverseViewMatrix=function(){return this.updateMatrix(),this.inverseViewMatrix.clone()},o.getProjectionMatrix=function(){return this.updateMatrix(),this.projectionMatrix.clone()},o.getInverseProjectionMatrix=function(){var e;return this.updateMatrix(),(e=this.inverseProjectionMatrix)==null?void 0:e.clone()},o.getViewProjectionMatrix=function(){return this.updateMatrix(),this.viewProjectionMatrix.clone()},o.getInverseViewProjectionMatrix=function(){return this.updateMatrix(),this.inverseViewProjectionMatrix||(this.inverseViewProjectionMatrix=this.viewProjectionMatrix.clone(),this.inverseViewProjectionMatrix.invert()),this.inverseViewProjectionMatrix.clone()},o.getModelViewProjection=function(e,t){return e.multiplyMatrices(this.viewProjectionMatrix,t)},o.getInverseVPRatio=function(e){var t=new Ie(this.position.x,this.position.y,e),r=this.getViewProjectionMatrix(),a=this.getInverseViewProjectionMatrix();if(!this.viewportMatrix.isIdentity()){var s=this.viewportMatrix.clone();a.premultiply(s),r.multiply(s.invert())}var l=r.projectPoint(t),u=l.z,h=a.projectPoint(new Ie(1,1,u)),m=h.x,v=h.y,p=a.projectPoint(new Ie(-1,-1,u)),b=p.x,x=p.y;return new Ie((m-b)/2,(v-x)/2,0)},o.setQuat=function(e){this.options.quat===void 0?(this.options.quat=e.clone(),this.dirty=!0):this.options.quat.equals(e)||(this.options.quat.copyFrom(e),this.dirty=!0),this.dirty&&this.setRotationByQuat(e)},o.getQuat=function(){var e=this.options.quat;if(e===void 0){e=new Nt;var t=this.options.rotation;t&&e.setFromEuler(t),this.options.quat=e}return e},o.getOptions=function(){return this.options},o.copy=function(e){var t=e.near,r=e.far,a=e.fov,s=e.clipMode,l=e.aspect,u=e.position,h=e.rotation;this.near=t,this.far=r,this.fov=a,this.clipMode=s,this.aspect=l,this.position=u,this.rotation=h,this.updateMatrix()},o.updateMatrix=function(){if(this.dirty){var e=this.options,t=e.fov,r=e.aspect,a=e.near,s=e.far,l=e.clipMode,u=e.position;this.projectionMatrix.perspective(t*Zn,r,a,s,l===Dr.portrait),this.projectionMatrix.premultiply(this.viewportMatrix),this.inverseViewMatrix.compose(u,this.getQuat(),dm),this.viewMatrix.copyFrom(this.inverseViewMatrix).invert(),this.viewProjectionMatrix.multiplyMatrices(this.projectionMatrix,this.viewMatrix),this.inverseViewProjectionMatrix=null,this.dirty=!1}},o.setRotationByQuat=function(e){ul.getRotation(e,this.options.rotation)},gr(i,[{key:"near",get:function(){return this.options.near},set:function(e){this.options.near!==e&&(this.options.near=e,this.dirty=!0)}},{key:"far",get:function(){return this.options.far},set:function(e){this.options.far!==e&&(this.options.far=e,this.dirty=!0)}},{key:"fov",get:function(){return this.options.fov},set:function(e){this.options.fov!==e&&(this.options.fov=e,this.dirty=!0)}},{key:"aspect",get:function(){return this.options.aspect},set:function(e){this.options.aspect!==e&&(this.options.aspect=e,this.dirty=!0)}},{key:"clipMode",get:function(){return this.options.clipMode},set:function(e){e!==void 0&&this.options.clipMode!==e&&(this.options.clipMode=e,this.dirty=!0)}},{key:"position",get:function(){return this.options.position.clone()},set:function(e){this.options.position.equals(e)||(this.options.position.copyFrom(e),this.dirty=!0)}},{key:"rotation",get:function(){return this.options.rotation.clone()},set:function(e){this.options.rotation.equals(e)||(this.options.rotation.copyFrom(e),this.dirty=!0,this.options.quat=void 0)}}]),i}(),vm=function(){function i(n,e){this.refCompositionProps=new Map,this.imgUsage={},this.mask=0,this.refCompositions=new Map,this.engine=e;var t=n.jsonScene,r=n.renderLevel,a=n.textureOptions,s=n.pluginSystem,l=n.totalTime,u=t.compositions,h=t.compositionId;if(!a)throw new Error("scene.textures expected.");for(var m=a,v=Fe(u),p;!(p=v()).done;){var b=p.value;b.id===h?this.composition=b:this.refCompositions.set(b.id,b)}if(!this.composition)throw new Error("Invalid composition id: "+h+".");this.jsonScene=t,this.renderLevel=r,this.pluginSystem=s,this.totalTime=l!=null?l:0,this.textures=m,this.sourceContent=this.getContent(this.composition)}var o=i.prototype;return o.getContent=function(e){var t=Zr({},e);return this.assembleItems(t),isNaN(t.endBehavior)&&(t.endBehavior=Se.freeze),t.startTime||(t.startTime=0),t},o.assembleItems=function(e){this.mask++;var t={},r=[];if(this.jsonScene){for(var a=Fe(this.jsonScene.components),s;!(s=a()).done;){var l=s.value;t[l.id]=l}for(var u=Fe(e.items),h;!(h=u()).done;){var m=h.value,v=this.engine.jsonSceneData[m.id],p=v;if(Hh(v.renderLevel,this.renderLevel)){if(p.type===ze.sprite||p.type===ze.particle||p.type===ze.spine||p.type===ze.shape)for(var b=Fe(p.components),x;!(x=b()).done;){var I=x.value,B=t[I.id];this.preProcessItemContent(B)}if(p.type===ze.composition){var F=v.content.options.refId,R=this.refCompositions.get(F);if(!R)throw new Error("Invalid ref composition id: "+F+".");var X=this.getContent(R);this.refCompositionProps.has(F)||this.refCompositionProps.set(F,X)}r.push(m)}}e.items=r}},o.preProcessItemContent=function(e){if(e.renderer){e.renderer=this.changeTex(e.renderer),"mask"in e.renderer||this.processMask(e.renderer);var t=e.splits&&!e.textureSheetAnimation?e.splits[0]:void 0,r=e.renderer.shape,a;if(Number.isInteger(r)){var s;a=(s=this.jsonScene)==null?void 0:s.shapes[r]}else r&&(a=r);a!==void 0&&!("aPoint"in a&&"index"in a)&&(e.renderer.shape=zf(a,t))}"trails"in e&&e.trails!==void 0&&(e.trails=this.changeTex(e.trails))},o.changeTex=function(e){if(!e.texture)return e;var t=e.texture.id;return t!==void 0&&this.addTextureUsage(t),e},o.addTextureUsage=function(e){var t,r=(t=this.imgUsage)!=null?t:{};e&&r&&(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=0),r[e]++)},o.processMask=function(e){var t=e.maskMode;t!==tr.NONE&&(e.mask||(t===tr.MASK?e.mask=++this.mask:(t===tr.OBSCURED||t===tr.REVERSE_OBSCURED)&&(e.mask=this.mask)))},o.dispose=function(){this.textures=[],this.composition=void 0,this.jsonScene=void 0,this.totalTime=0,this.pluginSystem=void 0,this.sourceContent=void 0,this.refCompositions.clear(),this.refCompositionProps.clear()},i}(),pm=function(){function i(){this.update=new gm,this.lateUpdate=new ym}var o=i.prototype;return o.addComponent=function(e){e.onUpdate!==Jn.prototype.onUpdate&&this.update.addComponent(e),e.onLateUpdate!==Jn.prototype.onLateUpdate&&this.lateUpdate.addComponent(e)},o.removeComponent=function(e){e.onUpdate!==Jn.prototype.onUpdate&&this.update.removeComponent(e),e.onLateUpdate!==Jn.prototype.onLateUpdate&&this.lateUpdate.removeComponent(e)},o.clear=function(){this.update.clear(),this.lateUpdate.clear()},i}(),Zh=function(){function i(){this.components=[],this.ticks=[]}var o=i.prototype;return o.tick=function(e){this.tickComponents(this.components,e);for(var t=0;t<this.ticks.length;t++)this.ticks[t](e)},o.tickComponents=function(e,t){},o.addComponent=function(e){this.components.includes(e)||this.components.push(e)},o.removeComponent=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},o.addTick=function(e,t){var r=e.bind(t);this.ticks.includes(r)||this.ticks.push(r)},o.clear=function(){this.components=[]},i}(),gm=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.tickComponents=function(t,r){for(var a=Fe(t),s;!(s=a()).done;){var l=s.value;l.onUpdate(r)}},o}(Zh),ym=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.tickComponents=function(t,r){for(var a=Fe(t),s;!(s=a()).done;){var l=s.value;l.onLateUpdate(r)}},o}(Zh),bm=function(i){pe(o,i);function o(e,t){var r,a;r=i.call(this)||this,r.sceneTicking=new pm,r.speed=1,r.isEnded=!1,r.loaderData={},r.refContent=[],r.refCompositionProps=new Map,r.postProcessingEnabled=!1,r.assigned=!1,r.destroyed=!1,r.postLoaders=[],r.paused=!1,r.lastVideoUpdateTime=0,r.isEndCalled=!1;var s=e.reusable,l=s===void 0?!1:s,u=e.speed,h=u===void 0?1:u,m=e.baseRenderOrder,v=m===void 0?0:m,p=e.renderer,b=e.event,x=e.width,I=e.height,B=e.handleItemMessage;r.compositionSourceManager=new vm(t,p.engine),l&&(r.keepResource=!0,t.textures=void 0,t.consumed=!0);var F=r.compositionSourceManager,R=F.sourceContent,X=F.pluginSystem,k=F.imgUsage,H=F.totalTime,ee=F.refCompositionProps,ie;r.postProcessingEnabled=(ie=(a=t.jsonScene.renderSettings)==null?void 0:a.postProcessingEnabled)!=null?ie:!1,at(R),r.renderer=p,r.refCompositionProps=ee,r.rootItem=new _i(r.getEngine(),R),r.rootItem.name="rootItem",r.rootItem.composition=Be(r),r.rootComposition=r.rootItem.addComponent(V),r.width=x,r.height=I,r.renderOrder=v,r.id=R.id,r.renderer=p,r.texInfo=l?{}:k,r.event=b;var oe;return r.statistic={loadStart:(oe=t.startTime)!=null?oe:0,loadTime:H!=null?H:0,compileTime:0,firstFrameTime:0},r.reusable=l,r.speed=h,r.autoRefTex=!r.keepResource&&r.texInfo&&r.rootItem.endBehavior!==Se.restart,r.name=R.name,r.pluginSystem=X,r.pluginSystem.initializeComposition(Be(r),t),r.camera=new mm(r.name,Zr({},R==null?void 0:R.camera,{aspect:x/I})),r.url=t.url,r.assigned=!0,r.interactive=!0,r.handleItemMessage=B,r.createRenderFrame(),r.rendererOptions=null,L.deserialize(R,r.rootComposition),r.rootComposition.createContent(),r.buildItemTree(r.rootItem),r.rootComposition.setChildrenRenderOrder(0),r.pluginSystem.resetComposition(Be(r),r.renderFrame),r}var n=o.prototype;return n.getDuration=function(){return this.rootItem.duration},n.restart=function(){this.reset(),this.forwardTime(this.startTime)},n.setIndex=function(t){this.renderOrder=t},n.getIndex=function(){return this.renderOrder},n.setSpeed=function(t){this.speed=t},n.setVisible=function(t){this.rootItem.setVisible(t)},n.getSpeed=function(){return this.speed},n.play=function(){this.isEnded&&this.reusable&&this.restart(),this.rootComposition.isStartCalled?this.gotoAndPlay(this.time-this.startTime):this.gotoAndPlay(0)},n.pause=function(){this.paused=!0},n.getPaused=function(){return this.paused},n.resume=function(){this.paused=!1},n.gotoAndPlay=function(t){this.setTime(t),this.resume()},n.gotoAndStop=function(t){this.setTime(t),this.pause()},n.createRenderFrame=function(){this.renderFrame=new Ia({camera:this.camera,renderer:this.renderer,keepColorBuffer:this.keepColorBuffer,globalVolume:this.globalVolume,postProcessingEnabled:this.postProcessingEnabled}),this.renderFrame.cachedTextures=this.textures},n.setTime=function(t){var r=this.speed,a=this.paused;a&&this.resume(),this.setSpeed(1),this.forwardTime(t+this.startTime),this.setSpeed(r),a&&this.pause(),this.emit("goto",{time:t})},n.addItem=function(t){this.items.push(t),t.setParent(this.rootItem)},n.forwardTime=function(t){var r=t*1e3-this.rootComposition.time*1e3,a=r<0,s=15,l=Math.abs(r),u=a?-s:s;for(l;l>s;l-=s)this.update(u);this.update(a?-l:l)},n.reset=function(){this.rendererOptions=null,this.isEnded=!1,this.isEndCalled=!1,this.rootComposition.time=0,this.pluginSystem.resetComposition(this,this.renderFrame)},n.prepareRender=function(){var t=this,r=this.renderFrame;this.postLoaders.length=0,this.pluginSystem.plugins.forEach(function(a){a.prepareRenderFrame(t,r)&&t.postLoaders.push(a)}),this.postLoaders.forEach(function(a){return a.postProcessFrame(t,r)})},n.update=function(t){if(!(!this.assigned||this.paused)){var r=parseFloat(this.getUpdateTime(t*this.speed).toFixed(0));this.updateRootComposition(r/1e3),this.updateVideo(),this.updatePluginLoaders(t),this.rootItem.isDuringPlay||(this.callAwake(this.rootItem),this.rootItem.beginPlay()),this.sceneTicking.update.tick(r),this.sceneTicking.lateUpdate.tick(r),this.updateCamera(),this.prepareRender(),this.isEnded&&!this.isEndCalled&&(this.isEndCalled=!0,this.emit("end",{composition:this})),this.shouldDispose()&&this.dispose()}},n.shouldDispose=function(){return this.isEnded&&this.rootItem.endBehavior===Se.destroy&&!this.reusable},n.getUpdateTime=function(t){var r=this.startTime*1e3,a=this.rootComposition.time*1e3;return t<0&&a+t<r?r-a:t},n.callAwake=function(t){for(var r=Fe(t.components),a;!(a=r()).done;){var s=a.value;s.isAwakeCalled||(s.onAwake(),s.isAwakeCalled=!0)}for(var l=Fe(t.children),u;!(u=l()).done;){var h=u.value;this.callAwake(h)}},n.buildItemTree=function(t){if(t.composition){for(var r=new Map,a=t.getComponent(V).items,s=Fe(a),l;!(l=s()).done;){var u=l.value;r.set(u.id,u)}for(var h=Fe(a),m;!(m=h()).done;){var v=m.value;if(v.parentId===void 0)v.setParent(t);else{var p=r.get(v.parentId);if(p)v.parent=p,v.transform.parentTransform=p.transform,p.children.push(v);else throw new Error("The element references a non-existent element, please check the data.")}}for(var b=Fe(a),x;!(x=b()).done;){var I=x.value;_i.isComposition(I)&&this.buildItemTree(I)}}},n.updateVideo=function(){var t=performance.now();if(t-this.lastVideoUpdateTime>33){var r;((r=this.textures)!=null?r:[]).forEach(function(a){return a==null?void 0:a.uploadCurrentVideoFrame()}),this.lastVideoUpdateTime=t}},n.updateCamera=function(){this.camera.updateMatrix()},n.updatePluginLoaders=function(t){var r=this;this.pluginSystem.plugins.forEach(function(a){return a.onCompositionUpdate(r,t)})},n.updateRootComposition=function(t){if(this.rootComposition.isActiveAndEnabled){var r=parseFloat((this.time+t-this.rootItem.start).toFixed(3)),a=!1,s=this.rootItem.duration,l=this.rootItem.endBehavior;if(r-s>.001)switch(a=!0,l){case Se.restart:{r=r%s,this.restart();break}case Se.freeze:{r=Math.min(s,r);break}case Se.forward:break;case Se.destroy:break}this.rootComposition.time=r,this.isEnded!==a&&(a?this.isEnded=!0:(this.isEnded=!1,this.isEndCalled=!1))}},n.getItemByName=function(t){return this.rootItem.find(t)},n.getHitTestRay=function(t,r){var a=this.renderFrame.editorTransform,s=a.x,l=a.y,u=a.z,h=a.w;return Na((t-u)/s,(r-h)/l,this.camera)},n.getEngine=function(){var t;return(t=this.renderer)==null?void 0:t.engine},n.hitTest=function(t,r,a,s){var l;if(this.isDestroyed||!this.interactive)return[];var u=[],h=this.getHitTestRay(t,r);return(l=this.rootItem.getComponent(V))==null||l.hitTest(h,t,r,u,a,s),this.refContent.forEach(function(m){var v;(v=m.getComponent(V))==null||v.hitTest(h,t,r,u,a,s)}),u},n.addInteractiveItem=function(t,r){if(r===jr.MESSAGE)return this.handleItemMessage({name:t.name,phrase:ti,id:t.id,compositionId:this.id}),t.emit("message",{name:t.name,phrase:ti,id:t.id}),t.id},n.removeInteractiveItem=function(t,r){r===jr.MESSAGE&&(this.handleItemMessage({name:t.name,phrase:dn,id:t.id,compositionId:this.id}),t.emit("message",{name:t.name,phrase:dn,id:t.id}))},n.destroyTextures=function(t){for(var r=0;r<t.length;r++){var a=t[r];if(a){if(a.sourceType===wr.data&&!this.texInfo[a.getInstanceId()]){var s;a!==((s=this.rendererOptions)==null?void 0:s.emptyTexture)&&a!==this.renderFrame.transparentTexture&&a!==this.getEngine().emptyTexture&&a.dispose();continue}if(this.autoRefTex){var l=--this.texInfo[a.getInstanceId()];l||a.dispose()}}}},n.destroyItem=function(t){var r=this;if(t.type==ze.composition){if(t.endBehavior!==Se.freeze){var a=t.getComponent(V).items;a.forEach(function(s){return r.pluginSystem.plugins.forEach(function(l){return l.onCompositionItemRemoved(r,s)})})}}else fe(this.items,t),this.pluginSystem.plugins.forEach(function(s){return s.onCompositionItemRemoved(r,t)})},n.lost=function(t){this.videoState=this.textures.map(function(r){if("video"in r.source)return r.source.video.pause(),r.source.video.currentTime}),this.textures.map(function(r){return r.dispose()}),this.dispose()},n.dispose=function(){var t=this,r,a;if(!this.destroyed){this.destroyed=!0;var s={},l=this.textures;l&&this.keepResource&&l.forEach(function(u){u!=null&&u.dispose&&(s[u.id]=u.dispose,u.dispose=cr)}),this.rootItem.dispose(),this.renderFrame.dispose(),(r=this.rendererOptions)==null||r.emptyTexture.dispose(),(a=this.pluginSystem)==null||a.destroyComposition(this),this.update=function(){ke.error("Update disposed composition: "+t.name+".")},this.dispose=cr,l&&this.keepResource&&l.forEach(function(u){return u.dispose=s[u.id]}),this.compositionSourceManager.dispose(),this.refCompositionProps.clear(),this.renderer.env!==Mo&&this.renderer.clear({stencilAction:si.clear,clearStencil:0,depthAction:si.clear,clearDepth:1,colorAction:si.clear,clearColor:[0,0,0,0]})}},n.setEditorTransform=function(t,r,a){this.renderFrame.editorTransform.set(t,t,r,a)},n.translateByPixel=function(t,r){if(!this.renderer){console.warn("Renderer not assigned. Operation aborted.");return}this.rootItem.translateByPixel(t,r)},n.setPositionByPixel=function(t,r){if(!this.renderer){console.warn("Renderer not assigned. Operation aborted.");return}this.rootItem.setPositionByPixel(t,r)},n.translate=function(t,r,a){this.rootItem.translate(t,r,a)},n.setPosition=function(t,r,a){this.rootItem.setPosition(t,r,a)},n.rotate=function(t,r,a){this.rootItem.rotate(t,r,a)},n.setRotation=function(t,r,a){this.rootItem.setRotation(t,r,a)},n.scale=function(t,r,a){this.rootItem.scale(t,r,a)},n.setScale=function(t,r,a){this.rootItem.setScale(t,r,a)},n.offloadTexture=function(){this.textureOffloaded||(this.textures.forEach(function(t){return t&&t.offloadData()}),this.textureOffloaded=!0)},n.getRendererOptions=function(){return this.rendererOptions||(this.rendererOptions={emptyTexture:this.renderFrame.emptyTexture,cachePrefix:"-"}),this.rendererOptions},n.reloadTexture=function(){var t=this;return M(function(){return J(this,function(r){switch(r.label){case 0:return t.textureOffloaded?[4,Promise.all(t.textures.map(function(a){return a==null?void 0:a.reloadData()}))]:[3,2];case 1:r.sent(),t.textureOffloaded=!1,r.label=2;case 2:return[2]}})})()},gr(o,[{key:"transform",get:function(){return this.rootItem.transform}},{key:"textures",get:function(){return this.compositionSourceManager.textures}},{key:"items",get:function(){return this.rootComposition.items}},{key:"startTime",get:function(){return this.rootComposition.startTime}},{key:"time",get:function(){return this.rootComposition.time}},{key:"isDestroyed",get:function(){return this.destroyed}},{key:"viewportMatrix",get:function(){return this.camera.getViewportMatrix()},set:function(t){this.camera.setViewportMatrix(t)}}]),o}(au),hh=2,vs=4,ws=4,vl=4,js=new Int32Array(2),Xh=new Float32Array(js.buffer),Yh=new Float64Array(js.buffer),Xc=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,dh;(function(i){i[i.UTF8_BYTES=1]="UTF8_BYTES",i[i.UTF16_STRING=2]="UTF16_STRING"})(dh||(dh={}));var Yc=function(){function i(n){this.bytes_=n,this.position_=0,this.text_decoder_=new TextDecoder}var o=i.prototype;return o.clear=function(){this.position_=0},o.bytes=function(){return this.bytes_},o.position=function(){return this.position_},o.setPosition=function(e){this.position_=e},o.capacity=function(){return this.bytes_.length},o.readInt8=function(e){return this.readUint8(e)<<24>>24},o.readUint8=function(e){return this.bytes_[e]},o.readInt16=function(e){return this.readUint16(e)<<16>>16},o.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},o.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},o.readUint32=function(e){return this.readInt32(e)>>>0},o.readInt64=function(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))},o.readUint64=function(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))},o.readFloat32=function(e){return js[0]=this.readInt32(e),Xh[0]},o.readFloat64=function(e){return js[Xc?0:1]=this.readInt32(e),js[Xc?1:0]=this.readInt32(e+4),Yh[0]},o.writeInt8=function(e,t){this.bytes_[e]=t},o.writeUint8=function(e,t){this.bytes_[e]=t},o.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},o.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},o.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},o.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},o.writeInt64=function(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))},o.writeUint64=function(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))},o.writeFloat32=function(e,t){Xh[0]=t,this.writeInt32(e,js[0])},o.writeFloat64=function(e,t){Yh[0]=t,this.writeInt32(e,js[Xc?0:1]),this.writeInt32(e+4,js[Xc?1:0])},o.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+vs+ws)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<ws;t++)e+=String.fromCharCode(this.readInt8(this.position_+vs+t));return e},o.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},o.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},o.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e);e+=vs;var a=this.bytes_.subarray(e,e+r);return t===dh.UTF8_BYTES?a:this.text_decoder_.decode(a)},o.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},o.__indirect=function(e){return e+this.readInt32(e)},o.__vector=function(e){return e+this.readInt32(e)+vs},o.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},o.__has_identifier=function(e){if(e.length!=ws)throw new Error("FlatBuffers: file identifier must be length "+ws);for(var t=0;t<ws;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+vs+t))return!1;return!0},o.createScalarList=function(e,t){for(var r=[],a=0;a<t;++a){var s=e(a);s!==null&&r.push(s)}return r},o.createObjList=function(e,t){for(var r=[],a=0;a<t;++a){var s=e(a);s!==null&&r.push(s.unpack())}return r},i.allocate=function(e){return new i(new Uint8Array(e))},i}(),Kh=function(){function i(n){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;var e;n?e=n:e=1024,this.bb=Yc.allocate(e),this.space=e}var o=i.prototype;return o.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},o.forceDefaults=function(n){this.force_defaults=n},o.dataBuffer=function(){return this.bb},o.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},o.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var a=this.bb.capacity();this.bb=i.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(r)},o.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},o.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},o.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},o.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},o.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},o.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},o.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},o.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},o.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},o.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},o.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},o.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},o.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},o.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},o.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},o.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},o.addFieldInt64=function(e,t,r){(this.force_defaults||t!==r)&&(this.addInt64(t),this.slot(e))},o.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},o.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},o.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},o.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},o.nested=function(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")},o.notNested=function(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")},o.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},o.offset=function(){return this.bb.capacity()-this.space},o.addOffset=function(e){this.prep(vs,0),this.writeInt32(this.offset()-e+vs)},o.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},o.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var a=2;this.addInt16(e-this.object_start);var s=(r+a)*hh;this.addInt16(s);var l=0,u=this.space;e:for(t=0;t<this.vtables.length;t++){var h=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(h)){for(var m=hh;m<s;m+=hh)if(this.bb.readInt16(u+m)!=this.bb.readInt16(h+m))continue e;l=this.vtables[t];break}}return l?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,l-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},o.finish=function(e,t,r){var a=r?vl:0;if(t){var s=t;if(this.prep(this.minalign,vs+ws+a),s.length!=ws)throw new TypeError("FlatBuffers: file identifier must be length "+ws);for(var l=ws-1;l>=0;l--)this.writeInt8(s.charCodeAt(l))}this.prep(this.minalign,vs+a),this.addOffset(e),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},o.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},o.requiredField=function(e,t){var r=this.bb.capacity()-e,a=r-this.bb.readInt32(r),s=t<this.bb.readInt16(a)&&this.bb.readInt16(a+t)!=0;if(!s)throw new TypeError("FlatBuffers: field "+t+" must be set")},o.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(vs,e*t),this.prep(r,e*t)},o.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},o.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},o.createString=function(e){if(e==null)return 0;var t;return U(e,Uint8Array)?t=e:t=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()},o.createByteVector=function(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())},o.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},o.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var a=e[r];if(a!==null)t.push(this.createObjectOffset(a));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},o.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()},i.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,a=Yc.allocate(r);return a.setPosition(r-t),a.bytes().set(e.bytes(),r-t),a},i}(),mh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.dataType=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},o.dataLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.dataArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.unpack=function(){return new Qh(this.dataType(),this.bb.createScalarList(this.data.bind(this),this.dataLength()))},o.unpackTo=function(e){e.dataType=this.dataType(),e.data=this.bb.createScalarList(this.data.bind(this),this.dataLength())},i.getRootAsFBEffectsObjectData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBEffectsObjectData=function(e,t){return e.setPosition(e.position()+vl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBEffectsObjectData=function(e){e.startObject(2)},i.addDataType=function(e,t){e.addFieldOffset(0,t,0)},i.addData=function(e,t){e.addFieldOffset(1,t,0)},i.createDataVector=function(e,t){e.startVector(1,t.length,1);for(var r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()},i.startDataVector=function(e,t){e.startVector(1,t,1)},i.endFBEffectsObjectData=function(e){var t=e.endObject();return t},i.createFBEffectsObjectData=function(e,t,r){return i.startFBEffectsObjectData(e),i.addDataType(e,t),i.addData(e,r),i.endFBEffectsObjectData(e)},i}(),Qh=function(){function i(n,e){n===void 0&&(n=null),e===void 0&&(e=[]),this.dataType=n,this.data=e}var o=i.prototype;return o.pack=function(e){var t=this.dataType!==null?e.createString(this.dataType):0,r=mh.createDataVector(e,this.data);return mh.createFBEffectsObjectData(e,t,r)},i}(),Ou=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.exportObjects=function(e,t){var r=this.bb.__offset(this.bb_pos,4);return r?(t||new mh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null},o.exportObjectsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},o.unpack=function(){return new Jh(this.bb.createObjList(this.exportObjects.bind(this),this.exportObjectsLength()))},o.unpackTo=function(e){e.exportObjects=this.bb.createObjList(this.exportObjects.bind(this),this.exportObjectsLength())},i.getRootAsFBEffectsPackageData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBEffectsPackageData=function(e,t){return e.setPosition(e.position()+vl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBEffectsPackageData=function(e){e.startObject(1)},i.addExportObjects=function(e,t){e.addFieldOffset(0,t,0)},i.createExportObjectsVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startExportObjectsVector=function(e,t){e.startVector(4,t,4)},i.endFBEffectsPackageData=function(e){var t=e.endObject();return t},i.finishFBEffectsPackageDataBuffer=function(e,t){e.finish(t)},i.finishSizePrefixedFBEffectsPackageDataBuffer=function(e,t){e.finish(t,void 0,!0)},i.createFBEffectsPackageData=function(e,t){return i.startFBEffectsPackageData(e),i.addExportObjects(e,t),i.endFBEffectsPackageData(e)},i}(),Jh=function(){function i(n){n===void 0&&(n=[]),this.exportObjects=n}var o=i.prototype;return o.pack=function(e){var t=Ou.createExportObjectsVector(e,e.createObjectOffsetList(this.exportObjects));return Ou.createFBEffectsPackageData(e,t)},i}(),qh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.offset=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},o.indexCount=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},o.vertexCount=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},o.unpack=function(){return new ed(this.offset(),this.indexCount(),this.vertexCount())},o.unpackTo=function(e){e.offset=this.offset(),e.indexCount=this.indexCount(),e.vertexCount=this.vertexCount()},i.getRootAsFBSubMesh=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBSubMesh=function(e,t){return e.setPosition(e.position()+vl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBSubMesh=function(e){e.startObject(3)},i.addOffset=function(e,t){e.addFieldInt32(0,t,0)},i.addIndexCount=function(e,t){e.addFieldInt32(1,t,0)},i.addVertexCount=function(e,t){e.addFieldInt32(2,t,0)},i.endFBSubMesh=function(e){var t=e.endObject();return t},i.createFBSubMesh=function(e,t,r,a){return i.startFBSubMesh(e),i.addOffset(e,t),i.addIndexCount(e,r),i.addVertexCount(e,a),i.endFBSubMesh(e)},i}(),ed=function(){function i(n,e,t){n===void 0&&(n=0),e===void 0&&(e=0),t===void 0&&(t=0),this.offset=n,this.indexCount=e,this.vertexCount=t}var o=i.prototype;return o.pack=function(e){return qh.createFBSubMesh(e,this.offset,this.indexCount,this.vertexCount)},i}(),td=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.semantic=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.offset=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},o.format=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},o.dimension=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},o.normalize=function(){var e=this.bb.__offset(this.bb_pos,12);return e?!!this.bb.readInt8(this.bb_pos+e):!1},o.unpack=function(){return new rd(this.semantic(),this.offset(),this.format(),this.dimension(),this.normalize())},o.unpackTo=function(e){e.semantic=this.semantic(),e.offset=this.offset(),e.format=this.format(),e.dimension=this.dimension(),e.normalize=this.normalize()},i.getRootAsFBVertexChannel=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBVertexChannel=function(e,t){return e.setPosition(e.position()+vl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBVertexChannel=function(e){e.startObject(5)},i.addSemantic=function(e,t){e.addFieldOffset(0,t,0)},i.addOffset=function(e,t){e.addFieldInt32(1,t,0)},i.addFormat=function(e,t){e.addFieldInt32(2,t,0)},i.addDimension=function(e,t){e.addFieldInt32(3,t,0)},i.addNormalize=function(e,t){e.addFieldInt8(4,+t,0)},i.endFBVertexChannel=function(e){var t=e.endObject();return t},i.createFBVertexChannel=function(e,t,r,a,s,l){return i.startFBVertexChannel(e),i.addSemantic(e,t),i.addOffset(e,r),i.addFormat(e,a),i.addDimension(e,s),i.addNormalize(e,l),i.endFBVertexChannel(e)},i}(),rd=function(){function i(n,e,t,r,a){n===void 0&&(n=null),e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=!1),this.semantic=n,this.offset=e,this.format=t,this.dimension=r,this.normalize=a}var o=i.prototype;return o.pack=function(e){var t=this.semantic!==null?e.createString(this.semantic):0;return td.createFBVertexChannel(e,t,this.offset,this.format,this.dimension,this.normalize)},i}(),vh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.vertexCount=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},o.channels=function(e,t){var r=this.bb.__offset(this.bb_pos,6);return r?(t||new td).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null},o.channelsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.unpack=function(){return new nd(this.vertexCount(),this.bb.createObjList(this.channels.bind(this),this.channelsLength()))},o.unpackTo=function(e){e.vertexCount=this.vertexCount(),e.channels=this.bb.createObjList(this.channels.bind(this),this.channelsLength())},i.getRootAsFBVertexData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBVertexData=function(e,t){return e.setPosition(e.position()+vl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBVertexData=function(e){e.startObject(2)},i.addVertexCount=function(e,t){e.addFieldInt32(0,t,0)},i.addChannels=function(e,t){e.addFieldOffset(1,t,0)},i.createChannelsVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startChannelsVector=function(e,t){e.startVector(4,t,4)},i.endFBVertexData=function(e){var t=e.endObject();return t},i.createFBVertexData=function(e,t,r){return i.startFBVertexData(e),i.addVertexCount(e,t),i.addChannels(e,r),i.endFBVertexData(e)},i}(),nd=function(){function i(n,e){n===void 0&&(n=0),e===void 0&&(e=[]),this.vertexCount=n,this.channels=e}var o=i.prototype;return o.pack=function(e){var t=vh.createChannelsVector(e,e.createObjectOffsetList(this.channels));return vh.createFBVertexData(e,this.vertexCount,t)},i}(),Pa=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.id=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.name=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},o.vertexData=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new vh).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},o.indexFormat=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},o.indexOffset=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):0},o.subMeshes=function(e,t){var r=this.bb.__offset(this.bb_pos,14);return r?(t||new qh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null},o.subMeshesLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},o.mode=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):0},o.buffer=function(e){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null},o.binaryData=function(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},o.binaryDataLength=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0},o.binaryDataArray=function(){var e=this.bb.__offset(this.bb_pos,20);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.boneNames=function(e,t){var r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+e*4,t):null},o.boneNamesLength=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0},o.rootBoneName=function(e){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb_pos+t,e):null},o.inverseBindMatrices=function(e){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},o.inverseBindMatricesLength=function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0},o.inverseBindMatricesArray=function(){var e=this.bb.__offset(this.bb_pos,26);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.unpack=function(){return new id(this.id(),this.name(),this.vertexData()!==null?this.vertexData().unpack():null,this.indexFormat(),this.indexOffset(),this.bb.createObjList(this.subMeshes.bind(this),this.subMeshesLength()),this.mode(),this.buffer(),this.bb.createScalarList(this.binaryData.bind(this),this.binaryDataLength()),this.bb.createScalarList(this.boneNames.bind(this),this.boneNamesLength()),this.rootBoneName(),this.bb.createScalarList(this.inverseBindMatrices.bind(this),this.inverseBindMatricesLength()))},o.unpackTo=function(e){e.id=this.id(),e.name=this.name(),e.vertexData=this.vertexData()!==null?this.vertexData().unpack():null,e.indexFormat=this.indexFormat(),e.indexOffset=this.indexOffset(),e.subMeshes=this.bb.createObjList(this.subMeshes.bind(this),this.subMeshesLength()),e.mode=this.mode(),e.buffer=this.buffer(),e.binaryData=this.bb.createScalarList(this.binaryData.bind(this),this.binaryDataLength()),e.boneNames=this.bb.createScalarList(this.boneNames.bind(this),this.boneNamesLength()),e.rootBoneName=this.rootBoneName(),e.inverseBindMatrices=this.bb.createScalarList(this.inverseBindMatrices.bind(this),this.inverseBindMatricesLength())},i.getRootAsFBGeometryData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBGeometryData=function(e,t){return e.setPosition(e.position()+vl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBGeometryData=function(e){e.startObject(12)},i.addId=function(e,t){e.addFieldOffset(0,t,0)},i.addName=function(e,t){e.addFieldOffset(1,t,0)},i.addVertexData=function(e,t){e.addFieldOffset(2,t,0)},i.addIndexFormat=function(e,t){e.addFieldInt32(3,t,0)},i.addIndexOffset=function(e,t){e.addFieldInt32(4,t,0)},i.addSubMeshes=function(e,t){e.addFieldOffset(5,t,0)},i.createSubMeshesVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startSubMeshesVector=function(e,t){e.startVector(4,t,4)},i.addMode=function(e,t){e.addFieldInt32(6,t,0)},i.addBuffer=function(e,t){e.addFieldOffset(7,t,0)},i.addBinaryData=function(e,t){e.addFieldOffset(8,t,0)},i.createBinaryDataVector=function(e,t){e.startVector(1,t.length,1);for(var r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()},i.startBinaryDataVector=function(e,t){e.startVector(1,t,1)},i.addBoneNames=function(e,t){e.addFieldOffset(9,t,0)},i.createBoneNamesVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},i.startBoneNamesVector=function(e,t){e.startVector(4,t,4)},i.addRootBoneName=function(e,t){e.addFieldOffset(10,t,0)},i.addInverseBindMatrices=function(e,t){e.addFieldOffset(11,t,0)},i.createInverseBindMatricesVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addFloat32(t[r]);return e.endVector()},i.startInverseBindMatricesVector=function(e,t){e.startVector(4,t,4)},i.endFBGeometryData=function(e){var t=e.endObject();return t},i}(),id=function(){function i(n,e,t,r,a,s,l,u,h,m,v,p){n===void 0&&(n=null),e===void 0&&(e=null),t===void 0&&(t=null),r===void 0&&(r=0),a===void 0&&(a=0),s===void 0&&(s=[]),l===void 0&&(l=0),u===void 0&&(u=null),h===void 0&&(h=[]),m===void 0&&(m=[]),v===void 0&&(v=null),p===void 0&&(p=[]),this.id=n,this.name=e,this.vertexData=t,this.indexFormat=r,this.indexOffset=a,this.subMeshes=s,this.mode=l,this.buffer=u,this.binaryData=h,this.boneNames=m,this.rootBoneName=v,this.inverseBindMatrices=p}var o=i.prototype;return o.pack=function(e){var t=this.id!==null?e.createString(this.id):0,r=this.name!==null?e.createString(this.name):0,a=this.vertexData!==null?this.vertexData.pack(e):0,s=Pa.createSubMeshesVector(e,e.createObjectOffsetList(this.subMeshes)),l=this.buffer!==null?e.createString(this.buffer):0,u=Pa.createBinaryDataVector(e,this.binaryData),h=Pa.createBoneNamesVector(e,e.createObjectOffsetList(this.boneNames)),m=this.rootBoneName!==null?e.createString(this.rootBoneName):0,v=Pa.createInverseBindMatricesVector(e,this.inverseBindMatrices);return Pa.startFBGeometryData(e),Pa.addId(e,t),Pa.addName(e,r),Pa.addVertexData(e,a),Pa.addIndexFormat(e,this.indexFormat),Pa.addIndexOffset(e,this.indexOffset),Pa.addSubMeshes(e,s),Pa.addMode(e,this.mode),Pa.addBuffer(e,l),Pa.addBinaryData(e,u),Pa.addBoneNames(e,h),Pa.addRootBoneName(e,m),Pa.addInverseBindMatrices(e,v),Pa.endFBGeometryData(e)},i}(),xm=function(){function i(){this.exportObjectDatas=[]}var o=i.prototype;return o.addData=function(e){this.exportObjectDatas.push(e)},o.serializeToBinary=function(){for(var e=new Kh(1),t=new Jh,r=[],a=Fe(this.exportObjectDatas),s;!(s=a()).done;){var l=s.value,u=void 0;l.dataType===Ct.Geometry&&(u=new Qh("Geometry",this.geometryDataToBinary(l))),u&&r.push(u)}return t.exportObjects=r,Ou.finishFBEffectsPackageDataBuffer(e,t.pack(e)),e.asUint8Array()},o.deserializeFromBinary=function(e){for(var t=new Yc(e),r=Ou.getRootAsFBEffectsPackageData(t),a=0;a<r.exportObjectsLength();a++){var s=r.exportObjects(a);if(s){var l=s.dataArray(),u=s.dataType();if(l){var h=void 0;u===Ct.Geometry&&(h=this.binaryToGeometryData(l)),h&&this.exportObjectDatas.push(h)}}}},o.geometryDataToBinary=function(e){var t=new Kh(1),r=new id,a=e.indexFormat,s=e.indexOffset,l=e.mode,u=e.id,h=e.vertexData,m=e.boneNames,v=m===void 0?[]:m,p=e.rootBoneName,b=p===void 0?"":p,x=e.inverseBindMatrices,I=x===void 0?[]:x,B=e.binaryData,F=B===void 0?[]:B;r.indexFormat=a,r.indexOffset=s,r.mode=l,r.id=u,r.boneNames=v,r.rootBoneName=b,r.inverseBindMatrices=I,r.binaryData=F;var R=new nd;R.vertexCount=h.vertexCount,R.channels=[];for(var X=Fe(h.channels),k;!(k=X()).done;){var H=k.value,ee=H.semantic,ie=H.offset,oe=H.format,Qe=H.dimension,Je=H.normalize,st=new rd(ee,ie,oe,Qe,Je);R.channels.push(st)}r.vertexData=R;for(var ft=[],At=Fe(e.subMeshes),Wt;!(Wt=At()).done;){var Zt=Wt.value,Kt=Zt.offset,qt=Zt.indexCount,_t=Zt.vertexCount,_r=new ed(Kt,qt,_t);ft.push(_r)}return r.subMeshes=ft,Ou.finishFBEffectsPackageDataBuffer(t,r.pack(t)),t.asUint8Array()},o.binaryToGeometryData=function(e){var t=new Yc(e),r=Pa.getRootAsFBGeometryData(t),a={vertexCount:0,channels:[]},s=r.vertexData();if(s){a.vertexCount=s.vertexCount();for(var l=0;l<s.channelsLength();l++){var u=s.channels(l);if(u){var h,m={semantic:(h=u.semantic())!=null?h:"",offset:u.offset(),format:u.format(),dimension:u.dimension(),normalize:u.normalize()};a.channels.push(m)}}}for(var v=[],p=0;p<r.subMeshesLength();p++){var b=r.subMeshes(p);if(b){var x={offset:b.offset(),vertexCount:b.vertexCount(),indexCount:b.indexCount()};v.push(x)}}for(var I=[],B=0;B<r.boneNamesLength();B++){var F=r.boneNames(B);I.push(F)}var R=r.inverseBindMatricesArray(),X,k,H,ee,ie={vertexData:a,indexFormat:r.indexFormat(),indexOffset:r.indexOffset(),subMeshes:v,mode:r.mode(),buffer:(X=r.buffer())!=null?X:"",boneNames:I,rootBoneName:(k=r.rootBoneName())!=null?k:"",inverseBindMatrices:R?Array.from(R):void 0,binaryData:(H=r.binaryDataArray())!=null?H:void 0,id:(ee=r.id())!=null?ee:"",dataType:Ct.Geometry};return ie},i}(),ad=function(){function i(){this.renderErrors=new Set,this.destroyed=!1,this.textures=[],this.materials=[],this.geometries=[],this.meshes=[],this.renderPasses=[],this.jsonSceneData={},this.objectInstance={},this.assetLoader=new Vd(this),this.emptyTexture=Ti(this),this.transparentTexture=Oi(this)}var o=i.prototype;return o.clearResources=function(){this.jsonSceneData={},this.objectInstance={}},o.addEffectsObjectData=function(e){this.jsonSceneData[e.id]=e},o.findEffectsObjectData=function(e){return this.jsonSceneData[e]},o.addInstance=function(e){this.objectInstance[e.getInstanceId()]=e},o.getInstance=function(e){return this.objectInstance[e]},o.removeInstance=function(e){delete this.objectInstance[e]},o.addPackageDatas=function(e){for(var t=e.jsonScene,r=e.textureOptions,a=r===void 0?[]:r,s=t.items,l=s===void 0?[]:s,u=t.materials,h=u===void 0?[]:u,m=t.shaders,v=m===void 0?[]:m,p=t.geometries,b=p===void 0?[]:p,x=t.components,I=x===void 0?[]:x,B=t.animations,F=B===void 0?[]:B,R=t.bins,X=R===void 0?[]:R,k=t.miscs,H=k===void 0?[]:k,ee=Fe(l),ie;!(ie=ee()).done;){var oe=ie.value;this.addEffectsObjectData(oe)}for(var Qe=Fe(h),Je;!(Je=Qe()).done;){var st=Je.value;this.addEffectsObjectData(st)}for(var ft=Fe(v),At;!(At=ft()).done;){var Wt=At.value;this.addEffectsObjectData(Wt)}for(var Zt=Fe(b),Kt;!(Kt=Zt()).done;){var qt=Kt.value;this.addEffectsObjectData(qt)}for(var _t=Fe(I),_r;!(_r=_t()).done;){var sr=_r.value;this.addEffectsObjectData(sr)}for(var Or=Fe(F),Qr;!(Qr=Or()).done;){var Jr=Qr.value;this.addEffectsObjectData(Jr)}for(var ii=Fe(H),an;!(an=ii()).done;){var oa=an.value;this.addEffectsObjectData(oa)}for(var wa=0;wa<X.length;wa++){var fa=X[wa],Ja=e.bins[wa];if(fa.dataType===Ct.BinaryAsset)fa.buffer=Ja,fa.id&&this.addEffectsObjectData(fa);else{var En=new xm;En.deserializeFromBinary(new Uint8Array(Ja));for(var Ba=Fe(En.exportObjectDatas),za;!(za=Ba()).done;){var pi=za.value;this.addEffectsObjectData(pi)}}}for(var ps=Fe(a),os;!(os=ps()).done;){var Li=os.value;this.addEffectsObjectData(Li)}},o.createVFXItems=function(e){var t=this;return M(function(){var r,a,s,l,u;return J(this,function(h){switch(h.label){case 0:r=e.jsonScene,a=Fe(r.items),h.label=1;case 1:return(s=a()).done?[3,4]:(l=s.value,u=l.type,u==="ECS"||u==="camera"||u===ze.sprite||u===ze.particle||u===ze.mesh||u===ze.skybox||u===ze.light||u===ze.tree||u===ze.interact||u===ze.camera?t.database?[4,t.assetLoader.loadGUIDAsync(l.id)]:[3,3]:[3,3]);case 2:h.sent(),h.label=3;case 3:return[3,1];case 4:return[2]}})})()},o.addTexture=function(e){this.destroyed||rt(this.textures,e)},o.removeTexture=function(e){this.destroyed||fe(this.textures,e)},o.addMaterial=function(e){this.destroyed||rt(this.materials,e)},o.removeMaterial=function(e){this.destroyed||fe(this.materials,e)},o.addGeometry=function(e){this.destroyed||rt(this.geometries,e)},o.removeGeometry=function(e){this.destroyed||fe(this.geometries,e)},o.addMesh=function(e){this.destroyed||rt(this.meshes,e)},o.removeMesh=function(e){this.destroyed||fe(this.meshes,e)},o.addRenderPass=function(e){this.destroyed||rt(this.renderPasses,e)},o.removeRenderPass=function(e){this.destroyed||fe(this.renderPasses,e)},o.getShaderLibrary=function(){return this.renderer.getShaderLibrary()},o.dispose=function(){if(!this.destroyed){this.destroyed=!0;var e=[];this.renderPasses.length>0&&e.push("Pass "+this.renderPasses.length),this.meshes.length>0&&e.push("Mesh "+this.meshes.length),this.geometries.length>0&&e.push("Geom "+this.geometries.length),this.textures.length>0&&e.push("Tex "+this.textures.length),e.length>0&&ke.warn("Release GPU memory: "+e.join(", ")+"."),this.renderPasses.forEach(function(t){return t.dispose()}),this.meshes.forEach(function(t){return t.dispose()}),this.geometries.forEach(function(t){return t.dispose()}),this.materials.forEach(function(t){return t.dispose()}),this.textures.forEach(function(t){return t.dispose()}),this.textures=[],this.materials=[],this.geometries=[],this.meshes=[],this.renderPasses=[],this.renderer=null}},gr(i,[{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),Cm=60,Em=function(){function i(n){n===void 0&&(n=Cm),this.paused=!0,this.lastTime=0,this.dt=0,this.setFPS(n),this.tickers=[]}var o=i.prototype;return o.getFPS=function(){return this.targetFPS},o.setFPS=function(e){this.targetFPS=ai(e,1,120),this.interval=Math.floor(1e3/e)-2},o.getPaused=function(){return this.paused},o.start=function(){var e=this;if(this.paused=!1,this.dt=0,!this.intervalId){this.lastTime=performance.now();var t=requestAnimationFrame||function(a){return window.setTimeout(a,16.7)},r=function(){e.intervalId=t(r),e.paused||e.tick()};r()}},o.stop=function(){(cancelAnimationFrame||window.clearTimeout)(this.intervalId),this.intervalId=0,this.lastTime=0,this.paused=!0,this.dt=0,this.tickers=[]},o.pause=function(){this.paused=!0,this.dt=0},o.resume=function(){this.paused=!1,this.dt=0},o.tick=function(){if(!this.paused){var e=performance.now();if(this.dt=e-this.lastTime,this.dt>=this.interval){this.lastTime=e,this.resetTickers&&(this.tickers=this.tickers.filter(function(s){return s}),this.resetTickers=!1);for(var t=0,r=this.tickers.length;t<r;t++){var a=this.tickers[t];a(this.dt)}}}},o.add=function(e){if(typeof e!="function")throw new Error("The tick object must implement the tick method.");this.tickers.push(e)},gr(i,[{key:"deltaTime",get:function(){return this.dt}}]),i}();Tt("camera",Wu,_i,!0),Tt("text",Fd,_i,!0),Tt("sprite",ec,_i,!0),Tt("particle",qf,_i,!0),Tt("cal",eh,_i,!0),Tt("interact",Yu,_i,!0);var Tm="2.2.2";ke.info("Core version: "+Tm+".");var Hs,Sm=(Hs={},Hs[D.RGBA]=34842,Hs[D.RGB]=34843,Hs[D.ALPHA]=33325,Hs[D.RED]=33325,Hs[D.LUMINANCE_ALPHA]=33327,Hs[D.LUMINANCE]=33325,Hs),Gs,wm=(Gs={},Gs[D.RGBA]=34836,Gs[D.RGB]=34837,Gs[D.ALPHA]=33326,Gs[D.RED]=33326,Gs[D.LUMINANCE_ALPHA]=33328,Gs[D.LUMINANCE]=33326,Gs),Ws=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.initialized=!1,t&&r.fromData(t),r}var n=o.prototype;return n.bind=function(t){this.pipelineContext.bindTexture(this.target,this.textureBuffer,t)},n.initialize=function(){if(!this.initialized){var t=this.engine;t.addTexture(this),this.pipelineContext=t.getGLPipelineContext();var r=this.pipelineContext.gl,a=this.source,s=a.target,l=s===void 0?r.TEXTURE_2D:s,u=a.name;this.textureBuffer=r.createTexture(),Mu(this.textureBuffer,u),this.target=l,this.update(this.source),this.release(),this.initialized=!0}},n.clone=function(){var t=new o(this.engine,this.source);return t.sourceFrom=this.sourceFrom,t.sourceType=this.sourceType,t.width=this.width,t.height=this.height,t},n.release=function(){var t=this.source.sourceType;switch(t){case wr.image:delete this.source.image,delete this.source.cube;break;case wr.data:delete this.source.data;break;case wr.compressed:delete this.source.mipmaps;break;case wr.mipmaps:delete this.source.mipmaps;break}},n.update=function(t){var r=this;if(!this.pipelineContext||!this.textureBuffer){this.width=0,this.height=0;return}var a=this.target,s=this.source,l=this.pipelineContext.gl,u=this.engine.gpuCapability.detail,h=s.sourceType,m=s.data,v=s.cube,p=s.image,b=s.video,x=s.mipmaps,I=s.mipmaps,B=t.data,F=t.cube,R=t.generateMipmap,X=t.mipmaps,k=s.format,H=s.type,ee=s.internalFormat,ie=0,oe=0;if(this.bind(h===wr.video),H===D.HALF_FLOAT?(H=u.halfFloatTexture,H||ke.error("Half float texture is not support."),Ca(l)&&ee===k&&(k===D.LUMINANCE&&(k=D.RED),ee=Sm[k]),u.halfFloatLinear||(s.minFilter=s.magFilter=l.NEAREST,ke.warn("Half float linear not support, change to NEAREST."))):H===l.FLOAT&&(H=u.floatTexture,H||ke.error("Float texture is not support."),Ca(l)&&ee===k&&(k===D.LUMINANCE&&(k=D.RED),ee=wm[k]),u.floatLinear||(s.minFilter=l.NEAREST,s.magFilter=l.NEAREST,ke.warn("Float linear not support, change to NEAREST."))),s.premultiplyAlpha===void 0&&(s.premultiplyAlpha=!1),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),s.flipY===void 0&&(s.flipY=!1),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,s.flipY),h===wr.framebuffer){if(B){var Qe;ie=(Qe=B.width)!=null?Qe:0;var Je;oe=(Je=B.height)!=null?Je:0,ie&&oe&&(this.width!==ie||this.height!==oe)&&l.texImage2D(a,0,ee,ie,oe,0,k,H,null)}}else if(h===wr.data)if(a===l.TEXTURE_CUBE_MAP)F.forEach(function(Zt,Kt){var qt=r.texImage2DData(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0,ee,k,H,Zt),_t=qt[0],_r=qt[1];ie=Math.max(_t,ie),oe=Math.max(_r,oe)});else{var st;st=this.texImage2DData(l,a,0,ee,k,H,m),ie=st[0],oe=st[1]}else if(h===wr.image||h===wr.video){if(a===l.TEXTURE_CUBE_MAP)v.forEach(function(Zt,Kt){var qt=r.texImage2D(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0,ee,k,H,Zt),_t=qt[0],_r=qt[1];ie=Math.max(_t,ie),oe=Math.max(_r,oe)});else if(a===l.TEXTURE_2D){var ft=p!=null?p:b,At;At=this.texImage2D(l,a,0,ee,k,H,ft),ie=At[0],oe=At[1]}R&&(Kc(ie)&&Kc(oe)||Ca(l))&&l.generateMipmap(a)}else if(h===wr.mipmaps){var Wt;a===l.TEXTURE_2D?x.forEach(function(Zt,Kt){if("data"in Zt?Wt=r.texImage2DData(l,a,Kt,ee,k,H,Zt):Wt=r.texImage2D(l,a,Kt,ee,k,H,Zt),Kt===0){var qt;qt=Wt,ie=qt[0],oe=qt[1]}}):a===l.TEXTURE_CUBE_MAP&&I.forEach(function(Zt,Kt){Zt.forEach(function(qt,_t){if("data"in qt?Wt=r.texImage2DData(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+_t,Kt,ee,k,H,qt):Wt=r.texImage2D(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+_t,Kt,ee,k,H,qt),Kt===0){var _r;_r=Wt,ie=_r[0],oe=_r[1]}})})}else h===wr.compressed&&X&&X.length!==0&&(ie=X[0].width,oe=X[0].height,X.forEach(function(Zt,Kt){l.compressedTexImage2D(a,Kt,ee,Zt.width,Zt.height,0,Zt.data)}));this.width=ie,this.height=oe,this.setTextureFilters(l,a,s)},n.setTextureFilters=function(t,r,a){var s=a.anisotropic,l=s===void 0?4:s,u=a.wrapS,h=u===void 0?t.CLAMP_TO_EDGE:u,m=a.wrapT,v=m===void 0?t.CLAMP_TO_EDGE:m,p=this.engine.gpuCapability;this.target===t.TEXTURE_2D&&p.setTextureAnisotropic(t,this.target,l);var b=Ca(t)||Kc(this.width)&&Kc(this.height),x=a.magFilter?a.magFilter:t.NEAREST,I=a.minFilter?a.minFilter:t.NEAREST;b||(I===t.LINEAR_MIPMAP_LINEAR||I===t.LINEAR_MIPMAP_NEAREST||I===t.NEAREST_MIPMAP_LINEAR||I===t.NEAREST_MIPMAP_NEAREST)&&(I=t.LINEAR),t.texParameteri(r,t.TEXTURE_MIN_FILTER,I),t.texParameteri(r,t.TEXTURE_MAG_FILTER,x),t.texParameteri(r,t.TEXTURE_WRAP_S,b?h:t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,b?v:t.CLAMP_TO_EDGE)},n.fromData=function(t){i.prototype.fromData.call(this,t);var r=t,a=this.assembleOptions(r),s=a.sourceType,l=a.sourceFrom,u=a.name,h=u===void 0?"":u;this.source=a,this.sourceType=s,this.sourceFrom=l,this.name=h,this.guid=t.id},n.texImage2D=function(t,r,a,s,l,u,h){var m=this,v=this.source,p=v.sourceType,b=v.minFilter,x=v.magFilter,I=v.wrapS,B=v.wrapT,F,R=(F=this.engine.gpuCapability.detail.maxTextureSize)!=null?F:2048,X=h;if(p!==wr.video){var k=b!==t.NEAREST||x!==t.NEAREST||I!==t.CLAMP_TO_EDGE||B!==t.CLAMP_TO_EDGE;k=k||h.width>R||h.height>R,k&&setTimeout(function(){X=m.resizeImage(h)})}t.texImage2D(r,a,s,l,u,X);var H=[X.width,X.height];if(p===wr.video){var ee=h.videoWidth,ie=h.videoHeight;return[ee,ie]}return H},n.texImage2DData=function(t,r,a,s,l,u,h){var m=h.data,v=h.width,p=h.height,b=l===t.UNSIGNED_BYTE?new Uint8Array(m.buffer,m.byteOffset,m.byteLength/m.BYTES_PER_ELEMENT):m;return t.texImage2D(r,a,s,v,p,0,l,u,b),[v,p]},n.resizeImage=function(t,r,a){var s=this.engine.gpuCapability.detail,l,u=(l=s.maxTextureSize)!=null?l:2048,h=this.pipelineContext.gl;if(Ca(h)&&t.width<u&&t.height<u)return t;var m=Om(t,u,r,a);return m||t},n.reloadData=function(){var t=this;return M(function(){return J(this,function(r){switch(r.label){case 0:return t.offloaded?[4,Kr().reload(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})()},n.offloadData=function(){if(this.initialized&&Kr().canOffloadTexture(this.source.sourceFrom)){var t=this.target,r=this.pipelineContext.gl;if(r&&this.textureBuffer){var a=new Uint8Array([255]);if(this.bind(),t===r.TEXTURE_2D)r.texImage2D(t,0,r.LUMINANCE,1,1,0,r.LUMINANCE,r.UNSIGNED_BYTE,a);else if(t===r.TEXTURE_CUBE_MAP)for(var s=[r.TEXTURE_CUBE_MAP_NEGATIVE_X,r.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.TEXTURE_CUBE_MAP_NEGATIVE_Z,r.TEXTURE_CUBE_MAP_POSITIVE_X,r.TEXTURE_CUBE_MAP_POSITIVE_Y,r.TEXTURE_CUBE_MAP_POSITIVE_Z],l=0;l<s.length;l++)r.texImage2D(s[l],0,r.LUMINANCE,1,1,0,r.LUMINANCE,r.UNSIGNED_BYTE,a);r.generateMipmap(t),this.width=1,this.height=1}this.offloaded=!0}},n.uploadCurrentVideoFrame=function(){var t=this;return M(function(){return J(this,function(r){return t.source.sourceType===wr.video&&t.source.video&&t.initialized?(t.update({video:t.source.video}),[2,!0]):[2,!1]})})()},n.updateSource=function(t){this.source=this.assembleOptions(Zr({},this.source,t)),this.sourceType=this.source.sourceType,this.sourceFrom=this.source.sourceFrom,this.update(this.source)},n.restore=function(){},n.dispose=function(){this.pipelineContext&&this.textureBuffer&&this.pipelineContext.gl.deleteTexture(this.textureBuffer),this.width=0,this.height=0,this.textureBuffer=null,this.destroyed=!0,this.update=function(){ke.error("This texture has been destroyed.")},this.initialize=Dt,this.engine!==void 0&&this.engine.removeTexture(this)},o}(Pr);function Om(i,o,n,e){var t=i.width,r=i.height,a=Math.min(o,n||Cl(t)),s=Math.min(o,e||Cl(r));if(s!==r||a!==t){var l=jc.getCanvas(),u=l.getContext("2d");return l.width=a,l.height=s,u==null||u.drawImage(i,0,0,t,r,0,0,a,s),ke.warn("Image resize from "+t+"x"+r+" to "+a+"x"+s+"."),l}}function Kc(i){return(i&i-1)===0&&i!==0}var od=function(){function i(n,e){this.ready=!1,this.disposed=!1,this.gl=n.getGLPipelineContext().gl,this.vaoExt=n.gpuCapability.vaoExt,this.vao=this.createVertexArray(e)}var o=i.prototype;return o.bind=function(){this.bindVertexArray(this.vao)},o.unbind=function(){this.bindVertexArray(null)},o.createVertexArray=function(e){var t=null;return Ca(this.gl)&&(t=this.gl.createVertexArray()),!t&&this.vaoExt&&(t=this.vaoExt.createVertexArrayOES()),Mu(t,e),t},o.bindVertexArray=function(e){if(Ca(this.gl))this.gl.bindVertexArray(e);else{var t;(t=this.vaoExt)==null||t.bindVertexArrayOES(e)}},o.dispose=function(){if(Ca(this.gl))this.gl.deleteVertexArray(this.vao);else{var e;(e=this.vaoExt)==null||e.deleteVertexArrayOES(this.vao)}},i}(),sd=1,ld=function(){function i(n){this.engine=n,this.textures=[],this.renderbuffers=[],this.framebuffers=[],this.destroyed=!1;var e={width:1,height:1,data:new Uint8Array([255])},t=n.getGLPipelineContext(),r=t.gl;this.gl=r,this.pipelineContext=t,this.emptyTexture2D=new Ws(n,{data:e,sourceType:wr.data,format:r.LUMINANCE,internalFormat:r.LUMINANCE,type:r.UNSIGNED_BYTE}),this.emptyTexture2D.initialize(),this.emptyTextureCube=new Ws(n,{target:r.TEXTURE_CUBE_MAP,cube:[e,e,e,e,e,e],sourceType:wr.data,format:r.LUMINANCE,internalFormat:r.LUMINANCE,type:r.UNSIGNED_BYTE}),this.emptyTextureCube.initialize(),this.name="GLGPURenderer"+sd,sd++}var o=i.prototype;return o.copy2=function(e,t){var r=this.gl;if(r){this.sourceFbo||(this.sourceFbo=r.createFramebuffer()),this.targetFbo||(this.targetFbo=r.createFramebuffer());var a=this.pipelineContext;a.bindFramebuffer(r.FRAMEBUFFER,this.sourceFbo),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.textureBuffer,0),a.bindFramebuffer(r.FRAMEBUFFER,this.targetFbo),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.textureBuffer,0),a.bindFramebuffer(r.READ_FRAMEBUFFER,this.sourceFbo),a.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.targetFbo);var s=e.getWidth()===e.getHeight()&&t.getWidth()==t.getHeight()?r.NEAREST:r.LINEAR;r.blitFramebuffer(0,0,e.getWidth(),e.getHeight(),0,0,t.getWidth(),t.getHeight(),r.COLOR_BUFFER_BIT,s),a.bindFramebuffer(r.FRAMEBUFFER,null),a.bindFramebuffer(r.READ_FRAMEBUFFER,null),a.bindFramebuffer(r.DRAW_FRAMEBUFFER,null)}},o.resetColorAttachments=function(e,t){e.bind(),e.resetColorTextures(t)},o.createGLRenderbuffer=function(e){var t=this.gl.createRenderbuffer();return t&&rt(this.renderbuffers,e),t},o.resize=function(e,t){var r=this.gl;(r&&r.drawingBufferWidth!==e||r.drawingBufferHeight!==t)&&(r.canvas.width=e,r.canvas.height=t,r.viewport(0,0,e,t),this.framebuffers.forEach(function(a){var s=a.viewport;a.isCustomViewport||a.resize(s[0],s[1],e*a.viewportScale,t*a.viewportScale)}))},o.drawGeometry=function(e,t,r){if(!this.gl){console.warn("GLGPURenderer has not bound a gl object, unable to render geometry.");return}var a=e,s=t,l=s.shaderVariant.program;if(l){var u=l.setupAttributes(a),h=this.gl,m=a.indicesBuffer,v=a.drawStart,p=a.drawCount,b=a.mode,x=a.subMeshes;if(x&&x.length){var I=x[r];if(p<0)return;if(v=I.offset,m){var B;p=(B=I.indexCount)!=null?B:0}else p=I.vertexCount}m?h.drawElements(b,p,m.type,v!=null?v:0):h.drawArrays(b,v,p),u==null||u.unbind()}},o.createGLFramebuffer=function(e,t){var r=this.gl.createFramebuffer();if(r)rt(this.framebuffers,e),Mu(r,t,t);else throw new Error("Failed to create WebGL framebuffer");return r},o.createVAO=function(e){var t=new od(this.engine,e);return t},o.deleteGLTexture=function(e){e.textureBuffer&&!this.destroyed&&(this.gl.deleteTexture(e.textureBuffer),fe(this.textures,e),delete e.textureBuffer)},o.deleteGPUBuffer=function(e){e&&!this.destroyed&&(this.gl.deleteBuffer(e.glBuffer),delete e.glBuffer)},o.deleteGLFramebuffer=function(e){e&&!this.destroyed&&(this.gl.deleteFramebuffer(e.fbo),fe(this.framebuffers,e),delete e.fbo)},o.deleteGLRenderbuffer=function(e){e&&!this.destroyed&&(this.gl.deleteRenderbuffer(e.buffer),fe(this.renderbuffers,e),delete e.buffer)},o.deleteResource=function(){var e=this,t=this.gl;t&&(t.deleteFramebuffer(this.sourceFbo),t.deleteFramebuffer(this.targetFbo),this.emptyTexture2D.dispose(),this.emptyTextureCube.dispose(),this.framebuffers.forEach(function(r){return e.deleteGLFramebuffer(r)}),this.framebuffers.length=0,this.renderbuffers.forEach(function(r){return e.deleteGLRenderbuffer(r)}),this.renderbuffers.length=0,this.textures.forEach(function(r){return e.deleteGLTexture(r)}),this.textures.length=0)},o.lost=function(e){ke.error("WebGL context lost, destroying glRenderer by default to prevent memory leaks. Event target: "+e.target+"."),this.deleteResource()},o.dispose=function(){this.deleteResource(),this.emptyTexture2D=this.emptyTextureCube=this.pipelineContext=this.gpu=this.gl=null,this.destroyed=!0},gr(i,[{key:"height",get:function(){var e;return(e=this.gl)==null?void 0:e.drawingBufferHeight}},{key:"width",get:function(){var e;return(e=this.gl)==null?void 0:e.drawingBufferWidth}},{key:"canvas",get:function(){return this.gl.canvas}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}();function Mu(i,o,n){o===void 0||i===null||(i.__SPECTOR_Metadata={name:o},i.__SPECTOR_Object_TAG?(i.__SPECTOR_Object_TAG.displayText=o,n&&(i.__SPECTOR_Object_TAG.id=n)):i.__SPECTOR_Object_TAG={displayText:o,id:""})}var ud=function(){function i(n,e){this.pipelineContext=n,this.byteLength=0,this.destroyed=!1;var t=e.name,r=e.data,a=e.elementCount,s=e.target,l=s===void 0?D.ARRAY_BUFFER:s,u=e.type,h=u===void 0?D.FLOAT:u,m=e.usage,v=m===void 0?D.STATIC_DRAW:m,p=Am(h);this.target=l,this.type=h,this.usage=v,this.glBuffer=this.createGLBuffer(t),this.bytesPerElement=p,r?this.bufferData(r):a&&this.bufferData(p*a)}var o=i.prototype;return o.createGLBuffer=function(e){var t=this.pipelineContext.gl.createBuffer();return Mu(t,e),t},o.bind=function(){this.pipelineContext.gl.bindBuffer(this.target,this.glBuffer)},o.bufferData=function(e){var t=typeof e=="number"?e:e.byteLength;if(this.pipelineContext){this.byteLength=t;var r=this.pipelineContext.gl,a=this.target;r.bindBuffer(a,this.glBuffer),t===0?r.bufferData(a,1,this.usage):(r.bufferData(a,t,this.usage),typeof e!="number"&&r.bufferSubData(a,0,e))}else this.byteLength=0},o.bufferSubData=function(e,t){if(this.pipelineContext){var r=this.pipelineContext.gl,a=this.target,s=e*this.bytesPerElement,l=s+t.byteLength;r.bindBuffer(a,this.glBuffer),l>this.byteLength&&(this.byteLength=l,r.bufferData(a,l,this.usage)),r.bufferSubData(a,s,t)}else this.byteLength=0},o.dispose=function(){this.pipelineContext.gl.deleteBuffer(this.glBuffer),this.glBuffer=null,this.destroyed=!0},o.readSubData=function(e,t){return Ca(this.pipelineContext.gl)?(this.pipelineContext.gl.getBufferSubData(this.target,e*this.bytesPerElement,t),!0):!1},gr(i,[{key:"elementCount",get:function(){return this.byteLength/this.bytesPerElement}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),Os,Mm=(Os={},Os[D.INT]=Int32Array,Os[D.FLOAT]=Float32Array,Os[D.SHORT]=Int16Array,Os[D.BYTE]=Int8Array,Os[D.UNSIGNED_BYTE]=Uint8Array,Os[D.UNSIGNED_INT]=Uint32Array,Os[D.UNSIGNED_SHORT]=Uint16Array,Os);function Am(i){var o,n;return(n=(o=Mm[i])==null?void 0:o.BYTES_PER_ELEMENT)!=null?n:0}var Au,Im=(Au={},Au[Uint8Array.BYTES_PER_ELEMENT]=D.UNSIGNED_BYTE,Au[Uint16Array.BYTES_PER_ELEMENT]=D.UNSIGNED_SHORT,Au[Uint32Array.BYTES_PER_ELEMENT]=D.UNSIGNED_INT,Au),Pm=1,cd=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.drawCount=0,r.buffers={},r.vaos={},r.skin={},r.initialized=!1,r.indicesReleasable=!1,r.attributesName=[],r.destroyed=!1,t&&r.processProps(t),r}var n=o.prototype;return n.getOptions=function(){return Zr({},this.options)},n.initialize=function(){var t=this;if(!this.initialized){var r=this.engine;at(r),r.addGeometry(this);var a=this.engine.getGLPipelineContext();Object.keys(this.bufferProps).forEach(function(s){t.buffers[s]=new ud(a,t.bufferProps[s])}),this.indices&&(this.indicesBuffer=this.createIndicesBuffer(a,this.indices)),this.initialized=!0,this.flush(),this.options=void 0}},n.getAttributeBuffer=function(t){if(this.initialized){var r=this.attributes[t].dataSource;return this.buffers[r]}},n.setAttributeData=function(t,r){if(this.bufferProps!=null){var a=this.getAttributeBufferOption(t),s=this.attributes[t].dataSource;if(a){var l=a.usage,u=a.target;this.bufferProps[s]={data:r,usage:l,target:u,elementCount:r.length},this.dirtyFlags[s].discard=!0,this.dirtyFlags[s].dirty=!0}}},n.getAttributeData=function(t){if(this.bufferProps!=null){var r=this.getAttributeBufferOption(t);return r?r.data:void 0}},n.setAttributeSubData=function(t,r,a){if(this.bufferProps!=null){var s=this.getAttributeBufferOption(t);if(s&&s.data!=null){var l=r,u=r+a.length;if(s.data.length<u){var h=new a.constructor(u);h.set(s.data),s.data=h,this.dirtyFlags[t].discard=!0}else if(!this.dirtyFlags[t].discard){var m=this.dirtyFlags[t];m.start!==void 0&&(m.start=Math.min(m.start,l)),m.end!==void 0&&(m.end=Math.max(m.end,u-1))}s.data.set(a,l),this.dirtyFlags[t].dirty=!0}}},n.getIndexData=function(){return this.indices},n.setIndexData=function(t){(U(t,Uint8Array)||U(t,Uint16Array)||U(t,Uint32Array))&&(this.indices=t,this.dirtyFlags.index.discard=!0,this.dirtyFlags.index.dirty=!0)},n.setIndexSubData=function(t,r){if(this.indices){var a,s=t,l=t+r.length;if(this.indices.length<l){var u=new r.constructor(l);u.set(this.indices),this.indices=u,this.dirtyFlags.index.discard=!0}else if(!this.dirtyFlags.index.discard){var h=this.dirtyFlags.index;h.start!==void 0&&(h.start=Math.min(h.start,s)),h.end!==void 0&&(h.end=Math.max(h.end,l-1))}(a=this.indices)==null||a.set(r,s),this.dirtyFlags.index.dirty=!0}},n.getAttributeStride=function(t){var r=this.attributes[t],a=r.stride,s=r.size,l=r.type;return a||s*An[l]},n.getAttributeNames=function(){return this.attributesName},n.setDrawStart=function(t){this.drawStart=t},n.getDrawStart=function(){return this.drawStart},n.setDrawCount=function(t){this.drawCount=t},n.getDrawCount=function(){return this.drawCount},n.getSkinProps=function(){return this.skin},n.getAttributeBufferOption=function(t){var r=this.attributes[t];return r?this.bufferProps[r.dataSource]:void 0},n.createIndicesBuffer=function(t,r){var a=Im[r.BYTES_PER_ELEMENT],s={data:r,target:D.ELEMENT_ARRAY_BUFFER,type:a,name:""+this.name+"##index"};return new ud(t,s)},n.flush=function(){var t=this;if(this.initialized){var r=this.attributes,a=this.bufferProps,s=this.indices;Object.keys(this.dirtyFlags).forEach(function(l){var u=t.dirtyFlags[l],h,m;if(l=="index")h=t.indicesBuffer,m=s;else{var v=r[l].dataSource;h=t.buffers[v],m=a[v].data}if((u.dirty||u.discard)&&h&&m){if(u.discard)h.bufferData(m);else if(u.start!==void 0&&u.end!==void 0){var p=u.start*m.BYTES_PER_ELEMENT+m.byteOffset,b=u.end-u.start+1,x=new m.constructor(m.buffer,p,b);h.bufferSubData(u.start,x)}u.start=Number.POSITIVE_INFINITY,u.end=0,u.dirty=u.discard=!1}}),Object.keys(this.attributesReleasable).forEach(function(l){var u=t.attributesReleasable[l],h=r[l].dataSource;a[h]&&u&&(a[h].data=void 0)}),this.indicesReleasable}},n.processProps=function(t){var r=t,a=r.drawStart,s=a===void 0?0:a,l=r.drawCount,u=r.mode,h=r.indices,m=r.name,v=m===void 0?"effectsGeometry:"+Pm++:m,p=r.bufferUsage,b=p===void 0?D.STATIC_DRAW:p;this.name=v;var x={},I=[],B={},F={},R={},X=b;this.drawStart=s,l!==void 0&&(this.drawCount=l),this.mode=isNaN(u)?D.TRIANGLES:u,Object.keys(r.attributes).forEach(function(k){var H=r.attributes[k],ee=H.size,ie=H.stride,oe=H.offset,Qe=H.normalize,Je=H.type,st=Je===void 0?D.FLOAT:Je,ft=H.releasable,At=H.data;if(st&&!("dataSource"in H)&&!At&&(At=zn(st)),At){var Wt=U(At,Float32Array)?D.FLOAT:D.INT;x[k]={data:At,usage:X,target:D.ARRAY_BUFFER,name:k},B[k]={size:ee,stride:ie,offset:oe,type:st!=null?st:Wt,normalize:!!Qe,dataSource:k},R[k]=ft!=null?ft:!1,F[k]={dirty:!0,discard:!0,start:Number.POSITIVE_INFINITY,end:0}}else{var Zt=H.dataSource;Zt&&(B[k]={size:ee,stride:ie,offset:oe,type:st,dataSource:Zt,normalize:!!Qe})}I.push(k)}),F.index={dirty:!0,discard:!0,start:Number.POSITIVE_INFINITY,end:0},this.indices=h==null?void 0:h.data,this.indicesReleasable=(h==null?void 0:h.releasable)===!0,this.bufferProps=x,this.attributes=B,this.attributesName=I,this.attributesReleasable=R,this.dirtyFlags=F,this.options=r,this.initialized=!1},n.fromData=function(t){var r=this;i.prototype.fromData.call(this,t),this.subMeshes=t.subMeshes;var a;if(t.buffer?a=new Uint8Array(_m(t.buffer)):t.binaryData&&(a=t.binaryData),!!a){var s=t.vertexData.vertexCount;if(this.hasSemantic(t)){var l={mode:D.TRIANGLES,attributes:{}};if(t.vertexData.channels.forEach(function(F){var R,X=(R=Rm[F.semantic])!=null?R:F.semantic,k=r.createVertexTypedArray(F,a,s);l.attributes[X]={type:po(F.format),size:F.dimension,data:k,normalize:F.normalize}}),t.indexFormat!==mn.None){var u=this.createIndexTypedArray(t.indexFormat,a,t.indexOffset);l.indices={data:u},l.drawCount=u.length}else l.drawCount=s;this.processProps(l)}else{var h=t.vertexData.channels[0],m=t.vertexData.channels[1],v=t.vertexData.channels[2],p=this.createVertexTypedArray(h,a,s),b=this.createVertexTypedArray(m,a,s),x=this.createVertexTypedArray(v,a,s),I=this.createIndexTypedArray(t.indexFormat,a,t.indexOffset),B={mode:D.TRIANGLES,attributes:{aPos:{type:po(h.format),size:3,data:p,normalize:h.normalize},aUV:{type:po(m.format),size:2,data:b,normalize:m.normalize},aNormal:{type:po(v.format),size:3,data:x,normalize:v.normalize}}};B.indices={data:I},B.drawCount=I.length,this.processProps(B)}this.skin={boneNames:t.boneNames,rootBoneName:t.rootBoneName,inverseBindMatrices:t.inverseBindMatrices}}},n.dispose=function(){var t=this;if(this.drawStart=0,this.drawCount=NaN,this.bufferProps={},this.indices=void 0,this.attributes={},this.attributesName=[],this.options=void 0,this.initialized){var r;Object.keys(this.buffers).forEach(function(a){t.buffers[a].dispose()}),this.buffers={},(r=this.indicesBuffer)==null||r.dispose(),Object.keys(this.vaos).forEach(function(a){var s;(s=t.vaos[a])==null||s.dispose(),t.vaos[a]=void 0}),this.indicesBuffer=void 0,this.engine!==void 0&&(this.engine.removeGeometry(this),this.engine=void 0)}this.destroyed=!0},n.createVertexTypedArray=function(t,r,a){var s=r.buffer;switch(t.format){case qr.Float32:return new Float32Array(s,r.byteOffset+t.offset,t.dimension*a);case qr.Int16:return new Int16Array(s,r.byteOffset+t.offset,t.dimension*a);case qr.Int8:return new Int8Array(s,r.byteOffset+t.offset,t.dimension*a);case qr.UInt16:return new Uint16Array(s,r.byteOffset+t.offset,t.dimension*a);case qr.UInt8:return new Uint8Array(s,r.byteOffset+t.offset,t.dimension*a);default:return console.error("Invalid vertex format type: "+t.format+"."),new Float32Array(s,r.byteOffset+t.offset,t.dimension*a)}},n.createIndexTypedArray=function(t,r,a){var s=r.buffer;switch(t){case mn.UInt16:return new Uint16Array(s,r.byteOffset+a);case mn.UInt32:return new Uint32Array(s,r.byteOffset+a);default:return console.error("Invalid index format type: "+t+"."),new Uint32Array(s,r.byteOffset+a)}},n.hasSemantic=function(t){var r=!1,a=t.vertexData;return a.channels.forEach(function(s){s.semantic&&s.semantic.length>0&&(r=!0)}),r},gr(o,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"isInitialized",get:function(){return this.initialized}}]),o}(Cr),Rm={POSITION:"aPos",TEXCOORD0:"aUV",TEXCOORD_0:"aUV",TEXCOORD1:"aUV2",NORMAL:"aNormal",TANGENT:"aTangent",COLOR:"aColor",JOINTS:"aJoints",JOINTS_0:"aJoints",WEIGHTS:"aWeights",WEIGHTS_0:"aWeights",POSITION_BS0:"aTargetPosition0",POSITION_BS1:"aTargetPosition1",POSITION_BS2:"aTargetPosition2",POSITION_BS3:"aTargetPosition3",POSITION_BS4:"aTargetPosition4",POSITION_BS5:"aTargetPosition5",POSITION_BS6:"aTargetPosition6",POSITION_BS7:"aTargetPosition7",NORMAL_BS0:"aTargetNormal0",NORMAL_BS1:"aTargetNormal1",NORMAL_BS2:"aTargetNormal2",NORMAL_BS3:"aTargetNormal3",TANGENT_BS0:"aTargetTangent0",TANGENT_BS1:"aTargetTangent1",TANGENT_BS2:"aTargetTangent2",TANGENT_BS3:"aTargetTangent3"};function _m(i){for(var o=atob(i),n=new Uint8Array(o.length),e=0;e<o.length;e++)n[e]=o.charCodeAt(e);var t=n.buffer;return t}var fd=function(){function i(){this.reset()}var o=i.prototype;return o.setBlendColor=function(e){var t=e[0],r=e[1],a=e[2],s=e[3];this.blendColor[0]===t&&this.blendColor[1]===r&&this.blendColor[2]===a&&this.blendColor[3]===s||(this.blendColor[0]=t,this.blendColor[1]=r,this.blendColor[2]=a,this.blendColor[3]=s)},o.setBlending=function(e){this.blending!==e&&(this.blending=e)},o.setBlendFunctionParameters=function(e){var t=e[0],r=e[1],a=e[2],s=e[3];this.blendFunctionParameters[0]===t&&this.blendFunctionParameters[1]===r&&this.blendFunctionParameters[2]===a&&this.blendFunctionParameters[3]===s||(this.blendFunctionParameters[0]=t,this.blendFunctionParameters[1]=r,this.blendFunctionParameters[2]=a,this.blendFunctionParameters[3]=s)},o.setBlendEquationParameters=function(e){var t=e[0],r=e[1];this.blendEquationParameters[0]===t&&this.blendEquationParameters[1]===r||(this.blendEquationParameters[0]=t,this.blendEquationParameters[1]=r)},o.setDepthTest=function(e){this.depthTest!==e&&(this.depthTest=e)},o.setDepthMask=function(e){this.depthMask!==e&&(this.depthMask=e)},o.setDepthRange=function(e){this.depthRange[0]===e[0]&&this.depthRange[1]===e[1]||(this.depthRange[0]=e[0],this.depthRange[1]=e[1])},o.setDepthFunc=function(e){this.depthFunc!==e&&(this.depthFunc=e)},o.setPolygonOffsetFill=function(e){this.polygonOffsetFill!==e&&(this.polygonOffsetFill=e)},o.setPolygonOffset=function(e){this.polygonOffset[0]===e[0]&&this.polygonOffset[1]===e[1]||(this.polygonOffset[0]=e[0],this.polygonOffset[1]=e[1])},o.setSampleAlphaToCoverage=function(e){this.sampleAlphaToCoverage!==e&&(this.sampleAlphaToCoverage=e)},o.setColorMask=function(e){var t=e[0],r=e[1],a=e[2],s=e[3];this.colorMask[0]===t&&this.colorMask[1]===r&&this.colorMask[2]===a&&this.colorMask[3]===s||(this.colorMask[0]=t,this.colorMask[1]=r,this.colorMask[2]=a,this.colorMask[3]=s)},o.setStencilTest=function(e){this.stencilTest!==e&&(this.stencilTest=e)},o.setStencilMask=function(e){this.stencilMask[0]===e[0]&&this.stencilMask[1]===e[1]||(this.stencilMask[0]=e[0],this.stencilMask[1]=e[1])},o.setStencilRef=function(e){this.stencilRef[0]===e[0]&&this.stencilRef[1]===e[1]||(this.stencilRef[0]=e[0],this.stencilRef[1]=e[1])},o.setStencilFunc=function(e){this.stencilFunc[0]===e[0]&&this.stencilFunc[1]===e[1]||(this.stencilFunc[0]=e[0],this.stencilFunc[1]=e[1])},o.setStencilOpFail=function(e){this.stencilOpFail[0]===e[0]&&this.stencilOpFail[1]===e[1]||(this.stencilOpFail[0]=e[0],this.stencilOpFail[1]=e[1])},o.setStencilOpZFail=function(e){this.stencilOpZFail[0]===e[0]&&this.stencilOpZFail[1]===e[1]||(this.stencilOpZFail[0]=e[0],this.stencilOpZFail[1]=e[1])},o.setStencilOpZPass=function(e){this.stencilOpZPass[0]===e[0]&&this.stencilOpZPass[1]===e[1]||(this.stencilOpZPass[0]=e[0],this.stencilOpZPass[1]=e[1])},o.setCulling=function(e){this.culling!==e&&(this.culling=e)},o.setFrontFace=function(e){this.frontFace!==e&&(this.frontFace=e)},o.setCullFace=function(e){this.cullFace!==e&&(this.cullFace=e)},o.reset=function(){this.blending=!1,this.blendColor=[0,0,0,0],this.blendFunctionParameters=[D.ONE,D.ONE_MINUS_SRC_ALPHA,D.ONE,D.ONE_MINUS_SRC_ALPHA],this.blendEquationParameters=[D.FUNC_ADD,D.FUNC_ADD],this.depthTest=!0,this.depthMask=!0,this.depthRange=[0,1],this.depthFunc=D.LESS,this.polygonOffset=[0,0],this.polygonOffsetFill=!1,this.sampleAlphaToCoverage=!1,this.colorMask=[!0,!0,!0,!0],this.stencilTest=!1,this.stencilMask=[255,255],this.stencilRef=[0,0],this.stencilFunc=[D.ALWAYS,D.ALWAYS],this.stencilOpFail=[D.KEEP,D.KEEP],this.stencilOpZFail=[D.KEEP,D.KEEP],this.stencilOpZPass=[D.KEEP,D.KEEP],this.culling=!1,this.frontFace=D.CCW,this.cullFace=D.FRONT},o.apply=function(e){if(e.toggle(D.SAMPLE_ALPHA_TO_COVERAGE,this.sampleAlphaToCoverage),e.toggle(D.BLEND,this.blending),e.toggle(D.DEPTH_TEST,this.depthTest),e.toggle(D.STENCIL_TEST,this.stencilTest),e.toggle(D.CULL_FACE,this.culling),e.toggle(D.POLYGON_OFFSET_FILL,this.polygonOffsetFill),this.stencilTest&&(e.stencilMaskSeparate(D.BACK,this.stencilMask[1]),e.stencilMaskSeparate(D.FRONT,this.stencilMask[0]),e.stencilFuncSeparate(D.BACK,this.stencilFunc[0],this.stencilRef[0],this.stencilMask[0]),e.stencilFuncSeparate(D.FRONT,this.stencilFunc[1],this.stencilRef[1],this.stencilMask[1]),e.stencilOpSeparate(D.BACK,this.stencilOpFail[0],this.stencilOpZFail[0],this.stencilOpZPass[0]),e.stencilOpSeparate(D.FRONT,this.stencilOpFail[1],this.stencilOpZFail[1],this.stencilOpZPass[1])),this.blending){var t=this,r=t.blendColor,a=t.blendEquationParameters,s=t.blendFunctionParameters;e.blendColor(r[0],r[1],r[2],r[3]),e.blendEquationSeparate(a[0],a[1]),e.blendFuncSeparate(s[0],s[1],s[2],s[3])}e.colorMask(this.colorMask[0],this.colorMask[1],this.colorMask[2],this.colorMask[3]),this.depthTest&&(e.depthMask(this.depthMask),e.depthFunc(this.depthFunc),e.depthRange(this.depthRange[0],this.depthRange[1])),this.culling&&(e.cullFace(this.cullFace),e.frontFace(this.frontFace)),this.polygonOffsetFill&&e.polygonOffset(this.polygonOffset[0],this.polygonOffset[1])},i}(),hd=Bn,Lm=yr,dd=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e,t)||this,r.floats={},r.ints={},r.vector2s={},r.vector3s={},r.vector4s={},r.colors={},r.quaternions={},r.matrices={},r.matrice3s={},r.textures={},r.floatArrays={},r.vector4Arrays={},r.matrixArrays={},r.samplers=[],r.uniforms=[],r.uniformDirty=!0,r.macrosDirty=!0,r.glMaterialState=new fd,t&&(r.shader=new Eo(e),r.shader.shaderData=Zr({},t.shader,{id:nt(),dataType:Ct.Shader})),r}var n=o.prototype;return n.enableMacro=function(t,r){(!this.isMacroEnabled(t)||this.enabledMacros[t]!==r)&&(this.enabledMacros[t]=r!=null?r:!0,this.macrosDirty=!0)},n.disableMacro=function(t){this.isMacroEnabled(t)&&(delete this.enabledMacros[t],this.macrosDirty=!0)},n.isMacroEnabled=function(t){return this.enabledMacros[t]!==void 0},n.createMaterialStates=function(t){this.sampleAlphaToCoverage=!!t.sampleAlphaToCoverage,this.depthTest=t.depthTest,this.depthMask=t.depthMask,this.depthRange=t.depthRange,this.depthFunc=t.depthFunc,this.colorMask=t.colorMask,this.polygonOffset=t.polygonOffset,this.polygonOffsetFill=t.polygonOffsetFill,this.blending=t.blending,this.blendFunction=t.blendFunction,this.stencilTest=t.stencilTest},n.initialize=function(){var t=this,r=this.engine;this.createShaderVariant(),this.shaderVariant.initialize(),!this.initialized&&(r.addMaterial(this),Object.keys(this.textures).forEach(function(a){var s=t.textures[a];if(!yt(s.initialize)){ke.error("Failed to initialize texture: "+JSON.stringify(s)+". Ensure the texture conforms to the expected format.");return}s.initialize()}),this.initialized=!0)},n.createShaderVariant=function(){(this.shaderDirty||this.macrosDirty)&&(this.shaderVariant=this.shader.createVariant(this.enabledMacros),this.macrosDirty=!1,this.shaderDirty=!1,this.uniformDirty=!0)},n.setupStates=function(t){this.glMaterialState.apply(t)},n.use=function(t,r){var a=t.engine,s=a.getGLPipelineContext(),l=this.shaderVariant;if(!l.program){var u;(u=this.engine)==null||u.renderErrors.add(new Error("Shader program is not initialized."));return}l.program.bind(),this.setupStates(s);var h;if(r){for(var m=Fe(r.uniforms),v;!(v=m()).done;)h=v.value,this.checkUniform(h);for(var p=Fe(r.samplers),b;!(b=p()).done;)h=b.value,this.samplers.includes(h)||(this.samplers.push(h),this.uniformDirty=!0)}if(this.uniformDirty&&(l.fillShaderInformation(this.uniforms,this.samplers),this.uniformDirty=!1),r){for(h in r.floats)l.setFloat(h,r.floats[h]);for(h in r.ints)l.setInt(h,r.ints[h]);for(h in r.vector4s)l.setVector4(h,r.vector4s[h]);for(h in r.vector3s)l.setVector3(h,r.vector3s[h]);for(h in r.matrices)l.setMatrix(h,r.matrices[h])}for(h in this.textures)this.textures[h].textureBuffer||this.textures[h].initialize();for(h in this.floats)l.setFloat(h,this.floats[h]);for(h in this.ints)l.setInt(h,this.ints[h]);for(h in this.floatArrays)l.setFloats(h,this.floatArrays[h]);for(h in this.textures)l.setTexture(h,this.textures[h]);for(h in this.vector2s)l.setVector2(h,this.vector2s[h]);for(h in this.vector3s)l.setVector3(h,this.vector3s[h]);for(h in this.vector4s)l.setVector4(h,this.vector4s[h]);for(h in this.colors)l.setColor(h,this.colors[h]);for(h in this.quaternions)l.setQuaternion(h,this.quaternions[h]);for(h in this.matrices)l.setMatrix(h,this.matrices[h]);for(h in this.matrice3s)l.setMatrix3(h,this.matrice3s[h]);for(h in this.vector4Arrays)l.setVector4Array(h,this.vector4Arrays[h]);for(h in this.matrixArrays)l.setMatrixArray(h,this.matrixArrays[h])},n.getFloat=function(t){return this.floats[t]},n.setFloat=function(t,r){this.checkUniform(t),this.floats[t]=r},n.getInt=function(t){return this.ints[t]},n.setInt=function(t,r){this.checkUniform(t),this.ints[t]=r},n.getFloats=function(t){return this.floatArrays[t]},n.setFloats=function(t,r){this.checkUniform(t),this.floatArrays[t]=r},n.getVector2=function(t){return this.vector2s[t]},n.setVector2=function(t,r){this.checkUniform(t),this.vector2s[t]=r},n.getVector3=function(t){return this.vector3s[t]},n.setVector3=function(t,r){this.checkUniform(t),this.vector3s[t]=r},n.getVector4=function(t){return this.vector4s[t]},n.setVector4=function(t,r){this.checkUniform(t),this.vector4s[t]=r},n.getColor=function(t){return this.colors[t]},n.setColor=function(t,r){this.checkUniform(t),this.colors[t]=r},n.getQuaternion=function(t){return this.quaternions[t]},n.setQuaternion=function(t,r){this.checkUniform(t),this.quaternions[t]=r},n.getMatrix=function(t){return this.matrices[t]},n.setMatrix=function(t,r){this.checkUniform(t),this.matrices[t]=r},n.setMatrix3=function(t,r){this.checkUniform(t),this.matrice3s[t]=r},n.getVector4Array=function(t){return this.vector4Arrays[t]},n.setVector4Array=function(t,r){this.checkUniform(t),this.vector4Arrays[t]=[];for(var a=Fe(r),s;!(s=a()).done;){var l=s.value;this.vector4Arrays[t].push(l.x,l.y,l.z,l.w)}},n.getMatrixArray=function(t){return this.matrixArrays[t]},n.setMatrixArray=function(t,r){this.checkUniform(t),this.matrixArrays[t]=[];for(var a=Fe(r),s;!(s=a()).done;)for(var l=s.value,u=0;u<16;u++)this.matrixArrays[t].push(l.elements[u])},n.setMatrixNumberArray=function(t,r){this.checkUniform(t),this.matrixArrays[t]=r},n.getTexture=function(t){return this.textures[t]},n.setTexture=function(t,r){this.samplers.includes(t)||(this.samplers.push(t),this.uniformDirty=!0),this.textures[t]=r},n.hasUniform=function(t){return this.uniforms.includes(t)||this.samplers.includes(t)},n.clone=function(t){var r=t||this.props,a=this.engine;at(a);var s=new o(a,r);return s.glMaterialState=Object.assign(new fd,s.glMaterialState),s.floats=this.floats,s.ints=this.ints,s.vector2s=this.vector2s,s.vector3s=this.vector3s,s.vector4s=this.vector4s,s.colors=this.colors,s.quaternions=this.quaternions,s.matrices=this.matrices,s.textures=this.textures,s.floatArrays=this.floatArrays,s.vector4Arrays=this.vector4Arrays,s.matrixArrays=this.matrixArrays,s.samplers=this.samplers,s.uniforms=this.uniforms,s.uniformDirty=!0,s},n.fromData=function(t){i.prototype.fromData.call(this,t),this.uniforms=[],this.samplers=[],this.textures={},this.floats={},this.ints={},this.floatArrays={},this.vector4s={};var r=Zr({},t);t.stringTags.RenderType!==void 0&&(this.blending=t.stringTags.RenderType===Tr.Transparent),t.floats.ZTest!==void 0&&(this.depthTest=t.floats.ZTest!==0),t.floats.ZWrite!==void 0&&(this.depthMask=t.floats.ZWrite!==0);var a=t.stringTags.RenderFace;a===br.Front?(this.culling=!0,this.cullFace=D.BACK):a===br.Back?(this.culling=!0,this.cullFace=D.FRONT):this.culling=!1;var s;for(s in r.floats)this.setFloat(s,r.floats[s]);for(s in r.ints)this.setInt(s,r.ints[s]);for(s in r.vector4s){var l=r.vector4s[s];this.setVector4(s,new Bn(l.x,l.y,l.z,l.w))}for(s in r.colors){var u=r.colors[s];this.setColor(s,new bn(u.r,u.g,u.b,u.a))}for(s in r.textures){var h=r.textures[s];this.setTexture(s,h.texture);var m=h.offset,v=h.scale;m&&v&&this.setVector4(s+"_ST",new hd(v.x,v.y,m.x,m.y))}t.shader&&(this.shader=t.shader,this.shaderSource=this.shader.shaderData);var p;this.stringTags=(p=t.stringTags)!=null?p:{},this.initialized=!1},n.toData=function(){var t=this.taggedProperties;this.shader&&(t.shader=this.shader),t.floats={},t.ints={},t.vector4s={},t.colors={},t.textures={},t.dataType=Ct.Material,t.stringTags=this.stringTags;for(var r in this.floats)t.floats[r]=this.floats[r];for(var a in this.ints)t.ints[a]=this.ints[a];for(var s in this.vector4s)t.vector4s[s]=this.vector4s[s];for(var l in this.colors)t.colors[l]=this.colors[l];for(var u in this.textures){t.textures[u]||(t.textures[u]={texture:this.textures[u]});var h=t.textures[u],m=this.getVector4(u+"_ST");m&&(h.scale={x:m.x,y:m.y},h.offset={x:m.z,y:m.w},delete t.vector4s[u+"_ST"])}return t},n.cloneUniforms=function(t){var r=t,a;for(a in r.floats)this.setFloat(a,r.floats[a]);for(a in r.ints)this.setInt(a,r.ints[a]);for(a in r.floatArrays)this.setFloats(a,r.floatArrays[a]);for(a in r.textures)this.setTexture(a,r.textures[a]);for(a in r.vector2s)this.setVector2(a,r.vector2s[a]);for(a in r.vector3s)this.setVector3(a,r.vector3s[a]);for(a in r.vector4s)this.setVector4(a,r.vector4s[a]);for(a in r.colors)this.setColor(a,r.colors[a]);for(a in r.quaternions)this.setQuaternion(a,r.quaternions[a]);for(a in r.matrices)this.setMatrix(a,r.matrices[a]);for(a in r.vector4Arrays){for(var s=[],l=0;l<r.vector4Arrays[a].length;l+=4)s.push(new hd(r.vector4Arrays[a][l],r.vector4Arrays[a][l+1],r.vector4Arrays[a][l+2],r.vector4Arrays[a][l+3]));this.setVector4Array(a,s)}for(a in r.matrixArrays){for(var u=[],h=0;h<r.matrixArrays[a].length;h+=16){for(var m=Lm.fromIdentity(),v=0;v<16;v++)m.elements[v]=r.matrixArrays[a][h+v];u.push(m)}this.setMatrixArray(a,u)}},n.checkUniform=function(t){this.uniforms.includes(t)||(this.uniforms.push(t),this.uniformDirty=!0)},n.dispose=function(t){var r=this,a;this.destroyed||((a=this.shaderVariant)==null||a.dispose(),(t==null?void 0:t.textures)!==Et.keep&&Object.keys(this.textures).forEach(function(s){var l=r.textures[s];l!==r.engine.emptyTexture&&l.dispose()}),this.shaderSource=null,this.uniformSemantics={},this.floats={},this.ints={},this.vector2s={},this.vector3s={},this.vector4s={},this.quaternions={},this.matrices={},this.matrice3s={},this.textures={},this.floatArrays={},this.vector4Arrays={},this.matrixArrays={},this.samplers=[],this.uniforms=[],this.initialize=Dt,this.destroyed=!0,this.engine!==void 0&&this.engine.removeMaterial(this))},gr(o,[{key:"blending",get:function(){return this.glMaterialState.blending},set:function(t){t!==void 0&&this.glMaterialState.setBlending(t)}},{key:"blendColor",get:function(){return this.glMaterialState.blendColor},set:function(t){t&&this.glMaterialState.setBlendColor(t)}},{key:"blendFunction",get:function(){return this.glMaterialState.blendFunctionParameters},set:function(t){t&&this.glMaterialState.setBlendFunctionParameters(t)}},{key:"blendEquation",get:function(){return this.glMaterialState.blendEquationParameters},set:function(t){t&&this.glMaterialState.setBlendEquationParameters(t)}},{key:"depthTest",get:function(){return this.glMaterialState.depthTest},set:function(t){t!==void 0&&this.glMaterialState.setDepthTest(t)}},{key:"depthMask",get:function(){return this.glMaterialState.depthMask},set:function(t){t!==void 0&&this.glMaterialState.setDepthMask(t)}},{key:"depthRange",get:function(){return this.glMaterialState.depthRange},set:function(t){t&&this.glMaterialState.setDepthRange(t)}},{key:"depthFunc",get:function(){return this.glMaterialState.depthFunc},set:function(t){t!==void 0&&this.glMaterialState.setDepthFunc(t)}},{key:"polygonOffsetFill",get:function(){return this.glMaterialState.polygonOffsetFill},set:function(t){t!==void 0&&this.glMaterialState.setPolygonOffsetFill(t)}},{key:"polygonOffset",get:function(){return this.glMaterialState.polygonOffset},set:function(t){t&&this.glMaterialState.setPolygonOffset(t)}},{key:"sampleAlphaToCoverage",get:function(){return this.glMaterialState.sampleAlphaToCoverage},set:function(t){t!==void 0&&this.glMaterialState.setSampleAlphaToCoverage(t)}},{key:"colorMask",get:function(){return this.glMaterialState.colorMask},set:function(t){t&&this.glMaterialState.setColorMask(t)}},{key:"stencilTest",get:function(){return this.glMaterialState.stencilTest},set:function(t){t!==void 0&&this.glMaterialState.setStencilTest(t)}},{key:"stencilMask",get:function(){return this.glMaterialState.stencilMask},set:function(t){t&&this.glMaterialState.setStencilMask(t)}},{key:"stencilRef",get:function(){return this.glMaterialState.stencilRef},set:function(t){t&&this.glMaterialState.setStencilRef(t)}},{key:"stencilFunc",get:function(){return this.glMaterialState.stencilFunc},set:function(t){t&&this.glMaterialState.setStencilFunc(t)}},{key:"stencilOpFail",get:function(){return this.glMaterialState.stencilOpFail},set:function(t){t&&this.glMaterialState.setStencilOpFail(t)}},{key:"stencilOpZFail",get:function(){return this.glMaterialState.stencilOpZFail},set:function(t){t&&this.glMaterialState.setStencilOpZFail(t)}},{key:"stencilOpZPass",get:function(){return this.glMaterialState.stencilOpZPass},set:function(t){t&&this.glMaterialState.setStencilOpZPass(t)}},{key:"culling",get:function(){return this.glMaterialState.culling},set:function(t){t!==void 0&&this.glMaterialState.setCulling(t)}},{key:"frontFace",get:function(){return this.glMaterialState.frontFace},set:function(t){t!==void 0&&this.glMaterialState.setFrontFace(t)}},{key:"cullFace",get:function(){return this.glMaterialState.cullFace},set:function(t){t!==void 0&&this.glMaterialState.setCullFace(t)}},{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(Xn),Dm="$mri-internal-copy",md=function(){function i(n){if(this.renderer=n,n.engine.gpuCapability.level===1){this.copyRenderPass=this.createCopyRenderPass().initialize(n);var e=this.copyRenderPass.meshes[0].material.shaderSource;n.pipelineContext.shaderLibrary.addShader(e)}}var o=i.prototype;return o.resetColorAttachments=function(e,t){this.renderer&&e.resetColorAttachments(t)},o.copyTexture=function(e,t){this.renderer&&(e.initialize(),t.initialize(),t.updateSource({sourceType:wr.framebuffer,data:{width:t.getWidth()||e.getWidth(),height:t.getHeight()||e.getHeight()}}),this.renderer.engine.gpuCapability.level===2?this.copy2(e,t):this.copy1(e,t))},o.copy2=function(e,t){var r=this.renderer.getFramebuffer();this.renderer.glRenderer.copy2(e,t),this.renderer.setFramebuffer(r)},o.copy1=function(e,t){var r=this.copyRenderPass;if(r){var a=this.renderer;if(a){var s=r.framebuffer;s.viewport[2]=t.getWidth()||e.getWidth(),s.viewport[3]=t.getHeight()||e.getHeight(),a.glRenderer.resetColorAttachments(s,[t]);var l=r.meshes[0];l.material.setTexture("uTex",e),a.renderRenderPass(r)}}},o.createCopyRenderPass=function(){var e="mri-copy-mesh",t={texture:{format:D.RGBA}},r=this.renderer.engine,a=new cd(r,{name:e,mode:D.TRIANGLE_STRIP,attributes:{aPos:{type:D.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),s=`
precision highp float;
attribute vec2 aPos;
varying vec2 vTex;
void main(){
  gl_Position = vec4(aPos,0.,1.0);
  vTex = (aPos + vec2(1.))/2.;
}`,l=`
precision highp float;
varying vec2 vTex;
uniform sampler2D uTex;
void main(){
  gl_FragColor = texture2D(uTex,vTex);
}`,u=r.gpuCapability.level,h=new dd(r,{name:e,shader:{cacheId:Dm,name:e,vertex:s,fragment:l,glslVersion:u===2?oi.GLSL3:oi.GLSL1}});h.blending=!1,h.depthTest=!1,h.culling=!1;var m=new aa(r,{name:e,geometry:a,material:h,priority:0});return new Fm(this.renderer,{name:"mri-copy-rp",clearAction:{colorAction:si.whatever},attachments:[t],meshes:[m]})},o.dispose=function(){if(this.renderer){var e;(e=this.copyRenderPass)==null||e.dispose(),this.renderer=void 0}},i}(),Fm=function(i){pe(o,i);function o(){return i.apply(this,arguments)}var n=o.prototype;return n.configure=function(t){this.currentFramebuffer=t.getFramebuffer(),t.setFramebuffer(this.framebuffer)},n.execute=function(t){this.clearAction&&t.clear(this.clearAction),t.renderMeshes(this.meshes),this.storeAction&&t.clear(this.storeAction),t.setFramebuffer(this.currentFramebuffer)},o}(la),Nm=function(){function i(n,e,t){var r=this;e===void 0&&(e="webgl"),t===void 0&&(t={}),this.canvas=n,this.glType=e,this.restoreHandlers=[],this.lostHandlers=[],at(n),this.gl=gs(n,e,t),this.contextLostListener=function(a){for(var s,l=Fe(r.lostHandlers),u;!(u=l()).done;){var h=u.value;h.lost(a)}(s=r.canvas)==null||s.removeEventListener("webglcontextlost",r.contextLostListener)},this.contextRestoredListener=function(a){for(var s,l=Fe(r.restoreHandlers),u;!(u=l()).done;){var h=u.value;h.restore()}(s=r.canvas)==null||s.addEventListener("webglcontextlost",r.contextLostListener)},n.addEventListener("webglcontextlost",this.contextLostListener),n.addEventListener("webglcontextrestored",this.contextRestoredListener)}var o=i.prototype;return o.dispose=function(){this.canvas&&(this.canvas.removeEventListener("webglcontextlost",this.contextLostListener),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredListener)),this.gl=null,this.canvas=null},o.addLostHandler=function(e){this.lostHandlers.push(e)},o.removeLostHandler=function(e){var t=this.lostHandlers.indexOf(e);t>-1&&this.lostHandlers.splice(t,1)},o.addRestoreHandler=function(e){this.restoreHandlers.push(e)},o.removeRestoreHandler=function(e){var t=this.restoreHandlers.indexOf(e);t>-1&&this.restoreHandlers.splice(t,1)},i}(),ph=function(i){pe(o,i);function o(e){var t;return t=i.call(this)||this,t.gpuCapability=new cs(e),t}var n=o.prototype;return n.dispose=function(){this.isDestroyed||i.prototype.dispose.call(this)},n.getGLRenderer=function(){return this.renderer},n.getGLRendererInternal=function(){return this.getGLRenderer().glRenderer},n.getGLPipelineContext=function(){return this.getGLRenderer().pipelineContext},o}(ad),pl=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e)||this,r.initialized=!1,t!==void 0&&r.initialize(t),r}var n=o.prototype;return n.initialize=function(t){this.initialized||(this.initialized=!0,this.renderer=t,this.buffer=t.createGLRenderbuffer(this))},n.setSize=function(t,r){if(!this.initialized){ke.error("Can't set size for uninitialized render buffer.");return}if(this.renderer&&(t!==this.size[0]||r!==this.size[1])){var a=this.renderer,s=a.gl,l=a.pipelineContext;l.bindRenderbuffer(s.RENDERBUFFER,this.buffer),t&&r?s.renderbufferStorage(s.RENDERBUFFER,this.format,this.size[0]=t,this.size[1]=r):ke.error("Invalid render buffer size: "+t+"x"+r+".")}},n.dispose=function(){this.renderer&&(this.renderer.deleteGLRenderbuffer(this),this.renderer=null,this.buffer=null),this.destroyed=!0,this.initialize=Dt},o}(xs),Vm=1,gh=function(i){pe(o,i);function o(e,t){var r;r=i.call(this)||this,r.attachmentTextures=[];var a=e.depthStencilAttachment,s=e.viewport,l=e.isCustomViewport,u=e.storeAction,h=e.viewportScale,m=h===void 0?1:h,v=e.name,p=v===void 0?"GLFramebuffer"+Vm++:v;r.renderer=t,r.engine=t.engine;var b;return r.depthStencilStorageType=(b=a==null?void 0:a.storageType)!=null?b:Pi.none,r.viewport=s,r.isCustomViewport=!!l,r.viewportScale=m,r.name=p,r.storeAction=u,r.updateProps(e),r}var n=o.prototype;return n.getDepthTexture=function(){return this.depthTexture},n.getStencilTexture=function(){return this.stencilTexture},n.getColorTextures=function(){return this.colorTextures},n.updateAttachmentTextures=function(){var t=this;this.attachmentTextures.length=0,this.colorTextures.forEach(function(r){r.initialize(),rt(t.attachmentTextures,r.textureBuffer)}),this.stencilTexture&&rt(this.attachmentTextures,this.stencilTexture.textureBuffer),this.depthTexture&&rt(this.attachmentTextures,this.depthTexture.textureBuffer)},n.updateProps=function(t){var r,a=this.renderer,s=this.engine.gpuCapability,l,u=(l=t.depthStencilAttachment)!=null?l:{storageType:Pi.none},h=t.attachments.length>0,m=!0;if(this.externalStorage=!1,t.attachments.length>1&&!s.detail.drawBuffers)throw new Error("Multiple color attachments not support.");var v=(r=t.depthStencilAttachment)==null?void 0:r.texture,p=s.detail.readableDepthStencilTextures,b=u.storageType,x=u.storage;if(this.colorTextures=t.attachments.slice(),!h&&b!==Pi.none)throw new Error("Use depth stencil attachment without color attachments.");switch(h&&(this.fbo=a.glRenderer.createGLFramebuffer(this,this.name)),b){case Pi.depth_stencil_opaque:if(x)if(U(x,pl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid depth stencil attachment storage.");else this.depthStencilRenderbuffer=new pl({format:D.DEPTH_STENCIL,attachment:D.DEPTH_STENCIL_ATTACHMENT,storageType:b},a.glRenderer);m=!1;break;case Pi.depth_16_opaque:if(x)if(U(x,pl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid depth attachment storage.");else this.depthStencilRenderbuffer=new pl({attachment:D.DEPTH_ATTACHMENT,format:D.DEPTH_COMPONENT16,storageType:b},a.glRenderer);break;case Pi.stencil_8_opaque:if(x)if(U(x,pl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid stencil attachment storage.");else this.depthStencilRenderbuffer=new pl({attachment:D.STENCIL_ATTACHMENT,format:D.STENCIL_INDEX8,storageType:b},a.glRenderer);break;case Pi.depth_16_texture:if(!p)throw new Error("Depth texture is not support in framebuffer.");this.depthTexture=v!=null?v:new Ws(this.engine,{sourceType:wr.framebuffer,format:D.DEPTH_COMPONENT,internalFormat:s.internalFormatDepth16,type:D.UNSIGNED_SHORT,name:""+this.name+"##depthTex"}),this.depthTexture.initialize();break;case Pi.depth_24_stencil_8_texture:if(!p)throw new Error("Depth stencil texture is not support in framebuffer.");this.depthTexture=this.stencilTexture=v!=null?v:new Ws(this.engine,{sourceType:wr.framebuffer,format:D.DEPTH_STENCIL,internalFormat:s.internalFormatDepth24_stencil8,type:s.UNSIGNED_INT_24_8,name:""+this.name+"##dpthStclTex"}),this.depthTexture.initialize(),m=!0;break}this.storeInvalidAttachments=this.getStoreAttachments(this.storeAction,m),this.updateAttachmentTextures()},n.getStoreAttachments=function(t,r){var a=this.renderer.glRenderer.gl,s=this.colorTextures.length;if(t&&Ca(a)&&s>0){var l=[];if(t.depthAction===ni.clear&&this.depthStorage&&rt(l,r?a.DEPTH_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT),t.stencilAction===ni.clear&&this.stencilStorage&&rt(l,r?a.STENCIL_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT),t.colorAction===ni.clear)for(var u=0;u<s;u++)rt(l,a["COLOR_ATTACHMENT"+u]);return l}},n.unbind=function(){var t=this.storeInvalidAttachments;if(t!=null&&t.length){var r=this.renderer.glRenderer.gl;Ca(r)&&r.invalidateFramebuffer(r.FRAMEBUFFER,t)}this.renderer.pipelineContext.bindSystemFramebuffer()},n.bind=function(){var t=this;if(this.fbo){var r=this.renderer.glRenderer.gl,a=this.renderer.pipelineContext,s=this.viewport,l=s[0],u=s[1],h=s[2],m=s[3];a.bindFramebuffer(r.FRAMEBUFFER,this.fbo),a.viewport(l,u,h,m);var v=this.renderer.glRenderer.emptyTexture2D.textureBuffer;Object.keys(a.textureUnitDict).forEach(function(X){var k=a.textureUnitDict[X];k&&k!==v&&t.attachmentTextures.includes(k)&&(a.activeTexture(+X),t.renderer.glRenderer.emptyTexture2D.bind())});for(var p=0;p<4;p++)a.activeTexture(r.TEXTURE0+p),this.renderer.glRenderer.emptyTexture2D.bind();if(!this.ready){var b=this,x=b.depthStencilRenderbuffer,I=b.depthTexture,B=b.stencilTexture;if(a.activeTexture(r.TEXTURE0),x)x.setSize(h,m),r.framebufferRenderbuffer(r.FRAMEBUFFER,x.attachment,r.RENDERBUFFER,x.buffer);else if(I){I.source.data={width:h,height:m},I.update({data:{width:h,height:m,data:new Uint16Array(0)}});var F=I&&B?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.framebufferTexture2D(r.FRAMEBUFFER,F,r.TEXTURE_2D,I.textureBuffer,0)}this.resetColorTextures(this.colorTextures);var R=r.checkFramebufferStatus(r.FRAMEBUFFER);if(R!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer failed, status: "+R+", error: "+r.getError()+".");this.ready=!0}}},n.resetColorTextures=function(t){var r=t,a=this.renderer.glRenderer.gl,s=this.engine.gpuCapability,l=this.viewport,u=[];if(r){for(var h=Fe(r),m;!(m=h()).done;){var v=m.value;v.initialize()}this.colorTextures=r.slice()}this.renderer.pipelineContext.activeTexture(a.TEXTURE0),this.colorTextures.forEach(function(p,b){var x=l[2],I=l[3],B={width:x,height:I,data:new Uint8Array(0)};p.update({data:B}),s.framebufferTexture2D(a,a.FRAMEBUFFER,b,a.TEXTURE_2D,p.textureBuffer),u.push(!0)}),s.drawBuffers(a,u),this.updateAttachmentTextures()},n.resize=function(t,r,a,s){var l=this.viewport,u=l[0],h=l[1],m=l[2],v=l[3];(u!==t||h!==r||m!==a||v!==s)&&(this.viewport=[t,r,a,s],this.ready=!1,this.bind())},n.dispose=function(t){if(this.renderer){this.renderer.glRenderer.deleteGLFramebuffer(this),delete this.fbo;var r=t!=null&&t.depthStencilAttachment?t.depthStencilAttachment:sa.force;if(r===sa.force||r===sa.keepExternal&&!this.externalStorage){var a,s;(a=this.depthStencilRenderbuffer)==null||a.dispose(),(s=this.depthTexture)==null||s.dispose()}this.renderer=this.stencilRenderbuffer=this.depthStencilRenderbuffer=null}},gr(o,[{key:"stencilStorage",get:function(){var t=this.depthStencilStorageType;if(t!==Pi.depth_16_opaque)return this.depthStencilRenderbuffer}},{key:"depthStorage",get:function(){if(this.depthStencilStorageType!==Pi.stencil_8_opaque)return this.depthStencilRenderbuffer}}]),o}(Rs);function Bm(i){for(var o=5381,n=i.length;n;)o=o*33^i.charCodeAt(--n);return o>>>0}var vd=Bm,pd=1,zm=8,Um=0,gd=4,yd=2,km=5,Ui,$m=(Ui={},Ui[D.FLOAT]=1,Ui[D.INT]=1,Ui[D.UNSIGNED_INT]=1,Ui[D.SHORT]=1,Ui[D.BOOL]=1,Ui[D.UNSIGNED_SHORT]=1,Ui[D.FLOAT_VEC2]=2,Ui[D.FLOAT_VEC3]=3,Ui[D.FLOAT_VEC4]=4,Ui[D.FLOAT_MAT2]=4,Ui[D.FLOAT_MAT3]=9,Ui[D.FLOAT_MAT4]=16,Ui[D.FLOAT_MAT2x3]=6,Ui[D.FLOAT_MAT2x4]=8,Ui[D.FLOAT_MAT4x3]=12,Ui[D.FLOAT_MAT4x2]=8,Ui[D.FLOAT_MAT3x4]=12,Ui[D.FLOAT_MAT3x2]=6,Ui[D.INT_VEC2]=2,Ui[D.INT_VEC3]=3,Ui[D.INT_VEC4]=4,Ui[D.UNSIGNED_INT_VEC2]=2,Ui[D.UNSIGNED_INT_VEC3]=3,Ui[D.UNSIGNED_INT_VEC4]=4,Ui[D.BOOL_VEC2]=2,Ui[D.BOOL_VEC3]=3,Ui[D.BOOL_VEC4]=4,Ui),ko=bh(Float32Array),kl=bh(Int32Array),yh=bh(Uint8Array),ki;ki={},ki[D.FLOAT]=$l(Float32Array),ki[D.INT]=$l(Int32Array),ki[D.UNSIGNED_INT]=$l(Uint32Array),ki[D.SHORT]=$l(Int16Array),ki[D.BOOL]=$l(Uint8Array),ki[D.UNSIGNED_SHORT]=$l(Uint16Array),ki[D.FLOAT_VEC2]=ko,ki[D.FLOAT_VEC3]=ko,ki[D.FLOAT_VEC4]=ko,ki[D.FLOAT_MAT2]=ko,ki[D.FLOAT_MAT3]=ko,ki[D.FLOAT_MAT4]=ko,ki[D.FLOAT_MAT2x3]=ko,ki[D.FLOAT_MAT2x4]=ko,ki[D.FLOAT_MAT4x3]=ko,ki[D.FLOAT_MAT4x2]=ko,ki[D.FLOAT_MAT3x4]=ko,ki[D.FLOAT_MAT3x2]=ko,ki[D.INT_VEC2]=kl,ki[D.INT_VEC3]=kl,ki[D.INT_VEC4]=kl,ki[D.UNSIGNED_INT_VEC2]=kl,ki[D.UNSIGNED_INT_VEC3]=kl,ki[D.UNSIGNED_INT_VEC4]=kl,ki[D.BOOL_VEC2]=yh,ki[D.BOOL_VEC3]=yh,ki[D.BOOL_VEC4]=yh;function $l(i){return function(o,n,e,t){var r={start:n[pd],dirty:!0},a=n[yd];if(a>1){var s=o;if(s.length){for(var l=t[1]||s.length,u=n[gd]/i.BYTES_PER_ELEMENT,h=r.buffer=new i(l*u),m=t[0]||0,v=0;v<l;v++)h[v*u]=s[v+m];r.start+=m*u}}else r.buffer=new i([o]);return r}}function bh(i){return function(o,n,e,t){for(var r=n[zm],a=n[yd],s=n[km],l=a===1?r:n[gd],u=s?l/s:1,h=l/i.BYTES_PER_ELEMENT/u,m=r/i.BYTES_PER_ELEMENT/h,v=$m[n[Um]],p=v/u,b=(t[0]||0)*v,x=t[1]?u*t[1]:m,I=new i(h*x),B={start:n[pd]+l*(t[0]||0),dirty:!0,buffer:I},F=0,R=0,X=b;F<x;F++){for(var k=0;k<p;k++)I[R+k]=o[X+k];R+=h,X+=p}return B}}function jm(i,o){for(var n=function(s){var l=i.getActiveUniformBlockName(o,s);at(l);var u={index:i.getUniformBlockIndex(o,l),usedByVertexShader:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),used:!1,uniforms:{},name:l,id:""};u.used=u.usedByVertexShader||u.usedByFragmentShader,e[s]=u;for(var h=u.uniformIndices,m=[],v=0;v<h.length;v++){var p=i.getActiveUniform(o,h[v]).name.replace("[0]","");u.uniforms[p]=[0,0,0,0,0,0,0,v,0],m[v]=p,t.push(p)}[i.UNIFORM_TYPE,i.UNIFORM_OFFSET,i.UNIFORM_SIZE,i.UNIFORM_BLOCK_INDEX,i.UNIFORM_ARRAY_STRIDE,i.UNIFORM_MATRIX_STRIDE,i.UNIFORM_IS_ROW_MAJOR].forEach(function(F,R){i.getActiveUniforms(o,h,F).forEach(function(X,k){var H=m[k];u.uniforms[H][R]=+X})});for(var b=0;b<m.length;b++){var x=u.uniforms[m[b]],I=u.uniforms[m[b+1]],B=I?I[1]:u.size;x[8]=B-x[1]}u.id=Hm(u)+""},e=[],t=[],r=i.getProgramParameter(o,i.ACTIVE_UNIFORM_BLOCKS),a=0;a<r;++a)n(a);return{blockSpecs:e,blockUniformNames:t}}function Hm(i){var o=i.name,n=i.size,e=i.uniforms,t=i.uniformIndices;return Object.keys(e).map(function(r){return r+"["+e[r].join(":")+"]"}).join("+"),vd(""+o+"+",""+n+"+",""+t.length+"+")}var Gm=function(){function i(n,e,t){var r=this;this.engine=n,this.program=e,this.id=t,this.uniformBlockMap={},this.pipelineContext=n.getGLPipelineContext();var a=this.pipelineContext.gl;if(this.pipelineContext.useProgram(e),this.attribInfoMap=this.createAttribMap(),Ca(a)){var s=jm(a,e).blockSpecs;s.forEach(function(l){return r.uniformBlockMap[l.name]=l})}this.pipelineContext.useProgram(null)}var o=i.prototype;return o.bind=function(){this.pipelineContext.useProgram(this.program)},o.setupAttributes=function(e){var t=this,r,a=this.id,s=this.pipelineContext.gl,l;return e.vaos[a]?l=e.vaos[a]:(l=new od(this.engine,e.name+"-"+a),l||console.error("Failed to create VAO object."),e.vaos[a]=l),l&&l.vao&&(l.bind(),l.ready)||(Object.keys(this.attribInfoMap).forEach(function(u){var h=t.attribInfoMap[u],m=e.attributes[u];if(m){var v=e.buffers[m.dataSource];if(!v)throw new Error("Failed to find a buffer named '"+(m.dataSource||u)+"'. Please ensure the buffer is correctly initialized and bound.");v.bind(),s.enableVertexAttribArray(h.loc),s.vertexAttribPointer(h.loc,m.size,m.type,m.normalize,m.stride||0,m.offset||0)}}),(r=e.indicesBuffer)==null||r.bind(),l&&(l.ready=!0)),l},o.createAttribMap=function(){for(var e=this.pipelineContext.gl,t=this.program,r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var l=e.getActiveAttrib(t,s);if(l){var u=l.name,h=l.type,m=l.size,v=e.getAttribLocation(t,u);r[u]={type:h,name:u,size:m,loc:v}}}return r},o.dispose=function(){this.pipelineContext&&(this.pipelineContext.gl.deleteProgram(this.program),this.pipelineContext=null)},i}(),Wm=function(i){pe(o,i);function o(e,t){var r;return r=i.call(this,e,t)||this,r.initialized=!1,r.uniformLocations={},r.samplerChannels={},r}var n=o.prototype;return n.initialize=function(){if(!this.initialized){var t=this.engine.getGLPipelineContext();t.shaderLibrary.compileShader(this)}},n.setFloat=function(t,r){this.pipelineContext.setFloat(this.uniformLocations[t],r)},n.setInt=function(t,r){this.pipelineContext.setInt(this.uniformLocations[t],r)},n.setFloats=function(t,r){this.pipelineContext.setFloats(this.uniformLocations[t],r)},n.setTexture=function(t,r){this.pipelineContext.setTexture(this.uniformLocations[t],this.samplerChannels[t],r)},n.setVector2=function(t,r){this.pipelineContext.setVector2(this.uniformLocations[t],r)},n.setVector3=function(t,r){this.pipelineContext.setVector3(this.uniformLocations[t],r)},n.setVector4=function(t,r){this.pipelineContext.setVector4(this.uniformLocations[t],r)},n.setColor=function(t,r){this.pipelineContext.setColor(this.uniformLocations[t],r)},n.setQuaternion=function(t,r){this.pipelineContext.setQuaternion(this.uniformLocations[t],r)},n.setMatrix=function(t,r){this.pipelineContext.setMatrix(this.uniformLocations[t],r)},n.setMatrix3=function(t,r){this.pipelineContext.setMatrix3(this.uniformLocations[t],r)},n.setVector4Array=function(t,r){this.pipelineContext.setVector4Array(this.uniformLocations[t],r)},n.setMatrixArray=function(t,r){this.pipelineContext.setMatrixArray(this.uniformLocations[t],r)},n.fillShaderInformation=function(t,r){var a=r.slice();t=t.concat(a);for(var s=this.pipelineContext.getUniforms(this.program.program,t),l=0;l<t.length;l++)this.uniformLocations[t[l]]=s[l];var u;for(u=0;u<a.length;u++){var h=this.uniformLocations[a[u]];h==null&&(a.splice(u,1),u--)}for(u=0;u<a.length;u++){var m=a[u];this.samplerChannels[m]=u}},n.toData=function(){var t=this.taggedProperties;t.dataType=Ct.Shader,t.id=this.guid,t.vertex=this.source.vertex,t.fragment=this.source.fragment},n.dispose=function(){var t;this.compileResult&&this.compileResult.shared||(t=this.program)==null||t.dispose()},o}(Ho),Zm=0,Xm=function(){function i(n,e){this.engine=n,this.pipelineContext=e,this.shaderResults={},this.programMap={},this.glVertShaderMap=new Map,this.glFragShaderMap=new Map,this.shaderAllDone=!1,this.cachedShaders={},this.glAsyncCompileExt=n.gpuCapability.glAsyncCompileExt}var o=i.prototype;return o.compileAllShaders=function(e){var t=this;if(this.shaderAllDone)e&&e([]);else{for(var r=[],a=Fe(Object.keys(this.cachedShaders)),s;!(s=a()).done;){var l=s.value;this.cachedShaders[l].initialized||r.push(l)}e?r.length?Promise.all(r.map(function(u){return new Promise(function(h){return t.compileShader(t.cachedShaders[u],h)})})).then(e).catch(function(){return 0}):e([]):r.map(function(u){return t.compileShader(t.cachedShaders[u])}),this.shaderAllDone=!0}},o.addShader=function(e,t){var r=[];if(e.macros){var a;(a=r).push.apply(a,[].concat(e.macros))}if(t){var s;(s=r).push.apply(s,[].concat(t))}var l=Zr({},e,{vertex:Ko.genFinalShaderCode({level:this.engine.gpuCapability.level,shaderType:Dn.vertex,shader:e.vertex,macros:r}),fragment:Ko.genFinalShaderCode({level:this.engine.gpuCapability.level,shaderType:Dn.fragment,shader:e.fragment,macros:r})}),u=this.computeShaderCacheId(l);if(this.cachedShaders[u])return u;this.shaderAllDone=!1;var h=!1;return(l.shared||l.cacheId)&&(h=!0),this.cachedShaders[u]=new Wm(this.engine,Zr({},l,{vertex:l.vertex,fragment:l.fragment,name:l.name||u,shared:h})),this.cachedShaders[u].id=u,u},o.createShader=function(e,t){var r=this.addShader(e,t);return this.cachedShaders[r]},o.compileShader=function(e,t){var r=this,a=e.source,s=a.shared,l=a.vertex,u=a.fragment,h=a.name,m=e.source.cacheId,v=!1;(s||m)&&(v=!0);var p=this.pipelineContext.gl,b={shared:v,status:Aa.compiling},x=this.createProgram(p,l,u,b),I=this.glAsyncCompileExt,B=performance.now(),F=function(X){b.status=Aa.success,b.compileTime=performance.now()-B,e.program=X,e.initialized=!0,e.pipelineContext=r.pipelineContext,r.programMap[e.id]!==void 0&&console.warn("Find duplicated shader id: "+e.id+"."),r.programMap[e.id]=X},R=function(){if(r.engine.isDestroyed)return console.warn("The player is destroyed during the loadScene process. Please check the timing of calling loadScene and dispose. A common situation is that when calling loadScene, await is not added. This will cause dispose to be called before loadScene is completed."),t==null?void 0:t(b);if(e.initialized)return t==null?void 0:t(b);var X=!t||!I||I&&p.getProgramParameter(b.program,I.COMPLETION_STATUS_KHR)==!0,k=X&&x();if(k){if(b.status!==Aa.fail){Mu(k,h);var H=new Gm(r.engine,k,e.id);p.validateProgram(k);var ee=p.getProgramParameter(k,p.VALIDATE_STATUS);if(ee)F(H);else{var ie=p.getProgramInfoLog(k),oe="the same texture";ie!=null&&ie.includes(oe)?F(H):(b.status=Aa.fail,b.error=ie,console.error("compileProgramError: "+ie,`
vertex:
`,l,`
fragment:
`,u),p.deleteProgram(k))}}t==null||t(b)}else t&&requestAnimationFrame(R)};e.compileResult=b,R()},o.computeShaderCacheId=function(e){var t=e.vertex,r=t===void 0?"":t,a=e.fragment,s=a===void 0?"":a,l=e.shared,u=e.cacheId,h;return l||u?h=u||"shared_"+Ym(r,s):h="instanced_"+Zm++,h},o.createProgram=function(e,t,r,a){var s=e.createProgram(),l=this.createGLShader(e,e.VERTEX_SHADER,t),u=this.createGLShader(e,e.FRAGMENT_SHADER,r);return s&&l&&u?(e.attachShader(s,l),e.attachShader(s,u),e.linkProgram(s),a.program=s,a.status=Aa.compiling,function(){a.program=void 0;var h=e.getProgramParameter(s,e.LINK_STATUS);if(!h){var m=e.getProgramInfoLog(s);console.error("Failed to link program: "+m+".");var v=bd(e,l,"vertex",t),p=bd(e,u,"fragment",r);return a.status=Aa.fail,v&&(a.error=v.error,a.status=v.status),p&&(a.error=p.error,a.status=p.status),s}return s}):(a.status=Aa.fail,function(){return null})},o.createGLShader=function(e,t,r){var a=t===e.VERTEX_SHADER?this.glVertShaderMap:this.glFragShaderMap,s=vd(r!=null?r:""),l=a.get(s);if(l)return l;var u=e.createShader(t);return u&&(e.shaderSource(u,r),e.compileShader(u),a.set(s,u)),u},o.deleteShader=function(e){var t=this.programMap[e];t!==void 0&&(t.dispose(),delete this.programMap[e]);var r=this.shaderResults[e];r!==void 0&&delete this.shaderResults[e]},o.restore=function(){},o.dispose=function(){var e=this;if(Object.keys(this.programMap).forEach(function(r){var a=e.programMap[r];a.dispose()}),this.programMap={},this.pipelineContext){var t=this.pipelineContext.gl;this.glFragShaderMap.forEach(function(r){t.deleteShader(r)}),this.glVertShaderMap.forEach(function(r){t.deleteShader(r)}),this.glVertShaderMap=new Map,this.glFragShaderMap=new Map}},i}();function bd(i,o,n,e){if(!i.getShaderParameter(o,i.COMPILE_STATUS)){var t=i.getShaderInfoLog(o);return console.error("compile "+n+" error: "+t,(e!=null?e:"").split(`
`).map(function(r,a){return a+1+" "+r}).join(`
`)),{error:t,status:Aa.fail}}}function Ym(){for(var i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];for(var e=0,t=0;t<arguments.length;t++)for(var r=o[t],a=0;a<r.length;a++)e=Math.imul(31,e)+r.charCodeAt(a)|0;return e}var xd=function(){function i(n,e){this.engine=n,this.gl=e,this.gl=e,this.shaderLibrary=new Xm(n,this),this.maxTextureCount=this.gl.TEXTURE0+this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS)-1,this.reset()}var o=i.prototype;return o.dispose=function(){this.shaderLibrary.dispose(),this.reset()},o.reset=function(){this.glCapabilityCache={},this.activeTextureIndex=D.TEXTURE0,this.textureUnitDict={},this.currentFramebuffer={},this.pixelStorei={},this.currentRenderbuffer={}},o.toggle=function(e,t){t?this.enable(e):this.disable(e)},o.enable=function(e){var t=this.glCapabilityCache[e];t!==!0&&(this.glCapabilityCache[e]=!0,this.gl.enable(e))},o.disable=function(e){var t=this.glCapabilityCache[e];t!==!1&&(this.glCapabilityCache[e]=!1,this.gl.disable(e))},o.bindFramebuffer=function(e,t){this.currentFramebuffer[e]!==t&&(this.currentFramebuffer[e]=t,this.gl.bindFramebuffer(e,t))},o.bindRenderbuffer=function(e,t){this.currentRenderbuffer[e]!==t&&(this.currentRenderbuffer[e]=t,this.gl.bindRenderbuffer(e,t))},o.bindSystemFramebuffer=function(){this.bindFramebuffer(this.gl.FRAMEBUFFER,null)},o.useProgram=function(e){this.set1("useProgram",e)},o.clear=function(e){this.gl.clear(e)},o.clearDepth=function(e){this.set1("clearDepth",e)},o.depthFunc=function(e){this.set1("depthFunc",e)},o.depthMask=function(e){this.set1("depthMask",e)},o.polygonOffset=function(e,t){this.set2("polygonOffset",e,t)},o.depthRange=function(e,t){this.set2("depthRange",e,t)},o.clearStencil=function(e){this.set1("clearStencil",e)},o.stencilMask=function(e){this.stencilMaskSeparate(this.gl.FRONT,e),this.stencilMaskSeparate(this.gl.BACK,e)},o.stencilFunc=function(e,t,r){this.stencilFuncSeparate(this.gl.FRONT,e,t,r),this.stencilFuncSeparate(this.gl.BACK,e,t,r)},o.stencilFuncSeparate=function(e,t,r,a){this.set4("stencilFuncSeparate",e,t,r,a)},o.stencilMaskSeparate=function(e,t){this.set2("stencilMaskSeparate",e,t)},o.stencilOp=function(e,t,r){this.stencilOpSeparate(this.gl.FRONT,e,t,r),this.stencilOpSeparate(this.gl.BACK,e,t,r)},o.stencilOpSeparate=function(e,t,r,a){this.set4("stencilOpSeparate",e,t,r,a)},o.cullFace=function(e){this.set1("cullFace",e)},o.frontFace=function(e){this.set1("frontFace",e)},o.clearColor=function(e,t,r,a){this.set4("clearColor",e,t,r,a)},o.colorMask=function(e,t,r,a){this.set4("colorMask",e,t,r,a)},o.blendColor=function(e,t,r,a){this.set4("blendColor",e,t,r,a)},o.blendFunc=function(e,t){this.blendFuncSeparate(e,t,e,t)},o.blendFuncSeparate=function(e,t,r,a){this.set4("blendFuncSeparate",e,t,r,a)},o.blendEquation=function(e){this.set1("blendEquation",e)},o.blendEquationSeparate=function(e,t){this.set2("blendEquationSeparate",e,t)},o.setPixelStorei=function(e,t){var r=this.pixelStorei[e];r!==t&&(this.pixelStorei[e]=t,this.gl.pixelStorei(e,t))},o.viewport=function(e,t,r,a){this.set4("viewport",e,t,r,a)},o.activeTexture=function(e){e=Math.min(e,this.maxTextureCount),this.activeTextureIndex!==e&&(this.activeTextureIndex=e,this.gl.activeTexture(e))},o.bindTexture=function(e,t,r){(this.currentTextureBinding!==t||r)&&(this.gl.bindTexture(e,t),this.currentTextureBinding=t),this.textureUnitDict[this.activeTextureIndex]=t},o.set1=function(e,t){var r=this.glCapabilityCache[e];r!==t&&(this.glCapabilityCache[e]=t,this.gl[e](t))},o.set2=function(e,t,r){var a=this.glCapabilityCache[e];a||(a=this.glCapabilityCache[e]={x:NaN,y:NaN}),(a.x!==t||a.y!==r)&&this.gl[e](a.x=t,a.y=r)},o.set3=function(e,t,r,a){var s=this.glCapabilityCache[e];s||(s=this.glCapabilityCache[e]={x:NaN,y:NaN,z:NaN}),(s.x!==t||s.y!==r||s.z!==a)&&this.gl[e](s.x=t,s.y=r,s.z=a)},o.set4=function(e,t,r,a,s){var l=this.glCapabilityCache[e];l||(l=this.glCapabilityCache[e]={x:NaN,y:NaN,z:NaN,w:NaN}),(l.x!==t||l.y!==r||l.z!==a||l.w!==s)&&this.gl[e](l.x=t,l.y=r,l.z=a,l.w=s)},o.get=function(e){return this.glCapabilityCache[e]},o.setFloat=function(e,t){e&&this.gl.uniform1f(e,t)},o.setInt=function(e,t){e&&this.gl.uniform1i(e,t)},o.setFloats=function(e,t){e&&this.gl.uniform1fv(e,t)},o.setVector2=function(e,t){this.setFloat2(e,t.x,t.y)},o.setVector3=function(e,t){this.setFloat3(e,t.x,t.y,t.z)},o.setVector4=function(e,t){this.setFloat4(e,t.x,t.y,t.z,t.w)},o.setColor=function(e,t){this.setFloat4(e,t.r,t.g,t.b,t.a)},o.setQuaternion=function(e,t){this.setFloat4(e,t.x,t.y,t.z,t.w)},o.setVector4Array=function(e,t){!e||t.length%4!==0||this.gl.uniform4fv(e,t)},o.setMatrix=function(e,t){e&&this.gl.uniformMatrix4fv(e,!1,t.elements)},o.setMatrix3=function(e,t){e&&this.gl.uniformMatrix3fv(e,!1,t.elements)},o.setMatrixArray=function(e,t){!e||t.length%16!==0||this.gl.uniformMatrix4fv(e,!1,t)},o.setTexture=function(e,t,r){if(e){this.gl.activeTexture(this.gl.TEXTURE0+t);var a=r.target;this.gl.bindTexture(a,r.textureBuffer),this.gl.uniform1i(e,t)}},o.getUniforms=function(e,t){for(var r=[],a=0;a<t.length;a++)r.push(this.gl.getUniformLocation(e,t[a]));return r},o.setFloat4=function(e,t,r,a,s){e&&this.gl.uniform4f(e,t,r,a,s)},o.setFloat3=function(e,t,r,a){e&&this.gl.uniform3f(e,t,r,a)},o.setFloat2=function(e,t,r){e&&this.gl.uniform2f(e,t,r)},i}(),Km=function(i){pe(o,i);function o(e,t,r){var a;a=i.call(this)||this,a.canvas=e,a.temporaryRTs={};var s=Zr({preserveDrawingBuffer:void 0,alpha:!0,stencil:!0,antialias:!0,depth:!0,premultipliedAlpha:!0},r);a.context=new Nm(e,t,s);var l=a.context.gl;return at(l),a.engine=new ph(l),a.engine.renderer=Be(a),a.pipelineContext=new xd(a.engine,l),a.glRenderer=new ld(a.engine),a.extension=new md(Be(a)),a.renderingData={currentFrame:{}},a.framebuffer=new gh({storeAction:{},viewport:[0,0,a.width,a.height],attachments:[new Ws(a.engine,{sourceType:wr.framebuffer,data:{width:a.width,height:a.height}})],depthStencilAttachment:{storageType:Pi.none}},Be(a)),a}var n=o.prototype;return n.renderRenderFrame=function(t){var r,a=t;a.resource&&a.resource.color_b.initialize(),a.emptyTexture.initialize(),a.transparentTexture.initialize();var s=a._renderPasses;if(this.isDestroyed){console.error("Renderer is destroyed, target: GLRenderer.");return}(r=a.renderer.getShaderLibrary())==null||r.compileAllShaders(),this.setFramebuffer(null),this.clear(a.clearAction);var l=a.camera;this.renderingData.currentFrame=a,this.renderingData.currentCamera=l,this.setGlobalMatrix("effects_MatrixInvV",l.getInverseViewMatrix()),this.setGlobalMatrix("effects_MatrixV",l.getViewMatrix()),this.setGlobalMatrix("effects_MatrixVP",l.getViewProjectionMatrix()),this.setGlobalMatrix("_MatrixP",l.getProjectionMatrix()),this.setGlobalVector3("effects_WorldSpaceCameraPos",l.position),me(s);for(var u=Fe(s),h;!(h=u()).done;){var m=h.value,v=m.delegate;v.willBeginRenderPass==null||v.willBeginRenderPass.call(v,m,this.renderingData),this.renderRenderPass(m),v.didEndRenderPass==null||v.didEndRenderPass.call(v,m,this.renderingData)}for(var p=Fe(s),b;!(b=p()).done;){var x=b.value;x.frameCleanup(this)}},n.renderRenderPass=function(t){this.renderingData.currentPass=t,t.initialize(this),t.configure(this),t.execute(this)},n.renderMeshes=function(t){for(var r=this.renderingData.currentPass.delegate,a=Fe(t),s;!(s=a()).done;){var l=s.value;r.willRenderMesh==null||r.willRenderMesh.call(r,l,this.renderingData),l.render(this),r.didRenderMesh==null||r.didRenderMesh.call(r,l,this.renderingData)}},n.setGlobalFloat=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.floats[t]=r},n.setGlobalVector4=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.vector4s[t]=r},n.getGlobalVector4=function(t){return this.renderingData.currentFrame.globalUniforms.vector4s[t]},n.setGlobalInt=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.ints[t]=r},n.setGlobalMatrix=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.matrices[t]=r},n.setGlobalVector3=function(t,r){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.vector3s[t]=r},n.drawGeometry=function(t,r,a){if(a===void 0&&(a=0),!(!t||!r)){r.initialize(),t.initialize(),t.flush();var s=this.renderingData;s.currentFrame.editorTransform&&r.setVector4("uEditorTransform",s.currentFrame.editorTransform);try{r.use(this,s.currentFrame.globalUniforms)}catch(l){console.error(l);return}this.glRenderer.drawGeometry(t,r,a)}},n.setFramebuffer=function(t){t?(this.framebuffer=t,this.framebuffer.bind(),this.setViewport(t.viewport[0],t.viewport[1],t.viewport[2],t.viewport[3])):(this.pipelineContext.bindSystemFramebuffer(),this.setViewport(0,0,this.getWidth(),this.getHeight()))},n.getFramebuffer=function(){return this.framebuffer},n.getTemporaryRT=function(t,r,a,s,l,u){if(this.temporaryRTs[t])return this.temporaryRTs[t];var h,m,v=Pi.none;l===go.Linear?h=D.LINEAR:l===go.Nearest&&(h=D.NEAREST),u===Ps.RGBA32?m=D.UNSIGNED_BYTE:u===Ps.RGBAHalf&&(m=D.HALF_FLOAT),s===0?v=Pi.none:s===16?v=Pi.depth_16_opaque:s===24&&(v=Pi.depth_24_stencil_8_texture);var p=new Ws(this.engine,{sourceType:wr.framebuffer,minFilter:h,magFilter:h,internalFormat:D.RGBA,format:D.RGBA,type:m}),b=new gh({name:t,storeAction:{},viewport:[0,0,r,a],viewportScale:1,isCustomViewport:!0,attachments:[p],depthStencilAttachment:{storageType:v}},this);return this.temporaryRTs[t]=b,b},n.setViewport=function(t,r,a,s){this.pipelineContext.viewport(t,r,a,s)},n.clear=function(t){var r=this.pipelineContext,a=0;if(t.colorAction===si.clear){var s=t.clearColor;s&&r.clearColor(s[0],s[1],s[2],s[3]),r.colorMask(!0,!0,!0,!0),a=D.COLOR_BUFFER_BIT}if(t.stencilAction===si.clear&&(r.stencilMask(255),r.clearStencil(t.clearStencil||0),a=a|D.STENCIL_BUFFER_BIT),t.depthAction===si.clear){var l=t.clearDepth;r.depthMask(!0),r.clearDepth(Number.isFinite(l)?l:1),a=a|D.DEPTH_BUFFER_BIT}a&&r.clear(a)},n.addLostHandler=function(t){this.context.addLostHandler(t)},n.addRestoreHandler=function(t){this.context.addRestoreHandler(t)},n.getShaderLibrary=function(){return this.pipelineContext.shaderLibrary},n.getWidth=function(){return this.width},n.getHeight=function(){return this.height},n.dispose=function(){var t;this.context.dispose(),this.extension.dispose(),this.pipelineContext.dispose(),(t=this.glRenderer)==null||t.dispose(),this.canvas=null,this.engine.dispose()},n.lost=function(t){t.preventDefault(),this.pipelineContext.dispose(),this.extension.dispose(),this.glRenderer.lost(t)},n.restore=function(){var t=this.context.gl;if(!t)throw new Error("Can not restore automatically because losing gl context.");this.engine=new ph(t),this.engine.renderer=this,this.pipelineContext=new xd(this.engine,t),this.glRenderer=new ld(this.engine),this.extension=new md(this)},n.resize=function(t,r){var a=this.glRenderer;a&&(this.width!==t||this.height!==r)&&a.resize(t,r)},n.checkGlobalUniform=function(t){var r=this.renderingData.currentFrame.globalUniforms;r.uniforms.includes(t)||r.uniforms.push(t)},gr(o,[{key:"isDestroyed",get:function(){var t=this.glRenderer;return t?t.isDestroyed:!0}},{key:"height",get:function(){var t,r;return(r=(t=this.glRenderer)==null?void 0:t.height)!=null?r:0}},{key:"width",get:function(){var t,r;return(r=(t=this.glRenderer)==null?void 0:t.width)!=null?r:0}}]),o}(Es),gl={"Container size overflowed":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#MvjnY","DPI overflowed":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#ulfNT","Invalid container size":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#lLlSW","Container is not an HTMLElement":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#WZaWg","Never use destroyed player again":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#YSWQr","Current running player count":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#IzodZ","Create player with different WebGL version":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#X0ulg"};function Qm(){var i=/iPhone OS (\d+)_(\d+)/,o=i.exec(navigator.userAgent);return o?o[1]==="13"||o[1]==="16"&&o[2]==="5":!1}function Jm(i){throw new Error(i)}function qm(i){return Promise.reject(i)}var yl=new Map,Cd=!1,ev=1,tv=function(i){pe(o,i);function o(e){var t;t=i.call(this)||this,t.builtinObjects=[],t.compositions=[],t.displayScale=1,t.resumePending=!1,t.disposed=!1,t.assetManagers=[],t.speed=1,t.baseCompositionIndex=0,t.lost=function(ie){var oe;(oe=t.ticker)==null||oe.pause(),t.compositions.forEach(function(Qe){return Qe.lost(ie)}),t.renderer.lost(ie),t.emit("webglcontextlost",ie),xh(Be(t),!1)};var r=Be(t);t.restore=M(function(){var ie;return J(this,function(oe){switch(oe.label){case 0:return r.renderer.restore(),[4,Promise.all(r.compositions.map(M(function(Qe){var Je,st,ft,At,Wt,Zt,Kt,qt,_t,_r,sr,Or;return J(this,function(Qr){switch(Qr.label){case 0:return Je=Qe.time,st=Qe.url,ft=Qe.speed,At=Qe.keepResource,Wt=Qe.reusable,Zt=Qe.renderOrder,Kt=Qe.transform,qt=Qe.videoState,[4,r.loadScene(st)];case 1:_t=Qr.sent(),_t.speed=ft,_t.reusable=Wt,_t.keepResource=At,_t.renderOrder=Zt,_t.transform.setPosition(Kt.position.x,Kt.position.y,Kt.position.z),_t.transform.setRotation(Kt.rotation.x,Kt.rotation.y,Kt.rotation.z),_t.transform.setScale(Kt.scale.x,Kt.scale.y,Kt.scale.z),_r=0,Qr.label=2;case 2:return _r<qt.length?qt[_r]?(sr=_t.textures[_r].source.video,sr.currentTime=(Or=qt[_r])!=null?Or:0,[4,sr.play()]):[3,4]:[3,5];case 3:Qr.sent(),Qr.label=4;case 4:return _r++,[3,2];case 5:return _t.isEnded=!1,_t.gotoAndPlay(Je),[2,_t]}})})))];case 1:return r.compositions=oe.sent(),r.emit("webglcontextrestored"),(ie=r.ticker)==null||ie.resume(),vt()&&r.canvas&&(r.canvas.style.display="none",window.setTimeout(function(){r.canvas.style.display=""},0)),[2]}})}),t.handleResume=function(){t.emit("update",{player:Be(t),playing:!0})},t.handleClick=function(ie){var oe=ie.x,Qe=ie.y;t.compositions.forEach(function(Je){var st=Je.hitTest(oe,Qe);if(st.length)for(var ft=0;ft<st.length;ft++){var At=st[ft].behavior||gn.NOTIFY;At===gn.NOTIFY?(t.emit("click",Zr({},st[ft],{compositionId:Je.id,compositionName:Je.name,player:Be(t)})),Je.emit("click",Zr({},st[ft],{compositionId:Je.id,compositionName:Je.name}))):At===gn.RESUME_PLAYER&&t.resume()}})};var a=e.container,s=e.canvas,l=e.fps,u=e.name,h=e.pixelRatio,m=e.manualRender,v=e.reportGPUTime,p=e.renderFramework,b=e.notifyTouch,x=e.interactive,I=x===void 0?!1:x,B=e.renderOptions,F=B===void 0?{}:B,R=e.env,X=R===void 0?"":R,k=F.willCaptureImage,H=F.premultipliedAlpha;if(co.length)throw new Error("Errors before player create: "+co.map(function(ie,oe){return`
 `+(oe+1)+": "+ie})+".");if(Cd||p==="debug-disable")return _h(t);var ee=ae()||Qm()?"webgl":"webgl2";return p&&(ee=p==="webgl"?"webgl":"webgl2"),t.reportGPUTime=v,t.pixelRatio=Number.isFinite(h)?h:Qt(),t.offscreenMode=!0,t.env=X,t.name=u||""+ev++,s?t.canvas=s:(Ed(a),t.canvas=document.createElement("canvas"),a.appendChild(t.canvas)),t.container=t.canvas.parentElement,t.renderer=Es.create(t.canvas,ee,{preserveDrawingBuffer:k,premultipliedAlpha:H}),t.renderer.env=X,t.renderer.addLostHandler({lost:t.lost}),t.renderer.addRestoreHandler({restore:t.restore}),t.gpuCapability=t.renderer.engine.gpuCapability,t.builtinObjects.push(Ti(t.renderer.engine)),yl.forEach(function(ie){ie.gpuCapability.type!==t.gpuCapability.type&&ke.warn("Create player with different WebGL version: old="+ie.gpuCapability.type+", new="+t.gpuCapability.type+`.
see `+gl["Create player with different WebGL version"]+".")}),m||(t.ticker=new Em(l),t.ticker.add(t.tick.bind(Be(t)))),t.event=new Xu(t.canvas,!!b),t.event.bindListeners(),t.event.addEventListener(ru,t.handleClick),t.interactive=I,t.resize(),sl(t.gpuCapability.detail),yl.set(t.canvas,Be(t)),rv(),xh(Be(t),!0),t}var n=o.prototype;return n.setSpeed=function(t){isNaN(t)||(this.speed=t)},n.getSpeed=function(){return this.speed},n.getCompositionByName=function(t){return this.compositions.find(function(r){return r.name===t})},n.getCompositions=function(){return this.compositions},n.getAssetManager=function(){return this.assetManagers},n.loadScene=function(t,r){var a=this;return M(function(){var s,l,u;return J(this,function(h){switch(h.label){case 0:return u=a.baseCompositionIndex,Ur(t)?(a.baseCompositionIndex+=t.length,[4,Promise.all(t.map(M(function(m,v){var p;return J(this,function(b){switch(b.label){case 0:return[4,a.createComposition(m,r)];case 1:return p=b.sent(),p.setIndex(u+v),[2,p]}})})))]):[3,2];case 1:return l=h.sent(),[3,4];case 2:return a.baseCompositionIndex+=1,[4,a.createComposition(t,r)];case 3:l=h.sent(),l.setIndex(u),h.label=4;case 4:return(s=a.ticker)==null||s.start(),[2,l]}})})()},n.createComposition=function(t,r){r===void 0&&(r={});var a=this;return M(function(){var s,l,u,h,m,v,p,b,x,I,B,F,R,X,k,H,ee,ie,oe,Qe,Je,st,ft;return J(this,function(At){switch(At.label){case 0:return u=a.renderer,h=u.engine,m=(l=h.gpuCapability)==null||(s=l.detail)==null?void 0:s.asyncShaderCompile,v=performance.now(),p=Zr({autoplay:!0},r),b=t,Ul.isURL(t)&&(Ul.isJSONObject(t)||(b=t.url),Ul.isWithOptions(t)&&(p=Zr({},p,t.options))),x=new Wh(p),h.clearResources(),a.assetManagers.push(x),[4,x.loadScene(b,a.renderer,{env:a.env})];case 1:for(I=At.sent(),h.addPackageDatas(I),B=Fe(a.builtinObjects);!(F=B()).done;)R=F.value,h.addInstance(R);if(a.updateTextVariables(I,p.variables),a.disposed)throw new Error("Disposed player can not used to create Composition.");for(X=0;X<I.textureOptions.length;X++)k=I.textureOptions[X],U(k,Pr)?h.addInstance(k):(k=h.assetLoader.loadGUID(I.textureOptions[X].id),I.textureOptions[X]=k),k.initialize();return h.database?[4,h.createVFXItems(I)]:[3,3];case 2:At.sent(),At.label=3;case 3:if(H=new bm(Zr({},p,{renderer:u,width:u.getWidth(),height:u.getHeight(),event:a.event,handleItemMessage:function(Wt){a.emit("message",Wt)}}),I),a.ticker&&p.renderLevel===Yt.B&&a.ticker.setFPS(Math.min(a.ticker.getFPS(),30)),a.env!==Mo)for(ee=Fe(Object.keys(a.renderer.engine.objectInstance));!(ie=ee()).done;)oe=ie.value,Qe=a.renderer.engine.objectInstance[oe],U(Qe,Xn)&&Qe.createShaderVariant();return Je=performance.now(),[4,new Promise(function(Wt){var Zt;(Zt=a.renderer.getShaderLibrary())==null||Zt.compileAllShaders(function(){Wt(null)})})];case 4:return At.sent(),p.autoplay?(a.autoPlaying=!0,H.play()):H.pause(),st=performance.now()-Je,ft=performance.now()-v,H.statistic.compileTime=st,H.statistic.firstFrameTime=ft,ke.info("Shader "+(m?"async":"sync")+" compile ["+H.name+"]: "+st.toFixed(4)+"ms."),ke.info("First frame ["+H.name+"]: "+ft.toFixed(4)+"ms."),a.compositions.push(H),[2,H]}})})()},n.updateTextVariables=function(t,r){r===void 0&&(r={});var a=this.renderer,s=a.engine;t.jsonScene.items.forEach(function(l){if(l.type===ze.text||l.type===ze.richtext){var u=r[l.name];if(!u)return;l.components.forEach(function(h){var m=h.id,v=s.findEffectsObjectData(m);((v==null?void 0:v.dataType)===Ct.TextComponent||(v==null?void 0:v.dataType)===Ct.RichTextComponent)&&(v.options.text=u)})}})},n.play=function(){var t;this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!0,this.compositions.map(function(r){r.play()}),(t=this.ticker)==null||t.start()},n.gotoAndPlay=function(t){this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!0,this.compositions.map(function(r){r.gotoAndPlay(t)}),this.ticker?this.ticker.start():this.doTick(0,!0)},n.gotoAndStop=function(t){var r;this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!1,this.compositions.map(function(a){a.gotoAndStop(t)}),(!this.ticker||(r=this.ticker)!=null&&r.getPaused())&&this.doTick(0,!0),this.emit("update",{player:this,playing:!1})},n.playSequence=function(t){for(var r=function(l){t[l].on("end",function(){t[l+1].play()})},a,s=0;s<t.length-1;s++)r(s);t[0].play(),(a=this.ticker)==null||a.start()},n.pause=function(t){var r;this.paused||((r=this.ticker)==null||r.pause(),this.emit("pause"),this.emit("update",{player:this,playing:!1}),t&&t.offloadTexture&&this.offloadTexture())},n.resume=function(){var t=this;return M(function(){var r;return J(this,function(a){switch(a.label){case 0:return t.resumePending?[2]:t.paused?(t.resumePending=!0,[4,Promise.all(t.compositions.map(function(s){return s.reloadTexture()}))]):[3,2];case 1:a.sent(),t.resumePending=!1,t.handleResume(),a.label=2;case 2:return(r=t.ticker)==null||r.resume(),[2]}})})()},n.tick=function(t){this.doTick(t,this.forceRenderNextFrame),this.forceRenderNextFrame=!1},n.doTick=function(t,r){var a=this,s=this.renderer.engine.renderErrors;if(s.size>0){var l;this.emit("rendererror",s.values().next().value),(l=this.ticker)==null||l.pause()}t=Math.min(t,33)*this.speed;var u=this.compositions,h=!1;u.sort(function(R,X){return R.getIndex()-X.getIndex()});for(var m=[],v=0;v<u.length;v++){var p=u[v];if(p.textureOffloaded){h=!0,ke.error("Composition "+p.name+" texture offloaded, skip render."),m.push(p);continue}!p.isDestroyed&&p.renderer&&p.update(t),p.isDestroyed||m.push(p)}if(this.compositions=m,this.baseCompositionIndex=this.compositions.length,h){var b;return this.emit("rendererror",new Error("Play when texture offloaded.")),(b=this.ticker)==null?void 0:b.pause()}if(!this.paused||r){var x=this.gpuCapability.level,I=this.renderer.context.gl,B=x===2&&this.reportGPUTime?to(I):void 0;if(B==null||B.begin(),this.compositions.length||this.compositions.length<u.length||r){this.renderer.setFramebuffer(null),this.renderer.clear({stencilAction:si.clear,clearStencil:0,depthAction:si.clear,clearDepth:1,colorAction:si.clear,clearColor:[0,0,0,0]});for(var F=0;F<u.length;F++)!u[F].renderFrame.isDestroyed&&this.renderer.renderRenderFrame(u[F].renderFrame)}B==null||B.end(),B==null||B.getTime().then(function(R){return a.reportGPUTime==null?void 0:a.reportGPUTime.call(a,R!=null?R:0)}).catch,this.autoPlaying&&this.emit("update",{player:this,playing:!0})}},n.resizeToAspect=function(t,r){r===void 0&&(r=1),t!==this.displayAspect&&(this.displayAspect=t),r!==this.displayScale&&(this.displayScale=r),this.resize()},n.resize=function(){var t=this.canvas.parentElement,r,a,s,l;if(t){var u=this.getTargetSize(t);r=u[0],a=u[1],s=u[2],l=u[3]}else r=s=this.canvas.width,a=l=this.canvas.height;var h=r/a;if(r&&a){var m,v=document.documentElement.clientWidth;s>v*2&&ke.error("DPI overflowed, width "+s+" is more than 2x document width "+v+", see "+gl["DPI overflowed"]+".");var p=this.env?this.gpuCapability.detail.maxTextureSize:2048;(s>p||l>p)&&(ke.error("Container size overflowed "+s+"x"+l+", see "+gl["Container size overflowed"]+"."),h>1?(s=Math.round(p),l=Math.round(p/h)):(l=Math.round(p),s=Math.round(p*h))),this.renderer.resize(s,l),this.canvas.style.width=r+"px",this.canvas.style.height=a+"px",ke.info("Resize player "+this.name+" ["+s+","+l+","+r+","+a+"]."),(m=this.compositions)==null||m.forEach(function(b){b.camera.aspect=h})}},n.clearCanvas=function(t){t?this.renderer.clear({stencilAction:si.clear,clearStencil:0,depthAction:si.clear,clearDepth:1,colorAction:si.clear,clearColor:[0,0,0,0]}):this.forceRenderNextFrame=!0},n.destroyCurrentCompositions=function(){this.compositions.forEach(function(t){return t.dispose()}),this.compositions.length=0,this.baseCompositionIndex=0},n.dispose=function(t){var r;if(ke.info("Call player destroyed: "+this.name+"."),!this.disposed){yl.delete(this.canvas),this.pause(),(r=this.ticker)==null||r.stop(),this.assetManagers.forEach(function(u){return u.dispose()}),this.compositions.forEach(function(u){return u.dispose()}),this.compositions.length=0,this.renderer&&(this.renderer.context.removeLostHandler({lost:this.lost}),this.renderer.context.removeRestoreHandler({restore:this.restore}),this.renderer.dispose(!t)),this.event&&this.event.dispose(),this.destroyBuiltinObjects(),xh(this,!1),U(this.canvas,HTMLCanvasElement)&&!t&&this.renderer.context&&(jc.dispose(),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas.remove());var a=nv(this.name),s=function(){return Jm(a)},l=function(){return qm(a)};this.tick=s,this.resize=s,this.loadScene=l,this.play=l,this.gotoAndPlay=l,this.gotoAndStop=l,this.playSequence=s,this.destroyCurrentCompositions=s,this.resume=l,this.disposed=!0}},n.offloadTexture=function(){this.compositions.forEach(function(t){return t.offloadTexture()})},n.getTargetSize=function(t){Ed(t);var r=this.displayAspect,a=window.getComputedStyle==null?void 0:window.getComputedStyle.call(window,t),s,l,u=0,h=0;if(a?(u=parseInt(a.width,10),h=parseInt(a.height,10)):(u=t.clientWidth,h=t.clientHeight),r){var m=u/h;m>r?(l=h*this.displayScale,s=l*r):(s=u*this.displayScale,l=s/r)}else s=u,l=h;var v=this.pixelRatio,p=s,b=l;if(s=Math.round(s*v),l=Math.round(l*v),l<1||l<1)if(this.offscreenMode)s=l=p=b=1;else throw new Error("Invalid container size "+s+"x"+l+", see "+gl["Invalid container size"]+".");return[p,b,s,l]},n.destroyBuiltinObjects=function(){for(var t=Fe(this.builtinObjects),r;!(r=t()).done;){var a=r.value;a.dispose()}this.builtinObjects.length=0},gr(o,[{key:"compositionCount",get:function(){return this.compositions.length}},{key:"hasPlayable",get:function(){return this.compositions.length>0}},{key:"paused",get:function(){var t;return(t=this.ticker)==null?void 0:t.getPaused()}},{key:"interactive",get:function(){return this.event.enabled},set:function(t){this.event.enabled=t}}]),o}(au);function cv(i){Cd=!!i}function fv(i){return yl.has(i)}function hv(i){return yl.get(i)}function dv(){return Array.from(yl.values())}function xh(i,o){Object.keys(q).forEach(function(n){var e=q[n],t=o?e.onPlayerCreated:e.onPlayerDestroy;t==null||t(i)})}function rv(){for(var i=[],o=Fe(yl.values()),n;!(n=o()).done;){var e=n.value;e.paused||i.push(e)}i.length>1&&ke.error("Current running player count: "+i.length+", see "+gl["Current running player count"]+".",i)}function Ed(i){if(i==null)throw new Error("Container is not an HTMLElement, see "+gl["Container is not an HTMLElement"]+".")}function nv(i){return"Never use destroyed player: "+i+" again, see "+gl["Never use destroyed player again"]+"."}Pr.create=function(i,o){return new Ws(i,o)},Pr.createWithData=function(i,o,n){o===void 0&&(o=Ye("#fff")),n===void 0&&(n={});var e=n.type,t=e===void 0?D.UNSIGNED_BYTE:e,r=n.format,a=r===void 0?D.RGBA:r,s=n.internalFormat,l=n.wrapS,u=l===void 0?D.MIRRORED_REPEAT:l,h=n.wrapT,m=h===void 0?D.MIRRORED_REPEAT:h,v=n.minFilter,p=v===void 0?D.NEAREST:v,b=n.magFilter,x=b===void 0?D.NEAREST:b,I=n.flipY,B=I===void 0?!1:I,F=new Ws(i,{data:o,type:t,sourceType:wr.data,format:a,internalFormat:s||a,wrapS:u,wrapT:m,minFilter:p,magFilter:x,flipY:B});return F},Xn.create=function(i,o){return new dd(i,o)},Cr.create=function(i,o){return new cd(i,o)},aa.create=function(i,o){return new aa(i,o)},xs.create=function(i){return new pl(i)},Rs.create=function(i,o){return new gh(i,o)},Es.create=function(i,o,n){return new Km(i,o,n)},ad.create=function(i){return new ph(i)};var iv="2.2.2";ke.info("Player version: "+iv+".")},49068:function($t,we,E){"use strict";E.d(we,{E:function(){return Ph}});function y(c){if(typeof Proxy=="undefined")return c;const f=new Map,d=(...g)=>c(...g);return new Proxy(d,{get:(g,C)=>C==="create"?c:(f.has(C)||f.set(C,c(C)),f.get(C))})}function M(c){return c!==null&&typeof c=="object"&&typeof c.start=="function"}const U=c=>Array.isArray(c);function xe(c,f){if(!Array.isArray(f))return!1;const d=f.length;if(d!==c.length)return!1;for(let g=0;g<d;g++)if(f[g]!==c[g])return!1;return!0}function te(c){return typeof c=="string"||Array.isArray(c)}function J(c){const f=[{},{}];return c==null||c.values.forEach((d,g)=>{f[0][g]=d.get(),f[1][g]=d.getVelocity()}),f}function w(c,f,d,g){if(typeof f=="function"){const[C,A]=J(g);f=f(d!==void 0?d:c.custom,C,A)}if(typeof f=="string"&&(f=c.variants&&c.variants[f]),typeof f=="function"){const[C,A]=J(g);f=f(d!==void 0?d:c.custom,C,A)}return f}function ne(c,f,d){const g=c.getProps();return w(g,f,d!==void 0?d:g.custom,c)}const W=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Z=["initial",...W];function ce(c){let f;return()=>(f===void 0&&(f=c()),f)}const Ce=ce(()=>window.ScrollTimeline!==void 0);class de{constructor(f){this.stop=()=>this.runAll("stop"),this.animations=f.filter(Boolean)}get finished(){return Promise.all(this.animations.map(f=>"finished"in f?f.finished:f))}getAll(f){return this.animations[0][f]}setAll(f,d){for(let g=0;g<this.animations.length;g++)this.animations[g][f]=d}attachTimeline(f,d){const g=this.animations.map(C=>{if(Ce()&&C.attachTimeline)return C.attachTimeline(f);if(typeof d=="function")return d(C)});return()=>{g.forEach((C,A)=>{C&&C(),this.animations[A].stop()})}}get time(){return this.getAll("time")}set time(f){this.setAll("time",f)}get speed(){return this.getAll("speed")}set speed(f){this.setAll("speed",f)}get startTime(){return this.getAll("startTime")}get duration(){let f=0;for(let d=0;d<this.animations.length;d++)f=Math.max(f,this.animations[d].duration);return f}runAll(f){this.animations.forEach(d=>d[f]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class je extends de{then(f,d){return Promise.all(this.animations).then(f).catch(d)}}function Ot(c,f){return c?c[f]||c.default||c:void 0}const rt=2e4;function fe(c){let f=0;const d=50;let g=c.next(f);for(;!g.done&&f<rt;)f+=d,g=c.next(f);return f>=rt?1/0:f}function Ne(c){return typeof c=="function"}function Ve(c,f){c.timeline=f,c.onfinish=null}const et=c=>Array.isArray(c)&&typeof c[0]=="number",tt={linearEasing:void 0};function Xe(c,f){const d=ce(c);return()=>{var g;return(g=tt[f])!==null&&g!==void 0?g:d()}}const Ue=Xe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(c){return!1}return!0},"linearEasing"),Mt=(c,f,d)=>{const g=f-c;return g===0?1:(d-c)/g},Qt=(c,f,d=10)=>{let g="";const C=Math.max(Math.round(f/d),2);for(let A=0;A<C;A++)g+=c(Mt(0,C-1,A))+", ";return`linear(${g.substring(0,g.length-2)})`};function vt(c){return!!(typeof c=="function"&&Ue()||!c||typeof c=="string"&&(c in ae||Ue())||et(c)||Array.isArray(c)&&c.every(vt))}const he=([c,f,d,g])=>`cubic-bezier(${c}, ${f}, ${d}, ${g})`,ae={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:he([0,.65,.55,1]),circOut:he([.55,0,1,.45]),backIn:he([.31,.01,.66,-.59]),backOut:he([.33,1.53,.69,.99])};function xt(c,f){if(c)return typeof c=="function"&&Ue()?Qt(c,f):et(c)?he(c):Array.isArray(c)?c.map(d=>xt(d,f)||ae.easeOut):ae[c]}const Pe={x:!1,y:!1};function Pt(){return Pe.x||Pe.y}function Lt(c,f,d){var g;if(c instanceof Element)return[c];if(typeof c=="string"){let C=document;f&&(C=f.current);const A=(g=d==null?void 0:d[c])!==null&&g!==void 0?g:C.querySelectorAll(c);return A?Array.from(A):[]}return Array.from(c)}function Ye(c,f){const d=Lt(c),g=new AbortController,C=gi(nr({passive:!0},f),{signal:g.signal});return[d,C,()=>g.abort()]}function Le(c){return!(c.pointerType==="touch"||Pt())}function Y(c,f,d={}){const[g,C,A]=Ye(c,d),O=L=>{if(!Le(L))return;const{target:V}=L,j=f(V,L);if(typeof j!="function"||!V)return;const K=ge=>{Le(ge)&&(j(ge),V.removeEventListener("pointerleave",K))};V.addEventListener("pointerleave",K,C)};return g.forEach(L=>{L.addEventListener("pointerenter",O,C)}),A}const me=(c,f)=>f?c===f?!0:me(c,f.parentElement):!1,Ee=c=>c.pointerType==="mouse"?typeof c.button!="number"||c.button<=0:c.isPrimary!==!1,Ge=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gt(c){return Ge.has(c.tagName)||c.tabIndex!==-1}const at=new WeakSet;function Ze(c){return f=>{f.key==="Enter"&&c(f)}}function De(c,f){c.dispatchEvent(new PointerEvent("pointer"+f,{isPrimary:!0,bubbles:!0}))}const We=(c,f)=>{const d=c.currentTarget;if(!d)return;const g=Ze(()=>{if(at.has(d))return;De(d,"down");const C=Ze(()=>{De(d,"up")}),A=()=>De(d,"cancel");d.addEventListener("keyup",C,f),d.addEventListener("blur",A,f)});d.addEventListener("keydown",g,f),d.addEventListener("blur",()=>d.removeEventListener("keydown",g),f)};function er(c){return Ee(c)&&!Pt()}function Ft(c,f,d={}){const[g,C,A]=Ye(c,d),O=L=>{const V=L.currentTarget;if(!er(L)||at.has(V))return;at.add(V);const j=f(V,L),K=(ut,ht)=>{window.removeEventListener("pointerup",ge),window.removeEventListener("pointercancel",Me),!(!er(ut)||!at.has(V))&&(at.delete(V),typeof j=="function"&&j(ut,{success:ht}))},ge=ut=>{K(ut,d.useGlobalTarget||me(V,ut.target))},Me=ut=>{K(ut,!1)};window.addEventListener("pointerup",ge,C),window.addEventListener("pointercancel",Me,C)};return g.forEach(L=>{!gt(L)&&L.getAttribute("tabindex")===null&&(L.tabIndex=0),(d.useGlobalTarget?window:L).addEventListener("pointerdown",O,C),L.addEventListener("focus",j=>We(j,C),C)}),A}const or="easeOut";function Ar(c){var f;if(isGenerator(c.type)){const d=createGeneratorEasing(c,100,c.type);c.ease=supportsLinearEasing()?d.ease:or,c.duration=secondsToMilliseconds(d.duration),c.type="keyframes"}else c.duration=secondsToMilliseconds((f=c.duration)!==null&&f!==void 0?f:.3),c.ease=c.ease||or}function $r(c,f,d){var g;const C={},A={fill:"both",easing:"linear",composite:"replace"};A.delay=secondsToMilliseconds((g=d.delay)!==null&&g!==void 0?g:0),Ar(d),A.duration=d.duration;const{ease:O,times:L}=d;L&&(C.offset=L),C[c]=f;const V=mapEasingToNativeEasing(O,d.duration);return Array.isArray(V)?C.easing=V:A.easing=V,{keyframes:C,options:A}}class qe extends null{constructor(f,d,g,C,A){const O=convertMotionOptionsToNative(g,C,A),L=f.animate(O.keyframes,nr({pseudoElement:d},O.options));super(L)}}let ke={},Et=null;const cr={set:(c,f)=>{ke[c]=f},commit:()=>{Et||(Et=document.createElement("style"),Et.id="motion-view");let c="";for(const f in ke){const d=ke[f];c+=`${f} {
`;for(const[g,C]of Object.entries(d))c+=`  ${g}: ${C};
`;c+=`}
`}Et.textContent=c,document.head.appendChild(Et),ke={}},remove:()=>{Et&&Et.parentElement&&Et.parentElement.removeChild(Et)}},Lr=null;function Ur(c,f,d){if(!document.startViewTransition)return new Promise(C=>Sh(this,null,function*(){yield c(),C(new BaseGroupPlaybackControls([]))}));hasTarget("root",d)||css.set(":root",{"view-transition-name":"none"}),css.set("::view-transition-group(*), ::view-transition-old(*), ::view-transition-new(*)",{"animation-timing-function":"linear !important"}),css.commit();const g=document.startViewTransition(()=>Sh(this,null,function*(){yield c()}));return g.finished.finally(()=>{css.remove()}),new Promise(C=>{g.ready.then(()=>{var A;const O=getViewAnimations(),L=[];d.forEach((V,j)=>{for(const K of Lr){if(!V[K])continue;const{keyframes:ge,options:Me}=V[K];for(let[ut,ht]of Object.entries(ge)){if(!ht)continue;const Ut=nr(nr({},getValueTransition(f,ut)),getValueTransition(Me,ut)),dr=chooseLayerType(K);ut==="opacity"&&!Array.isArray(ht)&&(ht=[dr==="new"?0:1,ht]),typeof Ut.delay=="function"&&(Ut.delay=Ut.delay(0,1));const ur=new PseudoAnimation(document.documentElement,`::view-transition-${dr}(${j})`,ut,ht,Ut);L.push(ur)}}});for(const V of O){if(V.playState==="finished")continue;const{effect:j}=V;if(!j||!(j instanceof KeyframeEffect))continue;const{pseudoElement:K}=j;if(!K)continue;const ge=getLayerName(K);if(!ge)continue;const Me=d.get(ge.layer);if(Me)yt(Me,"enter")&&yt(Me,"exit")&&j.getKeyframes().some(ut=>ut.mixBlendMode)?L.push(new NativeAnimationControls(V)):V.cancel();else{const ut=ge.type==="group"?"layout":"",ht=nr({},getValueTransition(f,ut));applyGeneratorOptions(ht);const Ut=mapEasingToNativeEasing(ht.ease,ht.duration);j.updateTiming({delay:secondsToMilliseconds((A=ht.delay)!==null&&A!==void 0?A:0),duration:ht.duration,easing:Ut}),L.push(new NativeAnimationControls(V))}}C(new BaseGroupPlaybackControls(L))})})}function yt(c,f){var d;return(d=c==null?void 0:c[f])===null||d===void 0?void 0:d.keyframes.opacity}class Te{constructor(f,d={}){this.currentTarget="root",this.targets=new Map,this.notifyReady=noop,this.readyPromise=new Promise(g=>{this.notifyReady=g}),queueMicrotask(()=>{startViewAnimation(f,d,this.targets).then(g=>this.notifyReady(g))})}get(f){return this.currentTarget=f,this}layout(f,d){return this.updateTarget("layout",f,d),this}new(f,d){return this.updateTarget("new",f,d),this}old(f,d){return this.updateTarget("old",f,d),this}enter(f,d){return this.updateTarget("enter",f,d),this}exit(f,d){return this.updateTarget("exit",f,d),this}crossfade(f){return this.updateTarget("enter",{opacity:1},f),this.updateTarget("exit",{opacity:0},f),this}updateTarget(f,d,g={}){const{currentTarget:C,targets:A}=this;A.has(C)||A.set(C,{});const O=A.get(C);O[f]={keyframes:d,options:g}}then(f,d){return this.readyPromise.then(f,d)}}function $e(c,f={}){return new Te(c,f)}function dt(c){return c==="x"||c==="y"?Pe[c]?null:(Pe[c]=!0,()=>{Pe[c]=!1}):Pe.x||Pe.y?null:(Pe.x=Pe.y=!0,()=>{Pe.x=Pe.y=!1})}const Dt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nt=new Set(Dt),re=new Set(["width","height","top","left","right","bottom",...Dt]),se=c=>!!(c&&typeof c=="object"&&c.mix&&c.toValue),q=c=>U(c)?c[c.length-1]||0:c,Re={skipAnimations:!1,useManualTiming:!1},Ae=c=>c;function Tt(c){let f=new Set,d=new Set,g=!1,C=!1;const A=new WeakSet;let O={delta:0,timestamp:0,isProcessing:!1};function L(j){A.has(j)&&(V.schedule(j),c()),j(O)}const V={schedule:(j,K=!1,ge=!1)=>{const ut=ge&&g?f:d;return K&&A.add(j),ut.has(j)||ut.add(j),j},cancel:j=>{d.delete(j),A.delete(j)},process:j=>{if(O=j,g){C=!0;return}g=!0,[f,d]=[d,f],f.forEach(L),f.clear(),g=!1,C&&(C=!1,V.process(j))}};return V}const jt=["read","resolveKeyframes","update","preRender","render","postRender"],Xt=40;function zt(c,f){let d=!1,g=!0;const C={delta:0,timestamp:0,isProcessing:!1},A=()=>d=!0,O=jt.reduce((ur,fn)=>(ur[fn]=Tt(A),ur),{}),{read:L,resolveKeyframes:V,update:j,preRender:K,render:ge,postRender:Me}=O,ut=()=>{const ur=Re.useManualTiming?C.timestamp:performance.now();d=!1,C.delta=g?1e3/60:Math.max(Math.min(ur-C.timestamp,Xt),1),C.timestamp=ur,C.isProcessing=!0,L.process(C),V.process(C),j.process(C),K.process(C),ge.process(C),Me.process(C),C.isProcessing=!1,d&&f&&(g=!1,c(ut))},ht=()=>{d=!0,g=!0,C.isProcessing||c(ut)};return{schedule:jt.reduce((ur,fn)=>{const pn=O[fn];return ur[fn]=(ui,Pn=!1,zi=!1)=>(d||ht(),pn.schedule(ui,Pn,zi)),ur},{}),cancel:ur=>{for(let fn=0;fn<jt.length;fn++)O[jt[fn]].cancel(ur)},state:C,steps:O}}const{schedule:Rt,cancel:mr,state:St,steps:pe}=zt(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ae,!0);let Yt;function Jt(){Yt=void 0}const ir={now:()=>(Yt===void 0&&ir.set(St.isProcessing||Re.useManualTiming?St.timestamp:performance.now()),Yt),set:c=>{Yt=c,queueMicrotask(Jt)}};function tr(c,f){c.indexOf(f)===-1&&c.push(f)}function rr(c,f){const d=c.indexOf(f);d>-1&&c.splice(d,1)}function xn([...c],f,d){const g=f<0?c.length+f:f;if(g>=0&&g<c.length){const C=d<0?c.length+d:d,[A]=c.splice(f,1);c.splice(C,0,A)}return c}class jr{constructor(){this.subscriptions=[]}add(f){return tr(this.subscriptions,f),()=>rr(this.subscriptions,f)}notify(f,d,g){const C=this.subscriptions.length;if(C)if(C===1)this.subscriptions[0](f,d,g);else for(let A=0;A<C;A++){const O=this.subscriptions[A];O&&O(f,d,g)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gn(c,f){return f?c*(1e3/f):0}const ze=30,ar=c=>!isNaN(parseFloat(c)),vr={current:void 0};class Tr{constructor(f,d={}){this.version="12.0.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(g,C=!0)=>{const A=ir.now();this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(g),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),C&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(f),this.owner=d.owner}setCurrent(f){this.current=f,this.updatedAt=ir.now(),this.canTrackVelocity===null&&f!==void 0&&(this.canTrackVelocity=ar(this.current))}setPrevFrameValue(f=this.current){this.prevFrameValue=f,this.prevUpdatedAt=this.updatedAt}onChange(f){return this.on("change",f)}on(f,d){this.events[f]||(this.events[f]=new jr);const g=this.events[f].add(d);return f==="change"?()=>{g(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:g}clearListeners(){for(const f in this.events)this.events[f].clear()}attach(f,d){this.passiveEffect=f,this.stopPassiveEffect=d}set(f,d=!0){!d||!this.passiveEffect?this.updateAndNotify(f,d):this.passiveEffect(f,this.updateAndNotify)}setWithVelocity(f,d,g){this.set(d),this.prev=void 0,this.prevFrameValue=f,this.prevUpdatedAt=this.updatedAt-g}jump(f,d=!0){this.updateAndNotify(f),this.prev=f,this.prevUpdatedAt=this.prevFrameValue=void 0,d&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return vr.current&&vr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const f=ir.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||f-this.updatedAt>ze)return 0;const d=Math.min(this.updatedAt-this.prevUpdatedAt,ze);return gn(parseFloat(this.current)-parseFloat(this.prevFrameValue),d)}start(f){return this.stop(),new Promise(d=>{this.hasAnimated=!0,this.animation=f(d),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function br(c,f){return new Tr(c,f)}function yn(c,f,d){c.hasValue(f)?c.getValue(f).set(d):c.addValue(f,br(d))}function Vn(c,f){let O=ne(c,f)||{},{transitionEnd:g={},transition:C={}}=O,A=Ao(O,["transitionEnd","transition"]);A=nr(nr({},A),g);for(const L in A){const V=q(A[L]);yn(c,L,V)}}const fr=c=>!!(c&&c.getVelocity);function Qn(c){return!!(fr(c)&&c.add)}function un(c,f){const d=c.getValue("willChange");if(Qn(d))return d.add(f)}const Wn=c=>c.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fi="data-"+Wn("framerAppearId");function Ei(c){return c.props[fi]}const ti=c=>c*1e3,dn=c=>c/1e3,Dr={current:!1},bt=(c,f,d)=>(((1-3*d+3*f)*c+(3*d-6*f))*c+3*f)*c,on=1e-7,Se=12;function Ke(c,f,d,g,C){let A,O,L=0;do O=f+(d-f)/2,A=bt(O,g,C)-c,A>0?d=O:f=O;while(Math.abs(A)>on&&++L<Se);return O}function It(c,f,d,g){if(c===f&&d===g)return Ae;const C=A=>Ke(A,0,1,c,d);return A=>A===0||A===1?A:bt(C(A),f,g)}const ot=c=>f=>f<=.5?c(2*f)/2:(2-c(2*(1-f)))/2,Vt=c=>f=>1-c(1-f),Rr=It(.33,1.53,.69,.99),Tn=Vt(Rr),G=ot(Tn),ye=c=>(c*=2)<1?.5*Tn(c):.5*(2-Math.pow(2,-10*(c-1))),Oe=c=>1-Math.sin(Math.acos(c)),ve=Vt(Oe),He=ot(Oe),wt=c=>/^0[^.\s]+$/u.test(c);function pr(c){return typeof c=="number"?c===0:c!==null?c==="none"||c==="0"||wt(c):!0}const xr=(c,f,d)=>d>f?f:d<c?c:d,Fr={test:c=>typeof c=="number",parse:parseFloat,transform:c=>c},Ht=gi(nr({},Fr),{transform:c=>xr(0,1,c)}),Sr=gi(nr({},Fr),{default:1}),Wr=c=>Math.round(c*1e5)/1e5,Vr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hn(c){return c==null}const Ct=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kr=(c,f)=>d=>!!(typeof d=="string"&&Ct.test(d)&&d.startsWith(c)||f&&!hn(d)&&Object.prototype.hasOwnProperty.call(d,f)),qr=(c,f,d)=>g=>{if(typeof g!="string")return g;const[C,A,O,L]=g.match(Vr);return{[c]:parseFloat(C),[f]:parseFloat(A),[d]:parseFloat(O),alpha:L!==void 0?parseFloat(L):1}},mn=c=>xr(0,255,c),sn=gi(nr({},Fr),{transform:c=>Math.round(mn(c))}),en={test:kr("rgb","red"),parse:qr("red","green","blue"),transform:({red:c,green:f,blue:d,alpha:g=1})=>"rgba("+sn.transform(c)+", "+sn.transform(f)+", "+sn.transform(d)+", "+Wr(Ht.transform(g))+")"};function tn(c){let f="",d="",g="",C="";return c.length>5?(f=c.substring(1,3),d=c.substring(3,5),g=c.substring(5,7),C=c.substring(7,9)):(f=c.substring(1,2),d=c.substring(2,3),g=c.substring(3,4),C=c.substring(4,5),f+=f,d+=d,g+=g,C+=C),{red:parseInt(f,16),green:parseInt(d,16),blue:parseInt(g,16),alpha:C?parseInt(C,16)/255:1}}const gr={test:kr("#"),parse:tn,transform:en.transform},Sn=c=>({test:f=>typeof f=="string"&&f.endsWith(c)&&f.split(" ").length===1,parse:parseFloat,transform:f=>`${f}${c}`}),yi=Sn("deg"),ri=Sn("%"),it=Sn("px"),Br=Sn("vh"),Di=Sn("vw"),Zi=gi(nr({},ri),{parse:c=>ri.parse(c)/100,transform:c=>ri.transform(c*100)}),Ni={test:kr("hsl","hue"),parse:qr("hue","saturation","lightness"),transform:({hue:c,saturation:f,lightness:d,alpha:g=1})=>"hsla("+Math.round(c)+", "+ri.transform(Wr(f))+", "+ri.transform(Wr(d))+", "+Wr(Ht.transform(g))+")"},wn={test:c=>en.test(c)||gr.test(c)||Ni.test(c),parse:c=>en.test(c)?en.parse(c):Ni.test(c)?Ni.parse(c):gr.parse(c),transform:c=>typeof c=="string"?c:c.hasOwnProperty("red")?en.transform(c):Ni.transform(c)},Jn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Si(c){var f,d;return isNaN(c)&&typeof c=="string"&&(((f=c.match(Vr))===null||f===void 0?void 0:f.length)||0)+(((d=c.match(Jn))===null||d===void 0?void 0:d.length)||0)>0}const ea="number",Yn="color",Zn="var",Xi="var(",Ma="${}",$a=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ma(c){const f=c.toString(),d=[],g={color:[],number:[],var:[]},C=[];let A=0;const L=f.replace($a,V=>(wn.test(V)?(g.color.push(A),C.push(Yn),d.push(wn.parse(V))):V.startsWith(Xi)?(g.var.push(A),C.push(Zn),d.push(V)):(g.number.push(A),C.push(ea),d.push(parseFloat(V))),++A,Ma)).split(Ma);return{values:d,split:L,indexes:g,types:C}}function Io(c){return ma(c).values}function wi(c){const{split:f,types:d}=ma(c),g=f.length;return C=>{let A="";for(let O=0;O<g;O++)if(A+=f[O],C[O]!==void 0){const L=d[O];L===ea?A+=Wr(C[O]):L===Yn?A+=wn.transform(C[O]):A+=C[O]}return A}}const lo=c=>typeof c=="number"?0:c;function qa(c){const f=Io(c);return wi(c)(f.map(lo))}const ai={test:Si,parse:Io,createTransformer:wi,getAnimatableNone:qa},Ln=new Set(["brightness","contrast","saturate","opacity"]);function Ie(c){const[f,d]=c.slice(0,-1).split("(");if(f==="drop-shadow")return c;const[g]=d.match(Vr)||[];if(!g)return c;const C=d.replace(g,"");let A=Ln.has(f)?1:0;return g!==d&&(A*=100),f+"("+A+C+")"}const Bn=/\b([a-z-]*)\(.*?\)/gu,eo=gi(nr({},ai),{getAnimatableNone:c=>{const f=c.match(Bn);return f?f.map(Ie).join(" "):c}}),N={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it},be={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:Sr,scaleX:Sr,scaleY:Sr,scaleZ:Sr,skew:yi,skewX:yi,skewY:yi,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Ht,originX:Zi,originY:Zi,originZ:it},Be=gi(nr({},Fr),{transform:Math.round}),Nt=gi(nr(nr({},N),be),{zIndex:Be,size:it,fillOpacity:Ht,strokeOpacity:Ht,numOctaves:Be}),yr=gi(nr({},Nt),{color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:eo,WebkitFilter:eo}),qn=c=>yr[c];function Hi(c,f){let d=qn(c);return d!==eo&&(d=ai),d.getAnimatableNone?d.getAnimatableNone(f):void 0}const Fe=new Set(["auto","none","0"]);function Aa(c,f,d){let g=0,C;for(;g<c.length&&!C;){const A=c[g];typeof A=="string"&&!Fe.has(A)&&ma(A).values.length&&(C=c[g]),g++}if(C&&d)for(const A of f)c[A]=Hi(d,C)}const oi=c=>c===Fr||c===it,Ho=(c,f)=>parseFloat(c.split(", ")[f]),Eo=(c,f)=>(d,{transform:g})=>{if(g==="none"||!g)return 0;const C=g.match(/^matrix3d\((.+)\)$/u);if(C)return Ho(C[1],f);{const A=g.match(/^matrix\((.+)\)$/u);return A?Ho(A[1],c):0}},vo=new Set(["x","y","z"]),Go=Dt.filter(c=>!vo.has(c));function To(c){const f=[];return Go.forEach(d=>{const g=c.getValue(d);g!==void 0&&(f.push([d,g.get()]),g.set(d.startsWith("scale")?1:0))}),f}const Po={width:({x:c},{paddingLeft:f="0",paddingRight:d="0"})=>c.max-c.min-parseFloat(f)-parseFloat(d),height:({y:c},{paddingTop:f="0",paddingBottom:d="0"})=>c.max-c.min-parseFloat(f)-parseFloat(d),top:(c,{top:f})=>parseFloat(f),left:(c,{left:f})=>parseFloat(f),bottom:({y:c},{top:f})=>parseFloat(f)+(c.max-c.min),right:({x:c},{left:f})=>parseFloat(f)+(c.max-c.min),x:Eo(4,13),y:Eo(5,14)};Po.translateX=Po.x,Po.translateY=Po.y;const uo=new Set;let gs=!1,to=!1;function co(){if(to){const c=Array.from(uo).filter(g=>g.needsMeasurement),f=new Set(c.map(g=>g.element)),d=new Map;f.forEach(g=>{const C=To(g);C.length&&(d.set(g,C),g.render())}),c.forEach(g=>g.measureInitialState()),f.forEach(g=>{g.render();const C=d.get(g);C&&C.forEach(([A,O])=>{var L;(L=g.getValue(A))===null||L===void 0||L.set(O)})}),c.forEach(g=>g.measureEndState()),c.forEach(g=>{g.suspendedScrollY!==void 0&&window.scrollTo(0,g.suspendedScrollY)})}to=!1,gs=!1,uo.forEach(c=>c.complete()),uo.clear()}function D(){uo.forEach(c=>{c.readKeyframes(),c.needsMeasurement&&(to=!0)})}function Xs(){D(),co()}class Ca{constructor(f,d,g,C,A,O=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...f],this.onComplete=d,this.name=g,this.motionValue=C,this.element=A,this.isAsync=O}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uo.add(this),gs||(gs=!0,Rt.read(D),Rt.resolveKeyframes(co))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:f,name:d,element:g,motionValue:C}=this;for(let A=0;A<f.length;A++)if(f[A]===null)if(A===0){const O=C==null?void 0:C.get(),L=f[f.length-1];if(O!==void 0)f[0]=O;else if(g&&d){const V=g.readValue(d,L);V!=null&&(f[0]=V)}f[0]===void 0&&(f[0]=L),C&&O===void 0&&C.set(f[0])}else f[A]=f[A-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let Ro=Ae,po=Ae;const rn=c=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(c),Dn=c=>f=>typeof f=="string"&&f.startsWith(c),ro=Dn("--"),Wo=Dn("var(--"),Zo=c=>Wo(c)?bl.test(c.split("/*")[0].trim()):!1,bl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ys=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zr(c){const f=ys.exec(c);if(!f)return[,];const[,d,g,C]=f;return[`--${d!=null?d:g}`,C]}const si=4;function wr(c,f,d=1){po(d<=si,`Max CSS variable fallback depth detected in property "${c}". This may indicate a circular fallback dependency.`);const[g,C]=Zr(c);if(!g)return;const A=window.getComputedStyle(f).getPropertyValue(g);if(A){const O=A.trim();return rn(O)?parseFloat(O):O}return Zo(C)?wr(C,f,d+1):C}const As=c=>f=>f.test(c),_=[Fr,it,ri,yi,Di,Br,{test:c=>c==="auto",parse:c=>c}],Q=c=>_.find(As(c));class le extends Ca{constructor(f,d,g,C,A){super(f,d,g,C,A,!0)}readKeyframes(){const{unresolvedKeyframes:f,element:d,name:g}=this;if(!d||!d.current)return;super.readKeyframes();for(let V=0;V<f.length;V++){let j=f[V];if(typeof j=="string"&&(j=j.trim(),Zo(j))){const K=wr(j,d.current);K!==void 0&&(f[V]=K),V===f.length-1&&(this.finalKeyframe=j)}}if(this.resolveNoneKeyframes(),!re.has(g)||f.length!==2)return;const[C,A]=f,O=Q(C),L=Q(A);if(O!==L)if(oi(O)&&oi(L))for(let V=0;V<f.length;V++){const j=f[V];typeof j=="string"&&(f[V]=parseFloat(j))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:f,name:d}=this,g=[];for(let C=0;C<f.length;C++)pr(f[C])&&g.push(C);g.length&&Aa(f,g,d)}measureInitialState(){const{element:f,unresolvedKeyframes:d,name:g}=this;if(!f||!f.current)return;g==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[g](f.measureViewportBox(),window.getComputedStyle(f.current)),d[0]=this.measuredOrigin;const C=d[d.length-1];C!==void 0&&f.getValue(g,C).jump(C,!1)}measureEndState(){var f;const{element:d,name:g,unresolvedKeyframes:C}=this;if(!d||!d.current)return;const A=d.getValue(g);A&&A.jump(this.measuredOrigin,!1);const O=C.length-1,L=C[O];C[O]=Po[g](d.measureViewportBox(),window.getComputedStyle(d.current)),L!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=L),!((f=this.removedTransforms)===null||f===void 0)&&f.length&&this.removedTransforms.forEach(([V,j])=>{d.getValue(V).set(j)}),this.resolveNoneKeyframes()}}const _e=(c,f)=>f==="zIndex"?!1:!!(typeof c=="number"||Array.isArray(c)||typeof c=="string"&&(ai.test(c)||c==="0")&&!c.startsWith("url("));function pt(c){const f=c[0];if(c.length===1)return!0;for(let d=0;d<c.length;d++)if(c[d]!==f)return!0}function ct(c,f,d,g){const C=c[0];if(C===null)return!1;if(f==="display"||f==="visibility")return!0;const A=c[c.length-1],O=_e(C,f),L=_e(A,f);return Ro(O===L,`You are trying to animate ${f} from "${C}" to "${A}". ${C} is not an animatable value - to enable this animation set ${C} to a value animatable to ${A} via the \`style\` property.`),!O||!L?!1:pt(c)||(d==="spring"||Ne(d))&&g}const Bt=c=>c!==null;function hr(c,{repeat:f,repeatType:d="loop"},g){const C=c.filter(Bt),A=f&&d!=="loop"&&f%2===1?0:C.length-1;return!A||g===void 0?C[A]:g}const zr=40;class Ir{constructor(V){var j=V,{autoplay:f=!0,delay:d=0,type:g="keyframes",repeat:C=0,repeatDelay:A=0,repeatType:O="loop"}=j,L=Ao(j,["autoplay","delay","type","repeat","repeatDelay","repeatType"]);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ir.now(),this.options=nr({autoplay:f,delay:d,type:g,repeat:C,repeatDelay:A,repeatType:O},L),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zr?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Xs(),this._resolved}onKeyframesResolved(f,d){this.resolvedAt=ir.now(),this.hasAttemptedResolve=!0;const{name:g,type:C,velocity:A,delay:O,onComplete:L,onUpdate:V,isGenerator:j}=this.options;if(!j&&!ct(f,g,C,A))if(Dr.current||!O){V&&V(hr(f,this.options,d)),L&&L(),this.resolveFinishedPromise();return}else this.options.duration=0;const K=this.initPlayback(f,d);K!==!1&&(this._resolved=nr({keyframes:f,finalKeyframe:d},K),this.onPostResolved())}onPostResolved(){}then(f,d){return this.currentFinishedPromise.then(f,d)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(f=>{this.resolveFinishedPromise=f})}}const Gt=(c,f,d)=>c+(f-c)*d;function nn(c,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(f-c)*6*d:d<1/2?f:d<2/3?c+(f-c)*(2/3-d)*6:c}function kt({hue:c,saturation:f,lightness:d,alpha:g}){c/=360,f/=100,d/=100;let C=0,A=0,O=0;if(!f)C=A=O=d;else{const L=d<.5?d*(1+f):d+f-d*f,V=2*d-L;C=nn(V,L,c+1/3),A=nn(V,L,c),O=nn(V,L,c-1/3)}return{red:Math.round(C*255),green:Math.round(A*255),blue:Math.round(O*255),alpha:g}}function Xr(c,f){return d=>d>0?f:c}const Yr=(c,f,d)=>{const g=c*c,C=d*(f*f-g)+g;return C<0?0:Math.sqrt(C)},Hr=[gr,en,Ni],On=c=>Hr.find(f=>f.test(c));function Fn(c){const f=On(c);if(Ro(!!f,`'${c}' is not an animatable color. Use the equivalent color code instead.`),!f)return!1;let d=f.parse(c);return f===Ni&&(d=kt(d)),d}const Nn=(c,f)=>{const d=Fn(c),g=Fn(f);if(!d||!g)return Xr(c,f);const C=nr({},d);return A=>(C.red=Yr(d.red,g.red,A),C.green=Yr(d.green,g.green,A),C.blue=Yr(d.blue,g.blue,A),C.alpha=Gt(d.alpha,g.alpha,A),en.transform(C))},_n=(c,f)=>d=>f(c(d)),Pr=(...c)=>c.reduce(_n),vn=new Set(["none","hidden"]);function kn(c,f){return vn.has(c)?d=>d<=0?c:f:d=>d>=1?f:c}function Ti(c,f){return d=>Gt(c,f,d)}function Oi(c){return typeof c=="number"?Ti:typeof c=="string"?Zo(c)?Xr:wn.test(c)?Nn:Ai:Array.isArray(c)?hi:typeof c=="object"?wn.test(c)?Nn:Ri:Xr}function hi(c,f){const d=[...c],g=d.length,C=c.map((A,O)=>Oi(A)(A,f[O]));return A=>{for(let O=0;O<g;O++)d[O]=C[O](A);return d}}function Ri(c,f){const d=nr(nr({},c),f),g={};for(const C in d)c[C]!==void 0&&f[C]!==void 0&&(g[C]=Oi(c[C])(c[C],f[C]));return C=>{for(const A in g)d[A]=g[A](C);return d}}function Mi(c,f){var d;const g=[],C={color:0,var:0,number:0};for(let A=0;A<f.values.length;A++){const O=f.types[A],L=c.indexes[O][C[O]],V=(d=c.values[L])!==null&&d!==void 0?d:0;g[A]=V,C[O]++}return g}const Ai=(c,f)=>{const d=ai.createTransformer(f),g=ma(c),C=ma(f);return g.indexes.var.length===C.indexes.var.length&&g.indexes.color.length===C.indexes.color.length&&g.indexes.number.length>=C.indexes.number.length?vn.has(c)&&!C.values.length||vn.has(f)&&!g.values.length?kn(c,f):Pr(hi(Mi(g,C),C.values),d):(Ro(!0,`Complex values '${c}' and '${f}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Xr(c,f))};function di(c,f,d){return typeof c=="number"&&typeof f=="number"&&typeof d=="number"?Gt(c,f,d):Oi(c)(c,f)}const Ii=5;function mi(c,f,d){const g=Math.max(f-Ii,0);return gn(d-c(g),f-g)}const Kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cn=.001;function bi({duration:c=Kr.duration,bounce:f=Kr.bounce,velocity:d=Kr.velocity,mass:g=Kr.mass}){let C,A;Ro(c<=ti(Kr.maxDuration),"Spring duration must be 10 seconds or less");let O=1-f;O=xr(Kr.minDamping,Kr.maxDamping,O),c=xr(Kr.minDuration,Kr.maxDuration,dn(c)),O<1?(C=j=>{const K=j*O,ge=K*c,Me=K-d,ut=va(j,O),ht=Math.exp(-ge);return cn-Me/ut*ht},A=j=>{const ge=j*O*c,Me=ge*d+d,ut=Math.pow(O,2)*Math.pow(j,2)*c,ht=Math.exp(-ge),Ut=va(Math.pow(j,2),O);return(-C(j)+cn>0?-1:1)*((Me-ut)*ht)/Ut}):(C=j=>{const K=Math.exp(-j*c),ge=(j-d)*c+1;return-cn+K*ge},A=j=>{const K=Math.exp(-j*c),ge=(d-j)*(c*c);return K*ge});const L=5/c,V=ja(C,A,L);if(c=ti(c),isNaN(V))return{stiffness:Kr.stiffness,damping:Kr.damping,duration:c};{const j=Math.pow(V,2)*g;return{stiffness:j,damping:O*2*Math.sqrt(g*j),duration:c}}}const li=12;function ja(c,f,d){let g=d;for(let C=1;C<li;C++)g=g-c(g)/f(g);return g}function va(c,f){return c*Math.sqrt(1-f*f)}const $i=["duration","bounce"],Xn=["stiffness","damping","mass"];function Vi(c,f){return f.some(d=>c[d]!==void 0)}function Ra(c){let f=nr({velocity:Kr.velocity,stiffness:Kr.stiffness,damping:Kr.damping,mass:Kr.mass,isResolvedFromDuration:!1},c);if(!Vi(c,Xn)&&Vi(c,$i))if(c.visualDuration){const d=c.visualDuration,g=2*Math.PI/(d*1.2),C=g*g,A=2*xr(.05,1,1-(c.bounce||0))*Math.sqrt(C);f=gi(nr({},f),{mass:Kr.mass,stiffness:C,damping:A})}else{const d=bi(c);f=gi(nr(nr({},f),d),{mass:Kr.mass}),f.isResolvedFromDuration=!0}return f}function ji(c=Kr.visualDuration,f=Kr.bounce){const d=typeof c!="object"?{visualDuration:c,keyframes:[0,1],bounce:f}:c;let{restSpeed:g,restDelta:C}=d;const A=d.keyframes[0],O=d.keyframes[d.keyframes.length-1],L={done:!1,value:A},{stiffness:V,damping:j,mass:K,duration:ge,velocity:Me,isResolvedFromDuration:ut}=Ra(gi(nr({},d),{velocity:-dn(d.velocity||0)})),ht=Me||0,Ut=j/(2*Math.sqrt(V*K)),dr=O-A,ur=dn(Math.sqrt(V/K)),fn=Math.abs(dr)<5;g||(g=fn?Kr.restSpeed.granular:Kr.restSpeed.default),C||(C=fn?Kr.restDelta.granular:Kr.restDelta.default);let pn;if(Ut<1){const Pn=va(ur,Ut);pn=zi=>{const ba=Math.exp(-Ut*ur*zi);return O-ba*((ht+Ut*ur*dr)/Pn*Math.sin(Pn*zi)+dr*Math.cos(Pn*zi))}}else if(Ut===1)pn=Pn=>O-Math.exp(-ur*Pn)*(dr+(ht+ur*dr)*Pn);else{const Pn=ur*Math.sqrt(Ut*Ut-1);pn=zi=>{const ba=Math.exp(-Ut*ur*zi),ei=Math.min(Pn*zi,300);return O-ba*((ht+Ut*ur*dr)*Math.sinh(ei)+Pn*dr*Math.cosh(ei))/Pn}}const ui={calculatedDuration:ut&&ge||null,next:Pn=>{const zi=pn(Pn);if(ut)L.done=Pn>=ge;else{let ba=0;Ut<1&&(ba=Pn===0?ti(ht):mi(pn,Pn,zi));const ei=Math.abs(ba)<=g,Ka=Math.abs(O-zi)<=C;L.done=ei&&Ka}return L.value=L.done?O:zi,L},toString:()=>{const Pn=Math.min(fe(ui),rt),zi=Qt(ba=>ui.next(Pn*ba).value,Pn,30);return Pn+"ms "+zi}};return ui}function _a({keyframes:c,velocity:f=0,power:d=.8,timeConstant:g=325,bounceDamping:C=10,bounceStiffness:A=500,modifyTarget:O,min:L,max:V,restDelta:j=.5,restSpeed:K}){const ge=c[0],Me={done:!1,value:ge},ut=ei=>L!==void 0&&ei<L||V!==void 0&&ei>V,ht=ei=>L===void 0?V:V===void 0||Math.abs(L-ei)<Math.abs(V-ei)?L:V;let Ut=d*f;const dr=ge+Ut,ur=O===void 0?dr:O(dr);ur!==dr&&(Ut=ur-ge);const fn=ei=>-Ut*Math.exp(-ei/g),pn=ei=>ur+fn(ei),ui=ei=>{const Ka=fn(ei),mo=pn(ei);Me.done=Math.abs(Ka)<=j,Me.value=Me.done?ur:mo};let Pn,zi;const ba=ei=>{ut(Me.value)&&(Pn=ei,zi=ji({keyframes:[Me.value,ht(Me.value)],velocity:mi(pn,ei,Me.value),damping:C,stiffness:A,restDelta:j,restSpeed:K}))};return ba(0),{calculatedDuration:null,next:ei=>{let Ka=!1;return!zi&&Pn===void 0&&(Ka=!0,ui(ei),ba(ei)),Pn!==void 0&&ei>=Pn?zi.next(ei-Pn):(!Ka&&ui(ei),Me)}}}const Ea=It(.42,0,1,1),An=It(0,0,.58,1),Cr=It(.42,0,.58,1),zn=c=>Array.isArray(c)&&typeof c[0]!="number",Gr={linear:Ae,easeIn:Ea,easeInOut:Cr,easeOut:An,circIn:Oe,circInOut:He,circOut:ve,backIn:Tn,backInOut:G,backOut:Rr,anticipate:ye},Er=c=>{if(et(c)){po(c.length===4,"Cubic bezier arrays must contain four numerical values.");const[f,d,g,C]=c;return It(f,d,g,C)}else if(typeof c=="string")return po(Gr[c]!==void 0,`Invalid easing type '${c}'`),Gr[c];return c};function Un(c,f,d){const g=[],C=d||di,A=c.length-1;for(let O=0;O<A;O++){let L=C(c[O],c[O+1]);if(f){const V=Array.isArray(f)?f[O]||Ae:f;L=Pr(V,L)}g.push(L)}return g}function Kn(c,f,{clamp:d=!0,ease:g,mixer:C}={}){const A=c.length;if(po(A===f.length,"Both input and output ranges must be the same length"),A===1)return()=>f[0];if(A===2&&f[0]===f[1])return()=>f[1];const O=c[0]===c[1];c[0]>c[A-1]&&(c=[...c].reverse(),f=[...f].reverse());const L=Un(f,g,C),V=L.length,j=K=>{if(O&&K<c[0])return f[0];let ge=0;if(V>1)for(;ge<c.length-2&&!(K<c[ge+1]);ge++);const Me=Mt(c[ge],c[ge+1],K);return L[ge](Me)};return d?K=>j(xr(c[0],c[A-1],K)):j}function bn(c,f){const d=c[c.length-1];for(let g=1;g<=f;g++){const C=Mt(0,f,g);c.push(Gt(d,1,C))}}function xi(c){const f=[0];return bn(f,c.length-1),f}function ta(c,f){return c.map(d=>d*f)}function Ha(c,f){return c.map(()=>f||Cr).splice(0,c.length-1)}function Ta({duration:c=300,keyframes:f,times:d,ease:g="easeInOut"}){const C=zn(g)?g.map(Er):Er(g),A={done:!1,value:f[0]},O=ta(d&&d.length===f.length?d:xi(f),c),L=Kn(O,f,{ease:Array.isArray(C)?C:Ha(f,C)});return{calculatedDuration:c,next:V=>(A.value=L(V),A.done=V>=c,A)}}const aa=c=>{const f=({timestamp:d})=>c(d);return{start:()=>Rt.update(f,!0),stop:()=>mr(f),now:()=>St.isProcessing?St.timestamp:ir.now()}},Ga={decay:_a,inertia:_a,tween:Ta,keyframes:Ta,spring:ji},ra=c=>c/100;class no extends Ir{constructor(f){super(f),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:V}=this.options;V&&V()};const{name:d,motionValue:g,element:C,keyframes:A}=this.options,O=(C==null?void 0:C.KeyframeResolver)||Ca,L=(V,j)=>this.onKeyframesResolved(V,j);this.resolver=new O(A,L,d,g,C),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(f){const{type:d="keyframes",repeat:g=0,repeatDelay:C=0,repeatType:A,velocity:O=0}=this.options,L=Ne(d)?d:Ga[d]||Ta;let V,j;L!==Ta&&typeof f[0]!="number"&&(V=Pr(ra,di(f[0],f[1])),f=[0,100]);const K=L(gi(nr({},this.options),{keyframes:f}));A==="mirror"&&(j=L(gi(nr({},this.options),{keyframes:[...f].reverse(),velocity:-O}))),K.calculatedDuration===null&&(K.calculatedDuration=fe(K));const{calculatedDuration:ge}=K,Me=ge+C,ut=Me*(g+1)-C;return{generator:K,mirroredGenerator:j,mapPercentToKeyframes:V,calculatedDuration:ge,resolvedDuration:Me,totalDuration:ut}}onPostResolved(){const{autoplay:f=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!f?this.pause():this.state=this.pendingPlayState}tick(f,d=!1){const{resolved:g}=this;if(!g){const{keyframes:ei}=this.options;return{done:!0,value:ei[ei.length-1]}}const{finalKeyframe:C,generator:A,mirroredGenerator:O,mapPercentToKeyframes:L,keyframes:V,calculatedDuration:j,totalDuration:K,resolvedDuration:ge}=g;if(this.startTime===null)return A.next(0);const{delay:Me,repeat:ut,repeatType:ht,repeatDelay:Ut,onUpdate:dr}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,f):this.speed<0&&(this.startTime=Math.min(f-K/this.speed,this.startTime)),d?this.currentTime=f:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(f-this.startTime)*this.speed;const ur=this.currentTime-Me*(this.speed>=0?1:-1),fn=this.speed>=0?ur<0:ur>K;this.currentTime=Math.max(ur,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=K);let pn=this.currentTime,ui=A;if(ut){const ei=Math.min(this.currentTime,K)/ge;let Ka=Math.floor(ei),mo=ei%1;!mo&&ei>=1&&(mo=1),mo===1&&Ka--,Ka=Math.min(Ka,ut+1),!!(Ka%2)&&(ht==="reverse"?(mo=1-mo,Ut&&(mo-=Ut/ge)):ht==="mirror"&&(ui=O)),pn=xr(0,1,mo)*ge}const Pn=fn?{done:!1,value:V[0]}:ui.next(pn);L&&(Pn.value=L(Pn.value));let{done:zi}=Pn;!fn&&j!==null&&(zi=this.speed>=0?this.currentTime>=K:this.currentTime<=0);const ba=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&zi);return ba&&C!==void 0&&(Pn.value=hr(V,this.options,C)),dr&&dr(Pn.value),ba&&this.finish(),Pn}get duration(){const{resolved:f}=this;return f?dn(f.calculatedDuration):0}get time(){return dn(this.currentTime)}set time(f){f=ti(f),this.currentTime=f,this.holdTime!==null||this.speed===0?this.holdTime=f:this.driver&&(this.startTime=this.driver.now()-f/this.speed)}get speed(){return this.playbackSpeed}set speed(f){const d=this.playbackSpeed!==f;this.playbackSpeed=f,d&&(this.time=dn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:f=aa,onPlay:d,startTime:g}=this.options;this.driver||(this.driver=f(A=>this.tick(A))),d&&d();const C=this.driver.now();this.holdTime!==null?this.startTime=C-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=C):this.startTime=g!=null?g:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var f;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(f=this.currentTime)!==null&&f!==void 0?f:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:f}=this.options;f&&f()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(f){return this.startTime=0,this.tick(f,!0)}}function Pi(c){return new no(c)}const ni=new Set(["opacity","clipPath","filter","transform"]);function Yi(c,f,d,{delay:g=0,duration:C=300,repeat:A=0,repeatType:O="loop",ease:L="easeInOut",times:V}={}){const j={[f]:d};V&&(j.offset=V);const K=xt(L,C);return Array.isArray(K)&&(j.easing=K),c.animate(j,{delay:g,duration:C,easing:Array.isArray(K)?"linear":K,fill:"both",iterations:A+1,direction:O==="reverse"?"alternate":"normal"})}const sa=ce(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pa=10,la=2e4;function So(c){return Ne(c.type)||c.type==="spring"||!vt(c.ease)}function Wa(c,f){const d=new no(gi(nr({},f),{keyframes:c,repeat:0,delay:0,isGenerator:!0}));let g={done:!1,value:c[0]};const C=[];let A=0;for(;!g.done&&A<la;)g=d.sample(A),C.push(g.value),A+=pa;return{times:void 0,keyframes:C,duration:A-pa,ease:"linear"}}const La={anticipate:ye,backInOut:G,circInOut:He};function Xo(c){return c in La}class Da extends Ir{constructor(f){super(f);const{name:d,motionValue:g,element:C,keyframes:A}=this.options;this.resolver=new le(A,(O,L)=>this.onKeyframesResolved(O,L),d,g,C),this.resolver.scheduleResolve()}initPlayback(f,d){let{duration:g=300,times:C,ease:A,type:O,motionValue:L,name:V,startTime:j}=this.options;if(!L.owner||!L.owner.current)return!1;if(typeof A=="string"&&Ue()&&Xo(A)&&(A=La[A]),So(this.options)){const ge=this.options,{onComplete:Me,onUpdate:ut,motionValue:ht,element:Ut}=ge,dr=Ao(ge,["onComplete","onUpdate","motionValue","element"]),ur=Wa(f,dr);f=ur.keyframes,f.length===1&&(f[1]=f[0]),g=ur.duration,C=ur.times,A=ur.ease,O="keyframes"}const K=Yi(L.owner.current,V,f,gi(nr({},this.options),{duration:g,times:C,ease:A}));return K.startTime=j!=null?j:this.calcStartTime(),this.pendingTimeline?(Ve(K,this.pendingTimeline),this.pendingTimeline=void 0):K.onfinish=()=>{const{onComplete:Me}=this.options;L.set(hr(f,this.options,d)),Me&&Me(),this.cancel(),this.resolveFinishedPromise()},{animation:K,duration:g,times:C,type:O,ease:A,keyframes:f}}get duration(){const{resolved:f}=this;if(!f)return 0;const{duration:d}=f;return dn(d)}get time(){const{resolved:f}=this;if(!f)return 0;const{animation:d}=f;return dn(d.currentTime||0)}set time(f){const{resolved:d}=this;if(!d)return;const{animation:g}=d;g.currentTime=ti(f)}get speed(){const{resolved:f}=this;if(!f)return 1;const{animation:d}=f;return d.playbackRate}set speed(f){const{resolved:d}=this;if(!d)return;const{animation:g}=d;g.playbackRate=f}get state(){const{resolved:f}=this;if(!f)return"idle";const{animation:d}=f;return d.playState}get startTime(){const{resolved:f}=this;if(!f)return null;const{animation:d}=f;return d.startTime}attachTimeline(f){if(!this._resolved)this.pendingTimeline=f;else{const{resolved:d}=this;if(!d)return Ae;const{animation:g}=d;Ve(g,f)}return Ae}play(){if(this.isStopped)return;const{resolved:f}=this;if(!f)return;const{animation:d}=f;d.playState==="finished"&&this.updateFinishedPromise(),d.play()}pause(){const{resolved:f}=this;if(!f)return;const{animation:d}=f;d.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:f}=this;if(!f)return;const{animation:d,keyframes:g,duration:C,type:A,ease:O,times:L}=f;if(d.playState==="idle"||d.playState==="finished")return;if(this.time){const j=this.options,{motionValue:K,onUpdate:ge,onComplete:Me,element:ut}=j,ht=Ao(j,["motionValue","onUpdate","onComplete","element"]),Ut=new no(gi(nr({},ht),{keyframes:g,duration:C,type:A,ease:O,times:L,isGenerator:!0})),dr=ti(this.time);K.setWithVelocity(Ut.sample(dr-pa).value,Ut.sample(dr).value,pa)}const{onStop:V}=this.options;V&&V(),this.cancel()}complete(){const{resolved:f}=this;f&&f.animation.finish()}cancel(){const{resolved:f}=this;f&&f.animation.cancel()}static supports(f){const{motionValue:d,name:g,repeatDelay:C,repeatType:A,damping:O,type:L}=f;if(!d||!d.owner||!(d.owner.current instanceof HTMLElement))return!1;const{onUpdate:V,transformTemplate:j}=d.owner.getProps();return sa()&&g&&ni.has(g)&&!V&&!j&&!C&&A!=="mirror"&&O!==0&&L!=="inertia"}}const Za={type:"spring",stiffness:500,damping:25,restSpeed:10},ha=c=>({type:"spring",stiffness:550,damping:c===0?2*Math.sqrt(550):30,restSpeed:10}),Is={type:"keyframes",duration:.8},Ys={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ks=(c,{keyframes:f})=>f.length>2?Is:nt.has(c)?c.startsWith("scale")?ha(f[1]):Za:Ys;function ls(ge){var Me=ge,{when:c,delay:f,delayChildren:d,staggerChildren:g,staggerDirection:C,repeat:A,repeatType:O,repeatDelay:L,from:V,elapsed:j}=Me,K=Ao(Me,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(K).length}const us=(c,f,d,g={},C,A)=>O=>{const L=Ot(g,c)||{},V=L.delay||g.delay||0;let{elapsed:j=0}=g;j=j-ti(V);let K=gi(nr({keyframes:Array.isArray(d)?d:[null,d],ease:"easeOut",velocity:f.getVelocity()},L),{delay:-j,onUpdate:Me=>{f.set(Me),L.onUpdate&&L.onUpdate(Me)},onComplete:()=>{O(),L.onComplete&&L.onComplete()},name:c,motionValue:f,element:A?void 0:C});ls(L)||(K=nr(nr({},K),Ks(c,K))),K.duration&&(K.duration=ti(K.duration)),K.repeatDelay&&(K.repeatDelay=ti(K.repeatDelay)),K.from!==void 0&&(K.keyframes[0]=K.from);let ge=!1;if((K.type===!1||K.duration===0&&!K.repeatDelay)&&(K.duration=0,K.delay===0&&(ge=!0)),(Dr.current||Re.skipAnimations)&&(ge=!0,K.duration=0,K.delay=0),ge&&!A&&f.get()!==void 0){const Me=hr(K.keyframes,L);if(Me!==void 0)return Rt.update(()=>{K.onUpdate(Me),K.onComplete()}),new je([])}return!A&&Da.supports(K)?new Da(K):new no(K)};function Qs({protectedKeys:c,needsAnimating:f},d){const g=c.hasOwnProperty(d)&&f[d]!==!0;return f[d]=!1,g}function _o(c,f,{delay:d=0,transitionOverride:g,type:C}={}){var A;let ge=f,{transition:O=c.getDefaultTransition(),transitionEnd:L}=ge,V=Ao(ge,["transition","transitionEnd"]);g&&(O=g);const j=[],K=C&&c.animationState&&c.animationState.getState()[C];for(const Me in V){const ut=c.getValue(Me,(A=c.latestValues[Me])!==null&&A!==void 0?A:null),ht=V[Me];if(ht===void 0||K&&Qs(K,Me))continue;const Ut=nr({delay:d},Ot(O||{},Me));let dr=!1;if(window.MotionHandoffAnimation){const fn=Ei(c);if(fn){const pn=window.MotionHandoffAnimation(fn,Me,Rt);pn!==null&&(Ut.startTime=pn,dr=!0)}}un(c,Me),ut.start(us(Me,ut,ht,c.shouldReduceMotion&&re.has(Me)?{type:!1}:Ut,c,dr));const ur=ut.animation;ur&&j.push(ur)}return L&&Promise.all(j).then(()=>{Rt.update(()=>{L&&Vn(c,L)})}),j}function Yo(c,f,d={}){var g;const C=ne(c,f,d.type==="exit"?(g=c.presenceContext)===null||g===void 0?void 0:g.custom:void 0);let{transition:A=c.getDefaultTransition()||{}}=C||{};d.transitionOverride&&(A=d.transitionOverride);const O=C?()=>Promise.all(_o(c,C,d)):()=>Promise.resolve(),L=c.variantChildren&&c.variantChildren.size?(j=0)=>{const{delayChildren:K=0,staggerChildren:ge,staggerDirection:Me}=A;return bs(c,f,K+j,ge,Me,d)}:()=>Promise.resolve(),{when:V}=A;if(V){const[j,K]=V==="beforeChildren"?[O,L]:[L,O];return j().then(()=>K())}else return Promise.all([O(),L(d.delay)])}function bs(c,f,d=0,g=0,C=1,A){const O=[],L=(c.variantChildren.size-1)*g,V=C===1?(j=0)=>j*g:(j=0)=>L-j*g;return Array.from(c.variantChildren).sort(ua).forEach((j,K)=>{j.notify("AnimationStart",f),O.push(Yo(j,f,gi(nr({},A),{delay:d+V(K)})).then(()=>j.notify("AnimationComplete",f)))}),Promise.all(O)}function ua(c,f){return c.sortNodePosition(f)}function Lo(c,f,d={}){c.notify("AnimationStart",f);let g;if(Array.isArray(f)){const C=f.map(A=>Yo(c,A,d));g=Promise.all(C)}else if(typeof f=="string")g=Yo(c,f,d);else{const C=typeof f=="function"?ne(c,f,d.custom):f;g=Promise.all(_o(c,C,d))}return g.then(()=>{c.notify("AnimationComplete",f)})}const Ko=Z.length;function ln(c){if(!c)return;if(!c.isControllingVariants){const d=c.parent?ln(c.parent)||{}:{};return c.props.initial!==void 0&&(d.initial=c.props.initial),d}const f={};for(let d=0;d<Ko;d++){const g=Z[d],C=c.props[g];(te(C)||C===!1)&&(f[g]=C)}return f}const In=[...W].reverse(),Cn=W.length;function $n(c){return f=>Promise.all(f.map(({animation:d,options:g})=>Lo(c,d,g)))}function Ci(c){let f=$n(c),d=Xa(),g=!0;const C=V=>(j,K)=>{var ge;const Me=ne(c,K,V==="exit"?(ge=c.presenceContext)===null||ge===void 0?void 0:ge.custom:void 0);if(Me){const ut=Me,{transition:ht,transitionEnd:Ut}=ut,dr=Ao(ut,["transition","transitionEnd"]);j=nr(nr(nr({},j),dr),Ut)}return j};function A(V){f=V(c)}function O(V){const{props:j}=c,K=ln(c.parent)||{},ge=[],Me=new Set;let ut={},ht=1/0;for(let dr=0;dr<Cn;dr++){const ur=In[dr],fn=d[ur],pn=j[ur]!==void 0?j[ur]:K[ur],ui=te(pn),Pn=ur===V?fn.isActive:null;Pn===!1&&(ht=dr);let zi=pn===K[ur]&&pn!==j[ur]&&ui;if(zi&&g&&c.manuallyAnimateOnMount&&(zi=!1),fn.protectedKeys=nr({},ut),!fn.isActive&&Pn===null||!pn&&!fn.prevProp||M(pn)||typeof pn=="boolean")continue;const ba=Bi(fn.prevProp,pn);let ei=ba||ur===V&&fn.isActive&&!zi&&ui||dr>ht&&ui,Ka=!1;const mo=Array.isArray(pn)?pn:[pn];let ms=mo.reduce(C(ur),{});Pn===!1&&(ms={});const{prevResolvedValues:Bl={}}=fn,kc=nr(nr({},Bl),ms),$c=Qa=>{ei=!0,Me.has(Qa)&&(Ka=!0,Me.delete(Qa)),fn.needsAnimating[Qa]=!0;const is=c.getValue(Qa);is&&(is.liveStyle=!1)};for(const Qa in kc){const is=ms[Qa],dl=Bl[Qa];if(ut.hasOwnProperty(Qa))continue;let ml=!1;U(is)&&U(dl)?ml=!xe(is,dl):ml=is!==dl,ml?is!=null?$c(Qa):Me.add(Qa):is!==void 0&&Me.has(Qa)?$c(Qa):fn.protectedKeys[Qa]=!0}fn.prevProp=pn,fn.prevResolvedValues=ms,fn.isActive&&(ut=nr(nr({},ut),ms)),g&&c.blockInitialAnimation&&(ei=!1),ei&&(!(zi&&ba)||Ka)&&ge.push(...mo.map(Qa=>({animation:Qa,options:{type:ur}})))}if(Me.size){const dr={};Me.forEach(ur=>{const fn=c.getBaseTarget(ur),pn=c.getValue(ur);pn&&(pn.liveStyle=!0),dr[ur]=fn!=null?fn:null}),ge.push({animation:dr})}let Ut=!!ge.length;return g&&(j.initial===!1||j.initial===j.animate)&&!c.manuallyAnimateOnMount&&(Ut=!1),g=!1,Ut?f(ge):Promise.resolve()}function L(V,j){var K;if(d[V].isActive===j)return Promise.resolve();(K=c.variantChildren)===null||K===void 0||K.forEach(Me=>{var ut;return(ut=Me.animationState)===null||ut===void 0?void 0:ut.setActive(V,j)}),d[V].isActive=j;const ge=O(V);for(const Me in d)d[Me].protectedKeys={};return ge}return{animateChanges:O,setActive:L,setAnimateFunction:A,getState:()=>d,reset:()=>{d=Xa(),g=!0}}}function Bi(c,f){return typeof f=="string"?f!==c:Array.isArray(f)?!xe(f,c):!1}function Ia(c=!1){return{isActive:c,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xa(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Fa{constructor(f){this.isMounted=!1,this.node=f}update(){}}class ga extends Fa{constructor(f){super(f),f.animationState||(f.animationState=Ci(f))}updateAnimationControlsSubscription(){const{animate:f}=this.node.getProps();M(f)&&(this.unmountControls=f.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:f}=this.node.getProps(),{animate:d}=this.node.prevProps||{};f!==d&&this.updateAnimationControlsSubscription()}unmount(){var f;this.node.animationState.reset(),(f=this.unmountControls)===null||f===void 0||f.call(this)}}let Do=0;class xs extends Fa{constructor(){super(...arguments),this.id=Do++}update(){if(!this.node.presenceContext)return;const{isPresent:f,onExitComplete:d}=this.node.presenceContext,{isPresent:g}=this.node.prevPresenceContext||{};if(!this.node.animationState||f===g)return;const C=this.node.animationState.setActive("exit",!f);d&&!f&&C.then(()=>d(this.id))}mount(){const{register:f}=this.node.presenceContext||{};f&&(this.unmount=f(this.id))}unmount(){}}const Js={animation:{Feature:ga},exit:{Feature:xs}};function cs(c,f,d,g={passive:!0}){return c.addEventListener(f,d,g),()=>c.removeEventListener(f,d)}function io(c){return{point:{x:c.pageX,y:c.pageY}}}const Ya=c=>f=>Ee(f)&&c(f,io(f));function Cs(c,f,d,g){return cs(c,f,Ya(d),g)}const go=(c,f)=>Math.abs(c-f);function Ps(c,f){const d=go(c.x,f.x),g=go(c.y,f.y);return Math.sqrt(Th(d,2)+Th(g,2))}class Rs{constructor(f,d,{transformPagePoint:g,contextWindow:C,dragSnapToOrigin:A=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ge=el(this.lastMoveEventInfo,this.history),Me=this.startEvent!==null,ut=Ps(ge.offset,{x:0,y:0})>=3;if(!Me&&!ut)return;const{point:ht}=ge,{timestamp:Ut}=St;this.history.push(gi(nr({},ht),{timestamp:Ut}));const{onStart:dr,onMove:ur}=this.handlers;Me||(dr&&dr(this.lastMoveEvent,ge),this.startEvent=this.lastMoveEvent),ur&&ur(this.lastMoveEvent,ge)},this.handlePointerMove=(ge,Me)=>{this.lastMoveEvent=ge,this.lastMoveEventInfo=Es(Me,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(ge,Me)=>{this.end();const{onEnd:ut,onSessionEnd:ht,resumeAnimation:Ut}=this.handlers;if(this.dragSnapToOrigin&&Ut&&Ut(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dr=el(ge.type==="pointercancel"?this.lastMoveEventInfo:Es(Me,this.transformPagePoint),this.history);this.startEvent&&ut&&ut(ge,dr),ht&&ht(ge,dr)},!Ee(f))return;this.dragSnapToOrigin=A,this.handlers=d,this.transformPagePoint=g,this.contextWindow=C||window;const O=io(f),L=Es(O,this.transformPagePoint),{point:V}=L,{timestamp:j}=St;this.history=[gi(nr({},V),{timestamp:j})];const{onSessionStart:K}=d;K&&K(f,el(L,this.history)),this.removeListeners=Pr(Cs(this.contextWindow,"pointermove",this.handlePointerMove),Cs(this.contextWindow,"pointerup",this.handlePointerUp),Cs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(f){this.handlers=f}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function Es(c,f){return f?{point:f(c.point)}:c}function qs(c,f){return{x:c.x-f.x,y:c.y-f.y}}function el({point:c},f){return{point:c,delta:qs(c,tl(f)),offset:qs(c,jl(f)),velocity:rl(f,.1)}}function jl(c){return c[0]}function tl(c){return c[c.length-1]}function rl(c,f){if(c.length<2)return{x:0,y:0};let d=c.length-1,g=null;const C=tl(c);for(;d>=0&&(g=c[d],!(C.timestamp-g.timestamp>ti(f)));)d--;if(!g)return{x:0,y:0};const A=dn(C.timestamp-g.timestamp);if(A===0)return{x:0,y:0};const O={x:(C.x-g.x)/A,y:(C.y-g.y)/A};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function Fo(c){return c&&typeof c=="object"&&Object.prototype.hasOwnProperty.call(c,"current")}const nl=1e-4,xl=1-nl,Hl=1+nl,ao=.01,Iu=0-ao,Cl=0+ao;function Na(c){return c.max-c.min}function _s(c,f,d){return Math.abs(c-f)<=d}function Gn(c,f,d,g=.5){c.origin=g,c.originPoint=Gt(f.min,f.max,c.origin),c.scale=Na(d)/Na(f),c.translate=Gt(d.min,d.max,c.origin)-c.originPoint,(c.scale>=xl&&c.scale<=Hl||isNaN(c.scale))&&(c.scale=1),(c.translate>=Iu&&c.translate<=Cl||isNaN(c.translate))&&(c.translate=0)}function Nr(c,f,d,g){Gn(c.x,f.x,d.x,g?g.originX:void 0),Gn(c.y,f.y,d.y,g?g.originY:void 0)}function Ki(c,f,d){c.min=d.min+f.min,c.max=c.min+Na(f)}function Va(c,f,d){Ki(c.x,f.x,d.x),Ki(c.y,f.y,d.y)}function Gi(c,f,d){c.min=f.min-d.min,c.max=c.min+Na(f)}function na(c,f,d){Gi(c.x,f.x,d.x),Gi(c.y,f.y,d.y)}function yo(c,{min:f,max:d},g){return f!==void 0&&c<f?c=g?Gt(f,c,g.min):Math.max(c,f):d!==void 0&&c>d&&(c=g?Gt(d,c,g.max):Math.min(c,d)),c}function wo(c,f,d){return{min:f!==void 0?c.min+f:void 0,max:d!==void 0?c.max+d-(c.max-c.min):void 0}}function No(c,{top:f,left:d,bottom:g,right:C}){return{x:wo(c.x,d,C),y:wo(c.y,f,g)}}function Qo(c,f){let d=f.min-c.min,g=f.max-c.max;return f.max-f.min<c.max-c.min&&([d,g]=[g,d]),{min:d,max:g}}function fo(c,f){return{x:Qo(c.x,f.x),y:Qo(c.y,f.y)}}function Jo(c,f){let d=.5;const g=Na(c),C=Na(f);return C>g?d=Mt(f.min,f.max-g,c.min):g>C&&(d=Mt(c.min,c.max-C,f.min)),xr(0,1,d)}function El(c,f){const d={};return f.min!==void 0&&(d.min=f.min-c.min),f.max!==void 0&&(d.max=f.max-c.min),d}const Tl=.35;function Pu(c=Tl){return c===!1?c=0:c===!0&&(c=Tl),{x:Gl(c,"left","right"),y:Gl(c,"top","bottom")}}function Gl(c,f,d){return{min:il(c,f),max:il(c,d)}}function il(c,f){return typeof c=="number"?c:c[f]||0}const Wl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:Wl(),y:Wl()}),Ru=()=>({min:0,max:0}),ca=()=>({x:Ru(),y:Ru()});function bo(c){return[c("x"),c("y")]}function _u({top:c,left:f,right:d,bottom:g}){return{x:{min:f,max:d},y:{min:c,max:g}}}function ef({x:c,y:f}){return{top:f.min,right:c.max,bottom:f.max,left:c.min}}function Zl(c,f){if(!f)return c;const d=f({x:c.left,y:c.top}),g=f({x:c.right,y:c.bottom});return{top:d.y,left:d.x,bottom:g.y,right:g.x}}function Xl(c){return c===void 0||c===1}function Yl({scale:c,scaleX:f,scaleY:d}){return!Xl(c)||!Xl(f)||!Xl(d)}function qo(c){return Yl(c)||Kl(c)||c.z||c.rotate||c.rotateX||c.rotateY||c.skewX||c.skewY}function Kl(c){return Lu(c.x)||Lu(c.y)}function Lu(c){return c&&c!=="0%"}function Sl(c,f,d){const g=c-d,C=f*g;return d+C}function es(c,f,d,g,C){return C!==void 0&&(c=Sl(c,C,g)),Sl(c,d,g)+f}function ia(c,f=0,d=1,g,C){c.min=es(c.min,f,d,g,C),c.max=es(c.max,f,d,g,C)}function Vo(c,{x:f,y:d}){ia(c.x,f.translate,f.scale,f.originPoint),ia(c.y,d.translate,d.scale,d.originPoint)}const Du=.999999999999,Oo=1.0000000000001;function tf(c,f,d,g=!1){const C=d.length;if(!C)return;f.x=f.y=1;let A,O;for(let L=0;L<C;L++){A=d[L],O=A.projectionDelta;const{visualElement:V}=A.options;V&&V.props.style&&V.props.style.display==="contents"||(g&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Fs(c,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),O&&(f.x*=O.x.scale,f.y*=O.y.scale,Vo(c,O)),g&&qo(A.latestValues)&&Fs(c,A.latestValues))}f.x<Oo&&f.x>Du&&(f.x=1),f.y<Oo&&f.y>Du&&(f.y=1)}function Ds(c,f){c.min=c.min+f,c.max=c.max+f}function Fu(c,f,d,g,C=.5){const A=Gt(c.min,c.max,C);ia(c,f,d,A,g)}function Fs(c,f){Fu(c.x,f.x,f.scaleX,f.scale,f.originX),Fu(c.y,f.y,f.scaleY,f.scale,f.originY)}function Nu(c,f){return _u(Zl(c.getBoundingClientRect(),f))}function rf(c,f,d){const g=Nu(c,d),{scroll:C}=f;return C&&(Ds(g.x,C.offset.x),Ds(g.y,C.offset.y)),g}const Vu=({current:c})=>c?c.ownerDocument.defaultView:null,nf=new WeakMap;class af{constructor(f){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ca(),this.visualElement=f}start(f,{snapToCursor:d=!1}={}){const{presenceContext:g}=this.visualElement;if(g&&g.isPresent===!1)return;const C=K=>{const{dragSnapToOrigin:ge}=this.getProps();ge?this.pauseAnimation():this.stopAnimation(),d&&this.snapToCursor(io(K).point)},A=(K,ge)=>{const{drag:Me,dragPropagation:ut,onDragStart:ht}=this.getProps();if(Me&&!ut&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dt(Me),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bo(dr=>{let ur=this.getAxisMotionValue(dr).get()||0;if(ri.test(ur)){const{projection:fn}=this.visualElement;if(fn&&fn.layout){const pn=fn.layout.layoutBox[dr];pn&&(ur=Na(pn)*(parseFloat(ur)/100))}}this.originPoint[dr]=ur}),ht&&Rt.postRender(()=>ht(K,ge)),un(this.visualElement,"transform");const{animationState:Ut}=this.visualElement;Ut&&Ut.setActive("whileDrag",!0)},O=(K,ge)=>{const{dragPropagation:Me,dragDirectionLock:ut,onDirectionLock:ht,onDrag:Ut}=this.getProps();if(!Me&&!this.openDragLock)return;const{offset:dr}=ge;if(ut&&this.currentDirection===null){this.currentDirection=of(dr),this.currentDirection!==null&&ht&&ht(this.currentDirection);return}this.updateAxis("x",ge.point,dr),this.updateAxis("y",ge.point,dr),this.visualElement.render(),Ut&&Ut(K,ge)},L=(K,ge)=>this.stop(K,ge),V=()=>bo(K=>{var ge;return this.getAnimationState(K)==="paused"&&((ge=this.getAxisMotionValue(K).animation)===null||ge===void 0?void 0:ge.play())}),{dragSnapToOrigin:j}=this.getProps();this.panSession=new Rs(f,{onSessionStart:C,onStart:A,onMove:O,onSessionEnd:L,resumeAnimation:V},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:j,contextWindow:Vu(this.visualElement)})}stop(f,d){const g=this.isDragging;if(this.cancel(),!g)return;const{velocity:C}=d;this.startAnimation(C);const{onDragEnd:A}=this.getProps();A&&Rt.postRender(()=>A(f,d))}cancel(){this.isDragging=!1;const{projection:f,animationState:d}=this.visualElement;f&&(f.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:g}=this.getProps();!g&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),d&&d.setActive("whileDrag",!1)}updateAxis(f,d,g){const{drag:C}=this.getProps();if(!g||!Ns(f,C,this.currentDirection))return;const A=this.getAxisMotionValue(f);let O=this.originPoint[f]+g[f];this.constraints&&this.constraints[f]&&(O=yo(O,this.constraints[f],this.elastic[f])),A.set(O)}resolveConstraints(){var f;const{dragConstraints:d,dragElastic:g}=this.getProps(),C=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(f=this.visualElement.projection)===null||f===void 0?void 0:f.layout,A=this.constraints;d&&Fo(d)?this.constraints||(this.constraints=this.resolveRefConstraints()):d&&C?this.constraints=No(C.layoutBox,d):this.constraints=!1,this.elastic=Pu(g),A!==this.constraints&&C&&this.constraints&&!this.hasMutatedConstraints&&bo(O=>{this.constraints!==!1&&this.getAxisMotionValue(O)&&(this.constraints[O]=El(C.layoutBox[O],this.constraints[O]))})}resolveRefConstraints(){const{dragConstraints:f,onMeasureDragConstraints:d}=this.getProps();if(!f||!Fo(f))return!1;const g=f.current;po(g!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:C}=this.visualElement;if(!C||!C.layout)return!1;const A=rf(g,C.root,this.visualElement.getTransformPagePoint());let O=fo(C.layout.layoutBox,A);if(d){const L=d(ef(O));this.hasMutatedConstraints=!!L,L&&(O=_u(L))}return O}startAnimation(f){const{drag:d,dragMomentum:g,dragElastic:C,dragTransition:A,dragSnapToOrigin:O,onDragTransitionEnd:L}=this.getProps(),V=this.constraints||{},j=bo(K=>{if(!Ns(K,d,this.currentDirection))return;let ge=V&&V[K]||{};O&&(ge={min:0,max:0});const Me=C?200:1e6,ut=C?40:1e7,ht=nr(nr({type:"inertia",velocity:g?f[K]:0,bounceStiffness:Me,bounceDamping:ut,timeConstant:750,restDelta:1,restSpeed:10},A),ge);return this.startAxisValueAnimation(K,ht)});return Promise.all(j).then(L)}startAxisValueAnimation(f,d){const g=this.getAxisMotionValue(f);return un(this.visualElement,f),g.start(us(f,g,0,d,this.visualElement,!1))}stopAnimation(){bo(f=>this.getAxisMotionValue(f).stop())}pauseAnimation(){bo(f=>{var d;return(d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.pause()})}getAnimationState(f){var d;return(d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.state}getAxisMotionValue(f){const d=`_drag${f.toUpperCase()}`,g=this.visualElement.getProps(),C=g[d];return C||this.visualElement.getValue(f,(g.initial?g.initial[f]:void 0)||0)}snapToCursor(f){bo(d=>{const{drag:g}=this.getProps();if(!Ns(d,g,this.currentDirection))return;const{projection:C}=this.visualElement,A=this.getAxisMotionValue(d);if(C&&C.layout){const{min:O,max:L}=C.layout.layoutBox[d];A.set(f[d]-Gt(O,L,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:f,dragConstraints:d}=this.getProps(),{projection:g}=this.visualElement;if(!Fo(d)||!g||!this.constraints)return;this.stopAnimation();const C={x:0,y:0};bo(O=>{const L=this.getAxisMotionValue(O);if(L&&this.constraints!==!1){const V=L.get();C[O]=Jo({min:V,max:V},this.constraints[O])}});const{transformTemplate:A}=this.visualElement.getProps();this.visualElement.current.style.transform=A?A({},""):"none",g.root&&g.root.updateScroll(),g.updateLayout(),this.resolveConstraints(),bo(O=>{if(!Ns(O,f,null))return;const L=this.getAxisMotionValue(O),{min:V,max:j}=this.constraints[O];L.set(Gt(V,j,C[O]))})}addListeners(){if(!this.visualElement.current)return;nf.set(this.visualElement,this);const f=this.visualElement.current,d=Cs(f,"pointerdown",V=>{const{drag:j,dragListener:K=!0}=this.getProps();j&&K&&this.start(V)}),g=()=>{const{dragConstraints:V}=this.getProps();Fo(V)&&V.current&&(this.constraints=this.resolveRefConstraints())},{projection:C}=this.visualElement,A=C.addEventListener("measure",g);C&&!C.layout&&(C.root&&C.root.updateScroll(),C.updateLayout()),Rt.read(g);const O=cs(window,"resize",()=>this.scalePositionWithinConstraints()),L=C.addEventListener("didUpdate",({delta:V,hasLayoutChanged:j})=>{this.isDragging&&j&&(bo(K=>{const ge=this.getAxisMotionValue(K);ge&&(this.originPoint[K]+=V[K].translate,ge.set(ge.get()+V[K].translate))}),this.visualElement.render())});return()=>{O(),d(),A(),L&&L()}}getProps(){const f=this.visualElement.getProps(),{drag:d=!1,dragDirectionLock:g=!1,dragPropagation:C=!1,dragConstraints:A=!1,dragElastic:O=Tl,dragMomentum:L=!0}=f;return gi(nr({},f),{drag:d,dragDirectionLock:g,dragPropagation:C,dragConstraints:A,dragElastic:O,dragMomentum:L})}}function Ns(c,f,d){return(f===!0||f===c)&&(d===null||d===c)}function of(c,f=10){let d=null;return Math.abs(c.y)>f?d="y":Math.abs(c.x)>f&&(d="x"),d}class oo extends Fa{constructor(f){super(f),this.removeGroupControls=Ae,this.removeListeners=Ae,this.controls=new af(f)}mount(){const{dragControls:f}=this.node.getProps();f&&(this.removeGroupControls=f.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ts=c=>(f,d)=>{c&&Rt.postRender(()=>c(f,d))};class Bu extends Fa{constructor(){super(...arguments),this.removePointerDownListener=Ae}onPointerDown(f){this.session=new Rs(f,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vu(this.node)})}createPanHandlers(){const{onPanSessionStart:f,onPanStart:d,onPan:g,onPanEnd:C}=this.node.getProps();return{onSessionStart:Ts(f),onStart:Ts(d),onMove:g,onEnd:(A,O)=>{delete this.session,C&&Rt.postRender(()=>C(A,O))}}}mount(){this.removePointerDownListener=Cs(this.node.current,"pointerdown",f=>this.onPointerDown(f))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var Ss=E(85893),jn=E(67294);const wl=(0,jn.createContext)(null);function wh(c=!0){const f=(0,jn.useContext)(wl);if(f===null)return[!0,null];const{isPresent:d,onExitComplete:g,register:C}=f,A=(0,jn.useId)();(0,jn.useEffect)(()=>{c&&C(A)},[c]);const O=(0,jn.useCallback)(()=>c&&g&&g(A),[A,g,c]);return!d&&g?[!1,O]:[!0]}function Ad(){return Oh(useContext(PresenceContext))}function Oh(c){return c===null?!0:c.isPresent}const sf=(0,jn.createContext)({}),Mo=(0,jn.createContext)({}),al={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sa(c,f){return f.max===f.min?0:c/(f.max-f.min)*100}const Vs={correct:(c,f)=>{if(!f.target)return c;if(typeof c=="string")if(it.test(c))c=parseFloat(c);else return c;const d=Sa(c,f.target.x),g=Sa(c,f.target.y);return`${d}% ${g}%`}},lr={correct:(c,{treeScale:f,projectionDelta:d})=>{const g=c,C=ai.parse(c);if(C.length>5)return g;const A=ai.createTransformer(c),O=typeof C[0]!="number"?1:0,L=d.x.scale*f.x,V=d.y.scale*f.y;C[0+O]/=L,C[1+O]/=V;const j=Gt(L,V,.5);return typeof C[2+O]=="number"&&(C[2+O]/=j),typeof C[3+O]=="number"&&(C[3+O]/=j),A(C)}},Ol={};function Ql(c){Object.assign(Ol,c)}const{schedule:Ml,cancel:Jl}=zt(queueMicrotask,!1);class zu extends jn.Component{componentDidMount(){const{visualElement:f,layoutGroup:d,switchLayoutGroup:g,layoutId:C}=this.props,{projection:A}=f;Ql(Bs),A&&(d.group&&d.group.add(A),g&&g.register&&C&&g.register(A),A.root.didUpdate(),A.addEventListener("animationComplete",()=>{this.safeToRemove()}),A.setOptions(gi(nr({},A.options),{onExitComplete:()=>this.safeToRemove()}))),al.hasEverUpdated=!0}getSnapshotBeforeUpdate(f){const{layoutDependency:d,visualElement:g,drag:C,isPresent:A}=this.props,O=g.projection;return O&&(O.isPresent=A,C||f.layoutDependency!==d||d===void 0?O.willUpdate():this.safeToRemove(),f.isPresent!==A&&(A?O.promote():O.relegate()||Rt.postRender(()=>{const L=O.getStack();(!L||!L.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:f}=this.props.visualElement;f&&(f.root.didUpdate(),Ml.postRender(()=>{!f.currentAnimation&&f.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:f,layoutGroup:d,switchLayoutGroup:g}=this.props,{projection:C}=f;C&&(C.scheduleCheckAfterUnmount(),d&&d.group&&d.group.remove(C),g&&g.deregister&&g.deregister(C))}safeToRemove(){const{safeToRemove:f}=this.props;f&&f()}render(){return null}}function ts(c){const[f,d]=wh(),g=(0,jn.useContext)(sf);return(0,Ss.jsx)(zu,gi(nr({},c),{layoutGroup:g,switchLayoutGroup:(0,jn.useContext)(Mo),isPresent:f,safeToRemove:d}))}const Bs={borderRadius:gi(nr({},Vs),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Vs,borderTopRightRadius:Vs,borderBottomLeftRadius:Vs,borderBottomRightRadius:Vs,boxShadow:lr};function Uu(c,f,d){const g=fr(c)?c:br(c);return g.start(us("",g,f,d)),g.animation}function ku(c){return c instanceof SVGElement&&c.tagName!=="svg"}const lf=(c,f)=>c.depth-f.depth;class Al{constructor(){this.children=[],this.isDirty=!1}add(f){tr(this.children,f),this.isDirty=!0}remove(f){rr(this.children,f),this.isDirty=!0}forEach(f){this.isDirty&&this.children.sort(lf),this.isDirty=!1,this.children.forEach(f)}}function $u(c,f){const d=ir.now(),g=({timestamp:C})=>{const A=C-d;A>=f&&(mr(g),c(A-f))};return Rt.read(g,!0),()=>mr(g)}function Mh(c,f){return $u(c,secondsToMilliseconds(f))}function zs(c){const f=fr(c)?c.get():c;return se(f)?f.toValue():f}const ju=["TopLeft","TopRight","BottomLeft","BottomRight"],ql=ju.length,Hu=c=>typeof c=="string"?parseFloat(c):c,ol=c=>typeof c=="number"||it.test(c);function uf(c,f,d,g,C,A){C?(c.opacity=Gt(0,d.opacity!==void 0?d.opacity:1,cf(g)),c.opacityExit=Gt(f.opacity!==void 0?f.opacity:1,0,ff(g))):A&&(c.opacity=Gt(f.opacity!==void 0?f.opacity:1,d.opacity!==void 0?d.opacity:1,g));for(let O=0;O<ql;O++){const L=`border${ju[O]}Radius`;let V=Gu(f,L),j=Gu(d,L);if(V===void 0&&j===void 0)continue;V||(V=0),j||(j=0),V===0||j===0||ol(V)===ol(j)?(c[L]=Math.max(Gt(Hu(V),Hu(j),g),0),(ri.test(j)||ri.test(V))&&(c[L]+="%")):c[L]=j}(f.rotate||d.rotate)&&(c.rotate=Gt(f.rotate||0,d.rotate||0,g))}function Gu(c,f){return c[f]!==void 0?c[f]:c.borderRadius}const cf=eu(0,.5,ve),ff=eu(.5,.95,Ae);function eu(c,f,d){return g=>g<c?0:g>f?1:d(Mt(c,f,g))}function ya(c,f){c.min=f.min,c.max=f.max}function ho(c,f){ya(c.x,f.x),ya(c.y,f.y)}function tu(c,f){c.translate=f.translate,c.scale=f.scale,c.originPoint=f.originPoint,c.origin=f.origin}function Wu(c,f,d,g,C){return c-=f,c=Sl(c,1/d,g),C!==void 0&&(c=Sl(c,1/C,g)),c}function xo(c,f=0,d=1,g=.5,C,A=c,O=c){if(ri.test(f)&&(f=parseFloat(f),f=Gt(O.min,O.max,f/100)-O.min),typeof f!="number")return;let L=Gt(A.min,A.max,g);c===A&&(L-=f),c.min=Wu(c.min,f,d,L,C),c.max=Wu(c.max,f,d,L,C)}function ru(c,f,[d,g,C],A,O){xo(c,f[d],f[g],f[C],f.scale,A,O)}const hf=["x","scaleX","originX"],df=["y","scaleY","originY"];function Zu(c,f,d,g){ru(c.x,f,hf,d?d.x:void 0,g?g.x:void 0),ru(c.y,f,df,d?d.y:void 0,g?g.y:void 0)}function Xu(c){return c.translate===0&&c.scale===1}function Il(c){return Xu(c.x)&&Xu(c.y)}function Yu(c,f){return c.min===f.min&&c.max===f.max}function mf(c,f){return Yu(c.x,f.x)&&Yu(c.y,f.y)}function Ku(c,f){return Math.round(c.min)===Math.round(f.min)&&Math.round(c.max)===Math.round(f.max)}function Qu(c,f){return Ku(c.x,f.x)&&Ku(c.y,f.y)}function Ju(c){return Na(c.x)/Na(c.y)}function nu(c,f){return c.translate===f.translate&&c.scale===f.scale&&c.originPoint===f.originPoint}class qu{constructor(){this.members=[]}add(f){tr(this.members,f),f.scheduleRender()}remove(f){if(rr(this.members,f),f===this.prevLead&&(this.prevLead=void 0),f===this.lead){const d=this.members[this.members.length-1];d&&this.promote(d)}}relegate(f){const d=this.members.findIndex(C=>f===C);if(d===0)return!1;let g;for(let C=d;C>=0;C--){const A=this.members[C];if(A.isPresent!==!1){g=A;break}}return g?(this.promote(g),!0):!1}promote(f,d){const g=this.lead;if(f!==g&&(this.prevLead=g,this.lead=f,f.show(),g)){g.instance&&g.scheduleRender(),f.scheduleRender(),f.resumeFrom=g,d&&(f.resumeFrom.preserveOpacity=!0),g.snapshot&&(f.snapshot=g.snapshot,f.snapshot.latestValues=g.animationValues||g.latestValues),f.root&&f.root.isUpdating&&(f.isLayoutDirty=!0);const{crossfade:C}=f.options;C===!1&&g.hide()}}exitAnimationComplete(){this.members.forEach(f=>{const{options:d,resumingFrom:g}=f;d.onExitComplete&&d.onExitComplete(),g&&g.options.onExitComplete&&g.options.onExitComplete()})}scheduleRender(){this.members.forEach(f=>{f.instance&&f.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vf(c,f,d){let g="";const C=c.x.translate/f.x,A=c.y.translate/f.y,O=(d==null?void 0:d.z)||0;if((C||A||O)&&(g=`translate3d(${C}px, ${A}px, ${O}px) `),(f.x!==1||f.y!==1)&&(g+=`scale(${1/f.x}, ${1/f.y}) `),d){const{transformPerspective:j,rotate:K,rotateX:ge,rotateY:Me,skewX:ut,skewY:ht}=d;j&&(g=`perspective(${j}px) ${g}`),K&&(g+=`rotate(${K}deg) `),ge&&(g+=`rotateX(${ge}deg) `),Me&&(g+=`rotateY(${Me}deg) `),ut&&(g+=`skewX(${ut}deg) `),ht&&(g+=`skewY(${ht}deg) `)}const L=c.x.scale*f.x,V=c.y.scale*f.y;return(L!==1||V!==1)&&(g+=`scale(${L}, ${V})`),g||"none"}const Bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sl=typeof window!="undefined"&&window.MotionDebug!==void 0,iu=["","X","Y","Z"],pf={visibility:"hidden"},Pl=1e3;let Ah=0;function ll(c,f,d,g){const{latestValues:C}=f;C[c]&&(d[c]=C[c],f.setStaticValue(c,0),g&&(g[c]=0))}function ec(c){if(c.hasCheckedOptimisedAppear=!0,c.root===c)return;const{visualElement:f}=c.options;if(!f)return;const d=Ei(f);if(window.MotionHasOptimisedAnimation(d,"transform")){const{layout:C,layoutId:A}=c.options;window.MotionCancelOptimisedAnimation(d,"transform",Rt,!(C||A))}const{parent:g}=c;g&&!g.hasCheckedOptimisedAppear&&ec(g)}function tc({attachResizeListener:c,defaultParent:f,measureScroll:d,checkIsScrollRoot:g,resetTransform:C}){return class{constructor(O={},L=f==null?void 0:f()){this.id=Ah++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sl&&(Bo.totalNodes=Bo.resolvedTargetDeltas=Bo.recalculatedProjection=0),this.nodes.forEach(Uo),this.nodes.forEach(ou),this.nodes.forEach(bf),this.nodes.forEach(Rl),sl&&window.MotionDebug.record(Bo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=L?L.root||L:this,this.path=L?[...L.path,L]:[],this.parent=L,this.depth=L?L.depth+1:0;for(let V=0;V<this.path.length;V++)this.path[V].shouldResetTransform=!0;this.root===this&&(this.nodes=new Al)}addEventListener(O,L){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new jr),this.eventHandlers.get(O).add(L)}notifyListeners(O,...L){const V=this.eventHandlers.get(O);V&&V.notify(...L)}hasListeners(O){return this.eventHandlers.has(O)}mount(O,L=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ku(O),this.instance=O;const{layoutId:V,layout:j,visualElement:K}=this.options;if(K&&!K.current&&K.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),L&&(j||V)&&(this.isLayoutDirty=!0),c){let ge;const Me=()=>this.root.updateBlockedByResize=!1;c(O,()=>{this.root.updateBlockedByResize=!0,ge&&ge(),ge=$u(Me,250),al.hasAnimatedSinceResize&&(al.hasAnimatedSinceResize=!1,this.nodes.forEach(_i))})}V&&this.root.registerSharedNode(V,this),this.options.animate!==!1&&K&&(V||j)&&this.addEventListener("didUpdate",({delta:ge,hasLayoutChanged:Me,hasRelativeLayoutChanged:ut,layout:ht})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ut=this.options.transition||K.getDefaultTransition()||oc,{onLayoutAnimationStart:dr,onLayoutAnimationComplete:ur}=K.getProps(),fn=!this.targetLayout||!Qu(this.targetLayout,ht),pn=!Me&&ut;if(this.options.layoutRoot||this.resumeFrom||pn||Me&&(fn||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ge,pn);const ui=gi(nr({},Ot(Ut,"layout")),{onPlay:dr,onComplete:ur});(K.shouldReduceMotion||this.options.layoutRoot)&&(ui.delay=0,ui.type=!1),this.startAnimation(ui)}else Me||_i(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ht})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xf),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ec(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let K=0;K<this.path.length;K++){const ge=this.path[K];ge.shouldResetTransform=!0,ge.updateScroll("snapshot"),ge.options.layoutRoot&&ge.willUpdate(!1)}const{layoutId:L,layout:V}=this.options;if(L===void 0&&!V)return;const j=this.getTransformTemplate();this.prevTransformTemplateValue=j?j(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rc);return}this.isUpdating||this.nodes.forEach(ul),this.isUpdating=!1,this.nodes.forEach(au),this.nodes.forEach(zo),this.nodes.forEach(gf),this.clearAllSnapshots();const L=ir.now();St.delta=xr(0,1e3/60,L-St.timestamp),St.timestamp=L,St.isProcessing=!0,pe.update.process(St),pe.preRender.process(St),pe.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ml.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yf),this.sharedNodes.forEach(nc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let V=0;V<this.path.length;V++)this.path[V].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ca(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:L}=this.options;L&&L.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let L=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(L=!1),L){const V=g(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:V,offset:d(this.instance),wasRoot:this.scroll?this.scroll.isRoot:V}}}resetTransform(){if(!C)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,L=this.projectionDelta&&!Il(this.projectionDelta),V=this.getTransformTemplate(),j=V?V(this.latestValues,""):void 0,K=j!==this.prevTransformTemplateValue;O&&(L||qo(this.latestValues)||K)&&(C(this.instance,j),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const L=this.measurePageBox();let V=this.removeElementScroll(L);return O&&(V=this.removeTransform(V)),uu(V),{animationId:this.root.animationId,measuredBox:L,layoutBox:V,latestValues:{},source:this.id}}measurePageBox(){var O;const{visualElement:L}=this.options;if(!L)return ca();const V=L.measureViewportBox();if(!(((O=this.scroll)===null||O===void 0?void 0:O.wasRoot)||this.path.some(Tf))){const{scroll:K}=this.root;K&&(Ds(V.x,K.offset.x),Ds(V.y,K.offset.y))}return V}removeElementScroll(O){var L;const V=ca();if(ho(V,O),!((L=this.scroll)===null||L===void 0)&&L.wasRoot)return V;for(let j=0;j<this.path.length;j++){const K=this.path[j],{scroll:ge,options:Me}=K;K!==this.root&&ge&&Me.layoutScroll&&(ge.wasRoot&&ho(V,O),Ds(V.x,ge.offset.x),Ds(V.y,ge.offset.y))}return V}applyTransform(O,L=!1){const V=ca();ho(V,O);for(let j=0;j<this.path.length;j++){const K=this.path[j];!L&&K.options.layoutScroll&&K.scroll&&K!==K.root&&Fs(V,{x:-K.scroll.offset.x,y:-K.scroll.offset.y}),qo(K.latestValues)&&Fs(V,K.latestValues)}return qo(this.latestValues)&&Fs(V,this.latestValues),V}removeTransform(O){const L=ca();ho(L,O);for(let V=0;V<this.path.length;V++){const j=this.path[V];if(!j.instance||!qo(j.latestValues))continue;Yl(j.latestValues)&&j.updateSnapshot();const K=ca(),ge=j.measurePageBox();ho(K,ge),Zu(L,j.latestValues,j.snapshot?j.snapshot.layoutBox:void 0,K)}return qo(this.latestValues)&&Zu(L,this.latestValues),L}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options=gi(nr(nr({},this.options),O),{crossfade:O.crossfade!==void 0?O.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){var L;const V=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=V.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=V.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=V.isSharedProjectionDirty);const j=!!this.resumingFrom||this!==V;if(!(O||j&&this.isSharedProjectionDirty||this.isProjectionDirty||!((L=this.parent)===null||L===void 0)&&L.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:ge,layoutId:Me}=this.options;if(!(!this.layout||!(ge||Me))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const ut=this.getClosestProjectingParent();ut&&ut.layout&&this.animationProgress!==1?(this.relativeParent=ut,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),na(this.relativeTargetOrigin,this.layout.layoutBox,ut.layout.layoutBox),ho(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ca(),this.targetWithTransforms=ca()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Va(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ho(this.target,this.layout.layoutBox),Vo(this.target,this.targetDelta)):ho(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ut=this.getClosestProjectingParent();ut&&!!ut.resumingFrom==!!this.resumingFrom&&!ut.options.layoutScroll&&ut.target&&this.animationProgress!==1?(this.relativeParent=ut,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),na(this.relativeTargetOrigin,this.target,ut.target),ho(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sl&&Bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yl(this.parent.latestValues)||Kl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const L=this.getLead(),V=!!this.resumingFrom||this!==L;let j=!0;if((this.isProjectionDirty||!((O=this.parent)===null||O===void 0)&&O.isProjectionDirty)&&(j=!1),V&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(j=!1),this.resolvedRelativeTargetAt===St.timestamp&&(j=!1),j)return;const{layout:K,layoutId:ge}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(K||ge))return;ho(this.layoutCorrected,this.layout.layoutBox);const Me=this.treeScale.x,ut=this.treeScale.y;tf(this.layoutCorrected,this.treeScale,this.path,V),L.layout&&!L.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(L.target=L.layout.layoutBox,L.targetWithTransforms=ca());const{target:ht}=L;if(!ht){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tu(this.prevProjectionDelta.x,this.projectionDelta.x),tu(this.prevProjectionDelta.y,this.projectionDelta.y)),Nr(this.projectionDelta,this.layoutCorrected,ht,this.latestValues),(this.treeScale.x!==Me||this.treeScale.y!==ut||!nu(this.projectionDelta.x,this.prevProjectionDelta.x)||!nu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ht)),sl&&Bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){var L;if((L=this.options.visualElement)===null||L===void 0||L.scheduleRender(),O){const V=this.getStack();V&&V.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(O,L=!1){const V=this.snapshot,j=V?V.latestValues:{},K=nr({},this.latestValues),ge=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!L;const Me=ca(),ut=V?V.source:void 0,ht=this.layout?this.layout.source:void 0,Ut=ut!==ht,dr=this.getStack(),ur=!dr||dr.members.length<=1,fn=!!(Ut&&!ur&&this.options.crossfade===!0&&!this.path.some(Ih));this.animationProgress=0;let pn;this.mixTargetDelta=ui=>{const Pn=ui/1e3;ic(ge.x,O.x,Pn),ic(ge.y,O.y,Pn),this.setTargetDelta(ge),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(na(Me,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ac(this.relativeTarget,this.relativeTargetOrigin,Me,Pn),pn&&mf(this.relativeTarget,pn)&&(this.isProjectionDirty=!1),pn||(pn=ca()),ho(pn,this.relativeTarget)),Ut&&(this.animationValues=K,uf(K,j,this.latestValues,Pn,fn,ur)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Pn},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{al.hasAnimatedSinceResize=!0,this.currentAnimation=Uu(0,Pl,gi(nr({},O),{onUpdate:L=>{this.mixTargetDelta(L),O.onUpdate&&O.onUpdate(L)},onComplete:()=>{O.onComplete&&O.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pl),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:L,target:V,layout:j,latestValues:K}=O;if(!(!L||!V||!j)){if(this!==O&&this.layout&&j&&Ef(this.options.animationType,this.layout.layoutBox,j.layoutBox)){V=this.target||ca();const ge=Na(this.layout.layoutBox.x);V.x.min=O.target.x.min,V.x.max=V.x.min+ge;const Me=Na(this.layout.layoutBox.y);V.y.min=O.target.y.min,V.y.max=V.y.min+Me}ho(L,V),Fs(L,K),Nr(this.projectionDeltaWithTransform,this.layoutCorrected,L,K)}}registerSharedNode(O,L){this.sharedNodes.has(O)||this.sharedNodes.set(O,new qu),this.sharedNodes.get(O).add(L);const j=L.options.initialPromotionConfig;L.promote({transition:j?j.transition:void 0,preserveFollowOpacity:j&&j.shouldPreserveFollowOpacity?j.shouldPreserveFollowOpacity(L):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){var O;const{layoutId:L}=this.options;return L?((O=this.getStack())===null||O===void 0?void 0:O.lead)||this:this}getPrevLead(){var O;const{layoutId:L}=this.options;return L?(O=this.getStack())===null||O===void 0?void 0:O.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:L,preserveFollowOpacity:V}={}){const j=this.getStack();j&&j.promote(this,V),O&&(this.projectionDelta=void 0,this.needsReset=!0),L&&this.setOptions({transition:L})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let L=!1;const{latestValues:V}=O;if((V.z||V.rotate||V.rotateX||V.rotateY||V.rotateZ||V.skewX||V.skewY)&&(L=!0),!L)return;const j={};V.z&&ll("z",O,j,this.animationValues);for(let K=0;K<iu.length;K++)ll(`rotate${iu[K]}`,O,j,this.animationValues),ll(`skew${iu[K]}`,O,j,this.animationValues);O.render();for(const K in j)O.setStaticValue(K,j[K]),this.animationValues&&(this.animationValues[K]=j[K]);O.scheduleRender()}getProjectionStyles(O){var L,V;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pf;const j={visibility:""},K=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,j.opacity="",j.pointerEvents=zs(O==null?void 0:O.pointerEvents)||"",j.transform=K?K(this.latestValues,""):"none",j;const ge=this.getLead();if(!this.projectionDelta||!this.layout||!ge.target){const Ut={};return this.options.layoutId&&(Ut.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Ut.pointerEvents=zs(O==null?void 0:O.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(Ut.transform=K?K({},""):"none",this.hasProjected=!1),Ut}const Me=ge.animationValues||ge.latestValues;this.applyTransformsToTarget(),j.transform=vf(this.projectionDeltaWithTransform,this.treeScale,Me),K&&(j.transform=K(Me,j.transform));const{x:ut,y:ht}=this.projectionDelta;j.transformOrigin=`${ut.origin*100}% ${ht.origin*100}% 0`,ge.animationValues?j.opacity=ge===this?(V=(L=Me.opacity)!==null&&L!==void 0?L:this.latestValues.opacity)!==null&&V!==void 0?V:1:this.preserveOpacity?this.latestValues.opacity:Me.opacityExit:j.opacity=ge===this?Me.opacity!==void 0?Me.opacity:"":Me.opacityExit!==void 0?Me.opacityExit:0;for(const Ut in Ol){if(Me[Ut]===void 0)continue;const{correct:dr,applyTo:ur}=Ol[Ut],fn=j.transform==="none"?Me[Ut]:dr(Me[Ut],ge);if(ur){const pn=ur.length;for(let ui=0;ui<pn;ui++)j[ur[ui]]=fn}else j[Ut]=fn}return this.options.layoutId&&(j.pointerEvents=ge===this?zs(O==null?void 0:O.pointerEvents)||"":"none"),j}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>{var L;return(L=O.currentAnimation)===null||L===void 0?void 0:L.stop()}),this.root.nodes.forEach(rc),this.root.sharedNodes.clear()}}}function zo(c){c.updateLayout()}function gf(c){var f;const d=((f=c.resumeFrom)===null||f===void 0?void 0:f.snapshot)||c.snapshot;if(c.isLead()&&c.layout&&d&&c.hasListeners("didUpdate")){const{layoutBox:g,measuredBox:C}=c.layout,{animationType:A}=c.options,O=d.source!==c.layout.source;A==="size"?bo(ge=>{const Me=O?d.measuredBox[ge]:d.layoutBox[ge],ut=Na(Me);Me.min=g[ge].min,Me.max=Me.min+ut}):Ef(A,d.layoutBox,g)&&bo(ge=>{const Me=O?d.measuredBox[ge]:d.layoutBox[ge],ut=Na(g[ge]);Me.max=Me.min+ut,c.relativeTarget&&!c.currentAnimation&&(c.isProjectionDirty=!0,c.relativeTarget[ge].max=c.relativeTarget[ge].min+ut)});const L=Ls();Nr(L,g,d.layoutBox);const V=Ls();O?Nr(V,c.applyTransform(C,!0),d.measuredBox):Nr(V,g,d.layoutBox);const j=!Il(L);let K=!1;if(!c.resumeFrom){const ge=c.getClosestProjectingParent();if(ge&&!ge.resumeFrom){const{snapshot:Me,layout:ut}=ge;if(Me&&ut){const ht=ca();na(ht,d.layoutBox,Me.layoutBox);const Ut=ca();na(Ut,g,ut.layoutBox),Qu(ht,Ut)||(K=!0),ge.options.layoutRoot&&(c.relativeTarget=Ut,c.relativeTargetOrigin=ht,c.relativeParent=ge)}}}c.notifyListeners("didUpdate",{layout:g,snapshot:d,delta:V,layoutDelta:L,hasLayoutChanged:j,hasRelativeLayoutChanged:K})}else if(c.isLead()){const{onExitComplete:g}=c.options;g&&g()}c.options.transition=void 0}function Uo(c){sl&&Bo.totalNodes++,c.parent&&(c.isProjecting()||(c.isProjectionDirty=c.parent.isProjectionDirty),c.isSharedProjectionDirty||(c.isSharedProjectionDirty=!!(c.isProjectionDirty||c.parent.isProjectionDirty||c.parent.isSharedProjectionDirty)),c.isTransformDirty||(c.isTransformDirty=c.parent.isTransformDirty))}function Rl(c){c.isProjectionDirty=c.isSharedProjectionDirty=c.isTransformDirty=!1}function yf(c){c.clearSnapshot()}function rc(c){c.clearMeasurements()}function ul(c){c.isLayoutDirty=!1}function au(c){const{visualElement:f}=c.options;f&&f.getProps().onBeforeLayoutMeasure&&f.notify("BeforeLayoutMeasure"),c.resetTransform()}function _i(c){c.finishAnimation(),c.targetDelta=c.relativeTarget=c.target=void 0,c.isProjectionDirty=!0}function ou(c){c.resolveTargetDelta()}function bf(c){c.calcProjection()}function xf(c){c.resetSkewAndRotation()}function nc(c){c.removeLeadSnapshot()}function ic(c,f,d){c.translate=Gt(f.translate,0,d),c.scale=Gt(f.scale,1,d),c.origin=f.origin,c.originPoint=f.originPoint}function su(c,f,d,g){c.min=Gt(f.min,d.min,g),c.max=Gt(f.max,d.max,g)}function ac(c,f,d,g){su(c.x,f.x,d.x,g),su(c.y,f.y,d.y,g)}function Ih(c){return c.animationValues&&c.animationValues.opacityExit!==void 0}const oc={duration:.45,ease:[.4,0,.1,1]},sc=c=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(c),Cf=sc("applewebkit/")&&!sc("chrome/")?Math.round:Ae;function lu(c){c.min=Cf(c.min),c.max=Cf(c.max)}function uu(c){lu(c.x),lu(c.y)}function Ef(c,f,d){return c==="position"||c==="preserve-aspect"&&!_s(Ju(f),Ju(d),.2)}function Tf(c){var f;return c!==c.root&&((f=c.scroll)===null||f===void 0?void 0:f.wasRoot)}const Us=tc({attachResizeListener:(c,f)=>cs(c,"resize",f),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cu={current:void 0},lc=tc({measureScroll:c=>({x:c.scrollLeft,y:c.scrollTop}),defaultParent:()=>{if(!cu.current){const c=new Us({});c.mount(window),c.setOptions({layoutScroll:!0}),cu.current=c}return cu.current},resetTransform:(c,f)=>{c.style.transform=f!==void 0?f:"none"},checkIsScrollRoot:c=>window.getComputedStyle(c).position==="fixed"}),Sf={pan:{Feature:Bu},drag:{Feature:oo,ProjectionNode:lc,MeasureLayout:ts}};function uc(c,f,d){const{props:g}=c;c.animationState&&g.whileHover&&c.animationState.setActive("whileHover",d==="Start");const C="onHover"+d,A=g[C];A&&Rt.postRender(()=>A(f,io(f)))}class wf extends Fa{mount(){const{current:f}=this.node;f&&(this.unmount=Y(f,(d,g)=>(uc(this.node,g,"Start"),C=>uc(this.node,C,"End"))))}unmount(){}}class Of extends Fa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let f=!1;try{f=this.node.current.matches(":focus-visible")}catch(d){f=!0}!f||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pr(cs(this.node.current,"focus",()=>this.onFocus()),cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cc(c,f,d){const{props:g}=c;c.animationState&&g.whileTap&&c.animationState.setActive("whileTap",d==="Start");const C="onTap"+(d==="End"?"":d),A=g[C];A&&Rt.postRender(()=>A(f,io(f)))}class fc extends Fa{mount(){const{current:f}=this.node;f&&(this.unmount=Ft(f,(d,g)=>(cc(this.node,g,"Start"),(C,{success:A})=>cc(this.node,C,A?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fu=new WeakMap,hu=new WeakMap,hc=c=>{const f=fu.get(c.target);f&&f(c)},Co=c=>{c.forEach(hc)};function Mf(d){var g=d,{root:c}=g,f=Ao(g,["root"]);const C=c||document;hu.has(C)||hu.set(C,{});const A=hu.get(C),O=JSON.stringify(f);return A[O]||(A[O]=new IntersectionObserver(Co,nr({root:c},f))),A[O]}function Af(c,f,d){const g=Mf(f);return fu.set(c,d),g.observe(c),()=>{fu.delete(c),g.unobserve(c)}}const dc={some:0,all:1};class fs extends Fa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:f={}}=this.node.getProps(),{root:d,margin:g,amount:C="some",once:A}=f,O={root:d?d.current:void 0,rootMargin:g,threshold:typeof C=="number"?C:dc[C]},L=V=>{const{isIntersecting:j}=V;if(this.isInView===j||(this.isInView=j,A&&!j&&this.hasEnteredView))return;j&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",j);const{onViewportEnter:K,onViewportLeave:ge}=this.node.getProps(),Me=j?K:ge;Me&&Me(V)};return Af(this.node.current,O,L)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:f,prevProps:d}=this.node;["amount","margin","root"].some(If(f,d))&&this.startObserver()}unmount(){}}function If({viewport:c={}},{viewport:f={}}={}){return d=>c[d]!==f[d]}const Pf={inView:{Feature:fs},tap:{Feature:fc},focus:{Feature:Of},hover:{Feature:wf}},Rf={layout:{ProjectionNode:lc,MeasureLayout:ts}},mc=(0,jn.createContext)({strict:!1}),vc=(0,jn.createContext)({transformPagePoint:c=>c,isStatic:!1,reducedMotion:"never"}),_l=(0,jn.createContext)({});function Ll(c){return M(c.animate)||Z.some(f=>te(c[f]))}function pc(c){return!!(Ll(c)||c.variants)}function _f(c,f){if(Ll(c)){const{initial:d,animate:g}=c;return{initial:d===!1||te(d)?d:void 0,animate:te(g)?g:void 0}}return c.inherit!==!1?f:{}}function du(c){const{initial:f,animate:d}=_f(c,(0,jn.useContext)(_l));return(0,jn.useMemo)(()=>({initial:f,animate:d}),[gc(f),gc(d)])}function gc(c){return Array.isArray(c)?c.join(" "):c}const hs=typeof window!="undefined",yc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fi={};for(const c in yc)Fi[c]={isEnabled:f=>yc[c].some(d=>!!f[d])};function Dl(c){for(const f in c)Fi[f]=nr(nr({},Fi[f]),c[f])}const bc=Symbol.for("motionComponentSymbol");function Fl(c,f,d){return(0,jn.useCallback)(g=>{g&&c.onMount&&c.onMount(g),f&&(g?f.mount(g):f.unmount()),d&&(typeof d=="function"?d(g):Fo(d)&&(d.current=g))},[f])}const Nl=hs?jn.useLayoutEffect:jn.useEffect;function Lf(c,f,d,g,C){var A,O;const{visualElement:L}=(0,jn.useContext)(_l),V=(0,jn.useContext)(mc),j=(0,jn.useContext)(wl),K=(0,jn.useContext)(vc).reducedMotion,ge=(0,jn.useRef)(null);g=g||V.renderer,!ge.current&&g&&(ge.current=g(c,{visualState:f,parent:L,props:d,presenceContext:j,blockInitialAnimation:j?j.initial===!1:!1,reducedMotionConfig:K}));const Me=ge.current,ut=(0,jn.useContext)(Mo);Me&&!Me.projection&&C&&(Me.type==="html"||Me.type==="svg")&&cl(ge.current,d,C,ut);const ht=(0,jn.useRef)(!1);(0,jn.useInsertionEffect)(()=>{Me&&ht.current&&Me.update(d,j)});const Ut=d[fi],dr=(0,jn.useRef)(!!Ut&&!(!((A=window.MotionHandoffIsComplete)===null||A===void 0)&&A.call(window,Ut))&&((O=window.MotionHasOptimisedAnimation)===null||O===void 0?void 0:O.call(window,Ut)));return Nl(()=>{Me&&(ht.current=!0,window.MotionIsMounted=!0,Me.updateFeatures(),Ml.render(Me.render),dr.current&&Me.animationState&&Me.animationState.animateChanges())}),(0,jn.useEffect)(()=>{Me&&(!dr.current&&Me.animationState&&Me.animationState.animateChanges(),dr.current&&(queueMicrotask(()=>{var ur;(ur=window.MotionHandoffMarkAsComplete)===null||ur===void 0||ur.call(window,Ut)}),dr.current=!1))}),Me}function cl(c,f,d,g){const{layoutId:C,layout:A,drag:O,dragConstraints:L,layoutScroll:V,layoutRoot:j}=f;c.projection=new d(c.latestValues,f["data-framer-portal-id"]?void 0:xc(c.parent)),c.projection.setOptions({layoutId:C,layout:A,alwaysMeasureLayout:!!O||L&&Fo(L),visualElement:c,animationType:typeof A=="string"?A:"both",initialPromotionConfig:g,layoutScroll:V,layoutRoot:j})}function xc(c){if(c)return c.options.allowProjection!==!1?c.projection:xc(c.parent)}function Cc({preloadedFeatures:c,createVisualElement:f,useRender:d,useVisualState:g,Component:C}){var A,O;c&&Dl(c);function L(j,K){let ge;const Me=gi(nr(nr({},(0,jn.useContext)(vc)),j),{layoutId:Ec(j)}),{isStatic:ut}=Me,ht=du(j),Ut=g(j,ut);if(!ut&&hs){fl(Me,c);const dr=mu(Me);ge=dr.MeasureLayout,ht.visualElement=Lf(C,Ut,Me,f,dr.ProjectionNode)}return(0,Ss.jsxs)(_l.Provider,{value:ht,children:[ge&&ht.visualElement?(0,Ss.jsx)(ge,nr({visualElement:ht.visualElement},Me)):null,d(C,j,Fl(Ut,ht.visualElement,K),Ut,ut,ht.visualElement)]})}L.displayName=`motion.${typeof C=="string"?C:`create(${(O=(A=C.displayName)!==null&&A!==void 0?A:C.name)!==null&&O!==void 0?O:""})`}`;const V=(0,jn.forwardRef)(L);return V[bc]=C,V}function Ec({layoutId:c}){const f=(0,jn.useContext)(sf).id;return f&&c!==void 0?f+"-"+c:c}function fl(c,f){const d=(0,jn.useContext)(mc).strict}function mu(c){const{drag:f,layout:d}=Fi;if(!f&&!d)return{};const g=nr(nr({},f),d);return{MeasureLayout:f!=null&&f.isEnabled(c)||d!=null&&d.isEnabled(c)?g.MeasureLayout:void 0,ProjectionNode:g.ProjectionNode}}const Df=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rs(c){return typeof c!="string"||c.includes("-")?!1:!!(Df.indexOf(c)>-1||/[A-Z]/u.test(c))}function Ff(c){const f=(0,jn.useRef)(null);return f.current===null&&(f.current=c()),f.current}function hl({scrapeMotionValuesFromProps:c,createRenderState:f,onUpdate:d},g,C,A){const O={latestValues:Nf(g,C,A,c),renderState:f()};return d&&(O.onMount=L=>d(nr({props:g,current:L},O)),O.onUpdate=L=>d(L)),O}const Tc=c=>(f,d)=>{const g=(0,jn.useContext)(_l),C=(0,jn.useContext)(wl),A=()=>hl(c,f,g,C);return d?A():Ff(A)};function Nf(c,f,d,g){const C={},A=g(c,{});for(const ut in A)C[ut]=zs(A[ut]);let{initial:O,animate:L}=c;const V=Ll(c),j=pc(c);f&&j&&!V&&c.inherit!==!1&&(O===void 0&&(O=f.initial),L===void 0&&(L=f.animate));let K=d?d.initial===!1:!1;K=K||O===!1;const ge=K?L:O;if(ge&&typeof ge!="boolean"&&!M(ge)){const ut=Array.isArray(ge)?ge:[ge];for(let ht=0;ht<ut.length;ht++){const Ut=w(c,ut[ht]);if(Ut){const Me=Ut,{transitionEnd:dr,transition:ur}=Me,fn=Ao(Me,["transitionEnd","transition"]);for(const pn in fn){let ui=fn[pn];if(Array.isArray(ui)){const Pn=K?ui.length-1:0;ui=ui[Pn]}ui!==null&&(C[pn]=ui)}for(const pn in dr)C[pn]=dr[pn]}}}return C}const Sc=(c,f)=>f&&typeof c=="number"?f.transform(c):c,Vf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bf=Dt.length;function zf(c,f,d){let g="",C=!0;for(let A=0;A<Bf;A++){const O=Dt[A],L=c[O];if(L===void 0)continue;let V=!0;if(typeof L=="number"?V=L===(O.startsWith("scale")?1:0):V=parseFloat(L)===0,!V||d){const j=Sc(L,Nt[O]);if(!V){C=!1;const K=Vf[O]||O;g+=`${K}(${j}) `}d&&(f[O]=j)}}return g=g.trim(),d?g=d(f,C?"":g):C&&(g="none"),g}function vu(c,f,d){const{style:g,vars:C,transformOrigin:A}=c;let O=!1,L=!1;for(const V in f){const j=f[V];if(nt.has(V)){O=!0;continue}else if(ro(V)){C[V]=j;continue}else{const K=Sc(j,Nt[V]);V.startsWith("origin")?(L=!0,A[V]=K):g[V]=K}}if(f.transform||(O||d?g.transform=zf(f,c.transform,d):g.transform&&(g.transform="none")),L){const{originX:V="50%",originY:j="50%",originZ:K=0}=A;g.transformOrigin=`${V} ${j} ${K}`}}const Uf={offset:"stroke-dashoffset",array:"stroke-dasharray"},kf={offset:"strokeDashoffset",array:"strokeDasharray"};function wc(c,f,d=1,g=0,C=!0){c.pathLength=1;const A=C?Uf:kf;c[A.offset]=it.transform(-g);const O=it.transform(f),L=it.transform(d);c[A.array]=`${O} ${L}`}function Oc(c,f,d){return typeof c=="string"?c:it.transform(f+d*c)}function $f(c,f,d){const g=Oc(f,c.x,c.width),C=Oc(d,c.y,c.height);return`${g} ${C}`}function pu(c,Me,K,ge){var ut=Me,{attrX:f,attrY:d,attrScale:g,originX:C,originY:A,pathLength:O,pathSpacing:L=1,pathOffset:V=0}=ut,j=Ao(ut,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]);if(vu(c,j,ge),K){c.style.viewBox&&(c.attrs.viewBox=c.style.viewBox);return}c.attrs=c.style,c.style={};const{attrs:ht,style:Ut,dimensions:dr}=c;ht.transform&&(dr&&(Ut.transform=ht.transform),delete ht.transform),dr&&(C!==void 0||A!==void 0||Ut.transform)&&(Ut.transformOrigin=$f(dr,C!==void 0?C:.5,A!==void 0?A:.5)),f!==void 0&&(ht.x=f),d!==void 0&&(ht.y=d),g!==void 0&&(ht.scale=g),O!==void 0&&wc(ht,O,L,V,!1)}const gu=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Mc=()=>gi(nr({},gu()),{attrs:{}}),ks=c=>typeof c=="string"&&c.toLowerCase()==="svg";function yu(c,{style:f,vars:d},g,C){Object.assign(c.style,f,C&&C.getProjectionStyles(g));for(const A in d)c.style.setProperty(A,d[A])}const bu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ac(c,f,d,g){yu(c,f,void 0,g);for(const C in f.attrs)c.setAttribute(bu.has(C)?C:Wn(C),f.attrs[C])}function Ic(c,{layout:f,layoutId:d}){return nt.has(c)||c.startsWith("origin")||(f||d!==void 0)&&(!!Ol[c]||c==="opacity")}function ds(c,f,d){var g;const{style:C}=c,A={};for(const O in C)(fr(C[O])||f.style&&fr(f.style[O])||Ic(O,c)||((g=d==null?void 0:d.getValue(O))===null||g===void 0?void 0:g.liveStyle)!==void 0)&&(A[O]=C[O]);return A}function Pc(c,f,d){const g=ds(c,f,d);for(const C in c)if(fr(c[C])||fr(f[C])){const A=Dt.indexOf(C)!==-1?"attr"+C.charAt(0).toUpperCase()+C.substring(1):C;g[A]=c[C]}return g}function jf(c,f){try{f.dimensions=typeof c.getBBox=="function"?c.getBBox():c.getBoundingClientRect()}catch(d){f.dimensions={x:0,y:0,width:0,height:0}}}const Rc=["x","y","width","height","cx","cy","r"],Hf={useVisualState:Tc({scrapeMotionValuesFromProps:Pc,createRenderState:Mc,onUpdate:({props:c,prevProps:f,current:d,renderState:g,latestValues:C})=>{if(!d)return;let A=!!c.drag;if(!A){for(const L in C)if(nt.has(L)){A=!0;break}}if(!A)return;let O=!f;if(f)for(let L=0;L<Rc.length;L++){const V=Rc[L];c[V]!==f[V]&&(O=!0)}O&&Rt.read(()=>{jf(d,g),Rt.render(()=>{pu(g,C,ks(d.tagName),c.transformTemplate),Ac(d,g)})})}})},Gf={useVisualState:Tc({scrapeMotionValuesFromProps:ds,createRenderState:gu})};function xu(c,f,d){for(const g in f)!fr(f[g])&&!Ic(g,d)&&(c[g]=f[g])}function _c({transformTemplate:c},f){return(0,jn.useMemo)(()=>{const d=gu();return vu(d,f,c),Object.assign({},d.vars,d.style)},[f])}function Wf(c,f){const d=c.style||{},g={};return xu(g,d,c),Object.assign(g,_c(c,f)),g}function Zf(c,f){const d={},g=Wf(c,f);return c.drag&&c.dragListener!==!1&&(d.draggable=!1,g.userSelect=g.WebkitUserSelect=g.WebkitTouchCallout="none",g.touchAction=c.drag===!0?"none":`pan-${c.drag==="x"?"y":"x"}`),c.tabIndex===void 0&&(c.onTap||c.onTapStart||c.whileTap)&&(d.tabIndex=0),d.style=g,d}const Xf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vl(c){return c.startsWith("while")||c.startsWith("drag")&&c!=="draggable"||c.startsWith("layout")||c.startsWith("onTap")||c.startsWith("onPan")||c.startsWith("onLayout")||Xf.has(c)}let Lc=c=>!Vl(c);function Yf(c){c&&(Lc=f=>f.startsWith("on")?!Vl(f):c(f))}try{Yf(require("@emotion/is-prop-valid").default)}catch(c){}function Kf(c,f,d){const g={};for(const C in c)C==="values"&&typeof c.values=="object"||(Lc(C)||d===!0&&Vl(C)||!f&&!Vl(C)||c.draggable&&C.startsWith("onDrag"))&&(g[C]=c[C]);return g}function Qf(c,f,d,g){const C=(0,jn.useMemo)(()=>{const A=Mc();return pu(A,f,ks(g),c.transformTemplate),gi(nr({},A.attrs),{style:nr({},A.style)})},[f]);if(c.style){const A={};xu(A,c.style,c),C.style=nr(nr({},A),C.style)}return C}function Cu(c=!1){return(d,g,C,{latestValues:A},O)=>{const V=(rs(d)?Qf:Zf)(g,A,O,d),j=Kf(g,typeof d=="string",c),K=d!==jn.Fragment?gi(nr(nr({},j),V),{ref:C}):{},{children:ge}=g,Me=(0,jn.useMemo)(()=>fr(ge)?ge.get():ge,[ge]);return(0,jn.createElement)(d,gi(nr({},K),{children:Me}))}}function Dc(c,f){return function(g,{forwardMotionProps:C}={forwardMotionProps:!1}){const A=rs(g)?Hf:Gf,O=gi(nr({},A),{preloadedFeatures:c,useRender:Cu(C),createVisualElement:f,Component:g});return Cc(O)}}const Eu={current:null},Fc={current:!1};function Jf(){if(Fc.current=!0,!!hs)if(window.matchMedia){const c=window.matchMedia("(prefers-reduced-motion)"),f=()=>Eu.current=c.matches;c.addListener(f),f()}else Eu.current=!1}const qf=[..._,wn,ai],eh=c=>qf.find(As(c)),Nc=new WeakMap;function th(c,f,d){for(const g in f){const C=f[g],A=d[g];if(fr(C))c.addValue(g,C);else if(fr(A))c.addValue(g,br(C,{owner:c}));else if(A!==C)if(c.hasValue(g)){const O=c.getValue(g);O.liveStyle===!0?O.jump(C):O.hasAnimated||O.set(C)}else{const O=c.getStaticValue(g);c.addValue(g,br(O!==void 0?O:C,{owner:c}))}}for(const g in d)f[g]===void 0&&c.removeValue(g);return f}const $s=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ns{scrapeMotionValuesFromProps(f,d,g){return{}}constructor({parent:f,props:d,presenceContext:g,reducedMotionConfig:C,blockInitialAnimation:A,visualState:O},L={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ca,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const ht=ir.now();this.renderScheduledAt<ht&&(this.renderScheduledAt=ht,Rt.render(this.render,!1,!0))};const{latestValues:V,renderState:j,onUpdate:K}=O;this.onUpdate=K,this.latestValues=V,this.baseTarget=nr({},V),this.initialValues=d.initial?nr({},V):{},this.renderState=j,this.parent=f,this.props=d,this.presenceContext=g,this.depth=f?f.depth+1:0,this.reducedMotionConfig=C,this.options=L,this.blockInitialAnimation=!!A,this.isControllingVariants=Ll(d),this.isVariantNode=pc(d),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(f&&f.current);const ut=this.scrapeMotionValuesFromProps(d,{},this),{willChange:ge}=ut,Me=Ao(ut,["willChange"]);for(const ht in Me){const Ut=Me[ht];V[ht]!==void 0&&fr(Ut)&&Ut.set(V[ht],!1)}}mount(f){this.current=f,Nc.set(f,this),this.projection&&!this.projection.instance&&this.projection.mount(f),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((d,g)=>this.bindToMotionValue(g,d)),Fc.current||Jf(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Nc.delete(this.current),this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(f=>f()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const f in this.events)this.events[f].clear();for(const f in this.features){const d=this.features[f];d&&(d.unmount(),d.isMounted=!1)}this.current=null}bindToMotionValue(f,d){this.valueSubscriptions.has(f)&&this.valueSubscriptions.get(f)();const g=nt.has(f),C=d.on("change",L=>{this.latestValues[f]=L,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),g&&this.projection&&(this.projection.isTransformDirty=!0)}),A=d.on("renderRequest",this.scheduleRender);let O;window.MotionCheckAppearSync&&(O=window.MotionCheckAppearSync(this,f,d)),this.valueSubscriptions.set(f,()=>{C(),A(),O&&O(),d.owner&&d.stop()})}sortNodePosition(f){return!this.current||!this.sortInstanceNodePosition||this.type!==f.type?0:this.sortInstanceNodePosition(this.current,f.current)}updateFeatures(){let f="animation";for(f in Fi){const d=Fi[f];if(!d)continue;const{isEnabled:g,Feature:C}=d;if(!this.features[f]&&C&&g(this.props)&&(this.features[f]=new C(this)),this.features[f]){const A=this.features[f];A.isMounted?A.update():(A.mount(),A.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ca()}getStaticValue(f){return this.latestValues[f]}setStaticValue(f,d){this.latestValues[f]=d}update(f,d){(f.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=f,this.prevPresenceContext=this.presenceContext,this.presenceContext=d;for(let g=0;g<$s.length;g++){const C=$s[g];this.propEventSubscriptions[C]&&(this.propEventSubscriptions[C](),delete this.propEventSubscriptions[C]);const A="on"+C,O=f[A];O&&(this.propEventSubscriptions[C]=this.on(C,O))}this.prevMotionValues=th(this,this.scrapeMotionValuesFromProps(f,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(f){return this.props.variants?this.props.variants[f]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(f){const d=this.getClosestVariantNode();if(d)return d.variantChildren&&d.variantChildren.add(f),()=>d.variantChildren.delete(f)}addValue(f,d){const g=this.values.get(f);d!==g&&(g&&this.removeValue(f),this.bindToMotionValue(f,d),this.values.set(f,d),this.latestValues[f]=d.get())}removeValue(f){this.values.delete(f);const d=this.valueSubscriptions.get(f);d&&(d(),this.valueSubscriptions.delete(f)),delete this.latestValues[f],this.removeValueFromRenderState(f,this.renderState)}hasValue(f){return this.values.has(f)}getValue(f,d){if(this.props.values&&this.props.values[f])return this.props.values[f];let g=this.values.get(f);return g===void 0&&d!==void 0&&(g=br(d===null?void 0:d,{owner:this}),this.addValue(f,g)),g}readValue(f,d){var g;let C=this.latestValues[f]!==void 0||!this.current?this.latestValues[f]:(g=this.getBaseTargetFromProps(this.props,f))!==null&&g!==void 0?g:this.readValueFromInstance(this.current,f,this.options);return C!=null&&(typeof C=="string"&&(rn(C)||wt(C))?C=parseFloat(C):!eh(C)&&ai.test(d)&&(C=Hi(f,d)),this.setBaseTarget(f,fr(C)?C.get():C)),fr(C)?C.get():C}setBaseTarget(f,d){this.baseTarget[f]=d}getBaseTarget(f){var d;const{initial:g}=this.props;let C;if(typeof g=="string"||typeof g=="object"){const O=w(this.props,g,(d=this.presenceContext)===null||d===void 0?void 0:d.custom);O&&(C=O[f])}if(g&&C!==void 0)return C;const A=this.getBaseTargetFromProps(this.props,f);return A!==void 0&&!fr(A)?A:this.initialValues[f]!==void 0&&C===void 0?void 0:this.baseTarget[f]}on(f,d){return this.events[f]||(this.events[f]=new jr),this.events[f].add(d)}notify(f,...d){this.events[f]&&this.events[f].notify(...d)}}class Vc extends ns{constructor(){super(...arguments),this.KeyframeResolver=le}sortInstanceNodePosition(f,d){return f.compareDocumentPosition(d)&2?1:-1}getBaseTargetFromProps(f,d){return f.style?f.style[d]:void 0}removeValueFromRenderState(f,{vars:d,style:g}){delete d[f],delete g[f]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:f}=this.props;fr(f)&&(this.childSubscription=f.on("change",d=>{this.current&&(this.current.textContent=`${d}`)}))}}function rh(c){return window.getComputedStyle(c)}class Bc extends Vc{constructor(){super(...arguments),this.type="html",this.renderInstance=yu}readValueFromInstance(f,d){if(nt.has(d)){const g=qn(d);return g&&g.default||0}else{const g=rh(f),C=(ro(d)?g.getPropertyValue(d):g[d])||0;return typeof C=="string"?C.trim():C}}measureInstanceViewportBox(f,{transformPagePoint:d}){return Nu(f,d)}build(f,d,g){vu(f,d,g.transformTemplate)}scrapeMotionValuesFromProps(f,d,g){return ds(f,d,g)}}class nh extends Vc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ca}getBaseTargetFromProps(f,d){return f[d]}readValueFromInstance(f,d){if(nt.has(d)){const g=qn(d);return g&&g.default||0}return d=bu.has(d)?d:Wn(d),f.getAttribute(d)}scrapeMotionValuesFromProps(f,d,g){return Pc(f,d,g)}build(f,d,g){pu(f,d,this.isSVGTag,g.transformTemplate)}renderInstance(f,d,g,C){Ac(f,d,g,C)}mount(f){this.isSVGTag=ks(f.tagName),super.mount(f)}}const zc=(c,f)=>rs(c)?new nh(f):new Bc(f,{allowProjection:c!==jn.Fragment}),Uc=Dc(nr(nr(nr(nr({},Js),Pf),Sf),Rf),zc),Ph=y(Uc)},18357:function($t,we,E){"use strict";E.d(we,{df:function(){return Ot}});var y=E(67294),M=Object.defineProperty,U=(fe,Ne,Ve)=>Ne in fe?M(fe,Ne,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):fe[Ne]=Ve,xe=(fe,Ne,Ve)=>U(fe,typeof Ne!="symbol"?Ne+"":Ne,Ve),te=new Map,J=new WeakMap,w=0,ne=void 0;function W(fe){ne=fe}function Z(fe){return fe?(J.has(fe)||(w+=1,J.set(fe,w.toString())),J.get(fe)):"0"}function ce(fe){return Object.keys(fe).sort().filter(Ne=>fe[Ne]!==void 0).map(Ne=>`${Ne}_${Ne==="root"?Z(fe.root):fe[Ne]}`).toString()}function Ce(fe){const Ne=ce(fe);let Ve=te.get(Ne);if(!Ve){const et=new Map;let tt;const Xe=new IntersectionObserver(Ue=>{Ue.forEach(Mt=>{var Qt;const vt=Mt.isIntersecting&&tt.some(he=>Mt.intersectionRatio>=he);fe.trackVisibility&&typeof Mt.isVisible=="undefined"&&(Mt.isVisible=vt),(Qt=et.get(Mt.target))==null||Qt.forEach(he=>{he(vt,Mt)})})},fe);tt=Xe.thresholds||(Array.isArray(fe.threshold)?fe.threshold:[fe.threshold||0]),Ve={id:Ne,observer:Xe,elements:et},te.set(Ne,Ve)}return Ve}function de(fe,Ne,Ve={},et=ne){if(typeof window.IntersectionObserver=="undefined"&&et!==void 0){const Qt=fe.getBoundingClientRect();return Ne(et,{isIntersecting:et,target:fe,intersectionRatio:typeof Ve.threshold=="number"?Ve.threshold:0,time:0,boundingClientRect:Qt,intersectionRect:Qt,rootBounds:Qt}),()=>{}}const{id:tt,observer:Xe,elements:Ue}=Ce(Ve),Mt=Ue.get(fe)||[];return Ue.has(fe)||Ue.set(fe,Mt),Mt.push(Ne),Xe.observe(fe),function(){Mt.splice(Mt.indexOf(Ne),1),Mt.length===0&&(Ue.delete(fe),Xe.unobserve(fe)),Ue.size===0&&(Xe.disconnect(),te.delete(tt))}}function je(fe){return typeof fe.children!="function"}var Ot=class extends y.Component{constructor(fe){super(fe),xe(this,"node",null),xe(this,"_unobserveCb",null),xe(this,"handleNode",Ne=>{this.node&&(this.unobserve(),!Ne&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=Ne||null,this.observeNode()}),xe(this,"handleChange",(Ne,Ve)=>{Ne&&this.props.triggerOnce&&this.unobserve(),je(this.props)||this.setState({inView:Ne,entry:Ve}),this.props.onChange&&this.props.onChange(Ne,Ve)}),this.state={inView:!!fe.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(fe){(fe.rootMargin!==this.props.rootMargin||fe.root!==this.props.root||fe.threshold!==this.props.threshold||fe.skip!==this.props.skip||fe.trackVisibility!==this.props.trackVisibility||fe.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:fe,root:Ne,rootMargin:Ve,trackVisibility:et,delay:tt,fallbackInView:Xe}=this.props;this._unobserveCb=de(this.node,this.handleChange,{threshold:fe,root:Ne,rootMargin:Ve,trackVisibility:et,delay:tt},Xe)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:fe}=this.props;if(typeof fe=="function"){const{inView:Pt,entry:Lt}=this.state;return fe({inView:Pt,entry:Lt,ref:this.handleNode})}const Pe=this.props,{as:Ne,triggerOnce:Ve,threshold:et,root:tt,rootMargin:Xe,onChange:Ue,skip:Mt,trackVisibility:Qt,delay:vt,initialInView:he,fallbackInView:ae}=Pe,xt=Ao(Pe,["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"]);return y.createElement(Ne||"div",nr({ref:this.handleNode},xt),fe)}};function rt({threshold:fe,delay:Ne,trackVisibility:Ve,rootMargin:et,root:tt,triggerOnce:Xe,skip:Ue,initialInView:Mt,fallbackInView:Qt,onChange:vt}={}){var he;const[ae,xt]=React2.useState(null),Pe=React2.useRef(),[Pt,Lt]=React2.useState({inView:!!Mt,entry:void 0});Pe.current=vt,React2.useEffect(()=>{if(Ue||!ae)return;let me;return me=de(ae,(Ee,Ge)=>{Lt({inView:Ee,entry:Ge}),Pe.current&&Pe.current(Ee,Ge),Ge.isIntersecting&&Xe&&me&&(me(),me=void 0)},{root:tt,rootMargin:et,threshold:fe,trackVisibility:Ve,delay:Ne},Qt),()=>{me&&me()}},[Array.isArray(fe)?fe.toString():fe,ae,tt,et,Xe,Ue,Ve,Qt,Ne]);const Ye=(he=Pt.entry)==null?void 0:he.target,Le=React2.useRef();!ae&&Ye&&!Xe&&!Ue&&Le.current!==Ye&&(Le.current=Ye,Lt({inView:!!Mt,entry:void 0}));const Y=[xt,Pt.inView,Pt.entry];return Y.ref=Y[0],Y.inView=Y[1],Y.entry=Y[2],Y}}}]);
}());