!(function(){var lv=Object.defineProperty,uv=Object.defineProperties;var cv=Object.getOwnPropertyDescriptors;var pf=Object.getOwnPropertySymbols;var kd=Object.prototype.hasOwnProperty,Ud=Object.prototype.propertyIsEnumerable;var jh=Math.pow,zd=(Xt,Me,T)=>Me in Xt?lv(Xt,Me,{enumerable:!0,configurable:!0,writable:!0,value:T}):Xt[Me]=T,rn=(Xt,Me)=>{for(var T in Me||(Me={}))kd.call(Me,T)&&zd(Xt,T,Me[T]);if(pf)for(var T of pf(Me))Ud.call(Me,T)&&zd(Xt,T,Me[T]);return Xt},ci=(Xt,Me)=>uv(Xt,cv(Me));var Oo=(Xt,Me)=>{var T={};for(var y in Xt)kd.call(Xt,y)&&Me.indexOf(y)<0&&(T[y]=Xt[y]);if(Xt!=null&&pf)for(var y of pf(Xt))Me.indexOf(y)<0&&Ud.call(Xt,y)&&(T[y]=Xt[y]);return T};var Hh=(Xt,Me,T)=>new Promise((y,M)=>{var k=ee=>{try{ne(T.next(ee))}catch(w){M(w)}},me=ee=>{try{ne(T.throw(ee))}catch(w){M(w)}},ne=ee=>ee.done?y(ee.value):Promise.resolve(ee.value).then(k,me);ne((T=T.apply(Xt,Me)).next())});(self.webpackChunkantd_mini=self.webpackChunkantd_mini||[]).push([[7717],{20841:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},89739:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},63606:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},24019:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},80882:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},86548:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},21640:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},1210:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},6171:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},84477:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},60532:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},16664:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ae}});var y=T(97460),M=T(67294),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},me=k,ne=T(55230),ee=function(X,he){return M.createElement(ne.Z,(0,y.Z)({},X,{ref:he,icon:me}))},w=M.forwardRef(ee),ae=w},10535:function(){"use strict"},94363:function(){"use strict"},34637:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Arrow-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Arrow-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-335.000000, -153.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Arrow-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"Arrow-\u7F16\u7EC4-13",transform:"translate(331.000000, 79.000000)"},M.createElement("g",{id:"Arrow-\u6298\u53E0\u7BAD\u5934_Black@2x",transform:"translate(12.000000, 12.000000) rotate(90.000000) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)"},M.createElement("rect",{id:"Arrow-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M8.576,10.6224 C8.46400007,10.7357654 8.31136002,10.7997014 8.152,10.8 L7.848,10.8 C7.68897547,10.7980619 7.53693306,10.7343763 7.424,10.6224 L3.3184,6.4672 C3.16044703,6.30862179 3.16044703,6.05217821 3.3184,5.8936 L3.8864,5.3192 C3.95991079,5.24354153 4.06091047,5.20085176 4.1664,5.20085176 C4.27188953,5.20085176 4.37288921,5.24354153 4.4464,5.3192 L8,8.9168 L11.5536,5.3192 C11.6284927,5.24307539 11.7308111,5.20020394 11.8376,5.20020394 C11.9443889,5.20020394 12.0467073,5.24307539 12.1216,5.3192 L12.6816,5.8936 C12.839553,6.05217821 12.839553,6.30862179 12.6816,6.4672 L8.576,10.6224 Z",id:"Arrow-\u8DEF\u5F84"})))))))}var ee=ne;Me.default=ee},56564:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Brush-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.649999976},M.createElement("g",{id:"Brush-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-17.000000, -121.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Brush-brush",transform:"translate(14.000000, 120.000000)"},M.createElement("path",{d:"M8.20652175,3.2826087 L8.20652175,4.10326086 C8.20652175,4.55649455 7.83910325,4.92391304 7.38586957,4.92391304 C6.93263588,4.92391304 6.56521738,4.55649455 6.56521738,4.10326086 L6.56521738,3.2826087 L4.92391304,3.2826087 L4.92391304,8.20652175 L14.7717391,8.20652175 L14.7717391,3.2826087 L13.1304348,3.2826087 L13.1304348,5.74456522 C13.1304348,6.19779891 12.7630163,6.5652174 12.3097826,6.5652174 C11.8565489,6.5652174 11.4891304,6.19779891 11.4891304,5.74456522 L11.4891304,3.2826087 L8.20652175,3.2826087 Z M4.92391304,9.84782609 L4.92391304,11.4891304 L7.72233695,11.4891304 C8.08431263,11.4890155 8.42799204,11.6482243 8.66197039,11.9244136 C8.89594874,12.2006029 8.99650752,12.5657753 8.93690217,12.9228098 L8.60043479,14.9399728 C8.51784643,15.435105 8.73592476,15.9322123 9.15616576,16.2067558 C9.57640676,16.4812994 10.1192454,16.4812994 10.5394864,16.2067558 C10.9597274,15.9322123 11.1778057,15.435105 11.0952174,14.9399728 L10.75875,12.9228098 C10.6991446,12.5657753 10.7997034,12.2006029 11.0336818,11.9244136 C11.2676601,11.6482243 11.6113395,11.4890155 11.9733152,11.4891304 L14.7717391,11.4891304 L14.7717391,9.84782609 L4.92391304,9.84782609 Z M12.7143641,14.6699783 C12.9035912,15.807501 12.4022968,16.9492894 11.4368082,17.5798421 C10.4713197,18.2103948 9.2243325,18.2103948 8.25884395,17.5798421 C7.2933554,16.9492894 6.79206095,15.807501 6.98128804,14.6699783 L7.23815217,13.1304348 L4.92391304,13.1304348 C4.48861206,13.1304348 4.07113988,12.9575121 3.76333561,12.6497079 C3.45553133,12.3419036 3.2826087,11.9244314 3.2826087,11.4891304 L3.2826087,3.2826087 C3.2826087,2.84730772 3.45553133,2.42983554 3.76333561,2.12203126 C4.07113988,1.81422698 4.48861206,1.64130434 4.92391304,1.64130434 L14.7717391,1.64130434 C15.2070401,1.64130434 15.6245123,1.81422698 15.9323166,2.12203126 C16.2401208,2.42983554 16.4130435,2.84730772 16.4130435,3.2826087 L16.4130435,11.4891304 C16.4130435,11.9244314 16.2401208,12.3419036 15.9323166,12.6497079 C15.6245123,12.9575121 15.2070401,13.1304348 14.7717391,13.1304348 L12.4575,13.1304348 L12.7143641,14.6699783 L12.7143641,14.6699783 Z",id:"Brush-\u5F62\u72B6"})))))}var ee=ne;Me.default=ee},74304:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Compact-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Compact-\u9ED8\u8BA4",transform:"translate(-9.000000, -82.500000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Compact-\u9009\u9879\u4E00",transform:"translate(9.268811, 79.500000)"},M.createElement("g",{id:"Compact-smaller",transform:"translate(0.000000, 3.000000)"},M.createElement("rect",{id:"Compact-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M10,14 L10,12 C10,10.8666667 10.8666667,10 12,10 L14,10 C14.4,10 14.6666667,10.2666667 14.6666667,10.6666667 C14.6666667,11.0666667 14.4,11.3333333 14,11.3333333 L12,11.3333333 C11.6,11.3333333 11.3333333,11.6 11.3333333,12 L11.3333333,14 C11.3333333,14.4 11.0666667,14.6666667 10.6666667,14.6666667 C10.2666667,14.6666667 10,14.4 10,14 L10,14 Z M4.66666667,14 L4.66666667,12 C4.66666667,11.6 4.4,11.3333333 4,11.3333333 L2,11.3333333 C1.6,11.3333333 1.33333333,11.0666667 1.33333333,10.6666667 C1.33333333,10.2666667 1.6,10 2,10 L4,10 C5.13333333,10 6,10.8666667 6,12 L6,14 C6,14.4 5.73333333,14.6666667 5.33333333,14.6666667 C4.93333333,14.6666667 4.66666666,14.4 4.66666667,14 L4.66666667,14 Z M12,6 C10.8666667,6 10,5.13333333 10,4 L10,2 C10,1.6 10.2666667,1.33333333 10.6666667,1.33333333 C11.0666667,1.33333333 11.3333333,1.6 11.3333333,2 L11.3333333,4 C11.3333333,4.4 11.6,4.66666667 12,4.66666667 L14,4.66666667 C14.4,4.66666667 14.6666667,4.93333334 14.6666667,5.33333333 C14.6666667,5.73333331 14.4,6 14,6 L12,6 L12,6 Z M2,6 C1.6,6 1.33333333,5.73333333 1.33333333,5.33333333 C1.33333333,4.93333333 1.6,4.66666666 2,4.66666667 L4,4.66666667 C4.4,4.66666667 4.66666667,4.4 4.66666667,4 L4.66666667,2 C4.66666667,1.6 4.93333334,1.33333333 5.33333333,1.33333333 C5.73333331,1.33333333 6,1.6 6,2 L6,4 C6,5.13333333 5.13333333,6 4,6 L2,6 Z",id:"Compact-\u5F62\u72B6"}))))))}var ee=ne;Me.default=ee},90387:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Control-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Control-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-1372.000000, -505.000000)",fillRule:"nonzero"},M.createElement("g",{id:"Control-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"Control-\u7F16\u7EC4-14",transform:"translate(536.000000, 420.000000)"},M.createElement("g",{id:"Control-\u7CFB\u7EDF\u63A7\u5236",transform:"translate(836.000000, 15.000000)"},M.createElement("rect",{id:"Control-\u77E9\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M6,3.5625 L13.75,3.5625 L13.75,4.1875 L6,4.1875 L6,3.5625 Z M2.1875,3.5625 L3.8125,3.5625 L3.8125,4.1875 L2.1875,4.1875 L2.1875,3.5625 Z M8.3125,11.8125 L13.75,11.8125 L13.75,12.4375 L8.3125,12.4375 L8.3125,11.8125 Z M2.1875,11.8125 L6.125,11.8125 L6.125,12.4375 L2.1875,12.4375 L2.1875,11.8125 Z M12.625,7.6875 L13.75,7.6875 L13.75,8.3125 L12.625,8.3125 L12.625,7.6875 Z M2.1875,7.6875 L10.4375,7.6875 L10.4375,8.3125 L2.1875,8.3125 L2.1875,7.6875 Z",id:"Control-\u5F62\u72B6",fill:"currentColor"}),M.createElement("path",{d:"M1.875,3.875 C1.875,4.04758898 2.01491102,4.1875 2.1875,4.1875 C2.36008898,4.1875 2.5,4.04758898 2.5,3.875 C2.5,3.70241102 2.36008898,3.5625 2.1875,3.5625 C2.01491102,3.5625 1.875,3.70241102 1.875,3.875 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,3.875 C13.4375,4.04758898 13.577411,4.1875 13.75,4.1875 C13.922589,4.1875 14.0625,4.04758898 14.0625,3.875 C14.0625,3.70241102 13.922589,3.5625 13.75,3.5625 C13.577411,3.5625 13.4375,3.70241102 13.4375,3.875 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,8 C13.4375,8.17258898 13.577411,8.3125 13.75,8.3125 C13.922589,8.3125 14.0625,8.17258898 14.0625,8 C14.0625,7.82741102 13.922589,7.6875 13.75,7.6875 C13.577411,7.6875 13.4375,7.82741102 13.4375,8 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M13.4375,12.125 C13.4375,12.297589 13.577411,12.4375 13.75,12.4375 C13.922589,12.4375 14.0625,12.297589 14.0625,12.125 C14.0625,11.952411 13.922589,11.8125 13.75,11.8125 C13.577411,11.8125 13.4375,11.952411 13.4375,12.125 L13.4375,12.125 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M1.875,8 C1.875,8.17258898 2.01491102,8.3125 2.1875,8.3125 C2.36008898,8.3125 2.5,8.17258898 2.5,8 C2.5,7.82741102 2.36008898,7.6875 2.1875,7.6875 C2.01491102,7.6875 1.875,7.82741102 1.875,8 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M1.875,12.125 C1.875,12.297589 2.01491102,12.4375 2.1875,12.4375 C2.36008898,12.4375 2.5,12.297589 2.5,12.125 C2.5,11.952411 2.36008898,11.8125 2.1875,11.8125 C2.01491102,11.8125 1.875,11.952411 1.875,12.125 L1.875,12.125 Z",id:"Control-\u8DEF\u5F84",fill:"currentColor"}),M.createElement("path",{d:"M4.90625,5.25 C4.13125,5.25 3.5,4.61875 3.5,3.84375 C3.5,3.06875 4.13125,2.4375 4.90625,2.4375 C5.68125,2.4375 6.3125,3.06875 6.3125,3.84375 C6.3125,4.61875 5.68125,5.25 4.90625,5.25 Z M4.90625,3.0625 C4.475,3.0625 4.125,3.4125 4.125,3.84375 C4.125,4.275 4.475,4.625 4.90625,4.625 C5.3375,4.625 5.6875,4.275 5.6875,3.84375 C5.6875,3.4125 5.3375,3.0625 4.90625,3.0625 Z M11.53125,9.4375 C10.75625,9.4375 10.125,8.80625 10.125,8.03125 C10.125,7.25625 10.75625,6.625 11.53125,6.625 C12.30625,6.625 12.9375,7.25625 12.9375,8.03125 C12.9375,8.80625 12.30625,9.4375 11.53125,9.4375 Z M11.53125,7.25 C11.1,7.25 10.75,7.6 10.75,8.03125 C10.75,8.4625 11.1,8.8125 11.53125,8.8125 C11.9625,8.8125 12.3125,8.4625 12.3125,8.03125 C12.3125,7.6 11.9625,7.25 11.53125,7.25 Z M7.21875,13.5 C6.44375,13.5 5.8125,12.86875 5.8125,12.09375 C5.8125,11.31875 6.44375,10.6875 7.21875,10.6875 C7.99375,10.6875 8.625,11.31875 8.625,12.09375 C8.625,12.86875 7.99375,13.5 7.21875,13.5 Z M7.21875,11.3125 C6.7875,11.3125 6.4375,11.6625 6.4375,12.09375 C6.4375,12.525 6.7875,12.875 7.21875,12.875 C7.65,12.875 8,12.525 8,12.09375 C8,11.6625 7.65,11.3125 7.21875,11.3125 Z",id:"Control-\u5F62\u72B6",fill:"currentColor"})))))))}var ee=ne;Me.default=ee},35791:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Dark-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Dark-\u9ED8\u8BA4",transform:"translate(-9.000000, -49.500000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Dark-\u7F16\u7EC4-17",transform:"translate(0.000000, 42.500000)"},M.createElement("g",{id:"Dark-moon",transform:"translate(9.268811, 7.500000)"},M.createElement("rect",{id:"Dark-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:16}),M.createElement("path",{d:"M8,1.33333333 C8.14933333,1.33333333 8.29688889,1.33844444 8.44266667,1.34866666 C8.14755556,1.98422221 8,2.64577777 8,3.33333333 C8,3.96533333 8.12333333,4.56955555 8.37,5.146 C8.61666667,5.72244445 8.94822222,6.21888889 9.36466667,6.63533333 C9.78111112,7.05177777 10.2775556,7.38333332 10.854,7.63 C11.4304444,7.87666668 12.0346667,8.00000001 12.6666667,8 C13.3542222,8 14.0157778,7.85244444 14.6513333,7.55733333 C14.6615556,7.70311111 14.6666667,7.85066667 14.6666667,8 C14.6666667,8.604 14.5868889,9.19422222 14.4273333,9.77066667 C14.2677778,10.3471111 14.0446667,10.8793333 13.758,11.3673333 C13.4713333,11.8553333 13.1233333,12.3042222 12.714,12.714 C12.3046667,13.1237778 11.8557778,13.4717778 11.3673333,13.758 C10.8788889,14.0442222 10.3466667,14.2673333 9.77066667,14.4273333 C9.19466667,14.5873333 8.60444445,14.6671111 8,14.6666685 C7.39555555,14.6662222 6.80533333,14.5864444 6.22933333,14.4273333 C5.65333333,14.2682222 5.1211111,14.0451111 4.63266666,13.758 C4.14422221,13.4708889 3.69533332,13.1228889 3.28599998,12.714 C2.87666665,12.3051111 2.52866665,11.8562222 2.24199998,11.3673333 C1.95533332,10.8784444 1.73222221,10.3462222 1.57266666,9.77066667 C1.4131111,9.19511112 1.33333333,8.6048889 1.33333333,8 C1.33333333,7.3951111 1.4131111,6.80488888 1.57266666,6.22933333 C1.73222221,5.65377778 1.95533332,5.12155555 2.24199998,4.63266666 C2.52866665,4.14377776 2.87666665,3.69488887 3.28599998,3.28599998 C3.69533332,2.8771111 4.14422221,2.5291111 4.63266666,2.24199998 C5.1211111,1.95488887 5.65333333,1.73177776 6.22933333,1.57266666 C6.80533333,1.41355555 7.39555555,1.33377778 8,1.33333333 Z M6.68733333,2.828 C6.11444444,2.97377778 5.58066667,3.20977778 5.086,3.536 C4.59133333,3.86222222 4.166,4.24933333 3.81,4.69733333 C3.454,5.14533333 3.17444444,5.65488889 2.97133333,6.226 C2.76822221,6.79711111 2.66666666,7.38822222 2.66666666,7.99933333 C2.66666666,8.72155555 2.80733332,9.41155555 3.08866666,10.0693333 C3.36999999,10.7271111 3.74933332,11.2948889 4.22666666,11.7726667 C4.70399999,12.2504444 5.27177777,12.6297778 5.92999998,12.9106667 C6.5882222,13.1915556 7.2782222,13.3322222 7.99999998,13.3326667 C8.6111111,13.3326667 9.20222221,13.2311111 9.77333331,13.028 C10.3444444,12.8248889 10.854,12.5453333 11.302,12.1893333 C11.75,11.8333333 12.1371111,11.408 12.4633333,10.9133333 C12.7895555,10.4186666 13.0255555,9.88488887 13.1713333,9.31199998 C13.022,9.32577777 12.8535555,9.33266666 12.666,9.33266666 C11.8535555,9.33266666 11.0775555,9.17377777 10.338,8.85599998 C9.59844443,8.5382222 8.96044443,8.11111109 8.42399998,7.57466666 C7.88755554,7.03822222 7.46044443,6.40022222 7.14266666,5.66066666 C6.82488889,4.92111109 6.66599999,4.14511109 6.66599998,3.33266666 C6.66599998,3.1451111 6.67288888,2.97666666 6.68666666,2.82733333 L6.68733333,2.828 Z",id:"Dark-\u5F62\u72B6"}))))))}var ee=ne;Me.default=ee},95671:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Light-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Light-\u4E3B\u9898\u5305",transform:"translate(-2943.000000, -292.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Light-\u7F16\u7EC4-12",transform:"translate(2415.000000, 222.000000)"},M.createElement("g",{id:"Light-\u89C6\u56FE\u5207\u6362-\u7F16\u8F91\u6001",transform:"translate(518.000000, 60.000000)"},M.createElement("g",{id:"Light-eye",transform:"translate(8.000000, 8.000000)"},M.createElement("g",{id:"Light-sun",transform:"translate(2.000000, 2.000000)"},M.createElement("rect",{id:"Light-\u77E9\u5F62",opacity:0,x:0,y:0,width:13,height:13}),M.createElement("path",{d:"M6.5,9.75 C4.7051875,9.75 3.25,8.2948125 3.25,6.5 C3.25,4.7051875 4.7051875,3.25 6.5,3.25 C8.2948125,3.25 9.75,4.7051875 9.75,6.5 C9.75,8.2948125 8.2948125,9.75 6.5,9.75 Z M6.5,8.66666667 C7.69661696,8.66666667 8.66666667,7.69661696 8.66666667,6.5 C8.66666667,5.30338304 7.69661696,4.33333333 6.5,4.33333333 C5.30338305,4.33333333 4.33333336,5.30338305 4.33333336,6.5 C4.33333336,7.69661695 5.30338305,8.66666667 6.5,8.66666667 Z M5.95833333,1.08333333 C5.95833333,0.784179087 6.20084576,0.541666658 6.5,0.541666658 C6.79915424,0.541666658 7.04166667,0.784179087 7.04166667,1.08333333 L7.04166667,2.16666667 C7.04166667,2.46582091 6.79915424,2.70833334 6.5,2.70833334 C6.20084576,2.70833334 5.95833333,2.46582091 5.95833333,2.16666667 L5.95833333,1.08333333 L5.95833333,1.08333333 Z M5.95833333,10.8333333 C5.95833333,10.5341791 6.20084576,10.2916667 6.5,10.2916667 C6.79915424,10.2916667 7.04166667,10.5341791 7.04166667,10.8333333 L7.04166667,11.9166667 C7.04166667,12.2158209 6.79915424,12.4583333 6.5,12.4583333 C6.20084576,12.4583333 5.95833333,12.2158209 5.95833333,11.9166667 L5.95833333,10.8333333 L5.95833333,10.8333333 Z M1.08333333,7.04166667 C0.784179087,7.04166667 0.541666658,6.79915424 0.541666658,6.5 C0.541666658,6.20084576 0.784179087,5.95833333 1.08333333,5.95833333 L2.16666667,5.95833333 C2.46582091,5.95833333 2.70833334,6.20084576 2.70833334,6.5 C2.70833334,6.79915424 2.46582091,7.04166667 2.16666667,7.04166667 L1.08333333,7.04166667 L1.08333333,7.04166667 Z M10.8333333,7.04166667 C10.5341791,7.04166667 10.2916667,6.79915424 10.2916667,6.5 C10.2916667,6.20084576 10.5341791,5.95833333 10.8333333,5.95833333 L11.9166667,5.95833333 C12.2158209,5.95833333 12.4583333,6.20084576 12.4583333,6.5 C12.4583333,6.79915424 12.2158209,7.04166667 11.9166667,7.04166667 L10.8333333,7.04166667 L10.8333333,7.04166667 Z M2.05454167,2.82045833 C1.84926545,2.60791971 1.85220137,2.27007933 2.06114035,2.06114035 C2.27007933,1.85220137 2.60791971,1.84926545 2.82045833,2.05454167 L3.63295833,2.86704167 C3.83823455,3.07958029 3.83529863,3.41742067 3.62635965,3.62635965 C3.41742067,3.83529863 3.07958029,3.83823455 2.86704167,3.63295833 L2.05454167,2.82045833 L2.05454167,2.82045833 Z M9.36704167,10.1329583 C9.16176545,9.92041971 9.16470137,9.58257933 9.37364035,9.37364035 C9.58257933,9.16470137 9.92041971,9.16176545 10.1329583,9.36704167 L10.9454583,10.1795417 C11.1507346,10.3920803 11.1477986,10.7299207 10.9388596,10.9388596 C10.7299207,11.1477986 10.3920803,11.1507346 10.1795417,10.9454583 L9.36704167,10.1329583 L9.36704167,10.1329583 Z M2.82045833,10.9454583 C2.60791971,11.1507346 2.27007933,11.1477986 2.06114035,10.9388596 C1.85220137,10.7299207 1.84926545,10.3920803 2.05454167,10.1795417 L2.86704167,9.36704167 C3.07958029,9.16176545 3.41742067,9.16470137 3.62635965,9.37364035 C3.83529863,9.58257933 3.83823455,9.92041971 3.63295833,10.1329583 L2.82045833,10.9454583 L2.82045833,10.9454583 Z M10.1329583,3.63295833 C9.92041971,3.83823455 9.58257933,3.83529863 9.37364035,3.62635965 C9.16470137,3.41742067 9.16176545,3.07958029 9.36704167,2.86704167 L10.1795417,2.05454167 C10.3920803,1.84926545 10.7299207,1.85220137 10.9388596,2.06114035 C11.1477986,2.27007933 11.1507346,2.60791971 10.9454583,2.82045833 L10.1329583,3.63295833 L10.1329583,3.63295833 Z",id:"Light-\u5F62\u72B6"}))))))))}var ee=ne;Me.default=ee},63341:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Margin-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Margin-margin",transform:"translate(0.000000, 0.942377)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"Margin-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M11.6666667,2.75858915 L4.33333333,2.75858915 C4.01904762,2.75858915 3.80952382,2.54931688 3.80952382,2.23540845 C3.80952382,1.92150003 4.01904763,1.71222775 4.33333334,1.71222775 L11.6666667,1.71222775 C11.9809524,1.71222775 12.1904762,1.92150003 12.1904762,2.23540845 C12.1904762,2.54931688 11.9809524,2.75858915 11.6666667,2.75858915 Z M11.6666667,14.2685646 L4.33333333,14.2685646 C4.01904762,14.2685646 3.8095238,14.0592923 3.8095238,13.7453839 C3.8095238,13.4314755 4.01904762,13.2222032 4.33333333,13.2222032 L11.6666667,13.2222032 C11.9809524,13.2222032 12.1904762,13.4314755 12.1904762,13.7453839 C12.1904762,14.0592923 11.9809524,14.2685646 11.6666667,14.2685646 Z M13.7619048,12.1758418 C13.447619,12.1758418 13.2380952,11.9665695 13.2380952,11.6526611 L13.2380952,4.32813125 C13.2380952,4.01422283 13.4476191,3.80495055 13.7619048,3.80495055 C14.0761905,3.80495055 14.2857143,4.01422283 14.2857143,4.32813125 L14.2857143,11.6526611 C14.2857143,11.9665695 14.0761905,12.1758418 13.7619048,12.1758418 Z M2.23809524,12.1758418 C1.92380953,12.1758418 1.71428572,11.9665695 1.71428572,11.6526611 L1.71428572,4.32813125 C1.71428572,4.01422283 1.92380953,3.80495055 2.23809524,3.80495055 C2.55238096,3.80495055 2.76190477,4.01422283 2.76190477,4.32813125 L2.76190477,11.6526611 C2.76190477,11.9665695 2.55238096,12.1758418 2.23809524,12.1758418 Z M11.6666667,12.1758418 L4.33333333,12.1758418 C4.01904762,12.1758418 3.8095238,11.9665695 3.8095238,11.6526611 L3.8095238,4.32813125 C3.8095238,4.01422283 4.01904763,3.80495055 4.33333334,3.80495055 L11.6666667,3.80495055 C11.9809524,3.80495055 12.1904762,4.01422283 12.1904762,4.32813125 L12.1904762,11.6526611 C12.1904762,11.9665695 11.9809524,12.1758418 11.6666667,12.1758418 Z M4.85714286,11.1294804 L11.1428571,11.1294804 L11.1428571,4.85131196 L4.85714286,4.85131196 L4.85714286,11.1294804 Z",id:"Margin-\u5F62\u72B6"}))))}var ee=ne;Me.default=ee},95265:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Motion-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"Motion-\u5BCC\u6587\u672C\u7F16\u8F91\u5668_\u52A8\u6548",transform:"translate(0.000000, 0.903962)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"Motion-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M6.55644444,12.5262777 L7.99555556,13.9627734 C8.13290682,14.0984321 8.18701716,14.2971622 8.13737053,14.4836147 C8.0877239,14.6700672 7.94192169,14.8156943 7.75524511,14.8652814 C7.56856853,14.9148684 7.36959959,14.860823 7.23377778,14.7236366 L5.79555556,13.2862532 C5.60250935,13.0737079 5.61045949,12.7472435 5.8136232,12.5443237 C6.01678692,12.3414038 6.3436437,12.3334632 6.55644444,12.5262777 L6.55644444,12.5262777 Z M12.2435556,12.6630023 L13.3857778,13.8038533 C13.5231286,13.9395121 13.5772386,14.138242 13.527592,14.3246942 C13.4779453,14.5111464 13.3321433,14.6567734 13.145467,14.7063605 C12.9587906,14.7559476 12.7598219,14.7019025 12.624,14.5647165 L11.4817778,13.4238655 C11.3444269,13.2882067 11.2903169,13.0894768 11.3399636,12.9030246 C11.3896103,12.7165724 11.5354123,12.5709454 11.7220886,12.5213583 C11.9087649,12.4717712 12.1077337,12.5258163 12.2435556,12.6630023 L12.2435556,12.6630023 Z M7.29511111,0.990809123 C7.37066667,1.03342457 7.43377778,1.09645992 7.47644444,1.17192476 L9.23911111,4.29439403 L12.7564444,5.00376364 C12.9258902,5.03768098 13.0638332,5.16026877 13.1172645,5.32441904 C13.1706959,5.4885693 13.1313024,5.66874209 13.0142222,5.79570068 L10.5866667,8.43430705 L10.9982222,11.9953603 C11.018176,12.1667991 10.94398,12.3356549 10.8041422,12.4370491 C10.6643043,12.5384432 10.4805781,12.5566027 10.3235556,12.4845501 L7.06133333,10.9930095 L3.79733333,12.4845501 C3.64031082,12.5566027 3.45658456,12.5384432 3.3167467,12.4370491 C3.17690884,12.3356549 3.10271286,12.1667991 3.12266667,11.9953603 L3.53511111,8.43519487 L1.10577778,5.79570068 C0.988697555,5.66874209 0.949304077,5.4885693 1.00273546,5.32441904 C1.05616684,5.16026877 1.19410976,5.03768098 1.36355556,5.00376364 L4.88177778,4.29439403 L6.64266667,1.17192476 C6.70502264,1.06136833 6.80886024,0.980137913 6.93126543,0.94615878 C7.05367063,0.912179648 7.18458201,0.928244805 7.29511111,0.990809123 Z M7.05955556,2.62440123 L5.57688889,5.25235374 L2.61688889,5.84808216 L4.65955556,8.07030012 L4.31288889,11.0666987 L7.05955556,9.81131866 L9.80533333,11.0666987 L9.45866667,8.07030012 L11.5031111,5.84896999 L8.54222222,5.25235374 L7.05866667,2.62440123 L7.05955556,2.62440123 Z M13.1528889,7.76045031 L14.5911111,9.19694597 C14.7892424,9.40878705 14.7837079,9.73933037 14.5785954,9.9444359 C14.373483,10.1495414 14.0425491,10.1554552 13.8302222,9.95780926 L12.3911111,8.5213136 C12.2537603,8.38565475 12.1996502,8.18692487 12.2492969,8.00047265 C12.2989436,7.81402043 12.4447456,7.66839345 12.6314219,7.61880637 C12.8180983,7.56921929 13.017067,7.62326436 13.1528889,7.76045031 L13.1528889,7.76045031 Z",id:"Motion-\u5F62\u72B6"}))))}var ee=ne;Me.default=ee},53278:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"Pick-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.65},M.createElement("g",{id:"Pick-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-541.000000, -387.000000)",fill:"currentColor",fillRule:"nonzero"},M.createElement("g",{id:"Pick-\u7F16\u7EC4-11",transform:"translate(76.000000, 340.000000)"},M.createElement("g",{id:"Pick-Map-Token-\u9762\u677F",transform:"translate(0.000000, 27.000000)"},M.createElement("g",{id:"Pick-token-\u663E\u793A",transform:"translate(-1.002041, -1.000000)"},M.createElement("g",{id:"Pick-\u7F16\u7EC4-2",transform:"translate(12.024490, 20.000000)"},M.createElement("g",{id:"Pick-shangyeguanxi",transform:"translate(453.924490, 1.000000)"},M.createElement("path",{d:"M12.6274816,8.17204883 C12.6358384,8.04673242 12.6401539,7.92030859 12.6401539,7.79288672 C12.6401539,5.50309375 11.2701899,3.53286719 9.30406641,2.65472266 C9.31862927,2.54983203 9.32632854,2.44274023 9.32632854,2.33384375 C9.32632854,1.05430664 8.28750187,0.0169394531 7.00623025,0.0169394531 C5.72484902,0.0169394531 4.68607715,1.05430664 4.68607715,2.33384375 C4.68607715,2.44267188 4.69376272,2.54968164 4.70829819,2.65451758 C2.74188703,3.53256641 1.37158055,5.50290234 1.37158055,7.79288672 C1.37158055,7.92044531 1.37592338,8.04699219 1.38428025,8.17243164 C0.593775725,8.54169531 0.0460860491,9.34289453 0.0460860491,10.2719531 C0.0460860491,11.5515449 1.08474833,12.5888574 2.36612955,12.5888574 C2.80723496,12.5888574 3.21958454,12.4658926 3.57069612,12.2524336 C4.52158393,12.9838105 5.71288912,13.4188223 7.00595625,13.4188223 C8.30016046,13.4188223 9.49238354,12.9830449 10.4436412,12.2505195 C10.7943281,12.4630762 11.2059516,12.5854668 11.6462213,12.5854668 C12.9274382,12.5854668 13.9661004,11.5489746 13.9661004,10.2703672 C13.9661004,9.34171875 13.4181916,8.54095703 12.6274816,8.17204883 Z M7.00623025,1.00913477 C7.73549676,1.00913477 8.32698463,1.59684766 8.33166995,2.32357617 C8.33168365,2.32647461 8.33177955,2.32935938 8.33177955,2.33225781 C8.33177955,2.69178711 8.18805519,3.01775195 7.95488499,3.25620313 C7.71417991,3.50236523 7.37813809,3.65527148 7.00623025,3.65527148 C6.6343361,3.65527148 6.29829428,3.50236523 6.0575618,3.25620313 C5.8243779,3.01775195 5.68062614,2.69178711 5.68062614,2.33225781 C5.68062614,2.32931836 5.68072204,2.32639258 5.68073574,2.32345313 C5.68547586,1.59679297 6.27704593,1.00913477 7.00623025,1.00913477 Z M2.36612955,11.5993965 C1.63399978,11.5993965 1.04047065,11.0058047 1.04047065,10.2734297 C1.04047065,9.84645703 1.24229576,9.46667969 1.55566445,9.22416797 C1.7797654,9.05074023 2.06088482,8.94746289 2.36614325,8.94746289 C2.41639403,8.94746289 2.46597352,8.95036133 2.51477213,8.95580273 C3.17696454,9.02969922 3.69181585,9.59136719 3.69181585,10.273416 C3.69181585,10.4903613 3.6397293,10.6951113 3.5473928,10.8758809 C3.39166744,11.1807637 3.12143934,11.4173555 2.79339819,11.5289863 C2.65931847,11.574623 2.51562151,11.5993965 2.36612955,11.5993965 Z M7.00127093,12.4178633 C5.99141928,12.4178633 5.0570808,12.0957402 4.29537321,11.549084 C4.53905114,11.1824316 4.68111783,10.7425937 4.68111783,10.2695605 C4.68111783,8.99117188 3.64429132,7.95466602 2.36460887,7.95280664 C2.3626772,7.89787305 2.36134833,7.84278906 2.36134833,7.78737695 C2.36134833,5.92565039 3.46242679,4.32079102 5.05001172,3.58529883 C5.46299149,4.22481445 6.18258597,4.64830078 7.00128463,4.64830078 C7.81990109,4.64830078 8.53950926,4.22481445 8.95248903,3.58529883 C10.5400329,4.32079102 11.6411113,5.92565039 11.6411113,7.78737695 C11.6411113,7.84277539 11.6397824,7.89787305 11.6378508,7.95280664 C10.3582094,7.95465234 9.32139662,8.99040625 9.32139662,10.2679746 C9.32139662,10.7413906 9.4639017,11.1815293 9.70827832,11.5482363 C8.94635153,12.0953848 8.01158836,12.4178633 7.00127093,12.4178633 Z M11.6459473,8.94746289 C11.9510962,8.94746289 12.2321197,9.0506582 12.4561658,9.22397656 C12.7696578,9.46647461 12.9715652,9.84632031 12.9715652,10.273375 C12.9715652,11.0056953 12.3780634,11.5993418 11.6459473,11.5993418 C11.4964143,11.5993418 11.3526762,11.574541 11.2185828,11.528877 C10.8907472,11.4172324 10.6206287,11.1807227 10.464917,10.8759902 C10.3725257,10.6951797 10.320398,10.490375 10.320398,10.273375 C10.320398,9.59128516 10.8354138,9.0295625 11.4976062,8.95577539 C11.5463226,8.95034766 11.5957925,8.94746289 11.6459473,8.94746289 Z M7.00557266,6.21029883 C7.91351399,6.21029883 8.64954587,6.94483166 8.64954587,7.85092383 C8.64954587,8.757016 7.91351399,9.49154883 7.00557266,9.49154883 C6.09763132,9.49154883 5.36159944,8.757016 5.36159944,7.85092383 C5.36159944,6.94483166 6.09763132,6.21029883 7.00557266,6.21029883 Z",id:"Pick-\u5F62\u72B6"})))))))))}var ee=ne;Me.default=ee},34786:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"SearchDropdown-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"SearchDropdown-\u4E3B\u9898\u9884\u89C8\u5668---\u7EC4\u4EF6\u9884\u89C8",transform:"translate(-23.000000, -198.000000)",fillRule:"nonzero"},M.createElement("g",{id:"SearchDropdown-\u7F16\u7EC4-18",transform:"translate(0.000000, 70.000000)"},M.createElement("g",{id:"SearchDropdown-\u7F16\u7EC4-15",transform:"translate(16.000000, 123.000000)"},M.createElement("g",{id:"SearchDropdown-search-outlined",transform:"translate(7.000000, 5.000000)"},M.createElement("rect",{id:"SearchDropdown-\u77E9\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:18,height:18}),M.createElement("path",{d:"M15.958,14.99375 L11.41325,10.449 C12.1185,9.53725 12.5,8.4225 12.5,7.25 C12.5,5.8465 11.95225,4.5305 10.96175,3.53825 C9.97125,2.546 8.65175,2 7.25,2 C5.84825,2 4.52875,2.54775 3.53825,3.53825 C2.546,4.52875 2,5.8465 2,7.25 C2,8.65175 2.54775,9.97125 3.53825,10.96175 C4.52875,11.954 5.8465,12.5 7.25,12.5 C8.4225,12.5 9.5355,12.1185 10.44725,11.415 L14.992,15.958 C15.048,16.014 15.139,16.014 15.195,15.958 L15.958,15.19675 C16.014,15.14075 16.014,15.04975 15.958,14.99375 Z M10.022,10.022 C9.28,10.76225 8.2965,11.17 7.25,11.17 C6.2035,11.17 5.22,10.76225 4.478,10.022 C3.73775,9.28 3.33,8.2965 3.33,7.25 C3.33,6.2035 3.73775,5.21825 4.478,4.478 C5.22,3.73775 6.2035,3.33 7.25,3.33 C8.2965,3.33 9.28175,3.736 10.022,4.478 C10.76225,5.22 11.17,6.2035 11.17,7.25 C11.17,8.2965 10.76225,9.28175 10.022,10.022 Z",id:"SearchDropdown-\u5F62\u72B6",fill:"currentColor"}),M.createElement("path",{d:"M17.8616348,7.7578125 L14.0131973,7.7578125 C13.8977676,7.7578125 13.8333145,7.8796875 13.9047988,7.96289062 L15.8290176,10.1941406 C15.8840957,10.2580078 15.9901504,10.2580078 16.0458145,10.1941406 L17.9700332,7.96289062 C18.0415176,7.8796875 17.9770645,7.7578125 17.8616348,7.7578125 Z",id:"SearchDropdown-\u8DEF\u5F84",fill:"currentColor"})))))))}var ee=ne;Me.default=ee},90734:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"ShapeLine-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},M.createElement("g",{id:"ShapeLine-shape-line",transform:"translate(0.000000, 0.923169)",fill:"currentColor",fillRule:"nonzero"},M.createElement("rect",{id:"ShapeLine-\u77E9\u5F62",opacity:0,x:0,y:0,width:16,height:15.9807923}),M.createElement("path",{d:"M5.22,13.3173269 C4.90928357,14.1946577 4.03334945,14.7416208 3.10760502,14.6363783 C2.18186059,14.5311359 1.45139881,13.801551 1.34602985,12.8769179 C1.24066088,11.9522848 1.78828141,11.0774022 2.66666667,10.7670588 L2.66666667,5.21373349 C1.78828141,4.90339007 1.24066088,4.02850749 1.34602985,3.1038744 C1.45139881,2.1792413 2.18186059,1.44965643 3.10760502,1.34441396 C4.03334945,1.23917149 4.90928357,1.78613461 5.22,2.66346539 L10.78,2.66346539 C11.0907164,1.78613461 11.9666505,1.23917149 12.892395,1.34441396 C13.8181394,1.44965643 14.5486012,2.1792413 14.6539702,3.1038744 C14.7593391,4.02850749 14.2117186,4.90339007 13.3333333,5.21373349 L13.3333333,10.7670588 C14.2117186,11.0774022 14.7593391,11.9522848 14.6539702,12.8769179 C14.5486012,13.801551 13.8181394,14.5311359 12.892395,14.6363783 C11.9666505,14.7416208 11.0907164,14.1946577 10.78,13.3173269 L5.22,13.3173269 Z M5.22,11.9855942 L10.78,11.9855942 C10.9819939,11.4165133 11.430235,10.9688103 12,10.7670588 L12,5.21373349 C11.430235,5.01198206 10.9819939,4.56427905 10.78,3.99519808 L5.22,3.99519808 C5.01800608,4.56427905 4.56976496,5.01198206 4,5.21373349 L4,10.7670588 C4.56976496,10.9688103 5.01800608,11.4165133 5.22,11.9855942 Z M3.33333333,3.99519809 C3.5715347,3.9952345 3.79165744,3.86832906 3.91076865,3.66229434 C4.02987987,3.45625961 4.02987987,3.20240385 3.91076865,2.99636913 C3.79165744,2.79033441 3.5715347,2.66342897 3.33333333,2.66346538 C2.96518335,2.66352168 2.66676872,2.96162371 2.66676872,3.32933173 C2.66676872,3.69703976 2.96518335,3.99514178 3.33333333,3.99519809 L3.33333333,3.99519809 Z M12.6666667,3.99519809 C12.904868,3.9952345 13.1249908,3.86832906 13.244102,3.66229434 C13.3632132,3.45625961 13.3632132,3.20240385 13.244102,2.99636913 C13.1249908,2.79033441 12.904868,2.66342897 12.6666667,2.66346538 C12.2985167,2.66352168 12.0001021,2.96162371 12.0001021,3.32933173 C12.0001021,3.69703976 12.2985167,3.99514178 12.6666667,3.99519809 L12.6666667,3.99519809 Z M12.6666667,13.3173269 C12.904868,13.3173633 13.1249908,13.1904579 13.244102,12.9844232 C13.3632132,12.7783885 13.3632132,12.5245327 13.244102,12.318498 C13.1249908,12.1124633 12.904868,11.9855578 12.6666667,11.9855942 C12.2985167,11.9856505 12.0001021,12.2837526 12.0001021,12.6514606 C12.0001021,13.0191686 12.2985167,13.3172706 12.6666667,13.3173269 L12.6666667,13.3173269 Z M3.33333333,13.3173269 C3.5715347,13.3173633 3.79165744,13.1904579 3.91076865,12.9844232 C4.02987987,12.7783885 4.02987987,12.5245327 3.91076865,12.318498 C3.79165744,12.1124633 3.5715347,11.9855578 3.33333333,11.9855942 C2.96518335,11.9856505 2.66676872,12.2837526 2.66676872,12.6514606 C2.66676872,13.0191686 2.96518335,13.3172706 3.33333333,13.3173269 L3.33333333,13.3173269 Z",id:"ShapeLine-\u5F62\u72B6"}))))}var ee=ne;Me.default=ee},88079:function(Xt,Me,T){"use strict";var y=T(18698);Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var M=me(T(67294));function k(w){if(typeof WeakMap!="function")return null;var ae=new WeakMap,Y=new WeakMap;return(k=function(he){return he?Y:ae})(w)}function me(w,ae){if(!ae&&w&&w.__esModule)return w;if(w===null||y(w)!=="object"&&typeof w!="function")return{default:w};var Y=k(ae);if(Y&&Y.has(w))return Y.get(w);var X={},he=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ve in w)if(ve!=="default"&&Object.prototype.hasOwnProperty.call(w,ve)){var pe=he?Object.getOwnPropertyDescriptor(w,ve):null;pe&&(pe.get||pe.set)?Object.defineProperty(X,ve,pe):X[ve]=w[ve]}return X.default=w,Y&&Y.set(w,X),X}function ne(w){return M.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 20 19",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},w,{style:Object.assign({verticalAlign:"-0.125em"},w.style),className:["nanqu-token-panel-icon",w.className].filter(Boolean).join(" ")}),M.createElement("g",{id:"TokenPanel-\u9875\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",fillOpacity:.85},M.createElement("g",{id:"TokenPanel-\u4E3B\u9898\u7F16\u8F91\u5668---\u591A\u4E3B\u9898",transform:"translate(-14.000000, -70.000000)",fill:"currentColor"},M.createElement("g",{id:"TokenPanel-\u7F16\u7EC4-3",transform:"translate(10.000000, 66.000000)"},M.createElement("g",{id:"TokenPanel-\u7F16\u7EC4-20",transform:"translate(4.000000, 4.000000)"},M.createElement("rect",{id:"TokenPanel-\u77E9\u5F62",opacity:.600000024,x:1,y:12,width:7,height:7,rx:.434782594}),M.createElement("path",{d:"M12.3540059,0 L19.5652174,0 C19.8053412,8.08981097e-16 20,0.194658804 20,0.434782609 L20,7.6459941 C20,7.88611791 19.8053412,8.08077671 19.5652174,8.08077671 C19.4499059,8.08077671 19.3393172,8.03496939 19.2577797,7.95343183 L12.0465682,0.74222034 C11.876775,0.572427169 11.876775,0.297138048 12.0465682,0.127344878 C12.1281057,0.0458073219 12.2386944,-6.44951433e-16 12.3540059,0 Z",id:"TokenPanel-\u77E9\u5F62",opacity:.400000006}),M.createElement("circle",{id:"TokenPanel-\u692D\u5706\u5F62",cx:4.34782609,cy:4.34782609,r:4.34782609}),M.createElement("circle",{id:"TokenPanel-\u692D\u5706\u5F62",cx:15.5,cy:15.5,r:3.5}))))))}var ee=ne;Me.default=ee},6308:function(Xt,Me,T){"use strict";var y,M=T(64836);y={value:!0},y={enumerable:!0,get:function(){return X.default}},y={enumerable:!0,get:function(){return pe.default}},y={enumerable:!0,get:function(){return ae.default}},y={enumerable:!0,get:function(){return Y.default}},Object.defineProperty(Me,"Cs",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(Me,"_k",{enumerable:!0,get:function(){return $e.default}}),y={enumerable:!0,get:function(){return k.default}},y={enumerable:!0,get:function(){return me.default}},y={enumerable:!0,get:function(){return ne.default}},y={enumerable:!0,get:function(){return he.default}},y={enumerable:!0,get:function(){return ee.default}},y={enumerable:!0,get:function(){return ve.default}};var k=M(T(63341)),me=M(T(95265)),ne=M(T(53278)),ee=M(T(90734)),w=M(T(35791)),ae=M(T(74304)),Y=M(T(90387)),X=M(T(34637)),he=M(T(34786)),ve=M(T(88079)),pe=M(T(56564)),$e=M(T(95671))},8745:function(Xt,Me,T){"use strict";var y=T(67294),M=T(93042),k=T(25682),me=T(53124);function ne(w){return ae=>y.createElement(k.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},y.createElement(w,Object.assign({},ae)))}const ee=(w,ae,Y,X)=>ne(ve=>{const{prefixCls:pe,style:$e}=ve,Tt=y.useRef(null),[nt,ge]=y.useState(0),[Be,ze]=y.useState(0),[tt,qe]=(0,M.Z)(!1,{value:ve.open}),{getPrefixCls:Ye}=y.useContext(me.E_),je=Ye(ae||"select",pe);y.useEffect(()=>{if(qe(!0),typeof ResizeObserver!="undefined"){const ft=new ResizeObserver(se=>{const vt=se[0].target;ge(vt.offsetHeight+8),ze(vt.offsetWidth)}),xe=setInterval(()=>{var se;const vt=Y?`.${Y(je)}`:`.${je}-dropdown`,De=(se=Tt.current)===null||se===void 0?void 0:se.querySelector(vt);De&&(clearInterval(xe),ft.observe(De))},10);return()=>{clearInterval(xe),ft.disconnect()}}},[]);let Ft=Object.assign(Object.assign({},ve),{style:Object.assign(Object.assign({},$e),{margin:0}),open:tt,visible:tt,getPopupContainer:()=>Tt.current});X&&(Ft=X(Ft));const Jt={paddingBottom:nt,position:"relative",minWidth:Be};return y.createElement("div",{ref:Tt,style:Jt},y.createElement(w,Object.assign({},Ft)))});Me.Z=ee},87263:function(Xt,Me,T){"use strict";T.d(Me,{Cn:function(){return X},u6:function(){return ee}});var y=T(67294),M=T(25976),k=T(43945);const me=100,ee=me*10,w={Modal:me,Drawer:me,Popover:me,Popconfirm:me,Tooltip:me,Tour:me},ae={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Y(he){return he in w}function X(he,ve){const[,pe]=(0,M.ZP)(),$e=y.useContext(k.Z),Tt=Y(he);if(ve!==void 0)return[ve,ve];let nt=$e!=null?$e:0;return Tt?(nt+=($e?0:pe.zIndexPopupBase)+w[he],nt=Math.min(nt,pe.zIndexPopupBase+ee)):nt+=ae[he],[$e===void 0?ve:nt,nt]}},80636:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ee}});var y=T(97414);function M(w,ae,Y,X){if(X===!1)return{adjustX:!1,adjustY:!1};const he=X&&typeof X=="object"?X:{},ve={};switch(w){case"top":case"bottom":ve.shiftX=ae.arrowOffsetHorizontal*2+Y,ve.shiftY=!0,ve.adjustY=!0;break;case"left":case"right":ve.shiftY=ae.arrowOffsetVertical*2+Y,ve.shiftX=!0,ve.adjustX=!0;break}const pe=Object.assign(Object.assign({},ve),he);return pe.shiftX||(pe.adjustX=!0),pe.shiftY||(pe.adjustY=!0),pe}const k={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},me={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},ne=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function ee(w){const{arrowWidth:ae,autoAdjustOverflow:Y,arrowPointAtCenter:X,offset:he,borderRadius:ve,visibleFirst:pe}=w,$e=ae/2,Tt={};return Object.keys(k).forEach(nt=>{const ge=X&&me[nt]||k[nt],Be=Object.assign(Object.assign({},ge),{offset:[0,0],dynamicInset:!0});switch(Tt[nt]=Be,ne.has(nt)&&(Be.autoArrow=!1),nt){case"top":case"topLeft":case"topRight":Be.offset[1]=-$e-he;break;case"bottom":case"bottomLeft":case"bottomRight":Be.offset[1]=$e+he;break;case"left":case"leftTop":case"leftBottom":Be.offset[0]=-$e-he;break;case"right":case"rightTop":case"rightBottom":Be.offset[0]=$e+he;break}const ze=(0,y.wZ)({contentRadius:ve,limitVerticalRadius:!0});if(X)switch(nt){case"topLeft":case"bottomLeft":Be.offset[0]=-ze.arrowOffsetHorizontal-$e;break;case"topRight":case"bottomRight":Be.offset[0]=ze.arrowOffsetHorizontal+$e;break;case"leftTop":case"rightTop":Be.offset[1]=-ze.arrowOffsetHorizontal-$e;break;case"leftBottom":case"rightBottom":Be.offset[1]=ze.arrowOffsetHorizontal+$e;break}Be.overflow=M(nt,ze,ae,Y),pe&&(Be.htmlRegion="visibleFirst")}),Tt}},43945:function(Xt,Me,T){"use strict";var y=T(67294);const M=y.createContext(void 0);Me.Z=M},67561:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ct}});var y=T(75177),M=T(67294),k=T(13144),me=T.n(k),ne=T(56790);const ee=ye=>typeof ye=="object"&&ye!=null&&ye.nodeType===1,w=(ye,Ue)=>(!Ue||ye!=="hidden")&&ye!=="visible"&&ye!=="clip",ae=(ye,Ue)=>{if(ye.clientHeight<ye.scrollHeight||ye.clientWidth<ye.scrollWidth){const ht=getComputedStyle(ye,null);return w(ht.overflowY,Ue)||w(ht.overflowX,Ue)||(Mt=>{const rt=(re=>{if(!re.ownerDocument||!re.ownerDocument.defaultView)return null;try{return re.ownerDocument.defaultView.frameElement}catch(le){return null}})(Mt);return!!rt&&(rt.clientHeight<Mt.scrollHeight||rt.clientWidth<Mt.scrollWidth)})(ye)}return!1},Y=(ye,Ue,ht,Mt,rt,re,le,te)=>re<ye&&le>Ue||re>ye&&le<Ue?0:re<=ye&&te<=ht||le>=Ue&&te>=ht?re-ye-Mt:le>Ue&&te<ht||re<ye&&te>ht?le-Ue+rt:0,X=ye=>{const Ue=ye.parentElement;return Ue==null?ye.getRootNode().host||null:Ue},he=(ye,Ue)=>{var ht,Mt,rt,re;if(typeof document=="undefined")return[];const{scrollMode:le,block:te,inline:Pe,boundary:Ne,skipOverflowHiddenElements:At}=Ue,jt=typeof Ne=="function"?Ne:Br=>Br!==Ne;if(!ee(ye))throw new TypeError("Invalid target");const Rt=document.scrollingElement||document.documentElement,Nt=[];let vn=ye;for(;ee(vn)&&jt(vn);){if(vn=X(vn),vn===Rt){Nt.push(vn);break}vn!=null&&vn===document.body&&ae(vn)&&!ae(document.documentElement)||vn!=null&&ae(vn,At)&&Nt.push(vn)}const On=(Mt=(ht=window.visualViewport)==null?void 0:ht.width)!=null?Mt:innerWidth,Yt=(re=(rt=window.visualViewport)==null?void 0:rt.height)!=null?re:innerHeight,{scrollX:Ee,scrollY:Vt}=window,{height:Wt,width:Sn,top:kt,right:nn,bottom:ir,left:jn}=ye.getBoundingClientRect(),{top:yr,right:Ve,bottom:pn,left:Cn}=(Br=>{const Wn=window.getComputedStyle(Br);return{top:parseFloat(Wn.scrollMarginTop)||0,right:parseFloat(Wn.scrollMarginRight)||0,bottom:parseFloat(Wn.scrollMarginBottom)||0,left:parseFloat(Wn.scrollMarginLeft)||0}})(ye);let Rn=te==="start"||te==="nearest"?kt-yr:te==="end"?ir+pn:kt+Wt/2-yr+pn,En=Pe==="center"?jn+Sn/2-Cn+Ve:Pe==="end"?nn+Ve:jn-Cn;const sr=[];for(let Br=0;Br<Nt.length;Br++){const Wn=Nt[Br],{height:Yr,width:er,top:Pr,right:Dr,bottom:yi,left:Si}=Wn.getBoundingClientRect();if(le==="if-needed"&&kt>=0&&jn>=0&&ir<=Yt&&nn<=On&&(Wn===Rt&&!ae(Wn)||kt>=Pr&&ir<=yi&&jn>=Si&&nn<=Dr))return sr;const _i=getComputedStyle(Wn),Or=parseInt(_i.borderLeftWidth,10),Vn=parseInt(_i.borderTopWidth,10),dt=parseInt(_i.borderRightWidth,10),Un=parseInt(_i.borderBottomWidth,10);let Se=0,Qe=0;const Ot="offsetWidth"in Wn?Wn.offsetWidth-Wn.clientWidth-Or-dt:0,it="offsetHeight"in Wn?Wn.offsetHeight-Wn.clientHeight-Vn-Un:0,H="offsetWidth"in Wn?Wn.offsetWidth===0?0:er/Wn.offsetWidth:0,Ce="offsetHeight"in Wn?Wn.offsetHeight===0?0:Yr/Wn.offsetHeight:0;if(Rt===Wn)Se=te==="start"?Rn:te==="end"?Rn-Yt:te==="nearest"?Y(Vt,Vt+Yt,Yt,Vn,Un,Vt+Rn,Vt+Rn+Wt,Wt):Rn-Yt/2,Qe=Pe==="start"?En:Pe==="center"?En-On/2:Pe==="end"?En-On:Y(Ee,Ee+On,On,Or,dt,Ee+En,Ee+En+Sn,Sn),Se=Math.max(0,Se+Vt),Qe=Math.max(0,Qe+Ee);else{Se=te==="start"?Rn-Pr-Vn:te==="end"?Rn-yi+Un+it:te==="nearest"?Y(Pr,yi,Yr,Vn,Un+it,Rn,Rn+Wt,Wt):Rn-(Pr+Yr/2)+it/2,Qe=Pe==="start"?En-Si-Or:Pe==="center"?En-(Si+er/2)+Ot/2:Pe==="end"?En-Dr+dt+Ot:Y(Si,Dr,er,Or,dt+Ot,En,En+Sn,Sn);const{scrollLeft:Ie,scrollTop:ue}=Wn;Se=Ce===0?0:Math.max(0,Math.min(ue+Se/Ce,Wn.scrollHeight-Yr/Ce+it)),Qe=H===0?0:Math.max(0,Math.min(Ie+Qe/H,Wn.scrollWidth-er/H+Ot)),Rn+=ue-Se,En+=Ie-Qe}sr.push({el:Wn,top:Se,left:Qe})}return sr},ve=ye=>ye===!1?{block:"end",inline:"nearest"}:(Ue=>Ue===Object(Ue)&&Object.keys(Ue).length!==0)(ye)?ye:{block:"start",inline:"nearest"};function pe(ye,Ue){if(!ye.isConnected||!(rt=>{let re=rt;for(;re&&re.parentNode;){if(re.parentNode===document)return!0;re=re.parentNode instanceof ShadowRoot?re.parentNode.host:re.parentNode}return!1})(ye))return;const ht=(rt=>{const re=window.getComputedStyle(rt);return{top:parseFloat(re.scrollMarginTop)||0,right:parseFloat(re.scrollMarginRight)||0,bottom:parseFloat(re.scrollMarginBottom)||0,left:parseFloat(re.scrollMarginLeft)||0}})(ye);if((rt=>typeof rt=="object"&&typeof rt.behavior=="function")(Ue))return Ue.behavior(he(ye,Ue));const Mt=typeof Ue=="boolean"||Ue==null?void 0:Ue.behavior;for(const{el:rt,top:re,left:le}of he(ye,ve(Ue))){const te=re-ht.top+ht.bottom,Pe=le-ht.left+ht.right;rt.scroll({top:te,left:Pe,behavior:Mt})}}function $e(ye){return ye!=null&&ye===ye.window}function Tt(ye,Ue){var ht,Mt;if(typeof window=="undefined")return 0;const rt=Ue?"scrollTop":"scrollLeft";let re=0;return $e(ye)?re=ye[Ue?"pageYOffset":"pageXOffset"]:ye instanceof Document?re=ye.documentElement[rt]:(ye instanceof HTMLElement||ye)&&(re=ye[rt]),ye&&!$e(ye)&&typeof re!="number"&&(re=(Mt=((ht=ye.ownerDocument)!==null&&ht!==void 0?ht:ye).documentElement)===null||Mt===void 0?void 0:Mt[rt]),re}var nt=T(75164);function ge(ye,Ue,ht,Mt){const rt=ht-Ue;return ye/=Mt/2,ye<1?rt/2*ye*ye*ye+Ue:rt/2*((ye-=2)*ye*ye+2)+Ue}function Be(ye){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:ht=()=>window,callback:Mt,duration:rt=450}=Ue,re=ht(),le=Tt(re,!0),te=Date.now(),Pe=()=>{const At=Date.now()-te,jt=ge(At>rt?rt:At,le,ye,rt);$e(re)?re.scrollTo(window.pageXOffset,jt):re instanceof Document||re.constructor.name==="HTMLDocument"?re.documentElement.scrollTop=jt:re.scrollTop=jt,At<rt?(0,nt.Z)(Pe):typeof Mt=="function"&&Mt()};(0,nt.Z)(Pe)}var ze=T(11276),tt=T(98423);function qe(ye){let Ue;const ht=rt=>()=>{Ue=null,ye.apply(void 0,(0,y.Z)(rt))},Mt=function(){if(Ue==null){for(var rt=arguments.length,re=new Array(rt),le=0;le<rt;le++)re[le]=arguments[le];Ue=(0,nt.Z)(ht(re))}};return Mt.cancel=()=>{nt.Z.cancel(Ue),Ue=null},Mt}var Ye=qe,je=T(53124),Ft=T(2093);const Jt=ye=>{const{componentCls:Ue}=ye;return{[Ue]:{position:"fixed",zIndex:ye.zIndexPopup}}},ft=ye=>({zIndexPopup:ye.zIndexBase+10});var xe=(0,Ft.I$)("Affix",Jt,ft);function se(ye){return ye!==window?ye.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function vt(ye,Ue,ht){if(ht!==void 0&&Math.round(Ue.top)>Math.round(ye.top)-ht)return ht+Ue.top}function De(ye,Ue,ht){if(ht!==void 0&&Math.round(Ue.bottom)<Math.round(ye.bottom)+ht){const Mt=window.innerHeight-Ue.bottom;return ht+Mt}}const It=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function wt(){return typeof window!="undefined"?window:null}const et=0,Le=1;var de=M.forwardRef((ye,Ue)=>{var ht;const{style:Mt,offsetTop:rt,offsetBottom:re,prefixCls:le,className:te,rootClassName:Pe,children:Ne,target:At,onChange:jt}=ye,{getPrefixCls:Rt,getTargetContainer:Nt}=M.useContext(je.E_),vn=Rt("affix",le),[On,Yt]=M.useState(!1),[Ee,Vt]=M.useState(),[Wt,Sn]=M.useState(),kt=M.useRef(et),nn=M.useRef(null),ir=M.useRef(),jn=M.useRef(null),yr=M.useRef(null),Ve=M.useRef(null),pn=(ht=At!=null?At:Nt)!==null&&ht!==void 0?ht:wt,Cn=re===void 0&&rt===void 0?0:rt,Rn=()=>{if(kt.current!==Le||!yr.current||!jn.current||!pn)return;const Or=pn();if(Or){const Vn={status:et},dt=se(jn.current);if(dt.top===0&&dt.left===0&&dt.width===0&&dt.height===0)return;const Un=se(Or),Se=vt(dt,Un,Cn),Qe=De(dt,Un,re);Se!==void 0?(Vn.affixStyle={position:"fixed",top:Se,width:dt.width,height:dt.height},Vn.placeholderStyle={width:dt.width,height:dt.height}):Qe!==void 0&&(Vn.affixStyle={position:"fixed",bottom:Qe,width:dt.width,height:dt.height},Vn.placeholderStyle={width:dt.width,height:dt.height}),Vn.lastAffix=!!Vn.affixStyle,On!==Vn.lastAffix&&(jt==null||jt(Vn.lastAffix)),kt.current=Vn.status,Vt(Vn.affixStyle),Sn(Vn.placeholderStyle),Yt(Vn.lastAffix)}},En=()=>{var Or;kt.current=Le,Rn()},sr=Ye(()=>{En()}),Br=Ye(()=>{if(pn&&Ee){const Or=pn();if(Or&&jn.current){const Vn=se(Or),dt=se(jn.current),Un=vt(dt,Vn,Cn),Se=De(dt,Vn,re);if(Un!==void 0&&Ee.top===Un||Se!==void 0&&Ee.bottom===Se)return}}En()}),Wn=()=>{const Or=pn==null?void 0:pn();Or&&(It.forEach(Vn=>{var dt;ir.current&&((dt=nn.current)===null||dt===void 0||dt.removeEventListener(Vn,ir.current)),Or==null||Or.addEventListener(Vn,Br)}),nn.current=Or,ir.current=Br)},Yr=()=>{Ve.current&&(clearTimeout(Ve.current),Ve.current=null);const Or=pn==null?void 0:pn();It.forEach(Vn=>{var dt;Or==null||Or.removeEventListener(Vn,Br),ir.current&&((dt=nn.current)===null||dt===void 0||dt.removeEventListener(Vn,ir.current))}),sr.cancel(),Br.cancel()};M.useImperativeHandle(Ue,()=>({updatePosition:sr})),M.useEffect(()=>(Ve.current=setTimeout(Wn),()=>Yr()),[]),M.useEffect(()=>{Wn()},[At,Ee]),M.useEffect(()=>{sr()},[At,rt,re]);const[er,Pr,Dr]=xe(vn),yi=me()(Pe,Pr,vn,Dr),Si=me()({[yi]:Ee});let _i=(0,tt.Z)(ye,["prefixCls","offsetTop","offsetBottom","target","onChange","rootClassName"]);return er(M.createElement(ze.Z,{onResize:sr},M.createElement("div",Object.assign({style:Mt,className:te,ref:jn},_i),Ee&&M.createElement("div",{style:Wt,"aria-hidden":"true"}),M.createElement("div",{className:Si,ref:yr,style:Ee},M.createElement(ze.Z,{onResize:sr},Ne)))))}),we=T(35792),ut=M.createContext(void 0),_e=ye=>{const{href:Ue,title:ht,prefixCls:Mt,children:rt,className:re,target:le,replace:te}=ye,Pe=M.useContext(ut),{registerLink:Ne,unregisterLink:At,scrollTo:jt,onClick:Rt,activeLink:Nt,direction:vn}=Pe||{};M.useEffect(()=>(Ne==null||Ne(Ue),()=>{At==null||At(Ue)}),[Ue]);const On=kt=>{te&&(kt.preventDefault(),window.location.replace(Ue)),Rt==null||Rt(kt,{title:ht,href:Ue}),jt==null||jt(Ue)},{getPrefixCls:Yt}=M.useContext(je.E_),Ee=Yt("anchor",Mt),Vt=Nt===Ue,Wt=me()(`${Ee}-link`,re,{[`${Ee}-link-active`]:Vt}),Sn=me()(`${Ee}-link-title`,{[`${Ee}-link-title-active`]:Vt});return M.createElement("div",{className:Wt},M.createElement("a",{className:Sn,href:Ue,title:typeof ht=="string"?ht:"",target:le,onClick:On},ht),vn!=="horizontal"?rt:null)},Ae=T(54548),Ze=T(14747),tn=T(45503);const on=ye=>{const{componentCls:Ue,holderOffsetBlock:ht,motionDurationSlow:Mt,lineWidthBold:rt,colorPrimary:re,lineType:le,colorSplit:te,calc:Pe}=ye;return{[`${Ue}-wrapper`]:{marginBlockStart:Pe(ht).mul(-1).equal(),paddingBlockStart:ht,[Ue]:Object.assign(Object.assign({},(0,Ze.Wf)(ye)),{position:"relative",paddingInlineStart:rt,[`${Ue}-link`]:{paddingBlock:ye.linkPaddingBlock,paddingInline:`${(0,Ae.unit)(ye.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},Ze.vS),{position:"relative",display:"block",marginBlockEnd:ye.anchorTitleBlock,color:ye.colorText,transition:`all ${ye.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${Ue}-link-title`]:{color:ye.colorPrimary},[`${Ue}-link`]:{paddingBlock:ye.anchorPaddingBlockSecondary}}}),[`&:not(${Ue}-wrapper-horizontal)`]:{[Ue]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,Ae.unit)(rt)} ${le} ${te}`,content:'" "'},[`${Ue}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${Mt} ease-in-out`,width:rt,backgroundColor:re,[`&${Ue}-ink-visible`]:{display:"inline-block"}}}},[`${Ue}-fixed ${Ue}-ink ${Ue}-ink`]:{display:"none"}}}},Ct=ye=>{const{componentCls:Ue,motionDurationSlow:ht,lineWidthBold:Mt,colorPrimary:rt}=ye;return{[`${Ue}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,Ae.unit)(ye.lineWidth)} ${ye.lineType} ${ye.colorSplit}`,content:'" "'},[Ue]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${Ue}-link:first-of-type`]:{paddingInline:0},[`${Ue}-ink`]:{position:"absolute",bottom:0,transition:`left ${ht} ease-in-out, width ${ht} ease-in-out`,height:Mt,backgroundColor:rt}}}}},zt=ye=>({linkPaddingBlock:ye.paddingXXS,linkPaddingInlineStart:ye.padding});var mn=(0,Ft.I$)("Anchor",ye=>{const{fontSize:Ue,fontSizeLG:ht,paddingXXS:Mt,calc:rt}=ye,re=(0,tn.TS)(ye,{holderOffsetBlock:Mt,anchorPaddingBlockSecondary:rt(Mt).div(2).equal(),anchorTitleBlock:rt(Ue).div(14).mul(3).equal(),anchorBallSize:rt(ht).div(2).equal()});return[on(re),Ct(re)]},zt);function Ke(){return window}function He(ye,Ue){if(!ye.getClientRects().length)return 0;const ht=ye.getBoundingClientRect();return ht.width||ht.height?Ue===window?(Ue=ye.ownerDocument.documentElement,ht.top-Ue.clientTop):ht.top-Ue.getBoundingClientRect().top:ht.top}const Dt=/#([\S ]+)$/;var Ln=ye=>{var Ue;const{rootClassName:ht,prefixCls:Mt,className:rt,style:re,offsetTop:le,affix:te=!0,showInkInFixed:Pe=!1,children:Ne,items:At,direction:jt="vertical",bounds:Rt,targetOffset:Nt,onClick:vn,onChange:On,getContainer:Yt,getCurrentAnchor:Ee,replace:Vt}=ye,[Wt,Sn]=M.useState([]),[kt,nn]=M.useState(null),ir=M.useRef(kt),jn=M.useRef(null),yr=M.useRef(null),Ve=M.useRef(!1),{direction:pn,anchor:Cn,getTargetContainer:Rn,getPrefixCls:En}=M.useContext(je.E_),sr=En("anchor",Mt),Br=(0,we.Z)(sr),[Wn,Yr,er]=mn(sr,Br),Pr=(Ue=Yt!=null?Yt:Rn)!==null&&Ue!==void 0?Ue:Ke,Dr=JSON.stringify(Wt),yi=(0,ne.useEvent)(ue=>{Wt.includes(ue)||Sn(Fe=>[].concat((0,y.Z)(Fe),[ue]))}),Si=(0,ne.useEvent)(ue=>{Wt.includes(ue)&&Sn(Fe=>Fe.filter(gt=>gt!==ue))}),_i=()=>{var ue;const Fe=(ue=jn.current)===null||ue===void 0?void 0:ue.querySelector(`.${sr}-link-title-active`);if(Fe&&yr.current){const{style:gt}=yr.current,an=jt==="horizontal";gt.top=an?"":`${Fe.offsetTop+Fe.clientHeight/2}px`,gt.height=an?"":`${Fe.clientHeight}px`,gt.left=an?`${Fe.offsetLeft}px`:"",gt.width=an?`${Fe.clientWidth}px`:"",an&&pe(Fe,{scrollMode:"if-needed",block:"nearest"})}},Or=function(ue){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const an=[],_n=Pr();return ue.forEach(Ut=>{const qt=Dt.exec(Ut==null?void 0:Ut.toString());if(!qt)return;const Zt=document.getElementById(qt[1]);if(Zt){const Dn=He(Zt,_n);Dn<=Fe+gt&&an.push({link:Ut,top:Dn})}}),an.length?an.reduce((qt,Zt)=>Zt.top>qt.top?Zt:qt).link:""},Vn=(0,ne.useEvent)(ue=>{if(ir.current===ue)return;const Fe=typeof Ee=="function"?Ee(ue):ue;nn(Fe),ir.current=Fe,On==null||On(ue)}),dt=M.useCallback(()=>{if(Ve.current)return;const ue=Or(Wt,Nt!==void 0?Nt:le||0,Rt);Vn(ue)},[Dr,Nt,le]),Un=M.useCallback(ue=>{Vn(ue);const Fe=Dt.exec(ue);if(!Fe)return;const gt=document.getElementById(Fe[1]);if(!gt)return;const an=Pr(),_n=Tt(an,!0),Ut=He(gt,an);let qt=_n+Ut;qt-=Nt!==void 0?Nt:le||0,Ve.current=!0,Be(qt,{getContainer:Pr,callback(){Ve.current=!1}})},[Nt,le]),Se=me()(Yr,er,Br,ht,`${sr}-wrapper`,{[`${sr}-wrapper-horizontal`]:jt==="horizontal",[`${sr}-rtl`]:pn==="rtl"},rt,Cn==null?void 0:Cn.className),Qe=me()(sr,{[`${sr}-fixed`]:!te&&!Pe}),Ot=me()(`${sr}-ink`,{[`${sr}-ink-visible`]:kt}),it=Object.assign(Object.assign({maxHeight:le?`calc(100vh - ${le}px)`:"100vh"},Cn==null?void 0:Cn.style),re),H=ue=>Array.isArray(ue)?ue.map(Fe=>M.createElement(_e,Object.assign({replace:Vt},Fe,{key:Fe.key}),jt==="vertical"&&H(Fe.children))):null,Ce=M.createElement("div",{ref:jn,className:Se,style:it},M.createElement("div",{className:Qe},M.createElement("span",{className:Ot,ref:yr}),"items"in ye?H(At):Ne));M.useEffect(()=>{const ue=Pr();return dt(),ue==null||ue.addEventListener("scroll",dt),()=>{ue==null||ue.removeEventListener("scroll",dt)}},[Dr]),M.useEffect(()=>{typeof Ee=="function"&&Vn(Ee(ir.current||""))},[Ee]),M.useEffect(()=>{_i()},[jt,Ee,Dr,kt]);const Ie=M.useMemo(()=>({registerLink:yi,unregisterLink:Si,scrollTo:Un,activeLink:kt,onClick:vn,direction:jt}),[kt,vn,Un,jt]);return Wn(M.createElement(ut.Provider,{value:Ie},te?M.createElement(de,{offsetTop:le,target:Pr},Ce):Ce))};const xn=Ln;xn.Link=_e;var ct=xn},6226:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ve}});var y=T(67294),M=T(13144),k=T.n(M),me=T(53124),ne=T(99134),ee=T(6999),w=function(pe,$e){var Tt={};for(var nt in pe)Object.prototype.hasOwnProperty.call(pe,nt)&&$e.indexOf(nt)<0&&(Tt[nt]=pe[nt]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ge=0,nt=Object.getOwnPropertySymbols(pe);ge<nt.length;ge++)$e.indexOf(nt[ge])<0&&Object.prototype.propertyIsEnumerable.call(pe,nt[ge])&&(Tt[nt[ge]]=pe[nt[ge]]);return Tt};function ae(pe){return typeof pe=="number"?`${pe} ${pe} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(pe)?`0 0 ${pe}`:pe}const Y=["xs","sm","md","lg","xl","xxl"];var he=y.forwardRef((pe,$e)=>{const{getPrefixCls:Tt,direction:nt}=y.useContext(me.E_),{gutter:ge,wrap:Be}=y.useContext(ne.Z),{prefixCls:ze,span:tt,order:qe,offset:Ye,push:je,pull:Ft,className:Jt,children:ft,flex:xe,style:se}=pe,vt=w(pe,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),De=Tt("col",ze),[It,wt,et]=(0,ee.cG)(De),Le={};let J={};Y.forEach(Ge=>{let ut={};const xt=pe[Ge];typeof xt=="number"?ut.span=xt:typeof xt=="object"&&(ut=xt||{}),delete vt[Ge],J=Object.assign(Object.assign({},J),{[`${De}-${Ge}-${ut.span}`]:ut.span!==void 0,[`${De}-${Ge}-order-${ut.order}`]:ut.order||ut.order===0,[`${De}-${Ge}-offset-${ut.offset}`]:ut.offset||ut.offset===0,[`${De}-${Ge}-push-${ut.push}`]:ut.push||ut.push===0,[`${De}-${Ge}-pull-${ut.pull}`]:ut.pull||ut.pull===0,[`${De}-rtl`]:nt==="rtl"}),ut.flex&&(J[`${De}-${Ge}-flex`]=!0,Le[`--${De}-${Ge}-flex`]=ae(ut.flex))});const de=k()(De,{[`${De}-${tt}`]:tt!==void 0,[`${De}-order-${qe}`]:qe,[`${De}-offset-${Ye}`]:Ye,[`${De}-push-${je}`]:je,[`${De}-pull-${Ft}`]:Ft},Jt,J,wt,et),we={};if(ge&&ge[0]>0){const Ge=ge[0]/2;we.paddingLeft=Ge,we.paddingRight=Ge}return xe&&(we.flex=ae(xe),Be===!1&&!we.minWidth&&(we.minWidth=0)),It(y.createElement("div",Object.assign({},vt,{style:Object.assign(Object.assign(Object.assign({},we),se),Le),className:de,ref:$e}),ft))}),ve=he},83159:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return mn}});var y=T(67294),M=T(90814),k=T(13144),me=T.n(k),ne=T(53261),ee=T(56790),w=T(93042),ae=T(98423),Y=T(87263),X=T(80636),he=T(8745),ve=T(96159),pe=T(27288),$e=T(43945),Tt=T(53124),nt=T(35792),ge=T(96077),Be=T(76529),ze=T(25976),tt=T(54548),qe=T(14747),Ye=T(67771),je=T(33297),Ft=T(50438),Jt=T(97414),ft=T(79511),xe=T(2093),se=T(45503),De=Ke=>{const{componentCls:He,menuCls:Dt,colorError:un,colorTextLightSolid:Ln}=Ke,xn=`${Dt}-item`;return{[`${He}, ${He}-menu-submenu`]:{[`${Dt} ${xn}`]:{[`&${xn}-danger:not(${xn}-disabled)`]:{color:un,"&:hover":{color:Ln,backgroundColor:un}}}}}};const It=Ke=>{const{componentCls:He,menuCls:Dt,zIndexPopup:un,dropdownArrowDistance:Ln,sizePopupArrow:xn,antCls:ct,iconCls:ye,motionDurationMid:Ue,paddingBlock:ht,fontSize:Mt,dropdownEdgeChildPadding:rt,colorTextDisabled:re,fontSizeIcon:le,controlPaddingHorizontal:te,colorBgElevated:Pe}=Ke;return[{[He]:Object.assign(Object.assign({},(0,qe.Wf)(Ke)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:un,display:"block","&::before":{position:"absolute",insetBlock:Ke.calc(xn).div(2).sub(Ln).equal(),zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${ct}-btn`]:{[`& > ${ye}-down, & > ${ct}-btn-icon > ${ye}-down`]:{fontSize:le}},[`${He}-wrap`]:{position:"relative",[`${ct}-btn > ${ye}-down`]:{fontSize:le},[`${ye}-down::before`]:{transition:`transform ${Ue}`}},[`${He}-wrap-open`]:{[`${ye}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${ct}-slide-down-enter${ct}-slide-down-enter-active${He}-placement-bottomLeft,
          &${ct}-slide-down-appear${ct}-slide-down-appear-active${He}-placement-bottomLeft,
          &${ct}-slide-down-enter${ct}-slide-down-enter-active${He}-placement-bottom,
          &${ct}-slide-down-appear${ct}-slide-down-appear-active${He}-placement-bottom,
          &${ct}-slide-down-enter${ct}-slide-down-enter-active${He}-placement-bottomRight,
          &${ct}-slide-down-appear${ct}-slide-down-appear-active${He}-placement-bottomRight`]:{animationName:Ye.fJ},[`&${ct}-slide-up-enter${ct}-slide-up-enter-active${He}-placement-topLeft,
          &${ct}-slide-up-appear${ct}-slide-up-appear-active${He}-placement-topLeft,
          &${ct}-slide-up-enter${ct}-slide-up-enter-active${He}-placement-top,
          &${ct}-slide-up-appear${ct}-slide-up-appear-active${He}-placement-top,
          &${ct}-slide-up-enter${ct}-slide-up-enter-active${He}-placement-topRight,
          &${ct}-slide-up-appear${ct}-slide-up-appear-active${He}-placement-topRight`]:{animationName:Ye.Qt},[`&${ct}-slide-down-leave${ct}-slide-down-leave-active${He}-placement-bottomLeft,
          &${ct}-slide-down-leave${ct}-slide-down-leave-active${He}-placement-bottom,
          &${ct}-slide-down-leave${ct}-slide-down-leave-active${He}-placement-bottomRight`]:{animationName:Ye.Uw},[`&${ct}-slide-up-leave${ct}-slide-up-leave-active${He}-placement-topLeft,
          &${ct}-slide-up-leave${ct}-slide-up-leave-active${He}-placement-top,
          &${ct}-slide-up-leave${ct}-slide-up-leave-active${He}-placement-topRight`]:{animationName:Ye.ly}})},(0,Jt.ZP)(Ke,Pe,{arrowPlacement:{top:!0,bottom:!0}}),{[`${He} ${Dt}`]:{position:"relative",margin:0},[`${Dt}-submenu-popup`]:{position:"absolute",zIndex:un,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${He}, ${He}-menu-submenu`]:{[Dt]:Object.assign(Object.assign({padding:rt,listStyleType:"none",backgroundColor:Pe,backgroundClip:"padding-box",borderRadius:Ke.borderRadiusLG,outline:"none",boxShadow:Ke.boxShadowSecondary},(0,qe.Qy)(Ke)),{"&:empty":{padding:0,boxShadow:"none"},[`${Dt}-item-group-title`]:{padding:`${(0,tt.unit)(ht)} ${(0,tt.unit)(te)}`,color:Ke.colorTextDescription,transition:`all ${Ue}`},[`${Dt}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${Dt}-item-icon`]:{minWidth:Mt,marginInlineEnd:Ke.marginXS,fontSize:Ke.fontSizeSM},[`${Dt}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${Ue}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${Dt}-item, ${Dt}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${(0,tt.unit)(ht)} ${(0,tt.unit)(te)}`,color:Ke.colorText,fontWeight:"normal",fontSize:Mt,lineHeight:Ke.lineHeight,cursor:"pointer",transition:`all ${Ue}`,borderRadius:Ke.borderRadiusSM,"&:hover, &-active":{backgroundColor:Ke.controlItemBgHover}},(0,qe.Qy)(Ke)),{"&-selected":{color:Ke.colorPrimary,backgroundColor:Ke.controlItemBgActive,"&:hover, &-active":{backgroundColor:Ke.controlItemBgActiveHover}},"&-disabled":{color:re,cursor:"not-allowed","&:hover":{color:re,backgroundColor:Pe,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,tt.unit)(Ke.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:Ke.colorSplit},[`${He}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:Ke.paddingXS,[`${He}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:Ke.colorTextDescription,fontSize:le,fontStyle:"normal"}}}),[`${Dt}-item-group-list`]:{margin:`0 ${(0,tt.unit)(Ke.marginXS)}`,padding:0,listStyle:"none"},[`${Dt}-submenu-title`]:{paddingInlineEnd:Ke.calc(te).add(Ke.fontSizeSM).equal()},[`${Dt}-submenu-vertical`]:{position:"relative"},[`${Dt}-submenu${Dt}-submenu-disabled ${He}-menu-submenu-title`]:{[`&, ${He}-menu-submenu-arrow-icon`]:{color:re,backgroundColor:Pe,cursor:"not-allowed"}},[`${Dt}-submenu-selected ${He}-menu-submenu-title`]:{color:Ke.colorPrimary}})}},[(0,Ye.oN)(Ke,"slide-up"),(0,Ye.oN)(Ke,"slide-down"),(0,je.Fm)(Ke,"move-up"),(0,je.Fm)(Ke,"move-down"),(0,Ft._y)(Ke,"zoom-big")]]},wt=Ke=>Object.assign(Object.assign({zIndexPopup:Ke.zIndexPopupBase+50,paddingBlock:(Ke.controlHeight-Ke.fontSize*Ke.lineHeight)/2},(0,Jt.wZ)({contentRadius:Ke.borderRadiusLG,limitVerticalRadius:!0})),(0,ft.w)(Ke));var et=(0,xe.I$)("Dropdown",Ke=>{const{marginXXS:He,sizePopupArrow:Dt,paddingXXS:un,componentCls:Ln}=Ke,xn=(0,se.TS)(Ke,{menuCls:`${Ln}-menu`,dropdownArrowDistance:Ke.calc(Dt).div(2).add(He).equal(),dropdownEdgeChildPadding:un});return[It(xn),De(xn)]},wt,{resetStyle:!1});const Le=null,J=Ke=>{const{menu:He,arrow:Dt,prefixCls:un,children:Ln,trigger:xn,disabled:ct,dropdownRender:ye,getPopupContainer:Ue,overlayClassName:ht,rootClassName:Mt,overlayStyle:rt,open:re,onOpenChange:le,visible:te,onVisibleChange:Pe,mouseEnterDelay:Ne=.15,mouseLeaveDelay:At=.1,autoAdjustOverflow:jt=!0,placement:Rt="",overlay:Nt,transitionName:vn}=Ke,{getPopupContainer:On,getPrefixCls:Yt,direction:Ee,dropdown:Vt}=y.useContext(Tt.E_),Wt=(0,pe.ln)("Dropdown"),Sn=y.useMemo(()=>{const Vn=Yt();return vn!==void 0?vn:Rt.includes("top")?`${Vn}-slide-down`:`${Vn}-slide-up`},[Yt,Rt,vn]),kt=y.useMemo(()=>Rt?Rt.includes("Center")?Rt.slice(0,Rt.indexOf("Center")):Rt:Ee==="rtl"?"bottomRight":"bottomLeft",[Rt,Ee]),nn=Yt("dropdown",un),ir=(0,nt.Z)(nn),[jn,yr,Ve]=et(nn,ir),[,pn]=(0,ze.ZP)(),Cn=y.Children.only(Ln),Rn=(0,ve.Tm)(Cn,{className:me()(`${nn}-trigger`,{[`${nn}-rtl`]:Ee==="rtl"},Cn.props.className),disabled:ct}),En=ct?[]:xn;let sr;En&&En.includes("contextMenu")&&(sr=!0);const[Br,Wn]=(0,w.Z)(!1,{value:re!=null?re:te}),Yr=(0,ee.useEvent)(Vn=>{le==null||le(Vn,{source:"trigger"}),Pe==null||Pe(Vn),Wn(Vn)}),er=me()(ht,Mt,yr,Ve,ir,Vt==null?void 0:Vt.className,{[`${nn}-rtl`]:Ee==="rtl"}),Pr=(0,X.Z)({arrowPointAtCenter:typeof Dt=="object"&&Dt.pointAtCenter,autoAdjustOverflow:jt,offset:pn.marginXXS,arrowWidth:Dt?pn.sizePopupArrow:0,borderRadius:pn.borderRadius}),Dr=y.useCallback(()=>{He!=null&&He.selectable&&(He!=null&&He.multiple)||(le==null||le(!1,{source:"menu"}),Wn(!1))},[He==null?void 0:He.selectable,He==null?void 0:He.multiple]),yi=()=>{let Vn;return He!=null&&He.items?Vn=y.createElement(ge.Z,Object.assign({},He)):typeof Nt=="function"?Vn=Nt():Vn=Nt,ye&&(Vn=ye(Vn)),Vn=y.Children.only(typeof Vn=="string"?y.createElement("span",null,Vn):Vn),y.createElement(Be.J,{prefixCls:`${nn}-menu`,rootClassName:me()(Ve,ir),expandIcon:y.createElement("span",{className:`${nn}-menu-submenu-arrow`},y.createElement(M.Z,{className:`${nn}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Dr,validator:dt=>{let{mode:Un}=dt}},Vn)},[Si,_i]=(0,Y.Cn)("Dropdown",rt==null?void 0:rt.zIndex);let Or=y.createElement(ne.Z,Object.assign({alignPoint:sr},(0,ae.Z)(Ke,["rootClassName"]),{mouseEnterDelay:Ne,mouseLeaveDelay:At,visible:Br,builtinPlacements:Pr,arrow:!!Dt,overlayClassName:er,prefixCls:nn,getPopupContainer:Ue||On,transitionName:Sn,trigger:En,overlay:yi,placement:kt,onVisibleChange:Yr,overlayStyle:Object.assign(Object.assign(Object.assign({},Vt==null?void 0:Vt.style),rt),{zIndex:Si})}),Rn);return Si&&(Or=y.createElement($e.Z.Provider,{value:_i},Or)),jn(Or)};function de(Ke){return Object.assign(Object.assign({},Ke),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const we=(0,he.Z)(J,"dropdown",Ke=>Ke,de),Ge=Ke=>y.createElement(we,Object.assign({},Ke),y.createElement("span",null));J._InternalPanelDoNotUseOrYouWillBeFired=Ge;var ut=J,xt=T(89705),_e=T(10932),Ae=T(78957),Ze=T(4173),tn=function(Ke,He){var Dt={};for(var un in Ke)Object.prototype.hasOwnProperty.call(Ke,un)&&He.indexOf(un)<0&&(Dt[un]=Ke[un]);if(Ke!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ln=0,un=Object.getOwnPropertySymbols(Ke);Ln<un.length;Ln++)He.indexOf(un[Ln])<0&&Object.prototype.propertyIsEnumerable.call(Ke,un[Ln])&&(Dt[un[Ln]]=Ke[un[Ln]]);return Dt};const on=Ke=>{const{getPopupContainer:He,getPrefixCls:Dt,direction:un}=y.useContext(Tt.E_),{prefixCls:Ln,type:xn="default",danger:ct,disabled:ye,loading:Ue,onClick:ht,htmlType:Mt,children:rt,className:re,menu:le,arrow:te,autoFocus:Pe,overlay:Ne,trigger:At,align:jt,open:Rt,onOpenChange:Nt,placement:vn,getPopupContainer:On,href:Yt,icon:Ee=y.createElement(xt.Z,null),title:Vt,buttonsRender:Wt=Dr=>Dr,mouseEnterDelay:Sn,mouseLeaveDelay:kt,overlayClassName:nn,overlayStyle:ir,destroyPopupOnHide:jn,dropdownRender:yr}=Ke,Ve=tn(Ke,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),pn=Dt("dropdown",Ln),Cn=`${pn}-button`,Rn={menu:le,arrow:te,autoFocus:Pe,align:jt,disabled:ye,trigger:ye?[]:At,onOpenChange:Nt,getPopupContainer:On||He,mouseEnterDelay:Sn,mouseLeaveDelay:kt,overlayClassName:nn,overlayStyle:ir,destroyPopupOnHide:jn,dropdownRender:yr},{compactSize:En,compactItemClassnames:sr}=(0,Ze.ri)(pn,un),Br=me()(Cn,sr,re);"overlay"in Ke&&(Rn.overlay=Ne),"open"in Ke&&(Rn.open=Rt),"placement"in Ke?Rn.placement=vn:Rn.placement=un==="rtl"?"bottomLeft":"bottomRight";const Wn=y.createElement(_e.ZP,{type:xn,danger:ct,disabled:ye,loading:Ue,onClick:ht,htmlType:Mt,href:Yt,title:Vt},rt),Yr=y.createElement(_e.ZP,{type:xn,danger:ct,icon:Ee}),[er,Pr]=Wt([Wn,Yr]);return y.createElement(Ae.Z.Compact,Object.assign({className:Br,size:En,block:!0},Ve),er,y.createElement(ut,Object.assign({},Rn),Pr))};on.__ANT_BUTTON=!0;var Ct=on;const zt=ut;zt.Button=Ct;var mn=zt},99134:function(Xt,Me,T){"use strict";var y=T(67294);const M=(0,y.createContext)({});Me.Z=M},6999:function(Xt,Me,T){"use strict";T.d(Me,{VM:function(){return he},cG:function(){return ve}});var y=T(54548),M=T(2093),k=T(45503);const me=pe=>{const{componentCls:$e}=pe;return{[$e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},ne=pe=>{const{componentCls:$e}=pe;return{[$e]:{position:"relative",maxWidth:"100%",minHeight:1}}},ee=(pe,$e)=>{const{prefixCls:Tt,componentCls:nt,gridColumns:ge}=pe,Be={};for(let ze=ge;ze>=0;ze--)ze===0?(Be[`${nt}${$e}-${ze}`]={display:"none"},Be[`${nt}-push-${ze}`]={insetInlineStart:"auto"},Be[`${nt}-pull-${ze}`]={insetInlineEnd:"auto"},Be[`${nt}${$e}-push-${ze}`]={insetInlineStart:"auto"},Be[`${nt}${$e}-pull-${ze}`]={insetInlineEnd:"auto"},Be[`${nt}${$e}-offset-${ze}`]={marginInlineStart:0},Be[`${nt}${$e}-order-${ze}`]={order:0}):(Be[`${nt}${$e}-${ze}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${ze/ge*100}%`,maxWidth:`${ze/ge*100}%`}],Be[`${nt}${$e}-push-${ze}`]={insetInlineStart:`${ze/ge*100}%`},Be[`${nt}${$e}-pull-${ze}`]={insetInlineEnd:`${ze/ge*100}%`},Be[`${nt}${$e}-offset-${ze}`]={marginInlineStart:`${ze/ge*100}%`},Be[`${nt}${$e}-order-${ze}`]={order:ze});return Be[`${nt}${$e}-flex`]={flex:`var(--${Tt}${$e}-flex)`},Be},w=(pe,$e)=>ee(pe,$e),ae=(pe,$e,Tt)=>({[`@media (min-width: ${(0,y.unit)($e)})`]:Object.assign({},w(pe,Tt))}),Y=()=>({}),X=()=>({}),he=(0,M.I$)("Grid",me,Y),ve=(0,M.I$)("Grid",pe=>{const $e=(0,k.TS)(pe,{gridColumns:24}),Tt={"-sm":$e.screenSMMin,"-md":$e.screenMDMin,"-lg":$e.screenLGMin,"-xl":$e.screenXLMin,"-xxl":$e.screenXXLMin};return[ne($e),w($e,""),w($e,"-xs"),Object.keys(Tt).map(nt=>ae($e,Tt[nt],nt)).reduce((nt,ge)=>Object.assign(Object.assign({},nt),ge),{})]},X)},10110:function(Xt,Me,T){"use strict";var y=T(67294),M=T(76745),k=T(81570);const me=(ne,ee)=>{const w=y.useContext(M.Z),ae=y.useMemo(()=>{var X;const he=ee||k.Z[ne],ve=(X=w==null?void 0:w[ne])!==null&&X!==void 0?X:{};return Object.assign(Object.assign({},typeof he=="function"?he():he),ve||{})},[ne,ee,w]),Y=y.useMemo(()=>{const X=w==null?void 0:w.locale;return w!=null&&w.exist&&!X?k.Z.locale:X},[w]);return[ae,Y]};Me.Z=me},76529:function(Xt,Me,T){"use strict";T.d(Me,{J:function(){return ee}});var y=T(67294),M=T(56790),k=T(4173),me=function(w,ae){var Y={};for(var X in w)Object.prototype.hasOwnProperty.call(w,X)&&ae.indexOf(X)<0&&(Y[X]=w[X]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,X=Object.getOwnPropertySymbols(w);he<X.length;he++)ae.indexOf(X[he])<0&&Object.prototype.propertyIsEnumerable.call(w,X[he])&&(Y[X[he]]=w[X[he]]);return Y};const ne=y.createContext(null),ee=y.forwardRef((w,ae)=>{const{children:Y}=w,X=me(w,["children"]),he=y.useContext(ne),ve=y.useMemo(()=>Object.assign(Object.assign({},he),X),[he,X.prefixCls,X.mode,X.selectable,X.rootClassName]),pe=(0,M.supportNodeRef)(Y),$e=(0,M.useComposeRef)(ae,pe?Y.ref:null);return y.createElement(ne.Provider,{value:ve},y.createElement(k.BR,null,pe?y.cloneElement(Y,{ref:$e}):Y))});Me.Z=ne},96077:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return rt}});var y=T(67294),M=T(95480),k=T(13144),me=T.n(k),ne=function(re,le){var te={};for(var Pe in re)Object.prototype.hasOwnProperty.call(re,Pe)&&le.indexOf(Pe)<0&&(te[Pe]=re[Pe]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ne=0,Pe=Object.getOwnPropertySymbols(re);Ne<Pe.length;Ne++)le.indexOf(Pe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(re,Pe[Ne])&&(te[Pe[Ne]]=re[Pe[Ne]]);return te};const ee={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},w=y.createContext({}),ae=(()=>{let re=0;return function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return re+=1,`${le}${re}`}})(),Y=null;var X=null,he=T(89705),ve=T(56790),pe=T(98423),$e=T(33603),Tt=T(96159),nt=T(53124),ge=T(35792),Be=function(re,le){var te={};for(var Pe in re)Object.prototype.hasOwnProperty.call(re,Pe)&&le.indexOf(Pe)<0&&(te[Pe]=re[Pe]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ne=0,Pe=Object.getOwnPropertySymbols(re);Ne<Pe.length;Ne++)le.indexOf(Pe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(re,Pe[Ne])&&(te[Pe[Ne]]=re[Pe[Ne]]);return te},tt=re=>{const{prefixCls:le,className:te,dashed:Pe}=re,Ne=Be(re,["prefixCls","className","dashed"]),{getPrefixCls:At}=y.useContext(nt.E_),jt=At("menu",le),Rt=me()({[`${jt}-item-divider-dashed`]:!!Pe},te);return y.createElement(M.iz,Object.assign({className:Rt},Ne))},Ye=(0,y.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),je=T(50344),Ft=T(83062),ft=re=>{var le;const{className:te,children:Pe,icon:Ne,title:At,danger:jt}=re,{prefixCls:Rt,firstLevel:Nt,direction:vn,disableMenuItemTitleTooltip:On,inlineCollapsed:Yt}=y.useContext(Ye),Ee=ir=>{const jn=y.createElement("span",{className:`${Rt}-title-content`},Pe);return(!Ne||y.isValidElement(Pe)&&Pe.type==="span")&&Pe&&ir&&Nt&&typeof Pe=="string"?y.createElement("div",{className:`${Rt}-inline-collapsed-noicon`},Pe.charAt(0)):jn},{siderCollapsed:Vt}=y.useContext(w);let Wt=At;typeof At=="undefined"?Wt=Nt?Pe:"":At===!1&&(Wt="");const Sn={title:Wt};!Vt&&!Yt&&(Sn.title=null,Sn.open=!1);const kt=(0,je.Z)(Pe).length;let nn=y.createElement(M.ck,Object.assign({},(0,pe.Z)(re,["title","icon","danger"]),{className:me()({[`${Rt}-item-danger`]:jt,[`${Rt}-item-only-child`]:(Ne?kt+1:kt)===1},te),title:typeof At=="string"?At:void 0}),(0,Tt.Tm)(Ne,{className:me()(y.isValidElement(Ne)?(le=Ne.props)===null||le===void 0?void 0:le.className:"",`${Rt}-item-icon`)}),Ee(Yt));return On||(nn=y.createElement(Ft.Z,Object.assign({},Sn,{placement:vn==="rtl"?"left":"right",overlayClassName:`${Rt}-inline-collapsed-tooltip`}),nn)),nn},xe=T(76529),se=T(54548),vt=T(84780),De=T(14747),It=T(33507),wt=T(67771),et=T(50438),Le=T(2093),J=T(45503),we=re=>{const{componentCls:le,motionDurationSlow:te,horizontalLineHeight:Pe,colorSplit:Ne,lineWidth:At,lineType:jt,itemPaddingInline:Rt}=re;return{[`${le}-horizontal`]:{lineHeight:Pe,border:0,borderBottom:`${(0,se.unit)(At)} ${jt} ${Ne}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${le}-item, ${le}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:Rt},[`> ${le}-item:hover,
        > ${le}-item-active,
        > ${le}-submenu ${le}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${le}-item, ${le}-submenu-title`]:{transition:[`border-color ${te}`,`background ${te}`].join(",")},[`${le}-submenu-arrow`]:{display:"none"}}}},ut=re=>{let{componentCls:le,menuArrowOffset:te,calc:Pe}=re;return{[`${le}-rtl`]:{direction:"rtl"},[`${le}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${le}-rtl${le}-vertical,
    ${le}-submenu-rtl ${le}-vertical`]:{[`${le}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,se.unit)(Pe(te).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,se.unit)(te)})`}}}}};const xt=re=>Object.assign({},(0,De.oN)(re));var Ae=(re,le)=>{const{componentCls:te,itemColor:Pe,itemSelectedColor:Ne,groupTitleColor:At,itemBg:jt,subMenuItemBg:Rt,itemSelectedBg:Nt,activeBarHeight:vn,activeBarWidth:On,activeBarBorderWidth:Yt,motionDurationSlow:Ee,motionEaseInOut:Vt,motionEaseOut:Wt,itemPaddingInline:Sn,motionDurationMid:kt,itemHoverColor:nn,lineType:ir,colorSplit:jn,itemDisabledColor:yr,dangerItemColor:Ve,dangerItemHoverColor:pn,dangerItemSelectedColor:Cn,dangerItemActiveBg:Rn,dangerItemSelectedBg:En,popupBg:sr,itemHoverBg:Br,itemActiveBg:Wn,menuSubMenuBg:Yr,horizontalItemSelectedColor:er,horizontalItemSelectedBg:Pr,horizontalItemBorderRadius:Dr,horizontalItemHoverBg:yi}=re;return{[`${te}-${le}, ${te}-${le} > ${te}`]:{color:Pe,background:jt,[`&${te}-root:focus-visible`]:Object.assign({},xt(re)),[`${te}-item-group-title`]:{color:At},[`${te}-submenu-selected`]:{[`> ${te}-submenu-title`]:{color:Ne}},[`${te}-item, ${te}-submenu-title`]:{color:Pe,[`&:not(${te}-item-disabled):focus-visible`]:Object.assign({},xt(re))},[`${te}-item-disabled, ${te}-submenu-disabled`]:{color:`${yr} !important`},[`${te}-item:not(${te}-item-selected):not(${te}-submenu-selected)`]:{[`&:hover, > ${te}-submenu-title:hover`]:{color:nn}},[`&:not(${te}-horizontal)`]:{[`${te}-item:not(${te}-item-selected)`]:{"&:hover":{backgroundColor:Br},"&:active":{backgroundColor:Wn}},[`${te}-submenu-title`]:{"&:hover":{backgroundColor:Br},"&:active":{backgroundColor:Wn}}},[`${te}-item-danger`]:{color:Ve,[`&${te}-item:hover`]:{[`&:not(${te}-item-selected):not(${te}-submenu-selected)`]:{color:pn}},[`&${te}-item:active`]:{background:Rn}},[`${te}-item a`]:{"&, &:hover":{color:"inherit"}},[`${te}-item-selected`]:{color:Ne,[`&${te}-item-danger`]:{color:Cn},"a, a:hover":{color:"inherit"}},[`& ${te}-item-selected`]:{backgroundColor:Nt,[`&${te}-item-danger`]:{backgroundColor:En}},[`&${te}-submenu > ${te}`]:{backgroundColor:Yr},[`&${te}-popup > ${te}`]:{backgroundColor:sr},[`&${te}-submenu-popup > ${te}`]:{backgroundColor:sr},[`&${te}-horizontal`]:Object.assign(Object.assign({},le==="dark"?{borderBottom:0}:{}),{[`> ${te}-item, > ${te}-submenu`]:{top:Yt,marginTop:re.calc(Yt).mul(-1).equal(),marginBottom:0,borderRadius:Dr,"&::after":{position:"absolute",insetInline:Sn,bottom:0,borderBottom:`${(0,se.unit)(vn)} solid transparent`,transition:`border-color ${Ee} ${Vt}`,content:'""'},"&:hover, &-active, &-open":{background:yi,"&::after":{borderBottomWidth:vn,borderBottomColor:er}},"&-selected":{color:er,backgroundColor:Pr,"&:hover":{backgroundColor:Pr},"&::after":{borderBottomWidth:vn,borderBottomColor:er}}}}),[`&${te}-root`]:{[`&${te}-inline, &${te}-vertical`]:{borderInlineEnd:`${(0,se.unit)(Yt)} ${ir} ${jn}`}},[`&${te}-inline`]:{[`${te}-sub${te}-inline`]:{background:Rt},[`${te}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,se.unit)(On)} solid ${Ne}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${kt} ${Wt}`,`opacity ${kt} ${Wt}`].join(","),content:'""'},[`&${te}-item-danger`]:{"&::after":{borderInlineEndColor:Cn}}},[`${te}-selected, ${te}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${kt} ${Vt}`,`opacity ${kt} ${Vt}`].join(",")}}}}}};const Ze=re=>{const{componentCls:le,itemHeight:te,itemMarginInline:Pe,padding:Ne,menuArrowSize:At,marginXS:jt,itemMarginBlock:Rt,itemWidth:Nt}=re,vn=re.calc(At).add(Ne).add(jt).equal();return{[`${le}-item`]:{position:"relative",overflow:"hidden"},[`${le}-item, ${le}-submenu-title`]:{height:te,lineHeight:(0,se.unit)(te),paddingInline:Ne,overflow:"hidden",textOverflow:"ellipsis",marginInline:Pe,marginBlock:Rt,width:Nt},[`> ${le}-item,
            > ${le}-submenu > ${le}-submenu-title`]:{height:te,lineHeight:(0,se.unit)(te)},[`${le}-item-group-list ${le}-submenu-title,
            ${le}-submenu-title`]:{paddingInlineEnd:vn}}};var on=re=>{const{componentCls:le,iconCls:te,itemHeight:Pe,colorTextLightSolid:Ne,dropdownWidth:At,controlHeightLG:jt,motionDurationMid:Rt,motionEaseOut:Nt,paddingXL:vn,itemMarginInline:On,fontSizeLG:Yt,motionDurationSlow:Ee,paddingXS:Vt,boxShadowSecondary:Wt,collapsedWidth:Sn,collapsedIconSize:kt}=re,nn={height:Pe,lineHeight:(0,se.unit)(Pe),listStylePosition:"inside",listStyleType:"disc"};return[{[le]:{"&-inline, &-vertical":Object.assign({[`&${le}-root`]:{boxShadow:"none"}},Ze(re))},[`${le}-submenu-popup`]:{[`${le}-vertical`]:Object.assign(Object.assign({},Ze(re)),{boxShadow:Wt})}},{[`${le}-submenu-popup ${le}-vertical${le}-sub`]:{minWidth:At,maxHeight:`calc(100vh - ${(0,se.unit)(re.calc(jt).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${le}-inline`]:{width:"100%",[`&${le}-root`]:{[`${le}-item, ${le}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${Ee}`,`background ${Ee}`,`padding ${Rt} ${Nt}`,`padding-inline calc(50% - ${(0,se.unit)(re.calc(Yt).div(2).equal())} - ${(0,se.unit)(On)})`].join(","),[`> ${le}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${le}-sub${le}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${le}-submenu > ${le}-submenu-title`]:nn,[`& ${le}-item-group-title`]:{paddingInlineStart:vn}},[`${le}-item`]:nn}},{[`${le}-inline-collapsed`]:{width:Sn,[`&${le}-root`]:{[`${le}-item, ${le}-submenu ${le}-submenu-title`]:{[`> ${le}-inline-collapsed-noicon`]:{fontSize:Yt,textAlign:"center"}}},[`> ${le}-item,
          > ${le}-item-group > ${le}-item-group-list > ${le}-item,
          > ${le}-item-group > ${le}-item-group-list > ${le}-submenu > ${le}-submenu-title,
          > ${le}-submenu > ${le}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,se.unit)(re.calc(Yt).div(2).equal())} - ${(0,se.unit)(On)})`,textOverflow:"clip",[`
            ${le}-submenu-arrow,
            ${le}-submenu-expand-icon
          `]:{opacity:0},[`${le}-item-icon, ${te}`]:{margin:0,fontSize:kt,lineHeight:(0,se.unit)(Pe),"+ span":{display:"inline-block",opacity:0}}},[`${le}-item-icon, ${te}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${le}-item-icon, ${te}`]:{display:"none"},"a, a:hover":{color:Ne}},[`${le}-item-group-title`]:Object.assign(Object.assign({},De.vS),{paddingInline:Vt})}}]};const Ct=re=>{const{componentCls:le,motionDurationSlow:te,motionDurationMid:Pe,motionEaseInOut:Ne,motionEaseOut:At,iconCls:jt,iconSize:Rt,iconMarginInlineEnd:Nt}=re;return{[`${le}-item, ${le}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${te}`,`background ${te}`,`padding ${te} ${Ne}`].join(","),[`${le}-item-icon, ${jt}`]:{minWidth:Rt,fontSize:Rt,transition:[`font-size ${Pe} ${At}`,`margin ${te} ${Ne}`,`color ${te}`].join(","),"+ span":{marginInlineStart:Nt,opacity:1,transition:[`opacity ${te} ${Ne}`,`margin ${te}`,`color ${te}`].join(",")}},[`${le}-item-icon`]:Object.assign({},(0,De.Ro)()),[`&${le}-item-only-child`]:{[`> ${jt}, > ${le}-item-icon`]:{marginInlineEnd:0}}},[`${le}-item-disabled, ${le}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${le}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},zt=re=>{const{componentCls:le,motionDurationSlow:te,motionEaseInOut:Pe,borderRadius:Ne,menuArrowSize:At,menuArrowOffset:jt}=re;return{[`${le}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:re.margin,width:At,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${te} ${Pe}, opacity ${te}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:re.calc(At).mul(.6).equal(),height:re.calc(At).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:Ne,transition:[`background ${te} ${Pe}`,`transform ${te} ${Pe}`,`top ${te} ${Pe}`,`color ${te} ${Pe}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,se.unit)(re.calc(jt).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,se.unit)(jt)})`}}}}},mn=re=>{const{antCls:le,componentCls:te,fontSize:Pe,motionDurationSlow:Ne,motionDurationMid:At,motionEaseInOut:jt,paddingXS:Rt,padding:Nt,colorSplit:vn,lineWidth:On,zIndexPopup:Yt,borderRadiusLG:Ee,subMenuItemBorderRadius:Vt,menuArrowSize:Wt,menuArrowOffset:Sn,lineType:kt,groupTitleLineHeight:nn,groupTitleFontSize:ir}=re;return[{"":{[`${te}`]:Object.assign(Object.assign({},(0,De.dF)()),{"&-hidden":{display:"none"}})},[`${te}-submenu-hidden`]:{display:"none"}},{[te]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,De.Wf)(re)),(0,De.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:Pe,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${Ne} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${te}-item`]:{flex:"none"}},[`${te}-item, ${te}-submenu, ${te}-submenu-title`]:{borderRadius:re.itemBorderRadius},[`${te}-item-group-title`]:{padding:`${(0,se.unit)(Rt)} ${(0,se.unit)(Nt)}`,fontSize:ir,lineHeight:nn,transition:`all ${Ne}`},[`&-horizontal ${te}-submenu`]:{transition:[`border-color ${Ne} ${jt}`,`background ${Ne} ${jt}`].join(",")},[`${te}-submenu, ${te}-submenu-inline`]:{transition:[`border-color ${Ne} ${jt}`,`background ${Ne} ${jt}`,`padding ${At} ${jt}`].join(",")},[`${te}-submenu ${te}-sub`]:{cursor:"initial",transition:[`background ${Ne} ${jt}`,`padding ${Ne} ${jt}`].join(",")},[`${te}-title-content`]:{transition:`color ${Ne}`,[`> ${le}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"}},[`${te}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${te}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:vn,borderStyle:kt,borderWidth:0,borderTopWidth:On,marginBlock:On,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Ct(re)),{[`${te}-item-group`]:{[`${te}-item-group-list`]:{margin:0,padding:0,[`${te}-item, ${te}-submenu-title`]:{paddingInline:`${(0,se.unit)(re.calc(Pe).mul(2).equal())} ${(0,se.unit)(Nt)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:Yt,borderRadius:Ee,boxShadow:"none",transformOrigin:"0 0",[`&${te}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${te}`]:Object.assign(Object.assign(Object.assign({borderRadius:Ee},Ct(re)),zt(re)),{[`${te}-item, ${te}-submenu > ${te}-submenu-title`]:{borderRadius:Vt},[`${te}-submenu-title::after`]:{transition:`transform ${Ne} ${jt}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:re.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:re.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:re.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:re.paddingXS}}}),zt(re)),{[`&-inline-collapsed ${te}-submenu-arrow,
        &-inline ${te}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,se.unit)(Sn)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,se.unit)(re.calc(Sn).mul(-1).equal())})`}},[`${te}-submenu-open${te}-submenu-inline > ${te}-submenu-title > ${te}-submenu-arrow`]:{transform:`translateY(${(0,se.unit)(re.calc(Wt).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,se.unit)(re.calc(Sn).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,se.unit)(Sn)})`}}})},{[`${le}-layout-header`]:{[te]:{lineHeight:"inherit"}}}]},Ke=re=>{var le,te,Pe;const{colorPrimary:Ne,colorError:At,colorTextDisabled:jt,colorErrorBg:Rt,colorText:Nt,colorTextDescription:vn,colorBgContainer:On,colorFillAlter:Yt,colorFillContent:Ee,lineWidth:Vt,lineWidthBold:Wt,controlItemBgActive:Sn,colorBgTextHover:kt,controlHeightLG:nn,lineHeight:ir,colorBgElevated:jn,marginXXS:yr,padding:Ve,fontSize:pn,controlHeightSM:Cn,fontSizeLG:Rn,colorTextLightSolid:En,colorErrorHover:sr}=re,Br=(le=re.activeBarWidth)!==null&&le!==void 0?le:0,Wn=(te=re.activeBarBorderWidth)!==null&&te!==void 0?te:Vt,Yr=(Pe=re.itemMarginInline)!==null&&Pe!==void 0?Pe:re.marginXXS,er=new vt.C(En).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:re.zIndexPopupBase+50,radiusItem:re.borderRadiusLG,itemBorderRadius:re.borderRadiusLG,radiusSubMenuItem:re.borderRadiusSM,subMenuItemBorderRadius:re.borderRadiusSM,colorItemText:Nt,itemColor:Nt,colorItemTextHover:Nt,itemHoverColor:Nt,colorItemTextHoverHorizontal:Ne,horizontalItemHoverColor:Ne,colorGroupTitle:vn,groupTitleColor:vn,colorItemTextSelected:Ne,itemSelectedColor:Ne,colorItemTextSelectedHorizontal:Ne,horizontalItemSelectedColor:Ne,colorItemBg:On,itemBg:On,colorItemBgHover:kt,itemHoverBg:kt,colorItemBgActive:Ee,itemActiveBg:Sn,colorSubItemBg:Yt,subMenuItemBg:Yt,colorItemBgSelected:Sn,itemSelectedBg:Sn,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:Br,colorActiveBarHeight:Wt,activeBarHeight:Wt,colorActiveBarBorderSize:Vt,activeBarBorderWidth:Wn,colorItemTextDisabled:jt,itemDisabledColor:jt,colorDangerItemText:At,dangerItemColor:At,colorDangerItemTextHover:At,dangerItemHoverColor:At,colorDangerItemTextSelected:At,dangerItemSelectedColor:At,colorDangerItemBgActive:Rt,dangerItemActiveBg:Rt,colorDangerItemBgSelected:Rt,dangerItemSelectedBg:Rt,itemMarginInline:Yr,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:nn,groupTitleLineHeight:ir,collapsedWidth:nn*2,popupBg:jn,itemMarginBlock:yr,itemPaddingInline:Ve,horizontalLineHeight:`${nn*1.15}px`,iconSize:pn,iconMarginInlineEnd:Cn-pn,collapsedIconSize:Rn,groupTitleFontSize:pn,darkItemDisabledColor:new vt.C(En).setAlpha(.25).toRgbString(),darkItemColor:er,darkDangerItemColor:At,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:En,darkItemSelectedBg:Ne,darkDangerItemSelectedBg:At,darkItemHoverBg:"transparent",darkGroupTitleColor:er,darkItemHoverColor:En,darkDangerItemHoverColor:sr,darkDangerItemSelectedColor:En,darkDangerItemActiveBg:At,itemWidth:Br?`calc(100% + ${Wn}px)`:`calc(100% - ${Yr*2}px)`}};var He=function(re){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,Le.I$)("Menu",Ne=>{const{colorBgElevated:At,controlHeightLG:jt,fontSize:Rt,darkItemColor:Nt,darkDangerItemColor:vn,darkItemBg:On,darkSubMenuItemBg:Yt,darkItemSelectedColor:Ee,darkItemSelectedBg:Vt,darkDangerItemSelectedBg:Wt,darkItemHoverBg:Sn,darkGroupTitleColor:kt,darkItemHoverColor:nn,darkItemDisabledColor:ir,darkDangerItemHoverColor:jn,darkDangerItemSelectedColor:yr,darkDangerItemActiveBg:Ve,popupBg:pn,darkPopupBg:Cn}=Ne,Rn=Ne.calc(Rt).div(7).mul(5).equal(),En=(0,J.TS)(Ne,{menuArrowSize:Rn,menuHorizontalHeight:Ne.calc(jt).mul(1.15).equal(),menuArrowOffset:Ne.calc(Rn).mul(.25).equal(),menuSubMenuBg:At,calc:Ne.calc,popupBg:pn}),sr=(0,J.TS)(En,{itemColor:Nt,itemHoverColor:nn,groupTitleColor:kt,itemSelectedColor:Ee,itemBg:On,popupBg:Cn,subMenuItemBg:Yt,itemActiveBg:"transparent",itemSelectedBg:Vt,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:Sn,itemDisabledColor:ir,dangerItemColor:vn,dangerItemHoverColor:jn,dangerItemSelectedColor:yr,dangerItemActiveBg:Ve,dangerItemSelectedBg:Wt,menuSubMenuBg:Yt,horizontalItemSelectedColor:Ee,horizontalItemSelectedBg:Vt});return[mn(En),we(En),on(En),Ae(En,"light"),Ae(sr,"dark"),ut(En),(0,It.Z)(En),(0,wt.oN)(En,"slide-up"),(0,wt.oN)(En,"slide-down"),(0,et._y)(En,"zoom-big")]},Ke,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:te,unitless:{groupTitleLineHeight:!0}})(re,le)},Dt=T(87263),Ln=re=>{var le;const{popupClassName:te,icon:Pe,title:Ne,theme:At}=re,jt=y.useContext(Ye),{prefixCls:Rt,inlineCollapsed:Nt,theme:vn}=jt,On=(0,M.Xl)();let Yt;if(!Pe)Yt=Nt&&!On.length&&Ne&&typeof Ne=="string"?y.createElement("div",{className:`${Rt}-inline-collapsed-noicon`},Ne.charAt(0)):y.createElement("span",{className:`${Rt}-title-content`},Ne);else{const Wt=y.isValidElement(Ne)&&Ne.type==="span";Yt=y.createElement(y.Fragment,null,(0,Tt.Tm)(Pe,{className:me()(y.isValidElement(Pe)?(le=Pe.props)===null||le===void 0?void 0:le.className:"",`${Rt}-item-icon`)}),Wt?Ne:y.createElement("span",{className:`${Rt}-title-content`},Ne))}const Ee=y.useMemo(()=>Object.assign(Object.assign({},jt),{firstLevel:!1}),[jt]),[Vt]=(0,Dt.Cn)("Menu");return y.createElement(Ye.Provider,{value:Ee},y.createElement(M.Wd,Object.assign({},(0,pe.Z)(re,["icon"]),{title:Yt,popupClassName:me()(Rt,te,`${Rt}-${At||vn}`),popupStyle:{zIndex:Vt}})))},xn=function(re,le){var te={};for(var Pe in re)Object.prototype.hasOwnProperty.call(re,Pe)&&le.indexOf(Pe)<0&&(te[Pe]=re[Pe]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ne=0,Pe=Object.getOwnPropertySymbols(re);Ne<Pe.length;Ne++)le.indexOf(Pe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(re,Pe[Ne])&&(te[Pe[Ne]]=re[Pe[Ne]]);return te};function ct(re){return re===null||re===!1}const ye={item:ft,submenu:Ln,divider:tt};var ht=(0,y.forwardRef)((re,le)=>{var te;const Pe=y.useContext(xe.Z),Ne=Pe||{},{getPrefixCls:At,getPopupContainer:jt,direction:Rt,menu:Nt}=y.useContext(nt.E_),vn=At(),{prefixCls:On,className:Yt,style:Ee,theme:Vt="light",expandIcon:Wt,_internalDisableMenuItemTitleTooltip:Sn,inlineCollapsed:kt,siderCollapsed:nn,rootClassName:ir,mode:jn,selectable:yr,onClick:Ve,overflowedIndicatorPopupClassName:pn}=re,Cn=xn(re,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),Rn=(0,pe.Z)(Cn,["collapsedWidth"]);(te=Ne.validator)===null||te===void 0||te.call(Ne,{mode:jn});const En=(0,ve.useEvent)(function(){var dt;Ve==null||Ve.apply(void 0,arguments),(dt=Ne.onClick)===null||dt===void 0||dt.call(Ne)}),sr=Ne.mode||jn,Br=yr!=null?yr:Ne.selectable,Wn=y.useMemo(()=>nn!==void 0?nn:kt,[kt,nn]),Yr={horizontal:{motionName:`${vn}-slide-up`},inline:(0,$e.Z)(vn),other:{motionName:`${vn}-zoom-big`}},er=At("menu",On||Ne.prefixCls),Pr=(0,ge.Z)(er),[Dr,yi,Si]=He(er,Pr,!Pe),_i=me()(`${er}-${Vt}`,Nt==null?void 0:Nt.className,Yt),Or=y.useMemo(()=>{var dt,Un;if(typeof Wt=="function"||ct(Wt))return Wt||null;if(typeof Ne.expandIcon=="function"||ct(Ne.expandIcon))return Ne.expandIcon||null;if(typeof(Nt==null?void 0:Nt.expandIcon)=="function"||ct(Nt==null?void 0:Nt.expandIcon))return(Nt==null?void 0:Nt.expandIcon)||null;const Se=(dt=Wt!=null?Wt:Ne==null?void 0:Ne.expandIcon)!==null&&dt!==void 0?dt:Nt==null?void 0:Nt.expandIcon;return(0,Tt.Tm)(Se,{className:me()(`${er}-submenu-expand-icon`,y.isValidElement(Se)?(Un=Se.props)===null||Un===void 0?void 0:Un.className:void 0)})},[Wt,Ne==null?void 0:Ne.expandIcon,Nt==null?void 0:Nt.expandIcon,er]),Vn=y.useMemo(()=>({prefixCls:er,inlineCollapsed:Wn||!1,direction:Rt,firstLevel:!0,theme:Vt,mode:sr,disableMenuItemTitleTooltip:Sn}),[er,Wn,Rt,Sn,Vt]);return Dr(y.createElement(xe.Z.Provider,{value:null},y.createElement(Ye.Provider,{value:Vn},y.createElement(M.ZP,Object.assign({getPopupContainer:jt,overflowedIndicator:y.createElement(he.Z,null),overflowedIndicatorPopupClassName:me()(er,`${er}-${Vt}`,pn),mode:sr,selectable:Br,onClick:En},Rn,{inlineCollapsed:Wn,style:Object.assign(Object.assign({},Nt==null?void 0:Nt.style),Ee),className:_i,prefixCls:er,direction:Rt,defaultMotions:Yr,expandIcon:Or,ref:le,rootClassName:me()(ir,yi,Ne.rootClassName,Si,Pr),_internalComponents:ye})))))});const Mt=(0,y.forwardRef)((re,le)=>{const te=(0,y.useRef)(null),Pe=y.useContext(w);return(0,y.useImperativeHandle)(le,()=>({menu:te.current,focus:Ne=>{var At;(At=te.current)===null||At===void 0||At.focus(Ne)}})),y.createElement(ht,Object.assign({ref:te},re,Pe))});Mt.Item=ft,Mt.SubMenu=Ln,Mt.Divider=tt,Mt.ItemGroup=M.BW;var rt=Mt},45803:function(Xt,Me,T){"use strict";T.d(Me,{ZP:function(){return Un}});var y=T(75177),M=T(67294),k=T(38135);const me=M.createContext({}),ne=M.createContext({message:{},notification:{},modal:{}});var ee=null,w=T(53124),ae=T(25682),Y=T(89739),X=T(4340),he=T(21640),ve=T(97460),pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},$e=pe,Tt=T(55230),nt=function(Qe,Ot){return M.createElement(Tt.Z,(0,ve.Z)({},Qe,{ref:Ot,icon:$e}))},ge=M.forwardRef(nt),Be=ge,ze=T(50888),tt=T(13144),qe=T.n(tt),Ye=T(74902),je=T(97685),Ft=T(91),Jt=T(1413),ft=T(73935),xe=T(87462),se=T(4942),vt=T(94184),De=T.n(vt),It=T(9402),wt=T(71002),et=T(15105),Le=T(64217),J=M.forwardRef(function(Se,Qe){var Ot=Se.prefixCls,it=Se.style,H=Se.className,Ce=Se.duration,Ie=Ce===void 0?4.5:Ce,ue=Se.eventKey,Fe=Se.content,gt=Se.closable,an=Se.closeIcon,_n=an===void 0?"x":an,Ut=Se.props,qt=Se.onClick,Zt=Se.onNoticeClose,Dn=Se.times,sn=Se.hovering,Rr=M.useState(!1),_r=(0,je.Z)(Rr,2),br=_r[0],Mr=_r[1],St=sn||br,ar=function(){Zt(ue)},Nn=function(yn){(yn.key==="Enter"||yn.code==="Enter"||yn.keyCode===et.Z.ENTER)&&ar()};M.useEffect(function(){if(!St&&Ie>0){var xr=setTimeout(function(){ar()},Ie*1e3);return function(){clearTimeout(xr)}}},[Ie,St,Dn]);var Hn=M.useMemo(function(){return(0,wt.Z)(gt)==="object"&&gt!==null?gt:gt?{closeIcon:_n}:{}},[gt,_n]),Qn=(0,Le.Z)(Hn,!0),Tr="".concat(Ot,"-notice");return M.createElement("div",(0,xe.Z)({},Ut,{ref:Qe,className:De()(Tr,H,(0,se.Z)({},"".concat(Tr,"-closable"),gt)),style:it,onMouseEnter:function(yn){var ur;Mr(!0),Ut==null||(ur=Ut.onMouseEnter)===null||ur===void 0||ur.call(Ut,yn)},onMouseLeave:function(yn){var ur;Mr(!1),Ut==null||(ur=Ut.onMouseLeave)===null||ur===void 0||ur.call(Ut,yn)},onClick:qt}),M.createElement("div",{className:"".concat(Tr,"-content")},Fe),gt&&M.createElement("a",(0,xe.Z)({tabIndex:0,className:"".concat(Tr,"-close"),onKeyDown:Nn,"aria-label":"Close"},Qn,{onClick:function(yn){yn.preventDefault(),yn.stopPropagation(),ar()}}),Hn.closeIcon))}),de=J,we=M.createContext({}),Ge=function(Qe){var Ot=Qe.children,it=Qe.classNames;return M.createElement(we.Provider,{value:{classNames:it}},Ot)},ut=Ge,xt=8,_e=3,Ae=16,Ze=function(Qe){var Ot={offset:xt,threshold:_e,gap:Ae};if(Qe&&(0,wt.Z)(Qe)==="object"){var it,H,Ce;Ot.offset=(it=Qe.offset)!==null&&it!==void 0?it:xt,Ot.threshold=(H=Qe.threshold)!==null&&H!==void 0?H:_e,Ot.gap=(Ce=Qe.gap)!==null&&Ce!==void 0?Ce:Ae}return[!!Qe,Ot]},tn=Ze,on=["className","style","classNames","styles"],Ct=function(Qe){var Ot=Qe.configList,it=Qe.placement,H=Qe.prefixCls,Ce=Qe.className,Ie=Qe.style,ue=Qe.motion,Fe=Qe.onAllNoticeRemoved,gt=Qe.onNoticeClose,an=Qe.stack,_n=(0,M.useContext)(we),Ut=_n.classNames,qt=(0,M.useRef)({}),Zt=(0,M.useState)(null),Dn=(0,je.Z)(Zt,2),sn=Dn[0],Rr=Dn[1],_r=(0,M.useState)([]),br=(0,je.Z)(_r,2),Mr=br[0],St=br[1],ar=Ot.map(function(Mn){return{config:Mn,key:String(Mn.key)}}),Nn=tn(an),Hn=(0,je.Z)(Nn,2),Qn=Hn[0],Tr=Hn[1],xr=Tr.offset,yn=Tr.threshold,ur=Tr.gap,Kr=Qn&&(Mr.length>0||ar.length<=yn),ti=typeof ue=="function"?ue(it):ue;return(0,M.useEffect)(function(){Qn&&Mr.length>1&&St(function(Mn){return Mn.filter(function(wn){return ar.some(function($i){var mi=$i.key;return wn===mi})})})},[Mr,ar,Qn]),(0,M.useEffect)(function(){var Mn;if(Qn&&qt.current[(Mn=ar[ar.length-1])===null||Mn===void 0?void 0:Mn.key]){var wn;Rr(qt.current[(wn=ar[ar.length-1])===null||wn===void 0?void 0:wn.key])}},[ar,Qn]),M.createElement(It.CSSMotionList,(0,xe.Z)({key:it,className:De()(H,"".concat(H,"-").concat(it),Ut==null?void 0:Ut.list,Ce,(0,se.Z)((0,se.Z)({},"".concat(H,"-stack"),!!Qn),"".concat(H,"-stack-expanded"),Kr)),style:Ie,keys:ar,motionAppear:!0},ti,{onAllRemoved:function(){Fe(it)}}),function(Mn,wn){var $i=Mn.config,mi=Mn.className,ji=Mn.style,wi=Mn.index,Di=$i,ga=Di.key,Ji=Di.times,fi=String(ga),Gr=$i,da=Gr.className,Da=Gr.style,ma=Gr.classNames,la=Gr.styles,ya=(0,Ft.Z)(Gr,on),fn=ar.findIndex(function(Tn){return Tn.key===fi}),Qa={};if(Qn){var eo=ar.length-1-(fn>-1?fn:wi-1),Li=it==="top"||it==="bottom"?"-50%":"0";if(eo>0){var gr,be,Bn;Qa.height=Kr?(gr=qt.current[fi])===null||gr===void 0?void 0:gr.offsetHeight:sn==null?void 0:sn.offsetHeight;for(var ra=0,B=0;B<eo;B++){var Te;ra+=((Te=qt.current[ar[ar.length-1-B].key])===null||Te===void 0?void 0:Te.offsetHeight)+ur}var We=(Kr?ra:eo*xr)*(it.startsWith("top")?1:-1),_t=!Kr&&sn!==null&&sn!==void 0&&sn.offsetWidth&&(be=qt.current[fi])!==null&&be!==void 0&&be.offsetWidth?((sn==null?void 0:sn.offsetWidth)-xr*2*(eo<3?eo:3))/((Bn=qt.current[fi])===null||Bn===void 0?void 0:Bn.offsetWidth):1;Qa.transform="translate3d(".concat(Li,", ").concat(We,"px, 0) scaleX(").concat(_t,")")}else Qa.transform="translate3d(".concat(Li,", 0, 0)")}return M.createElement("div",{ref:wn,className:De()("".concat(H,"-notice-wrapper"),mi,ma==null?void 0:ma.wrapper),style:(0,Jt.Z)((0,Jt.Z)((0,Jt.Z)({},ji),Qa),la==null?void 0:la.wrapper),onMouseEnter:function(){return St(function(Oi){return Oi.includes(fi)?Oi:[].concat((0,Ye.Z)(Oi),[fi])})},onMouseLeave:function(){return St(function(Oi){return Oi.filter(function(Hi){return Hi!==fi})})}},M.createElement(de,(0,xe.Z)({},ya,{ref:function(Oi){fn>-1?qt.current[fi]=Oi:delete qt.current[fi]},prefixCls:H,classNames:ma,styles:la,className:De()(da,Ut==null?void 0:Ut.notice),style:Da,times:Ji,key:ga,eventKey:ga,onNoticeClose:gt,hovering:Qn&&Mr.length>0})))})},zt=Ct,mn=M.forwardRef(function(Se,Qe){var Ot=Se.prefixCls,it=Ot===void 0?"rc-notification":Ot,H=Se.container,Ce=Se.motion,Ie=Se.maxCount,ue=Se.className,Fe=Se.style,gt=Se.onAllRemoved,an=Se.stack,_n=Se.renderNotifications,Ut=M.useState([]),qt=(0,je.Z)(Ut,2),Zt=qt[0],Dn=qt[1],sn=function(Qn){var Tr,xr=Zt.find(function(yn){return yn.key===Qn});xr==null||(Tr=xr.onClose)===null||Tr===void 0||Tr.call(xr),Dn(function(yn){return yn.filter(function(ur){return ur.key!==Qn})})};M.useImperativeHandle(Qe,function(){return{open:function(Qn){Dn(function(Tr){var xr=(0,Ye.Z)(Tr),yn=xr.findIndex(function(ti){return ti.key===Qn.key}),ur=(0,Jt.Z)({},Qn);if(yn>=0){var Kr;ur.times=(((Kr=Tr[yn])===null||Kr===void 0?void 0:Kr.times)||0)+1,xr[yn]=ur}else ur.times=0,xr.push(ur);return Ie>0&&xr.length>Ie&&(xr=xr.slice(-Ie)),xr})},close:function(Qn){sn(Qn)},destroy:function(){Dn([])}}});var Rr=M.useState({}),_r=(0,je.Z)(Rr,2),br=_r[0],Mr=_r[1];M.useEffect(function(){var Hn={};Zt.forEach(function(Qn){var Tr=Qn.placement,xr=Tr===void 0?"topRight":Tr;xr&&(Hn[xr]=Hn[xr]||[],Hn[xr].push(Qn))}),Object.keys(br).forEach(function(Qn){Hn[Qn]=Hn[Qn]||[]}),Mr(Hn)},[Zt]);var St=function(Qn){Mr(function(Tr){var xr=(0,Jt.Z)({},Tr),yn=xr[Qn]||[];return yn.length||delete xr[Qn],xr})},ar=M.useRef(!1);if(M.useEffect(function(){Object.keys(br).length>0?ar.current=!0:ar.current&&(gt==null||gt(),ar.current=!1)},[br]),!H)return null;var Nn=Object.keys(br);return(0,ft.createPortal)(M.createElement(M.Fragment,null,Nn.map(function(Hn){var Qn=br[Hn],Tr=M.createElement(zt,{key:Hn,configList:Qn,placement:Hn,prefixCls:it,className:ue==null?void 0:ue(Hn),style:Fe==null?void 0:Fe(Hn),motion:Ce,onNoticeClose:sn,onAllNoticeRemoved:St,stack:an});return _n?_n(Tr,{prefixCls:it,key:Hn}):Tr})),H)}),Ke=mn,He=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Dt=function(){return document.body},un=0;function Ln(){for(var Se={},Qe=arguments.length,Ot=new Array(Qe),it=0;it<Qe;it++)Ot[it]=arguments[it];return Ot.forEach(function(H){H&&Object.keys(H).forEach(function(Ce){var Ie=H[Ce];Ie!==void 0&&(Se[Ce]=Ie)})}),Se}function xn(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Qe=Se.getContainer,Ot=Qe===void 0?Dt:Qe,it=Se.motion,H=Se.prefixCls,Ce=Se.maxCount,Ie=Se.className,ue=Se.style,Fe=Se.onAllRemoved,gt=Se.stack,an=Se.renderNotifications,_n=(0,Ft.Z)(Se,He),Ut=M.useState(),qt=(0,je.Z)(Ut,2),Zt=qt[0],Dn=qt[1],sn=M.useRef(),Rr=M.createElement(Ke,{container:Zt,ref:sn,prefixCls:H,motion:it,maxCount:Ce,className:Ie,style:ue,onAllRemoved:Fe,stack:gt,renderNotifications:an}),_r=M.useState([]),br=(0,je.Z)(_r,2),Mr=br[0],St=br[1],ar=M.useMemo(function(){return{open:function(Hn){var Qn=Ln(_n,Hn);(Qn.key===null||Qn.key===void 0)&&(Qn.key="rc-notification-".concat(un),un+=1),St(function(Tr){return[].concat((0,Ye.Z)(Tr),[{type:"open",config:Qn}])})},close:function(Hn){St(function(Qn){return[].concat((0,Ye.Z)(Qn),[{type:"close",key:Hn}])})},destroy:function(){St(function(Hn){return[].concat((0,Ye.Z)(Hn),[{type:"destroy"}])})}}},[]);return M.useEffect(function(){Dn(Ot())}),M.useEffect(function(){sn.current&&Mr.length&&(Mr.forEach(function(Nn){switch(Nn.type){case"open":sn.current.open(Nn.config);break;case"close":sn.current.close(Nn.key);break;case"destroy":sn.current.destroy();break}}),St(function(Nn){return Nn.filter(function(Hn){return!Mr.includes(Hn)})}))},[Mr]),[ar,Rr]}var ct=T(35792),ye=T(54548),Ue=T(87263),ht=T(14747),Mt=T(2093),rt=T(45503);const re=Se=>{const{componentCls:Qe,iconCls:Ot,boxShadow:it,colorText:H,colorSuccess:Ce,colorError:Ie,colorWarning:ue,colorInfo:Fe,fontSizeLG:gt,motionEaseInOutCirc:an,motionDurationSlow:_n,marginXS:Ut,paddingXS:qt,borderRadiusLG:Zt,zIndexPopup:Dn,contentPadding:sn,contentBg:Rr}=Se,_r=`${Qe}-notice`,br=new ye.Keyframes("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:qt,transform:"translateY(0)",opacity:1}}),Mr=new ye.Keyframes("MessageMoveOut",{"0%":{maxHeight:Se.height,padding:qt,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),St={padding:qt,textAlign:"center",[`${Qe}-custom-content > ${Ot}`]:{verticalAlign:"text-bottom",marginInlineEnd:Ut,fontSize:gt},[`${_r}-content`]:{display:"inline-block",padding:sn,background:Rr,borderRadius:Zt,boxShadow:it,pointerEvents:"all"},[`${Qe}-success > ${Ot}`]:{color:Ce},[`${Qe}-error > ${Ot}`]:{color:Ie},[`${Qe}-warning > ${Ot}`]:{color:ue},[`${Qe}-info > ${Ot},
      ${Qe}-loading > ${Ot}`]:{color:Fe}};return[{[Qe]:Object.assign(Object.assign({},(0,ht.Wf)(Se)),{color:H,position:"fixed",top:Ut,width:"100%",pointerEvents:"none",zIndex:Dn,[`${Qe}-move-up`]:{animationFillMode:"forwards"},[`
        ${Qe}-move-up-appear,
        ${Qe}-move-up-enter
      `]:{animationName:br,animationDuration:_n,animationPlayState:"paused",animationTimingFunction:an},[`
        ${Qe}-move-up-appear${Qe}-move-up-appear-active,
        ${Qe}-move-up-enter${Qe}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${Qe}-move-up-leave`]:{animationName:Mr,animationDuration:_n,animationPlayState:"paused",animationTimingFunction:an},[`${Qe}-move-up-leave${Qe}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[Qe]:{[`${_r}-wrapper`]:Object.assign({},St)}},{[`${Qe}-notice-pure-panel`]:Object.assign(Object.assign({},St),{padding:0,textAlign:"start"})}]},le=Se=>({zIndexPopup:Se.zIndexPopupBase+Ue.u6+10,contentBg:Se.colorBgElevated,contentPadding:`${(Se.controlHeightLG-Se.fontSize*Se.lineHeight)/2}px ${Se.paddingSM}px`});var te=(0,Mt.I$)("Message",Se=>{const Qe=(0,rt.TS)(Se,{height:150});return[re(Qe)]},le),Pe=function(Se,Qe){var Ot={};for(var it in Se)Object.prototype.hasOwnProperty.call(Se,it)&&Qe.indexOf(it)<0&&(Ot[it]=Se[it]);if(Se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var H=0,it=Object.getOwnPropertySymbols(Se);H<it.length;H++)Qe.indexOf(it[H])<0&&Object.prototype.propertyIsEnumerable.call(Se,it[H])&&(Ot[it[H]]=Se[it[H]]);return Ot};const Ne={info:M.createElement(Be,null),success:M.createElement(Y.Z,null),error:M.createElement(X.Z,null),warning:M.createElement(he.Z,null),loading:M.createElement(ze.Z,null)},At=Se=>{let{prefixCls:Qe,type:Ot,icon:it,children:H}=Se;return M.createElement("div",{className:qe()(`${Qe}-custom-content`,`${Qe}-${Ot}`)},it||Ne[Ot],M.createElement("span",null,H))};var Rt=Se=>{const{prefixCls:Qe,className:Ot,type:it,icon:H,content:Ce}=Se,Ie=Pe(Se,["prefixCls","className","type","icon","content"]),{getPrefixCls:ue}=M.useContext(w.E_),Fe=Qe||ue("message"),gt=(0,ct.Z)(Fe),[an,_n,Ut]=te(Fe,gt);return an(M.createElement(de,Object.assign({},Ie,{prefixCls:Fe,className:qe()(Ot,_n,`${Fe}-notice-pure-panel`,Ut,gt),eventKey:"pure",duration:null,content:M.createElement(At,{prefixCls:Fe,type:it,icon:H},Ce)})))},Nt=T(97937),vn=T(27288);function On(Se,Qe){return{motionName:Qe!=null?Qe:`${Se}-move-up`}}function Yt(Se){let Qe;const Ot=new Promise(H=>{Qe=Se(()=>{H(!0)})}),it=()=>{Qe==null||Qe()};return it.then=(H,Ce)=>Ot.then(H,Ce),it.promise=Ot,it}var Ee=function(Se,Qe){var Ot={};for(var it in Se)Object.prototype.hasOwnProperty.call(Se,it)&&Qe.indexOf(it)<0&&(Ot[it]=Se[it]);if(Se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var H=0,it=Object.getOwnPropertySymbols(Se);H<it.length;H++)Qe.indexOf(it[H])<0&&Object.prototype.propertyIsEnumerable.call(Se,it[H])&&(Ot[it[H]]=Se[it[H]]);return Ot};const Vt=8,Wt=3,Sn=Se=>{let{children:Qe,prefixCls:Ot}=Se;const it=(0,ct.Z)(Ot),[H,Ce,Ie]=te(Ot,it);return H(M.createElement(ut,{classNames:{list:qe()(Ce,Ie,it)}},Qe))},kt=(Se,Qe)=>{let{prefixCls:Ot,key:it}=Qe;return M.createElement(Sn,{prefixCls:Ot,key:it},Se)},nn=M.forwardRef((Se,Qe)=>{const{top:Ot,prefixCls:it,getContainer:H,maxCount:Ce,duration:Ie=Wt,rtl:ue,transitionName:Fe,onAllRemoved:gt}=Se,{getPrefixCls:an,getPopupContainer:_n,message:Ut,direction:qt}=M.useContext(w.E_),Zt=it||an("message"),Dn=()=>({left:"50%",transform:"translateX(-50%)",top:Ot!=null?Ot:Vt}),sn=()=>qe()({[`${Zt}-rtl`]:ue!=null?ue:qt==="rtl"}),Rr=()=>On(Zt,Fe),_r=M.createElement("span",{className:`${Zt}-close-x`},M.createElement(Nt.Z,{className:`${Zt}-close-icon`})),[br,Mr]=xn({prefixCls:Zt,style:Dn,className:sn,motion:Rr,closable:!1,closeIcon:_r,duration:Ie,getContainer:()=>(H==null?void 0:H())||(_n==null?void 0:_n())||document.body,maxCount:Ce,onAllRemoved:gt,renderNotifications:kt});return M.useImperativeHandle(Qe,()=>Object.assign(Object.assign({},br),{prefixCls:Zt,message:Ut})),Mr});let ir=0;function jn(Se){const Qe=M.useRef(null),Ot=(0,vn.ln)("Message");return[M.useMemo(()=>{const H=gt=>{var an;(an=Qe.current)===null||an===void 0||an.close(gt)},Ce=gt=>{if(!Qe.current){const Nn=()=>{};return Nn.then=()=>{},Nn}const{open:an,prefixCls:_n,message:Ut}=Qe.current,qt=`${_n}-notice`,{content:Zt,icon:Dn,type:sn,key:Rr,className:_r,style:br,onClose:Mr}=gt,St=Ee(gt,["content","icon","type","key","className","style","onClose"]);let ar=Rr;return ar==null&&(ir+=1,ar=`antd-message-${ir}`),Yt(Nn=>(an(Object.assign(Object.assign({},St),{key:ar,content:M.createElement(At,{prefixCls:_n,type:sn,icon:Dn},Zt),placement:"top",className:qe()(sn&&`${qt}-${sn}`,_r,Ut==null?void 0:Ut.className),style:Object.assign(Object.assign({},Ut==null?void 0:Ut.style),br),onClose:()=>{Mr==null||Mr(),Nn()}})),()=>{H(ar)}))},ue={open:Ce,destroy:gt=>{var an;gt!==void 0?H(gt):(an=Qe.current)===null||an===void 0||an.destroy()}};return["info","success","warning","error","loading"].forEach(gt=>{const an=(_n,Ut,qt)=>{let Zt;_n&&typeof _n=="object"&&"content"in _n?Zt=_n:Zt={content:_n};let Dn,sn;typeof Ut=="function"?sn=Ut:(Dn=Ut,sn=qt);const Rr=Object.assign(Object.assign({onClose:sn,duration:Dn},Zt),{type:gt});return Ce(Rr)};ue[gt]=an}),ue},[]),M.createElement(nn,Object.assign({key:"message-holder"},Se,{ref:Qe}))]}function yr(Se){return jn(Se)}let Ve=null,pn=Se=>Se(),Cn=[],Rn={};function En(){const{getContainer:Se,duration:Qe,rtl:Ot,maxCount:it,top:H}=Rn,Ce=(Se==null?void 0:Se())||document.body;return{getContainer:()=>Ce,duration:Qe,rtl:Ot,maxCount:it,top:H}}const sr=M.forwardRef((Se,Qe)=>{const{messageConfig:Ot,sync:it}=Se,{getPrefixCls:H}=(0,M.useContext)(w.E_),Ce=Rn.prefixCls||H("message"),Ie=(0,M.useContext)(me),[ue,Fe]=jn(Object.assign(Object.assign(Object.assign({},Ot),{prefixCls:Ce}),Ie.message));return M.useImperativeHandle(Qe,()=>{const gt=Object.assign({},ue);return Object.keys(gt).forEach(an=>{gt[an]=function(){return it(),ue[an].apply(ue,arguments)}}),{instance:gt,sync:it}}),Fe}),Br=M.forwardRef((Se,Qe)=>{const[Ot,it]=M.useState(En),H=()=>{it(En)};M.useEffect(H,[]);const Ce=(0,ae.w6)(),Ie=Ce.getRootPrefixCls(),ue=Ce.getIconPrefixCls(),Fe=Ce.getTheme(),gt=M.createElement(sr,{ref:Qe,sync:H,messageConfig:Ot});return M.createElement(ae.ZP,{prefixCls:Ie,iconPrefixCls:ue,theme:Fe},Ce.holderRender?Ce.holderRender(gt):gt)});function Wn(){if(!Ve){const Se=document.createDocumentFragment(),Qe={fragment:Se};Ve=Qe,pn(()=>{(0,k.s)(M.createElement(Br,{ref:Ot=>{const{instance:it,sync:H}=Ot||{};Promise.resolve().then(()=>{!Qe.instance&&it&&(Qe.instance=it,Qe.sync=H,Wn())})}}),Se)});return}Ve.instance&&(Cn.forEach(Se=>{const{type:Qe,skipped:Ot}=Se;if(!Ot)switch(Qe){case"open":{pn(()=>{const it=Ve.instance.open(Object.assign(Object.assign({},Rn),Se.config));it==null||it.then(Se.resolve),Se.setCloseFn(it)});break}case"destroy":pn(()=>{Ve==null||Ve.instance.destroy(Se.key)});break;default:pn(()=>{var it;const H=(it=Ve.instance)[Qe].apply(it,(0,y.Z)(Se.args));H==null||H.then(Se.resolve),Se.setCloseFn(H)})}}),Cn=[])}function Yr(Se){Rn=Object.assign(Object.assign({},Rn),Se),pn(()=>{var Qe;(Qe=Ve==null?void 0:Ve.sync)===null||Qe===void 0||Qe.call(Ve)})}function er(Se){const Qe=Yt(Ot=>{let it;const H={type:"open",config:Se,resolve:Ot,setCloseFn:Ce=>{it=Ce}};return Cn.push(H),()=>{it?pn(()=>{it()}):H.skipped=!0}});return Wn(),Qe}function Pr(Se,Qe){const Ot=(0,ae.w6)(),it=Yt(H=>{let Ce;const Ie={type:Se,args:Qe,resolve:H,setCloseFn:ue=>{Ce=ue}};return Cn.push(Ie),()=>{Ce?pn(()=>{Ce()}):Ie.skipped=!0}});return Wn(),it}const Dr=Se=>{Cn.push({type:"destroy",key:Se}),Wn()},yi=["success","info","warning","error","loading"],_i={open:er,destroy:Dr,config:Yr,useMessage:yr,_InternalPanelDoNotUseOrYouWillBeFired:Rt};yi.forEach(Se=>{_i[Se]=function(){for(var Qe=arguments.length,Ot=new Array(Qe),it=0;it<Qe;it++)Ot[it]=arguments[it];return Pr(Se,Ot)}});const Or=()=>{};let Vn=null,dt=null;var Un=_i},74627:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return wt}});var y=T(67294),M=T(13144),k=T.n(M),me=T(93042),ne=T(15105);const ee=et=>et?typeof et=="function"?et():et:null;var w=T(33603),ae=T(96159),Y=T(53124),X=T(83062),he=T(92419),ve=T(14747),pe=T(50438),$e=T(97414),Tt=T(79511),nt=T(8796),ge=T(2093),Be=T(45503);const ze=et=>{const{componentCls:Le,popoverColor:J,titleMinWidth:de,fontWeightStrong:we,innerPadding:Ge,boxShadowSecondary:ut,colorTextHeading:xt,borderRadiusLG:_e,zIndexPopup:Ae,titleMarginBottom:Ze,colorBgElevated:tn,popoverBg:on,titleBorderBottom:Ct,innerContentPadding:zt,titlePadding:mn}=et;return[{[Le]:Object.assign(Object.assign({},(0,ve.Wf)(et)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:Ae,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":tn,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${Le}-content`]:{position:"relative"},[`${Le}-inner`]:{backgroundColor:on,backgroundClip:"padding-box",borderRadius:_e,boxShadow:ut,padding:Ge},[`${Le}-title`]:{minWidth:de,marginBottom:Ze,color:xt,fontWeight:we,borderBottom:Ct,padding:mn},[`${Le}-inner-content`]:{color:J,padding:zt}})},(0,$e.ZP)(et,"var(--antd-arrow-background-color)"),{[`${Le}-pure`]:{position:"relative",maxWidth:"none",margin:et.sizePopupArrow,display:"inline-block",[`${Le}-content`]:{display:"inline-block"}}}]},tt=et=>{const{componentCls:Le}=et;return{[Le]:nt.i.map(J=>{const de=et[`${J}6`];return{[`&${Le}-${J}`]:{"--antd-arrow-background-color":de,[`${Le}-inner`]:{backgroundColor:de},[`${Le}-arrow`]:{background:"transparent"}}}})}},qe=et=>{const{lineWidth:Le,controlHeight:J,fontHeight:de,padding:we,wireframe:Ge,zIndexPopupBase:ut,borderRadiusLG:xt,marginXS:_e,lineType:Ae,colorSplit:Ze,paddingSM:tn}=et,on=J-de,Ct=on/2,zt=on/2-Le,mn=we;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:ut+30},(0,Tt.w)(et)),(0,$e.wZ)({contentRadius:xt,limitVerticalRadius:!0})),{innerPadding:Ge?0:12,titleMarginBottom:Ge?0:_e,titlePadding:Ge?`${Ct}px ${mn}px ${zt}px`:0,titleBorderBottom:Ge?`${Le}px ${Ae} ${Ze}`:"none",innerContentPadding:Ge?`${tn}px ${mn}px`:0})};var Ye=(0,ge.I$)("Popover",et=>{const{colorBgElevated:Le,colorText:J}=et,de=(0,Be.TS)(et,{popoverBg:Le,popoverColor:J});return[ze(de),tt(de),(0,pe._y)(de,"zoom-big")]},qe,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),je=function(et,Le){var J={};for(var de in et)Object.prototype.hasOwnProperty.call(et,de)&&Le.indexOf(de)<0&&(J[de]=et[de]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var we=0,de=Object.getOwnPropertySymbols(et);we<de.length;we++)Le.indexOf(de[we])<0&&Object.prototype.propertyIsEnumerable.call(et,de[we])&&(J[de[we]]=et[de[we]]);return J};const Ft=(et,Le,J)=>!Le&&!J?null:y.createElement(y.Fragment,null,Le&&y.createElement("div",{className:`${et}-title`},ee(Le)),y.createElement("div",{className:`${et}-inner-content`},ee(J))),Jt=et=>{const{hashId:Le,prefixCls:J,className:de,style:we,placement:Ge="top",title:ut,content:xt,children:_e}=et;return y.createElement("div",{className:k()(Le,J,`${J}-pure`,`${J}-placement-${Ge}`,de),style:we},y.createElement("div",{className:`${J}-arrow`}),y.createElement(he.G,Object.assign({},et,{className:Le,prefixCls:J}),_e||Ft(J,ut,xt)))};var xe=et=>{const{prefixCls:Le,className:J}=et,de=je(et,["prefixCls","className"]),{getPrefixCls:we}=y.useContext(Y.E_),Ge=we("popover",Le),[ut,xt,_e]=Ye(Ge);return ut(y.createElement(Jt,Object.assign({},de,{prefixCls:Ge,hashId:xt,className:k()(J,_e)})))},se=function(et,Le){var J={};for(var de in et)Object.prototype.hasOwnProperty.call(et,de)&&Le.indexOf(de)<0&&(J[de]=et[de]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var we=0,de=Object.getOwnPropertySymbols(et);we<de.length;we++)Le.indexOf(de[we])<0&&Object.prototype.propertyIsEnumerable.call(et,de[we])&&(J[de[we]]=et[de[we]]);return J};const vt=et=>{let{title:Le,content:J,prefixCls:de}=et;return y.createElement(y.Fragment,null,Le&&y.createElement("div",{className:`${de}-title`},ee(Le)),y.createElement("div",{className:`${de}-inner-content`},ee(J)))},It=y.forwardRef((et,Le)=>{var J,de;const{prefixCls:we,title:Ge,content:ut,overlayClassName:xt,placement:_e="top",trigger:Ae="hover",children:Ze,mouseEnterDelay:tn=.1,mouseLeaveDelay:on=.1,onOpenChange:Ct,overlayStyle:zt={}}=et,mn=se(et,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:Ke}=y.useContext(Y.E_),He=Ke("popover",we),[Dt,un,Ln]=Ye(He),xn=Ke(),ct=k()(xt,un,Ln),[ye,Ue]=(0,me.Z)(!1,{value:(J=et.open)!==null&&J!==void 0?J:et.visible,defaultValue:(de=et.defaultOpen)!==null&&de!==void 0?de:et.defaultVisible}),ht=(re,le)=>{Ue(re,!0),Ct==null||Ct(re,le)},Mt=re=>{re.keyCode===ne.Z.ESC&&ht(!1,re)},rt=re=>{ht(re)};return Dt(y.createElement(X.Z,Object.assign({placement:_e,trigger:Ae,mouseEnterDelay:tn,mouseLeaveDelay:on,overlayStyle:zt},mn,{prefixCls:He,overlayClassName:ct,ref:Le,open:ye,onOpenChange:rt,overlay:Ge||ut?y.createElement(vt,{prefixCls:He,title:Ge,content:ut}):null,transitionName:(0,w.m)(xn,"zoom-big",mn.transitionName),"data-popover-inject":!0}),(0,ae.Tm)(Ze,{onKeyDown:re=>{var le,te;y.isValidElement(Ze)&&((te=Ze==null?void 0:(le=Ze.props).onKeyDown)===null||te===void 0||te.call(le,re)),Mt(re)}})))});It._InternalPanelDoNotUseOrYouWillBeFired=xe;var wt=It},6277:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ze}});var y=T(67294),M=T(13144),k=T.n(M),me=T(25976);const ne=["xxl","xl","lg","md","sm","xs"],ee=tt=>({xs:`(max-width: ${tt.screenXSMax}px)`,sm:`(min-width: ${tt.screenSM}px)`,md:`(min-width: ${tt.screenMD}px)`,lg:`(min-width: ${tt.screenLG}px)`,xl:`(min-width: ${tt.screenXL}px)`,xxl:`(min-width: ${tt.screenXXL}px)`}),w=tt=>{const qe=tt,Ye=[].concat(ne).reverse();return Ye.forEach((je,Ft)=>{const Jt=je.toUpperCase(),ft=`screen${Jt}Min`,xe=`screen${Jt}`;if(!(qe[ft]<=qe[xe]))throw new Error(`${ft}<=${xe} fails : !(${qe[ft]}<=${qe[xe]})`);if(Ft<Ye.length-1){const se=`screen${Jt}Max`;if(!(qe[xe]<=qe[se]))throw new Error(`${xe}<=${se} fails : !(${qe[xe]}<=${qe[se]})`);const De=`screen${Ye[Ft+1].toUpperCase()}Min`;if(!(qe[se]<=qe[De]))throw new Error(`${se}<=${De} fails : !(${qe[se]}<=${qe[De]})`)}}),tt};function ae(){const[,tt]=(0,me.ZP)(),qe=ee(w(tt));return y.useMemo(()=>{const Ye=new Map;let je=-1,Ft={};return{matchHandlers:{},dispatch(Jt){return Ft=Jt,Ye.forEach(ft=>ft(Ft)),Ye.size>=1},subscribe(Jt){return Ye.size||this.register(),je+=1,Ye.set(je,Jt),Jt(Ft),je},unsubscribe(Jt){Ye.delete(Jt),Ye.size||this.unregister()},unregister(){Object.keys(qe).forEach(Jt=>{const ft=qe[Jt],xe=this.matchHandlers[ft];xe==null||xe.mql.removeListener(xe==null?void 0:xe.listener)}),Ye.clear()},register(){Object.keys(qe).forEach(Jt=>{const ft=qe[Jt],xe=vt=>{let{matches:De}=vt;this.dispatch(Object.assign(Object.assign({},Ft),{[Jt]:De}))},se=window.matchMedia(ft);se.addListener(xe),this.matchHandlers[ft]={mql:se,listener:xe},xe(se)})},responsiveMap:qe}},[tt])}const Y=(tt,qe)=>{if(qe&&typeof qe=="object")for(let Ye=0;Ye<ne.length;Ye++){const je=ne[Ye];if(tt[je]&&qe[je]!==void 0)return qe[je]}};var X=T(53124),he=T(99134),ve=T(6999),pe=function(tt,qe){var Ye={};for(var je in tt)Object.prototype.hasOwnProperty.call(tt,je)&&qe.indexOf(je)<0&&(Ye[je]=tt[je]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,je=Object.getOwnPropertySymbols(tt);Ft<je.length;Ft++)qe.indexOf(je[Ft])<0&&Object.prototype.propertyIsEnumerable.call(tt,je[Ft])&&(Ye[je[Ft]]=tt[je[Ft]]);return Ye};const $e=null,Tt=null;function nt(tt,qe){const[Ye,je]=y.useState(typeof tt=="string"?tt:""),Ft=()=>{if(typeof tt=="string"&&je(tt),typeof tt=="object")for(let Jt=0;Jt<ne.length;Jt++){const ft=ne[Jt];if(!qe[ft])continue;const xe=tt[ft];if(xe!==void 0){je(xe);return}}};return y.useEffect(()=>{Ft()},[JSON.stringify(tt),qe]),Ye}var Be=y.forwardRef((tt,qe)=>{const{prefixCls:Ye,justify:je,align:Ft,className:Jt,style:ft,children:xe,gutter:se=0,wrap:vt}=tt,De=pe(tt,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:It,direction:wt}=y.useContext(X.E_),[et,Le]=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[J,de]=y.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),we=nt(Ft,J),Ge=nt(je,J),ut=y.useRef(se),xt=ae();y.useEffect(()=>{const Ln=xt.subscribe(xn=>{de(xn);const ct=ut.current||0;(!Array.isArray(ct)&&typeof ct=="object"||Array.isArray(ct)&&(typeof ct[0]=="object"||typeof ct[1]=="object"))&&Le(xn)});return()=>xt.unsubscribe(Ln)},[]);const _e=()=>{const Ln=[void 0,void 0];return(Array.isArray(se)?se:[se,void 0]).forEach((ct,ye)=>{if(typeof ct=="object")for(let Ue=0;Ue<ne.length;Ue++){const ht=ne[Ue];if(et[ht]&&ct[ht]!==void 0){Ln[ye]=ct[ht];break}}else Ln[ye]=ct}),Ln},Ae=It("row",Ye),[Ze,tn,on]=(0,ve.VM)(Ae),Ct=_e(),zt=k()(Ae,{[`${Ae}-no-wrap`]:vt===!1,[`${Ae}-${Ge}`]:Ge,[`${Ae}-${we}`]:we,[`${Ae}-rtl`]:wt==="rtl"},Jt,tn,on),mn={},Ke=Ct[0]!=null&&Ct[0]>0?Ct[0]/-2:void 0;Ke&&(mn.marginLeft=Ke,mn.marginRight=Ke);const[He,Dt]=Ct;mn.rowGap=Dt;const un=y.useMemo(()=>({gutter:[He,Dt],wrap:vt}),[He,Dt,vt]);return Ze(y.createElement(he.Z.Provider,{value:un},y.createElement("div",Object.assign({},De,{className:zt,style:Object.assign(Object.assign({},mn),ft),ref:qe}),xe)))}),ze=Be},40719:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return Ys}});var y=T(67294),M=T(13144),k=T.n(M),me=T(87462),ne=T(74902),ee=T(4942),w=T(1413),ae=T(97685),Y=T(91),X=T(71002),he=T(93042),ve=T(80334),pe=T(94184),$e=T.n(pe),Tt=T(8410),nt=T(31131),ge=T(15105),Be=T(42550),ze=function(I){var Z=I.className,j=I.customizeIcon,Re=I.customizeIconProps,pt=I.children,yt=I.onMouseDown,$t=I.onClick,bn=typeof j=="function"?j(Re):j;return y.createElement("span",{className:Z,onMouseDown:function(gn){gn.preventDefault(),yt==null||yt(gn)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:$t,"aria-hidden":!0},bn!==void 0?bn:y.createElement("span",{className:$e()(Z.split(/\s+/).map(function($n){return"".concat($n,"-icon")}))},pt))},tt=ze,qe=function(I,Z,j,Re,pt){var yt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,$t=arguments.length>6?arguments[6]:void 0,bn=arguments.length>7?arguments[7]:void 0,$n=y.useMemo(function(){if((0,X.Z)(Re)==="object")return Re.clearIcon;if(pt)return pt},[Re,pt]),gn=y.useMemo(function(){return!!(!yt&&Re&&(j.length||$t)&&!(bn==="combobox"&&$t===""))},[Re,yt,j.length,$t,bn]);return{allowClear:gn,clearIcon:y.createElement(tt,{className:"".concat(I,"-clear"),onMouseDown:Z,customizeIcon:$n},"\xD7")}},Ye=y.createContext(null);function je(){return y.useContext(Ye)}function Ft(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,I=y.useState(!1),Z=(0,ae.Z)(I,2),j=Z[0],Re=Z[1],pt=y.useRef(null),yt=function(){window.clearTimeout(pt.current)};y.useEffect(function(){return yt},[]);var $t=function($n,gn){yt(),pt.current=window.setTimeout(function(){Re($n),gn&&gn()},E)};return[j,$t,yt]}function Jt(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,I=y.useRef(null),Z=y.useRef(null);y.useEffect(function(){return function(){window.clearTimeout(Z.current)}},[]);function j(Re){(Re||I.current===null)&&(I.current=Re),window.clearTimeout(Z.current),Z.current=window.setTimeout(function(){I.current=null},E)}return[function(){return I.current},j]}function ft(E,I,Z,j){var Re=y.useRef(null);Re.current={open:I,triggerOpen:Z,customizedTrigger:j},y.useEffect(function(){function pt(yt){var $t;if(!(($t=Re.current)!==null&&$t!==void 0&&$t.customizedTrigger)){var bn=yt.target;bn.shadowRoot&&yt.composed&&(bn=yt.composedPath()[0]||bn),Re.current.open&&E().filter(function($n){return $n}).every(function($n){return!$n.contains(bn)&&$n!==bn})&&Re.current.triggerOpen(!1)}}return window.addEventListener("mousedown",pt),function(){return window.removeEventListener("mousedown",pt)}},[])}function xe(E){return![ge.Z.ESC,ge.Z.SHIFT,ge.Z.BACKSPACE,ge.Z.TAB,ge.Z.WIN_KEY,ge.Z.ALT,ge.Z.META,ge.Z.WIN_KEY_RIGHT,ge.Z.CTRL,ge.Z.SEMICOLON,ge.Z.EQUALS,ge.Z.CAPS_LOCK,ge.Z.CONTEXT_MENU,ge.Z.F1,ge.Z.F2,ge.Z.F3,ge.Z.F4,ge.Z.F5,ge.Z.F6,ge.Z.F7,ge.Z.F8,ge.Z.F9,ge.Z.F10,ge.Z.F11,ge.Z.F12].includes(E)}var se=T(64217),vt=T(39983),De=function(I,Z){var j,Re=I.prefixCls,pt=I.id,yt=I.inputElement,$t=I.disabled,bn=I.tabIndex,$n=I.autoFocus,gn=I.autoComplete,Kt=I.editable,Jn=I.activeDescendantId,Bt=I.value,Xn=I.maxLength,tr=I.onKeyDown,zn=I.onMouseDown,hr=I.onChange,Lr=I.onPaste,Ur=I.onCompositionStart,dr=I.onCompositionEnd,ii=I.open,cr=I.attrs,$r=yt||y.createElement("input",null),bi=$r,Ni=bi.ref,Zn=bi.props,vi=Zn.onKeyDown,pi=Zn.onChange,xi=Zn.onMouseDown,hi=Zn.onCompositionStart,Ci=Zn.onCompositionEnd,Mi=Zn.style;return(0,ve.Kp)(!("maxLength"in $r.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),$r=y.cloneElement($r,(0,w.Z)((0,w.Z)((0,w.Z)({type:"search"},Zn),{},{id:pt,ref:(0,Be.sQ)(Z,Ni),disabled:$t,tabIndex:bn,autoComplete:gn||"off",autoFocus:$n,className:$e()("".concat(Re,"-selection-search-input"),(j=$r)===null||j===void 0||(j=j.props)===null||j===void 0?void 0:j.className),role:"combobox","aria-expanded":ii||!1,"aria-haspopup":"listbox","aria-owns":"".concat(pt,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(pt,"_list"),"aria-activedescendant":ii?Jn:void 0},cr),{},{value:Kt?Bt:"",maxLength:Xn,readOnly:!Kt,unselectable:Kt?null:"on",style:(0,w.Z)((0,w.Z)({},Mi),{},{opacity:Kt?null:0}),onKeyDown:function(or){tr(or),vi&&vi(or)},onMouseDown:function(or){zn(or),xi&&xi(or)},onChange:function(or){hr(or),pi&&pi(or)},onCompositionStart:function(or){Ur(or),hi&&hi(or)},onCompositionEnd:function(or){dr(or),Ci&&Ci(or)},onPaste:Lr})),$r},It=y.forwardRef(De),wt=It;function et(E){return Array.isArray(E)?E:E!==void 0?[E]:[]}var Le=typeof window!="undefined"&&window.document&&window.document.documentElement,J=Le;function de(E){return E!=null}function we(E){return!E&&E!==0}function Ge(E){return["string","number"].includes((0,X.Z)(E))}function ut(E){var I=void 0;return E&&(Ge(E.title)?I=E.title.toString():Ge(E.label)&&(I=E.label.toString())),I}function xt(E,I){J?y.useLayoutEffect(E,I):y.useEffect(E,I)}function _e(E){var I;return(I=E.key)!==null&&I!==void 0?I:E.value}var Ae=function(I){I.preventDefault(),I.stopPropagation()},Ze=function(I){var Z=I.id,j=I.prefixCls,Re=I.values,pt=I.open,yt=I.searchValue,$t=I.autoClearSearchValue,bn=I.inputRef,$n=I.placeholder,gn=I.disabled,Kt=I.mode,Jn=I.showSearch,Bt=I.autoFocus,Xn=I.autoComplete,tr=I.activeDescendantId,zn=I.tabIndex,hr=I.removeIcon,Lr=I.maxTagCount,Ur=I.maxTagTextLength,dr=I.maxTagPlaceholder,ii=dr===void 0?function(Wr){return"+ ".concat(Wr.length," ...")}:dr,cr=I.tagRender,$r=I.onToggleOpen,bi=I.onRemove,Ni=I.onInputChange,Zn=I.onInputPaste,vi=I.onInputKeyDown,pi=I.onInputMouseDown,xi=I.onInputCompositionStart,hi=I.onInputCompositionEnd,Ci=y.useRef(null),Mi=(0,y.useState)(0),Jr=(0,ae.Z)(Mi,2),or=Jr[0],si=Jr[1],li=(0,y.useState)(!1),ia=(0,ae.Z)(li,2),Va=ia[0],Zi=ia[1],Ar="".concat(j,"-selection"),Vi=pt||Kt==="multiple"&&$t===!1||Kt==="tags"?yt:"",yo=Kt==="tags"||Kt==="multiple"&&$t===!1||Jn&&(pt||Va);xt(function(){si(Ci.current.scrollWidth)},[Vi]);var Ai=function(kn,zr,Sr,Gi,lr){return y.createElement("span",{title:ut(kn),className:$e()("".concat(Ar,"-item"),(0,ee.Z)({},"".concat(Ar,"-item-disabled"),Sr))},y.createElement("span",{className:"".concat(Ar,"-item-content")},zr),Gi&&y.createElement(tt,{className:"".concat(Ar,"-item-remove"),onMouseDown:Ae,onClick:lr,customizeIcon:hr},"\xD7"))},Ba=function(kn,zr,Sr,Gi,lr,Zr){var Pa=function(qr){Ae(qr),$r(!pt)};return y.createElement("span",{onMouseDown:Pa},cr({label:zr,value:kn,disabled:Sr,closable:Gi,onClose:lr,isMaxTag:!!Zr}))},Bi=function(kn){var zr=kn.disabled,Sr=kn.label,Gi=kn.value,lr=!gn&&!zr,Zr=Sr;if(typeof Ur=="number"&&(typeof Sr=="string"||typeof Sr=="number")){var Pa=String(Zr);Pa.length>Ur&&(Zr="".concat(Pa.slice(0,Ur),"..."))}var ba=function(xa){xa&&xa.stopPropagation(),bi(kn)};return typeof cr=="function"?Ba(Gi,Zr,zr,lr,ba):Ai(kn,Zr,zr,lr,ba)},Cr=function(kn){var zr=typeof ii=="function"?ii(kn):ii;return typeof cr=="function"?Ba(void 0,zr,!1,!1,void 0,!0):Ai({title:zr},zr,!1)},Gn=y.createElement("div",{className:"".concat(Ar,"-search"),style:{width:or},onFocus:function(){Zi(!0)},onBlur:function(){Zi(!1)}},y.createElement(wt,{ref:bn,open:pt,prefixCls:j,id:Z,inputElement:null,disabled:gn,autoFocus:Bt,autoComplete:Xn,editable:yo,activeDescendantId:tr,value:Vi,onKeyDown:vi,onMouseDown:pi,onChange:Ni,onPaste:Zn,onCompositionStart:xi,onCompositionEnd:hi,tabIndex:zn,attrs:(0,se.Z)(I,!0)}),y.createElement("span",{ref:Ci,className:"".concat(Ar,"-search-mirror"),"aria-hidden":!0},Vi,"\xA0")),Vr=y.createElement(vt.Z,{prefixCls:"".concat(Ar,"-overflow"),data:Re,renderItem:Bi,renderRest:Cr,suffix:Gn,itemKey:_e,maxCount:Lr});return y.createElement(y.Fragment,null,Vr,!Re.length&&!Vi&&y.createElement("span",{className:"".concat(Ar,"-placeholder")},$n))},tn=Ze,on=function(I){var Z=I.inputElement,j=I.prefixCls,Re=I.id,pt=I.inputRef,yt=I.disabled,$t=I.autoFocus,bn=I.autoComplete,$n=I.activeDescendantId,gn=I.mode,Kt=I.open,Jn=I.values,Bt=I.placeholder,Xn=I.tabIndex,tr=I.showSearch,zn=I.searchValue,hr=I.activeValue,Lr=I.maxLength,Ur=I.onInputKeyDown,dr=I.onInputMouseDown,ii=I.onInputChange,cr=I.onInputPaste,$r=I.onInputCompositionStart,bi=I.onInputCompositionEnd,Ni=I.title,Zn=y.useState(!1),vi=(0,ae.Z)(Zn,2),pi=vi[0],xi=vi[1],hi=gn==="combobox",Ci=hi||tr,Mi=Jn[0],Jr=zn||"";hi&&hr&&!pi&&(Jr=hr),y.useEffect(function(){hi&&xi(!1)},[hi,hr]);var or=gn!=="combobox"&&!Kt&&!tr?!1:!!Jr,si=Ni===void 0?ut(Mi):Ni,li=y.useMemo(function(){return Mi?null:y.createElement("span",{className:"".concat(j,"-selection-placeholder"),style:or?{visibility:"hidden"}:void 0},Bt)},[Mi,or,Bt,j]);return y.createElement(y.Fragment,null,y.createElement("span",{className:"".concat(j,"-selection-search")},y.createElement(wt,{ref:pt,prefixCls:j,id:Re,open:Kt,inputElement:Z,disabled:yt,autoFocus:$t,autoComplete:bn,editable:Ci,activeDescendantId:$n,value:Jr,onKeyDown:Ur,onMouseDown:dr,onChange:function(Va){xi(!0),ii(Va)},onPaste:cr,onCompositionStart:$r,onCompositionEnd:bi,tabIndex:Xn,attrs:(0,se.Z)(I,!0),maxLength:hi?Lr:void 0})),!hi&&Mi?y.createElement("span",{className:"".concat(j,"-selection-item"),title:si,style:or?{visibility:"hidden"}:void 0},Mi.label):null,li)},Ct=on,zt=function(I,Z){var j=(0,y.useRef)(null),Re=(0,y.useRef)(!1),pt=I.prefixCls,yt=I.open,$t=I.mode,bn=I.showSearch,$n=I.tokenWithEnter,gn=I.disabled,Kt=I.autoClearSearchValue,Jn=I.onSearch,Bt=I.onSearchSubmit,Xn=I.onToggleOpen,tr=I.onInputKeyDown,zn=I.domRef;y.useImperativeHandle(Z,function(){return{focus:function(or){j.current.focus(or)},blur:function(){j.current.blur()}}});var hr=Jt(0),Lr=(0,ae.Z)(hr,2),Ur=Lr[0],dr=Lr[1],ii=function(or){var si=or.which;(si===ge.Z.UP||si===ge.Z.DOWN)&&or.preventDefault(),tr&&tr(or),si===ge.Z.ENTER&&$t==="tags"&&!Re.current&&!yt&&(Bt==null||Bt(or.target.value)),xe(si)&&Xn(!0)},cr=function(){dr(!0)},$r=(0,y.useRef)(null),bi=function(or){Jn(or,!0,Re.current)!==!1&&Xn(!0)},Ni=function(){Re.current=!0},Zn=function(or){Re.current=!1,$t!=="combobox"&&bi(or.target.value)},vi=function(or){var si=or.target.value;if($n&&$r.current&&/[\r\n]/.test($r.current)){var li=$r.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");si=si.replace(li,$r.current)}$r.current=null,bi(si)},pi=function(or){var si=or.clipboardData,li=si==null?void 0:si.getData("text");$r.current=li||""},xi=function(or){var si=or.target;if(si!==j.current){var li=document.body.style.msTouchAction!==void 0;li?setTimeout(function(){j.current.focus()}):j.current.focus()}},hi=function(or){var si=Ur();or.target!==j.current&&!si&&!($t==="combobox"&&gn)&&or.preventDefault(),($t!=="combobox"&&(!bn||!si)||!yt)&&(yt&&Kt!==!1&&Jn("",!0,!1),Xn())},Ci={inputRef:j,onInputKeyDown:ii,onInputMouseDown:cr,onInputChange:vi,onInputPaste:pi,onInputCompositionStart:Ni,onInputCompositionEnd:Zn},Mi=$t==="multiple"||$t==="tags"?y.createElement(tn,(0,me.Z)({},I,Ci)):y.createElement(Ct,(0,me.Z)({},I,Ci));return y.createElement("div",{ref:zn,className:"".concat(pt,"-selector"),onClick:xi,onMouseDown:hi},Mi)},mn=y.forwardRef(zt),Ke=mn,He=T(6997),Dt=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],un=function(I){var Z=I===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Z,adjustY:1},htmlRegion:"scroll"}}},Ln=function(I,Z){var j=I.prefixCls,Re=I.disabled,pt=I.visible,yt=I.children,$t=I.popupElement,bn=I.animation,$n=I.transitionName,gn=I.dropdownStyle,Kt=I.dropdownClassName,Jn=I.direction,Bt=Jn===void 0?"ltr":Jn,Xn=I.placement,tr=I.builtinPlacements,zn=I.dropdownMatchSelectWidth,hr=I.dropdownRender,Lr=I.dropdownAlign,Ur=I.getPopupContainer,dr=I.empty,ii=I.getTriggerDOMNode,cr=I.onPopupVisibleChange,$r=I.onPopupMouseEnter,bi=(0,Y.Z)(I,Dt),Ni="".concat(j,"-dropdown"),Zn=$t;hr&&(Zn=hr($t));var vi=y.useMemo(function(){return tr||un(zn)},[tr,zn]),pi=bn?"".concat(Ni,"-").concat(bn):$n,xi=typeof zn=="number",hi=y.useMemo(function(){return xi?null:zn===!1?"minWidth":"width"},[zn,xi]),Ci=gn;xi&&(Ci=(0,w.Z)((0,w.Z)({},Ci),{},{width:zn}));var Mi=y.useRef(null);return y.useImperativeHandle(Z,function(){return{getPopupElement:function(){var or;return(or=Mi.current)===null||or===void 0?void 0:or.popupElement}}}),y.createElement(He.Z,(0,me.Z)({},bi,{showAction:cr?["click"]:[],hideAction:cr?["click"]:[],popupPlacement:Xn||(Bt==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:vi,prefixCls:Ni,popupTransitionName:pi,popup:y.createElement("div",{onMouseEnter:$r},Zn),ref:Mi,stretch:hi,popupAlign:Lr,popupVisible:pt,getPopupContainer:Ur,popupClassName:$e()(Kt,(0,ee.Z)({},"".concat(Ni,"-empty"),dr)),popupStyle:Ci,getTriggerDOMNode:ii,onPopupVisibleChange:cr}),yt)},xn=y.forwardRef(Ln),ct=xn,ye=T(84506);function Ue(E,I){var Z=E.key,j;return"value"in E&&(j=E.value),Z!=null?Z:j!==void 0?j:"rc-index-key-".concat(I)}function ht(E){return typeof E!="undefined"&&!Number.isNaN(E)}function Mt(E,I){var Z=E||{},j=Z.label,Re=Z.value,pt=Z.options,yt=Z.groupLabel,$t=j||(I?"children":"label");return{label:$t,value:Re||"value",options:pt||"options",groupLabel:yt||$t}}function rt(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=I.fieldNames,j=I.childrenAsData,Re=[],pt=Mt(Z,!1),yt=pt.label,$t=pt.value,bn=pt.options,$n=pt.groupLabel;function gn(Kt,Jn){Array.isArray(Kt)&&Kt.forEach(function(Bt){if(Jn||!(bn in Bt)){var Xn=Bt[$t];Re.push({key:Ue(Bt,Re.length),groupOption:Jn,data:Bt,label:Bt[yt],value:Xn})}else{var tr=Bt[$n];tr===void 0&&j&&(tr=Bt.label),Re.push({key:Ue(Bt,Re.length),group:!0,data:Bt,label:tr}),gn(Bt[bn],!0)}})}return gn(E,!1),Re}function re(E){var I=(0,w.Z)({},E);return"props"in I||Object.defineProperty(I,"props",{get:function(){return(0,ve.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),I}}),I}var le=function(I,Z,j){if(!Z||!Z.length)return null;var Re=!1,pt=function $t(bn,$n){var gn=(0,ye.Z)($n),Kt=gn[0],Jn=gn.slice(1);if(!Kt)return[bn];var Bt=bn.split(Kt);return Re=Re||Bt.length>1,Bt.reduce(function(Xn,tr){return[].concat((0,ne.Z)(Xn),(0,ne.Z)($t(tr,Jn)))},[]).filter(Boolean)},yt=pt(I,Z);return Re?typeof j!="undefined"?yt.slice(0,j):yt:null},te=y.createContext(null),Pe=te;function Ne(E){var I=E.visible,Z=E.values;if(!I)return null;var j=50;return y.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(Z.slice(0,j).map(function(Re){var pt=Re.label,yt=Re.value;return["number","string"].includes((0,X.Z)(pt))?pt:yt}).join(", ")),Z.length>j?", ...":null)}var At=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],jt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Rt=function(I){return I==="tags"||I==="multiple"},Nt=y.forwardRef(function(E,I){var Z,j=E.id,Re=E.prefixCls,pt=E.className,yt=E.showSearch,$t=E.tagRender,bn=E.direction,$n=E.omitDomProps,gn=E.displayValues,Kt=E.onDisplayValuesChange,Jn=E.emptyOptions,Bt=E.notFoundContent,Xn=Bt===void 0?"Not Found":Bt,tr=E.onClear,zn=E.mode,hr=E.disabled,Lr=E.loading,Ur=E.getInputElement,dr=E.getRawInputElement,ii=E.open,cr=E.defaultOpen,$r=E.onDropdownVisibleChange,bi=E.activeValue,Ni=E.onActiveValueChange,Zn=E.activeDescendantId,vi=E.searchValue,pi=E.autoClearSearchValue,xi=E.onSearch,hi=E.onSearchSplit,Ci=E.tokenSeparators,Mi=E.allowClear,Jr=E.suffixIcon,or=E.clearIcon,si=E.OptionList,li=E.animation,ia=E.transitionName,Va=E.dropdownStyle,Zi=E.dropdownClassName,Ar=E.dropdownMatchSelectWidth,Vi=E.dropdownRender,yo=E.dropdownAlign,Ai=E.placement,Ba=E.builtinPlacements,Bi=E.getPopupContainer,Cr=E.showAction,Gn=Cr===void 0?[]:Cr,Vr=E.onFocus,Wr=E.onBlur,kn=E.onKeyUp,zr=E.onKeyDown,Sr=E.onMouseDown,Gi=(0,Y.Z)(E,At),lr=Rt(zn),Zr=(yt!==void 0?yt:lr)||zn==="combobox",Pa=(0,w.Z)({},Gi);jt.forEach(function(Fr){delete Pa[Fr]}),$n==null||$n.forEach(function(Fr){delete Pa[Fr]});var ba=y.useState(!1),qr=(0,ae.Z)(ba,2),xa=qr[0],aa=qr[1];y.useEffect(function(){aa((0,nt.Z)())},[]);var so=y.useRef(null),ai=y.useRef(null),gi=y.useRef(null),Ca=y.useRef(null),Ra=y.useRef(null),Za=y.useRef(!1),oi=Ft(),Fi=(0,ae.Z)(oi,3),Ea=Fi[0],ua=Fi[1],jo=Fi[2];y.useImperativeHandle(I,function(){var Fr,jr;return{focus:(Fr=Ca.current)===null||Fr===void 0?void 0:Fr.focus,blur:(jr=Ca.current)===null||jr===void 0?void 0:jr.blur,scrollTo:function($a){var Ii;return(Ii=Ra.current)===null||Ii===void 0?void 0:Ii.scrollTo($a)},nativeElement:so.current||ai.current}});var qi=y.useMemo(function(){var Fr;if(zn!=="combobox")return vi;var jr=(Fr=gn[0])===null||Fr===void 0?void 0:Fr.value;return typeof jr=="string"||typeof jr=="number"?String(jr):""},[vi,zn,gn]),lo=zn==="combobox"&&typeof Ur=="function"&&Ur()||null,Ta=typeof dr=="function"&&dr(),xl=(0,Be.x1)(ai,Ta==null||(Z=Ta.props)===null||Z===void 0?void 0:Z.ref),ls=y.useState(!1),Ss=(0,ae.Z)(ls,2),Ho=Ss[0],Ko=Ss[1];(0,Tt.Z)(function(){Ko(!0)},[]);var us=(0,he.Z)(!1,{defaultValue:cr,value:ii}),Qo=(0,ae.Z)(us,2),ws=Qo[0],Io=Qo[1],ca=Ho?ws:!1,Ks=!Xn&&Jn;(hr||Ks&&ca&&zn==="combobox")&&(ca=!1);var bo=Ks?!1:ca,nr=y.useCallback(function(Fr){var jr=Fr!==void 0?Fr:!ca;hr||(Io(jr),ca!==jr&&($r==null||$r(jr)))},[hr,ca,Io,$r]),Ir=y.useMemo(function(){return(Ci||[]).some(function(Fr){return[`
`,`\r
`].includes(Fr)})},[Ci]),mr=y.useContext(Pe)||{},Er=mr.maxCount,Ei=mr.rawValues,zi=function(jr,za,$a){if(!(lr&&ht(Er)&&(Ei==null?void 0:Ei.size)>=Er)){var Ii=!0,oa=jr;Ni==null||Ni(null);var Qr=le(jr,Ci,ht(Er)?Er-Ei.size:void 0),ea=$a?null:Qr;return zn!=="combobox"&&ea&&(oa="",hi==null||hi(ea),nr(!1),Ii=!1),xi&&qi!==oa&&xi(oa,{source:za?"typing":"effect"}),Ii}},uo=function(jr){!jr||!jr.trim()||xi(jr,{source:"submit"})};y.useEffect(function(){!ca&&!lr&&zn!=="combobox"&&zi("",!1,!1)},[ca]),y.useEffect(function(){ws&&hr&&Io(!1),hr&&!Za.current&&ua(!1)},[hr]);var co=Jt(),to=(0,ae.Z)(co,2),va=to[0],Po=to[1],Os=function(jr){var za=va(),$a=jr.which;if($a===ge.Z.ENTER&&(zn!=="combobox"&&jr.preventDefault(),ca||nr(!0)),Po(!!qi),$a===ge.Z.BACKSPACE&&!za&&lr&&!qi&&gn.length){for(var Ii=(0,ne.Z)(gn),oa=null,Qr=Ii.length-1;Qr>=0;Qr-=1){var ea=Ii[Qr];if(!ea.disabled){Ii.splice(Qr,1),oa=ea;break}}oa&&Kt(Ii,{type:"remove",values:[oa]})}for(var _o=arguments.length,Lo=new Array(_o>1?_o-1:0),fo=1;fo<_o;fo++)Lo[fo-1]=arguments[fo];if(ca){var Fo;(Fo=Ra.current)===null||Fo===void 0||Fo.onKeyDown.apply(Fo,[jr].concat(Lo))}zr==null||zr.apply(void 0,[jr].concat(Lo))},Jo=function(jr){for(var za=arguments.length,$a=new Array(za>1?za-1:0),Ii=1;Ii<za;Ii++)$a[Ii-1]=arguments[Ii];if(ca){var oa;(oa=Ra.current)===null||oa===void 0||oa.onKeyUp.apply(oa,[jr].concat($a))}kn==null||kn.apply(void 0,[jr].concat($a))},Yl=function(jr){var za=gn.filter(function($a){return $a!==jr});Kt(za,{type:"remove",values:[jr]})},Ro=y.useRef(!1),xo=function(){ua(!0),hr||(Vr&&!Ro.current&&Vr.apply(void 0,arguments),Gn.includes("focus")&&nr(!0)),Ro.current=!0},Cl=function(){Za.current=!0,ua(!1,function(){Ro.current=!1,Za.current=!1,nr(!1)}),!hr&&(qi&&(zn==="tags"?xi(qi,{source:"submit"}):zn==="multiple"&&xi("",{source:"blur"})),Wr&&Wr.apply(void 0,arguments))},qo=[];y.useEffect(function(){return function(){qo.forEach(function(Fr){return clearTimeout(Fr)}),qo.splice(0,qo.length)}},[]);var Kl=function(jr){var za,$a=jr.target,Ii=(za=gi.current)===null||za===void 0?void 0:za.getPopupElement();if(Ii&&Ii.contains($a)){var oa=setTimeout(function(){var Lo=qo.indexOf(oa);if(Lo!==-1&&qo.splice(Lo,1),jo(),!xa&&!Ii.contains(document.activeElement)){var fo;(fo=Ca.current)===null||fo===void 0||fo.focus()}});qo.push(oa)}for(var Qr=arguments.length,ea=new Array(Qr>1?Qr-1:0),_o=1;_o<Qr;_o++)ea[_o-1]=arguments[_o];Sr==null||Sr.apply(void 0,[jr].concat(ea))},El=y.useState({}),cs=(0,ae.Z)(El,2),Qs=cs[1];function Ms(){Qs({})}var es;Ta&&(es=function(jr){nr(jr)}),ft(function(){var Fr;return[so.current,(Fr=gi.current)===null||Fr===void 0?void 0:Fr.getPopupElement()]},bo,nr,!!Ta);var fs=y.useMemo(function(){return(0,w.Z)((0,w.Z)({},E),{},{notFoundContent:Xn,open:ca,triggerOpen:bo,id:j,showSearch:Zr,multiple:lr,toggleOpen:nr})},[E,Xn,bo,ca,j,Zr,lr,nr]),As=!!Jr||Lr,Js;As&&(Js=y.createElement(tt,{className:$e()("".concat(Re,"-arrow"),(0,ee.Z)({},"".concat(Re,"-arrow-loading"),Lr)),customizeIcon:Jr,customizeIconProps:{loading:Lr,searchValue:qi,open:ca,focused:Ea,showSearch:Zr}}));var Ql=function(){var jr;tr==null||tr(),(jr=Ca.current)===null||jr===void 0||jr.focus(),Kt([],{type:"clear",values:gn}),zi("",!1,!1)},Tl=qe(Re,Ql,gn,Mi,or,hr,qi,zn),ts=Tl.allowClear,Is=Tl.clearIcon,Ps=y.createElement(si,{ref:Ra}),Sl=$e()(Re,pt,(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)({},"".concat(Re,"-focused"),Ea),"".concat(Re,"-multiple"),lr),"".concat(Re,"-single"),!lr),"".concat(Re,"-allow-clear"),Mi),"".concat(Re,"-show-arrow"),As),"".concat(Re,"-disabled"),hr),"".concat(Re,"-loading"),Lr),"".concat(Re,"-open"),ca),"".concat(Re,"-customize-input"),lo),"".concat(Re,"-show-search"),Zr)),qs=y.createElement(ct,{ref:gi,disabled:hr,prefixCls:Re,visible:bo,popupElement:Ps,animation:li,transitionName:ia,dropdownStyle:Va,dropdownClassName:Zi,direction:bn,dropdownMatchSelectWidth:Ar,dropdownRender:Vi,dropdownAlign:yo,placement:Ai,builtinPlacements:Ba,getPopupContainer:Bi,empty:Jn,getTriggerDOMNode:function(jr){return ai.current||jr},onPopupVisibleChange:es,onPopupMouseEnter:Ms},Ta?y.cloneElement(Ta,{ref:xl}):y.createElement(Ke,(0,me.Z)({},E,{domRef:ai,prefixCls:Re,inputElement:lo,ref:Ca,id:j,showSearch:Zr,autoClearSearchValue:pi,mode:zn,activeDescendantId:Zn,tagRender:$t,values:gn,open:ca,onToggleOpen:nr,activeValue:bi,searchValue:qi,onSearch:zi,onSearchSubmit:uo,onRemove:Yl,tokenWithEnter:Ir}))),el;return Ta?el=qs:el=y.createElement("div",(0,me.Z)({className:Sl},Pa,{ref:so,onMouseDown:Kl,onKeyDown:Os,onKeyUp:Jo,onFocus:xo,onBlur:Cl}),y.createElement(Ne,{visible:Ea&&!ca,values:gn}),qs,Js,ts&&Is),y.createElement(Ye.Provider,{value:fs},el)}),vn=Nt,On=function(){return null};On.isSelectOptGroup=!0;var Yt=On,Ee=function(){return null};Ee.isSelectOption=!0;var Vt=Ee,Wt=T(56982),Sn=T(98423),kt=T(87718);function nn(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var ir=["disabled","title","children","style","className"];function jn(E){return typeof E=="string"||typeof E=="number"}var yr=function(I,Z){var j=je(),Re=j.prefixCls,pt=j.id,yt=j.open,$t=j.multiple,bn=j.mode,$n=j.searchValue,gn=j.toggleOpen,Kt=j.notFoundContent,Jn=j.onPopupScroll,Bt=y.useContext(Pe),Xn=Bt.maxCount,tr=Bt.flattenOptions,zn=Bt.onActiveValue,hr=Bt.defaultActiveFirstOption,Lr=Bt.onSelect,Ur=Bt.menuItemSelectedIcon,dr=Bt.rawValues,ii=Bt.fieldNames,cr=Bt.virtual,$r=Bt.direction,bi=Bt.listHeight,Ni=Bt.listItemHeight,Zn=Bt.optionRender,vi="".concat(Re,"-item"),pi=(0,Wt.Z)(function(){return tr},[yt,tr],function(Cr,Gn){return Gn[0]&&Cr[1]!==Gn[1]}),xi=y.useRef(null),hi=y.useMemo(function(){return $t&&ht(Xn)&&(dr==null?void 0:dr.size)>=Xn},[$t,Xn,dr==null?void 0:dr.size]),Ci=function(Gn){Gn.preventDefault()},Mi=function(Gn){var Vr;(Vr=xi.current)===null||Vr===void 0||Vr.scrollTo(typeof Gn=="number"?{index:Gn}:Gn)},Jr=function(Gn){for(var Vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Wr=pi.length,kn=0;kn<Wr;kn+=1){var zr=(Gn+kn*Vr+Wr)%Wr,Sr=pi[zr]||{},Gi=Sr.group,lr=Sr.data;if(!Gi&&!(lr!=null&&lr.disabled)&&!hi)return zr}return-1},or=y.useState(function(){return Jr(0)}),si=(0,ae.Z)(or,2),li=si[0],ia=si[1],Va=function(Gn){var Vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ia(Gn);var Wr={source:Vr?"keyboard":"mouse"},kn=pi[Gn];if(!kn){zn(null,-1,Wr);return}zn(kn.value,Gn,Wr)};(0,y.useEffect)(function(){Va(hr!==!1?Jr(0):-1)},[pi.length,$n]);var Zi=y.useCallback(function(Cr){return dr.has(Cr)&&bn!=="combobox"},[bn,(0,ne.Z)(dr).toString(),dr.size]);(0,y.useEffect)(function(){var Cr=setTimeout(function(){if(!$t&&yt&&dr.size===1){var Vr=Array.from(dr)[0],Wr=pi.findIndex(function(kn){var zr=kn.data;return zr.value===Vr});Wr!==-1&&(Va(Wr),Mi(Wr))}});if(yt){var Gn;(Gn=xi.current)===null||Gn===void 0||Gn.scrollTo(void 0)}return function(){return clearTimeout(Cr)}},[yt,$n]);var Ar=function(Gn){Gn!==void 0&&Lr(Gn,{selected:!dr.has(Gn)}),$t||gn(!1)};if(y.useImperativeHandle(Z,function(){return{onKeyDown:function(Gn){var Vr=Gn.which,Wr=Gn.ctrlKey;switch(Vr){case ge.Z.N:case ge.Z.P:case ge.Z.UP:case ge.Z.DOWN:{var kn=0;if(Vr===ge.Z.UP?kn=-1:Vr===ge.Z.DOWN?kn=1:nn()&&Wr&&(Vr===ge.Z.N?kn=1:Vr===ge.Z.P&&(kn=-1)),kn!==0){var zr=Jr(li+kn,kn);Mi(zr),Va(zr,!0)}break}case ge.Z.ENTER:{var Sr,Gi=pi[li];Gi&&!(Gi!=null&&(Sr=Gi.data)!==null&&Sr!==void 0&&Sr.disabled)&&!hi?Ar(Gi.value):Ar(void 0),yt&&Gn.preventDefault();break}case ge.Z.ESC:gn(!1),yt&&Gn.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Gn){Mi(Gn)}}}),pi.length===0)return y.createElement("div",{role:"listbox",id:"".concat(pt,"_list"),className:"".concat(vi,"-empty"),onMouseDown:Ci},Kt);var Vi=Object.keys(ii).map(function(Cr){return ii[Cr]}),yo=function(Gn){return Gn.label};function Ai(Cr,Gn){var Vr=Cr.group;return{role:Vr?"presentation":"option",id:"".concat(pt,"_list_").concat(Gn)}}var Ba=function(Gn){var Vr=pi[Gn];if(!Vr)return null;var Wr=Vr.data||{},kn=Wr.value,zr=Vr.group,Sr=(0,se.Z)(Wr,!0),Gi=yo(Vr);return Vr?y.createElement("div",(0,me.Z)({"aria-label":typeof Gi=="string"&&!zr?Gi:null},Sr,{key:Gn},Ai(Vr,Gn),{"aria-selected":Zi(kn)}),kn):null},Bi={role:"listbox",id:"".concat(pt,"_list")};return y.createElement(y.Fragment,null,cr&&y.createElement("div",(0,me.Z)({},Bi,{style:{height:0,width:0,overflow:"hidden"}}),Ba(li-1),Ba(li),Ba(li+1)),y.createElement(kt.Z,{itemKey:"key",ref:xi,data:pi,height:bi,itemHeight:Ni,fullHeight:!1,onMouseDown:Ci,onScroll:Jn,virtual:cr,direction:$r,innerProps:cr?null:Bi},function(Cr,Gn){var Vr=Cr.group,Wr=Cr.groupOption,kn=Cr.data,zr=Cr.label,Sr=Cr.value,Gi=kn.key;if(Vr){var lr,Zr=(lr=kn.title)!==null&&lr!==void 0?lr:jn(zr)?zr.toString():void 0;return y.createElement("div",{className:$e()(vi,"".concat(vi,"-group"),kn.className),title:Zr},zr!==void 0?zr:Gi)}var Pa=kn.disabled,ba=kn.title,qr=kn.children,xa=kn.style,aa=kn.className,so=(0,Y.Z)(kn,ir),ai=(0,Sn.Z)(so,Vi),gi=Zi(Sr),Ca=Pa||!gi&&hi,Ra="".concat(vi,"-option"),Za=$e()(vi,Ra,aa,(0,ee.Z)((0,ee.Z)((0,ee.Z)((0,ee.Z)({},"".concat(Ra,"-grouped"),Wr),"".concat(Ra,"-active"),li===Gn&&!Ca),"".concat(Ra,"-disabled"),Ca),"".concat(Ra,"-selected"),gi)),oi=yo(Cr),Fi=!Ur||typeof Ur=="function"||gi,Ea=typeof oi=="number"?oi:oi||Sr,ua=jn(Ea)?Ea.toString():void 0;return ba!==void 0&&(ua=ba),y.createElement("div",(0,me.Z)({},(0,se.Z)(ai),cr?{}:Ai(Cr,Gn),{"aria-selected":gi,className:Za,title:ua,onMouseMove:function(){li===Gn||Ca||Va(Gn)},onClick:function(){Ca||Ar(Sr)},style:xa}),y.createElement("div",{className:"".concat(Ra,"-content")},typeof Zn=="function"?Zn(Cr,{index:Gn}):Ea),y.isValidElement(Ur)||gi,Fi&&y.createElement(tt,{className:"".concat(vi,"-option-state"),customizeIcon:Ur,customizeIconProps:{value:Sr,disabled:Ca,isSelected:gi}},gi?"\u2713":null))}))},Ve=y.forwardRef(yr),pn=Ve,Cn=function(E,I){var Z=y.useRef({values:new Map,options:new Map}),j=y.useMemo(function(){var pt=Z.current,yt=pt.values,$t=pt.options,bn=E.map(function(Kt){if(Kt.label===void 0){var Jn;return(0,w.Z)((0,w.Z)({},Kt),{},{label:(Jn=yt.get(Kt.value))===null||Jn===void 0?void 0:Jn.label})}return Kt}),$n=new Map,gn=new Map;return bn.forEach(function(Kt){$n.set(Kt.value,Kt),gn.set(Kt.value,I.get(Kt.value)||$t.get(Kt.value))}),Z.current.values=$n,Z.current.options=gn,bn},[E,I]),Re=y.useCallback(function(pt){return I.get(pt)||Z.current.options.get(pt)},[I]);return[j,Re]};function Rn(E,I){return et(E).join("").toUpperCase().includes(I)}var En=function(E,I,Z,j,Re){return y.useMemo(function(){if(!Z||j===!1)return E;var pt=I.options,yt=I.label,$t=I.value,bn=[],$n=typeof j=="function",gn=Z.toUpperCase(),Kt=$n?j:function(Bt,Xn){return Re?Rn(Xn[Re],gn):Xn[pt]?Rn(Xn[yt!=="children"?yt:"label"],gn):Rn(Xn[$t],gn)},Jn=$n?function(Bt){return re(Bt)}:function(Bt){return Bt};return E.forEach(function(Bt){if(Bt[pt]){var Xn=Kt(Z,Jn(Bt));if(Xn)bn.push(Bt);else{var tr=Bt[pt].filter(function(zn){return Kt(Z,Jn(zn))});tr.length&&bn.push((0,w.Z)((0,w.Z)({},Bt),{},(0,ee.Z)({},pt,tr)))}return}Kt(Z,Jn(Bt))&&bn.push(Bt)}),bn},[E,j,Re,Z,I])},sr=T(98924),Br=0,Wn=(0,sr.Z)();function Yr(){var E;return Wn?(E=Br,Br+=1):E="TEST_OR_SSR",E}function er(E){var I=y.useState(),Z=(0,ae.Z)(I,2),j=Z[0],Re=Z[1];return y.useEffect(function(){Re("rc_select_".concat(Yr()))},[]),E||j}var Pr=T(50344),Dr=["children","value"],yi=["children"];function Si(E){var I=E,Z=I.key,j=I.props,Re=j.children,pt=j.value,yt=(0,Y.Z)(j,Dr);return(0,w.Z)({key:Z,value:pt!==void 0?pt:Z,children:Re},yt)}function _i(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Pr.Z)(E).map(function(Z,j){if(!y.isValidElement(Z)||!Z.type)return null;var Re=Z,pt=Re.type.isSelectOptGroup,yt=Re.key,$t=Re.props,bn=$t.children,$n=(0,Y.Z)($t,yi);return I||!pt?Si(Z):(0,w.Z)((0,w.Z)({key:"__RC_SELECT_GRP__".concat(yt===null?j:yt,"__"),label:yt},$n),{},{options:_i(bn)})}).filter(function(Z){return Z})}var Or=function(I,Z,j,Re,pt){return y.useMemo(function(){var yt=I,$t=!I;$t&&(yt=_i(Z));var bn=new Map,$n=new Map,gn=function(Bt,Xn,tr){tr&&typeof tr=="string"&&Bt.set(Xn[tr],Xn)},Kt=function Jn(Bt){for(var Xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tr=0;tr<Bt.length;tr+=1){var zn=Bt[tr];!zn[j.options]||Xn?(bn.set(zn[j.value],zn),gn($n,zn,j.label),gn($n,zn,Re),gn($n,zn,pt)):Jn(zn[j.options],!0)}};return Kt(yt),{options:yt,valueOptions:bn,labelOptions:$n}},[I,Z,j,Re,pt])},Vn=Or;function dt(E){var I=y.useRef();I.current=E;var Z=y.useCallback(function(){return I.current.apply(I,arguments)},[]);return Z}function Un(E){var I=E.mode,Z=E.options,j=E.children,Re=E.backfill,pt=E.allowClear,yt=E.placeholder,$t=E.getInputElement,bn=E.showSearch,$n=E.onSearch,gn=E.defaultOpen,Kt=E.autoFocus,Jn=E.labelInValue,Bt=E.value,Xn=E.inputValue,tr=E.optionLabelProp,zn=isMultiple(I),hr=bn!==void 0?bn:zn||I==="combobox",Lr=Z||convertChildrenToData(j);if(warning(I!=="tags"||Lr.every(function(cr){return!cr.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),I==="tags"||I==="combobox"){var Ur=Lr.some(function(cr){return cr.options?cr.options.some(function($r){return typeof("value"in $r?$r.value:$r.key)=="number"}):typeof("value"in cr?cr.value:cr.key)=="number"});warning(!Ur,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(I!=="combobox"||!tr,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(I==="combobox"||!Re,"`backfill` only works with `combobox` mode."),warning(I==="combobox"||!$t,"`getInputElement` only work with `combobox` mode."),noteOnce(I!=="combobox"||!$t||!pt||!yt,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),$n&&!hr&&I!=="combobox"&&I!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!gn||Kt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Bt!=null){var dr=toArray(Bt);warning(!Jn||dr.every(function(cr){return _typeof(cr)==="object"&&("key"in cr||"value"in cr)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!zn||Array.isArray(Bt),"`value` should be array when `mode` is `multiple` or `tags`")}if(j){var ii=null;toNodeArray(j).some(function(cr){if(!React.isValidElement(cr)||!cr.type)return!1;var $r=cr,bi=$r.type;if(bi.isSelectOption)return!1;if(bi.isSelectOptGroup){var Ni=toNodeArray(cr.props.children).every(function(Zn){return!React.isValidElement(Zn)||!cr.type||Zn.type.isSelectOption?!0:(ii=Zn.type,!1)});return!Ni}return ii=bi,!0}),ii&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(ii.displayName||ii.name||ii,"`.")),warning(Xn===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Se(E,I){if(E){var Z=function j(Re){for(var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,yt=0;yt<Re.length;yt++){var $t=Re[yt];if($t[I==null?void 0:I.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!pt&&Array.isArray($t[I==null?void 0:I.options])&&j($t[I==null?void 0:I.options],!0))break}};Z(E)}}var Qe=null,Ot=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],it=["inputValue"];function H(E){return!E||(0,X.Z)(E)!=="object"}var Ce=y.forwardRef(function(E,I){var Z=E.id,j=E.mode,Re=E.prefixCls,pt=Re===void 0?"rc-select":Re,yt=E.backfill,$t=E.fieldNames,bn=E.inputValue,$n=E.searchValue,gn=E.onSearch,Kt=E.autoClearSearchValue,Jn=Kt===void 0?!0:Kt,Bt=E.onSelect,Xn=E.onDeselect,tr=E.dropdownMatchSelectWidth,zn=tr===void 0?!0:tr,hr=E.filterOption,Lr=E.filterSort,Ur=E.optionFilterProp,dr=E.optionLabelProp,ii=E.options,cr=E.optionRender,$r=E.children,bi=E.defaultActiveFirstOption,Ni=E.menuItemSelectedIcon,Zn=E.virtual,vi=E.direction,pi=E.listHeight,xi=pi===void 0?200:pi,hi=E.listItemHeight,Ci=hi===void 0?20:hi,Mi=E.labelRender,Jr=E.value,or=E.defaultValue,si=E.labelInValue,li=E.onChange,ia=E.maxCount,Va=(0,Y.Z)(E,Ot),Zi=er(Z),Ar=Rt(j),Vi=!!(!ii&&$r),yo=y.useMemo(function(){return hr===void 0&&j==="combobox"?!1:hr},[hr,j]),Ai=y.useMemo(function(){return Mt($t,Vi)},[JSON.stringify($t),Vi]),Ba=(0,he.Z)("",{value:$n!==void 0?$n:bn,postState:function(Ir){return Ir||""}}),Bi=(0,ae.Z)(Ba,2),Cr=Bi[0],Gn=Bi[1],Vr=Vn(ii,$r,Ai,Ur,dr),Wr=Vr.valueOptions,kn=Vr.labelOptions,zr=Vr.options,Sr=y.useCallback(function(nr){var Ir=et(nr);return Ir.map(function(mr){var Er,Ei,zi,uo,co;if(H(mr))Er=mr;else{var to;zi=mr.key,Ei=mr.label,Er=(to=mr.value)!==null&&to!==void 0?to:zi}var va=Wr.get(Er);if(va){var Po;if(Ei===void 0&&(Ei=va==null?void 0:va[dr||Ai.label]),zi===void 0&&(zi=(Po=va==null?void 0:va.key)!==null&&Po!==void 0?Po:Er),uo=va==null?void 0:va.disabled,co=va==null?void 0:va.title,0)var Os}return{label:Ei,value:Er,key:zi,disabled:uo,title:co}})},[Ai,dr,Wr]),Gi=(0,he.Z)(or,{value:Jr}),lr=(0,ae.Z)(Gi,2),Zr=lr[0],Pa=lr[1],ba=y.useMemo(function(){var nr,Ir=Ar&&Zr===null?[]:Zr,mr=Sr(Ir);return j==="combobox"&&we((nr=mr[0])===null||nr===void 0?void 0:nr.value)?[]:mr},[Zr,Sr,j,Ar]),qr=Cn(ba,Wr),xa=(0,ae.Z)(qr,2),aa=xa[0],so=xa[1],ai=y.useMemo(function(){if(!j&&aa.length===1){var nr=aa[0];if(nr.value===null&&(nr.label===null||nr.label===void 0))return[]}return aa.map(function(Ir){var mr;return(0,w.Z)((0,w.Z)({},Ir),{},{label:(mr=typeof Mi=="function"?Mi(Ir):Ir.label)!==null&&mr!==void 0?mr:Ir.value})})},[j,aa,Mi]),gi=y.useMemo(function(){return new Set(aa.map(function(nr){return nr.value}))},[aa]);y.useEffect(function(){if(j==="combobox"){var nr,Ir=(nr=aa[0])===null||nr===void 0?void 0:nr.value;Gn(de(Ir)?String(Ir):"")}},[aa]);var Ca=dt(function(nr,Ir){var mr=Ir!=null?Ir:nr;return(0,ee.Z)((0,ee.Z)({},Ai.value,nr),Ai.label,mr)}),Ra=y.useMemo(function(){if(j!=="tags")return zr;var nr=(0,ne.Z)(zr),Ir=function(Er){return Wr.has(Er)};return(0,ne.Z)(aa).sort(function(mr,Er){return mr.value<Er.value?-1:1}).forEach(function(mr){var Er=mr.value;Ir(Er)||nr.push(Ca(Er,mr.label))}),nr},[Ca,zr,Wr,aa,j]),Za=En(Ra,Ai,Cr,yo,Ur),oi=y.useMemo(function(){return j!=="tags"||!Cr||Za.some(function(nr){return nr[Ur||"value"]===Cr})||Za.some(function(nr){return nr[Ai.value]===Cr})?Za:[Ca(Cr)].concat((0,ne.Z)(Za))},[Ca,Ur,j,Za,Cr,Ai]),Fi=y.useMemo(function(){return Lr?(0,ne.Z)(oi).sort(function(nr,Ir){return Lr(nr,Ir)}):oi},[oi,Lr]),Ea=y.useMemo(function(){return rt(Fi,{fieldNames:Ai,childrenAsData:Vi})},[Fi,Ai,Vi]),ua=function(Ir){var mr=Sr(Ir);if(Pa(mr),li&&(mr.length!==aa.length||mr.some(function(zi,uo){var co;return((co=aa[uo])===null||co===void 0?void 0:co.value)!==(zi==null?void 0:zi.value)}))){var Er=si?mr:mr.map(function(zi){return zi.value}),Ei=mr.map(function(zi){return re(so(zi.value))});li(Ar?Er:Er[0],Ar?Ei:Ei[0])}},jo=y.useState(null),qi=(0,ae.Z)(jo,2),lo=qi[0],Ta=qi[1],xl=y.useState(0),ls=(0,ae.Z)(xl,2),Ss=ls[0],Ho=ls[1],Ko=bi!==void 0?bi:j!=="combobox",us=y.useCallback(function(nr,Ir){var mr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Er=mr.source,Ei=Er===void 0?"keyboard":Er;Ho(Ir),yt&&j==="combobox"&&nr!==null&&Ei==="keyboard"&&Ta(String(nr))},[yt,j]),Qo=function(Ir,mr,Er){var Ei=function(){var Ro,xo=so(Ir);return[si?{label:xo==null?void 0:xo[Ai.label],value:Ir,key:(Ro=xo==null?void 0:xo.key)!==null&&Ro!==void 0?Ro:Ir}:Ir,re(xo)]};if(mr&&Bt){var zi=Ei(),uo=(0,ae.Z)(zi,2),co=uo[0],to=uo[1];Bt(co,to)}else if(!mr&&Xn&&Er!=="clear"){var va=Ei(),Po=(0,ae.Z)(va,2),Os=Po[0],Jo=Po[1];Xn(Os,Jo)}},ws=dt(function(nr,Ir){var mr,Er=Ar?Ir.selected:!0;Er?mr=Ar?[].concat((0,ne.Z)(aa),[nr]):[nr]:mr=aa.filter(function(Ei){return Ei.value!==nr}),ua(mr),Qo(nr,Er),j==="combobox"?Ta(""):(!Rt||Jn)&&(Gn(""),Ta(""))}),Io=function(Ir,mr){ua(Ir);var Er=mr.type,Ei=mr.values;(Er==="remove"||Er==="clear")&&Ei.forEach(function(zi){Qo(zi.value,!1,Er)})},ca=function(Ir,mr){if(Gn(Ir),Ta(null),mr.source==="submit"){var Er=(Ir||"").trim();if(Er){var Ei=Array.from(new Set([].concat((0,ne.Z)(gi),[Er])));ua(Ei),Qo(Er,!0),Gn("")}return}mr.source!=="blur"&&(j==="combobox"&&ua(Ir),gn==null||gn(Ir))},Ks=function(Ir){var mr=Ir;j!=="tags"&&(mr=Ir.map(function(Ei){var zi=kn.get(Ei);return zi==null?void 0:zi.value}).filter(function(Ei){return Ei!==void 0}));var Er=Array.from(new Set([].concat((0,ne.Z)(gi),(0,ne.Z)(mr))));ua(Er),Er.forEach(function(Ei){Qo(Ei,!0)})},bo=y.useMemo(function(){var nr=Zn!==!1&&zn!==!1;return(0,w.Z)((0,w.Z)({},Vr),{},{flattenOptions:Ea,onActiveValue:us,defaultActiveFirstOption:Ko,onSelect:ws,menuItemSelectedIcon:Ni,rawValues:gi,fieldNames:Ai,virtual:nr,direction:vi,listHeight:xi,listItemHeight:Ci,childrenAsData:Vi,maxCount:ia,optionRender:cr})},[ia,Vr,Ea,us,Ko,ws,Ni,gi,Ai,Zn,zn,vi,xi,Ci,Vi,cr]);return y.createElement(Pe.Provider,{value:bo},y.createElement(vn,(0,me.Z)({},Va,{id:Zi,prefixCls:pt,ref:I,omitDomProps:it,mode:j,displayValues:ai,onDisplayValuesChange:Io,direction:vi,searchValue:Cr,onSearch:ca,autoClearSearchValue:Jn,onSearchSplit:Ks,dropdownMatchSelectWidth:zn,OptionList:pn,emptyOptions:!Ea.length,activeValue:lo,activeDescendantId:"".concat(Zi,"_list_").concat(Ss)})))}),Ie=Ce;Ie.Option=Vt,Ie.OptGroup=Yt;var ue=Ie,Fe=ue,gt=T(87263),an=T(33603),_n=T(8745),Ut=T(9708),qt=T(53124),Zt=T(10110),Dn=T(84780),sn=T(25976),_r=()=>{const[,E]=(0,sn.ZP)(),Z=new Dn.C(E.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return y.createElement("svg",{style:Z,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{fill:"none",fillRule:"evenodd"},y.createElement("g",{transform:"translate(24 31.67)"},y.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),y.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),y.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),y.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),y.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),y.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),y.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},y.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),y.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Mr=()=>{const[,E]=(0,sn.ZP)(),{colorFill:I,colorFillTertiary:Z,colorFillQuaternary:j,colorBgContainer:Re}=E,{borderColor:pt,shadowColor:yt,contentColor:$t}=(0,y.useMemo)(()=>({borderColor:new Dn.C(I).onBackground(Re).toHexShortString(),shadowColor:new Dn.C(Z).onBackground(Re).toHexShortString(),contentColor:new Dn.C(j).onBackground(Re).toHexShortString()}),[I,Z,j,Re]);return y.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},y.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},y.createElement("ellipse",{fill:yt,cx:"32",cy:"33",rx:"32",ry:"7"}),y.createElement("g",{fillRule:"nonzero",stroke:pt},y.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),y.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:$t}))))},St=T(2093),ar=T(45503);const Nn=E=>{const{componentCls:I,margin:Z,marginXS:j,marginXL:Re,fontSize:pt,lineHeight:yt}=E;return{[I]:{marginInline:j,fontSize:pt,lineHeight:yt,textAlign:"center",[`${I}-image`]:{height:E.emptyImgHeight,marginBottom:j,opacity:E.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${I}-description`]:{color:E.colorText},[`${I}-footer`]:{marginTop:Z},"&-normal":{marginBlock:Re,color:E.colorTextDescription,[`${I}-description`]:{color:E.colorTextDescription},[`${I}-image`]:{height:E.emptyImgHeightMD}},"&-small":{marginBlock:j,color:E.colorTextDescription,[`${I}-image`]:{height:E.emptyImgHeightSM}}}}};var Hn=(0,St.I$)("Empty",E=>{const{componentCls:I,controlHeightLG:Z,calc:j}=E,Re=(0,ar.TS)(E,{emptyImgCls:`${I}-img`,emptyImgHeight:j(Z).mul(2.5).equal(),emptyImgHeightMD:Z,emptyImgHeightSM:j(Z).mul(.875).equal()});return[Nn(Re)]}),Qn=function(E,I){var Z={};for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&I.indexOf(j)<0&&(Z[j]=E[j]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,j=Object.getOwnPropertySymbols(E);Re<j.length;Re++)I.indexOf(j[Re])<0&&Object.prototype.propertyIsEnumerable.call(E,j[Re])&&(Z[j[Re]]=E[j[Re]]);return Z};const Tr=y.createElement(_r,null),xr=y.createElement(Mr,null),yn=E=>{var{className:I,rootClassName:Z,prefixCls:j,image:Re=Tr,description:pt,children:yt,imageStyle:$t,style:bn}=E,$n=Qn(E,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:gn,direction:Kt,empty:Jn}=y.useContext(qt.E_),Bt=gn("empty",j),[Xn,tr,zn]=Hn(Bt),[hr]=(0,Zt.Z)("Empty"),Lr=typeof pt!="undefined"?pt:hr==null?void 0:hr.description,Ur=typeof Lr=="string"?Lr:"empty";let dr=null;return typeof Re=="string"?dr=y.createElement("img",{alt:Ur,src:Re}):dr=Re,Xn(y.createElement("div",Object.assign({className:k()(tr,zn,Bt,Jn==null?void 0:Jn.className,{[`${Bt}-normal`]:Re===xr,[`${Bt}-rtl`]:Kt==="rtl"},I,Z),style:Object.assign(Object.assign({},Jn==null?void 0:Jn.style),bn)},$n),y.createElement("div",{className:`${Bt}-image`,style:$t},dr),Lr&&y.createElement("div",{className:`${Bt}-description`},Lr),yt&&y.createElement("div",{className:`${Bt}-footer`},yt)))};yn.PRESENTED_IMAGE_DEFAULT=Tr,yn.PRESENTED_IMAGE_SIMPLE=xr;var ur=yn,ti=E=>{const{componentName:I}=E,{getPrefixCls:Z}=(0,y.useContext)(qt.E_),j=Z("empty");switch(I){case"Table":case"List":return y.createElement(ur,{image:ur.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return y.createElement(ur,{image:ur.PRESENTED_IMAGE_SIMPLE,className:`${j}-small`});default:return y.createElement(ur,null)}},Mn=T(98866),wn=T(35792),$i=T(98675),mi=T(78347),ji=T(27833),wi=T(4173);const Di=E=>{const Z={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:E==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},Z),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},Z),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},Z),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},Z),{points:["br","tr"],offset:[0,-4]})}};function ga(E,I){return E||Di(I)}var Ji=ga,fi=T(14747),Gr=T(80110),da=T(67771),Da=T(33297);const ma=E=>{const{optionHeight:I,optionFontSize:Z,optionLineHeight:j,optionPadding:Re}=E;return{position:"relative",display:"block",minHeight:I,padding:Re,color:E.colorText,fontWeight:"normal",fontSize:Z,lineHeight:j,boxSizing:"border-box"}};var ya=E=>{const{antCls:I,componentCls:Z}=E,j=`${Z}-item`,Re=`&${I}-slide-up-enter${I}-slide-up-enter-active`,pt=`&${I}-slide-up-appear${I}-slide-up-appear-active`,yt=`&${I}-slide-up-leave${I}-slide-up-leave-active`,$t=`${Z}-dropdown-placement-`;return[{[`${Z}-dropdown`]:Object.assign(Object.assign({},(0,fi.Wf)(E)),{position:"absolute",top:-9999,zIndex:E.zIndexPopup,boxSizing:"border-box",padding:E.paddingXXS,overflow:"hidden",fontSize:E.fontSize,fontVariant:"initial",backgroundColor:E.colorBgElevated,borderRadius:E.borderRadiusLG,outline:"none",boxShadow:E.boxShadowSecondary,[`
          ${Re}${$t}bottomLeft,
          ${pt}${$t}bottomLeft
        `]:{animationName:da.fJ},[`
          ${Re}${$t}topLeft,
          ${pt}${$t}topLeft,
          ${Re}${$t}topRight,
          ${pt}${$t}topRight
        `]:{animationName:da.Qt},[`${yt}${$t}bottomLeft`]:{animationName:da.Uw},[`
          ${yt}${$t}topLeft,
          ${yt}${$t}topRight
        `]:{animationName:da.ly},"&-hidden":{display:"none"},[`${j}`]:Object.assign(Object.assign({},ma(E)),{cursor:"pointer",transition:`background ${E.motionDurationSlow} ease`,borderRadius:E.borderRadiusSM,"&-group":{color:E.colorTextDescription,fontSize:E.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},fi.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${j}-option-disabled)`]:{backgroundColor:E.optionActiveBg},[`&-selected:not(${j}-option-disabled)`]:{color:E.optionSelectedColor,fontWeight:E.optionSelectedFontWeight,backgroundColor:E.optionSelectedBg,[`${j}-option-state`]:{color:E.colorPrimary},[`&:has(+ ${j}-option-selected:not(${j}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${j}-option-selected:not(${j}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${j}-option-selected`]:{backgroundColor:E.colorBgContainerDisabled},color:E.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:E.calc(E.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},ma(E)),{color:E.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},(0,da.oN)(E,"slide-up"),(0,da.oN)(E,"slide-down"),(0,Da.Fm)(E,"move-up"),(0,Da.Fm)(E,"move-down")]},fn=T(54548);const Qa=E=>{const{multipleSelectItemHeight:I,paddingXXS:Z,lineWidth:j,INTERNAL_FIXED_ITEM_MARGIN:Re}=E,pt=E.max(E.calc(Z).sub(j).equal(),0),yt=E.max(E.calc(pt).sub(Re).equal(),0);return{basePadding:pt,containerPadding:yt,itemHeight:(0,fn.unit)(I),itemLineHeight:(0,fn.unit)(E.calc(I).sub(E.calc(E.lineWidth).mul(2)).equal())}},eo=E=>{const{multipleSelectItemHeight:I,selectHeight:Z,lineWidth:j}=E;return E.calc(Z).sub(I).div(2).sub(j).equal()},Li=E=>{const{componentCls:I,iconCls:Z,borderRadiusSM:j,motionDurationSlow:Re,paddingXS:pt,multipleItemColorDisabled:yt,multipleItemBorderColorDisabled:$t,colorIcon:bn,colorIconHover:$n,INTERNAL_FIXED_ITEM_MARGIN:gn}=E;return{[`${I}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${I}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:gn,borderRadius:j,cursor:"default",transition:`font-size ${Re}, line-height ${Re}, height ${Re}`,marginInlineEnd:E.calc(gn).mul(2).equal(),paddingInlineStart:pt,paddingInlineEnd:E.calc(pt).div(2).equal(),[`${I}-disabled&`]:{color:yt,borderColor:$t,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:E.calc(pt).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,fi.Ro)()),{display:"inline-flex",alignItems:"center",color:bn,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Z}`]:{verticalAlign:"-0.2em"},"&:hover":{color:$n}})}}}},gr=(E,I)=>{const{componentCls:Z,INTERNAL_FIXED_ITEM_MARGIN:j}=E,Re=`${Z}-selection-overflow`,pt=E.multipleSelectItemHeight,yt=eo(E),$t=I?`${Z}-${I}`:"",bn=Qa(E);return{[`${Z}-multiple${$t}`]:Object.assign(Object.assign({},Li(E)),{[`${Z}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:bn.basePadding,paddingBlock:bn.containerPadding,borderRadius:E.borderRadius,[`${Z}-disabled&`]:{background:E.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,fn.unit)(j)} 0`,lineHeight:(0,fn.unit)(pt),visibility:"hidden",content:'"\\a0"'}},[`${Z}-selection-item`]:{height:bn.itemHeight,lineHeight:(0,fn.unit)(bn.itemLineHeight)},[`${Re}-item + ${Re}-item`]:{[`${Z}-selection-search`]:{marginInlineStart:0}},[`${Re}-item-suffix`]:{height:"100%"},[`${Z}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:E.calc(E.inputPaddingHorizontalBase).sub(yt).equal(),"\n          &-input,\n          &-mirror\n        ":{height:pt,fontFamily:E.fontFamily,lineHeight:(0,fn.unit)(pt),transition:`all ${E.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Z}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:E.inputPaddingHorizontalBase,insetInlineEnd:E.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${E.motionDurationSlow}`}})}};function be(E,I){const{componentCls:Z}=E,j=I?`${Z}-${I}`:"",Re={[`${Z}-multiple${j}`]:{fontSize:E.fontSize,[`${Z}-selector`]:{[`${Z}-show-search&`]:{cursor:"text"}},[`
        &${Z}-show-arrow ${Z}-selector,
        &${Z}-allow-clear ${Z}-selector
      `]:{paddingInlineEnd:E.calc(E.fontSizeIcon).add(E.controlPaddingHorizontal).equal()}}};return[gr(E,I),Re]}var ra=E=>{const{componentCls:I}=E,Z=(0,ar.TS)(E,{selectHeight:E.controlHeightSM,multipleSelectItemHeight:E.multipleItemHeightSM,borderRadius:E.borderRadiusSM,borderRadiusSM:E.borderRadiusXS}),j=(0,ar.TS)(E,{fontSize:E.fontSizeLG,selectHeight:E.controlHeightLG,multipleSelectItemHeight:E.multipleItemHeightLG,borderRadius:E.borderRadiusLG,borderRadiusSM:E.borderRadius});return[be(E),be(Z,"sm"),{[`${I}-multiple${I}-sm`]:{[`${I}-selection-placeholder`]:{insetInline:E.calc(E.controlPaddingHorizontalSM).sub(E.lineWidth).equal()},[`${I}-selection-search`]:{marginInlineStart:2}}},be(j,"lg")]};function B(E,I){const{componentCls:Z,inputPaddingHorizontalBase:j,borderRadius:Re}=E,pt=E.calc(E.controlHeight).sub(E.calc(E.lineWidth).mul(2)).equal(),yt=I?`${Z}-${I}`:"";return{[`${Z}-single${yt}`]:{fontSize:E.fontSize,height:E.controlHeight,[`${Z}-selector`]:Object.assign(Object.assign({},(0,fi.Wf)(E,!0)),{display:"flex",borderRadius:Re,[`${Z}-selection-search`]:{position:"absolute",top:0,insetInlineStart:j,insetInlineEnd:j,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${Z}-selection-item,
          ${Z}-selection-placeholder
        `]:{padding:0,lineHeight:(0,fn.unit)(pt),transition:`all ${E.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${Z}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${Z}-selection-item:empty:after`,`${Z}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${Z}-show-arrow ${Z}-selection-item,
        &${Z}-show-arrow ${Z}-selection-placeholder
      `]:{paddingInlineEnd:E.showArrowPaddingInlineEnd},[`&${Z}-open ${Z}-selection-item`]:{color:E.colorTextPlaceholder},[`&:not(${Z}-customize-input)`]:{[`${Z}-selector`]:{width:"100%",height:"100%",padding:`0 ${(0,fn.unit)(j)}`,[`${Z}-selection-search-input`]:{height:pt},"&:after":{lineHeight:(0,fn.unit)(pt)}}},[`&${Z}-customize-input`]:{[`${Z}-selector`]:{"&:after":{display:"none"},[`${Z}-selection-search`]:{position:"static",width:"100%"},[`${Z}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,fn.unit)(j)}`,"&:after":{display:"none"}}}}}}}function Te(E){const{componentCls:I}=E,Z=E.calc(E.controlPaddingHorizontalSM).sub(E.lineWidth).equal();return[B(E),B((0,ar.TS)(E,{controlHeight:E.controlHeightSM,borderRadius:E.borderRadiusSM}),"sm"),{[`${I}-single${I}-sm`]:{[`&:not(${I}-customize-input)`]:{[`${I}-selection-search`]:{insetInlineStart:Z,insetInlineEnd:Z},[`${I}-selector`]:{padding:`0 ${(0,fn.unit)(Z)}`},[`&${I}-show-arrow ${I}-selection-search`]:{insetInlineEnd:E.calc(Z).add(E.calc(E.fontSize).mul(1.5)).equal()},[`
            &${I}-show-arrow ${I}-selection-item,
            &${I}-show-arrow ${I}-selection-placeholder
          `]:{paddingInlineEnd:E.calc(E.fontSize).mul(1.5).equal()}}}},B((0,ar.TS)(E,{controlHeight:E.singleItemHeightLG,fontSize:E.fontSizeLG,borderRadius:E.borderRadiusLG}),"lg")]}const We=E=>{const{fontSize:I,lineHeight:Z,lineWidth:j,controlHeight:Re,controlHeightSM:pt,controlHeightLG:yt,paddingXXS:$t,controlPaddingHorizontal:bn,zIndexPopupBase:$n,colorText:gn,fontWeightStrong:Kt,controlItemBgActive:Jn,controlItemBgHover:Bt,colorBgContainer:Xn,colorFillSecondary:tr,colorBgContainerDisabled:zn,colorTextDisabled:hr}=E,Lr=$t*2,Ur=j*2,dr=Math.min(Re-Lr,Re-Ur),ii=Math.min(pt-Lr,pt-Ur),cr=Math.min(yt-Lr,yt-Ur);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor($t/2),zIndexPopup:$n+50,optionSelectedColor:gn,optionSelectedFontWeight:Kt,optionSelectedBg:Jn,optionActiveBg:Bt,optionPadding:`${(Re-I*Z)/2}px ${bn}px`,optionFontSize:I,optionLineHeight:Z,optionHeight:Re,selectorBg:Xn,clearBg:Xn,singleItemHeightLG:yt,multipleItemBg:tr,multipleItemBorderColor:"transparent",multipleItemHeight:dr,multipleItemHeightSM:ii,multipleItemHeightLG:cr,multipleSelectorBgDisabled:zn,multipleItemColorDisabled:hr,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(E.fontSize*1.25)}},_t=(E,I)=>{const{componentCls:Z,antCls:j,controlOutlineWidth:Re}=E;return{[`&:not(${Z}-customize-input) ${Z}-selector`]:{border:`${(0,fn.unit)(E.lineWidth)} ${E.lineType} ${I.borderColor}`,background:E.selectorBg},[`&:not(${Z}-disabled):not(${Z}-customize-input):not(${j}-pagination-size-changer)`]:{[`&:hover ${Z}-selector`]:{borderColor:I.hoverBorderHover},[`${Z}-focused& ${Z}-selector`]:{borderColor:I.activeBorderColor,boxShadow:`0 0 0 ${(0,fn.unit)(Re)} ${I.activeShadowColor}`,outline:0}}}},Tn=(E,I)=>({[`&${E.componentCls}-status-${I.status}`]:Object.assign({},_t(E,I))}),Oi=E=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},_t(E,{borderColor:E.colorBorder,hoverBorderHover:E.colorPrimaryHover,activeBorderColor:E.colorPrimary,activeShadowColor:E.controlOutline})),Tn(E,{status:"error",borderColor:E.colorError,hoverBorderHover:E.colorErrorHover,activeBorderColor:E.colorError,activeShadowColor:E.colorErrorOutline})),Tn(E,{status:"warning",borderColor:E.colorWarning,hoverBorderHover:E.colorWarningHover,activeBorderColor:E.colorWarning,activeShadowColor:E.colorWarningOutline})),{[`&${E.componentCls}-disabled`]:{[`&:not(${E.componentCls}-customize-input) ${E.componentCls}-selector`]:{background:E.colorBgContainerDisabled,color:E.colorTextDisabled}},[`&${E.componentCls}-multiple ${E.componentCls}-selection-item`]:{background:E.multipleItemBg,border:`${(0,fn.unit)(E.lineWidth)} ${E.lineType} ${E.multipleItemBorderColor}`}})}),Hi=(E,I)=>{const{componentCls:Z,antCls:j}=E;return{[`&:not(${Z}-customize-input) ${Z}-selector`]:{background:I.bg,border:`${(0,fn.unit)(E.lineWidth)} ${E.lineType} transparent`,color:I.color},[`&:not(${Z}-disabled):not(${Z}-customize-input):not(${j}-pagination-size-changer)`]:{[`&:hover ${Z}-selector`]:{background:I.hoverBg},[`${Z}-focused& ${Z}-selector`]:{background:E.selectorBg,borderColor:I.activeBorderColor,outline:0}}}},ke=(E,I)=>({[`&${E.componentCls}-status-${I.status}`]:Object.assign({},Hi(E,I))}),Aa=E=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Hi(E,{bg:E.colorFillTertiary,hoverBg:E.colorFillSecondary,activeBorderColor:E.colorPrimary,color:E.colorText})),ke(E,{status:"error",bg:E.colorErrorBg,hoverBg:E.colorErrorBgHover,activeBorderColor:E.colorError,color:E.colorError})),ke(E,{status:"warning",bg:E.colorWarningBg,hoverBg:E.colorWarningBgHover,activeBorderColor:E.colorWarning,color:E.colorWarning})),{[`&${E.componentCls}-disabled`]:{[`&:not(${E.componentCls}-customize-input) ${E.componentCls}-selector`]:{borderColor:E.colorBorder,background:E.colorBgContainerDisabled,color:E.colorTextDisabled}},[`&${E.componentCls}-multiple ${E.componentCls}-selection-item`]:{background:E.colorBgContainer,border:`${(0,fn.unit)(E.lineWidth)} ${E.lineType} ${E.colorSplit}`}})}),ri=E=>({"&-borderless":{[`${E.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${E.componentCls}-disabled`]:{[`&:not(${E.componentCls}-customize-input) ${E.componentCls}-selector`]:{color:E.colorTextDisabled}},[`&${E.componentCls}-multiple ${E.componentCls}-selection-item`]:{background:E.multipleItemBg,border:`${(0,fn.unit)(E.lineWidth)} ${E.lineType} ${E.multipleItemBorderColor}`}}});var Ia=E=>({[E.componentCls]:Object.assign(Object.assign(Object.assign({},Oi(E)),Aa(E)),ri(E))});const Uo=E=>{const{componentCls:I}=E;return{position:"relative",transition:`all ${E.motionDurationMid} ${E.motionEaseInOut}`,input:{cursor:"pointer"},[`${I}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${I}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},$o=E=>{const{componentCls:I}=E;return{[`${I}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Mo=E=>{const{antCls:I,componentCls:Z,inputPaddingHorizontalBase:j,iconCls:Re}=E;return{[Z]:Object.assign(Object.assign({},(0,fi.Wf)(E)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${Z}-customize-input) ${Z}-selector`]:Object.assign(Object.assign({},Uo(E)),$o(E)),[`${Z}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},fi.vS),{[`> ${I}-typography`]:{display:"inline"}}),[`${Z}-selection-placeholder`]:Object.assign(Object.assign({},fi.vS),{flex:1,color:E.colorTextPlaceholder,pointerEvents:"none"}),[`${Z}-arrow`]:Object.assign(Object.assign({},(0,fi.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:j,height:E.fontSizeIcon,marginTop:E.calc(E.fontSizeIcon).mul(-1).div(2).equal(),color:E.colorTextQuaternary,fontSize:E.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${E.motionDurationSlow} ease`,[Re]:{verticalAlign:"top",transition:`transform ${E.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${Z}-suffix)`]:{pointerEvents:"auto"}},[`${Z}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${Z}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:j,zIndex:1,display:"inline-block",width:E.fontSizeIcon,height:E.fontSizeIcon,marginTop:E.calc(E.fontSizeIcon).mul(-1).div(2).equal(),color:E.colorTextQuaternary,fontSize:E.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${E.motionDurationMid} ease, opacity ${E.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:E.colorTextTertiary}},"&:hover":{[`${Z}-clear`]:{opacity:1},[`${Z}-arrow:not(:last-child)`]:{opacity:0}}}),[`${Z}-has-feedback`]:{[`${Z}-clear`]:{insetInlineEnd:E.calc(j).add(E.fontSize).add(E.paddingXS).equal()}}}},Ja=E=>{const{componentCls:I}=E;return[{[I]:{[`&${I}-in-form-item`]:{width:"100%"}}},Mo(E),Te(E),ra(E),ya(E),{[`${I}-rtl`]:{direction:"rtl"}},(0,Gr.c)(E,{borderElCls:`${I}-selector`,focusElCls:`${I}-focused`})]};var Ao=(0,St.I$)("Select",(E,I)=>{let{rootPrefixCls:Z}=I;const j=(0,ar.TS)(E,{rootPrefixCls:Z,inputPaddingHorizontalBase:E.calc(E.paddingSM).sub(1).equal(),multipleSelectItemHeight:E.multipleItemHeight,selectHeight:E.controlHeight});return[Ja(j),Ia(j)]},We,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),Xs=T(63606),Cs=T(4340),go=T(97937),F=T(80882),Es=T(50888),An=T(68795);function kr(E){let{suffixIcon:I,clearIcon:Z,menuItemSelectedIcon:j,removeIcon:Re,loading:pt,multiple:yt,hasFeedback:$t,prefixCls:bn,showSuffixIcon:$n,feedbackIcon:gn,showArrow:Kt,componentName:Jn}=E;const Bt=Z!=null?Z:y.createElement(Cs.Z,null),Xn=Lr=>I===null&&!$t&&!Kt?null:y.createElement(y.Fragment,null,$n!==!1&&Lr,$t&&gn);let tr=null;if(I!==void 0)tr=Xn(I);else if(pt)tr=Xn(y.createElement(Es.Z,{spin:!0}));else{const Lr=`${bn}-suffix`;tr=Ur=>{let{open:dr,showSearch:ii}=Ur;return Xn(dr&&ii?y.createElement(An.Z,{className:Lr}):y.createElement(F.Z,{className:Lr}))}}let zn=null;j!==void 0?zn=j:yt?zn=y.createElement(Xs.Z,null):zn=null;let hr=null;return Re!==void 0?hr=Re:hr=y.createElement(go.Z,null),{clearIcon:Bt,suffixIcon:tr,itemIcon:zn,removeIcon:hr}}function Na(E,I){return I!==void 0?I:E!==null}var io=function(E,I){var Z={};for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&I.indexOf(j)<0&&(Z[j]=E[j]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,j=Object.getOwnPropertySymbols(E);Re<j.length;Re++)I.indexOf(j[Re])<0&&Object.prototype.propertyIsEnumerable.call(E,j[Re])&&(Z[j[Re]]=E[j[Re]]);return Z};const ao="SECRET_COMBOBOX_MODE_DO_NOT_USE",ku=(E,I)=>{var Z;const{prefixCls:j,bordered:Re,className:pt,rootClassName:yt,getPopupContainer:$t,popupClassName:bn,dropdownClassName:$n,listHeight:gn=256,placement:Kt,listItemHeight:Jn,size:Bt,disabled:Xn,notFoundContent:tr,status:zn,builtinPlacements:hr,dropdownMatchSelectWidth:Lr,popupMatchSelectWidth:Ur,direction:dr,style:ii,allowClear:cr,variant:$r,dropdownStyle:bi,transitionName:Ni,tagRender:Zn,maxCount:vi}=E,pi=io(E,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:xi,getPrefixCls:hi,renderEmpty:Ci,direction:Mi,virtual:Jr,popupMatchSelectWidth:or,popupOverflow:si,select:li}=y.useContext(qt.E_),[,ia]=(0,sn.ZP)(),Va=Jn!=null?Jn:ia==null?void 0:ia.controlHeight,Zi=hi("select",j),Ar=hi(),Vi=dr!=null?dr:Mi,{compactSize:yo,compactItemClassnames:Ai}=(0,wi.ri)(Zi,Vi),[Ba,Bi]=(0,ji.Z)($r,Re),Cr=(0,wn.Z)(Zi),[Gn,Vr,Wr]=Ao(Zi,Cr),kn=y.useMemo(()=>{const{mode:lo}=E;if(lo!=="combobox")return lo===ao?"combobox":lo},[E.mode]),zr=kn==="multiple"||kn==="tags",Sr=Na(E.suffixIcon,E.showArrow),Gi=(Z=Ur!=null?Ur:Lr)!==null&&Z!==void 0?Z:or,{status:lr,hasFeedback:Zr,isFormItemInput:Pa,feedbackIcon:ba}=y.useContext(mi.aM),qr=(0,Ut.F)(lr,zn);let xa;tr!==void 0?xa=tr:kn==="combobox"?xa=null:xa=(Ci==null?void 0:Ci("Select"))||y.createElement(ti,{componentName:"Select"});const{suffixIcon:aa,itemIcon:so,removeIcon:ai,clearIcon:gi}=kr(Object.assign(Object.assign({},pi),{multiple:zr,hasFeedback:Zr,feedbackIcon:ba,showSuffixIcon:Sr,prefixCls:Zi,componentName:"Select"})),Ca=cr===!0?{clearIcon:gi}:cr,Ra=(0,Sn.Z)(pi,["suffixIcon","itemIcon"]),Za=k()(bn||$n,{[`${Zi}-dropdown-${Vi}`]:Vi==="rtl"},yt,Wr,Cr,Vr),oi=(0,$i.Z)(lo=>{var Ta;return(Ta=Bt!=null?Bt:yo)!==null&&Ta!==void 0?Ta:lo}),Fi=y.useContext(Mn.Z),Ea=Xn!=null?Xn:Fi,ua=k()({[`${Zi}-lg`]:oi==="large",[`${Zi}-sm`]:oi==="small",[`${Zi}-rtl`]:Vi==="rtl",[`${Zi}-${Ba}`]:Bi,[`${Zi}-in-form-item`]:Pa},(0,Ut.Z)(Zi,qr,Zr),Ai,li==null?void 0:li.className,pt,yt,Wr,Cr,Vr),jo=y.useMemo(()=>Kt!==void 0?Kt:Vi==="rtl"?"bottomRight":"bottomLeft",[Kt,Vi]),[qi]=(0,gt.Cn)("SelectLike",bi==null?void 0:bi.zIndex);return Gn(y.createElement(Fe,Object.assign({ref:I,virtual:Jr,showSearch:li==null?void 0:li.showSearch},Ra,{style:Object.assign(Object.assign({},li==null?void 0:li.style),ii),dropdownMatchSelectWidth:Gi,transitionName:(0,an.m)(Ar,"slide-up",Ni),builtinPlacements:Ji(hr,si),listHeight:gn,listItemHeight:Va,mode:kn,prefixCls:Zi,placement:jo,direction:Vi,suffixIcon:aa,menuItemSelectedIcon:so,removeIcon:ai,allowClear:Ca,notFoundContent:xa,className:ua,getPopupContainer:$t||xi,dropdownClassName:Za,disabled:Ea,dropdownStyle:Object.assign(Object.assign({},bi),{zIndex:qi}),maxCount:zr?vi:void 0,tagRender:zr?Zn:void 0})))},oo=y.forwardRef(ku),Ts=(0,_n.Z)(oo);oo.SECRET_COMBOBOX_MODE_DO_NOT_USE=ao,oo.Option=Vt,oo.OptGroup=Yt,oo._InternalPanelDoNotUseOrYouWillBeFired=Ts;var Ys=oo},78957:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ge}});var y=T(67294),M=T(13144),k=T.n(M),me=T(50344);function ne(Be){return["small","middle","large"].includes(Be)}function ee(Be){return Be?typeof Be=="number"&&!Number.isNaN(Be):!1}var w=T(53124),ae=T(4173);const Y=y.createContext({latestIndex:0}),X=Y.Provider;var ve=Be=>{let{className:ze,index:tt,children:qe,split:Ye,style:je}=Be;const{latestIndex:Ft}=y.useContext(Y);return qe==null?null:y.createElement(y.Fragment,null,y.createElement("div",{className:ze,style:je},qe),tt<Ft&&Ye&&y.createElement("span",{className:`${ze}-split`},Ye))},pe=T(51916),$e=function(Be,ze){var tt={};for(var qe in Be)Object.prototype.hasOwnProperty.call(Be,qe)&&ze.indexOf(qe)<0&&(tt[qe]=Be[qe]);if(Be!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ye=0,qe=Object.getOwnPropertySymbols(Be);Ye<qe.length;Ye++)ze.indexOf(qe[Ye])<0&&Object.prototype.propertyIsEnumerable.call(Be,qe[Ye])&&(tt[qe[Ye]]=Be[qe[Ye]]);return tt};const nt=y.forwardRef((Be,ze)=>{var tt,qe;const{getPrefixCls:Ye,space:je,direction:Ft}=y.useContext(w.E_),{size:Jt=(je==null?void 0:je.size)||"small",align:ft,className:xe,rootClassName:se,children:vt,direction:De="horizontal",prefixCls:It,split:wt,style:et,wrap:Le=!1,classNames:J,styles:de}=Be,we=$e(Be,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[Ge,ut]=Array.isArray(Jt)?Jt:[Jt,Jt],xt=ne(ut),_e=ne(Ge),Ae=ee(ut),Ze=ee(Ge),tn=(0,me.Z)(vt,{keepEmpty:!0}),on=ft===void 0&&De==="horizontal"?"center":ft,Ct=Ye("space",It),[zt,mn,Ke]=(0,pe.Z)(Ct),He=k()(Ct,je==null?void 0:je.className,mn,`${Ct}-${De}`,{[`${Ct}-rtl`]:Ft==="rtl",[`${Ct}-align-${on}`]:on,[`${Ct}-gap-row-${ut}`]:xt,[`${Ct}-gap-col-${Ge}`]:_e},xe,se,Ke),Dt=k()(`${Ct}-item`,(tt=J==null?void 0:J.item)!==null&&tt!==void 0?tt:(qe=je==null?void 0:je.classNames)===null||qe===void 0?void 0:qe.item);let un=0;const Ln=tn.map((ye,Ue)=>{var ht,Mt;ye!=null&&(un=Ue);const rt=ye&&ye.key||`${Dt}-${Ue}`;return y.createElement(ve,{className:Dt,key:rt,index:Ue,split:wt,style:(ht=de==null?void 0:de.item)!==null&&ht!==void 0?ht:(Mt=je==null?void 0:je.styles)===null||Mt===void 0?void 0:Mt.item},ye)}),xn=y.useMemo(()=>({latestIndex:un}),[un]);if(tn.length===0)return null;const ct={};return Le&&(ct.flexWrap="wrap"),!_e&&Ze&&(ct.columnGap=Ge),!xt&&Ae&&(ct.rowGap=ut),zt(y.createElement("div",Object.assign({ref:ze,className:He,style:Object.assign(Object.assign(Object.assign({},ct),je==null?void 0:je.style),et)},we),y.createElement(X,{value:xn},Ln)))});nt.Compact=ae.ZP;var ge=nt},33297:function(Xt,Me,T){"use strict";T.d(Me,{Fm:function(){return ve}});var y=T(54548),M=T(93590);const k=new y.Keyframes("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),me=new y.Keyframes("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),ne=new y.Keyframes("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ee=new y.Keyframes("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),w=new y.Keyframes("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),ae=new y.Keyframes("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Y=new y.Keyframes("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),X=new y.Keyframes("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),he={"move-up":{inKeyframes:Y,outKeyframes:X},"move-down":{inKeyframes:k,outKeyframes:me},"move-left":{inKeyframes:ne,outKeyframes:ee},"move-right":{inKeyframes:w,outKeyframes:ae}},ve=(pe,$e)=>{const{antCls:Tt}=pe,nt=`${Tt}-${$e}`,{inKeyframes:ge,outKeyframes:Be}=he[$e];return[(0,M.R)(nt,ge,Be,pe.motionDurationMid),{[`
        ${nt}-enter,
        ${nt}-appear
      `]:{opacity:0,animationTimingFunction:pe.motionEaseOutCirc},[`${nt}-leave`]:{animationTimingFunction:pe.motionEaseInOutCirc}}]}},50438:function(Xt,Me,T){"use strict";T.d(Me,{_y:function(){return nt}});var y=T(54548),M=T(93590);const k=new y.Keyframes("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),me=new y.Keyframes("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),ne=new y.Keyframes("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ee=new y.Keyframes("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),w=new y.Keyframes("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),ae=new y.Keyframes("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Y=new y.Keyframes("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),X=new y.Keyframes("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),he=new y.Keyframes("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),ve=new y.Keyframes("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),pe=new y.Keyframes("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),$e=new y.Keyframes("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Tt={zoom:{inKeyframes:k,outKeyframes:me},"zoom-big":{inKeyframes:ne,outKeyframes:ee},"zoom-big-fast":{inKeyframes:ne,outKeyframes:ee},"zoom-left":{inKeyframes:Y,outKeyframes:X},"zoom-right":{inKeyframes:he,outKeyframes:ve},"zoom-up":{inKeyframes:w,outKeyframes:ae},"zoom-down":{inKeyframes:pe,outKeyframes:$e}},nt=(ge,Be)=>{const{antCls:ze}=ge,tt=`${ze}-${Be}`,{inKeyframes:qe,outKeyframes:Ye}=Tt[Be];return[(0,M.R)(tt,qe,Ye,Be==="zoom-big-fast"?ge.motionDurationFast:ge.motionDurationMid),{[`
        ${tt}-enter,
        ${tt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:ge.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${tt}-leave`]:{animationTimingFunction:ge.motionEaseInOutCirc}}]}},97414:function(Xt,Me,T){"use strict";T.d(Me,{ZP:function(){return ne},qN:function(){return M},wZ:function(){return k}});var y=T(79511);const M=8;function k(ee){const{contentRadius:w,limitVerticalRadius:ae}=ee,Y=w>12?w+2:12;return{arrowOffsetHorizontal:Y,arrowOffsetVertical:ae?M:Y}}function me(ee,w){return ee?w:{}}function ne(ee,w,ae){const{componentCls:Y,boxShadowPopoverArrow:X,arrowOffsetVertical:he,arrowOffsetHorizontal:ve}=ee,{arrowDistance:pe=0,arrowPlacement:$e={left:!0,right:!0,top:!0,bottom:!0}}=ae||{};return{[Y]:Object.assign(Object.assign(Object.assign(Object.assign({[`${Y}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,y.W)(ee,w,X)),{"&:before":{background:w}})]},me(!!$e.top,{[[`&-placement-top > ${Y}-arrow`,`&-placement-topLeft > ${Y}-arrow`,`&-placement-topRight > ${Y}-arrow`].join(",")]:{bottom:pe,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${Y}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${Y}-arrow`]:{left:{_skip_check_:!0,value:ve}},[`&-placement-topRight > ${Y}-arrow`]:{right:{_skip_check_:!0,value:ve}}})),me(!!$e.bottom,{[[`&-placement-bottom > ${Y}-arrow`,`&-placement-bottomLeft > ${Y}-arrow`,`&-placement-bottomRight > ${Y}-arrow`].join(",")]:{top:pe,transform:"translateY(-100%)"},[`&-placement-bottom > ${Y}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${Y}-arrow`]:{left:{_skip_check_:!0,value:ve}},[`&-placement-bottomRight > ${Y}-arrow`]:{right:{_skip_check_:!0,value:ve}}})),me(!!$e.left,{[[`&-placement-left > ${Y}-arrow`,`&-placement-leftTop > ${Y}-arrow`,`&-placement-leftBottom > ${Y}-arrow`].join(",")]:{right:{_skip_check_:!0,value:pe},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${Y}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${Y}-arrow`]:{top:he},[`&-placement-leftBottom > ${Y}-arrow`]:{bottom:he}})),me(!!$e.right,{[[`&-placement-right > ${Y}-arrow`,`&-placement-rightTop > ${Y}-arrow`,`&-placement-rightBottom > ${Y}-arrow`].join(",")]:{left:{_skip_check_:!0,value:pe},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${Y}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${Y}-arrow`]:{top:he},[`&-placement-rightBottom > ${Y}-arrow`]:{bottom:he}}))}}},79511:function(Xt,Me,T){"use strict";T.d(Me,{W:function(){return k},w:function(){return M}});var y=T(54548);function M(me){const{sizePopupArrow:ne,borderRadiusXS:ee,borderRadiusOuter:w}=me,ae=ne/2,Y=0,X=ae,he=w*1/Math.sqrt(2),ve=ae-w*(1-1/Math.sqrt(2)),pe=ae-ee*(1/Math.sqrt(2)),$e=w*(Math.sqrt(2)-1)+ee*(1/Math.sqrt(2)),Tt=2*ae-pe,nt=$e,ge=2*ae-he,Be=ve,ze=2*ae-Y,tt=X,qe=ae*Math.sqrt(2)+w*(Math.sqrt(2)-2),Ye=w*(Math.sqrt(2)-1),je=`polygon(${Ye}px 100%, 50% ${Ye}px, ${2*ae-Ye}px 100%, ${Ye}px 100%)`,Ft=`path('M ${Y} ${X} A ${w} ${w} 0 0 0 ${he} ${ve} L ${pe} ${$e} A ${ee} ${ee} 0 0 1 ${Tt} ${nt} L ${ge} ${Be} A ${w} ${w} 0 0 0 ${ze} ${tt} Z')`;return{arrowShadowWidth:qe,arrowPath:Ft,arrowPolygon:je}}const k=(me,ne,ee)=>{const{sizePopupArrow:w,arrowPolygon:ae,arrowPath:Y,arrowShadowWidth:X,borderRadiusXS:he,calc:ve}=me;return{pointerEvents:"none",width:w,height:w,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:w,height:ve(w).div(2).equal(),background:ne,clipPath:{_multi_value_:!0,value:[ae,Y]},content:'""'},"&::after":{content:'""',position:"absolute",width:X,height:X,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,y.unit)(he)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:ee,zIndex:0,background:"transparent"}}}},83062:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return et}});var y=T(67294),M=T(13144),k=T.n(M),me=T(92419),ne=T(93042),ee=T(87263),w=T(33603),ae=T(80636),Y=T(96159),X=T(27288),he=T(43945),ve=T(53124),pe=T(4173),$e=T(25976),Tt=T(54548),nt=T(14747),ge=T(50438),Be=T(97414),ze=T(79511),tt=T(98719),qe=T(45503),Ye=T(2093);const je=Le=>{const{componentCls:J,tooltipMaxWidth:de,tooltipColor:we,tooltipBg:Ge,tooltipBorderRadius:ut,zIndexPopup:xt,controlHeight:_e,boxShadowSecondary:Ae,paddingSM:Ze,paddingXS:tn}=Le;return[{[J]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nt.Wf)(Le)),{position:"absolute",zIndex:xt,display:"block",width:"max-content",maxWidth:de,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":Ge,[`${J}-inner`]:{minWidth:"1em",minHeight:_e,padding:`${(0,Tt.unit)(Le.calc(Ze).div(2).equal())} ${(0,Tt.unit)(tn)}`,color:we,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:Ge,borderRadius:ut,boxShadow:Ae,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${J}-inner`]:{borderRadius:Le.min(ut,Be.qN)}},[`${J}-content`]:{position:"relative"}}),(0,tt.Z)(Le,(on,Ct)=>{let{darkColor:zt}=Ct;return{[`&${J}-${on}`]:{[`${J}-inner`]:{backgroundColor:zt},[`${J}-arrow`]:{"--antd-arrow-background-color":zt}}}})),{"&-rtl":{direction:"rtl"}})},(0,Be.ZP)(Le,"var(--antd-arrow-background-color)"),{[`${J}-pure`]:{position:"relative",maxWidth:"none",margin:Le.sizePopupArrow}}]},Ft=Le=>Object.assign(Object.assign({zIndexPopup:Le.zIndexPopupBase+70},(0,Be.wZ)({contentRadius:Le.borderRadius,limitVerticalRadius:!0})),(0,ze.w)((0,qe.TS)(Le,{borderRadiusOuter:Math.min(Le.borderRadiusOuter,4)})));var Jt=function(Le){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Ye.I$)("Tooltip",we=>{const{borderRadius:Ge,colorTextLightSolid:ut,colorBgSpotlight:xt}=we,_e=(0,qe.TS)(we,{tooltipMaxWidth:250,tooltipColor:ut,tooltipBorderRadius:Ge,tooltipBg:xt});return[je(_e),(0,ge._y)(we,"zoom-big-fast")]},Ft,{resetStyle:!1,injectStyle:J})(Le)},ft=T(98787);function xe(Le,J){const de=(0,ft.o2)(J),we=k()({[`${Le}-${J}`]:J&&de}),Ge={},ut={};return J&&!de&&(Ge.background=J,ut["--antd-arrow-background-color"]=J),{className:we,overlayStyle:Ge,arrowStyle:ut}}var vt=Le=>{const{prefixCls:J,className:de,placement:we="top",title:Ge,color:ut,overlayInnerStyle:xt}=Le,{getPrefixCls:_e}=y.useContext(ve.E_),Ae=_e("tooltip",J),[Ze,tn,on]=Jt(Ae),Ct=xe(Ae,ut),zt=Ct.arrowStyle,mn=Object.assign(Object.assign({},xt),Ct.overlayStyle),Ke=k()(tn,on,Ae,`${Ae}-pure`,`${Ae}-placement-${we}`,de,Ct.className);return Ze(y.createElement("div",{className:Ke,style:zt},y.createElement("div",{className:`${Ae}-arrow`}),y.createElement(me.G,Object.assign({},Le,{className:tn,prefixCls:Ae,overlayInnerStyle:mn}),Ge)))},De=function(Le,J){var de={};for(var we in Le)Object.prototype.hasOwnProperty.call(Le,we)&&J.indexOf(we)<0&&(de[we]=Le[we]);if(Le!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,we=Object.getOwnPropertySymbols(Le);Ge<we.length;Ge++)J.indexOf(we[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Le,we[Ge])&&(de[we[Ge]]=Le[we[Ge]]);return de};const wt=y.forwardRef((Le,J)=>{var de,we;const{prefixCls:Ge,openClassName:ut,getTooltipContainer:xt,overlayClassName:_e,color:Ae,overlayInnerStyle:Ze,children:tn,afterOpenChange:on,afterVisibleChange:Ct,destroyTooltipOnHide:zt,arrow:mn=!0,title:Ke,overlay:He,builtinPlacements:Dt,arrowPointAtCenter:un=!1,autoAdjustOverflow:Ln=!0}=Le,xn=!!mn,[,ct]=(0,$e.ZP)(),{getPopupContainer:ye,getPrefixCls:Ue,direction:ht}=y.useContext(ve.E_),Mt=(0,X.ln)("Tooltip"),rt=y.useRef(null),re=()=>{var Dr;(Dr=rt.current)===null||Dr===void 0||Dr.forceAlign()};y.useImperativeHandle(J,()=>{var Dr;return{forceAlign:re,forcePopupAlign:()=>{Mt.deprecated(!1,"forcePopupAlign","forceAlign"),re()},nativeElement:(Dr=rt.current)===null||Dr===void 0?void 0:Dr.nativeElement}});const[le,te]=(0,ne.Z)(!1,{value:(de=Le.open)!==null&&de!==void 0?de:Le.visible,defaultValue:(we=Le.defaultOpen)!==null&&we!==void 0?we:Le.defaultVisible}),Pe=!Ke&&!He&&Ke!==0,Ne=Dr=>{var yi,Si;te(Pe?!1:Dr),Pe||((yi=Le.onOpenChange)===null||yi===void 0||yi.call(Le,Dr),(Si=Le.onVisibleChange)===null||Si===void 0||Si.call(Le,Dr))},At=y.useMemo(()=>{var Dr,yi;let Si=un;return typeof mn=="object"&&(Si=(yi=(Dr=mn.pointAtCenter)!==null&&Dr!==void 0?Dr:mn.arrowPointAtCenter)!==null&&yi!==void 0?yi:un),Dt||(0,ae.Z)({arrowPointAtCenter:Si,autoAdjustOverflow:Ln,arrowWidth:xn?ct.sizePopupArrow:0,borderRadius:ct.borderRadius,offset:ct.marginXXS,visibleFirst:!0})},[un,mn,Dt,ct]),jt=y.useMemo(()=>Ke===0?Ke:He||Ke||"",[He,Ke]),Rt=y.createElement(pe.BR,null,typeof jt=="function"?jt():jt),{getPopupContainer:Nt,placement:vn="top",mouseEnterDelay:On=.1,mouseLeaveDelay:Yt=.1,overlayStyle:Ee,rootClassName:Vt}=Le,Wt=De(Le,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Sn=Ue("tooltip",Ge),kt=Ue(),nn=Le["data-popover-inject"];let ir=le;!("open"in Le)&&!("visible"in Le)&&Pe&&(ir=!1);const jn=y.isValidElement(tn)&&!(0,Y.M2)(tn)?tn:y.createElement("span",null,tn),yr=jn.props,Ve=!yr.className||typeof yr.className=="string"?k()(yr.className,ut||`${Sn}-open`):yr.className,[pn,Cn,Rn]=Jt(Sn,!nn),En=xe(Sn,Ae),sr=En.arrowStyle,Br=Object.assign(Object.assign({},Ze),En.overlayStyle),Wn=k()(_e,{[`${Sn}-rtl`]:ht==="rtl"},En.className,Vt,Cn,Rn),[Yr,er]=(0,ee.Cn)("Tooltip",Wt.zIndex),Pr=y.createElement(me.Z,Object.assign({},Wt,{zIndex:Yr,showArrow:xn,placement:vn,mouseEnterDelay:On,mouseLeaveDelay:Yt,prefixCls:Sn,overlayClassName:Wn,overlayStyle:Object.assign(Object.assign({},sr),Ee),getTooltipContainer:Nt||xt||ye,ref:rt,builtinPlacements:At,overlay:Rt,visible:ir,onVisibleChange:Ne,afterVisibleChange:on!=null?on:Ct,overlayInnerStyle:Br,arrowContent:y.createElement("span",{className:`${Sn}-arrow-content`}),motion:{motionName:(0,w.m)(kt,"zoom-big-fast",Le.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!zt}),ir?(0,Y.Tm)(jn,{className:Ve}):jn);return pn(y.createElement(he.Z.Provider,{value:er},Pr))});wt._InternalPanelDoNotUseOrYouWillBeFired=vt;var et=wt},21598:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return it}});var y=T(67294),M=T(86548),k=T(13144),me=T.n(k),ne=T(11276),ee=T(50344),w=T(8410),ae=T(93042),Y=T(98423),X=T(42550),he=T(98924),ve=function(Ce){if((0,he.Z)()&&window.document.documentElement){var Ie=Array.isArray(Ce)?Ce:[Ce],ue=window.document.documentElement;return Ie.some(function(Fe){return Fe in ue.style})}return!1},pe=function(Ce,Ie){if(!ve(Ce))return!1;var ue=document.createElement("div"),Fe=ue.style[Ce];return ue.style[Ce]=Ie,ue.style[Ce]!==Fe};function $e(H,Ce){return!Array.isArray(H)&&Ce!==void 0?pe(H,Ce):ve(H)}var Tt=T(15105),nt=function(H,Ce){var Ie={};for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&Ce.indexOf(ue)<0&&(Ie[ue]=H[ue]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ue=Object.getOwnPropertySymbols(H);Fe<ue.length;Fe++)Ce.indexOf(ue[Fe])<0&&Object.prototype.propertyIsEnumerable.call(H,ue[Fe])&&(Ie[ue[Fe]]=H[ue[Fe]]);return Ie};const ge={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"};var ze=y.forwardRef((H,Ce)=>{const Ie=Zt=>{const{keyCode:Dn}=Zt;Dn===Tt.Z.ENTER&&Zt.preventDefault()},ue=Zt=>{const{keyCode:Dn}=Zt,{onClick:sn}=H;Dn===Tt.Z.ENTER&&sn&&sn()},{style:Fe,noStyle:gt,disabled:an,tabIndex:_n=0}=H,Ut=nt(H,["style","noStyle","disabled","tabIndex"]);let qt={};return gt||(qt=Object.assign({},ge)),an&&(qt.pointerEvents="none"),qt=Object.assign(Object.assign({},qt),Fe),y.createElement("div",Object.assign({role:"button",tabIndex:_n,ref:Ce},Ut,{onKeyDown:Ie,onKeyUp:ue,style:qt}))}),tt=T(53124),qe=T(10110),Ye=T(83062),je=T(97460),Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},Jt=Ft,ft=T(55230),xe=function(Ce,Ie){return y.createElement(ft.Z,(0,je.Z)({},Ce,{ref:Ie,icon:Jt}))},se=y.forwardRef(xe),vt=se,De=T(96159),It=T(22913);const wt=H=>({color:H.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${H.motionDurationSlow}`,"&:focus, &:hover":{color:H.colorLinkHover},"&:active":{color:H.colorLinkActive}});var et=T(2093),Le=T(39953),J=T(54548);const de=(H,Ce,Ie,ue)=>{const{titleMarginBottom:Fe,fontWeightStrong:gt}=ue;return{marginBottom:Fe,color:Ie,fontWeight:gt,fontSize:H,lineHeight:Ce}},we=H=>{const Ce=[1,2,3,4,5],Ie={};return Ce.forEach(ue=>{Ie[`
      h${ue}&,
      div&-h${ue},
      div&-h${ue} > textarea,
      h${ue}
    `]=de(H[`fontSizeHeading${ue}`],H[`lineHeightHeading${ue}`],H.colorTextHeading,H)}),Ie},Ge=H=>{const{componentCls:Ce}=H;return{"a&, a":Object.assign(Object.assign({},wt(H)),{textDecoration:H.linkDecoration,"&:active, &:hover":{textDecoration:H.linkHoverDecoration},[`&[disabled], &${Ce}-disabled`]:{color:H.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:H.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},ut=H=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:H.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:H.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Le.gold[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:H.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),xt=H=>{const{componentCls:Ce,paddingSM:Ie}=H,ue=Ie;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:H.calc(H.paddingSM).mul(-1).equal(),marginTop:H.calc(ue).mul(-1).equal(),marginBottom:`calc(1em - ${(0,J.unit)(ue)})`},[`${Ce}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:H.calc(H.marginXS).add(2).equal(),insetBlockEnd:H.marginXS,color:H.colorTextDescription,fontWeight:"normal",fontSize:H.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},_e=H=>({[`${H.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:H.colorSuccess}},[`${H.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Ae=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Ze=H=>{const{componentCls:Ce,titleMarginTop:Ie}=H;return{[Ce]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:H.colorText,wordBreak:"break-word",lineHeight:H.lineHeight,[`&${Ce}-secondary`]:{color:H.colorTextDescription},[`&${Ce}-success`]:{color:H.colorSuccess},[`&${Ce}-warning`]:{color:H.colorWarning},[`&${Ce}-danger`]:{color:H.colorError,"a&:active, a&:focus":{color:H.colorErrorActive},"a&:hover":{color:H.colorErrorHover}},[`&${Ce}-disabled`]:{color:H.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},we(H)),{[`
      & + h1${Ce},
      & + h2${Ce},
      & + h3${Ce},
      & + h4${Ce},
      & + h5${Ce}
      `]:{marginTop:Ie},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:Ie}}}),ut(H)),Ge(H)),{[`
        ${Ce}-expand,
        ${Ce}-collapse,
        ${Ce}-edit,
        ${Ce}-copy
      `]:Object.assign(Object.assign({},wt(H)),{marginInlineStart:H.marginXXS})}),xt(H)),_e(H)),Ae()),{"&-rtl":{direction:"rtl"}})}},tn=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var on=(0,et.I$)("Typography",H=>[Ze(H)],tn),zt=H=>{const{prefixCls:Ce,"aria-label":Ie,className:ue,style:Fe,direction:gt,maxLength:an,autoSize:_n=!0,value:Ut,onSave:qt,onCancel:Zt,onEnd:Dn,component:sn,enterIcon:Rr=y.createElement(vt,null)}=H,_r=y.useRef(null),br=y.useRef(!1),Mr=y.useRef(),[St,ar]=y.useState(Ut);y.useEffect(()=>{ar(Ut)},[Ut]),y.useEffect(()=>{if(_r.current&&_r.current.resizableTextArea){const{textArea:mi}=_r.current.resizableTextArea;mi.focus();const{length:ji}=mi.value;mi.setSelectionRange(ji,ji)}},[]);const Nn=mi=>{let{target:ji}=mi;ar(ji.value.replace(/[\n\r]/g,""))},Hn=()=>{br.current=!0},Qn=()=>{br.current=!1},Tr=mi=>{let{keyCode:ji}=mi;br.current||(Mr.current=ji)},xr=()=>{qt(St.trim())},yn=mi=>{let{keyCode:ji,ctrlKey:wi,altKey:Di,metaKey:ga,shiftKey:Ji}=mi;Mr.current===ji&&!br.current&&!wi&&!Di&&!ga&&!Ji&&(ji===Tt.Z.ENTER?(xr(),Dn==null||Dn()):ji===Tt.Z.ESC&&Zt())},ur=()=>{xr()},Kr=sn?`${Ce}-${sn}`:"",[ti,Mn,wn]=on(Ce),$i=me()(Ce,`${Ce}-edit-content`,{[`${Ce}-rtl`]:gt==="rtl"},ue,Kr,Mn,wn);return ti(y.createElement("div",{className:$i,style:Fe},y.createElement(It.Z,{ref:_r,maxLength:an,value:St,onChange:Nn,onKeyDown:Tr,onKeyUp:yn,onCompositionStart:Hn,onCompositionEnd:Qn,onBlur:ur,"aria-label":Ie,rows:1,autoSize:_n}),Rr!==null?(0,De.Tm)(Rr,{className:`${Ce}-edit-content-confirm`}):null))},mn=T(20640),Ke=T.n(mn),He=T(56790),Dt=function(H,Ce,Ie,ue){function Fe(gt){return gt instanceof Ie?gt:new Ie(function(an){an(gt)})}return new(Ie||(Ie=Promise))(function(gt,an){function _n(Zt){try{qt(ue.next(Zt))}catch(Dn){an(Dn)}}function Ut(Zt){try{qt(ue.throw(Zt))}catch(Dn){an(Dn)}}function qt(Zt){Zt.done?gt(Zt.value):Fe(Zt.value).then(_n,Ut)}qt((ue=ue.apply(H,Ce||[])).next())})},Ln=H=>{let{copyConfig:Ce,children:Ie}=H;const[ue,Fe]=y.useState(!1),[gt,an]=y.useState(!1),_n=y.useRef(null),Ut=()=>{_n.current&&clearTimeout(_n.current)},qt={};Ce.format&&(qt.format=Ce.format),y.useEffect(()=>Ut,[]);const Zt=(0,He.useEvent)(Dn=>Dt(void 0,void 0,void 0,function*(){var sn;Dn==null||Dn.preventDefault(),Dn==null||Dn.stopPropagation(),an(!0);try{const Rr=typeof Ce.text=="function"?yield Ce.text():Ce.text;Ke()(Rr||String(Ie)||"",qt),an(!1),Fe(!0),Ut(),_n.current=setTimeout(()=>{Fe(!1)},3e3),(sn=Ce.onCopy)===null||sn===void 0||sn.call(Ce,Dn)}catch(Rr){throw an(!1),Rr}}));return{copied:ue,copyLoading:gt,onClick:Zt}};function xn(H,Ce){return y.useMemo(()=>{const Ie=!!H;return[Ie,Object.assign(Object.assign({},Ce),Ie&&typeof H=="object"?H:null)]},[H])}var ye=(H,Ce)=>{const Ie=y.useRef(!1);y.useEffect(()=>{Ie.current?H():Ie.current=!0},Ce)},ht=H=>{const Ce=(0,y.useRef)();return(0,y.useEffect)(()=>{Ce.current=H}),Ce.current},Mt=function(H,Ce){var Ie={};for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&Ce.indexOf(ue)<0&&(Ie[ue]=H[ue]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ue=Object.getOwnPropertySymbols(H);Fe<ue.length;Fe++)Ce.indexOf(ue[Fe])<0&&Object.prototype.propertyIsEnumerable.call(H,ue[Fe])&&(Ie[ue[Fe]]=H[ue[Fe]]);return Ie},re=y.forwardRef((H,Ce)=>{const{prefixCls:Ie,component:ue="article",className:Fe,rootClassName:gt,setContentRef:an,children:_n,direction:Ut,style:qt}=H,Zt=Mt(H,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:Dn,direction:sn,typography:Rr}=y.useContext(tt.E_),_r=Ut!=null?Ut:sn;let br=Ce;an&&(br=(0,X.sQ)(Ce,an));const Mr=Dn("typography",Ie),[St,ar,Nn]=on(Mr),Hn=me()(Mr,Rr==null?void 0:Rr.className,{[`${Mr}-rtl`]:_r==="rtl"},Fe,gt,ar,Nn),Qn=Object.assign(Object.assign({},Rr==null?void 0:Rr.style),qt);return St(y.createElement(ue,Object.assign({className:Hn,style:Qn,ref:br},Zt),_n))}),le=T(63606),te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},Pe=te,Ne=function(Ce,Ie){return y.createElement(ft.Z,(0,je.Z)({},Ce,{ref:Ie,icon:Pe}))},At=y.forwardRef(Ne),jt=At,Rt=T(50888);function Nt(H){return H===!1?[!1,!1]:Array.isArray(H)?H:[H]}function vn(H,Ce,Ie){return H===!0||H===void 0?Ce:H||Ie&&Ce}var Yt=H=>{const{prefixCls:Ce,copied:Ie,locale:ue,iconOnly:Fe,tooltips:gt,icon:an,loading:_n,tabIndex:Ut,onCopy:qt}=H,Zt=Nt(gt),Dn=Nt(an),{copied:sn,copy:Rr}=ue!=null?ue:{},_r=Ie?vn(Zt[1],sn):vn(Zt[0],Rr),Mr=typeof _r=="string"?_r:Ie?sn:Rr;return y.createElement(Ye.Z,{key:"copy",title:_r},y.createElement(ze,{className:me()(`${Ce}-copy`,{[`${Ce}-copy-success`]:Ie,[`${Ce}-copy-icon-only`]:Fe}),onClick:qt,"aria-label":Mr,tabIndex:Ut},Ie?vn(Dn[1],y.createElement(le.Z,null),!0):vn(Dn[0],_n?y.createElement(Rt.Z,null):y.createElement(jt,null),!0)))},Ee=T(75177);const Vt=y.forwardRef((H,Ce)=>{let{style:Ie,children:ue}=H;const Fe=y.useRef(null);return y.useImperativeHandle(Ce,()=>({isExceed:()=>{const gt=Fe.current;return gt.scrollHeight>gt.clientHeight},getHeight:()=>Fe.current.clientHeight})),y.createElement("span",{"aria-hidden":!0,ref:Fe,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},Ie)},ue)});function Wt(H){const Ce=typeof H;return Ce==="string"||Ce==="number"}function Sn(H){let Ce=0;return H.forEach(Ie=>{Wt(Ie)?Ce+=String(Ie).length:Ce+=1}),Ce}function kt(H,Ce){let Ie=0;const ue=[];for(let Fe=0;Fe<H.length;Fe+=1){if(Ie===Ce)return ue;const gt=H[Fe],_n=Wt(gt)?String(gt).length:1,Ut=Ie+_n;if(Ut>Ce){const qt=Ce-Ie;return ue.push(String(gt).slice(0,qt)),ue}ue.push(gt),Ie=Ut}return H}const nn=0,ir=1,jn=2,yr=3,Ve={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function pn(H){const{enableMeasure:Ce,width:Ie,text:ue,children:Fe,rows:gt,expanded:an,miscDeps:_n,onEllipsis:Ut}=H,qt=y.useMemo(()=>(0,ee.Z)(ue),[ue]),Zt=y.useMemo(()=>Sn(qt),[ue]),Dn=y.useMemo(()=>Fe(qt,!1),[ue]),[sn,Rr]=y.useState(null),_r=y.useRef(null),br=y.useRef(null),Mr=y.useRef(null),St=y.useRef(null),[ar,Nn]=y.useState(!1),[Hn,Qn]=y.useState(nn),[Tr,xr]=y.useState(0);(0,w.Z)(()=>{Qn(Ce&&Ie&&Zt?ir:nn)},[Ie,ue,gt,Ce,qt]),(0,w.Z)(()=>{var ti,Mn,wn,$i;if(Hn===ir){const mi=!!(!((ti=br.current)===null||ti===void 0)&&ti.isExceed());Qn(mi?jn:yr),Rr(mi?[0,Zt]:null),Nn(mi);const ji=((Mn=br.current)===null||Mn===void 0?void 0:Mn.getHeight())||0,wi=gt===1?0:((wn=Mr.current)===null||wn===void 0?void 0:wn.getHeight())||0,Di=(($i=St.current)===null||$i===void 0?void 0:$i.getHeight())||0,ga=wi+Di,Ji=Math.max(ji,ga);xr(Ji+1),Ut(mi)}},[Hn]);const yn=sn?Math.ceil((sn[0]+sn[1])/2):0;(0,w.Z)(()=>{var ti;const[Mn,wn]=sn||[0,0];if(Mn!==wn){const mi=(((ti=_r.current)===null||ti===void 0?void 0:ti.getHeight())||0)>Tr;let ji=yn;wn-Mn===1&&(ji=mi?Mn:wn),Rr(mi?[Mn,ji]:[ji,wn])}},[sn,yn]);const ur=y.useMemo(()=>{if(Hn!==jn||!sn||sn[0]!==sn[1]){const ti=Fe(qt,!1);return Hn!==yr&&Hn!==nn?y.createElement("span",{style:Object.assign(Object.assign({},Ve),{WebkitLineClamp:gt})},ti):ti}return Fe(an?qt:kt(qt,sn[0]),ar)},[an,Hn,sn,qt].concat((0,Ee.Z)(_n))),Kr={width:Ie,whiteSpace:"normal",margin:0,padding:0};return y.createElement(y.Fragment,null,ur,Hn===ir&&y.createElement(y.Fragment,null,y.createElement(Vt,{style:Object.assign(Object.assign(Object.assign({},Kr),Ve),{WebkitLineClamp:gt}),ref:br},Dn),y.createElement(Vt,{style:Object.assign(Object.assign(Object.assign({},Kr),Ve),{WebkitLineClamp:gt-1}),ref:Mr},Dn),y.createElement(Vt,{style:Object.assign(Object.assign(Object.assign({},Kr),Ve),{WebkitLineClamp:1}),ref:St},Fe([],!0))),Hn===jn&&sn&&sn[0]!==sn[1]&&y.createElement(Vt,{style:Object.assign(Object.assign({},Kr),{top:400}),ref:_r},Fe(kt(qt,yn),!0)))}var Rn=H=>{let{enableEllipsis:Ce,isEllipsis:Ie,children:ue,tooltipProps:Fe}=H;return!(Fe!=null&&Fe.title)||!Ce?ue:y.createElement(Ye.Z,Object.assign({open:Ie?void 0:!1},Fe),ue)},En=function(H,Ce){var Ie={};for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&Ce.indexOf(ue)<0&&(Ie[ue]=H[ue]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ue=Object.getOwnPropertySymbols(H);Fe<ue.length;Fe++)Ce.indexOf(ue[Fe])<0&&Object.prototype.propertyIsEnumerable.call(H,ue[Fe])&&(Ie[ue[Fe]]=H[ue[Fe]]);return Ie};function sr(H,Ce){let{mark:Ie,code:ue,underline:Fe,delete:gt,strong:an,keyboard:_n,italic:Ut}=H,qt=Ce;function Zt(Dn,sn){sn&&(qt=y.createElement(Dn,{},qt))}return Zt("strong",an),Zt("u",Fe),Zt("del",gt),Zt("code",ue),Zt("mark",Ie),Zt("kbd",_n),Zt("i",Ut),qt}const Br="...";var Yr=y.forwardRef((H,Ce)=>{var Ie,ue,Fe;const{prefixCls:gt,className:an,style:_n,type:Ut,disabled:qt,children:Zt,ellipsis:Dn,editable:sn,copyable:Rr,component:_r,title:br}=H,Mr=En(H,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:St,direction:ar}=y.useContext(tt.E_),[Nn]=(0,qe.Z)("Text"),Hn=y.useRef(null),Qn=y.useRef(null),Tr=St("typography",gt),xr=(0,Y.Z)(Mr,["mark","code","delete","underline","strong","keyboard","italic"]),[yn,ur]=xn(sn),[Kr,ti]=(0,ae.Z)(!1,{value:ur.editing}),{triggerType:Mn=["icon"]}=ur,wn=An=>{var kr;An&&((kr=ur.onStart)===null||kr===void 0||kr.call(ur)),ti(An)},$i=ht(Kr);ye(()=>{var An;!Kr&&$i&&((An=Qn.current)===null||An===void 0||An.focus())},[Kr]);const mi=An=>{An==null||An.preventDefault(),wn(!0)},ji=An=>{var kr;(kr=ur.onChange)===null||kr===void 0||kr.call(ur,An),wn(!1)},wi=()=>{var An;(An=ur.onCancel)===null||An===void 0||An.call(ur),wn(!1)},[Di,ga]=xn(Rr),{copied:Ji,copyLoading:fi,onClick:Gr}=Ln({copyConfig:ga,children:Zt}),[da,Da]=y.useState(!1),[ma,la]=y.useState(!1),[ya,fn]=y.useState(!1),[Qa,eo]=y.useState(!1),[Li,gr]=y.useState(!0),[be,Bn]=xn(Dn,{expandable:!1,symbol:An=>An?Nn==null?void 0:Nn.collapse:Nn==null?void 0:Nn.expand}),[ra,B]=(0,ae.Z)(Bn.defaultExpanded||!1,{value:Bn.expanded}),Te=be&&(!ra||Bn.expandable==="collapsible"),{rows:We=1}=Bn,_t=y.useMemo(()=>Te&&(Bn.suffix!==void 0||Bn.onEllipsis||Bn.expandable||yn||Di),[Te,Bn,yn,Di]);(0,w.Z)(()=>{be&&!_t&&(Da($e("webkitLineClamp")),la($e("textOverflow")))},[_t,be]);const[Tn,Oi]=y.useState(Te),Hi=y.useMemo(()=>_t?!1:We===1?ma:da,[_t,ma,da]);(0,w.Z)(()=>{Oi(Hi&&Te)},[Hi,Te]);const ke=Te&&(Tn?Qa:ya),Aa=Te&&We===1&&Tn,ri=Te&&We>1&&Tn,ss=(An,kr)=>{var Na;B(kr.expanded),(Na=Bn.onExpand)===null||Na===void 0||Na.call(Bn,An,kr)},[Ia,Uo]=y.useState(0),$o=An=>{let{offsetWidth:kr}=An;Uo(kr)},Mo=An=>{var kr;fn(An),ya!==An&&((kr=Bn.onEllipsis)===null||kr===void 0||kr.call(Bn,An))};y.useEffect(()=>{const An=Hn.current;if(be&&Tn&&An){const kr=ri?An.offsetHeight<An.scrollHeight:An.offsetWidth<An.scrollWidth;Qa!==kr&&eo(kr)}},[be,Tn,Zt,ri,Li,Ia]),y.useEffect(()=>{const An=Hn.current;if(typeof IntersectionObserver=="undefined"||!An||!Tn||!Te)return;const kr=new IntersectionObserver(()=>{gr(!!An.offsetParent)});return kr.observe(An),()=>{kr.disconnect()}},[Tn,Te]);let Ja={};Bn.tooltip===!0?Ja={title:(Ie=ur.text)!==null&&Ie!==void 0?Ie:Zt}:y.isValidElement(Bn.tooltip)?Ja={title:Bn.tooltip}:typeof Bn.tooltip=="object"?Ja=Object.assign({title:(ue=ur.text)!==null&&ue!==void 0?ue:Zt},Bn.tooltip):Ja={title:Bn.tooltip};const Ao=y.useMemo(()=>{const An=kr=>["string","number"].includes(typeof kr);if(!(!be||Tn)){if(An(ur.text))return ur.text;if(An(Zt))return Zt;if(An(br))return br;if(An(Ja.title))return Ja.title}},[be,Tn,br,Ja.title,ke]);if(Kr)return y.createElement(zt,{value:(Fe=ur.text)!==null&&Fe!==void 0?Fe:typeof Zt=="string"?Zt:"",onSave:ji,onCancel:wi,onEnd:ur.onEnd,prefixCls:Tr,className:an,style:_n,direction:ar,component:_r,maxLength:ur.maxLength,autoSize:ur.autoSize,enterIcon:ur.enterIcon});const Xs=()=>{const{expandable:An,symbol:kr}=Bn;return!An||ra&&An!=="collapsible"?null:y.createElement("a",{key:"expand",className:`${Tr}-${ra?"collapse":"expand"}`,onClick:Na=>ss(Na,{expanded:!ra}),"aria-label":ra?Nn.collapse:Nn==null?void 0:Nn.expand},typeof kr=="function"?kr(ra):kr)},Cs=()=>{if(!yn)return;const{icon:An,tooltip:kr,tabIndex:Na}=ur,io=(0,ee.Z)(kr)[0]||(Nn==null?void 0:Nn.edit),ao=typeof io=="string"?io:"";return Mn.includes("icon")?y.createElement(Ye.Z,{key:"edit",title:kr===!1?"":io},y.createElement(ze,{ref:Qn,className:`${Tr}-edit`,onClick:mi,"aria-label":ao,tabIndex:Na},An||y.createElement(M.Z,{role:"button"}))):null},go=()=>Di?y.createElement(Yt,Object.assign({key:"copy"},ga,{prefixCls:Tr,copied:Ji,locale:Nn,onCopy:Gr,loading:fi,iconOnly:Zt==null})):null,F=An=>[An&&Xs(),Cs(),go()],Es=An=>[An&&!ra&&y.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Br),Bn.suffix,F(An)];return y.createElement(ne.Z,{onResize:$o,disabled:!Te},An=>y.createElement(Rn,{tooltipProps:Ja,enableEllipsis:Te,isEllipsis:ke},y.createElement(re,Object.assign({className:me()({[`${Tr}-${Ut}`]:Ut,[`${Tr}-disabled`]:qt,[`${Tr}-ellipsis`]:be,[`${Tr}-single-line`]:Te&&We===1&&!ra,[`${Tr}-ellipsis-single-line`]:Aa,[`${Tr}-ellipsis-multiple-line`]:ri},an),prefixCls:gt,style:Object.assign(Object.assign({},_n),{WebkitLineClamp:ri?We:void 0}),component:_r,ref:(0,X.sQ)(An,Hn,Ce),direction:ar,onClick:Mn.includes("text")?mi:void 0,"aria-label":Ao==null?void 0:Ao.toString(),title:br},xr),y.createElement(pn,{enableMeasure:Te&&!Tn,text:Zt,rows:We,width:Ia,onEllipsis:Mo,expanded:ra,miscDeps:[Ji,ra,fi,yn,Di]},(kr,Na)=>sr(H,y.createElement(y.Fragment,null,kr.length>0&&Na&&!ra&&Ao?y.createElement("span",{key:"show-content","aria-hidden":!0},kr):kr,Es(Na)))))))}),er=function(H,Ce){var Ie={};for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&Ce.indexOf(ue)<0&&(Ie[ue]=H[ue]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ue=Object.getOwnPropertySymbols(H);Fe<ue.length;Fe++)Ce.indexOf(ue[Fe])<0&&Object.prototype.propertyIsEnumerable.call(H,ue[Fe])&&(Ie[ue[Fe]]=H[ue[Fe]]);return Ie},Dr=y.forwardRef((H,Ce)=>{var{ellipsis:Ie,rel:ue}=H,Fe=er(H,["ellipsis","rel"]);const gt=Object.assign(Object.assign({},Fe),{rel:ue===void 0&&Fe.target==="_blank"?"noopener noreferrer":ue});return delete gt.navigate,y.createElement(Yr,Object.assign({},gt,{ref:Ce,ellipsis:!!Ie,component:"a"}))}),Si=y.forwardRef((H,Ce)=>y.createElement(Yr,Object.assign({ref:Ce},H,{component:"div"}))),_i=function(H,Ce){var Ie={};for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&Ce.indexOf(ue)<0&&(Ie[ue]=H[ue]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ue=Object.getOwnPropertySymbols(H);Fe<ue.length;Fe++)Ce.indexOf(ue[Fe])<0&&Object.prototype.propertyIsEnumerable.call(H,ue[Fe])&&(Ie[ue[Fe]]=H[ue[Fe]]);return Ie};const Or=(H,Ce)=>{var{ellipsis:Ie}=H,ue=_i(H,["ellipsis"]);const Fe=y.useMemo(()=>Ie&&typeof Ie=="object"?(0,Y.Z)(Ie,["expandable","rows"]):Ie,[Ie]);return y.createElement(Yr,Object.assign({ref:Ce},ue,{ellipsis:Fe,component:"span"}))};var Vn=y.forwardRef(Or),dt=function(H,Ce){var Ie={};for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)&&Ce.indexOf(ue)<0&&(Ie[ue]=H[ue]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ue=Object.getOwnPropertySymbols(H);Fe<ue.length;Fe++)Ce.indexOf(ue[Fe])<0&&Object.prototype.propertyIsEnumerable.call(H,ue[Fe])&&(Ie[ue[Fe]]=H[ue[Fe]]);return Ie};const Un=[1,2,3,4,5];var Qe=y.forwardRef((H,Ce)=>{const{level:Ie=1}=H,ue=dt(H,["level"]);let Fe;return Un.includes(Ie)?Fe=`h${Ie}`:Fe="h1",y.createElement(Yr,Object.assign({ref:Ce},ue,{component:Fe}))});const Ot=re;Ot.Text=Vn,Ot.Link=Dr,Ot.Title=Qe,Ot.Paragraph=Si;var it=Ot},27484:function(Xt){(function(Me,T){Xt.exports=T()})(this,function(){"use strict";var Me=1e3,T=6e4,y=36e5,M="millisecond",k="second",me="minute",ne="hour",ee="day",w="week",ae="month",Y="quarter",X="year",he="date",ve="Invalid Date",pe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Tt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ft){var xe=["th","st","nd","rd"],se=ft%100;return"["+ft+(xe[(se-20)%10]||xe[se]||xe[0])+"]"}},nt=function(ft,xe,se){var vt=String(ft);return!vt||vt.length>=xe?ft:""+Array(xe+1-vt.length).join(se)+ft},ge={s:nt,z:function(ft){var xe=-ft.utcOffset(),se=Math.abs(xe),vt=Math.floor(se/60),De=se%60;return(xe<=0?"+":"-")+nt(vt,2,"0")+":"+nt(De,2,"0")},m:function ft(xe,se){if(xe.date()<se.date())return-ft(se,xe);var vt=12*(se.year()-xe.year())+(se.month()-xe.month()),De=xe.clone().add(vt,ae),It=se-De<0,wt=xe.clone().add(vt+(It?-1:1),ae);return+(-(vt+(se-De)/(It?De-wt:wt-De))||0)},a:function(ft){return ft<0?Math.ceil(ft)||0:Math.floor(ft)},p:function(ft){return{M:ae,y:X,w,d:ee,D:he,h:ne,m:me,s:k,ms:M,Q:Y}[ft]||String(ft||"").toLowerCase().replace(/s$/,"")},u:function(ft){return ft===void 0}},Be="en",ze={};ze[Be]=Tt;var tt=function(ft){return ft instanceof Ft},qe=function ft(xe,se,vt){var De;if(!xe)return Be;if(typeof xe=="string"){var It=xe.toLowerCase();ze[It]&&(De=It),se&&(ze[It]=se,De=It);var wt=xe.split("-");if(!De&&wt.length>1)return ft(wt[0])}else{var et=xe.name;ze[et]=xe,De=et}return!vt&&De&&(Be=De),De||!vt&&Be},Ye=function(ft,xe){if(tt(ft))return ft.clone();var se=typeof xe=="object"?xe:{};return se.date=ft,se.args=arguments,new Ft(se)},je=ge;je.l=qe,je.i=tt,je.w=function(ft,xe){return Ye(ft,{locale:xe.$L,utc:xe.$u,x:xe.$x,$offset:xe.$offset})};var Ft=function(){function ft(se){this.$L=qe(se.locale,null,!0),this.parse(se)}var xe=ft.prototype;return xe.parse=function(se){this.$d=function(vt){var De=vt.date,It=vt.utc;if(De===null)return new Date(NaN);if(je.u(De))return new Date;if(De instanceof Date)return new Date(De);if(typeof De=="string"&&!/Z$/i.test(De)){var wt=De.match(pe);if(wt){var et=wt[2]-1||0,Le=(wt[7]||"0").substring(0,3);return It?new Date(Date.UTC(wt[1],et,wt[3]||1,wt[4]||0,wt[5]||0,wt[6]||0,Le)):new Date(wt[1],et,wt[3]||1,wt[4]||0,wt[5]||0,wt[6]||0,Le)}}return new Date(De)}(se),this.$x=se.x||{},this.init()},xe.init=function(){var se=this.$d;this.$y=se.getFullYear(),this.$M=se.getMonth(),this.$D=se.getDate(),this.$W=se.getDay(),this.$H=se.getHours(),this.$m=se.getMinutes(),this.$s=se.getSeconds(),this.$ms=se.getMilliseconds()},xe.$utils=function(){return je},xe.isValid=function(){return this.$d.toString()!==ve},xe.isSame=function(se,vt){var De=Ye(se);return this.startOf(vt)<=De&&De<=this.endOf(vt)},xe.isAfter=function(se,vt){return Ye(se)<this.startOf(vt)},xe.isBefore=function(se,vt){return this.endOf(vt)<Ye(se)},xe.$g=function(se,vt,De){return je.u(se)?this[vt]:this.set(De,se)},xe.unix=function(){return Math.floor(this.valueOf()/1e3)},xe.valueOf=function(){return this.$d.getTime()},xe.startOf=function(se,vt){var De=this,It=!!je.u(vt)||vt,wt=je.p(se),et=function(_e,Ae){var Ze=je.w(De.$u?Date.UTC(De.$y,Ae,_e):new Date(De.$y,Ae,_e),De);return It?Ze:Ze.endOf(ee)},Le=function(_e,Ae){return je.w(De.toDate()[_e].apply(De.toDate("s"),(It?[0,0,0,0]:[23,59,59,999]).slice(Ae)),De)},J=this.$W,de=this.$M,we=this.$D,Ge="set"+(this.$u?"UTC":"");switch(wt){case X:return It?et(1,0):et(31,11);case ae:return It?et(1,de):et(0,de+1);case w:var ut=this.$locale().weekStart||0,xt=(J<ut?J+7:J)-ut;return et(It?we-xt:we+(6-xt),de);case ee:case he:return Le(Ge+"Hours",0);case ne:return Le(Ge+"Minutes",1);case me:return Le(Ge+"Seconds",2);case k:return Le(Ge+"Milliseconds",3);default:return this.clone()}},xe.endOf=function(se){return this.startOf(se,!1)},xe.$set=function(se,vt){var De,It=je.p(se),wt="set"+(this.$u?"UTC":""),et=(De={},De[ee]=wt+"Date",De[he]=wt+"Date",De[ae]=wt+"Month",De[X]=wt+"FullYear",De[ne]=wt+"Hours",De[me]=wt+"Minutes",De[k]=wt+"Seconds",De[M]=wt+"Milliseconds",De)[It],Le=It===ee?this.$D+(vt-this.$W):vt;if(It===ae||It===X){var J=this.clone().set(he,1);J.$d[et](Le),J.init(),this.$d=J.set(he,Math.min(this.$D,J.daysInMonth())).$d}else et&&this.$d[et](Le);return this.init(),this},xe.set=function(se,vt){return this.clone().$set(se,vt)},xe.get=function(se){return this[je.p(se)]()},xe.add=function(se,vt){var De,It=this;se=Number(se);var wt=je.p(vt),et=function(de){var we=Ye(It);return je.w(we.date(we.date()+Math.round(de*se)),It)};if(wt===ae)return this.set(ae,this.$M+se);if(wt===X)return this.set(X,this.$y+se);if(wt===ee)return et(1);if(wt===w)return et(7);var Le=(De={},De[me]=T,De[ne]=y,De[k]=Me,De)[wt]||1,J=this.$d.getTime()+se*Le;return je.w(J,this)},xe.subtract=function(se,vt){return this.add(-1*se,vt)},xe.format=function(se){var vt=this,De=this.$locale();if(!this.isValid())return De.invalidDate||ve;var It=se||"YYYY-MM-DDTHH:mm:ssZ",wt=je.z(this),et=this.$H,Le=this.$m,J=this.$M,de=De.weekdays,we=De.months,Ge=function(Ae,Ze,tn,on){return Ae&&(Ae[Ze]||Ae(vt,It))||tn[Ze].slice(0,on)},ut=function(Ae){return je.s(et%12||12,Ae,"0")},xt=De.meridiem||function(Ae,Ze,tn){var on=Ae<12?"AM":"PM";return tn?on.toLowerCase():on},_e={YY:String(this.$y).slice(-2),YYYY:this.$y,M:J+1,MM:je.s(J+1,2,"0"),MMM:Ge(De.monthsShort,J,we,3),MMMM:Ge(we,J),D:this.$D,DD:je.s(this.$D,2,"0"),d:String(this.$W),dd:Ge(De.weekdaysMin,this.$W,de,2),ddd:Ge(De.weekdaysShort,this.$W,de,3),dddd:de[this.$W],H:String(et),HH:je.s(et,2,"0"),h:ut(1),hh:ut(2),a:xt(et,Le,!0),A:xt(et,Le,!1),m:String(Le),mm:je.s(Le,2,"0"),s:String(this.$s),ss:je.s(this.$s,2,"0"),SSS:je.s(this.$ms,3,"0"),Z:wt};return It.replace($e,function(Ae,Ze){return Ze||_e[Ae]||wt.replace(":","")})},xe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},xe.diff=function(se,vt,De){var It,wt=je.p(vt),et=Ye(se),Le=(et.utcOffset()-this.utcOffset())*T,J=this-et,de=je.m(this,et);return de=(It={},It[X]=de/12,It[ae]=de,It[Y]=de/3,It[w]=(J-Le)/6048e5,It[ee]=(J-Le)/864e5,It[ne]=J/y,It[me]=J/T,It[k]=J/Me,It)[wt]||J,De?de:je.a(de)},xe.daysInMonth=function(){return this.endOf(ae).$D},xe.$locale=function(){return ze[this.$L]},xe.locale=function(se,vt){if(!se)return this.$L;var De=this.clone(),It=qe(se,vt,!0);return It&&(De.$L=It),De},xe.clone=function(){return je.w(this.$d,this)},xe.toDate=function(){return new Date(this.valueOf())},xe.toJSON=function(){return this.isValid()?this.toISOString():null},xe.toISOString=function(){return this.$d.toISOString()},xe.toString=function(){return this.$d.toUTCString()},ft}(),Jt=Ft.prototype;return Ye.prototype=Jt,[["$ms",M],["$s",k],["$m",me],["$H",ne],["$W",ee],["$M",ae],["$y",X],["$D",he]].forEach(function(ft){Jt[ft[1]]=function(xe){return this.$g(xe,ft[0],ft[1])}}),Ye.extend=function(ft,xe){return ft.$i||(ft(xe,Ft,Ye),ft.$i=!0),Ye},Ye.locale=qe,Ye.isDayjs=tt,Ye.unix=function(ft){return Ye(1e3*ft)},Ye.en=ze[Be],Ye.Ls=ze,Ye.p={},Ye})},78181:function(Xt,Me,T){"use strict";T.d(Me,{ZP:function(){return xt}});var y=T(67294),M=Object.defineProperty,k=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,ee=(_e,Ae,Ze)=>Ae in _e?M(_e,Ae,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):_e[Ae]=Ze,w=(_e,Ae)=>{for(var Ze in Ae||(Ae={}))me.call(Ae,Ze)&&ee(_e,Ze,Ae[Ze]);if(k)for(var Ze of k(Ae))ne.call(Ae,Ze)&&ee(_e,Ze,Ae[Ze]);return _e};const ae=_e=>y.createElement("svg",w({viewBox:"64 64 896 896"},_e),y.createElement("path",{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}));var Y="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODYyIDQ2NS4zaC04MWMtNC42IDAtOSAyLTEyLjEgNS41TDU1MCA3MjMuMVYxNjBjMC00LjQtMy42LTgtOC04aC02MGMtNC40IDAtOCAzLjYtOCA4djU2My4xTDI1NS4xIDQ3MC44Yy0zLTMuNS03LjQtNS41LTEyLjEtNS41aC04MWMtNi44IDAtMTAuNSA4LjEtNiAxMy4yTDQ4Ny45IDg2MWEzMS45NiAzMS45NiAwIDAgMCA0OC4zIDBMODY4IDQ3OC41YzQuNS01LjIuOC0xMy4yLTYtMTMuMnoiLz48L3N2Zz4=",X=Object.defineProperty,he=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,$e=(_e,Ae,Ze)=>Ae in _e?X(_e,Ae,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):_e[Ae]=Ze,Tt=(_e,Ae)=>{for(var Ze in Ae||(Ae={}))ve.call(Ae,Ze)&&$e(_e,Ze,Ae[Ze]);if(he)for(var Ze of he(Ae))pe.call(Ae,Ze)&&$e(_e,Ze,Ae[Ze]);return _e};const nt=_e=>y.createElement("svg",Tt({viewBox:"64 64 896 896"},_e),y.createElement("path",{d:"M868 545.5 536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}));var ge="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNODY4IDU0NS41IDUzNi4xIDE2M2EzMS45NiAzMS45NiAwIDAgMC00OC4zIDBMMTU2IDU0NS41YTcuOTcgNy45NyAwIDAgMCA2IDEzLjJoODFjNC42IDAgOS0yIDEyLjEtNS41TDQ3NCAzMDAuOVY4NjRjMCA0LjQgMy42IDggOCA4aDYwYzQuNCAwIDgtMy42IDgtOFYzMDAuOWwyMTguOSAyNTIuM2MzIDMuNSA3LjQgNS41IDEyLjEgNS41aDgxYzYuOCAwIDEwLjUtOCA2LTEzLjJ6Ii8+PC9zdmc+",Be=Object.defineProperty,ze=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Ye=(_e,Ae,Ze)=>Ae in _e?Be(_e,Ae,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):_e[Ae]=Ze,je=(_e,Ae)=>{for(var Ze in Ae||(Ae={}))tt.call(Ae,Ze)&&Ye(_e,Ze,Ae[Ze]);if(ze)for(var Ze of ze(Ae))qe.call(Ae,Ze)&&Ye(_e,Ze,Ae[Ze]);return _e};const Ft=_e=>y.createElement("svg",je({viewBox:"64 64 896 896"},_e),y.createElement("path",{d:"M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}));var Jt="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSI2NCA2NCA4OTYgODk2Ij48cGF0aCBkPSJNOTA5LjYgODU0LjUgNjQ5LjkgNTk0LjhDNjkwLjIgNTQyLjcgNzEyIDQ3OSA3MTIgNDEyYzAtODAuMi0zMS4zLTE1NS40LTg3LjktMjEyLjEtNTYuNi01Ni43LTEzMi04Ny45LTIxMi4xLTg3LjlzLTE1NS41IDMxLjMtMjEyLjEgODcuOUMxNDMuMiAyNTYuNSAxMTIgMzMxLjggMTEyIDQxMmMwIDgwLjEgMzEuMyAxNTUuNSA4Ny45IDIxMi4xQzI1Ni41IDY4MC44IDMzMS44IDcxMiA0MTIgNzEyYzY3IDAgMTMwLjYtMjEuOCAxODIuNy02MmwyNTkuNyAyNTkuNmE4LjIgOC4yIDAgMCAwIDExLjYgMGw0My42LTQzLjVhOC4yIDguMiAwIDAgMCAwLTExLjZ6TTU3MC40IDU3MC40QzUyOCA2MTIuNyA0NzEuOCA2MzYgNDEyIDYzNnMtMTE2LTIzLjMtMTU4LjQtNjUuNkMyMTEuMyA1MjggMTg4IDQ3MS44IDE4OCA0MTJzMjMuMy0xMTYuMSA2NS42LTE1OC40QzI5NiAyMTEuMyAzNTIuMiAxODggNDEyIDE4OHMxMTYuMSAyMy4yIDE1OC40IDY1LjZTNjM2IDM1Mi4yIDYzNiA0MTJzLTIzLjMgMTE2LjEtNjUuNiAxNTguNHoiLz48L3N2Zz4=",ft=T(54037),xe=T(47727),se=(0,y.forwardRef)(function(_e,Ae){var Ze=(0,ft.YB)(),tn=(0,y.useRef)(!1),on=(0,y.useRef)(null);return(0,y.useImperativeHandle)(Ae,function(){return on.current}),y.createElement("input",{className:"dumi-default-search-bar-input",onCompositionStart:function(){return tn.current=!0},onCompositionEnd:function(zt){tn.current=!1,_e.onChange(zt.currentTarget.value)},onFocus:_e.onFocus,onBlur:_e.onBlur,onMouseEnter:_e.onMouseEnter,onKeyDown:function(zt){["ArrowDown","ArrowUp"].includes(zt.key)&&zt.preventDefault(),zt.key==="Escape"&&!tn.current&&zt.currentTarget.blur()},onChange:function(zt){var mn=zt.target.value;setTimeout(function(){tn.current||_e.onChange(mn)},1)},placeholder:Ze.formatMessage({id:"header.search.placeholder"}),ref:on})}),vt=function(Ae){return(0,y.useEffect)(function(){if(Ae.visible)document.body.style.overflow="hidden";else if(document.body.style.overflow){var Ze;document.body.style.overflow="",(Ze=Ae.onClose)===null||Ze===void 0||Ze.call(Ae)}},[Ae.visible]),Ae.visible?y.createElement("div",{className:"dumi-default-search-modal"},y.createElement("div",{className:"dumi-default-search-modal-mask",onClick:Ae.onMaskClick}),y.createElement("div",{className:"dumi-default-search-modal-content"},Ae.children)):null},De;function It(_e,Ae){return de(_e)||J(_e,Ae)||et(_e,Ae)||wt()}function wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(_e,Ae){if(_e){if(typeof _e=="string")return Le(_e,Ae);var Ze=Object.prototype.toString.call(_e).slice(8,-1);if(Ze==="Object"&&_e.constructor&&(Ze=_e.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(_e);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return Le(_e,Ae)}}function Le(_e,Ae){(Ae==null||Ae>_e.length)&&(Ae=_e.length);for(var Ze=0,tn=new Array(Ae);Ze<Ae;Ze++)tn[Ze]=_e[Ze];return tn}function J(_e,Ae){var Ze=_e==null?null:typeof Symbol!="undefined"&&_e[Symbol.iterator]||_e["@@iterator"];if(Ze!=null){var tn,on,Ct,zt,mn=[],Ke=!0,He=!1;try{if(Ct=(Ze=Ze.call(_e)).next,Ae===0){if(Object(Ze)!==Ze)return;Ke=!1}else for(;!(Ke=(tn=Ct.call(Ze)).done)&&(mn.push(tn.value),mn.length!==Ae);Ke=!0);}catch(Dt){He=!0,on=Dt}finally{try{if(!Ke&&Ze.return!=null&&(zt=Ze.return(),Object(zt)!==zt))return}finally{if(He)throw on}}return mn}}function de(_e){if(Array.isArray(_e))return _e}var we=/(mac|iphone|ipod|ipad)/i.test(typeof navigator!="undefined"?(De=navigator)===null||De===void 0?void 0:De.platform:""),Ge=function(Ae){return["TEXTAREA","INPUT"].includes(Ae.tagName)||Ae.contentEditable==="true"},ut=function(){var Ae=(0,y.useState)(!1),Ze=It(Ae,2),tn=Ze[0],on=Ze[1],Ct=(0,y.useRef)(null),zt=(0,y.useRef)(null),mn=(0,y.useState)("\u2318"),Ke=It(mn,2),He=Ke[0],Dt=Ke[1],un=(0,ft.OO)(),Ln=un.keywords,xn=un.setKeywords,ct=un.result,ye=un.loading,Ue=un.load,ht=(0,y.useState)(!1),Mt=It(ht,2),rt=Mt[0],re=Mt[1];return(0,y.useEffect)(function(){we||Dt("Ctrl");var le=function(Pe){if(((we?Pe.metaKey:Pe.ctrlKey)&&Pe.key==="k"||Pe.key==="/"&&!Ge(Pe.target))&&(Pe.preventDefault(),Ct.current)){var Ne=Ct.current.getBoundingClientRect(),At=Ne.top,jt=Ne.bottom,Rt=Ne.left,Nt=Ne.right,vn=At>=0&&Rt>=0&&jt<=window.innerHeight&&Nt<=window.innerWidth;vn?Ct.current.focus():(xn(""),re(!0),setTimeout(function(){var On;(On=zt.current)===null||On===void 0||On.focus()}))}Pe.key==="Escape"&&(Pe.preventDefault(),re(!1))};return document.addEventListener("keydown",le),function(){return document.removeEventListener("keydown",le)}},[]),y.createElement("div",{className:"dumi-default-search-bar"},y.createElement(Ft,{className:"dumi-default-search-bar-svg"}),y.createElement(se,{onFocus:function(){on(!0),Ue()},onMouseEnter:function(){Ue()},onBlur:function(){setTimeout(function(){on(!1)},1)},onChange:function(te){return xn(te)},ref:Ct}),y.createElement("span",{className:"dumi-default-search-shortcut"},He," K"),Ln.trim()&&tn&&!rt&&y.createElement("div",{className:"dumi-default-search-popover"},y.createElement("section",null,y.createElement(xe.Z,{data:ct,loading:ye}))),y.createElement(vt,{visible:rt,onMaskClick:function(){re(!1)},onClose:function(){return xn("")}},y.createElement("div",{style:{position:"relative"}},y.createElement(Ft,{className:"dumi-default-search-bar-svg"}),y.createElement(se,{onFocus:function(){return on(!0)},onBlur:function(){setTimeout(function(){on(!1)},1)},onChange:function(te){return xn(te)},ref:zt})),y.createElement(xe.Z,{data:ct,loading:ye,onItemSelect:function(){re(!1)}}),y.createElement("footer",null,y.createElement("ul",{className:"dumi-default-search-modal-commands"},y.createElement("li",{className:"dumi-default-search-modal-commands-arrow"},y.createElement("span",{className:"dumi-default-search-modal-shortcut"},y.createElement(nt,{width:"10px",height:"10px",fill:"rgba(0, 0, 0, 0.45)"})),y.createElement("span",{className:"dumi-default-search-modal-shortcut"},y.createElement(ae,{width:"10px",height:"10px",fill:"rgba(0, 0, 0, 0.45)"})),y.createElement("span",{className:"dumi-default-search-modal-commands-text"},"to navigate")),y.createElement("li",null,y.createElement("span",{className:"dumi-default-search-modal-shortcut"},"esc"),y.createElement("span",{className:"dumi-default-search-modal-commands-text"},"to close"))))))},xt=ut},74932:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return Le}});var y=T(67294),M=Object.defineProperty,k=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,ee=(J,de,we)=>de in J?M(J,de,{enumerable:!0,configurable:!0,writable:!0,value:we}):J[de]=we,w=(J,de)=>{for(var we in de||(de={}))me.call(de,we)&&ee(J,we,de[we]);if(k)for(var we of k(de))ne.call(de,we)&&ee(J,we,de[we]);return J};const ae=J=>y.createElement("svg",w({viewBox:"0 0 1024 1024"},J),y.createElement("path",{d:"m885.2 446.3-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0 0 60.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}));var Y="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48cGF0aCBkPSJtODg1LjIgNDQ2LjMtLjItLjgtMTEyLjItMjg1LjFjLTUtMTYuMS0xOS45LTI3LjItMzYuOC0yNy4ySDI4MS4yYy0xNyAwLTMyLjEgMTEuMy0zNi45IDI3LjZMMTM5LjQgNDQzbC0uMy43LS4yLjhjLTEuMyA0LjktMS43IDkuOS0xIDE0LjgtLjEgMS42LS4yIDMuMi0uMiA0LjhWODMwYTYwLjkgNjAuOSAwIDAgMCA2MC44IDYwLjhoNjI3LjJjMzMuNSAwIDYwLjgtMjcuMyA2MC45LTYwLjhWNDY0LjFjMC0xLjMgMC0yLjYtLjEtMy43LjQtNC45IDAtOS42LTEuMy0xNC4xem0tMjk1LjgtNDMtLjMgMTUuN2MtLjggNDQuOS0zMS44IDc1LjEtNzcuMSA3NS4xLTIyLjEgMC00MS4xLTcuMS01NC44LTIwLjZTNDM2IDQ0MS4yIDQzNS42IDQxOWwtLjMtMTUuN0gyMjkuNUwzMDkgMjEwaDM5OS4ybDgxLjcgMTkzLjNINTg5LjR6bS0zNzUgNzYuOGgxNTcuM2MyNC4zIDU3LjEgNzYgOTAuOCAxNDAuNCA5MC44IDMzLjcgMCA2NS05LjQgOTAuMy0yNy4yIDIyLjItMTUuNiAzOS41LTM3LjQgNTAuNy02My42aDE1Ni41VjgxNEgyMTQuNFY0ODAuMXoiLz48L3N2Zz4=",X=function(J,de,we,Ge){function ut(xt){return xt instanceof we?xt:new we(function(_e){_e(xt)})}return new(we||(we=Promise))(function(xt,_e){function Ae(on){try{tn(Ge.next(on))}catch(Ct){_e(Ct)}}function Ze(on){try{tn(Ge.throw(on))}catch(Ct){_e(Ct)}}function tn(on){on.done?xt(on.value):ut(on.value).then(Ae,Ze)}tn((Ge=Ge.apply(J,de||[])).next())})};function he(J){let de=0,we=0,Ge=J;do de+=Ge.offsetTop||0,we+=Ge.offsetLeft||0,Ge=Ge.offsetParent;while(Ge);return{top:de,left:we}}class ve{constructor(de){this.element=de}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(de,we){return he(de).left-he(we).left}getVerticalElementScrollOffset(de,we){return he(de).top-he(we).top}scrollTo(de,we){this.element.scrollLeft=de,this.element.scrollTop=we}}class pe{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(de){return(window.scrollX||document.documentElement.scrollLeft)+de.getBoundingClientRect().left}getVerticalElementScrollOffset(de){return(window.scrollY||document.documentElement.scrollTop)+de.getBoundingClientRect().top}scrollTo(de,we){window.scrollTo(de,we)}}const $e={elements:[],cancelMethods:[],add:(J,de)=>{$e.elements.push(J),$e.cancelMethods.push(de)},remove:(J,de)=>{const we=$e.elements.indexOf(J);we>-1&&(de&&$e.cancelMethods[we](),$e.elements.splice(we,1),$e.cancelMethods.splice(we,1))}},Tt=typeof window!="undefined",nt={cancelOnUserAction:!0,easing:J=>--J*J*J+1,elementToScroll:Tt?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};function ge(J){return X(this,arguments,void 0,function*(de,we={}){if(Tt){if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill."}else return new Promise(Ue=>{Ue(!1)});let Ge,ut,xt,_e=Object.assign(Object.assign({},nt),we);const Ae=_e.elementToScroll===window,Ze=!!_e.elementToScroll.nodeName;if(!Ae&&!Ze)throw"Element to scroll needs to be either window or DOM element.";const tn=[{property:"scroll-behavior",value:"smooth"},{property:"scroll-snap-type",value:"mandatory"}],on=Ae?document.documentElement:_e.elementToScroll,Ct=getComputedStyle(on);tn.forEach(({property:Ue,value:ht})=>{const Mt=Ct.getPropertyValue(Ue);Mt.includes(ht)&&console.warn(`${on.tagName} has "${Ue}: ${Mt}" which can break animated-scroll-to's animations`)});const zt=Ae?new pe:new ve(_e.elementToScroll);if(de instanceof Element){if(xt=de,Ze&&(!_e.elementToScroll.contains(xt)||_e.elementToScroll.isSameNode(xt)))throw"options.elementToScroll has to be a parent of scrollToElement";Ge=zt.getHorizontalElementScrollOffset(xt,_e.elementToScroll),ut=zt.getVerticalElementScrollOffset(xt,_e.elementToScroll)}else if(typeof de=="number")Ge=zt.getHorizontalScroll(),ut=de;else if(Array.isArray(de)&&de.length===2)Ge=de[0]===null?zt.getHorizontalScroll():de[0],ut=de[1]===null?zt.getVerticalScroll():de[1];else throw`Wrong function signature. Check documentation.
Available method signatures are:
  animateScrollTo(y:number, options)
  animateScrollTo([x:number | null, y:number | null], options)
  animateScrollTo(scrollToElement:Element, options)`;Ge+=_e.horizontalOffset,ut+=_e.verticalOffset;const mn=zt.getMaxHorizontalScroll(),Ke=zt.getHorizontalScroll();Ge>mn&&(Ge=mn);const He=Ge-Ke,Dt=zt.getMaxVerticalScroll(),un=zt.getVerticalScroll();ut>Dt&&(ut=Dt);const Ln=ut-un,xn=Math.abs(Math.round(He/1e3*_e.speed)),ct=Math.abs(Math.round(Ln/1e3*_e.speed));let ye=xn>ct?xn:ct;return ye<_e.minDuration?ye=_e.minDuration:ye>_e.maxDuration&&(ye=_e.maxDuration),new Promise((Ue,ht)=>{He===0&&Ln===0&&Ue(!0),$e.remove(zt.element,!0);let Mt;const rt=()=>{Ne(),cancelAnimationFrame(Mt),Ue(!1)};$e.add(zt.element,rt);const re=Rt=>Rt.preventDefault(),le=_e.cancelOnUserAction?rt:re,te=_e.cancelOnUserAction?{passive:!0}:{passive:!1},Pe=["wheel","touchstart","keydown","mousedown"],Ne=()=>{Pe.forEach(Rt=>{zt.element.removeEventListener(Rt,le,te)})};Pe.forEach(Rt=>{zt.element.addEventListener(Rt,le,te)});const At=Date.now(),jt=()=>{var Rt=Date.now()-At,Nt=Rt/ye;const vn=Math.round(Ke+He*_e.easing(Nt)),On=Math.round(un+Ln*_e.easing(Nt));Rt<ye&&(vn!==Ge||On!==ut)?(zt.scrollTo(vn,On),Mt=requestAnimationFrame(jt)):(zt.scrollTo(Ge,ut),cancelAnimationFrame(Mt),Ne(),$e.remove(zt.element,!1),Ue(!0))};Mt=requestAnimationFrame(jt)})})}var Be=ge,ze=T(54037);function tt(J,de){return Jt(J)||Ft(J,de)||Ye(J,de)||qe()}function qe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(J,de){if(J){if(typeof J=="string")return je(J,de);var we=Object.prototype.toString.call(J).slice(8,-1);if(we==="Object"&&J.constructor&&(we=J.constructor.name),we==="Map"||we==="Set")return Array.from(J);if(we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we))return je(J,de)}}function je(J,de){(de==null||de>J.length)&&(de=J.length);for(var we=0,Ge=new Array(de);we<de;we++)Ge[we]=J[we];return Ge}function Ft(J,de){var we=J==null?null:typeof Symbol!="undefined"&&J[Symbol.iterator]||J["@@iterator"];if(we!=null){var Ge,ut,xt,_e,Ae=[],Ze=!0,tn=!1;try{if(xt=(we=we.call(J)).next,de===0){if(Object(we)!==we)return;Ze=!1}else for(;!(Ze=(Ge=xt.call(we)).done)&&(Ae.push(Ge.value),Ae.length!==de);Ze=!0);}catch(on){tn=!0,ut=on}finally{try{if(!Ze&&we.return!=null&&(_e=we.return(),Object(_e)!==_e))return}finally{if(tn)throw ut}}return Ae}}function Jt(J){if(Array.isArray(J))return J}var ft=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M5.333 10.667h21.334c.889 0 1.333.444 1.333 1.333s-.444 1.333-1.333 1.333H5.333C4.444 13.333 4 12.89 4 12s.444-1.333 1.333-1.333Z"}),y.createElement("path",{d:"M13.207 2.667h.126a1.206 1.206 0 0 1 1.2 1.326l-2.413 24.14a1.333 1.333 0 0 1-1.327 1.2h-.126a1.206 1.206 0 0 1-1.2-1.326l2.413-24.14c.068-.682.642-1.2 1.327-1.2Zm8 0h.126a1.206 1.206 0 0 1 1.2 1.326l-2.413 24.14a1.333 1.333 0 0 1-1.327 1.2h-.126a1.206 1.206 0 0 1-1.2-1.326l2.413-24.14c.068-.682.642-1.2 1.327-1.2Z"}),y.createElement("path",{d:"M5.333 18.667h21.334c.889 0 1.333.444 1.333 1.333s-.444 1.333-1.333 1.333H5.333C4.444 21.333 4 20.89 4 20s.444-1.333 1.333-1.333Z"}))},xe=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M9.402 0h14.78L30 6.16V24.5c0 1.933-1.71 3.5-3.589 3.5H9.401C7.524 28 6 26.433 6 24.5v-21C6 1.567 7.523 0 9.402 0ZM23 2v4.183c0 .451.366.817.817.817H28l-5-5Zm3.333 24c.92 0 1.667-.768 1.667-1.714V8.857h-5c-.92 0-1.667-.767-1.667-1.714V2H9.667C8.747 2 8 2.768 8 3.714v20.572C8 25.232 8.746 26 9.667 26h16.666Z"}))},se=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M6.12 14.589h6.628l1.52 4.004h2.485l-5.938-15.19H8.053L2.115 18.732H4.6l1.52-4.143ZM8.88 6.855c.139-.414.277-.828.415-1.38h.138c0 .138.138.414.414 1.104 0 .138.138.276.138.276 0 .138.829 2.072 2.21 5.938H6.672c1.519-3.866 2.21-5.8 2.21-5.938Zm8.148 2.348h12.705v1.933H17.029V9.203ZM2.115 20.665h27.619v1.933H2.114v-1.933Zm14.914-5.662h12.705v1.933H17.029v-1.933ZM2.115 26.327h27.619v1.933H2.114v-1.933ZM17.029 3.54h12.705v1.934H17.029V3.54Z"}))},vt=function(){return y.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},y.createElement("path",{d:"M28 6h-5a5 5 0 0 0-10 0H8a2 2 0 0 0-2 2v5a5 5 0 0 0 0 10v5a2 2 0 0 0 2 2h7v-2a3 3 0 0 1 6 0v2h7a2 2 0 0 0 2-2v-7h-2a3 3 0 0 1 0-6h2V8a2 2 0 0 0-2-2Zm-5 12a5 5 0 0 0 5 5v5h-5a5 5 0 0 0-10 0H8v-7H6a3 3 0 0 1 0-6h2V8h7V6a3 3 0 0 1 6 0v2h7v5a5 5 0 0 0-5 5Z"}))},De={title:ft,page:xe,content:se,demo:vt},It=function(de){return y.createElement(y.Fragment,null,de.texts.map(function(we,Ge){return y.createElement(y.Fragment,{key:Ge},we.highlighted?y.createElement("mark",null,we.text):we.text)}))},wt=function(de){var we=(0,y.useCallback)(function(){var Ae=0,Ze=[];return de.forEach(function(tn){tn.title&&Ze.push({type:"title",value:{title:tn.title}}),tn.hints.forEach(function(on){Ze.push({type:"hint",activeIndex:Ae++,value:on})})}),[Ze,Ae]},[de]),Ge=(0,y.useState)(we),ut=tt(Ge,2),xt=ut[0],_e=ut[1];return(0,y.useEffect)(function(){_e(we)},[de]),xt},et=function(de){var we=wt(de.data),Ge=tt(we,2),ut=Ge[0],xt=Ge[1],_e=(0,y.useState)(-1),Ae=tt(_e,2),Ze=Ae[0],tn=Ae[1],on=(0,ze.TH)(),Ct=on.pathname,zt=function(He){var Dt;(Dt=de.onItemSelect)===null||Dt===void 0||Dt.call(de,He);var un=new URL(He==null?void 0:He.link,location.origin);(un==null?void 0:un.pathname)===Ct&&!un.hash&&setTimeout(function(){Be(0,{maxDuration:300})},1)};(0,y.useEffect)(function(){var Ke=function(Dt){if(Dt.key==="ArrowDown")tn((Ze+1)%xt);else if(Dt.key==="ArrowUp")tn((Ze+xt-1)%xt);else if(Dt.key==="Enter"&&Ze>=0){var un=ut.find(function(Ln){return Ln.type==="hint"&&Ln.activeIndex===Ze}).value;ze.m8.push(un.link),zt==null||zt(un),document.activeElement.blur()}["Escape","Enter"].includes(Dt.key)&&tn(-1)};return document.addEventListener("keydown",Ke),function(){return document.removeEventListener("keydown",Ke)}});var mn=null;return de.loading?mn=y.createElement("div",{className:"dumi-default-search-empty"},y.createElement(ae,null),y.createElement(ze._H,{id:"search.loading"})):de.data.length?mn=y.createElement("dl",null,ut.map(function(Ke,He){return Ke.type==="title"?y.createElement("dt",{key:String(He)},Ke.value.title):y.createElement("dd",{key:String(He)},y.createElement(ze.rU,{to:Ke.value.link,"data-active":Ze===Ke.activeIndex||void 0,onClick:function(){return zt==null?void 0:zt(Ke.value)}},y.createElement(De[Ke.value.type]),y.createElement("h4",null,y.createElement(It,{texts:Ke.value.highlightTitleTexts})),y.createElement("p",null,y.createElement(It,{texts:Ke.value.highlightTexts}))))})):mn=y.createElement("div",{className:"dumi-default-search-empty"},y.createElement(ae,null),y.createElement(ze._H,{id:"search.not.found"})),y.createElement("div",{className:"dumi-default-search-result",onMouseEnter:function(){return tn(-1)},onMouseDownCapture:function(He){return He.preventDefault()},onMouseUpCapture:function(){document.activeElement.blur()}},mn)},Le=et},83465:function(Xt,Me,T){Xt=T.nmd(Xt);var y=200,M="__lodash_hash_undefined__",k=9007199254740991,me="[object Arguments]",ne="[object Array]",ee="[object Boolean]",w="[object Date]",ae="[object Error]",Y="[object Function]",X="[object GeneratorFunction]",he="[object Map]",ve="[object Number]",pe="[object Object]",$e="[object Promise]",Tt="[object RegExp]",nt="[object Set]",ge="[object String]",Be="[object Symbol]",ze="[object WeakMap]",tt="[object ArrayBuffer]",qe="[object DataView]",Ye="[object Float32Array]",je="[object Float64Array]",Ft="[object Int8Array]",Jt="[object Int16Array]",ft="[object Int32Array]",xe="[object Uint8Array]",se="[object Uint8ClampedArray]",vt="[object Uint16Array]",De="[object Uint32Array]",It=/[\\^$.*+?()[\]{}|]/g,wt=/\w*$/,et=/^\[object .+?Constructor\]$/,Le=/^(?:0|[1-9]\d*)$/,J={};J[me]=J[ne]=J[tt]=J[qe]=J[ee]=J[w]=J[Ye]=J[je]=J[Ft]=J[Jt]=J[ft]=J[he]=J[ve]=J[pe]=J[Tt]=J[nt]=J[ge]=J[Be]=J[xe]=J[se]=J[vt]=J[De]=!0,J[ae]=J[Y]=J[ze]=!1;var de=typeof T.g=="object"&&T.g&&T.g.Object===Object&&T.g,we=typeof self=="object"&&self&&self.Object===Object&&self,Ge=de||we||Function("return this")(),ut=Me&&!Me.nodeType&&Me,xt=ut&&!0&&Xt&&!Xt.nodeType&&Xt,_e=xt&&xt.exports===ut;function Ae(B,Te){return B.set(Te[0],Te[1]),B}function Ze(B,Te){return B.add(Te),B}function tn(B,Te){for(var We=-1,_t=B?B.length:0;++We<_t&&Te(B[We],We,B)!==!1;);return B}function on(B,Te){for(var We=-1,_t=Te.length,Tn=B.length;++We<_t;)B[Tn+We]=Te[We];return B}function Ct(B,Te,We,_t){var Tn=-1,Oi=B?B.length:0;for(_t&&Oi&&(We=B[++Tn]);++Tn<Oi;)We=Te(We,B[Tn],Tn,B);return We}function zt(B,Te){for(var We=-1,_t=Array(B);++We<B;)_t[We]=Te(We);return _t}function mn(B,Te){return B==null?void 0:B[Te]}function Ke(B){var Te=!1;if(B!=null&&typeof B.toString!="function")try{Te=!!(B+"")}catch(We){}return Te}function He(B){var Te=-1,We=Array(B.size);return B.forEach(function(_t,Tn){We[++Te]=[Tn,_t]}),We}function Dt(B,Te){return function(We){return B(Te(We))}}function un(B){var Te=-1,We=Array(B.size);return B.forEach(function(_t){We[++Te]=_t}),We}var Ln=Array.prototype,xn=Function.prototype,ct=Object.prototype,ye=Ge["__core-js_shared__"],Ue=function(){var B=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||"");return B?"Symbol(src)_1."+B:""}(),ht=xn.toString,Mt=ct.hasOwnProperty,rt=ct.toString,re=RegExp("^"+ht.call(Mt).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=_e?Ge.Buffer:void 0,te=Ge.Symbol,Pe=Ge.Uint8Array,Ne=Dt(Object.getPrototypeOf,Object),At=Object.create,jt=ct.propertyIsEnumerable,Rt=Ln.splice,Nt=Object.getOwnPropertySymbols,vn=le?le.isBuffer:void 0,On=Dt(Object.keys,Object),Yt=ti(Ge,"DataView"),Ee=ti(Ge,"Map"),Vt=ti(Ge,"Promise"),Wt=ti(Ge,"Set"),Sn=ti(Ge,"WeakMap"),kt=ti(Object,"create"),nn=fi(Yt),ir=fi(Ee),jn=fi(Vt),yr=fi(Wt),Ve=fi(Sn),pn=te?te.prototype:void 0,Cn=pn?pn.valueOf:void 0;function Rn(B){var Te=-1,We=B?B.length:0;for(this.clear();++Te<We;){var _t=B[Te];this.set(_t[0],_t[1])}}function En(){this.__data__=kt?kt(null):{}}function sr(B){return this.has(B)&&delete this.__data__[B]}function Br(B){var Te=this.__data__;if(kt){var We=Te[B];return We===M?void 0:We}return Mt.call(Te,B)?Te[B]:void 0}function Wn(B){var Te=this.__data__;return kt?Te[B]!==void 0:Mt.call(Te,B)}function Yr(B,Te){var We=this.__data__;return We[B]=kt&&Te===void 0?M:Te,this}Rn.prototype.clear=En,Rn.prototype.delete=sr,Rn.prototype.get=Br,Rn.prototype.has=Wn,Rn.prototype.set=Yr;function er(B){var Te=-1,We=B?B.length:0;for(this.clear();++Te<We;){var _t=B[Te];this.set(_t[0],_t[1])}}function Pr(){this.__data__=[]}function Dr(B){var Te=this.__data__,We=an(Te,B);if(We<0)return!1;var _t=Te.length-1;return We==_t?Te.pop():Rt.call(Te,We,1),!0}function yi(B){var Te=this.__data__,We=an(Te,B);return We<0?void 0:Te[We][1]}function Si(B){return an(this.__data__,B)>-1}function _i(B,Te){var We=this.__data__,_t=an(We,B);return _t<0?We.push([B,Te]):We[_t][1]=Te,this}er.prototype.clear=Pr,er.prototype.delete=Dr,er.prototype.get=yi,er.prototype.has=Si,er.prototype.set=_i;function Or(B){var Te=-1,We=B?B.length:0;for(this.clear();++Te<We;){var _t=B[Te];this.set(_t[0],_t[1])}}function Vn(){this.__data__={hash:new Rn,map:new(Ee||er),string:new Rn}}function dt(B){return Kr(this,B).delete(B)}function Un(B){return Kr(this,B).get(B)}function Se(B){return Kr(this,B).has(B)}function Qe(B,Te){return Kr(this,B).set(B,Te),this}Or.prototype.clear=Vn,Or.prototype.delete=dt,Or.prototype.get=Un,Or.prototype.has=Se,Or.prototype.set=Qe;function Ot(B){this.__data__=new er(B)}function it(){this.__data__=new er}function H(B){return this.__data__.delete(B)}function Ce(B){return this.__data__.get(B)}function Ie(B){return this.__data__.has(B)}function ue(B,Te){var We=this.__data__;if(We instanceof er){var _t=We.__data__;if(!Ee||_t.length<y-1)return _t.push([B,Te]),this;We=this.__data__=new Or(_t)}return We.set(B,Te),this}Ot.prototype.clear=it,Ot.prototype.delete=H,Ot.prototype.get=Ce,Ot.prototype.has=Ie,Ot.prototype.set=ue;function Fe(B,Te){var We=ma(B)||Da(B)?zt(B.length,String):[],_t=We.length,Tn=!!_t;for(var Oi in B)(Te||Mt.call(B,Oi))&&!(Tn&&(Oi=="length"||wi(Oi,_t)))&&We.push(Oi);return We}function gt(B,Te,We){var _t=B[Te];(!(Mt.call(B,Te)&&da(_t,We))||We===void 0&&!(Te in B))&&(B[Te]=We)}function an(B,Te){for(var We=B.length;We--;)if(da(B[We][0],Te))return We;return-1}function _n(B,Te){return B&&xr(Te,be(Te),B)}function Ut(B,Te,We,_t,Tn,Oi,Hi){var ke;if(_t&&(ke=Oi?_t(B,Tn,Oi,Hi):_t(B)),ke!==void 0)return ke;if(!Li(B))return B;var Aa=ma(B);if(Aa){if(ke=$i(B),!Te)return Tr(B,ke)}else{var ri=wn(B),ss=ri==Y||ri==X;if(fn(B))return _r(B,Te);if(ri==pe||ri==me||ss&&!Oi){if(Ke(B))return Oi?B:{};if(ke=mi(ss?{}:B),!Te)return yn(B,_n(ke,B))}else{if(!J[ri])return Oi?B:{};ke=ji(B,ri,Ut,Te)}}Hi||(Hi=new Ot);var Ia=Hi.get(B);if(Ia)return Ia;if(Hi.set(B,ke),!Aa)var Uo=We?ur(B):be(B);return tn(Uo||B,function($o,Mo){Uo&&(Mo=$o,$o=B[Mo]),gt(ke,Mo,Ut($o,Te,We,_t,Mo,B,Hi))}),ke}function qt(B){return Li(B)?At(B):{}}function Zt(B,Te,We){var _t=Te(B);return ma(B)?_t:on(_t,We(B))}function Dn(B){return rt.call(B)}function sn(B){if(!Li(B)||ga(B))return!1;var Te=Qa(B)||Ke(B)?re:et;return Te.test(fi(B))}function Rr(B){if(!Ji(B))return On(B);var Te=[];for(var We in Object(B))Mt.call(B,We)&&We!="constructor"&&Te.push(We);return Te}function _r(B,Te){if(Te)return B.slice();var We=new B.constructor(B.length);return B.copy(We),We}function br(B){var Te=new B.constructor(B.byteLength);return new Pe(Te).set(new Pe(B)),Te}function Mr(B,Te){var We=Te?br(B.buffer):B.buffer;return new B.constructor(We,B.byteOffset,B.byteLength)}function St(B,Te,We){var _t=Te?We(He(B),!0):He(B);return Ct(_t,Ae,new B.constructor)}function ar(B){var Te=new B.constructor(B.source,wt.exec(B));return Te.lastIndex=B.lastIndex,Te}function Nn(B,Te,We){var _t=Te?We(un(B),!0):un(B);return Ct(_t,Ze,new B.constructor)}function Hn(B){return Cn?Object(Cn.call(B)):{}}function Qn(B,Te){var We=Te?br(B.buffer):B.buffer;return new B.constructor(We,B.byteOffset,B.length)}function Tr(B,Te){var We=-1,_t=B.length;for(Te||(Te=Array(_t));++We<_t;)Te[We]=B[We];return Te}function xr(B,Te,We,_t){We||(We={});for(var Tn=-1,Oi=Te.length;++Tn<Oi;){var Hi=Te[Tn],ke=_t?_t(We[Hi],B[Hi],Hi,We,B):void 0;gt(We,Hi,ke===void 0?B[Hi]:ke)}return We}function yn(B,Te){return xr(B,Mn(B),Te)}function ur(B){return Zt(B,be,Mn)}function Kr(B,Te){var We=B.__data__;return Di(Te)?We[typeof Te=="string"?"string":"hash"]:We.map}function ti(B,Te){var We=mn(B,Te);return sn(We)?We:void 0}var Mn=Nt?Dt(Nt,Object):Bn,wn=Dn;(Yt&&wn(new Yt(new ArrayBuffer(1)))!=qe||Ee&&wn(new Ee)!=he||Vt&&wn(Vt.resolve())!=$e||Wt&&wn(new Wt)!=nt||Sn&&wn(new Sn)!=ze)&&(wn=function(B){var Te=rt.call(B),We=Te==pe?B.constructor:void 0,_t=We?fi(We):void 0;if(_t)switch(_t){case nn:return qe;case ir:return he;case jn:return $e;case yr:return nt;case Ve:return ze}return Te});function $i(B){var Te=B.length,We=B.constructor(Te);return Te&&typeof B[0]=="string"&&Mt.call(B,"index")&&(We.index=B.index,We.input=B.input),We}function mi(B){return typeof B.constructor=="function"&&!Ji(B)?qt(Ne(B)):{}}function ji(B,Te,We,_t){var Tn=B.constructor;switch(Te){case tt:return br(B);case ee:case w:return new Tn(+B);case qe:return Mr(B,_t);case Ye:case je:case Ft:case Jt:case ft:case xe:case se:case vt:case De:return Qn(B,_t);case he:return St(B,_t,We);case ve:case ge:return new Tn(B);case Tt:return ar(B);case nt:return Nn(B,_t,We);case Be:return Hn(B)}}function wi(B,Te){return Te=Te==null?k:Te,!!Te&&(typeof B=="number"||Le.test(B))&&B>-1&&B%1==0&&B<Te}function Di(B){var Te=typeof B;return Te=="string"||Te=="number"||Te=="symbol"||Te=="boolean"?B!=="__proto__":B===null}function ga(B){return!!Ue&&Ue in B}function Ji(B){var Te=B&&B.constructor,We=typeof Te=="function"&&Te.prototype||ct;return B===We}function fi(B){if(B!=null){try{return ht.call(B)}catch(Te){}try{return B+""}catch(Te){}}return""}function Gr(B){return Ut(B,!0,!0)}function da(B,Te){return B===Te||B!==B&&Te!==Te}function Da(B){return ya(B)&&Mt.call(B,"callee")&&(!jt.call(B,"callee")||rt.call(B)==me)}var ma=Array.isArray;function la(B){return B!=null&&eo(B.length)&&!Qa(B)}function ya(B){return gr(B)&&la(B)}var fn=vn||ra;function Qa(B){var Te=Li(B)?rt.call(B):"";return Te==Y||Te==X}function eo(B){return typeof B=="number"&&B>-1&&B%1==0&&B<=k}function Li(B){var Te=typeof B;return!!B&&(Te=="object"||Te=="function")}function gr(B){return!!B&&typeof B=="object"}function be(B){return la(B)?Fe(B):Rr(B)}function Bn(){return[]}function ra(){return!1}Xt.exports=Gr},50010:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return ft}});var y=T(1413),M=T(97685),k=T(67294),me=T(54535),ne=T(8410),ee=T(4942),w=T(87462),ae=T(94184),Y=T.n(ae),X=T(9402),he=T(15105),ve=T(64217),pe=k.createContext(null),$e=pe,Tt=function(se){var vt=se.prefixCls,De=se.className,It=se.style,wt=se.children,et=se.containerRef,Le=se.onMouseEnter,J=se.onMouseOver,de=se.onMouseLeave,we=se.onClick,Ge=se.onKeyDown,ut=se.onKeyUp,xt={onMouseEnter:Le,onMouseOver:J,onMouseLeave:de,onClick:we,onKeyDown:Ge,onKeyUp:ut};return k.createElement(k.Fragment,null,k.createElement("div",(0,w.Z)({className:Y()("".concat(vt,"-content"),De),style:(0,y.Z)({},It),"aria-modal":"true",role:"dialog",ref:et},xt),wt))},nt=Tt,ge=T(80334);function Be(xe){return typeof xe=="string"&&String(Number(xe))===xe?((0,ge.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(xe)):xe}function ze(xe){warning(!("wrapperClassName"in xe),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!xe.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var tt={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function qe(xe,se){var vt,De,It,wt,et=xe.prefixCls,Le=xe.open,J=xe.placement,de=xe.inline,we=xe.push,Ge=xe.forceRender,ut=xe.autoFocus,xt=xe.keyboard,_e=xe.rootClassName,Ae=xe.rootStyle,Ze=xe.zIndex,tn=xe.className,on=xe.style,Ct=xe.motion,zt=xe.width,mn=xe.height,Ke=xe.children,He=xe.contentWrapperStyle,Dt=xe.mask,un=xe.maskClosable,Ln=xe.maskMotion,xn=xe.maskClassName,ct=xe.maskStyle,ye=xe.afterOpenChange,Ue=xe.onClose,ht=xe.onMouseEnter,Mt=xe.onMouseOver,rt=xe.onMouseLeave,re=xe.onClick,le=xe.onKeyDown,te=xe.onKeyUp,Pe=k.useRef(),Ne=k.useRef(),At=k.useRef();k.useImperativeHandle(se,function(){return Pe.current});var jt=function(pn){var Cn=pn.keyCode,Rn=pn.shiftKey;switch(Cn){case he.Z.TAB:{if(Cn===he.Z.TAB){if(!Rn&&document.activeElement===At.current){var En;(En=Ne.current)===null||En===void 0||En.focus({preventScroll:!0})}else if(Rn&&document.activeElement===Ne.current){var sr;(sr=At.current)===null||sr===void 0||sr.focus({preventScroll:!0})}}break}case he.Z.ESC:{Ue&&xt&&(pn.stopPropagation(),Ue(pn));break}}};k.useEffect(function(){if(Le&&ut){var Ve;(Ve=Pe.current)===null||Ve===void 0||Ve.focus({preventScroll:!0})}},[Le]);var Rt=k.useState(!1),Nt=(0,M.Z)(Rt,2),vn=Nt[0],On=Nt[1],Yt=k.useContext($e),Ee;we===!1?Ee={distance:0}:we===!0?Ee={}:Ee=we||{};var Vt=(vt=(De=(It=Ee)===null||It===void 0?void 0:It.distance)!==null&&De!==void 0?De:Yt==null?void 0:Yt.pushDistance)!==null&&vt!==void 0?vt:180,Wt=k.useMemo(function(){return{pushDistance:Vt,push:function(){On(!0)},pull:function(){On(!1)}}},[Vt]);k.useEffect(function(){if(Le){var Ve;Yt==null||(Ve=Yt.push)===null||Ve===void 0||Ve.call(Yt)}else{var pn;Yt==null||(pn=Yt.pull)===null||pn===void 0||pn.call(Yt)}},[Le]),k.useEffect(function(){return function(){var Ve;Yt==null||(Ve=Yt.pull)===null||Ve===void 0||Ve.call(Yt)}},[]);var Sn=Dt&&k.createElement(X.default,(0,w.Z)({key:"mask"},Ln,{visible:Le}),function(Ve,pn){var Cn=Ve.className,Rn=Ve.style;return k.createElement("div",{className:Y()("".concat(et,"-mask"),Cn,xn),style:(0,y.Z)((0,y.Z)({},Rn),ct),onClick:un&&Le?Ue:void 0,ref:pn})}),kt=typeof Ct=="function"?Ct(J):Ct,nn={};if(vn&&Vt)switch(J){case"top":nn.transform="translateY(".concat(Vt,"px)");break;case"bottom":nn.transform="translateY(".concat(-Vt,"px)");break;case"left":nn.transform="translateX(".concat(Vt,"px)");break;default:nn.transform="translateX(".concat(-Vt,"px)");break}J==="left"||J==="right"?nn.width=Be(zt):nn.height=Be(mn);var ir={onMouseEnter:ht,onMouseOver:Mt,onMouseLeave:rt,onClick:re,onKeyDown:le,onKeyUp:te},jn=k.createElement(X.default,(0,w.Z)({key:"panel"},kt,{visible:Le,forceRender:Ge,onVisibleChanged:function(pn){ye==null||ye(pn)},removeOnLeave:!1,leavedClassName:"".concat(et,"-content-wrapper-hidden")}),function(Ve,pn){var Cn=Ve.className,Rn=Ve.style;return k.createElement("div",(0,w.Z)({className:Y()("".concat(et,"-content-wrapper"),Cn),style:(0,y.Z)((0,y.Z)((0,y.Z)({},nn),Rn),He)},(0,ve.Z)(xe,{data:!0})),k.createElement(nt,(0,w.Z)({containerRef:pn,prefixCls:et,className:tn,style:on},ir),Ke))}),yr=(0,y.Z)({},Ae);return Ze&&(yr.zIndex=Ze),k.createElement($e.Provider,{value:Wt},k.createElement("div",{className:Y()(et,"".concat(et,"-").concat(J),_e,(wt={},(0,ee.Z)(wt,"".concat(et,"-open"),Le),(0,ee.Z)(wt,"".concat(et,"-inline"),de),wt)),style:yr,tabIndex:-1,ref:Pe,onKeyDown:jt},Sn,k.createElement("div",{tabIndex:0,ref:Ne,style:tt,"aria-hidden":"true","data-sentinel":"start"}),jn,k.createElement("div",{tabIndex:0,ref:At,style:tt,"aria-hidden":"true","data-sentinel":"end"})))}var Ye=k.forwardRef(qe),je=Ye,Ft=function(se){var vt=se.open,De=vt===void 0?!1:vt,It=se.prefixCls,wt=It===void 0?"rc-drawer":It,et=se.placement,Le=et===void 0?"right":et,J=se.autoFocus,de=J===void 0?!0:J,we=se.keyboard,Ge=we===void 0?!0:we,ut=se.width,xt=ut===void 0?378:ut,_e=se.mask,Ae=_e===void 0?!0:_e,Ze=se.maskClosable,tn=Ze===void 0?!0:Ze,on=se.getContainer,Ct=se.forceRender,zt=se.afterOpenChange,mn=se.destroyOnClose,Ke=se.onMouseEnter,He=se.onMouseOver,Dt=se.onMouseLeave,un=se.onClick,Ln=se.onKeyDown,xn=se.onKeyUp,ct=k.useState(!1),ye=(0,M.Z)(ct,2),Ue=ye[0],ht=ye[1],Mt=k.useState(!1),rt=(0,M.Z)(Mt,2),re=rt[0],le=rt[1];(0,ne.Z)(function(){le(!0)},[]);var te=re?De:!1,Pe=k.useRef(),Ne=k.useRef();(0,ne.Z)(function(){te&&(Ne.current=document.activeElement)},[te]);var At=function(vn){var On;if(ht(vn),zt==null||zt(vn),!vn&&Ne.current&&!(!((On=Pe.current)===null||On===void 0)&&On.contains(Ne.current))){var Yt;(Yt=Ne.current)===null||Yt===void 0||Yt.focus({preventScroll:!0})}};if(!Ct&&!Ue&&!te&&mn)return null;var jt={onMouseEnter:Ke,onMouseOver:He,onMouseLeave:Dt,onClick:un,onKeyDown:Ln,onKeyUp:xn},Rt=(0,y.Z)((0,y.Z)({},se),{},{open:te,prefixCls:wt,placement:Le,autoFocus:de,keyboard:Ge,width:xt,mask:Ae,maskClosable:tn,inline:on===!1,afterOpenChange:At,ref:Pe},jt);return k.createElement(me.Z,{open:te||Ct||Ue,autoDestroy:!1,getContainer:on,autoLock:Ae&&(te||Ue)},k.createElement(je,Rt))},Jt=Ft,ft=Jt},91298:function(Xt,Me,T){"use strict";T.d(Me,{Z:function(){return he}});var y=T(1413),M=T(4942),k=T(91),me=T(67294),ne=T(94184),ee=T.n(ne),w=function(pe){var $e=pe.prefixCls,Tt=pe.icon,nt=pe.title,ge=pe.items,Be=ge===void 0?[]:ge,ze=pe.style,tt=pe.className;return me.createElement("div",{className:ee()("".concat($e,"-column"),tt),style:ze},(nt||Tt)&&me.createElement("h2",null,Tt&&me.createElement("span",{className:"".concat($e,"-column-icon")},Tt),nt),Be.map(function(qe,Ye){var je=qe.LinkComponent||"a";return me.createElement("div",{className:ee()("".concat($e,"-item"),qe.className),style:qe.style,key:Ye},me.createElement(je,{href:qe.url,to:typeof je!="string"?qe.url:void 0,target:qe.openExternal?"_blank":void 0,rel:qe.openExternal?"noopener noreferrer":void 0},qe.icon&&me.createElement("span",{className:"".concat($e,"-item-icon")},qe.icon),qe.title),qe.description&&me.createElement(me.Fragment,null,me.createElement("span",{className:"".concat($e,"-item-separator")},"-"),me.createElement("span",{className:"".concat($e,"-item-description")},qe.description)))}))},ae=w,Y=["prefixCls","className","style","bottom","columns","maxColumnsPerRow","backgroundColor","columnLayout","theme"],X=function(pe){var $e=pe.prefixCls,Tt=$e===void 0?"rc-footer":$e,nt=pe.className,ge=pe.style,Be=pe.bottom,ze=pe.columns,tt=pe.maxColumnsPerRow,qe=pe.backgroundColor,Ye=pe.columnLayout,je=pe.theme,Ft=je===void 0?"dark":je,Jt=(0,k.Z)(pe,Y),ft=ee()("".concat(Tt),nt,(0,M.Z)({},"".concat(Tt,"-").concat(Ft),!!Ft)),xe=typeof tt=="number"&&tt>0;return me.createElement("footer",(0,y.Z)((0,y.Z)({},Jt),{},{className:ft,style:(0,y.Z)((0,y.Z)({},ge),{},{backgroundColor:qe})}),me.createElement("section",{className:"".concat(Tt,"-container")},ze&&ze.length>0&&me.createElement("section",{className:"".concat(Tt,"-columns"),style:{justifyContent:Ye,flexWrap:xe?"wrap":void 0}},ze.map(function(se,vt){var De=se.title,It=se.icon,wt=se.style,et=se.className,Le=se.items,J=Le===void 0?[]:Le,de=(0,y.Z)({},wt);return xe&&(de.flex="0 0 ".concat(100/(tt+1)+.1,"%")),me.createElement(ae,{key:vt,prefixCls:Tt,title:De,icon:It,items:J,style:de,className:et})}))),Be&&me.createElement("section",{className:"".concat(Tt,"-bottom")},me.createElement("div",{className:"".concat(Tt,"-bottom-container")},Be)))},he=X},92419:function(Xt,Me,T){"use strict";T.d(Me,{G:function(){return me},Z:function(){return ge}});var y=T(94184),M=T.n(y),k=T(67294);function me(Be){var ze=Be.children,tt=Be.prefixCls,qe=Be.id,Ye=Be.overlayInnerStyle,je=Be.className,Ft=Be.style;return k.createElement("div",{className:M()("".concat(tt,"-content"),je),style:Ft},k.createElement("div",{className:"".concat(tt,"-inner"),id:qe,role:"tooltip",style:Ye},typeof ze=="function"?ze():ze))}var ne=T(87462),ee=T(1413),w=T(91),ae=T(6997),Y={shiftX:64,adjustY:1},X={adjustX:1,shiftY:!0},he=[0,0],ve={left:{points:["cr","cl"],overflow:X,offset:[-4,0],targetOffset:he},right:{points:["cl","cr"],overflow:X,offset:[4,0],targetOffset:he},top:{points:["bc","tc"],overflow:Y,offset:[0,-4],targetOffset:he},bottom:{points:["tc","bc"],overflow:Y,offset:[0,4],targetOffset:he},topLeft:{points:["bl","tl"],overflow:Y,offset:[0,-4],targetOffset:he},leftTop:{points:["tr","tl"],overflow:X,offset:[-4,0],targetOffset:he},topRight:{points:["br","tr"],overflow:Y,offset:[0,-4],targetOffset:he},rightTop:{points:["tl","tr"],overflow:X,offset:[4,0],targetOffset:he},bottomRight:{points:["tr","br"],overflow:Y,offset:[0,4],targetOffset:he},rightBottom:{points:["bl","br"],overflow:X,offset:[4,0],targetOffset:he},bottomLeft:{points:["tl","bl"],overflow:Y,offset:[0,4],targetOffset:he},leftBottom:{points:["br","bl"],overflow:X,offset:[-4,0],targetOffset:he}},pe=null,$e=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Tt=function(ze,tt){var qe=ze.overlayClassName,Ye=ze.trigger,je=Ye===void 0?["hover"]:Ye,Ft=ze.mouseEnterDelay,Jt=Ft===void 0?0:Ft,ft=ze.mouseLeaveDelay,xe=ft===void 0?.1:ft,se=ze.overlayStyle,vt=ze.prefixCls,De=vt===void 0?"rc-tooltip":vt,It=ze.children,wt=ze.onVisibleChange,et=ze.afterVisibleChange,Le=ze.transitionName,J=ze.animation,de=ze.motion,we=ze.placement,Ge=we===void 0?"right":we,ut=ze.align,xt=ut===void 0?{}:ut,_e=ze.destroyTooltipOnHide,Ae=_e===void 0?!1:_e,Ze=ze.defaultVisible,tn=ze.getTooltipContainer,on=ze.overlayInnerStyle,Ct=ze.arrowContent,zt=ze.overlay,mn=ze.id,Ke=ze.showArrow,He=Ke===void 0?!0:Ke,Dt=(0,w.Z)(ze,$e),un=(0,k.useRef)(null);(0,k.useImperativeHandle)(tt,function(){return un.current});var Ln=(0,ee.Z)({},Dt);"visible"in ze&&(Ln.popupVisible=ze.visible);var xn=function(){return k.createElement(me,{key:"content",prefixCls:De,id:mn,overlayInnerStyle:on},zt)};return k.createElement(ae.Z,(0,ne.Z)({popupClassName:qe,prefixCls:De,popup:xn,action:je,builtinPlacements:ve,popupPlacement:Ge,ref:un,popupAlign:xt,getPopupContainer:tn,onPopupVisibleChange:wt,afterPopupVisibleChange:et,popupTransitionName:Le,popupAnimation:J,popupMotion:de,defaultPopupVisible:Ze,autoDestroy:Ae,mouseLeaveDelay:xe,popupStyle:se,mouseEnterDelay:Jt,arrow:He},Ln),It)},nt=(0,k.forwardRef)(Tt),ge=nt},75251:function(Xt,Me,T){"use strict";var y;var M=T(67294),k=Symbol.for("react.element"),me=Symbol.for("react.fragment"),ne=Object.prototype.hasOwnProperty,ee=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function ae(Y,X,he){var ve,pe={},$e=null,Tt=null;he!==void 0&&($e=""+he),X.key!==void 0&&($e=""+X.key),X.ref!==void 0&&(Tt=X.ref);for(ve in X)ne.call(X,ve)&&!w.hasOwnProperty(ve)&&(pe[ve]=X[ve]);if(Y&&Y.defaultProps)for(ve in X=Y.defaultProps,X)pe[ve]===void 0&&(pe[ve]=X[ve]);return{$$typeof:k,type:Y,key:$e,ref:Tt,props:pe,_owner:ee.current}}y=me,Me.jsx=ae,Me.jsxs=ae},85893:function(Xt,Me,T){"use strict";Xt.exports=T(75251)},87256:function(Xt,Me,T){"use strict";T.d(Me,{J5N:function(){return rv}});function y(i,o,r,e,t,n,a){try{var s=i[n](a),l=s.value}catch(c){r(c);return}s.done?o(l):Promise.resolve(l).then(e,t)}function M(i){return function(){var o=this,r=arguments;return new Promise(function(e,t){var n=i.apply(o,r);function a(l){y(n,e,t,a,s,"next",l)}function s(l){y(n,e,t,a,s,"throw",l)}a(void 0)})}}function k(i,o){return o!=null&&typeof Symbol!="undefined"&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](i):k(i,o)}function me(i){"@swc/helpers - typeof";return i&&typeof Symbol!="undefined"&&i.constructor===Symbol?"symbol":typeof i}function ne(i,o,r,e){var t=arguments.length,n=t<3?o:e===null?e=Object.getOwnPropertyDescriptor(o,r):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(i,o,r,e);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(n=(t<3?a(n):t>3?a(o,r,n):a(o,r))||n);return t>3&&n&&Object.defineProperty(o,r,n),n}function ee(i,o){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},e,t,n,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return l([c,h])}}function l(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(e=1,t&&(n=c[0]&2?t.return:c[0]?t.throw||((n=t.return)&&n.call(t),0):t.next)&&!(n=n.call(t,c[1])).done)return n;switch(t=0,n&&(c=[c[0]&2,n.value]),c[0]){case 0:case 1:n=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,t=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){r.label=c[1];break}if(c[0]===6&&r.label<n[1]){r.label=n[1],n=c;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(c);break}n[2]&&r.ops.pop(),r.trys.pop();continue}c=o.call(i,r)}catch(h){c=[6,h],t=0}finally{e=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var w,ae=new Uint8Array(16);function Y(){if(!w&&(w=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!w))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(ae)}for(var X=[],he=0;he<256;++he)X.push((he+256).toString(16).slice(1));function ve(i,o){return o===void 0&&(o=0),X[i[o+0]]+X[i[o+1]]+X[i[o+2]]+X[i[o+3]]+"-"+X[i[o+4]]+X[i[o+5]]+"-"+X[i[o+6]]+X[i[o+7]]+"-"+X[i[o+8]]+X[i[o+9]]+"-"+X[i[o+10]]+X[i[o+11]]+X[i[o+12]]+X[i[o+13]]+X[i[o+14]]+X[i[o+15]]}var pe=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$e={randomUUID:pe};function Tt(i,o,r){if($e.randomUUID&&!o&&!i)return $e.randomUUID();i=i||{};var e=i.random||(i.rng||Y)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,o){r=r||0;for(var t=0;t<16;++t)o[r+t]=e[t];return o}return ve(e)}function nt(i,o){return i.includes(o)||i.push(o),i}function ge(i,o){var r=i.indexOf(o);return r>-1&&i.splice(r,1),i}function Be(i,o,r,e){if(e===void 0&&(e=!1),!i.includes(o)&&(i.push(o),i.length!==1)){var t=i.length-1;if(t){var n=i[t];if(e)for(;i[t-1][r]<n[r]&&(i[t]=i[t-1],t--,t!==0););else for(;i[t-1][r]>n[r]&&(i[t]=i[t-1],t--,t!==0););i[t]=n}}}function ze(i,o,r,e){e===void 0&&(e=1);var t=i.buffer;if(t.byteLength<i.BYTES_PER_ELEMENT*o){var n=Math.ceil(o*e);Number.isNaN(r)||(n=Math.min(n,r));var a=new ArrayBuffer(i.BYTES_PER_ELEMENT*n),s=new i.constructor(a);return s.set(i),s}return i}function tt(i,o){var r=[0,0,0,0];if(Ln(i)){i=i.replace(/[\s\t\r\n]/g,"");var e=/rgba?\(([.\d]+),([.\d]+),([.\d]+),?([.\d]+)?\)/.exec(i);if(e){var t=+e[4];r=[+e[1],+e[2],+e[3],isNaN(t)?255:t*255]}else/^#[a-f\d]{3}$/i.test(i)?r=[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),255]:(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))&&(r=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255])}else k(i,Array)&&(r=[i[0],i[1],i[2],isNaN(i[3])?255:i[3]]);if(o)for(var n=0;n<4;n++)r[n]/=255;return r}function qe(i,o,r){if(i.length){for(var e,t=1;t<=i.length-1;t++){var n=i[t-1],a=i[t];if(n.stop<=o&&o<=a.stop){e=je(n.color,a.color,(o-n.stop)/(a.stop-n.stop));break}}return e||(e=i[i.length-1].color),r?e.map(function(s){return s/255}):e}return[0,0,0,0]}function Ye(i){var o=[];if(k(i,Array)?i.forEach(function(e){var t=e[0],n=e[1],a=e[2],s=e[3],l=e[4];o.push({stop:Ft(t),color:[n,a,s,l]})}):Object.keys(i).forEach(function(e){var t=i[e],n=tt(t);o.push({stop:Ft(e),color:n})}),o=o.sort(function(e,t){return e.stop-t.stop}),o.length){o[0].stop!==0&&o.unshift({stop:0,color:o[0].color.slice()});var r=o[o.length-1];r.stop!==1&&o.push({stop:1,color:r.color.slice()})}return o}function je(i,o,r,e){var t=[],n=1-r;if(e)for(var a=0;a<4;a++)t[a]=i[a]*n+o[a]*r;else{for(var s=0;s<3;s++)t[s]=Math.round(Math.sqrt(i[s]*i[s]*n+o[s]*o[s]*r));t[3]=Math.round(i[3]*n+o[3]*r)}return t}function Ft(i){var o=/^(-)?([\d+.]+)%$/.exec(i);return o?+o[2]/100*(o[1]?-1:1):+i}function Jt(){if(typeof screen=="object"&&typeof document=="object"){var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=screen.width,r=o/i;return Math.min(2*r,2)}return 1}function ft(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}function xe(){var i=navigator.userAgent.toLowerCase(),o=i.match(/cpu (iphone )?os (.*?) like mac os/);return o?parseInt(o[2],10):0}function se(){return/\b[Aa]ndroid\b/.test(navigator.userAgent)}function vt(){return se()||/\b(iPad|iPhone|iPod)\b/.test(navigator.userAgent)}function De(){return It()||wt()}function It(){var i;return typeof my!="undefined"&&((i=my)==null?void 0:i.renderTarget)==="web"}function wt(){return window.__wxjs_environment==="miniprogram"}function et(i){Ln(i)&&(i=tt(i));for(var o=i,r={width:1,height:1,data:new Uint8Array(1*1*4)},e=r.data,t=0;t<4;t++)e[t]=o[t];return r}function Le(i){var o=128,r={width:o,height:1,data:new Uint8Array(o*1*4)},e=r.data,t=Ye(i);if(t.length){e.set(t[0].color,0);for(var n=1,a=0;n<o-1;n++){for(var s=n/o,l=void 0,c=void 0,h=a;h<t.length&&(l=t[h],c=t[h+1],!(l.stop<=s&&c.stop>s));h++);var m=je(l.color,c.color,(s-l.stop)/(c.stop-l.stop));e.set(m,n*4)}e.set(t[t.length-1].color,(o-1)*4)}return r}var J;(function(i){i[i.none=1]="none",i[i.ascending=2]="ascending",i[i.descending=3]="descending"})(J||(J={}));function de(i,o){o===void 0&&(o=2);var r=i.length;if(r<=1||o===1)return i;if(r<=30){for(var e=1;e<r;e++)Ge(i,e,o);return i}else return ut(i,o)}function we(i,o,r){return r===void 0&&(r=2),i.includes(o)||(i.push(o),i.length===1)||r!==1&&Ge(i,i.length-1,r),i}function Ge(i,o,r){var e=i[o];if(r!==2)for(;o>=1&&i[o-1].priority<e.priority&&(i[o]=i[o-1],o--,o!==0););else for(;o>=1&&i[o-1].priority>e.priority&&(i[o]=i[o-1],o--,o!==0););i[o]=e}function ut(i,o,r,e){if(r===void 0&&(r=0),e===void 0&&(e=i.length-1),r>=e)return i;for(var t=i[r],n=r,a=e;n<a;){if(o===2){for(;i[a].priority>t.priority&&a>=n;)a--;for(;i[n].priority<=t.priority&&n<a;)n++}else{for(;i[a].priority<t.priority&&a>=n;)a--;for(;i[n].priority>=t.priority&&n<a;)n++}var s;s=[i[a],i[n]],i[n]=s[0],i[a]=s[1]}var l;return l=[i[n],i[r]],i[r]=l[0],i[n]=l[1],ut(i,o,r,n-1),ut(i,o,a+1,e),i}function xt(i,o){if(o===void 0&&(o="item doesn't exist"),i==null)throw new Error(o)}function _e(i,o){if(o===void 0&&(o="asserts failed"),!i)throw new Error(o)}function Ae(i){return/^[^\d.][\w-]*$/.test(i)}var Ze="[Galacean Effects]",tn;function on(i){return["%c"+Ze,"color: #AA0100",""+i]}function Ct(i){for(var o=arguments.length,r=new Array(o>1?o-1:0),e=1;e<o;e++)r[e-1]=arguments[e];var t;(t=console).error.apply(t,[].concat(on(i),[r])),tn==null||tn("error",i,r)}function zt(i){for(var o=arguments.length,r=new Array(o>1?o-1:0),e=1;e<o;e++)r[e-1]=arguments[e];var t;(t=console).debug.apply(t,[].concat(on(i))),tn==null||tn("info",i,r)}function mn(i){for(var o=arguments.length,r=new Array(o>1?o-1:0),e=1;e<o;e++)r[e-1]=arguments[e];var t;(t=console).warn.apply(t,[].concat(on(i))),tn==null||tn("warn",i,r)}function Ke(i){i&&ct(i)&&(tn=i)}var He={error:Ct,info:zt,warn:mn,register:Ke},Dt;(function(i){i[i.destroy=0]="destroy",i[i.keep=1]="keep",i[i.force=0]="force"})(Dt||(Dt={}));function un(){}function Ln(i){return typeof i=="string"}var xn=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function ct(i){return Object.prototype.toString.call(i)==="[object Function]"}function ye(i){return Object.prototype.toString.call(i)==="[object Object]"}function Ue(i){var o;return typeof i=="object"&&i!==null&&((o=i.tagName)==null?void 0:o.toUpperCase())==="CANVAS"}function ht(i,o){return i+Math.random()*(o-i)}function Mt(){throw new Error("Destroyed item cannot be used again.")}function rt(){return Tt().replace(/-/g,"")}function re(i,o,r){o===void 0&&(o="base64File"),r===void 0&&(r="");for(var e=i.split(",")[1]||i,t=atob(e),n=[],a=0;a<t.length;a+=512){for(var s=t.slice(a,a+512),l=new Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);var h=new Uint8Array(l);n.push(h)}var m=new Blob(n,{type:r}),v=new File([m],o,{type:r});return v}function le(i,o){o.forEach(function(r){Object.getOwnPropertyNames(r.prototype).forEach(function(e){var t=Object.getOwnPropertyDescriptor(r.prototype,e);if(!t)throw new Error("Cannot find property descriptor of class "+r);Object.defineProperty(i.prototype,e,t)})})}var te={},Pe=[],Ne={};function At(i,o,r,e){Ne[i]&&He.error("Duplicate registration for plugin "+i+"."),Ne[i]=r,te[i]=o,e&&nt(Pe,i)}function jt(i){delete Ne[i],delete te[i],ge(Pe,i)}var Rt=function(){function i(r){var e={},t=[],n=function(a){var s=te[a];t.includes(s)||(t.push(s),e[a]=s)};Pe.forEach(n),r.forEach(n),this.plugins=Object.keys(e).map(function(a){var s=te[a];if(!s)throw new Error("The plugin '"+a+"' not found."+vn(a));var l=new s;return l.name=a,l}).sort(function(a,s){return a.order-s.order})}var o=i.prototype;return o.initializeComposition=function(e,t){this.plugins.forEach(function(n){return n.onCompositionConstructed(e,t)})},o.destroyComposition=function(e){this.plugins.forEach(function(t){return t.onCompositionDestroyed(e)})},o.resetComposition=function(e,t){this.plugins.forEach(function(n){return n.onCompositionReset(e,t)})},o.processRawJSON=function(e,t){var n=this;return M(function(){return ee(this,function(a){return[2,n.callStatic("processRawJSON",e,t)]})})()},o.processAssets=function(e,t){var n=this;return M(function(){return ee(this,function(a){return[2,n.callStatic("processAssets",e,t)]})})()},o.precompile=function(e,t,n){var a=this;return M(function(){return ee(this,function(s){return[2,a.callStatic("precompile",e,t,n)]})})()},o.loadResources=function(e,t){var n=this;return M(function(){return ee(this,function(a){return[2,n.callStatic("prepareResource",e,t)]})})()},o.callStatic=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=this;return M(function(){var l,c,h,m,v,p,b;return ee(this,function(x){for(l=[],c=s.plugins,h=0;h<c.length;h++)m=c[h],v=te[m.name],e in v&&l.push(Promise.resolve((b=v[e])==null?void 0:(p=b).call.apply(p,[].concat([v],n))));return[2,Promise.all(l)]})})()},i}(),Nt={"alipay-downgrade":"@galacean/effects-plugin-alipay-downgrade",downgrade:"@galacean/effects-plugin-downgrade","editor-gizmo":"@galacean/effects-plugin-editor-gizmo",model:"@galacean/effects-plugin-model",video:"@galacean/effects-plugin-multimedia",audio:"@galacean/effects-plugin-multimedia","orientation-transformer":"@galacean/effects-plugin-orientation-transformer","rich-text":"@galacean/effects-plugin-rich-text",spine:"@galacean/effects-plugin-spine"};function vn(i){var o=Nt[i];return o?`
\u8BF7\u6309\u5982\u4E0B\u547D\u4EE4\u8FDB\u884C\u64CD\u4F5C\uFF08Please follow the commands below to proceed\uFF09\uFF1A
1\u3001\u4F7F\u7528 npm \u5B89\u88C5\u63D2\u4EF6\uFF08Install Plugin\uFF09\uFF1Anpm i `+o+`@latest --save
2\u3001\u5BFC\u5165\u63D2\u4EF6\uFF08Import Plugin\uFF09\uFF1Aimport '`+o+"'":""}var On=function(){function i(){this.order=100,this.name=""}var o=i.prototype;return o.onCompositionConstructed=function(e,t){},o.onCompositionItemLifeBegin=function(e,t){},o.onCompositionItemLifeEnd=function(e,t){},o.onCompositionItemRemoved=function(e,t){},o.onCompositionReset=function(e,t){},o.onCompositionWillReset=function(e,t){},o.onCompositionDestroyed=function(e){},o.onCompositionUpdate=function(e,t){},o.prepareRenderFrame=function(e,t){return!1},o.postProcessFrame=function(e,t){},i.precompile=function(e,t){return Promise.resolve()},i}();function Yt(i,o){return Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yt(i,o)}function Ee(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&Yt(i,o)}var Vt;(function(i){i.S="S",i.APlus="A+",i.A="A",i.BPlus="B+",i.B="B"})(Vt||(Vt={}));var Wt;(function(i){i[i.ALPHA=0]="ALPHA",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.BRIGHTNESS=3]="BRIGHTNESS",i[i.SUBTRACTION=4]="SUBTRACTION",i[i.STRONG_LIGHT=5]="STRONG_LIGHT",i[i.WEAK_LIGHT=6]="WEAK_LIGHT",i[i.SUPERPOSITION=7]="SUPERPOSITION"})(Wt||(Wt={}));var Sn;(function(i){i[i.DOUBLE=1032]="DOUBLE",i[i.FRONT=1028]="FRONT",i[i.BACK=1029]="BACK"})(Sn||(Sn={}));var kt;(function(i){i[i.NONE=0]="NONE",i[i.MASK=1]="MASK",i[i.OBSCURED=2]="OBSCURED",i[i.REVERSE_OBSCURED=3]="REVERSE_OBSCURED"})(kt||(kt={}));var nn;(function(i){i[i.NONE=0]="NONE",i[i.SPHERE=1]="SPHERE",i[i.CONE=2]="CONE",i[i.HEMISPHERE=3]="HEMISPHERE",i[i.CIRCLE=4]="CIRCLE",i[i.DONUT=5]="DONUT",i[i.RECTANGLE=6]="RECTANGLE",i[i.RECTANGLE_EDGE=7]="RECTANGLE_EDGE",i[i.EDGE=8]="EDGE",i[i.TEXTURE=9]="TEXTURE"})(nn||(nn={}));var ir;(function(i){i[i.GYROSCOPE=0]="GYROSCOPE",i[i.SPINE=1]="SPINE"})(ir||(ir={}));var jn;(function(i){i[i.CLICK=0]="CLICK",i[i.MESSAGE=1]="MESSAGE",i[i.DRAG=2]="DRAG"})(jn||(jn={}));var yr;(function(i){i[i.NONE=0]="NONE",i[i.NOTIFY=1]="NOTIFY",i[i.RESUME_PLAYER=2]="RESUME_PLAYER",i[i.REMOVE=3]="REMOVE",i[i.PAUSE=4]="PAUSE"})(yr||(yr={}));var Ve;(function(i){i.base="0",i.sprite="1",i.particle="2",i.null="3",i.interact="4",i.plugin="5",i.camera="6",i.composition="7",i.spine="spine",i.mesh="mesh",i.tree="tree",i.text="text",i.light="light",i.skybox="skybox",i.effect="effect",i.shape="shape",i.postProcessVolume="postProcessVolume",i.node="node",i.video="video",i.audio="audio",i.richtext="richtext"})(Ve||(Ve={}));var pn;(function(i){i[i.BILLBOARD=0]="BILLBOARD",i[i.MESH=1]="MESH",i[i.VERTICAL_BILLBOARD=2]="VERTICAL_BILLBOARD",i[i.HORIZONTAL_BILLBOARD=3]="HORIZONTAL_BILLBOARD"})(pn||(pn={}));var Cn;(function(i){i[i.PARTICLE_ORIGIN_CENTER=0]="PARTICLE_ORIGIN_CENTER",i[i.PARTICLE_ORIGIN_LEFT_TOP=1]="PARTICLE_ORIGIN_LEFT_TOP",i[i.PARTICLE_ORIGIN_LEFT_CENTER=2]="PARTICLE_ORIGIN_LEFT_CENTER",i[i.PARTICLE_ORIGIN_LEFT_BOTTOM=3]="PARTICLE_ORIGIN_LEFT_BOTTOM",i[i.PARTICLE_ORIGIN_CENTER_TOP=4]="PARTICLE_ORIGIN_CENTER_TOP",i[i.PARTICLE_ORIGIN_CENTER_BOTTOM=5]="PARTICLE_ORIGIN_CENTER_BOTTOM",i[i.PARTICLE_ORIGIN_RIGHT_TOP=6]="PARTICLE_ORIGIN_RIGHT_TOP",i[i.PARTICLE_ORIGIN_RIGHT_CENTER=7]="PARTICLE_ORIGIN_RIGHT_CENTER",i[i.PARTICLE_ORIGIN_RIGHT_BOTTOM=8]="PARTICLE_ORIGIN_RIGHT_BOTTOM"})(Cn||(Cn={}));var Rn;(function(i){i.Opaque="Opaque",i.Transparent="Transparent"})(Rn||(Rn={}));var En;(function(i){i.Both="Both",i.Back="Back",i.Front="Front"})(En||(En={}));var sr=0,Br=1,Wn=2,Yr=3,er=4,Pr=5,Dr=6,yi=1,Si=0,_i=2,Or=1,Vn;(function(i){i[i.portrait=1]="portrait",i[i.landscape=0]="landscape"})(Vn||(Vn={}));var dt;(function(i){i[i.CONSTANT=0]="CONSTANT",i[i.CONSTANT_VEC2=1]="CONSTANT_VEC2",i[i.CONSTANT_VEC3=2]="CONSTANT_VEC3",i[i.CONSTANT_VEC4=3]="CONSTANT_VEC4",i[i.RANDOM=4]="RANDOM",i[i.LINE=5]="LINE",i[i.CURVE=6]="CURVE",i[i.BEZIER_PATH=7]="BEZIER_PATH",i[i.RGBA_COLOR=8]="RGBA_COLOR",i[i.GRADIENT_COLOR=9]="GRADIENT_COLOR",i[i.SHAPE_POINTS=10]="SHAPE_POINTS",i[i.SHAPE_SPLITS=11]="SHAPE_SPLITS",i[i.LINEAR_PATH=12]="LINEAR_PATH",i[i.COLORS=13]="COLORS",i[i.BINARY=20]="BINARY",i[i.BEZIER_CURVE=21]="BEZIER_CURVE",i[i.BEZIER_CURVE_PATH=22]="BEZIER_CURVE_PATH",i[i.BEZIER_CURVE_QUAT=23]="BEZIER_CURVE_QUAT",i[i.COLOR_CURVE=24]="COLOR_CURVE",i[i.VECTOR4_CURVE=25]="VECTOR4_CURVE"})(dt||(dt={}));var Un;(function(i){i[i.AUTO=0]="AUTO",i[i.EASE=1]="EASE",i[i.EASE_IN=2]="EASE_IN",i[i.EASE_OUT=3]="EASE_OUT",i[i.LINE=4]="LINE",i[i.HOLD=5]="HOLD",i[i.LINE_OUT=6]="LINE_OUT"})(Un||(Un={}));var Se;(function(i){i[i.destroy=0]="destroy",i[i.restart=5]="restart",i[i.forward=2]="forward",i[i.freeze=4]="freeze"})(Se||(Se={}));var Qe;(function(i){i[i.destroyChildren=6]="destroyChildren"})(Qe||(Qe={}));var Ot;(function(i){i[i.none=0]="none",i[i.removeParticle=1]="removeParticle"})(Ot||(Ot={}));var it;(function(i){i[i.RANDOM=0]="RANDOM",i[i.UNIDIRECTIONAL_CYCLE=1]="UNIDIRECTIONAL_CYCLE",i[i.BIDIRECTIONAL_CYCLE=2]="BIDIRECTIONAL_CYCLE",i[i.UNIFORM_BURST=3]="UNIFORM_BURST"})(it||(it={}));var H;(function(i){i.point="point",i.spot="spot",i.directional="directional",i.ambient="ambient"})(H||(H={}));var Ce;(function(i){i[i.box=2]="box",i[i.sphere=3]="sphere"})(Ce||(Ce={}));var Ie;(function(i){i.orthographic="orthographic",i.perspective="perspective"})(Ie||(Ie={}));var ue;(function(i){i.unlit="unlit",i.pbr="pbr",i.hair="hair"})(ue||(ue={}));var Fe;(function(i){i[i.opaque=100]="opaque",i[i.masked=101]="masked",i[i.translucent=102]="translucent",i[i.additive=103]="additive"})(Fe||(Fe={}));var gt;(function(i){i.none="none",i.uv="uv",i.normal="normal",i.basecolor="basecolor",i.alpha="alpha",i.metallic="metallic",i.roughness="roughness",i.ao="ao",i.emissive="emissive",i.diffuse="diffuse"})(gt||(gt={}));var an;(function(i){i[i.display=0]="display",i[i.clip=1]="clip",i[i.ellipsis=2]="ellipsis"})(an||(an={}));var _n;(function(i){i[i.top=0]="top",i[i.middle=1]="middle",i[i.bottom=2]="bottom"})(_n||(_n={}));var Ut;(function(i){i[i.left=0]="left",i[i.middle=1]="middle",i[i.right=2]="right"})(Ut||(Ut={}));var qt;(function(i){i.normal="normal",i.bold="bold",i.lighter="lighter"})(qt||(qt={}));var Zt;(function(i){i.normal="normal",i.italic="italic",i.oblique="oblique"})(Zt||(Zt={}));var Dn={WhiteTexture:"whitetexture00000000000000000000",TransparentTexture:"transparenttexture00000000000000000000",PBRShader:"pbr00000000000000000000000000000",UnlitShader:"unlit000000000000000000000000000"},sn;(function(i){i[i.Custom=0]="Custom",i[i.Rectangle=1]="Rectangle",i[i.Ellipse=2]="Ellipse",i[i.Polygon=3]="Polygon",i[i.Star=4]="Star"})(sn||(sn={}));var Rr;Rr||(Rr={});var _r;_r||(_r={});var br;(function(i){i.video="video",i.image="image"})(br||(br={}));var Mr;(function(i){i.video="video",i.audio="audio"})(Mr||(Mr={}));var St;(function(i){i.VFXItemData="VFXItemData",i.EffectComponent="EffectComponent",i.Material="Material",i.Shader="Shader",i.SpriteComponent="SpriteComponent",i.ParticleSystem="ParticleSystem",i.InteractComponent="InteractComponent",i.CameraController="CameraController",i.PostProcessVolume="PostProcessVolume",i.Geometry="Geometry",i.Texture="Texture",i.Image="Image",i.AnimationClip="AnimationClip",i.TextComponent="TextComponent",i.BinaryAsset="BinaryAsset",i.TrackAsset="TrackAsset",i.TimelineAsset="TimelineAsset",i.ObjectBindingTrack="ObjectBindingTrack",i.TransformTrack="TransformTrack",i.SpriteColorTrack="SpriteColorTrack",i.ActivationTrack="ActivationTrack",i.SubCompositionTrack="SubCompositionTrack",i.FloatPropertyTrack="FloatPropertyTrack",i.ColorPropertyTrack="ColorPropertyTrack",i.Vector4PropertyTrack="Vector4PropertyTrack",i.TransformPlayableAsset="TransformPlayableAsset",i.SpriteColorPlayableAsset="SpriteColorPlayableAsset",i.ActivationPlayableAsset="ActivationPlayableAsset",i.SubCompositionPlayableAsset="SubCompositionPlayableAsset",i.FloatPropertyPlayableAsset="FloatPropertyPlayableAsset",i.ColorPropertyPlayableAsset="ColorPropertyPlayableAsset",i.MeshComponent="MeshComponent",i.SkyboxComponent="SkyboxComponent",i.LightComponent="LightComponent",i.CameraComponent="CameraComponent",i.ModelPluginComponent="ModelPluginComponent",i.TreeComponent="TreeComponent",i.AnimationComponent="AnimationComponent",i.SpineComponent="SpineComponent",i.VideoComponent="VideoComponent",i.AudioComponent="AudioComponent",i.RichTextComponent="RichTextComponent",i.OrientationComponent="OrientationComponent",i.ShapeComponent="ShapeComponent",i.TimelineClip="TimelineClip"})(St||(St={}));var ar;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ar||(ar={}));var Nn;(function(i){i[i.Float16=0]="Float16",i[i.Float32=1]="Float32",i[i.Int8=2]="Int8",i[i.Int16=3]="Int16",i[i.Int32=4]="Int32",i[i.UInt8=5]="UInt8",i[i.UInt16=6]="UInt16",i[i.UInt32=7]="UInt32"})(Nn||(Nn={}));var Hn;(function(i){i[i.None=-1]="None",i[i.UInt8=0]="UInt8",i[i.UInt16=1]="UInt16",i[i.UInt32=2]="UInt32"})(Hn||(Hn={}));var Qn;(function(i){i.Position="POSITION",i.Uv="TEXCOORD0",i.Uv2="TEXCOORD1",i.Normal="NORMAL",i.Tangent="TANGENT",i.Color="COLOR",i.Joints="JOINTS",i.Weights="WEIGHTS",i.PositionBS0="POSITION_BS0",i.PositionBS1="POSITION_BS1",i.PositionBS2="POSITION_BS2",i.PositionBS3="POSITION_BS3",i.PositionBS4="POSITION_BS4",i.PositionBS5="POSITION_BS5",i.PositionBS6="POSITION_BS6",i.PositionBS7="POSITION_BS7",i.NormalBS0="NORMAL_BS0",i.NormalBS1="NORMAL_BS1",i.NormalBS2="NORMAL_BS2",i.NormalBS3="NORMAL_BS3",i.TangentBS0="TANGENT_BS0",i.TangentBS1="TANGENT_BS1",i.TangentBS2="TANGENT_BS2",i.TangentBS3="TANGENT_BS3"})(Qn||(Qn={}));var Tr=Object.freeze({__proto__:null,get RenderLevel(){return Vt},get BlendingMode(){return Wt},get SideMode(){return Sn},get MaskMode(){return kt},get ParticleEmitterShapeType(){return nn},get PluginType(){return ir},get InteractType(){return jn},get InteractBehavior(){return yr},get ItemType(){return Ve},get RenderMode(){return pn},get ParticleOrigin(){return Cn},get RenderType(){return Rn},get RenderFace(){return En},get CameraClipMode(){return Vn},END_BEHAVIOR_DESTROY:sr,END_BEHAVIOR_PAUSE:Br,END_BEHAVIOR_FORWARD:Wn,END_BEHAVIOR_PAUSE_AND_DESTROY:Yr,END_BEHAVIOR_FREEZE:er,END_BEHAVIOR_RESTART:Pr,END_BEHAVIOR_DESTROY_CHILDREN:Dr,CAMERA_CLIP_MODE_VERTICAL:yi,CAMERA_CLIP_MODE_NORMAL:Si,MESSAGE_ITEM_PHRASE_BEGIN:_i,MESSAGE_ITEM_PHRASE_END:Or,get ValueType(){return dt},get BezierKeyframeType(){return Un},get EndBehavior(){return Se},get ParentItemEndBehavior(){return Qe},get ParticleInteractionBehavior(){return Ot},get ShapeArcMode(){return it},get LightType(){return H},get ModelBoundingType(){return Ce},get CameraType(){return Ie},get MaterialType(){return ue},get MaterialBlending(){return Fe},get RenderMode3D(){return gt},get TextOverflow(){return an},get TextBaseline(){return _n},get TextAlignment(){return Ut},get TextWeight(){return qt},get FontStyle(){return Zt},BuiltinObjectGUID:Dn,get ShapePrimitiveType(){return sn},get ShapeConnectType(){return Rr},get ShapePointType(){return _r},get BackgroundType(){return br},get MultimediaType(){return Mr},get DataType(){return St},get GeometryType(){return ar},get VertexFormatType(){return Nn},get IndexFormatType(){return Hn},get VertexBufferSemantic(){return Qn}});function xr(i,o){for(var r=0;r<o.length;r++){var e=o[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function yn(i,o,r){return o&&xr(i.prototype,o),r&&xr(i,r),i}var ur=new Map,Kr=new Map,ti={};function Mn(i){return function(o,r){ti[i]&&console.warn("Class "+i+" is already registered."),ti[i]=o}}function wn(i,o){return mi(i,o)}function $i(i){var o=i.constructor;if(Kr.get(o))return Kr.get(o);var r={};Kr.set(o,r);for(var e=i,t=o;t;){var n=ur.get(t);for(var a in n)r[a]=n[a];var s=Object.getPrototypeOf(e);if(t=Object.getPrototypeOf(s).constructor,t===Object)break;e=s}return r}function mi(i,o){return function(r,e){var t=ji(r);t&&(t[e]||(t[e]={type:i,sourceName:o}))}}function ji(i){var o=i.constructor;return ur.get(o)||ur.set(o,{}),ur.get(o)}var wi=function(){function i(r){this.engine=r,this.guid=rt(),this.taggedProperties={},this.engine.addInstance(this)}var o=i.prototype;return o.getInstanceId=function(){return this.guid},o.setInstanceId=function(e){this.engine.removeInstance(this.guid),this.guid=e,this.engine.addInstance(this)},o.toData=function(){},o.fromData=function(e){e.id&&this.setInstanceId(e.id)},o.dispose=function(){},i.is=function(e){return k(e,i)&&"guid"in e},i}(),Di=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.isAwakeCalled=!1,e.isStartCalled=!1,e.isEnableCalled=!1,e._enabled=!0,e}var r=o.prototype;return r.onAwake=function(){},r.onEnable=function(){},r.onDisable=function(){},r.onStart=function(){},r.onUpdate=function(t){},r.onLateUpdate=function(t){},r.onDestroy=function(){},r.enable=function(){this.item.composition&&(this.item.composition.sceneTicking.addComponent(this),this.isEnableCalled=!0),this.onEnable()},r.disable=function(){this.onDisable(),this.item.composition&&(this.isEnableCalled=!1,this.item.composition.sceneTicking.removeComponent(this))},r.setVFXItem=function(t){this.item=t,t.isDuringPlay&&(this.isAwakeCalled||(this.onAwake(),this.isAwakeCalled=!0),t.isActive&&this.enabled&&(this.start(),this.enable()))},r.fromData=function(t){i.prototype.fromData.call(this,t),t.item&&(this.item=t.item)},r.dispose=function(){this.isEnableCalled&&this.disable(),this.isAwakeCalled&&(this.isAwakeCalled=!1,this.onDestroy()),this.item&&ge(this.item.components,this)},r.start=function(){this.isStartCalled||(this.isStartCalled=!0,this.onStart())},yn(o,[{key:"transform",get:function(){return this.item.transform}},{key:"isActiveAndEnabled",get:function(){return this.item.isActive&&this.enabled}},{key:"enabled",get:function(){return this._enabled},set:function(t){this.enabled!==t&&(this._enabled=t,t?this.isActiveAndEnabled&&(this.enable(),this.isStartCalled||(this.onStart(),this.isStartCalled=!0)):this.isEnableCalled&&this.disable())}}]),o}(wi);ne([wn()],Di.prototype,"_enabled",void 0);var ga=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.setVFXItem=function(t){i.prototype.setVFXItem.call(this,t)},r.dispose=function(){i.prototype.dispose.call(this)},o}(Di),Ji=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.materials=[],e._priority=0,e}var r=o.prototype;return r.render=function(t){},r.setVFXItem=function(t){i.prototype.setVFXItem.call(this,t),this.item.rendererComponents.push(this)},r.onEnable=function(){var t;(t=this.item.composition)==null||t.renderFrame.addMeshToDefaultRenderPass(this)},r.onDisable=function(){var t;(t=this.item.composition)==null||t.renderFrame.removeMeshFromDefaultRenderPass(this)},r.fromData=function(t){i.prototype.fromData.call(this,t)},r.toData=function(){i.prototype.toData.call(this)},r.dispose=function(){this.item&&ge(this.item.rendererComponents,this),i.prototype.dispose.call(this)},yn(o,[{key:"priority",get:function(){return this._priority},set:function(t){this._priority=t}},{key:"material",get:function(){return this.materials[0]},set:function(t){this.materials.length===0?this.materials.push(t):this.materials[0]=t}}]),o}(Di);ne([wn()],Ji.prototype,"materials",void 0),ne([wn()],Ji.prototype,"_priority",void 0);var fi=Math.PI*2,Gr=Math.PI/180,da=180/Math.PI,Da=1e-6;function ma(i){return isNaN(i)||Math.abs(i)<Da}function la(i,o){return Math.abs(i-o)<Da||i===1/0&&o===1/0||i===-1/0&&o===-1/0}var ya=function(i,o,r,e){return fn(i,o,1-Math.exp(-r*e))},fn=function(i,o,r){return(1-r)*i+r*o},Qa=function(i){return i*Gr},eo=function(i){return i*da};function Li(i,o,r){var e=isNaN(o)?-1/0:o,t=isNaN(r)?1/0:r,n=Math.min(e,t),a=Math.max(e,t);return Math.min(Math.max(i,n),a)}var gr=function(){function i(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.x=r,this.y=e}var o=i.prototype;return o.set=function(e,t){return this.x=e,this.y=t,this},o.setZero=function(){return this.x=0,this.y=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var n;this.x=(n=e[t])!=null?n:0;var a;return this.y=(a=e[t+1])!=null?a:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this},o.clone=function(){return new i(this.x,this.y)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e):k(e,Array)?(this.x+=e[0],this.y+=e[1]):(this.x+=e.x,this.y+=e.y),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e):k(e,Array)?(this.x-=e[0],this.y-=e[1]):(this.x-=e.x,this.y-=e.y),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e):k(e,Array)?(this.x*=e[0],this.y*=e[1]):(this.x*=e.x,this.y*=e.y),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e):k(e,Array)?(this.x/=e[0],this.y/=e[1]):(this.x/=e.x,this.y/=e.y),this},o.scale=function(e){return this.x*=e,this.y*=e,this},o.sum=function(){return this.x+this.y},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.lengthSquared=function(){return this.x*this.x+this.y*this.y},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},o.lerpVectors=function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},o.dot=function(e){return this.x*e.x+this.y*e.y},o.cross=function(e){return this.x*e.y-this.y*e.x},o.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},o.distanceSquared=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},o.equals=function(e){return this.x===e.x&&this.y===e.y},o.isZero=function(){var e=Da,t=this,n=t.x,a=t.y;return Math.abs(n)<=e&&Math.abs(a)<=e},o.toArray=function(){return[this.x,this.y]},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();gr.ONE=new gr(1,1),gr.ZERO=new gr(0,0);var be=function(){function i(r,e,t){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),this.x=r,this.y=e,this.z=t}var o=i.prototype;return o.set=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},o.setZero=function(){return this.x=0,this.y=0,this.z=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this.z=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var n;this.x=(n=e[t])!=null?n:0;var a;this.y=(a=e[t+1])!=null?a:0;var s;return this.z=(s=e[t+2])!=null?s:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},o.clone=function(){return new i(this.x,this.y,this.z)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e,this.z+=e):k(e,Array)?(this.x+=e[0],this.y+=e[1],this.z+=e[2]):(this.x+=e.x,this.y+=e.y,this.z+=e.z),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},o.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e,this.z-=e):k(e,Array)?(this.x-=e[0],this.y-=e[1],this.z-=e[2]):(this.x-=e.x,this.y-=e.y,this.z-=e.z),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e):k(e,Array)?(this.x*=e[0],this.y*=e[1],this.z*=e[2]):(this.x*=e.x,this.y*=e.y,this.z*=e.z),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e):k(e,Array)?(this.x/=e[0],this.y/=e[1],this.z/=e[2]):(this.x/=e.x,this.y/=e.y,this.z/=e.z),this},o.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this},o.sum=function(){return this.x+this.y+this.z},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e),this.z=Math.min(this.z,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),this.z=Math.max(this.z,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},o.lerpVectors=function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},o.cross=function(e){return this.crossVectors(this,e)},o.crossVectors=function(e,t){var n=e.x,a=e.y,s=e.z,l=t.x,c=t.y,h=t.z;return this.x=a*h-s*c,this.y=s*l-n*h,this.z=n*c-a*l,this},o.reflect=function(e){return this.subtract(e.clone().multiply(2*this.dot(e)))},o.distance=function(e){return Math.sqrt(this.distanceSquared(e))},o.distanceSquared=function(e){var t=this.x-e.x,n=this.y-e.y,a=this.z-e.z;return t*t+n*n+a*a},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},o.isZero=function(){var e=Da,t=this,n=t.x,a=t.y,s=t.z;return Math.abs(n)<=e&&Math.abs(a)<=e&&Math.abs(s)<=e},o.toArray=function(){return[this.x,this.y,this.z]},o.toVector2=function(){return new gr(this.x,this.y)},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this},o.applyEuler=function(e,t){return e.rotateVector3(this,t)},o.applyQuaternion=function(e,t){return e.rotateVector3(this,t)},o.applyMatrix=function(e,t){return e.transformPoint(this,t)},o.applyNormalMatrix=function(e,t){return e.transformNormal(this,t)},o.applyProjectionMatrix=function(e,t){return e.projectPoint(this,t)},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();be.X=new be(1,0,0),be.Y=new be(0,1,0),be.Z=new be(0,0,1),be.ONE=new be(1,1,1),be.ZERO=new be(0,0,0);var Bn=function(){function i(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),this.x=r,this.y=e,this.z=t,this.w=n}var o=i.prototype;return o.set=function(e,t,n,a){return this.x=e,this.y=t,this.z=n,this.w=a,this},o.setZero=function(){return this.x=0,this.y=0,this.z=0,this.w=0,this},o.setFromNumber=function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var n;this.x=(n=e[t])!=null?n:0;var a;this.y=(a=e[t+1])!=null?a:0;var s;this.z=(s=e[t+2])!=null?s:0;var l;return this.w=(l=e[t+3])!=null?l:0,this},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.clone=function(){return new i(this.x,this.y,this.z,this.w)},o.setElement=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.x+=e,this.y+=e,this.z+=e,this.w+=e):k(e,Array)?(this.x+=e[0],this.y+=e[1],this.z+=e[2],this.w+=e[3]):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w),this},o.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},o.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},o.subtract=function(e){return typeof e=="number"?(this.x-=e,this.y-=e,this.z-=e,this.w-=e):k(e,Array)?(this.x-=e[0],this.y-=e[1],this.z-=e[2],this.w-=e[3]):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w),this},o.subtractVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},o.multiply=function(e){return typeof e=="number"?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):k(e,Array)?(this.x*=e[0],this.y*=e[1],this.z*=e[2],this.w*=e[3]):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w),this},o.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this.w=e.w*t.w,this},o.divide=function(e){return typeof e=="number"?(this.x/=e,this.y/=e,this.z/=e,this.w/=e):k(e,Array)?(this.x/=e[0],this.y/=e[1],this.z/=e[2],this.w/=e[3]):(this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w),this},o.scale=function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},o.sum=function(){return this.x+this.y+this.z+this.w},o.min=function(e){return typeof e=="number"?(this.x=Math.min(this.x,e),this.y=Math.min(this.y,e),this.z=Math.min(this.z,e),this.w=Math.min(this.w,e)):(this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w)),this},o.max=function(e){return typeof e=="number"?(this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),this.z=Math.max(this.z,e),this.w=Math.max(this.w,e)):(this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},o.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},o.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},o.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this.w=Math.abs(this.w),this},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},o.normalize=function(){return this.divide(this.length()||1)},o.setLength=function(e){return this.normalize().multiply(e)},o.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},o.lerpVectors=function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},o.isZero=function(){var e=Da,t=this,n=t.x,a=t.y,s=t.z,l=t.w;return Math.abs(n)<=e&&Math.abs(a)<=e&&Math.abs(s)<=e&&Math.abs(l)<=e},o.toArray=function(){return[this.x,this.y,this.z,this.w]},o.toVector3=function(){return new be(this.x,this.y,this.z)},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w},o.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},o.applyMatrix=function(e,t){return e.transformVector4(this,t)},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i}();Bn.ONE=new Bn(1,1,1,1),Bn.ZERO=new Bn(0,0,0,0);var ra=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.meshCollider=new Ff,e.getHitTestParams=function(t){var n=e.transform.getWorldMatrix();e.meshCollider.setGeometry(e.geometry,n);var a=e.meshCollider.getBoundingBoxData();if(a)return{type:a.type,triangles:a.area}},e}var r=o.prototype;return r.render=function(t){t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.transform.getWorldMatrix()),t.drawGeometry(this.geometry,this.material)},r.getBoundingBox=function(){var t=this.transform.getWorldMatrix();this.meshCollider.setGeometry(this.geometry,t);var n=this.meshCollider.getBoundingBox();return n},o}(Ji);ne([wn()],ra.prototype,"geometry",void 0);var B=function(i){Ee(o,i);function o(e){var t;return t=i.call(this,e)||this,t.name="EffectComponent",t}var r=o.prototype;return r.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},r.onUpdate=function(t){var n=this.item.time,a,s=(a=this.material.getVector4("_Time"))!=null?a:new Bn;this.material.setVector4("_Time",s.set(n/20,n,n*2,n*3))},r.fromData=function(t){i.prototype.fromData.call(this,t),this.material=this.materials[0]},o}(ra);B=ne([Mn(St.EffectComponent)],B);var Te=function(i){Ee(o,i);function o(e){var t;return t=i.call(this,e)||this,t.bloom={threshold:0,intensity:0,active:!1},t.vignette={intensity:0,smoothness:0,roundness:0,active:!1},t.tonemapping={active:!1},t.colorAdjustments={brightness:0,saturation:0,contrast:0,active:!1},t}var r=o.prototype;return r.onStart=function(){var t=this.item.composition;t&&(t.renderFrame.globalVolume=this)},o}(ga);ne([wn()],Te.prototype,"bloom",void 0),ne([wn()],Te.prototype,"vignette",void 0),ne([wn()],Te.prototype,"tonemapping",void 0),ne([wn()],Te.prototype,"colorAdjustments",void 0),Te=ne([Mn(St.PostProcessVolume)],Te);function We(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var _t=function(){function i(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=1),this.x=r,this.y=e,this.z=t,this.w=n}var o=i.prototype;return o.set=function(e,t,n,a){return this.x=e,this.y=t,this.z=n,this.w=a,this},o.setFromEuler=function(e){return e.toQuaternion(this),this},o.setFromAxisAngle=function(e,t){var n=t/2,a=Math.sin(n),s=i.tempVec0;return s.copyFrom(e).normalize(),this.x=s.x*a,this.y=s.y*a,this.z=s.z*a,this.w=Math.cos(n),this},o.setFromVector4=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.setFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},o.setFromRotationMatrix=function(e){var t=e.elements,n=t[0],a=t[4],s=t[8],l=t[1],c=t[5],h=t[9],m=t[2],v=t[6],p=t[10],b=n+c+p;if(b>0){var x=.5/Math.sqrt(b+1);this.w=.25/x,this.x=(v-h)*x,this.y=(s-m)*x,this.z=(l-a)*x}else if(n>c&&n>p){var P=2*Math.sqrt(1+n-c-p);this.w=(v-h)/P,this.x=.25*P,this.y=(a+l)/P,this.z=(s+m)/P,this.negate()}else if(c>p){var V=2*Math.sqrt(1+c-n-p);this.w=(s-m)/V,this.x=(a+l)/V,this.y=.25*V,this.z=(h+v)/V,this.negate()}else{var D=2*Math.sqrt(1+p-n-c);this.w=(l-a)/D,this.x=(s+m)/D,this.y=(h+v)/D,this.z=.25*D,this.negate()}return this},o.setFromUnitVectors=function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this.x=-e.y,this.y=e.x,this.z=0,this.w=n):(this.x=0,this.y=-e.z,this.z=e.y,this.w=n)):(this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this.w=n),this.normalize()},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},o.clone=function(){return new i(this.x,this.y,this.z,this.w)},o.angleTo=function(e){return 2*Math.acos(Math.abs(Li(this.dot(e),-1,1)))},o.rotateTowards=function(e,t){var n=this.angleTo(e);if(n===0)return this;var a=Math.min(1,t/n);return this.slerp(e,a),this},o.identity=function(){return this.set(0,0,0,1)},o.invert=function(){return this.conjugate()},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},o.conjugate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},o.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},o.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},o.normalize=function(){var e=this.length();return e===0?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},o.multiply=function(e){return this.multiplyQuaternions(this,e)},o.premultiply=function(e){return this.multiplyQuaternions(e,this)},o.multiplyQuaternions=function(e,t){var n=e.x,a=e.y,s=e.z,l=e.w,c=t.x,h=t.y,m=t.z,v=t.w;return this.x=n*v+l*c+a*m-s*h,this.y=a*v+l*h+s*c-n*m,this.z=s*v+l*m+n*h-a*c,this.w=l*v-n*c-a*h-s*m,this},o.slerp=function(e,t){if(t===0)return this;if(t===1)return this.copyFrom(e);var n=this,a=n.x,s=n.y,l=n.z,c=n.w,h=c*e.w+a*e.x+s*e.y+l*e.z;if(h<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,h=-h):this.copyFrom(e),h>=1)return this.w=c,this.x=a,this.y=s,this.z=l,this;var m=1-h*h;if(m<=Number.EPSILON){var v=1-t;return this.w=v*c+t*this.w,this.x=v*a+t*this.x,this.y=v*s+t*this.y,this.z=v*l+t*this.z,this.normalize(),this}var p=Math.sqrt(m),b=Math.atan2(p,h),x=Math.sin((1-t)*b)/p,P=Math.sin(t*b)/p;return this.w=c*x+this.w*P,this.x=a*x+this.x*P,this.y=s*x+this.y*P,this.z=l*x+this.z*P,this},o.slerpQuaternions=function(e,t,n){this.copyFrom(e).slerp(t,n)},o.rotateVector3=function(e,t){var n=this,a=n.x,s=n.y,l=n.z,c=n.w,h=e.x,m=e.y,v=e.z,p=c*h+s*v-l*m,b=c*m+l*h-a*v,x=c*v+a*m-s*h,P=-a*h-s*m-l*v,V=t!=null?t:e;return V.x=p*c+P*-a+b*-l-x*-s,V.y=b*c+P*-s+x*-a-p*-l,V.z=x*c+P*-l+p*-s-b*-a,V},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},o.toArray=function(){return[this.x,this.y,this.z,this.w]},o.toVector4=function(e){return e.set(this.x,this.y,this.z,this.w)},o.toEuler=function(e){return e.setFromQuaternion(this)},o.toMatrix4=function(e){return e.compose(be.ZERO,this,be.ONE)},i.fromEuler=function(e){return new i().setFromEuler(e)},i.fromAxisAngle=function(e,t){return new i().setFromAxisAngle(e,t)},i.fromVector4=function(e){return new i().setFromVector4(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromRotationMatrix=function(e){return new i().setFromRotationMatrix(e)},i.fromUnitVectors=function(e,t){return new i().setFromUnitVectors(e,t)},i}();_t.tempVec0=new be;var Tn=function(){function i(r,e,t,n,a,s,l,c,h,m,v,p,b,x,P,V){r===void 0&&(r=1),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=1),l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=0),m===void 0&&(m=0),v===void 0&&(v=1),p===void 0&&(p=0),b===void 0&&(b=0),x===void 0&&(x=0),P===void 0&&(P=0),V===void 0&&(V=1),this.elements=[r,e,t,n,a,s,l,c,h,m,v,p,b,x,P,V]}var o=i.prototype;return o.set=function(e,t,n,a,s,l,c,h,m,v,p,b,x,P,V,D){var _=this.elements;return _[0]=e,_[1]=t,_[2]=n,_[3]=a,_[4]=s,_[5]=l,_[6]=c,_[7]=h,_[8]=m,_[9]=v,_[10]=p,_[11]=b,_[12]=x,_[13]=P,_[14]=V,_[15]=D,this},o.setFromRowMajorData=function(e,t,n,a,s,l,c,h,m,v,p,b,x,P,V,D){var _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=a,_[1]=s,_[5]=l,_[9]=c,_[13]=h,_[2]=m,_[6]=v,_[10]=p,_[14]=b,_[3]=x,_[7]=P,_[11]=V,_[15]=D,this},o.setFromColumnVectors=function(e,t,n,a){return this.set(e.x,e.y,e.z,e.w,t.x,t.y,t.z,t.w,n.x,n.y,n.z,n.w,a.x,a.y,a.z,a.w)},o.setFromMatrix3=function(e){var t=e.elements;return this.set(t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1),this},o.setFromArray=function(e,t){t===void 0&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[t+n];return this},o.setFromScale=function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)},o.setFromTranslation=function(e,t,n){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1)},o.setFromRotationX=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1)},o.setFromRotationY=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1)},o.setFromRotationZ=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1)},o.setFromRotationAxis=function(e,t){var n=i.tempVec0;n.copyFrom(e).normalize();var a=Math.cos(t),s=Math.sin(t),l=1-a,c=n.x,h=n.y,m=n.z,v=l*c,p=l*h;return this.set(v*c+a,v*h+s*m,v*m-s*h,0,v*h-s*m,p*h+a,p*m+s*c,0,v*m+s*h,p*m-s*c,l*m*m+a,0,0,0,0,1)},o.setFromEuler=function(e){return e.toMatrix4(this),this},o.setFromQuaternion=function(e){return this.compose(be.ZERO,e,be.ONE)},o.setFromShear=function(e,t,n){return this.set(1,e,e,0,t,1,t,0,n,n,1,0,0,0,0,1)},o.setFromBasis=function(e,t,n){return this.set(e.x,e.y,e.z,0,t.x,t.y,t.z,0,n.x,n.y,n.z,0,0,0,0,1)},o.setZero=function(){for(var e=0;e<16;e++)this.elements[e]=0;return this},o.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},o.isIdentity=function(){var e=this.elements;return e[0]===1&&e[4]===0&&e[8]===0&&e[12]===0&&e[1]===0&&e[5]===1&&e[9]===0&&e[13]===0&&e[2]===0&&e[6]===0&&e[10]===1&&e[14]===0&&e[3]===0&&e[7]===0&&e[11]===0&&e[15]===1},o.clone=function(){var e=this.elements;return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},o.copyFrom=function(e){return this.elements=[].concat(e.elements),this},o.getColumnVector=function(e,t){return t.set(this.elements[e*4],this.elements[e*4+1],this.elements[e*4+2],this.elements[e*4+3])},o.lookAt=function(e,t,n){var a=i.tempVec0,s=i.tempVec1,l=i.tempVec2;l.subtractVectors(e,t),l.normalize(),a.crossVectors(n,l),a.normalize(),s.crossVectors(l,a);var c=this.elements;return c[0]=a.x,c[1]=s.x,c[2]=l.x,c[3]=0,c[4]=a.y,c[5]=s.y,c[6]=l.y,c[7]=0,c[8]=a.z,c[9]=s.z,c[10]=l.z,c[11]=0,c[12]=-a.dot(e),c[13]=-s.dot(e),c[14]=-l.dot(e),c[15]=1,this},o.addScaledMatrix=function(e,t){for(var n=this.elements,a=e.elements,s=0;s<16;s++)n[s]+=a[s]*t;return this},o.multiply=function(e){if(typeof e=="number"){for(var t=0;t<16;t++)this.elements[t]*=e;return this}else return this.multiplyMatrices(this,e)},o.premultiply=function(e){return this.multiplyMatrices(e,this)},o.multiplyMatrices=function(e,t){var n=e.elements,a=t.elements,s=this.elements,l=n[0],c=n[4],h=n[8],m=n[12],v=n[1],p=n[5],b=n[9],x=n[13],P=n[2],V=n[6],D=n[10],_=n[14],K=n[3],U=n[7],W=n[11],q=n[15],ie=a[0],oe=a[4],Xe=a[8],Je=a[12],ot=a[1],lt=a[5],Et=a[9],Ht=a[13],Gt=a[2],Qt=a[6],en=a[10],Pt=a[14],Fn=a[3],dn=a[7],In=a[11],Yn=a[15];return s[0]=l*ie+c*ot+h*Gt+m*Fn,s[4]=l*oe+c*lt+h*Qt+m*dn,s[8]=l*Xe+c*Et+h*en+m*In,s[12]=l*Je+c*Ht+h*Pt+m*Yn,s[1]=v*ie+p*ot+b*Gt+x*Fn,s[5]=v*oe+p*lt+b*Qt+x*dn,s[9]=v*Xe+p*Et+b*en+x*In,s[13]=v*Je+p*Ht+b*Pt+x*Yn,s[2]=P*ie+V*ot+D*Gt+_*Fn,s[6]=P*oe+V*lt+D*Qt+_*dn,s[10]=P*Xe+V*Et+D*en+_*In,s[14]=P*Je+V*Ht+D*Pt+_*Yn,s[3]=K*ie+U*ot+W*Gt+q*Fn,s[7]=K*oe+U*lt+W*Qt+q*dn,s[11]=K*Xe+U*Et+W*en+q*In,s[15]=K*Je+U*Ht+W*Pt+q*Yn,this},o.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},o.determinant=function(){var e=this.elements,t=e[0],n=e[4],a=e[8],s=e[12],l=e[1],c=e[5],h=e[9],m=e[13],v=e[2],p=e[6],b=e[10],x=e[14],P=e[3],V=e[7],D=e[11],_=e[15];return P*(+s*h*p-a*m*p-s*c*b+n*m*b+a*c*x-n*h*x)+V*(+t*h*x-t*m*b+s*l*b-a*l*x+a*m*v-s*h*v)+D*(+t*m*p-t*c*x-s*l*p+n*l*x+s*c*v-n*m*v)+_*(-a*c*v-t*h*p+t*c*b+a*l*p-n*l*b+n*h*v)},o.transpose=function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},o.invert=function(){var e=this.elements,t=e[0],n=e[1],a=e[2],s=e[3],l=e[4],c=e[5],h=e[6],m=e[7],v=e[8],p=e[9],b=e[10],x=e[11],P=e[12],V=e[13],D=e[14],_=e[15],K=p*D*m-V*b*m+V*h*x-c*D*x-p*h*_+c*b*_,U=P*b*m-v*D*m-P*h*x+l*D*x+v*h*_-l*b*_,W=v*V*m-P*p*m+P*c*x-l*V*x-v*c*_+l*p*_,q=P*p*h-v*V*h-P*c*b+l*V*b+v*c*D-l*p*D,ie=t*K+n*U+a*W+s*q;if(ie===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var oe=1/ie;return e[0]=K*oe,e[1]=(V*b*s-p*D*s-V*a*x+n*D*x+p*a*_-n*b*_)*oe,e[2]=(c*D*s-V*h*s+V*a*m-n*D*m-c*a*_+n*h*_)*oe,e[3]=(p*h*s-c*b*s-p*a*m+n*b*m+c*a*x-n*h*x)*oe,e[4]=U*oe,e[5]=(v*D*s-P*b*s+P*a*x-t*D*x-v*a*_+t*b*_)*oe,e[6]=(P*h*s-l*D*s-P*a*m+t*D*m+l*a*_-t*h*_)*oe,e[7]=(l*b*s-v*h*s+v*a*m-t*b*m-l*a*x+t*h*x)*oe,e[8]=W*oe,e[9]=(P*p*s-v*V*s-P*n*x+t*V*x+v*n*_-t*p*_)*oe,e[10]=(l*V*s-P*c*s+P*n*m-t*V*m-l*n*_+t*c*_)*oe,e[11]=(v*c*s-l*p*s-v*n*m+t*p*m+l*n*x-t*c*x)*oe,e[12]=q*oe,e[13]=(v*V*a-P*p*a+P*n*b-t*V*b-v*n*D+t*p*D)*oe,e[14]=(P*c*a-l*V*a-P*n*h+t*V*h+l*n*D-t*c*D)*oe,e[15]=(l*p*a-v*c*a+v*n*h-t*p*h-l*n*b+t*c*b)*oe,this},o.extractBasis=function(e,t,n){var a=this.elements;return e.set(a[0],a[1],a[2]),t.set(a[4],a[5],a[6]),n.set(a[8],a[9],a[10]),this},o.compose=function(e,t,n,a){a===void 0&&(a=be.ZERO);var s=this.elements,l=t.x,c=t.y,h=t.z,m=t.w,v=-a.x,p=-a.y,b=-a.z,x=l+l,P=c+c,V=h+h,D=l*x,_=l*P,K=l*V,U=c*P,W=c*V,q=h*V,ie=m*x,oe=m*P,Xe=m*V,Je=n.x,ot=n.y,lt=n.z;return s[0]=(1-(U+q))*Je,s[1]=(_+Xe)*Je,s[2]=(K-oe)*Je,s[3]=0,s[4]=(_-Xe)*ot,s[5]=(1-(D+q))*ot,s[6]=(W+ie)*ot,s[7]=0,s[8]=(K+oe)*lt,s[9]=(W-ie)*lt,s[10]=(1-(D+U))*lt,s[11]=0,s[12]=v*s[0]+p*s[4]+b*s[8]-v+e.x,s[13]=v*s[1]+p*s[5]+b*s[9]-p+e.y,s[14]=v*s[2]+p*s[6]+b*s[10]-b+e.z,this},o.decompose=function(e,t,n){var a=i.tempVec0,s=this.elements,l=a.set(s[0],s[1],s[2]).length(),c=a.set(s[4],s[5],s[6]).length(),h=a.set(s[8],s[9],s[10]).length(),m=this.determinant();m<0&&(l=-l),e.x=s[12],e.y=s[13],e.z=s[14];var v=i.tempMat0;v.copyFrom(this);var p=1/l,b=1/c,x=1/h;return v.elements[0]*=p,v.elements[1]*=p,v.elements[2]*=p,v.elements[4]*=b,v.elements[5]*=b,v.elements[6]*=b,v.elements[8]*=x,v.elements[9]*=x,v.elements[10]*=x,t.setFromRotationMatrix(v),n.x=l,n.y=c,n.z=h,this},o.getTranslation=function(e){var t=this.elements;return e.set(t[12],t[13],t[14])},o.getScale=function(e){var t=this.elements;return e.set(Math.hypot(t[0],t[1],t[2]),Math.hypot(t[4],t[5],t[6]),Math.hypot(t[8],t[9],t[10]))},o.getTransform=function(){var e=new be,t=new _t,n=new be;return this.decompose(e,t,n),{translation:e,rotation:t,scale:n}},o.orthographic=function(e,t,n,a,s,l){var c=1/(t-e),h=1/(n-a),m=1/(l-s),v=-(t+e)*c,p=-(n+a)*h,b=-(l+s)*m;c*=2,h*=2,m*=-2;var x=this.elements;return x[0]=c,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=h,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=m,x[11]=0,x[12]=v,x[13]=p,x[14]=b,x[15]=1,this},o.perspective=function(e,t,n,a,s){var l=1/Math.tan(e*.5),c=1/(n-a),h=this.elements;return h[0]=s?l:l/t,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=s?l*t:l,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=(a+n)*c,h[11]=-1,h[12]=0,h[13]=0,h[14]=2*a*n*c,h[15]=0,(a===null||a===1/0)&&(h[10]=-1,h[14]=-2*n),this},o.projectPoint=function(e,t){var n=e.x,a=e.y,s=e.z,l=this.elements,c=t!=null?t:e;c.x=l[0]*n+l[4]*a+l[8]*s+l[12],c.y=l[1]*n+l[5]*a+l[9]*s+l[13],c.z=l[2]*n+l[6]*a+l[10]*s+l[14];var h=l[3]*n+l[7]*a+l[11]*s+l[15];return c.multiply(1/h)},o.transformPoint=function(e,t){var n=e.x,a=e.y,s=e.z,l=this.elements,c=t!=null?t:e;return c.x=l[0]*n+l[4]*a+l[8]*s+l[12],c.y=l[1]*n+l[5]*a+l[9]*s+l[13],c.z=l[2]*n+l[6]*a+l[10]*s+l[14],c},o.transformNormal=function(e,t){var n=e.x,a=e.y,s=e.z,l=this.elements,c=t!=null?t:e;return c.x=l[0]*n+l[4]*a+l[8]*s,c.y=l[1]*n+l[5]*a+l[9]*s,c.z=l[2]*n+l[6]*a+l[10]*s,c.normalize()},o.transformVector4=function(e,t){var n=e.x,a=e.y,s=e.z,l=e.w,c=this.elements,h=t!=null?t:e;return h.x=c[0]*n+c[4]*a+c[8]*s+c[12]*l,h.y=c[1]*n+c[5]*a+c[9]*s+c[13]*l,h.z=c[2]*n+c[6]*a+c[10]*s+c[14]*l,h.w=c[3]*n+c[7]*a+c[11]*s+c[15]*l,h},o.equals=function(e){for(var t=this.elements,n=e.elements,a=0;a<16;a++)if(!la(t[a],n[a]))return!1;return!0},o.toArray=function(){return[].concat(this.elements)},o.fill=function(e,t){t===void 0&&(t=0);var n=this.elements;e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15]},i.fromIdentity=function(){return new i(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},i.fromLookAt=function(e,t,n){return new i().lookAt(e,t,n)},i.fromPerspective=function(e,t,n,a,s){return new i().perspective(e,t,n,a,s)},i.fromColumnVectors=function(e,t,n,a){return new i().setFromColumnVectors(e,t,n,a)},i.fromMatrix3=function(e){return new i().setFromMatrix3(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromScale=function(e,t,n){return new i().setFromScale(e,t,n)},i.fromTranslation=function(e,t,n){return new i().setFromTranslation(e,t,n)},i.fromRotationX=function(e){return new i().setFromRotationX(e)},i.fromRotationY=function(e){return new i().setFromRotationY(e)},i.fromRotationZ=function(e){return new i().setFromRotationZ(e)},i.fromRotationAxis=function(e,t){return new i().setFromRotationAxis(e,t)},i.fromEuler=function(e){return new i().setFromEuler(e)},i.fromQuaternion=function(e){return new i().setFromQuaternion(e)},i.fromShear=function(e,t,n){return new i().setFromShear(e,t,n)},i.fromBasis=function(e,t,n){return new i().setFromBasis(e,t,n)},i.fromRowMajorData=function(e,t,n,a,s,l,c,h,m,v,p,b,x,P,V,D){return new i(e,s,m,x,t,l,v,P,n,c,p,V,a,h,b,D)},i}();Tn.IDENTITY=new Tn(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),Tn.ZERO=new Tn(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),Tn.tempVec0=new be,Tn.tempVec1=new be,Tn.tempVec2=new be,Tn.tempMat0=new Tn;function Oi(i,o){(o==null||o>i.length)&&(o=i.length);for(var r=0,e=new Array(o);r<o;r++)e[r]=i[r];return e}function Hi(i,o){if(i){if(typeof i=="string")return Oi(i,o);var r=Object.prototype.toString.call(i).slice(8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oi(i,o)}}function ke(i,o){var r=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(r)return(r=r.call(i)).next.bind(r);if(Array.isArray(i)||(r=Hi(i))||o&&i&&typeof i.length=="number"){r&&(i=r);var e=0;return function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Aa;(function(i){i[i.noShader=0]="noShader",i[i.success=1]="success",i[i.fail=2]="fail",i[i.compiling=3]="compiling"})(Aa||(Aa={}));var ri;(function(i){i.GLSL1="100",i.GLSL3="300 es"})(ri||(ri={}));var ss=function(i){Ee(o,i);function o(r,e){var t;return t=i.call(this,r)||this,t.source=e,t}return o}(wi),Ia=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createVariant=function(t){var n=[];if(t)for(var a=ke(Object.keys(t)),s;!(s=a()).done;){var l=s.value;n.push([l,t[l]])}var c=this.engine.getShaderLibrary().createShader(this.shaderData,n);return c.shader=this,c},r.fromData=function(t){i.prototype.fromData.call(this,t),this.shaderData=t},o}(wi);Ia=ne([Mn(St.Shader)],Ia);var Uo="effects-internal-copy",$o="effects-internal-copy-mesh",Mo=`
precision highp float;
attribute vec2 aPos;
varying vec2 vTex;
void main(){
    gl_Position = vec4(aPos,0.,1.0);
    vTex = (aPos + vec2(1.0))/2.;
}`,Ja=`precision mediump float;
varying vec2 vTex;

#ifdef DEPTH_TEXTURE
uniform sampler2D uDepth;
#extension GL_EXT_frag_depth : enable
#endif
void main(){
    #ifdef DEPTH_TEXTURE
    gl_FragDepthEXT = texture2D(uDepth,vTex).r;
    #endif
}
`;function Ao(i,o){var r=i===2;return{name:Uo,vertex:Mo,fragment:Ja,glslVersion:r?ri.GLSL3:ri.GLSL1,macros:[["DEPTH_TEXTURE",!!o]],cacheId:$o+ +o}}function Xs(i,o,r){o===void 0&&(o="webgl");var e;if(o==="webgl2"&&(e=i.getContext("webgl2",r),e||console.debug("WebGL2 context retrieval failed, falling back to WebGL context.")),(!e||o==="webgl")&&(e=i.getContext("webgl",r)),!e)throw new Error("This browser does not support WebGL or the WebGL version is incorrect. Please check your WebGL version.");return e}function Cs(i){var o=i.getExtension("EXT_disjoint_timer_query_webgl2");if(o){var r=i.createQuery(),e=M(function(){return ee(this,function(t){return[2,new Promise(function(n,a){if(r){var s=i.getQueryParameter(r,i.QUERY_RESULT_AVAILABLE),l=i.getParameter(o.GPU_DISJOINT_EXT);if(s&&!l){var c=i.getQueryParameter(r,i.QUERY_RESULT);n(c/1e3/1e3)}(s||l)&&(i.deleteQuery(r),r=null),s!==null&&r&&window.setTimeout(function(){e().then(n).catch},1)}})]})});return r?{begin:function(){r&&i.beginQuery(o.TIME_ELAPSED_EXT,r)},end:function(){i.endQuery(o.TIME_ELAPSED_EXT)},getTime:e}:void 0}}var go=[],F={};go.length||Es();function Es(){typeof WebGL2RenderingContext=="function"?kr(WebGL2RenderingContext):typeof WebGLRenderingContext!="undefined"?(kr(WebGLRenderingContext),kr(WebGLRenderingContext.prototype)):go.push("iOS16 lockdown mode, WebGL Constants not in global"),!go.length&&!("HALF_FLOAT"in F)&&(F.HALF_FLOAT=5131)}function An(i){return typeof WebGL2RenderingContext!="undefined"&&i.constructor.name==="WebGL2RenderingContext"}function kr(i){for(var o in i)/^[A-Z_]/.test(o)&&(F[o]=i[o])}function Na(i){switch(i){case Nn.Float32:return WebGLRenderingContext.FLOAT;case Nn.Int16:return WebGLRenderingContext.SHORT;case Nn.Int8:return WebGLRenderingContext.BYTE;case Nn.UInt16:return WebGLRenderingContext.UNSIGNED_SHORT;case Nn.UInt8:return WebGLRenderingContext.UNSIGNED_BYTE;default:return WebGLRenderingContext.FLOAT}}function io(i){switch(i){case WebGLRenderingContext.FLOAT:return Nn.Float32;case WebGLRenderingContext.SHORT:return Nn.Int16;case WebGLRenderingContext.BYTE:return Nn.Int8;case WebGLRenderingContext.UNSIGNED_SHORT:return Nn.UInt16;case WebGLRenderingContext.UNSIGNED_BYTE:return Nn.UInt8;default:return Nn.Float32}}var ao;(function(i){i[i.vertex=0]="vertex",i[i.fragment=1]="fragment"})(ao||(ao={}));function ku(i,o){return i==null?o:i}function oo(i){switch(i){case Wt.ALPHA:return 1;case Wt.ADD:return 1;case Wt.SUBTRACTION:return 1;case Wt.STRONG_LIGHT:return 1;case Wt.WEAK_LIGHT:return 1;case Wt.SUPERPOSITION:return 2;case Wt.BRIGHTNESS:return 3;case Wt.MULTIPLY:return 0;default:return 1}}function Ts(i,o){switch(o){case void 0:i.blendFunction=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA];break;case Wt.ALPHA:i.blendFunction=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA];break;case Wt.ADD:i.blendFunction=[F.ONE,F.ONE,F.ONE,F.ONE];break;case Wt.SUBTRACTION:i.blendFunction=[F.ONE,F.ONE,F.ZERO,F.ONE],i.blendEquation=[F.FUNC_REVERSE_SUBTRACT,F.FUNC_REVERSE_SUBTRACT];break;case Wt.SUPERPOSITION:i.blendFunction=[F.ONE,F.ONE,F.ONE,F.ONE];break;case Wt.MULTIPLY:i.blendFunction=[F.DST_COLOR,F.ONE_MINUS_SRC_ALPHA,F.DST_COLOR,F.ONE_MINUS_SRC_ALPHA];break;case Wt.BRIGHTNESS:i.blendFunction=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA];break;case Wt.STRONG_LIGHT:i.blendFunction=[F.DST_COLOR,F.DST_ALPHA,F.ZERO,F.ONE];break;case Wt.WEAK_LIGHT:i.blendFunction=[F.DST_COLOR,F.ZERO,F.ZERO,F.ONE];break;default:console.warn("BlendMode "+o+" not in specification, please set blend params separately.")}}function Ys(i,o){o===Sn.DOUBLE?i.culling=!1:(i.culling=!0,i.frontFace=F.CW,i.cullFace=o===Sn.BACK?F.BACK:F.FRONT)}function E(i,o){switch(o){case void 0:i.stencilTest=!1;break;case kt.MASK:i.stencilTest=!0,i.stencilFunc=[F.ALWAYS,F.ALWAYS],i.stencilOpZPass=[F.REPLACE,F.REPLACE];break;case kt.OBSCURED:i.stencilTest=!0,i.stencilFunc=[F.EQUAL,F.EQUAL];break;case kt.REVERSE_OBSCURED:i.stencilTest=!0,i.stencilFunc=[F.NOTEQUAL,F.NOTEQUAL];break;case kt.NONE:i.stencilTest=!1;break;default:console.warn("MaskMode "+o+" not in specification, please set stencil params seperately.")}}function I(){return I=Object.assign||function(o){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o},I.apply(this,arguments)}var Z;(function(i){i[i.whatever=0]="whatever",i[i.clear=2]="clear"})(Z||(Z={}));var j;(function(i){i[i.none=0]="none",i[i.data=1]="data",i[i.image=2]="image",i[i.compressed=3]="compressed",i[i.video=4]="video",i[i.canvas=5]="canvas",i[i.framebuffer=6]="framebuffer",i[i.mipmaps=7]="mipmaps"})(j||(j={}));var Re=function(){function i(){this.callbacks={}}var o=i.prototype;return o.downloadJSON=function(e,t,n){this.download(e,"json",t,n)},o.downloadBinary=function(e,t,n){this.download(e,"arraybuffer",t,n)},o.downloadBlob=function(e,t,n){this.download(e,"blob",t,n)},o.download=function(e,t,n,a){var s=this;if(t===void 0&&(t="json"),!this.start(e,n,a)){var l=new XMLHttpRequest,c=function(){s.finish(e,l.status,l.response)},h=function(){l.status==200?s.finish(e,200,l.response):c()};l.responseType=t,l.addEventListener("load",h),l.addEventListener("error",c),l.open("GET",e,!0),l.send()}},o.start=function(e,t,n){var a=this.callbacks[e];try{if(a)return!0;this.callbacks[e]=a=[]}finally{a.push(t,n)}},o.finish=function(e,t,n){var a=this.callbacks[e];delete this.callbacks[e];for(var s=t==200?[n]:[t,n],l=s.length-1,c=a.length;l<c;l+=2)a[l].apply(null,s)},i}(),pt=!1,yt=!1;function $t(i,o){return bn.apply(this,arguments)}function bn(){return bn=M(function(i,o){var r,e,t;return ee(this,function(n){switch(n.label){case 0:return pt||!o?[4,Kt(i)]:[3,2];case 1:return r=n.sent(),[2,{image:r,url:i}];case 2:return n.trys.push([2,4,,6]),[4,Kt(o)];case 3:return e=n.sent(),[2,{image:e,url:o}];case 4:return n.sent(),pt=!0,[4,Kt(i)];case 5:return t=n.sent(),[2,{image:t,url:i}];case 6:return[2]}})}),bn.apply(this,arguments)}function $n(i,o){return gn.apply(this,arguments)}function gn(){return gn=M(function(i,o){var r,e,t;return ee(this,function(n){switch(n.label){case 0:return yt||!o?[4,Kt(i)]:[3,2];case 1:return r=n.sent(),[2,{image:r,url:i}];case 2:return n.trys.push([2,4,,6]),[4,Kt(o)];case 3:return e=n.sent(),[2,{image:e,url:o}];case 4:return n.sent(),yt=!0,[4,Kt(i)];case 5:return t=n.sent(),[2,{image:t,url:i}];case 6:return[2]}})}),gn.apply(this,arguments)}function Kt(i){return Jn.apply(this,arguments)}function Jn(){return Jn=M(function(i){var o,r;return ee(this,function(e){if(o="",k(i,HTMLImageElement)){if(i.complete)return[2,i];o=i.src}else k(i,Blob)?(o=URL.createObjectURL(i),r=!0):typeof i=="string"&&(o=i);if(!o)throw new Error("Invalid url type: "+JSON.stringify(i)+".");return[2,new Promise(function(t,n){var a=new Image;/^data:/.test(o)||(a.crossOrigin="*"),a.onload=function(){return a.onload=null,r&&URL.revokeObjectURL(o),t(a)},a.onerror=function(s){return a.onerror=null,r&&URL.revokeObjectURL(o),n("Load image fail: "+o+", reason: "+JSON.stringify(s))},a.src=o})]})}),Jn.apply(this,arguments)}function Bt(i){return Xn.apply(this,arguments)}function Xn(){return Xn=M(function(i){return ee(this,function(o){return[2,new Promise(function(r,e){new Re().downloadBinary(i,r,function(t,n){e("Couldn't load bins "+i+": status "+t+", "+n)})})]})}),Xn.apply(this,arguments)}function tr(i){return zn.apply(this,arguments)}function zn(){return zn=M(function(i){return ee(this,function(o){return[2,new Promise(function(r,e){new Re().downloadBlob(i,r,function(t,n){e("Couldn't load blob "+i+": status "+t+", "+n)})})]})}),zn.apply(this,arguments)}function hr(i){return Lr.apply(this,arguments)}function Lr(){return Lr=M(function(i){var o;return ee(this,function(r){return o=document.createElement("video"),typeof i=="string"?o.src=i:o.srcObject=i,o.crossOrigin="anonymous",o.muted=!0,se()&&o.setAttribute("renderer","standard"),o.setAttribute("playsinline","playsinline"),[2,new Promise(function(e,t){var n=o.play();n?n.then(function(){return e(o)}):o.addEventListener("loadeddata",function a(){e(o),o.removeEventListener("loadeddata",a)},!0),o.addEventListener("error",function(a){t("Load video fail.")})})]})}),Lr.apply(this,arguments)}function Ur(i,o){return dr.apply(this,arguments)}function dr(){return dr=M(function(i,o){return ee(this,function(r){switch(r.label){case 0:if(!Array.isArray(i))return[3,5];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,o(i[0])];case 2:return[2,r.sent()];case 3:return r.sent(),[4,o(i[1])];case 4:return[2,r.sent()];case 5:return[2,o(i)]}})}),dr.apply(this,arguments)}function ii(i,o,r){return cr.apply(this,arguments)}function cr(){return cr=M(function(i,o,r,e){var t,n,a,s,l,c,h,m,v;return ee(this,function(p){switch(p.label){case 0:return e===void 0&&(e=[]),i.target!==34067?[3,2]:(t=i.mipmaps,n=i.target,a=t.map(function(b){return Promise.all(b.map(function(x){if(x.id){var P=r[x.id];return P}else return $r(x,o)}))}),[4,Promise.all(a)]);case 1:return s=p.sent(),[2,I({keepImageSource:!1},i,{mipmaps:s,sourceFrom:{target:n,type:j.mipmaps}})];case 2:return l=i.mipmaps,c=i.target,h=l.map(function(b){return $r(b,o)}),[4,Promise.all(h)];case 3:return m=p.sent(),v=e[l[0][1][0]].url,[2,I({keepImageSource:!1},i,{mipmaps:m,sourceType:j.mipmaps,sourceFrom:{target:c,bin:v,type:j.mipmaps,mipmaps:l.map(function(b){return[b[1][1],b[1][2]]})}})];case 4:return[2]}})}),cr.apply(this,arguments)}function $r(i,o){return bi.apply(this,arguments)}function bi(){return bi=M(function(i,o){var r,e,t,n,a;return ee(this,function(s){if(r=i[1],e=r[0],t=r[1],n=r[2],a=o[e],!a)throw new Error("Invalid bin pointer: "+JSON.stringify(i)+".");return[2,Kt(new Blob([new Uint8Array(a,t,n)]))]})}),bi.apply(this,arguments)}var Ni=1,Zn=function(i){Ee(o,i);function o(e){var t;return t=i.call(this,e)||this,t.destroyed=!1,t.id="Tex"+Ni++,t}var r=o.prototype;return r.getWidth=function(){return this.width||0},r.getHeight=function(){return this.height||0},r.uploadCurrentVideoFrame=function(){},r.offloadData=function(){},r.reloadData=function(){},r.initialize=function(){},r.assembleOptions=function(t){var n=t.target,a=n===void 0?F.TEXTURE_2D:n,s=t.format,l=s===void 0?F.RGBA:s;return t.sourceType||("image"in t?t.sourceType=j.image:"data"in t?t.sourceType=j.data:"video"in t?t.sourceType=j.video:t.sourceType=0),I({minFilter:F.NEAREST,magFilter:F.NEAREST,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE,target:a,format:F.RGBA,internalFormat:l,type:F.UNSIGNED_BYTE},t)},o.fromImage=function(t,n,a){return M(function(){var s,l;return ee(this,function(c){switch(c.label){case 0:return[4,Kt(t)];case 1:return s=c.sent(),l=o.create(n,I({sourceType:j.image,image:s,target:F.TEXTURE_2D,id:rt(),flipY:!0},a)),l.initialize(),[2,l]}})})()},o.fromVideo=function(t,n,a){return M(function(){var s,l;return ee(this,function(c){switch(c.label){case 0:return[4,hr(t)];case 1:return s=c.sent(),l=o.create(n,I({sourceType:j.video,video:s,id:rt(),flipY:!0},a)),l.initialize(),[2,l]}})})()},yn(o,[{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(wi);function vi(i,o,r,e){var t=o.length/r/e,n,a;return t===4||t===0?a=n=F.RGBA:t===3?a=n=F.RGB:t===2?a=n=F.LUMINANCE_ALPHA:a=n=F.LUMINANCE,Zn.createWithData(i,{data:o,width:r,height:e},{type:F.HALF_FLOAT,format:n,internalFormat:a,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE})}var pi={type:F.UNSIGNED_BYTE,format:F.RGBA,internalFormat:F.RGBA,wrapS:F.MIRRORED_REPEAT,wrapT:F.MIRRORED_REPEAT,minFilter:F.NEAREST,magFilter:F.NEAREST};function xi(i){return Zn.create(i,I({id:Dn.WhiteTexture,data:{width:1,height:1,data:new Uint8Array([255,255,255,255])},sourceType:j.data},pi))}function hi(i){return Zn.create(i,I({id:Dn.TransparentTexture,data:{width:1,height:1,data:new Uint8Array([0,0,0,0])},sourceType:j.data},pi))}var Ci=12+13*4,Mi=0,Jr=2,or=function(){function i(r,e,t){t===void 0&&(t=0),this.arrayBuffer=r,this.baseOffset=t;var n=new Uint8Array(this.arrayBuffer,this.baseOffset,12);if(n[0]!==171||n[1]!==75||n[2]!==84||n[3]!==88||n[4]!==32||n[5]!==49||n[6]!==49||n[7]!==187||n[8]!==13||n[9]!==10||n[10]!==26||n[11]!==10)throw new Error("Texture missing KTX identifier.");var a=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(this.arrayBuffer,this.baseOffset+12,13*a),l=s.getUint32(0,!0),c=l===67305985;if(this.glType=s.getUint32(1*a,c),this.glTypeSize=s.getUint32(2*a,c),this.glFormat=s.getUint32(3*a,c),this.glInternalFormat=s.getUint32(4*a,c),this.glBaseInternalFormat=s.getUint32(5*a,c),this.pixelWidth=s.getUint32(6*a,c),this.pixelHeight=s.getUint32(7*a,c),this.pixelDepth=s.getUint32(8*a,c),this.numberOfArrayElements=s.getUint32(9*a,c),this.numberOfFaces=s.getUint32(10*a,c),this.numberOfMipmapLevels=s.getUint32(11*a,c),this.bytesOfKeyValueData=s.getUint32(12*a,c),this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),this.pixelHeight===0||this.pixelDepth!==0){He.warn("Only 2D textures currently supported.");return}if(this.numberOfArrayElements!==0){He.warn("Texture arrays not currently supported.");return}if(this.numberOfFaces!==e){He.warn("Number of faces expected "+e+", but found "+this.numberOfFaces+".");return}this.glType===0?this.loadType=Mi:this.loadType=Jr}var o=i.prototype;return o.mipmaps=function(e){for(var t=[],n=Ci+this.bytesOfKeyValueData,a=this.pixelWidth,s=this.pixelHeight,l=e?this.numberOfMipmapLevels:1,c=0;c<l;c++){for(var h=new Int32Array(this.arrayBuffer,this.baseOffset+n,1)[0],m=0;m<this.numberOfFaces;m++){var v=new Uint8Array(this.arrayBuffer,this.baseOffset+n+4,h);t.push({data:v,width:a,height:s}),n+=h+4,n+=3-(h+3)%4}a=Math.max(1,a*.5),s=Math.max(1,s*.5)}return t},i}();function si(i){var o=new or(i,1),r=o.numberOfMipmapLevels,e=o.pixelWidth,t=o.pixelHeight,n=o.glType,a=o.numberOfFaces,s=o.glInternalFormat,l=o.glFormat,c=r>=Math.floor(Math.log2(Math.max(e,t))+1);return{sourceType:j.compressed,type:n,target:a===6?F.TEXTURE_CUBE_MAP:F.TEXTURE_2D,internalFormat:s,format:l,mipmaps:o.mipmaps(c)}}var li=function(){function i(){this.reloadPending={}}var o=i.prototype;return o.reload=function(e){var t=this;return M(function(){var n,a;return ee(this,function(s){switch(s.label){case 0:return n=e.id,t.reloadPending[n]?[2]:e.sourceFrom?(t.reloadPending[n]=!0,[4,t.loadSource(e.sourceFrom)]):[3,2];case 1:return a=s.sent(),e.updateSource(a),t.reloadPending[n]=!1,[3,3];case 2:throw new Error("No source from.");case 3:return[2]}})})()},o.canOffloadTexture=function(e){if(e){var t=e.type;if(t===j.compressed||t===j.image){var n=e.target,a=e.map,s=e.url;return n===F.TEXTURE_CUBE_MAP?typeof a=="object"&&!!a:Ln(s)&&s.length>0}if(t===j.mipmaps){var l=e.bin,c=e.mipmaps,h=e.target,m=e.maps,v=e.urls;return l?c.length>0:h===F.TEXTURE_CUBE_MAP?m.every(function(p){return typeof p=="object"&&p}):v.every(function(p){return Ln(p)&&p.length>0})}}return!1},o.loadSource=function(e,t){var n=this;return M(function(){var a,s,l,c,h,m,v,p,b,x,P,V,D,_,K,U,W,q;return ee(this,function(ie){switch(ie.label){case 0:return a=e.type,s=e.target,l=e.map,c=e.url,h=e.bin,m=e.mipmaps,v=e.urls,p=e.maps,s===F.TEXTURE_CUBE_MAP&&a!==j.mipmaps?[4,n.loadCubeMap(l)]:[3,2];case 1:return b=ie.sent(),[2,I({},t,{cube:b,target:F.TEXTURE_CUBE_MAP,sourceType:j.image,sourceFrom:{type:j.image,map:I({},l),target:F.TEXTURE_CUBE_MAP}})];case 2:return a!==j.image?[3,4]:[4,Kt(c)];case 3:return x=ie.sent(),[2,I({},t,{image:x,sourceType:j.image,sourceFrom:{type:a,url:c,target:F.TEXTURE_2D}})];case 4:return a!==j.video?[3,6]:[4,hr(c)];case 5:return P=ie.sent(),[2,I({},t,{video:P,sourceType:j.video})];case 6:return a!==j.compressed?[3,8]:[4,Bt(c)];case 7:return V=ie.sent(),[2,I({},si(V),t,{sourceFrom:{url:c,type:j.compressed}})];case 8:return a!==j.mipmaps?[3,17]:h?[4,Bt(h)]:[3,13];case 9:return D=ie.sent(),_=s!=null?s:F.TEXTURE_2D,K=_===F.TEXTURE_2D?m.slice():m.map(function(oe){return oe.slice()}),s!==F.TEXTURE_CUBE_MAP?[3,11]:[4,Promise.all(m.map(function(oe){return n.loadMipmapImages(oe,D)}))];case 10:return U=ie.sent(),[3,12];case 11:U=n.loadMipmapImages(m,D),ie.label=12;case 12:return[2,I({},t,{mipmaps:U,target:_,sourceType:j.mipmaps,sourceFrom:{bin:h,mipmaps:K,target:_,type:j.mipmaps}})];case 13:return s===F.TEXTURE_2D||!s?[4,Promise.all(v.map(function(oe){return Kt(oe)}))]:[3,15];case 14:return W=ie.sent(),[2,I({},t,{mipmaps:W,target:F.TEXTURE_2D,sourceType:j.mipmaps,sourceFrom:{type:a,urls:v.slice(),target:F.TEXTURE_2D}})];case 15:return s!==F.TEXTURE_CUBE_MAP?[3,17]:[4,Promise.all(p.map(function(oe){return n.loadCubeMap(oe)}))];case 16:return q=ie.sent(),[2,I({},t,{mipmaps:q,target:F.TEXTURE_CUBE_MAP,sourceType:j.mipmaps,sourceFrom:{type:a,maps:p.map(function(oe){return I({},oe)}),target:F.TEXTURE_CUBE_MAP}})];case 17:throw new Error("Invalid resource type: "+a+".")}})})()},o.loadMipmapImages=function(e,t){return M(function(){return ee(this,function(n){return[2,Promise.all(e.map(function(a){var s=new Blob([new Uint8Array(t,a[0],a[1])]);return Kt(s)}))]})})()},o.loadCubeMap=function(e){return M(function(){return ee(this,function(t){return[2,Promise.all(e.map(function(n){return Kt(n)}))]})})()},i}(),ia;function Va(){return ia||(ia=new li),ia}function Zi(i){ia=i}var Ar=null;function Vi(i){return typeof i=="object"&&i&&i.length===void 0&&k(i,Zn)}function yo(i){return i&&i.length!==void 0&&Vi(i[0])}var Ai;(function(i){i[i.normal=0]="normal",i[i.transformFeedback=1]="transformFeedback"})(Ai||(Ai={}));var Ba=1,Bi=function(i){Ee(o,i);function o(e,t){var n;if(n=i.call(this,e)||this,n.stringTags={},n.enabledMacros={},n.destroyed=!1,n.initialized=!1,n.shaderDirty=!0,t){var a=t.name,s=a===void 0?"Material"+Ba++:a,l=t.renderType,c=l===void 0?0:l,h=t.shader,m=t.uniformSemantics;n.name=s,n.renderType=c,n.shaderSource=h,n.props=t,n.uniformSemantics=I({},m)}else n.name="Material"+Ba++,n.renderType=0;return n}var r=o.prototype;return r.initialize=function(){},r.createShaderVariant=function(){},r.use=function(t,n){},yn(o,[{key:"shader",get:function(){return this._shader},set:function(t){this._shader!==t&&(this._shader=t,this.shaderDirty=!0)}},{key:"mainTexture",get:function(){return this.getTexture("_MainTex")},set:function(t){this.setTexture("_MainTex",t)}},{key:"color",get:function(){return this.getColor("_Color")},set:function(t){this.setColor("_Color",t)}},{key:"blending",set:function(t){}},{key:"blendFunction",set:function(t){}},{key:"blendEquation",set:function(t){}},{key:"depthTest",set:function(t){}},{key:"depthMask",set:function(t){}},{key:"stencilTest",set:function(t){}},{key:"stencilRef",set:function(t){}},{key:"stencilFunc",set:function(t){}},{key:"stencilOpZPass",set:function(t){}},{key:"culling",set:function(t){}},{key:"frontFace",set:function(t){}},{key:"cullFace",set:function(t){}},{key:"blendColor",set:function(t){}},{key:"depthRange",set:function(t){}},{key:"depthFunc",set:function(t){}},{key:"polygonOffsetFill",set:function(t){}},{key:"polygonOffset",set:function(t){}},{key:"sampleAlphaToCoverage",set:function(t){}},{key:"colorMask",set:function(t){}},{key:"stencilMask",set:function(t){}},{key:"stencilOpFail",set:function(t){}},{key:"stencilOpZFail",set:function(t){}}]),o}(wi),Cr={format:F.RGBA,type:F.UNSIGNED_BYTE,minFilter:F.LINEAR,magFilter:F.LINEAR,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE},Gn=Symbol("dispose"),Vr=function(){function i(r){this.textureCache={},this.textureRef={},this.engine=r}var o=i.prototype;return o.requestColorAttachmentTexture=function(e){var t=this,n=e.width,a=e.height,s=e.name,l={sourceType:j.framebuffer,data:{width:n,height:a},name:s},c=[s];Object.getOwnPropertyNames(Cr).forEach(function(p){var b,x=(b=e[p])!=null?b:Cr[p];l[p]=x,c.push(p,x)});var h=c.join(":"),m=this.textureCache[h];if(m)this.textureRef[h]++;else{var v=this.engine;xt(v),m=Zn.create(v,l),this.textureCache[h]=m,this.textureRef[h]=1,m[Gn]=m.dispose,m.dispose=function(){return t.removeTexture(h)}}return m},o.removeTexture=function(e){var t=this.textureRef[e];if(t<=1){t<0&&console.error("Ref count < 0.");var n=this.textureCache[e];n&&(n[Gn](),n.dispose=n[Gn]),delete this.textureCache[e],delete this.textureRef[e]}else this.textureRef[e]=t-1},o.dispose=function(){var e=this;Object.keys(this.textureCache).forEach(function(t){var n=e.textureCache[t];n[Gn](),n.dispose=n[Gn]}),this.textureCache={},this.textureRef={},this.engine=void 0},i}(),Wr=function(){function i(r){r===void 0&&(r={}),this.semantics=I({},r)}var o=i.prototype;return o.toObject=function(){return I({},this.semantics)},o.setSemantic=function(e,t){t===void 0?delete this.semantics[e]:this.semantics[e]=t},o.getSemanticValue=function(e,t){var n=this.semantics[e];return ct(n)?n(t):n},o.hasSemanticValue=function(e){return e in this.semantics},o.dispose=function(){var e=this;Object.keys(this.semantics).forEach(function(t){delete e.semantics[t]})},i}(),kn,zr=(kn={},kn[F.FLOAT]=Float32Array.BYTES_PER_ELEMENT,kn[F.INT]=Int32Array.BYTES_PER_ELEMENT,kn[F.SHORT]=Int16Array.BYTES_PER_ELEMENT,kn[F.BYTE]=Int8Array.BYTES_PER_ELEMENT,kn),Sr=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.initialize=function(){},r.flush=function(){},o}(wi);function Gi(i){return i===F.INT?new Int32Array(0):i===F.SHORT?new Int16Array(0):new Float32Array(0)}var lr;(function(i){i[i.XYZ=0]="XYZ",i[i.XZY=1]="XZY",i[i.YXZ=2]="YXZ",i[i.YZX=3]="YZX",i[i.ZXY=4]="ZXY",i[i.ZYX=5]="ZYX"})(lr||(lr={}));var Zr=function(){function i(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=i.DEFAULT_ORDER),this.x=r,this.y=e,this.z=t,this.order=n}var o=i.prototype;return o.set=function(e,t,n,a){return a===void 0&&(a=this.order),this.x=e,this.y=t,this.z=n,this.order=a,this},o.setZero=function(e){return e===void 0&&(e=this.order),this.set(0,0,0,e)},o.setFromRotationMatrix4=function(e,t){t===void 0&&(t=this.order);var n=e.elements,a=n[0],s=n[4],l=n[8],c=n[1],h=n[5],m=n[9],v=n[2],p=n[6],b=n[10];switch(t){case lr.XYZ:this.y=Math.asin(Li(l,-1,1)),Math.abs(l)<.9999999?(this.x=Math.atan2(-m,b),this.z=Math.atan2(-s,a)):(this.x=Math.atan2(p,h),this.z=0);break;case lr.YXZ:this.x=Math.asin(-Li(m,-1,1)),Math.abs(m)<.9999999?(this.y=Math.atan2(l,b),this.z=Math.atan2(c,h)):(this.y=Math.atan2(-v,a),this.z=0);break;case lr.ZXY:this.x=Math.asin(Li(p,-1,1)),Math.abs(p)<.9999999?(this.y=Math.atan2(-v,b),this.z=Math.atan2(-s,h)):(this.y=0,this.z=Math.atan2(c,a));break;case lr.ZYX:this.y=Math.asin(-Li(v,-1,1)),Math.abs(v)<.9999999?(this.x=Math.atan2(p,b),this.z=Math.atan2(c,a)):(this.x=0,this.z=Math.atan2(-s,h));break;case lr.YZX:this.z=Math.asin(Li(c,-1,1)),Math.abs(c)<.9999999?(this.x=Math.atan2(-m,h),this.y=Math.atan2(-v,a)):(this.x=0,this.y=Math.atan2(l,b));break;case lr.XZY:this.z=Math.asin(-Li(s,-1,1)),Math.abs(s)<.9999999?(this.x=Math.atan2(p,h),this.y=Math.atan2(l,a)):(this.x=Math.atan2(-m,b),this.y=0);break;default:console.error("setFromRotationMatrix: unknown order: "+t)}return this.x*=da,this.y*=da,this.z*=da,this.order=t,this},o.setFromQuaternion=function(e,t){t===void 0&&(t=this.order);var n=i.tempMat0;return n.setFromQuaternion(e),this.setFromRotationMatrix4(n,t)},o.setFromVector3=function(e,t){return t===void 0&&(t=this.order),this.set(e.x,e.y,e.z,t)},o.setFromArray=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.order);var a;this.x=(a=e[t])!=null?a:0;var s;this.y=(s=e[t+1])!=null?s:0;var l;this.z=(l=e[t+2])!=null?l:0;var c;return this.order=(c=e[t+3])!=null?c:n,this},o.clone=function(){return new i(this.x,this.y,this.z,this.order)},o.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.order=e.order,this},o.add=function(e){return this.order!=e.order?(console.error("add euler with different order"),this):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},o.addEulers=function(e,t){return e.order!=t.order?(console.error("add euler with different order"),this):(this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.order=e.order,this)},o.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},o.reorder=function(e){var t=new _t;return t.setFromEuler(this),this.setFromQuaternion(t,e)},o.rotateVector3=function(e,t){var n=i.tempQuat0;return n.setFromEuler(this).rotateVector3(e,t)},o.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.order===this.order},o.toVector3=function(e){return e.set(this.x,this.y,this.z)},o.toArray=function(){return[this.x,this.y,this.z]},o.toQuaternion=function(e){var t=this,n=t.x,a=t.y,s=t.z,l=t.order,c=Math.cos(n*Gr*.5),h=Math.cos(a*Gr*.5),m=Math.cos(s*Gr*.5),v=Math.sin(n*Gr*.5),p=Math.sin(a*Gr*.5),b=Math.sin(s*Gr*.5);switch(l){case lr.XYZ:e.set(v*h*m+c*p*b,c*p*m-v*h*b,c*h*b+v*p*m,c*h*m-v*p*b);break;case lr.YXZ:e.set(v*h*m+c*p*b,c*p*m-v*h*b,c*h*b-v*p*m,c*h*m+v*p*b);break;case lr.ZXY:e.set(v*h*m-c*p*b,c*p*m+v*h*b,c*h*b+v*p*m,c*h*m-v*p*b);break;case lr.ZYX:e.set(v*h*m-c*p*b,c*p*m+v*h*b,c*h*b-v*p*m,c*h*m+v*p*b);break;case lr.YZX:e.set(v*h*m+c*p*b,c*p*m+v*h*b,c*h*b-v*p*m,c*h*m-v*p*b);break;case lr.XZY:e.set(v*h*m-c*p*b,c*p*m-v*h*b,c*h*b+v*p*m,c*h*m+v*p*b);break;default:console.error("unknown euler order: "+l)}return e},o.toMatrix4=function(e){var t=e.elements,n=this,a=n.x,s=n.y,l=n.z,c=n.order,h=Math.cos(a*Gr),m=Math.sin(a*Gr),v=Math.cos(s*Gr),p=Math.sin(s*Gr),b=Math.cos(l*Gr),x=Math.sin(l*Gr);if(c===lr.XYZ){var P=h*b,V=h*x,D=m*b,_=m*x;t[0]=v*b,t[4]=-v*x,t[8]=p,t[1]=V+D*p,t[5]=P-_*p,t[9]=-m*v,t[2]=_-P*p,t[6]=D+V*p,t[10]=h*v}else if(c===lr.YXZ){var K=v*b,U=v*x,W=p*b,q=p*x;t[0]=K+q*m,t[4]=W*m-U,t[8]=h*p,t[1]=h*x,t[5]=h*b,t[9]=-m,t[2]=U*m-W,t[6]=q+K*m,t[10]=h*v}else if(c===lr.ZXY){var ie=v*b,oe=v*x,Xe=p*b,Je=p*x;t[0]=ie-Je*m,t[4]=-h*x,t[8]=Xe+oe*m,t[1]=oe+Xe*m,t[5]=h*b,t[9]=Je-ie*m,t[2]=-h*p,t[6]=m,t[10]=h*v}else if(c===lr.ZYX){var ot=h*b,lt=h*x,Et=m*b,Ht=m*x;t[0]=v*b,t[4]=Et*p-lt,t[8]=ot*p+Ht,t[1]=v*x,t[5]=Ht*p+ot,t[9]=lt*p-Et,t[2]=-p,t[6]=m*v,t[10]=h*v}else if(c===lr.YZX){var Gt=h*v,Qt=h*p,en=m*v,Pt=m*p;t[0]=v*b,t[4]=Pt-Gt*x,t[8]=en*x+Qt,t[1]=x,t[5]=h*b,t[9]=-m*b,t[2]=-p*b,t[6]=Qt*x+en,t[10]=Gt-Pt*x}else if(c===lr.XZY){var Fn=h*v,dn=h*p,In=m*v,Yn=m*p;t[0]=v*b,t[4]=-x,t[8]=p*b,t[1]=Fn*x+Yn,t[5]=h*b,t[9]=dn*x-In,t[2]=In*x-dn,t[6]=m*b,t[10]=Yn*x+Fn}else console.error("toMatrix4: Invalid order "+c);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,e},i.fromRotationMatrix4=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromRotationMatrix4(e,t)},i.fromQuaternion=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromQuaternion(e,t)},i.fromVector3=function(e,t){return t===void 0&&(t=i.DEFAULT_ORDER),new i().setFromVector3(e,t)},i.fromArray=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=i.DEFAULT_ORDER),new i().setFromArray(e,t,n)},i}();Zr.DEFAULT_ORDER=lr.ZYX,Zr.tempQuat0=new _t,Zr.tempMat0=new Tn;var Pa=function(){function i(r,e,t,n,a,s,l,c,h){r===void 0&&(r=1),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=1),s===void 0&&(s=0),l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=1),this.elements=[r,e,t,n,a,s,l,c,h]}var o=i.prototype;return o.set=function(e,t,n,a,s,l,c,h,m){var v=this.elements;return v[0]=e,v[3]=a,v[6]=c,v[1]=t,v[4]=s,v[7]=h,v[2]=n,v[5]=l,v[8]=m,this},o.setFromRowMajorData=function(e,t,n,a,s,l,c,h,m){var v=this.elements;return v[0]=e,v[3]=t,v[6]=n,v[1]=a,v[4]=s,v[7]=l,v[2]=c,v[5]=h,v[8]=m,this},o.setFromColumnVectors=function(e,t,n){return this.set(e.x,e.y,e.z,t.x,t.y,t.z,n.x,n.y,n.z)},o.setFromMatrix4=function(e){var t=e.elements;return this.set(t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10])},o.setFromArray=function(e,t){t===void 0&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[t+n];return this},o.setFromQuaternion=function(e){var t=e.x,n=e.y,a=e.z,s=e.w,l=t+t,c=n+n,h=a+a,m=t*l,v=t*c,p=t*h,b=n*c,x=n*h,P=a*h,V=s*l,D=s*c,_=s*h,K=this.elements;return K[0]=1-(b+P),K[1]=v+_,K[2]=p-D,K[3]=v-_,K[4]=1-(m+P),K[5]=x+V,K[6]=p+D,K[7]=x-V,K[8]=1-(m+b),this},o.setZero=function(){for(var e=0;e<9;e++)this.elements[e]=0;return this},o.identity=function(){return this.set(1,0,0,0,1,0,0,0,1)},o.clone=function(){var e=this.elements;return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},o.copyFrom=function(e){return this.elements=[].concat(e.elements),this},o.getColumnVector=function(e,t){return t.set(this.elements[e*3],this.elements[e*3+1],this.elements[e*3+2])},o.scale=function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},o.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),a=this.elements,s=a[0],l=a[3],c=a[6],h=a[1],m=a[4],v=a[7];return a[0]=t*s+n*h,a[3]=t*l+n*m,a[6]=t*c+n*v,a[1]=-n*s+t*h,a[4]=-n*l+t*m,a[7]=-n*c+t*v,this},o.translate=function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},o.multiply=function(e){if(typeof e=="number"){for(var t=0;t<9;t++)this.elements[t]*=e;return this}else return this.multiplyMatrices(this,e)},o.premultiply=function(e){return this.multiplyMatrices(e,this)},o.multiplyMatrices=function(e,t){var n=e.elements,a=t.elements,s=this.elements,l=n[0],c=n[3],h=n[6],m=n[1],v=n[4],p=n[7],b=n[2],x=n[5],P=n[8],V=a[0],D=a[3],_=a[6],K=a[1],U=a[4],W=a[7],q=a[2],ie=a[5],oe=a[8];return s[0]=l*V+c*K+h*q,s[3]=l*D+c*U+h*ie,s[6]=l*_+c*W+h*oe,s[1]=m*V+v*K+p*q,s[4]=m*D+v*U+p*ie,s[7]=m*_+v*W+p*oe,s[2]=b*V+x*K+P*q,s[5]=b*D+x*U+P*ie,s[8]=b*_+x*W+P*oe,this},o.determinant=function(){var e=this.elements,t=e[0],n=e[3],a=e[6],s=e[1],l=e[4],c=e[7],h=e[2],m=e[5],v=e[8];return t*(l*v-m*c)+s*(m*a-n*v)+h*(n*c-l*a)},o.invert=function(){var e=this.elements,t=e[0],n=e[3],a=e[6],s=e[1],l=e[4],c=e[7],h=e[2],m=e[5],v=e[8],p=v*l-m*c,b=m*a-v*n,x=c*n-l*a,P=t*p+s*b+h*x;if(P===0)return this.set(0,0,0,0,0,0,0,0,0);var V=1/P;return e[0]=p*V,e[1]=(h*c-v*s)*V,e[2]=(m*s-h*l)*V,e[3]=b*V,e[4]=(v*t-h*a)*V,e[5]=(h*n-m*t)*V,e[6]=x*V,e[7]=(s*a-c*t)*V,e[8]=(l*t-s*n)*V,this},o.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},o.transformPoint=function(e,t){var n=e.x,a=e.y,s=e.z,l=this.elements,c=t!=null?t:e;return c.x=l[0]*n+l[3]*a+l[6]*s,c.y=l[1]*n+l[4]*a+l[7]*s,c.z=l[2]*n+l[5]*a+l[8]*s,c},o.transformNormal=function(e,t){return this.transformPoint(e,t).normalize()},o.equals=function(e){for(var t=this.elements,n=e.elements,a=0;a<9;a++)if(!la(t[a],n[a]))return!1;return!0},o.toArray=function(){return[].concat(this.elements)},o.fill=function(e,t){t===void 0&&(t=0);var n=this.elements;e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8]},i.fromIdentity=function(){return new i(1,0,0,0,1,0,0,0,1)},i.fromColumnVectors=function(e,t,n){return new i().setFromColumnVectors(e,t,n)},i.fromMatrix4=function(e){return new i().setFromMatrix4(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromQuaternion=function(e){return new i().setFromQuaternion(e)},i.fromRowMajorData=function(e,t,n,a,s,l,c,h,m){return new i(e,a,c,t,s,h,n,l,m)},i}(),ba=function(){function i(r,e){r===void 0&&(r=be.ZERO),e===void 0&&(e=be.X),this.origin=new be,this.direction=new be,this.origin.copyFrom(r),this.direction.copyFrom(e).normalize()}var o=i.prototype;return o.set=function(e,t){return this.origin.copyFrom(e),this.direction.copyFrom(t).normalize(),this},o.clone=function(){return new i(this.origin,this.direction)},o.copyFrom=function(e){return this.set(e.origin,e.direction)},o.recast=function(e){return this.origin.copyFrom(this.at(e,i.tempVec0)),this},o.at=function(e,t){var n=t||new be;return n.copyFrom(this.origin),n.addScaledVector(this.direction,e)},o.equals=function(e){return this.origin.equals(e.origin)&&this.direction.equals(e.direction)},o.applyMatrix=function(e){return this.origin.applyProjectionMatrix(e),this.direction.applyNormalMatrix(e),this},o.intersectBox=function(e,t){var n=this.origin,a=n.x,s=n.y,l=n.z,c=this.direction,h=c.x,m=c.y,v=c.z,p=e.min,b=p.x,x=p.y,P=p.z,V=e.max,D=V.x,_=V.y,K=V.z,U,W,q,ie,oe,Xe,Je=1/h,ot=1/m,lt=1/v;if(Je>=0?(U=(b-a)*Je,W=(D-a)*Je):(U=(D-a)*Je,W=(b-a)*Je),ot>=0?(q=(x-s)*ot,ie=(_-s)*ot):(q=(_-s)*ot,ie=(x-s)*ot),!(U>ie||q>W)&&((q>U||U!==U)&&(U=q),(ie<W||W!==W)&&(W=ie),(q>U||U!==U)&&(U=q),(ie<W||W!==W)&&(W=ie),lt>=0?(oe=(P-l)*lt,Xe=(K-l)*lt):(oe=(K-l)*lt,Xe=(P-l)*lt),!(U>Xe||oe>W)&&((oe>U||U!==U)&&(U=oe),(Xe<W||W!==W)&&(W=Xe),!(W<0))))return U>=0?this.at(U,t):this.at(W,t)},o.intersectPlane=function(e,t){var n=e.normal,a=e.distance,s=n.dot(this.direction);if(s===0){var l=n.dot(this.origin)+a;if(l===0){var c=t||new be;return c.copyFrom(this.origin)}return}var h=-(this.origin.dot(n)+a)/s;return h>=0?this.at(h,t):void 0},o.intersectSphere=function(e,t){var n=e.center,a=i.tempVec0.subtractVectors(n,this.origin),s=a.dot(this.direction),l=a.dot(a)-s*s,c=e.radius*e.radius;if(!(l>c)){var h=Math.sqrt(c-l),m=s-h,v=s+h;if(!(v<0))return m>=0?this.at(m,t):this.at(v,t)}},o.intersectTriangle=function(e,t,n){var a=e.p0,s=e.p1,l=e.p2,c=i.tempVec0.subtractVectors(s,a),h=i.tempVec1.subtractVectors(l,a),m=i.tempVec2.subtractVectors(this.origin,a),v=i.tempVec3.crossVectors(c,h),p=this.direction.dot(v),b;if(p>0){if(n)return;b=1}else if(p<0)b=-1,p=-p;else return;h.crossVectors(m,h);var x=b*this.direction.dot(h);if(!(x<0)){c.cross(m);var P=b*this.direction.dot(c);if(!(P<0)&&!(x+P>p)){var V=-b*m.dot(v);if(!(V<0))return this.at(V/p,t)}}},i}();ba.tempVec0=new be,ba.tempVec1=new be,ba.tempVec2=new be,ba.tempVec3=new be;var qr=function(){function i(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),this.r=r,this.g=e,this.b=t,this.a=n}var o=i.prototype;return o.set=function(e,t,n,a){return this.r=e,this.g=t,this.b=n,this.a=a,this},o.setZero=function(){return this.r=0,this.g=0,this.b=0,this.a=0,this},o.setFromNumber=function(e){return this.r=e,this.g=e,this.b=e,this.a=e,this},o.setFromVector4=function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this.a=e.w,this},o.setFromArray=function(e,t){t===void 0&&(t=0);var n;this.r=(n=e[t])!=null?n:0;var a;this.g=(a=e[t+1])!=null?a:0;var s;this.b=(s=e[t+2])!=null?s:0;var l;return this.a=(l=e[t+3])!=null?l:0,this},o.setFromHSV=function(e,t,n,a){a===void 0&&(a=1);var s=n*t,l=e/60,c=s*(1-Math.abs(l%2-1)),h=0,m=0,v=0;l>=0&&l<=1?(h=s,m=c):l>=1&&l<=2?(h=c,m=s):l>=2&&l<=3?(m=s,v=c):l>=3&&l<=4?(m=c,v=s):l>=4&&l<=5?(h=c,v=s):l>=5&&l<=6&&(h=s,v=c);var p=n-s;return this.set(h+p,m+p,v+p,a)},o.setFromHexString=function(e){if(e.substring(0,1)!=="#"||e.length!==9&&e.length!==7)return this;var t=parseInt(e.substring(1,3),16)/255,n=parseInt(e.substring(3,5),16)/255,a=parseInt(e.substring(5,7),16)/255,s=e.length===9?parseInt(e.substring(7,9),16)/255:1;return this.set(t,n,a,s)},o.copyFrom=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},o.clone=function(){return new i(this.r,this.g,this.b,this.a)},o.setElement=function(e,t){switch(e){case 0:this.r=t;break;case 1:this.g=t;break;case 2:this.b=t;break;case 3:this.a=t;break;default:console.error("index is out of range: "+e)}return this},o.getElement=function(e){switch(e){case 0:return this.r;case 1:return this.g;case 2:return this.b;case 3:return this.a;default:console.error("index is out of range: "+e)}return 0},o.add=function(e){return typeof e=="number"?(this.r+=e,this.g+=e,this.b+=e,this.a+=e):k(e,Array)?(this.r+=e[0],this.g+=e[1],this.b+=e[2],this.a+=e[3]):(this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a),this},o.subtract=function(e){return typeof e=="number"?(this.r-=e,this.g-=e,this.b-=e,this.a-=e):k(e,Array)?(this.r-=e[0],this.g-=e[1],this.b-=e[2],this.a-=e[3]):(this.r-=e.r,this.g-=e.g,this.b-=e.b,this.a-=e.a),this},o.multiply=function(e){return typeof e=="number"?(this.r*=e,this.g*=e,this.b*=e,this.a*=e):k(e,Array)?(this.r*=e[0],this.g*=e[1],this.b*=e[2],this.a*=e[3]):(this.r*=e.r,this.g*=e.g,this.b*=e.b,this.a*=e.a),this},o.divide=function(e){return typeof e=="number"?(this.r/=e,this.g/=e,this.b/=e,this.a/=e):k(e,Array)?(this.r/=e[0],this.g/=e[1],this.b/=e[2],this.a/=e[3]):(this.r/=e.r,this.g/=e.g,this.b/=e.b,this.a/=e.a),this},o.scale=function(e){return this.r*=e,this.g*=e,this.b*=e,this.a*=e,this},o.min=function(e){return typeof e=="number"?(this.r=Math.min(this.r,e),this.g=Math.min(this.g,e),this.b=Math.min(this.b,e),this.a=Math.min(this.a,e)):(this.r=Math.min(this.r,e.r),this.g=Math.min(this.g,e.g),this.b=Math.min(this.b,e.b),this.a=Math.min(this.a,e.a)),this},o.max=function(e){return typeof e=="number"?(this.r=Math.max(this.r,e),this.g=Math.max(this.g,e),this.b=Math.max(this.b,e),this.a=Math.max(this.a,e)):(this.r=Math.max(this.r,e.r),this.g=Math.max(this.g,e.g),this.b=Math.max(this.b,e.b),this.a=Math.max(this.a,e.a)),this},o.clamp=function(e,t){return this.max(e).min(t)},o.lerp=function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this.a+=(e.a-this.a)*t,this},o.luminance=function(){return this.r*.3+this.g*.59+this.b*.11},o.equals=function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a},o.toLinear=function(){return this.r=i.gammaToLinear(this.r),this.g=i.gammaToLinear(this.g),this.b=i.gammaToLinear(this.b),this},o.toGamma=function(){return this.r=i.linearToGamma(this.r),this.g=i.linearToGamma(this.g),this.b=i.linearToGamma(this.b),this},o.toArray=function(){return[this.r,this.g,this.b,this.a]},o.toVector4=function(){return new Bn(this.r,this.g,this.b,this.a)},o.toHSV=function(){var e=this,t=e.r,n=e.g,a=e.b,s=e.a,l=Math.max(t,n,a),c=Math.min(t,n,a),h=l,m=l-c,v=0,p=0;return l!==0&&(p=m/l),l!=c&&(l==t?(v=(n-a)/m,n<a&&(v+=6)):l==n?v=(a-t)/m+2:l==a&&(v=(t-n)/m+4),v*=60),new i(v,p,h,s)},o.toHexString=function(e){e===void 0&&(e=!0);var t=i.ToHex(Math.round(this.r*255)),n=i.ToHex(Math.round(this.g*255)),a=i.ToHex(Math.round(this.b*255)),s=i.ToHex(Math.round(this.a*255));return e?"#"+t+n+a+s:"#"+t+n+a},o.fill=function(e,t){t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e[t+3]=this.a},i.fromNumber=function(e){return new i().setFromNumber(e)},i.fromArray=function(e,t){return t===void 0&&(t=0),new i().setFromArray(e,t)},i.fromHexString=function(e){return new i().setFromHexString(e)},i.fromHSV=function(e,t,n,a){return a===void 0&&(a=1),new i().setFromHSV(e,t,n,a)},i.gammaToLinear=function(e){return e<=0?0:e<=.04045?e/12.92:e<1?Math.pow((e+.055)/1.055,2.4):Math.pow(e,2.4)},i.linearToGamma=function(e){return e<=0?0:e<.0031308?12.92*e:e<1?1.055*Math.pow(e,.41666)-.055:Math.pow(e,.41666)},i.ToHex=function(e){var t=e.toString(16);return e<=15?("0"+t).toUpperCase():t.toUpperCase()},i}();qr.BLACK=new qr(0,0,0,1),qr.BLUE=new qr(0,0,1,1),qr.CLEAR=new qr(0,0,0,0),qr.CYAN=new qr(0,1,1,1),qr.GRAY=new qr(.5,.5,.5,1),qr.GREEN=new qr(0,1,0,1),qr.MAGENTA=new qr(1,0,1,1),qr.RED=new qr(1,0,0,1),qr.WHITE=new qr(1,1,1,1),qr.YELLOW=new qr(1,.92,.016,1);var xa=function(){function i(r,e){r===void 0&&(r=new be(1/0,1/0,1/0)),e===void 0&&(e=new be(-1/0,-1/0,-1/0)),this.min=r.clone(),this.max=e.clone()}var o=i.prototype;return o.set=function(e,t){return this.min.copyFrom(e),this.max.copyFrom(t),this},o.setFromArray=function(e){for(var t=1/0,n=1/0,a=1/0,s=-1/0,l=-1/0,c=-1/0,h=0,m=e.length;h<m;h+=3){var v=e[h],p=e[h+1],b=e[h+2];v<t&&(t=v),p<n&&(n=p),b<a&&(a=b),v>s&&(s=v),p>l&&(l=p),b>c&&(c=b)}return this.min.set(t,n,a),this.max.set(s,l,c),this},o.setFromPoints=function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},o.setFromCenterAndSize=function(e,t){var n=t.clone().multiply(.5);return this.min.copyFrom(e).subtract(n),this.max.copyFrom(e).add(n),this},o.setFromObject=function(e){return this.makeEmpty(),this.expandByObject(e)},o.clone=function(){return new i().copyFrom(this)},o.copyFrom=function(e){return this.min.copyFrom(e.min),this.max.copyFrom(e.max),this},o.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},o.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},o.getCenter=function(e){return e===void 0&&(e=new be),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiply(.5)},o.getSize=function(e){return e===void 0&&(e=new be),this.isEmpty()?e.set(0,0,0):e.subtractVectors(this.max,this.min)},o.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},o.expandByVector=function(e){return this.min.subtract(e),this.max.add(e),this},o.expandByScalar=function(e){return this.min.add(-e),this.max.add(e),this},o.expandByBox=function(e){return this.min.min(e.min),this.max.max(e.max),this},o.expandByObject=function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;if(t!==void 0){t.boundingBox===null&&t.computeBoundingBox();var n=new i;n.copyFrom(t.boundingBox),n.applyMatrix4(e.matrixWorld),this.union(n)}for(var a=e.children,s=0,l=a.length;s<l;s++)this.expandByObject(a[s]);return this},o.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},o.containsBox=function(e){return this.min.x<=e.min.x&&this.max.x>=e.max.x&&this.min.y<=e.min.y&&this.max.y>=e.max.y&&this.min.z<=e.min.z&&this.max.z>=e.max.z},o.getParameter=function(e,t){return t===void 0&&(t=new be),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},o.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},o.intersectsSphere=function(e){var t=new be;return this.clampPoint(e.center,t),t.distanceSquared(e.center)<=e.radius*e.radius},o.clampPoint=function(e,t){return t===void 0&&(t=new be),t.copyFrom(e).clamp(this.min,this.max)},o.distanceToPoint=function(e){var t=e.clone().clamp(this.min,this.max);return t.subtract(e).length()},o.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},o.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},o.applyMatrix4=function(e,t){if(t===void 0&&(t=new be),this.isEmpty())return this;var n=this.getOBBPoints(e,t);return this.setFromPoints(n),this},o.getOBBPoints=function(e,t){if(t===void 0&&(t=new be),this.isEmpty())return[];var n=[];return n[0]=new be(this.min.x,this.min.y,this.min.z),n[1]=new be(this.min.x,this.min.y,this.max.z),n[2]=new be(this.min.x,this.max.y,this.min.z),n[3]=new be(this.min.x,this.max.y,this.max.z),n[4]=new be(this.max.x,this.min.y,this.min.z),n[5]=new be(this.max.x,this.min.y,this.max.z),n[6]=new be(this.max.x,this.max.y,this.min.z),n[7]=new be(this.max.x,this.max.y,this.max.z),n.forEach(function(a){a.subtract(t),a.applyMatrix(e),a.add(t)}),n},o.getBoundingSphere=function(e){this.getCenter(e.center);var t=new be;return e.radius=this.getSize(t).length()*.5,e},o.translate=function(e){return this.min.add(e),this.max.add(e),this},o.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},i}(),aa=function(){function i(r,e){r===void 0&&(r=be.ZERO),e===void 0&&(e=-1),this.center=r.clone(),this.radius=e}var o=i.prototype;return o.set=function(e,t){return this.center.copyFrom(e),this.radius=t,this},o.setFromPoints=function(e,t){var n=this.center;if(t!==void 0){n.copyFrom(t);for(var a=0,s=0;s<e.length;s++)a=Math.max(a,n.distanceSquared(e[s]));this.radius=Math.sqrt(a)}else{var l=new xa().setFromPoints(e);l.getCenter(n),this.radius=l.getSize().length()/2}return this},o.copyFrom=function(e){return this.center.copyFrom(e.center),this.radius=e.radius,this},o.isEmpty=function(){return this.radius<0},o.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},o.containsPoint=function(e){return e.distanceSquared(this.center)<=this.radius*this.radius},o.distanceToPoint=function(e){return e.distance(this.center)-this.radius},o.intersectsSphere=function(e){var t=this.radius+e.radius;return e.center.distanceSquared(this.center)<=t*t},o.intersectsBox=function(e){return e.intersectsSphere(this)},o.clampPoint=function(e,t){var n=this.center.distanceSquared(e);return t===void 0&&(t=new be),t.copyFrom(e),n>this.radius*this.radius&&(t.subtract(this.center).normalize(),t.multiply(this.radius).add(this.center)),t},o.getBoundingBox=function(e){return e===void 0&&(e=new xa),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},o.applyMatrix4=function(e){var t=e.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10],l=Math.sqrt(Math.max(n,a,s));return this.center.applyMatrix(e),this.radius=this.radius*l,this},o.translate=function(e){return this.center.add(e),this},o.expandByPoint=function(e){var t=new be().subtractVectors(e,this.center),n=t.lengthSquared();if(n>this.radius*this.radius){var a=Math.sqrt(n),s=(a-this.radius)*.5;this.center.add(t.multiply(s/a)),this.radius+=s}return this},o.union=function(e){var t=new be,n=new be;return n.subtractVectors(e.center,this.center).normalize().multiply(e.radius),this.expandByPoint(t.copyFrom(e.center).add(n)),this.expandByPoint(t.copyFrom(e.center).subtract(n)),this},o.intersect=function(e){var t=new be().subtractVectors(this.center,e.center),n=t.length(),a=this.radius+e.radius;return n>a?this.makeEmpty():(this.center=this.center.add(t.normalize().multiply(n/2)),this.radius=this.radius+e.radius-n,this)},o.equals=function(e){return e.center.equals(this.center)&&e.radius===this.radius},o.clone=function(){return new i().copyFrom(this)},i}(),so=Object.freeze({__proto__:null,get EulerOrder(){return lr},Euler:Zr,Quaternion:_t,Vector2:gr,Vector3:be,Vector4:Bn,Matrix3:Pa,Matrix4:Tn,Ray:ba,PI2:fi,DEG2RAD:Gr,RAD2DEG:da,NumberEpsilon:Da,isZero:ma,isEqual:la,damp:ya,lerp:fn,degToRad:Qa,radToDeg:eo,clamp:Li,Color:qr,Box3:xa,Sphere:aa}),ai=1,gi=function(i){Ee(o,i);function o(e,t){var n;if(n=i.call(this,e)||this,n.destroyed=!1,n.visible=!0,t){var a=t.material,s=t.geometry,l=t.name,c=l===void 0?"<unnamed>":l,h=t.priority,m=h===void 0?0:h,v=t.worldMatrix,p=v===void 0?Tn.fromIdentity():v;n.id="Mesh"+ai++,n.name=c,n.geometry=s,n.material=a,n.priority=m,n.worldMatrix=p}else n.id="Mesh"+ai++,n.name="<unnamed>",n.worldMatrix=Tn.fromIdentity(),n._priority=0;return n}var r=o.prototype;return r.setVisible=function(t){this.visible=t},r.getVisible=function(){return this.visible},r.render=function(t){this.isDestroyed||this.getVisible()&&(t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.worldMatrix),t.drawGeometry(this.geometry,this.material))},r.firstGeometry=function(){return this.geometry},r.setMaterial=function(t,n){n!==Dt.keep&&this.material.dispose(n),this.material=t},r.restore=function(){},r.dispose=function(t){if(!this.destroyed){(t==null?void 0:t.geometries)!==Dt.keep&&this.geometry.dispose();var n=t==null?void 0:t.material;n!==Dt.keep&&this.material.dispose(n),this.destroyed=!0,this.engine!==void 0&&(this.engine.removeMesh(this),this.engine=void 0)}},yn(o,[{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(Ji),Ca=0,Ra=1e3,Za=3e3,oi;(function(i){i[i.none=0]="none",i[i.color=1]="color",i[i.stencil_8_opaque=2]="stencil_8_opaque",i[i.depth_16_opaque=3]="depth_16_opaque",i[i.depth_stencil_opaque=4]="depth_stencil_opaque",i[i.depth_16_texture=5]="depth_16_texture",i[i.depth_24_stencil_8_texture=6]="depth_24_stencil_8_texture"})(oi||(oi={}));var Fi;(function(i){i[i.store=0]="store",i[i.clear=2]="clear"})(Fi||(Fi={}));var Ea=function(){function i(r,e){if(this.destroyed=!1,!!e){var t=e.texture,n=e.size;if(k(t,Zn))this.texture=t,this.externalTexture=!0;else if(t){var a=t.wrapT,s=t.wrapS,l=t.minFilter,c=t.magFilter,h=t.internalFormat,m=t.format,v=m===void 0?F.RGBA:m,p=t.type,b=p===void 0?F.UNSIGNED_BYTE:p;this.externalTexture=!1,this.textureOptions={size:n,format:v,type:b,internalFormat:h||v,wrapT:a,wrapS:s,minFilter:l,magFilter:c,name:e.name},this.texture=Zn.create(r,I({},this.textureOptions,{sourceType:j.framebuffer,data:{width:n[0],height:n[1]}}))}}}var o=i.prototype;return o.dispose=function(){this.destroyed||(this.texture.dispose(),this.destroyed=!0)},yn(i,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"storageType",get:function(){return 1}},{key:"size",get:function(){var e=this.texture;return e?[e.getWidth(),e.getHeight()]:[0,0]}},{key:"width",get:function(){return this.texture.getWidth()||0}},{key:"height",get:function(){return this.texture.getHeight()||0}}]),i}(),ua;(function(i){i[i.force=0]="force",i[i.keep=1]="keep",i[i.keepExternal=2]="keepExternal",i[i.destroy=0]="destroy"})(ua||(ua={}));var jo=1,qi=function(){function i(r,e){this.attachments=[],this.destroyed=!1,this.initialized=!1;var t=e.name,n=t===void 0?"RenderPass_"+jo++:t,a=e.clearAction,s=e.semantics,l=e.depthStencilAttachment,c=e.storeAction,h=e.priority,m=h===void 0?0:h,v=e.meshOrder,p=v===void 0?J.ascending:v,b=e.meshes,x=b===void 0?[]:b,P=e.delegate,V=P===void 0?{}:P;this.name=n,this.renderer=r,this.priority=m,this.meshOrder=p,this.meshes=de(x.slice(),this.meshOrder),this.depthStencilType=(l==null?void 0:l.storageType)||0,this.clearAction=I({},a),this.storeAction=I({colorAction:0,depthAction:0,stencilAction:0},c),this.semantics=new Wr(s),this.options=e,this.delegate=V,this.setViewportOptions(e)}var o=i.prototype;return o.addMesh=function(e){we(this.meshes,e,this.meshOrder)},o.removeMesh=function(e){ge(this.meshes,e)},o.setMeshes=function(e){var t;return this.meshes.length=0,(t=this.meshes).splice.apply(t,[].concat([0,0],e)),de(this.meshes,this.meshOrder),this.meshes},o.getInitAttachments=function(){return this.attachments.length>0?this.attachments:this.options.attachments},o.configure=function(e){if(this.framebuffer)e.setFramebuffer(this.framebuffer);else{var t=this.getViewport(),n=t[0],a=t[1],s=t[2],l=t[3];e.setViewport(n,a,s,l)}},o.execute=function(e){e.clear(this.clearAction),e.renderMeshes(this.meshes),e.clear(this.storeAction)},o.frameCleanup=function(e){},o.resetColorAttachments=function(e){var t=this;if(e.length||this.resetAttachments({attachments:[]}),!this.attachments.length)this.resetAttachments({attachments:e.map(function(a){return{texture:a}})});else{var n=e.map(function(a){return a.updateSource({sourceType:j.framebuffer}),new Ea(t.renderer.engine,{texture:a})});this.attachments.forEach(function(a){return!a.externalTexture&&a.dispose()}),this.attachments=n,this.framebuffer&&(this.framebuffer.bind(),this.framebuffer.resetColorTextures(e.map(function(a){return a})))}},o.resetAttachments=function(e){this.options=e,this.setViewportOptions(e),this.renderer&&this._resetAttachments()},o.setViewportOptions=function(e){if(e.viewport){if(this.isCustomViewport=!0,this.viewportScale=1,this.customViewport=e.viewport.slice(0,4),this.framebuffer){var t=this.customViewport;this.framebuffer.isCustomViewport=!1,this.framebuffer.resize(t[0],t[1],t[2],t[3])}}else this.isCustomViewport=!1,this.viewportScale=e.viewportScale||1,this.framebuffer&&(this.framebuffer.isCustomViewport=!0,this.framebuffer.viewportScale=this.viewportScale)},o._resetAttachments=function(){var e=this,t,n=this.renderer,a=this.options;if(this.attachments.length){var s;this.attachments.forEach(function(b){return!b.externalTexture&&b.dispose()}),this.attachments.length=0,(s=this.framebuffer)==null||s.dispose({depthStencilAttachment:2}),this.framebuffer=null}var l=this.viewportScale,c=this.isCustomViewport?this.customViewport:[0,0,n.getWidth()*l,n.getHeight()*l],h=[c[2],c[3]],m=this.name;if((t=a.attachments)!=null&&t.length){var v=a.attachments.map(function(b,x){var P,V=new Ea(e.renderer.engine,I({size:h,name:((P=b.texture)==null?void 0:P.name)||m+"##color_"+x},b));return V});this.attachments=v;var p=fs.create({storeAction:this.storeAction,name:m,viewport:c,viewportScale:this.viewportScale,isCustomViewport:this.isCustomViewport,attachments:v.map(function(b){return b.texture}),depthStencilAttachment:a.depthStencilAttachment||{storageType:0}},n);p.bind(),p.unbind(),this.framebuffer=p}else this.attachments.length=0},o.getViewport=function(){var e,t=((e=this.framebuffer)==null?void 0:e.viewport)||this.customViewport;if(t)return t;var n=this.renderer,a=this.viewportScale;return n?[0,0,n.getWidth()*a,n.getHeight()*a]:[0,0,0,0]},o.getDepthAttachment=function(){var e=this.framebuffer;if(e){var t=e.getDepthTexture(),n=t?this.getDepthTexture(t,e.externalStorage):void 0;return{storageType:e.depthStencilStorageType,storage:e.depthStorage,texture:n}}},o.getStencilAttachment=function(){var e=this.framebuffer;if(e){var t=e.getStencilTexture(),n=t?this.getDepthTexture(t,e.externalStorage):void 0;return{storageType:e.depthStencilStorageType,storage:e.stencilStorage,texture:n}}},o.getDepthTexture=function(e,t){if(!this.depthTexture){var n,a=(n=this.options.depthStencilAttachment)==null?void 0:n.texture,s=e===a?a:e;return t||(this.depthTexture=s),s}return this.depthTexture},o.getStencilTexture=function(e,t){if(!this.stencilTexture){var n,a=(n=this.options.depthStencilAttachment)==null?void 0:n.texture,s=e===a?a:e;return t||(this.stencilTexture=s),s}return this.stencilTexture},o.initialize=function(e){return this.initialized||(this._resetAttachments(),this.initialized=!0),this},o.dispose=function(e){if(!this.destroyed){var t=(e==null?void 0:e.meshes)||void 0;t!==Dt.keep&&this.meshes.forEach(function(m){m.dispose(t)}),this.meshes.length=0;var n=e!=null&&e.colorAttachment?e.colorAttachment:0;this.attachments.forEach(function(m){var v=m.externalTexture&&n===2||n===1;v||m.dispose()}),this.attachments.length=0,(e==null?void 0:e.semantics)!==Dt.keep&&this.semantics.dispose(),this.destroyed=!0;var a=e!=null&&e.depthStencilAttachment?e.depthStencilAttachment:0,s=this.framebuffer;if(s){s.dispose({depthStencilAttachment:a});var l=s.externalStorage&&a===2||a===1;if(!l){var c,h;(c=this.stencilTexture)==null||c.dispose(),(h=this.depthTexture)==null||h.dispose()}}this.options=this.renderer=null,this.initialize=Mt}},yn(i,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"viewport",get:function(){return this.getViewport()}},{key:"stencilAttachment",get:function(){return this.getStencilAttachment()}},{key:"depthAttachment",get:function(){return this.getDepthAttachment()}}]),i}(),lo="vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}",Ta=`#version 100
precision highp float;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}varying vec4 vColor;varying vec4 vTexCoord;varying highp vec2 vParams;uniform vec3 uFrameColor;void main(){gl_FragColor=vec4(uFrameColor.xyz,1.0);}`,xl="float calculateMovement(float t,vec2 p1,vec2 p2,vec2 p3,vec2 p4){float movement=0.0;float h=(t-p1.x)*0.05;for(int i=0;i<=20;i++){float t=float(i)*h;float nt=binarySearchT(t,p1.x,p2.x,p3.x,p4.x);float y=cubicBezier(nt,p1.y,p2.y,p3.y,p4.y);float weight=(i==0||i==20)? 1.0 :(mod(float(i),2.)!=0.)? 4.0 : 2.0;movement+=weight*y;}movement*=h/3.;return movement;}float integrateFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i+=2){vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return ret;}vec2 p1=vec2(k0.x,k0.y);vec2 p2=vec2(k0.z,k0.w);vec2 p3=vec2(k1.z,k1.w);vec2 p4=vec2(k1.x,k1.y);if(time>=k1.x){ret+=calculateMovement(k1.x,p1,p2,p3,p4);}if(time>=k0.x&&time<k1.x){return ret+calculateMovement(time,p1,p2,p3,p4);}}return ret;}float integrateByTimeLineSeg(float t,vec2 p0,vec2 p1){float t0=p0.x;float t1=p1.x;float y0=p0.y;float y1=p1.y;vec4 tSqr=vec4(t,t,t0,t0);tSqr=tSqr*tSqr;vec4 a=vec4(2.*t,3.,-t0,3.)*tSqr;float t1y0=t1*y0;vec4 b=vec4(y0-y1,t0*y1-t1y0,2.*y0+y1,t1y0);float r=dot(a,b);return r/(t0-t1)*0.16666667;}float integrateLineSeg(float time,vec2 p0,vec2 p1){float h=time-p0.x;float y0=p0.y;return(y0+y0+(p1.y-y0)*h/(p1.x-p0.x))*h/2.;}float integrateFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateLineSeg(time,k0,k1);}ret+=integrateLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateLineSeg(time,k1,k2);}ret+=integrateLineSeg(k2.x,k1,k2);}return ret;}float integrateByTimeFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateByTimeLineSeg(time,k0,k1);}ret+=integrateByTimeLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateByTimeLineSeg(time,k1,k2);}ret+=integrateByTimeLineSeg(k2.x,k1,k2);}return ret;}float getIntegrateFromTime0(float t1,vec4 value){float type=value.x;if(type==0.){return value.y*t1;}if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateLineSeg(t1,p0,p1);}if(type==3.){return integrateFromLineSeg(t1,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*t1;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w);}return 0.;}float getIntegrateByTimeFromTime(float t0,float t1,vec4 value){float type=value.x;if(type==0.){return value.y*(t1*t1-t0*t0)/2.;}else if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateByTimeLineSeg(t1,p0,p1)-integrateByTimeLineSeg(t0,p0,p1);}if(type==3.){return integrateByTimeFromLineSeg(t1,value.y,value.z)-integrateByTimeFromLineSeg(t0,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*(t1*t1-t0*t0)/2.;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w)-integrateFromBezierCurveFrames(t0,value.z,value.w);}return 0.;}",ls=`precision highp float;attribute vec2 atlasOffset;attribute vec3 aPos;varying vec2 vTexCoord;varying vec3 vParams;varying vec4 vColor;uniform vec2 _Size;uniform vec3 _Scale;uniform vec4 _Color;uniform vec4 _TexParams;uniform vec4 _TexOffset;uniform mat4 effects_MatrixVP;uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixV;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
void main(){vec4 texParams=_TexParams;vTexCoord=vec2(atlasOffset.xy*_TexOffset.zw+_TexOffset.xy);vColor=_Color;vParams=vec3(0.0,texParams.y,texParams.x);if(texParams.z==1.0){vec4 pos=vec4(aPos.xy*_Size,aPos.z,1.0);gl_Position=effects_MatrixVP*effects_ObjectToWorld*pos;}else{mat4 view=effects_MatrixV;vec3 camRight=vec3(view[0][0],view[1][0],view[2][0]);vec3 camUp=vec3(view[0][1],view[1][1],view[2][1]);vec3 worldPosition=vec3(effects_ObjectToWorld*vec4(0.0,0.0,0.0,1.0));vec3 vertexPosition=worldPosition+camRight*aPos.x*_Size.x*_Scale.x+camUp*aPos.y*_Size.y*_Scale.y;gl_Position=effects_MatrixVP*vec4(vertexPosition,1.0);}
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}`,Ss=`precision highp float;varying vec4 vColor;varying vec2 vTexCoord;varying vec3 vParams;uniform sampler2D _MainTex;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}void main(){vec4 color=vec4(0.);vec4 texColor=texture2D(_MainTex,vTexCoord.xy);color=blendColor(texColor,vColor,floor(0.5+vParams.y));
#ifdef ALPHA_CLIP
if(vParams.z==0.&&color.a<0.04){discard;}
#endif
color.a=clamp(color.a,0.0,1.0);gl_FragColor=color;}`,Ho=`#version 100
precision mediump float;vec4 blendColor(vec4 color,vec4 vc,float mode){vec4 ret=color*vc;float alpha=ret.a;if(mode==1.){ret.rgb*=alpha;}else if(mode==2.){ret.rgb*=alpha;ret.a=dot(ret.rgb,vec3(0.33333333));}else if(mode==3.){alpha=color.r*alpha;ret=vec4(vc.rgb*alpha,alpha);}return ret;}
#define PATICLE_SHADER 1
varying float vLife;varying vec2 vTexCoord;varying vec4 vColor;uniform vec3 emissionColor;uniform float emissionIntensity;uniform sampler2D uMaskTex;uniform vec4 uColorParams;uniform vec2 uTexOffset;
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
#ifdef USE_SPRITE
varying vec4 vTexCoordBlend;
#endif
varying float vSeed;
#ifdef PREVIEW_BORDER
uniform vec4 uPreviewColor;
#endif
#ifdef USE_SPRITE
vec4 getTextureColor(sampler2D tex,vec2 texCoord){if(vTexCoordBlend.w>0.){return mix(texture2D(tex,texCoord),texture2D(tex,vTexCoordBlend.xy+texCoord),vTexCoordBlend.z);}return texture2D(tex,texCoord);}
#else
#define getTextureColor texture2D
#endif
#ifndef WEBGL2
#define round(a) floor(0.5+a)
#endif
#ifdef PREVIEW_BORDER
void main(){gl_FragColor=uPreviewColor;}
#else
void main(){vec4 color=vec4(1.0);vec4 tempColor=vColor;vec2 texOffset=uTexOffset;if(vLife<0.){discard;}if(uColorParams.x>0.0){color=getTextureColor(uMaskTex,vTexCoord);}
#ifdef COLOR_OVER_LIFETIME
#ifndef ENABLE_VERTEX_TEXTURE
tempColor*=texture2D(uColorOverLifetime,vec2(vLife,0.));
#endif
#endif
color=blendColor(color,tempColor,round(uColorParams.y));if(color.a<=0.01&&uColorParams.w>0.){float _at=texture2D(uMaskTex,vTexCoord+texOffset).a+texture2D(uMaskTex,vTexCoord+texOffset*-1.).a;if(_at<=0.02){discard;}}vec3 emission=emissionColor*pow(2.0,emissionIntensity);color=vec4(pow(pow(color.rgb,vec3(2.2))+emission,vec3(1.0/2.2)),color.a);gl_FragColor=color;}
#endif
`,Ko=`#version 100
precision mediump float;
#define SHADER_VERTEX 1
#define PATICLE_SHADER 1
#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}float calculateMovement(float t,vec2 p1,vec2 p2,vec2 p3,vec2 p4){float movement=0.0;float h=(t-p1.x)*0.05;for(int i=0;i<=20;i++){float t=float(i)*h;float nt=binarySearchT(t,p1.x,p2.x,p3.x,p4.x);float y=cubicBezier(nt,p1.y,p2.y,p3.y,p4.y);float weight=(i==0||i==20)? 1.0 :(mod(float(i),2.)!=0.)? 4.0 : 2.0;movement+=weight*y;}movement*=h/3.;return movement;}float integrateFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i+=2){vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return ret;}vec2 p1=vec2(k0.x,k0.y);vec2 p2=vec2(k0.z,k0.w);vec2 p3=vec2(k1.z,k1.w);vec2 p4=vec2(k1.x,k1.y);if(time>=k1.x){ret+=calculateMovement(k1.x,p1,p2,p3,p4);}if(time>=k0.x&&time<k1.x){return ret+calculateMovement(time,p1,p2,p3,p4);}}return ret;}float integrateByTimeLineSeg(float t,vec2 p0,vec2 p1){float t0=p0.x;float t1=p1.x;float y0=p0.y;float y1=p1.y;vec4 tSqr=vec4(t,t,t0,t0);tSqr=tSqr*tSqr;vec4 a=vec4(2.*t,3.,-t0,3.)*tSqr;float t1y0=t1*y0;vec4 b=vec4(y0-y1,t0*y1-t1y0,2.*y0+y1,t1y0);float r=dot(a,b);return r/(t0-t1)*0.16666667;}float integrateLineSeg(float time,vec2 p0,vec2 p1){float h=time-p0.x;float y0=p0.y;return(y0+y0+(p1.y-y0)*h/(p1.x-p0.x))*h/2.;}float integrateFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateLineSeg(time,k0,k1);}ret+=integrateLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateLineSeg(time,k1,k2);}ret+=integrateLineSeg(k2.x,k1,k2);}return ret;}float integrateByTimeFromLineSeg(float time,float frameStart,float frameCount){if(time==0.){return 0.;}int start=int(frameStart);int count=int(frameCount-1.);float ret=0.;for(int i=0;i<ITR_END;i++){if(i>count){return ret;}vec4 ks=lookup_curve(i+start);vec2 k0=ks.xy;vec2 k1=ks.zw;if(time>k0.x&&time<=k1.x){return ret+integrateByTimeLineSeg(time,k0,k1);}ret+=integrateByTimeLineSeg(k1.x,k0,k1);vec2 k2=lookup_curve(i+start+1).xy;if(time>k1.x&&time<=k2.x){return ret+integrateByTimeLineSeg(time,k1,k2);}ret+=integrateByTimeLineSeg(k2.x,k1,k2);}return ret;}float getIntegrateFromTime0(float t1,vec4 value){float type=value.x;if(type==0.){return value.y*t1;}if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateLineSeg(t1,p0,p1);}if(type==3.){return integrateFromLineSeg(t1,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*t1;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w);}return 0.;}float getIntegrateByTimeFromTime(float t0,float t1,vec4 value){float type=value.x;if(type==0.){return value.y*(t1*t1-t0*t0)/2.;}else if(type==1.){vec2 p0=vec2(0.,value.y);vec2 p1=vec2(value.w,value.z);return integrateByTimeLineSeg(t1,p0,p1)-integrateByTimeLineSeg(t0,p0,p1);}if(type==3.){return integrateByTimeFromLineSeg(t1,value.y,value.z)-integrateByTimeFromLineSeg(t0,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed)*(t1*t1-t0*t0)/2.;}if(type==5.){return integrateFromBezierCurveFrames(t1,value.z,value.w)-integrateFromBezierCurveFrames(t0,value.z,value.w);}return 0.;}const float d2r=3.141592653589793/180.;attribute vec3 aPos;attribute vec4 aOffset;attribute vec4 aColor;attribute vec3 aDirX;attribute vec3 aDirY;attribute vec3 aTranslation;attribute vec3 aRotation0;attribute vec3 aRotation1;attribute vec3 aRotation2;attribute vec3 aLinearMove;
#ifdef USE_SPRITE
attribute vec3 aSprite;uniform vec4 uSprite;struct UVDetail{vec2 uv0;vec3 uv1;};UVDetail getSpriteUV(vec2 uv,float lifeTime);varying vec4 vTexCoordBlend;
#endif
#ifdef FINAL_TARGET
uniform vec3 uFinalTarget;uniform vec4 uForceCurve;
#endif
uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixV;uniform mat4 effects_MatrixVP;uniform vec4 uParams;uniform vec4 uOpacityOverLifetimeValue;
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
uniform vec4 uOrbXByLifetimeValue;uniform vec4 uOrbYByLifetimeValue;uniform vec4 uOrbZByLifetimeValue;uniform vec3 uOrbCenter;uniform vec4 uSizeByLifetimeValue;
#ifdef SIZE_Y_BY_LIFE
uniform vec4 uSizeYByLifetimeValue;
#endif
varying float vLife;varying vec4 vColor;varying vec2 vTexCoord;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
vec3 calOrbitalMov(float _life,float _dur){vec3 orb=vec3(0.0);
#ifdef AS_ORBITAL_MOVEMENT
#define FUNC(a) getValueFromTime(_life,a)
#else
#define FUNC(a) getIntegrateFromTime0(_life,a) * _dur
#endif
#if ORB_VEL_X
orb.x=FUNC(uOrbXByLifetimeValue);
#endif
#if ORB_VEL_Y
orb.y=FUNC(uOrbYByLifetimeValue);
#endif
#if ORB_VEL_Z
orb.z=FUNC(uOrbZByLifetimeValue);
#endif
#undef FUNC
return orb;}mat3 mat3FromRotation(vec3 rotation){vec3 sinR=sin(rotation*d2r);vec3 cosR=cos(rotation*d2r);return mat3(cosR.z,-sinR.z,0.,sinR.z,cosR.z,0.,0.,0.,1.)*mat3(cosR.y,0.,sinR.y,0.,1.,0.,-sinR.y,0,cosR.y)*mat3(1.,0.,0.,0,cosR.x,-sinR.x,0.,sinR.x,cosR.x);}
#ifdef USE_SPRITE
UVDetail getSpriteUV(vec2 uv,float lifeTime){float t=fract(clamp((lifeTime-aSprite.x)/aSprite.y,0.0,1.)*aSprite.z);float frame=uSprite.z*t;float frameIndex=max(ceil(frame)-1.,0.);float row=floor((frameIndex+0.1)/uSprite.x);float col=frameIndex-row*uSprite.x;vec2 retUV=(vec2(col,row)+uv)/uSprite.xy;UVDetail ret;if(uSprite.w>0.){float blend=frame-frameIndex;float frameIndex1=min(ceil(frame),uSprite.z-1.);float row1=floor((frameIndex1+0.1)/uSprite.x);float col1=frameIndex1-row1*uSprite.x;vec2 coord=(vec2(col1,row1)+uv)/uSprite.xy-retUV;ret.uv1=vec3(coord.x,1.-coord.y,blend);}ret.uv0=vec2(retUV.x,1.-retUV.y);return ret;}
#endif
void main(){float time=uParams.x-aOffset.z;float dur=aOffset.w;if(time<0.||time>dur){gl_Position=vec4(-3.,-3.,-3.,1.);}else{float life=clamp(time/dur,0.0,1.0);vLife=life;
#ifdef USE_SPRITE
UVDetail uvD=getSpriteUV(aOffset.xy,time);vTexCoord=uvD.uv0;vTexCoordBlend=vec4(uvD.uv1,uSprite.w);
#else
vTexCoord=aOffset.xy;
#endif
vColor=aColor;
#ifdef COLOR_OVER_LIFETIME
#ifdef ENABLE_VERTEX_TEXTURE
vColor*=texture2D(uColorOverLifetime,vec2(life,0.));
#endif
#endif
vColor.a*=clamp(getValueFromTime(life,uOpacityOverLifetimeValue),0.,1.);vec3 size=vec3(vec2(getValueFromTime(life,uSizeByLifetimeValue)),1.0);
#ifdef SIZE_Y_BY_LIFE
size.y=getValueFromTime(life,uSizeYByLifetimeValue);
#endif
mat3 aRotation=mat3(aRotation0,aRotation1,aRotation2);vec3 point=aRotation*(aDirX*size.x+aDirY*size.y);vec3 _pos=aPos+aTranslation;
#if ORB_VEL_X + ORB_VEL_Y + ORB_VEL_Z
_pos=mat3FromRotation(calOrbitalMov(life,dur))*(_pos-uOrbCenter);_pos+=uOrbCenter;
#endif
_pos.xyz+=aLinearMove;
#ifdef FINAL_TARGET
float force=getValueFromTime(life,uForceCurve);vec4 pos=vec4(mix(_pos,uFinalTarget,force),1.);
#else
vec4 pos=vec4(_pos,1.0);
#endif
#if RENDER_MODE == 1
pos.xyz+=point;pos=effects_ObjectToWorld*pos;
#elif RENDER_MODE == 3
pos=effects_ObjectToWorld*pos;pos.xyz+=effects_MatrixV[0].xyz*point.x+effects_MatrixV[2].xyz*point.y;
#elif RENDER_MODE == 2
pos=effects_ObjectToWorld*pos;pos.xy+=point.xy;
#elif RENDER_MODE == 0
pos=effects_ObjectToWorld*pos;pos.xyz+=effects_MatrixV[0].xyz*point.x+effects_MatrixV[1].xyz*point.y;
#endif
gl_Position=effects_MatrixVP*pos;vSeed=aSeed;gl_PointSize=6.0;
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}}`,us=`#version 100
precision mediump float;
#define SHADER_VERTEX 1
#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}attribute vec4 aPos;attribute vec3 aDir;attribute vec3 aInfo;attribute vec4 aColor;attribute float aTime;
#ifdef ATTR_TRAIL_START
attribute float aTrailStart;
#else
uniform float uTrailStart[64];attribute float aTrailStartIndex;
#endif
uniform mat4 effects_MatrixInvV;uniform mat4 effects_ObjectToWorld;uniform mat4 effects_MatrixVP;uniform vec4 uTextureMap;uniform float uTime;uniform vec4 uParams;uniform vec4 uColorParams;uniform vec4 uOpacityOverLifetimeValue;uniform vec4 uWidthOverTrail;
#ifdef COLOR_OVER_TRAIL
uniform sampler2D uColorOverTrail;
#endif
#ifdef COLOR_OVER_LIFETIME
uniform sampler2D uColorOverLifetime;
#endif
varying float vLife;varying vec2 vTexCoord;varying vec4 vColor;
#ifdef ENV_EDITOR
uniform vec4 uEditorTransform;
#endif
void main(){vec4 _pa=effects_MatrixVP*vec4(aPos.xyz,1.);vec4 _pb=effects_MatrixVP*vec4(aPos.xyz+aDir,1.);vec2 dir=normalize(_pb.xy/_pb.w-_pa.xy/_pa.w);vec2 screen_xy=vec2(-dir.y,dir.x);vec4 pos=effects_ObjectToWorld*vec4(aPos.xyz,1.);
#ifdef ATTR_TRAIL_START
float ts=aTrailStart;
#else
float ts=uTrailStart[int(aTrailStartIndex)];
#endif
float trail=(ts-aInfo.y)/uParams.y;float width=aPos.w*getValueFromTime(trail,uWidthOverTrail)/max(abs(screen_xy.x),abs(screen_xy.y));pos.xyz+=(effects_MatrixInvV[0].xyz*screen_xy.x+effects_MatrixInvV[1].xyz*screen_xy.y)*width;float time=min((uTime-aTime)/aInfo.x,1.0);gl_Position=effects_MatrixVP*pos;vColor=aColor;
#ifdef COLOR_OVER_LIFETIME
#ifdef ENABLE_VERTEX_TEXTURE
vColor*=texture2D(uColorOverLifetime,vec2(time,0.));
#endif
#endif
#ifdef COLOR_OVER_TRAIL
vColor*=texture2D(uColorOverTrail,vec2(trail,0.));
#endif
vColor.a*=clamp(getValueFromTime(time,uOpacityOverLifetimeValue),0.,1.);vLife=time;vTexCoord=uTextureMap.xy+vec2(trail,aInfo.z)*uTextureMap.zw;vSeed=aSeed;
#ifdef ENV_EDITOR
gl_Position=vec4(gl_Position.xy*uEditorTransform.xy+uEditorTransform.zw*gl_Position.w,gl_Position.zw);
#endif
}`,Qo=`#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
#define NONE_CONST_INDEX 1
#ifdef SHADER_VERTEX
attribute float aSeed;varying float vSeed;
#endif
#ifdef SHADER_VERTEX
#define MAX_C VERT_MAX_KEY_FRAME_COUNT
#else
#define MAX_C FRAG_MAX_KEY_FRAME_COUNT
#endif
mat4 cubicBezierMatrix=mat4(1.0,-3.0,3.0,-1.0,0.0,3.0,-6.0,3.0,0.0,0.0,3.0,-3.0,0.0,0.0,0.0,1.0);float cubicBezier(float t,float y1,float y2,float y3,float y4){vec4 tVec=vec4(1.0,t,t*t,t*t*t);vec4 yVec=vec4(y1,y2,y3,y4);vec4 result=tVec*cubicBezierMatrix*yVec;return result.x+result.y+result.z+result.w;}float binarySearchT(float x,float x1,float x2,float x3,float x4){float left=0.0;float right=1.0;float mid=0.0;float computedX;for(int i=0;i<8;i++){mid=(left+right)*0.5;computedX=cubicBezier(mid,x1,x2,x3,x4);if(abs(computedX-x)<0.0001){break;}else if(computedX>x){right=mid;}else{left=mid;}}return mid;}float valueFromBezierCurveFrames(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);for(int i=0;i<ITR_END;i+=2){if(i>=count){break;}vec4 k0=lookup_curve(i+start);vec4 k1=lookup_curve(i+1+start);if(i==0&&time<k0.x){return k0.y;}if(i==int(frameCount-2.)&&time>=k1.x){return k1.y;}if(time>=k0.x&&time<=k1.x){float t=(time-k0.x)/(k1.x-k0.x);float nt=binarySearchT(time,k0.x,k0.z,k1.z,k1.x);return cubicBezier(nt,k0.y,k0.w,k1.w,k1.y);}}}float evaluteLineSeg(float t,vec2 p0,vec2 p1){return p0.y+(p1.y-p0.y)*(t-p0.x)/(p1.x-p0.x);}float valueFromLineSegs(float time,float frameStart,float frameCount){int start=int(frameStart);int count=int(frameCount-1.);int end=start+count;for(int i=0;i<ITR_END;i++){if(i>count){return lookup_curve(i).w;}vec4 seg=lookup_curve(i+start);vec2 p0=seg.xy;vec2 p1=seg.zw;if(time>=p0.x&&time<=p1.x){return evaluteLineSeg(time,p0,p1);}vec2 p2=lookup_curve(i+start+1).xy;if(time>p1.x&&time<=p2.x){return evaluteLineSeg(time,p1,p2);}}return lookup_curve(0).y;}float getValueFromTime(float time,vec4 value){float type=value.x;if(type==0.){return value.y;}if(type==1.){return mix(value.y,value.z,time/value.w);}if(type==3.){return valueFromLineSegs(time,value.y,value.z);}if(type==4.){return mix(value.y,value.z,aSeed);}if(type==5.){return valueFromBezierCurveFrames(time,value.z,value.w);}return 0.;}`,ws=`#ifdef SHADER_VERTEX
#define CURVE_VALUE_TEXTURE uVCurveValueTexture
#define CURVE_VALUE_ARRAY uVCurveValues
#define CURVE_VALUE_COUNT VERT_CURVE_VALUE_COUNT
#define FRAG_CURVE_VALUE_COUNT 0
#else
#define CURVE_VALUE_TEXTURE uFCurveValueTexture
#define CURVE_VALUE_ARRAY uFCurveValues
#define CURVE_VALUE_COUNT FRAG_CURVE_VALUE_COUNT
#define VERT_CURVE_VALUE_COUNT 0
#endif
#if CURVE_VALUE_COUNT > 0
#if LOOKUP_TEXTURE_CURVE
uniform sampler2D CURVE_VALUE_TEXTURE;const float uCurveCount=1./float(CURVE_VALUE_COUNT);
#define lookup_curve(i) texture2D(CURVE_VALUE_TEXTURE,vec2(float(i) * uCurveCount,0.))
#else
uniform vec4 CURVE_VALUE_ARRAY[CURVE_VALUE_COUNT];
#define lookup_curve(i) CURVE_VALUE_ARRAY[i]
#endif
#else
#define lookup_curve(i) vec4(0.)
#endif
#ifdef WEBGL2
#define ITR_END (count + 1)
#else
#define ITR_END MAX_C
#endif
`,Io="precision highp float;attribute vec2 aPos;varying vec2 uv;void main(){gl_Position=vec4(aPos,0.,1.0);uv=(aPos+vec2(1.0))/2.;}",ca=`precision highp float;
#define HALF_MAX 60000.0
#define ACEScc_MIDGRAY 0.4135884
varying vec2 uv;uniform sampler2D _GaussianTex;uniform sampler2D _SceneTex;uniform float _BloomIntensity;uniform float _Brightness;uniform float _Saturation;uniform float _Contrast;uniform bool _UseBloom;uniform bool _UseToneMapping;uniform vec3 _VignetteColor;uniform vec2 _VignetteCenter;uniform float _VignetteIntensity;uniform float _VignetteSmoothness;uniform float _VignetteRoundness;mat3 LinearToACES=mat3(0.59719,0.07600,0.02840,0.35458,0.90834,0.13383,0.04823,0.01566,0.83777);mat3 ACESToLinear=mat3(1.60475,-0.10208,-0.00327,-0.53108,1.10813,-0.07276,-0.07367,-0.00605,1.07602);float log10(float x){return log(x)/log(10.0);}vec3 log10(vec3 v){return vec3(log10(v.x),log10(v.y),log10(v.z));}vec3 LinearToLogC(vec3 x){return 0.244161*log10(5.555556*x+0.047996)+0.386036;}vec3 LogCToLinear(vec3 x){return(pow(vec3(10.0),(x-0.386036)/0.244161)-0.047996)/5.555556;}vec3 rrt_and_odt_fit(vec3 col){vec3 a=col*(col+0.0245786)-0.000090537;vec3 b=col*(0.983729*col+0.4329510)+0.238081;return a/b;}vec3 ACESToneMapping(vec3 col){vec3 aces=LinearToACES*col;aces=rrt_and_odt_fit(aces);col=ACESToLinear*aces;return col;}vec3 LinearToSrgb(vec3 c){return mix(1.055*pow(c,vec3(1./2.4))-0.055,12.92*c,step(c,vec3(0.0031308)));}vec3 GammaCorrection(vec3 c){return pow(c,vec3(1.0/2.2));}vec3 ApplyVignette(vec3 inputColor,vec2 uv,vec2 center,float intensity,float roundness,float smoothness,vec3 color){vec2 dist=abs(uv-center)*intensity;dist.x*=roundness;float vfactor=pow(clamp((1.0-dot(dist,dist)),0.0,1.0),smoothness);return inputColor*mix(color,vec3(1.0),vfactor);}void main(){vec4 hdrColor=texture2D(_SceneTex,uv);hdrColor.rgb=pow(hdrColor.rgb,vec3(2.2));vec3 finalColor=hdrColor.rgb;if(_UseBloom){vec4 bloomColor=texture2D(_GaussianTex,uv);bloomColor.rgb*=_BloomIntensity;finalColor+=bloomColor.rgb;}if(_VignetteIntensity>0.0){finalColor=ApplyVignette(finalColor,uv,_VignetteCenter,_VignetteIntensity,_VignetteRoundness,_VignetteSmoothness,_VignetteColor);}finalColor=finalColor*_Brightness;vec3 colorLog=LinearToLogC(finalColor);colorLog=(colorLog-ACEScc_MIDGRAY)*_Contrast+ACEScc_MIDGRAY;finalColor=LogCToLinear(colorLog);finalColor=max(finalColor,0.0);float luminance=0.2125*finalColor.r+0.7154*finalColor.g+0.0721*finalColor.b;vec3 luminanceColor=vec3(luminance,luminance,luminance);finalColor=(finalColor-luminanceColor)*_Saturation+luminanceColor;finalColor=max(finalColor,0.0);if(_UseToneMapping){finalColor=max(vec3(0.0),ACESToneMapping(finalColor));}float alpha=min(hdrColor.a,1.0);gl_FragColor=vec4(clamp(GammaCorrection(finalColor),0.0,1.0),alpha);}`,Ks="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;float GaussWeight2D(float x,float y,float sigma){float PI=3.14159265358;float E=2.71828182846;float sigma_2=pow(sigma,2.0);float a=-(x*x+y*y)/(2.0*sigma_2);return pow(E,a)/(2.0*PI*sigma_2);}vec3 GaussNxN(sampler2D tex,vec2 uv,vec2 stride,float sigma){vec3 color=vec3(0.,0.,0.);const int r=5/2;float weight=0.0;for(int i=-r;i<=r;i++){for(int j=-r;j<=r;j++){float w=GaussWeight2D(float(i),float(j),sigma);vec2 coord=uv+vec2(i,j)*stride;color+=texture2D(tex,coord).rgb*w;weight+=w;}}color/=weight;return color;}void main(){vec4 mainColor=texture2D(_MainTex,uv);vec3 color=mainColor.rgb;color=GaussNxN(_MainTex,uv,1.0/_TextureSize,1.0);gl_FragColor=vec4(color,1.0);}",bo="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;vec3 GaussH(sampler2D tex,vec2 uv){vec3 color=vec3(0.0);float offsets[9];offsets[0]=-4.0;offsets[1]=-3.0;offsets[2]=-2.0;offsets[3]=-1.0;offsets[4]=0.0;offsets[5]=1.0;offsets[6]=2.0;offsets[7]=3.0;offsets[8]=4.0;float weights[9];weights[0]=0.01621622;weights[1]=0.05405405;weights[2]=0.12162162;weights[3]=0.19459459;weights[4]=0.22702703;weights[5]=0.19459459;weights[6]=0.12162162;weights[7]=0.05405405;weights[8]=0.01621622;for(int i=0;i<9;i++){vec2 offset=vec2(offsets[i]*2.0*(1.0/_TextureSize.x),0);color+=texture2D(tex,uv+offset).rgb*weights[i];}return color;}void main(){vec3 color=GaussH(_MainTex,uv);gl_FragColor=vec4(color,1.0);}",nr="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform vec2 _TextureSize;vec3 GaussV(sampler2D tex,vec2 uv){vec3 color=vec3(0.0);float offsets[5];offsets[0]=-3.23076923;offsets[1]=-1.38461538;offsets[2]=0.0;offsets[3]=1.38461538;offsets[4]=3.23076923;float weights[5];weights[0]=0.07027027;weights[1]=0.31621622;weights[2]=0.22702703;weights[3]=0.31621622;weights[4]=0.07027027;for(int i=0;i<5;i++){vec2 offset=vec2(0,offsets[i]*(1.0/_TextureSize.y));color+=texture2D(tex,uv+offset).rgb*weights[i];}return color;}void main(){vec3 color=GaussV(_MainTex,uv);gl_FragColor=vec4(color,1.0);}",Ir="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform sampler2D _GaussianDownTex;uniform vec2 _GaussianDownTextureSize;float GaussWeight2D(float x,float y,float sigma){float PI=3.14159265358;float E=2.71828182846;float sigma_2=pow(sigma,2.0);float a=-(x*x+y*y)/(2.0*sigma_2);return pow(E,a)/(2.0*PI*sigma_2);}vec3 GaussNxN(sampler2D tex,vec2 uv,vec2 stride,float sigma){vec3 color=vec3(0.,0.,0.);const int r=1;float weight=0.0;for(int i=-r;i<=r;i++){for(int j=-r;j<=r;j++){float w=GaussWeight2D(float(i),float(j),sigma);vec2 coord=uv+vec2(i,j)*stride;color+=texture2D(tex,coord).rgb*w;weight+=w;}}color/=weight;return color;}void main(){vec3 lowResColor=GaussNxN(_MainTex,uv,0.5/_GaussianDownTextureSize,1.0);vec3 highResColor=GaussNxN(_GaussianDownTex,uv,1.0/_GaussianDownTextureSize,1.0);vec3 color=mix(highResColor,lowResColor,0.7);gl_FragColor=vec4(color,1.0);}",mr="precision highp float;varying vec2 uv;uniform sampler2D _MainTex;uniform float _Threshold;void main(){vec4 mainTex=texture2D(_MainTex,uv);mainTex.rgb=pow(mainTex.rgb,vec3(2.2));float brightness=max(mainTex.r,max(mainTex.g,mainTex.b));float w=max(0.0,brightness-_Threshold)/max(brightness,0.00001);mainTex.rgb*=w;mainTex.rgb*=mainTex.a;gl_FragColor=vec4(mainTex.rgb,1.0);}",Er={},Ei=function(){function i(){}return i.registerInclude=function(r,e){Er[r]&&He.warn('The "'+r+'" shader include already exist.'),Er[r]=e},i.unRegisterInclude=function(r){delete Er[r]},i.unRegisterAllIncludes=function(){Object.keys(Er).forEach(function(r){i.unRegisterInclude(r)})},i.genFinalShaderCode=function(r){var e=r.level,t=r.shaderType,n=r.shader,a=r.macros,s=r.removeVersion,l=i.genMacroString(e,a),c=i.genShaderVersion(e),h=i.parseIncludes(n),m=i.isVersion300(h);return h=i.removeWebGLVersion(h),e===2&&!m&&(h=i.convertTo300(h,t===ao.fragment)),s?l+h:c+l+h},i.convertTo300=function(r,e){r=r.replace(/\bvarying\b/g,e?"in":"out"),r=r.replace(/\btexture(2D|Cube)\b/g,"texture");var t=/#extension.+(GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g;if(r=r.replace(t,""),e){if(r=r.replace(/\btexture(2D|Cube)LodEXT\b/g,"textureLod"),r=r.replace(/\btexture(2D|Cube)GradEXT\b/g,"textureGrad"),r=r.replace(/\bgl_FragDepthEXT\b/g,"gl_FragDepth"),!i.has300Output(r)){var n=/\bgl_FragData\[.+?\]/g.test(r);if(n){r=r.replace(/\bgl_FragColor\b/g,"gl_FragData[0]");var a=r.match(/\bgl_FragData\[.+?\]/g);a&&(r=i.replaceMRTShader(r,a))}else r=r.replace(/void\s+?main\s*\(/g,`out vec4 glFragColor;
void main(`),r=r.replace(/\bgl_FragColor\b/g,"glFragColor")}}else r=r.replace(/\battribute\b/g,"in");return r},i.parseIncludes=function(r,e){e===void 0&&(e=/#include <(.+)>/gm);for(var t;(t=e.exec(r))!==null;){var n=t[1],a=Er[n];if(a===void 0)throw new Error("Can't find include shader name "+n);r=r.replace(t[0],a)}return r},i.genMacroString=function(r,e,t){t===void 0&&(t=!0);var n=[],a="WEBGL"+r;return n.push("#ifndef "+a),n.push("#define "+a),n.push("#endif"),t&&n.push("#define GE_RUNTIME"),e&&e.length&&e.forEach(function(s){var l=s[0],c=s[1];c===!0?n.push("#define "+l):Number.isFinite(c)&&n.push("#define "+l+" "+c)}),n.length?n.join(`
`)+`
`:""},i.genShaderVersion=function(r){return r===1?`#version 100
`:`#version 300 es
`},i.isVersion300=function(r){var e=/#version\s+\b\d{3}\b\s*(es)?/,t=r.match(e),n=t?t[0]:"";return n.includes("300")},i.removeWebGLVersion=function(r){var e=/#version\s+\b\d{3}\b\s*(es)?/,t=r.match(e);return t?r.replace(t[0],""):r},i.has300Output=function(r){var e=/\bout\s+(?:\w+\s+)?(?:vec4)\s+(?:\w+)\s*;/;return e.test(r)},i.replaceMRTShader=function(r,e){for(var t=new Set,n="",a=0;a<e.length;a++){var s=e[a].match(/\bgl_FragData\[(.+?)\]/);s&&t.add(s[1])}return t.forEach(function(l){n+="layout(location="+l+") out vec4 fragOutColor"+l+`;
`}),n+="void main(",r=r.replace(/\bgl_FragData\[(.+?)\]/g,"fragOutColor$1"),r=r.replace(/void\s+?main\s*\(/g,n),r},i}(),zi=function(i){Ee(o,i);function o(e,t){var n;n=i.call(this,e,t)||this;var a=n.renderer.engine,s=Sr.create(a,{mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),l=Bi.create(a,{shader:{vertex:Io,fragment:mr,glslVersion:ri.GLSL1}});return l.blending=!1,l.depthTest=!1,l.culling=!1,n.screenMesh=gi.create(a,{geometry:s,material:l,priority:0}),n.priority=5e3,n}var r=o.prototype;return r.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],this.sceneTextureHandle.texture=this.mainTexture,t.setFramebuffer(this.framebuffer)},r.execute=function(t){var n,a;t.clear({colorAction:Fi.clear,depthAction:Fi.clear,stencilAction:Fi.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture);var s,l=(s=(a=t.renderingData.currentFrame.globalVolume)==null||(n=a.bloom)==null?void 0:n.threshold)!=null?s:1;this.screenMesh.material.setFloat("_Threshold",l),t.renderMeshes([this.screenMesh])},o}(qi),uo=function(i){Ee(o,i);function o(e,t,n){var a;a=i.call(this,e,n)||this,a.type=t;var s=a.renderer.engine,l="PostProcess",c=Sr.create(s,{name:l,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),h=t=="H"?bo:nr,m={vertex:Io,fragment:h,glslVersion:ri.GLSL1},v=Bi.create(s,{name:l,shader:m});return v.blending=!1,v.depthTest=!1,v.culling=!1,a.screenMesh=gi.create(s,{name:l,geometry:c,material:v,priority:0}),a.priority=5e3,a}var r=o.prototype;return r.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],t.setFramebuffer(this.framebuffer)},r.execute=function(t){t.clear({colorAction:Fi.clear,depthAction:Fi.clear,stencilAction:Fi.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture),this.screenMesh.material.setVector2("_TextureSize",Jo(this.mainTexture)),t.renderMeshes([this.screenMesh]),this.type==="V"&&(this.gaussianResult.texture=t.getFramebuffer().getColorTextures()[0])},o}(qi),co=function(i){Ee(o,i);function o(e,t){var n;n=i.call(this,e,t)||this;var a="PostProcess",s=n.renderer.engine,l=Sr.create(s,{name:a,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),c={vertex:Io,fragment:Ir},h=Bi.create(s,{name:a,shader:c});return h.blending=!1,h.depthTest=!1,h.culling=!1,n.screenMesh=gi.create(s,{name:a,geometry:l,material:h,priority:0}),n.priority=5e3,n}var r=o.prototype;return r.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],t.setFramebuffer(this.framebuffer)},r.execute=function(t){t.clear({colorAction:Fi.clear,depthAction:Fi.clear,stencilAction:Fi.clear}),this.screenMesh.material.setTexture("_MainTex",this.mainTexture),this.screenMesh.material.setTexture("_GaussianDownTex",this.gaussianDownSampleResult.texture),this.screenMesh.material.setVector2("_GaussianDownTextureSize",Jo(this.gaussianDownSampleResult.texture)),t.renderMeshes([this.screenMesh])},o}(qi),to=function(i){Ee(o,i);function o(e,t){var n;n=i.call(this,e,{})||this;var a="PostProcess",s=n.renderer.engine;n.sceneTextureHandle=t||new Ea(s);var l=Sr.create(s,{name:a,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),c=Bi.create(s,{name:a,shader:{vertex:Io,fragment:ca,glslVersion:ri.GLSL1}});return c.blending=!1,c.depthTest=!1,c.culling=!1,n.screenMesh=gi.create(s,{name:a,geometry:l,material:c,priority:0}),n.priority=5e3,n}var r=o.prototype;return r.configure=function(t){this.mainTexture=t.getFramebuffer().getColorTextures()[0],this.sceneTextureHandle.texture||(this.sceneTextureHandle.texture=this.mainTexture),t.setFramebuffer(null)},r.execute=function(t){t.clear({colorAction:Fi.clear,depthAction:Fi.clear,stencilAction:Fi.clear});var n=t.renderingData.currentFrame.globalVolume,a=I({threshold:0,intensity:0,active:!1},n==null?void 0:n.bloom),s=I({intensity:0,smoothness:0,roundness:0,active:!1},n==null?void 0:n.vignette),l=I({brightness:0,saturation:0,contrast:0,active:!1},n==null?void 0:n.colorAdjustments),c=I({active:!1},n==null?void 0:n.tonemapping);this.screenMesh.material.setTexture("_SceneTex",this.sceneTextureHandle.texture),this.screenMesh.material.setFloat("_Brightness",Math.pow(2,l.brightness)),this.screenMesh.material.setFloat("_Saturation",l.saturation*.01+1),this.screenMesh.material.setFloat("_Contrast",l.contrast*.01+1),this.screenMesh.material.setInt("_UseBloom",Number(a.active)),a.active&&(this.screenMesh.material.setTexture("_GaussianTex",this.mainTexture),this.screenMesh.material.setFloat("_BloomIntensity",a.intensity)),s.intensity>0&&(this.screenMesh.material.setFloat("_VignetteIntensity",s.intensity),this.screenMesh.material.setFloat("_VignetteSmoothness",s.smoothness),this.screenMesh.material.setFloat("_VignetteRoundness",s.roundness),this.screenMesh.material.setVector2("_VignetteCenter",new gr(.5,.5)),this.screenMesh.material.setVector3("_VignetteColor",new be(0,0,0))),this.screenMesh.material.setInt("_UseToneMapping",Number(c.active)),t.renderMeshes([this.screenMesh])},o}(qi),va="_effects_default_",Po=1,Os=function(){function i(r){var e;this.renderQueue=[],this.destroyed=!1,this.renderPassInfoMap=new WeakMap;var t=r.camera,n=r.keepColorBuffer,a=r.renderer,s=r.editorTransform,l=s===void 0?[1,1,0,0]:s,c=r.globalVolume,h=r.postProcessingEnabled,m=h===void 0?!1:h,v=r.clearAction,p=v===void 0?{colorAction:Z.whatever,stencilAction:Z.clear,depthAction:Z.whatever}:v,b=a.engine;c&&(this.globalVolume=c),this.globalUniforms=new xo;var x=[],P,V={};if(this.renderer=a,m){var D=!0;if(!this.renderer.engine.gpuCapability.detail.halfFloatTexture)throw new Error("Half float texture is not supported.");var _=D?F.HALF_FLOAT:F.UNSIGNED_BYTE;x=[{texture:{format:F.RGBA,type:_,magFilter:F.LINEAR,minFilter:F.LINEAR}}],P={storageType:oi.depth_stencil_opaque},V={colorAction:Z.clear,stencilAction:Z.clear,depthAction:Z.clear}}this.drawObjectPass=new qi(a,{name:va,priority:Ra,meshOrder:J.ascending,depthStencilAttachment:P,attachments:x,clearAction:V});var K=[this.drawObjectPass];if(this.setRenderPasses(K),m){var U=new Ea(b),W=7,q=[0,0,this.renderer.getWidth()/2,this.renderer.getHeight()/2],ie=new Array(W),oe=!0,Xe=oe?F.HALF_FLOAT:F.UNSIGNED_BYTE,Je=new zi(a,{name:"BloomThresholdPass",attachments:[{texture:{format:F.RGBA,type:Xe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]});Je.sceneTextureHandle=U,this.addRenderPass(Je);for(var ot=0;ot<W;ot++){ie[ot]=new Ea(b);var lt=new uo(a,"H",{name:"GaussianDownPassH"+ot,viewport:q,attachments:[{texture:{format:F.RGBA,type:Xe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]}),Et=new uo(a,"V",{name:"GaussianDownPassV"+ot,viewport:q,attachments:[{texture:{format:F.RGBA,type:Xe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]});Et.gaussianResult=ie[ot],this.addRenderPass(lt),this.addRenderPass(Et),q[2]/=2,q[3]/=2}q[2]*=4,q[3]*=4;for(var Ht=0;Ht<W-1;Ht++){var Gt=new co(a,{name:"GaussianUpPass"+Ht,viewport:q,attachments:[{texture:{format:F.RGBA,type:Xe,minFilter:F.LINEAR,magFilter:F.LINEAR}}]});Gt.gaussianDownSampleResult=ie[W-2-Ht],this.addRenderPass(Gt),q[2]*=2,q[3]*=2}var Qt=new to(a,U);this.addRenderPass(Qt)}this.semantics=new Wr(r.semantics),this.clearAction=p,this.name="RenderFrame"+Po++;var en=K[0];this.emptyTexture=xi(b),this.transparentTexture=hi(b),this.camera=t,this.keepColorBuffer=n,this.renderPassInfoMap.set(en,{listStart:0,listEnd:0,renderPass:en,intermedia:!1}),this.editorTransform=Bn.fromArray(l),r.clearAction||this.resetClearActions(),this.passTextureCache=new Vr(b);var Pt=b.gpuCapability,Fn=Pt.detail,dn=Pt.level,In=Fn.readableDepthStencilTextures&&Fn.writableFragDepth,Yn=Ao(dn,In);(e=this.renderer.getShaderLibrary())==null||e.addShader(Yn)}var o=i.prototype;return o.addMeshToDefaultRenderPass=function(e){this.drawObjectPass.addMesh(e)},o.removeMeshFromDefaultRenderPass=function(e){this.drawObjectPass.removeMesh(e)},o.dispose=function(e){(e==null?void 0:e.semantics)!==Dt.keep&&this.semantics.dispose();var t=e!=null&&e.passes?e.passes:void 0;if(t!==Dt.keep&&this._renderPasses.forEach(function(s){s.dispose(t)}),this.passTextureCache.dispose(),this._renderPasses.length=0,this.emptyTexture.dispose(),this.transparentTexture.dispose(),this.resource){var n,a;this.resource.color_a.dispose(),this.resource.color_b.dispose(),(a=this.resource.depthStencil)==null||(n=a.texture)==null||n.dispose(),this.resource.finalCopyRP.dispose(),this.resource.resRP.dispose(),this.resource=null}this.destroyed=!0},o.resetRenderPassDefaultAttachment=function(e,t){for(var n,a=this.resource,s=a.color_a,l=a.color_b,c=t;c<e.length;c++){var h,m,v=e[c],p=(h=v.attachments[0])==null?void 0:h.texture;if(p&&n===p){var b=p===s?l:s;v.resetColorAttachments([b])}p=(m=v.attachments[0])==null?void 0:m.texture,p&&(n=p)}},o.findMeshRenderPassIndex=function(e){var t=-1;return this.renderPasses.every(function(n,a){return n.name.startsWith(va)&&n.meshes.includes(e)?(t=a,!1):!0}),t},o.addToRenderPass=function(e,t){var n=this.renderPassInfoMap.get(e),a=t.priority;n&&(e.meshes.length===0?n.listStart=n.listEnd=a:a<n.listStart?n.listStart=a:a>n.listEnd&&(n.listEnd=a),e.addMesh(t))},o.getRPAttachments=function(e,t){if((e==null?void 0:e.length)===1){var n=e[0],a=n.texture,s=n.persistent,l=a.format,c,h=(c=t==null?void 0:t.getInitAttachments())!=null?c:[];if(l===F.RGBA&&!s){var m=this.resource.color_a;if(h.length===0)return[{texture:m}];var v=h[0].texture===m?this.resource.color_b:m;return[{texture:v}]}}return e},o.resetClearActions=function(){var e=this.renderPasses.length>1?Z.clear:Z.whatever;this.clearAction.stencilAction=e,this.clearAction.depthAction=e,this.clearAction.colorAction=e,this.keepColorBuffer&&(this.clearAction.colorAction=Z.whatever)},o.setRenderPasses=function(e){var t=this;this.renderer!==void 0&&e.forEach(function(n){return n.initialize(t.renderer)}),this._renderPasses=e.slice()},o.addRenderPass=function(e){this.renderer!==void 0&&e.initialize(this.renderer),this._renderPasses.push(e)},o.createResource=function(){var e=this.renderer.engine;if(!this.resource){var t,n=e.gpuCapability,a=n.detail,s=n.level,l=this.renderer.getWidth(),c=this.renderer.getHeight(),h=s===2?F.LINEAR:F.NEAREST,m=Zn.create(e,{sourceType:j.framebuffer,format:F.RGBA,name:"frame_a",minFilter:h,magFilter:h}),v=Zn.create(e,{sourceType:j.framebuffer,format:F.RGBA,data:{width:l,height:c},minFilter:h,magFilter:h,name:"frame_b"}),p=a.readableDepthStencilTextures&&a.writableFragDepth?oi.depth_24_stencil_8_texture:oi.depth_stencil_opaque,b=new qi(this.renderer,{depthStencilAttachment:{storageType:p},attachments:[{texture:m}]}).initialize(this.renderer),x=new Ro(this.renderer,{name:"effects-final-copy",priority:Ra+600,clearAction:{depthAction:Z.clear,stencilAction:Z.clear,colorAction:Z.clear},meshOrder:J.ascending,meshes:[this.createCopyMesh({blend:!0,depthTexture:(t=b.getDepthAttachment())==null?void 0:t.texture})]});this.resource={color_a:b.attachments[0].texture,color_b:v,finalCopyRP:x,depthStencil:b.depthAttachment,resRP:b}}},o.createCopyMesh=function(e){var t,n=Uo,a=this.renderer.engine,s=Sr.create(a,{name:n,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),l=Ao(a.gpuCapability.level,!!(e!=null&&e.depthTexture));(t=this.renderer.getShaderLibrary())==null||t.addShader(l);var c=Bi.create(a,{uniformValues:{uDepth:e==null?void 0:e.depthTexture},name:n,shader:l});return c.blending=!1,c.depthTest=!1,c.culling=!1,e!=null&&e.blend&&(c.blending=!0,c.blendFunction=[F.SRC_ALPHA,F.ONE_MINUS_SRC_ALPHA,F.SRC_ALPHA,F.ONE_MINUS_SRC_ALPHA]),gi.create(a,{name:n,geometry:s,material:c,priority:0})},o.removeRenderPass=function(e){ge(this._renderPasses,e)},yn(i,[{key:"renderPasses",get:function(){return this._renderPasses.slice()}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}();function Jo(i){return i?new gr(i.getWidth(),i.getHeight()):new gr}function Yl(i,o){var r=i.indexOf(o);return i[r-1]}var Ro=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.configure=function(t){var n=t.getFramebuffer();n&&(this.prePassTexture=n.getColorTextures()[0]),t.setFramebuffer(null)},r.execute=function(t){t.clear(this.clearAction),this.meshes[0].material.setTexture("uFilterSource",this.prePassTexture),this.meshes[0].material.setVector2("uFilterSourceSize",Jo(this.prePassTexture)),t.renderMeshes(this.meshes),this.storeAction&&t.clear(this.storeAction)},o}(qi),xo=function(){this.floats={},this.ints={},this.vector3s={},this.vector4s={},this.matrices={},this.samplers=[],this.uniforms=[]},Cl=function(){function i(o){this.size=[0,0],this.multiSample=1,this.destroyed=!1;var r=o.storageType,e=o.format,t=o.attachment;this.storageType=r,this.format=e,this.attachment=t}return yn(i,[{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),qo=typeof WebGL2RenderingContext=="function",Kl=function(){function i(r){this.setupCapability(r)}var o=i.prototype;return o.setupCapability=function(e){var t,n=qo&&k(e,WebGL2RenderingContext)?2:1,a=n===2,s=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),l=e.getExtension("WEBGL_depth_texture"),c=!!e.getExtension("OES_texture_half_float_linear"),h=!!e.getExtension("OES_texture_float_linear");this.level=n,this.type=a?"webgl2":"webgl",this.vaoExt=e.getExtension("OES_vertex_array_object"),this.glAsyncCompileExt=e.getExtension("KHR_parallel_shader_compile"),this.UNSIGNED_INT_24_8=e.UNSIGNED_INT_24_8,this.drawBufferExtension=e.getExtension("WEBGL_draw_buffers"),l&&(this.UNSIGNED_INT_24_8=l.UNSIGNED_INT_24_8_WEBGL),a&&!c&&(c=El(e,e.HALF_FLOAT)),a&&!h&&(h=El(e,e.FLOAT)),this.internalFormatDepth16=a?e.DEPTH_COMPONENT16:e.DEPTH_COMPONENT,this.internalFormatDepth24_stencil8=a?e.DEPTH24_STENCIL8:e.DEPTH_STENCIL;var m=a||e.getExtension("OES_texture_float")?e.FLOAT:0,v=a?WebGL2RenderingContext.HALF_FLOAT:((t=e.getExtension("OES_texture_half_float"))==null?void 0:t.HALF_FLOAT_OES)||0,p={floatTexture:m,halfFloatTexture:v,maxSample:a?e.getParameter(e.MAX_SAMPLES):1,maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxFragmentTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),floatColorAttachment:a?!!e.getExtension("EXT_color_buffer_float"):m>0&&!!e.getExtension("WEBGL_color_buffer_float"),halfFloatColorAttachment:a?!!e.getExtension("EXT_color_buffer_float"):v>0&&!!e.getExtension("EXT_color_buffer_half_float"),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxShaderTexCount:e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),compressedTexture:Qs(e),halfFloatLinear:c,floatLinear:h,maxTextureAnisotropy:s?e.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,shaderTextureLod:a||!!e.getExtension("EXT_shader_texture_lod"),instanceDraw:a||!!e.getExtension("ANGLE_instanced_arrays"),drawBuffers:a||!!this.drawBufferExtension,asyncShaderCompile:!!this.glAsyncCompileExt,intIndexElementBuffer:!!e.getExtension("OES_element_index_uint"),standardDerivatives:a||!!e.getExtension("OES_standard_derivatives"),readableDepthStencilTextures:a||!!l,writableFragDepth:a||!!e.getExtension("EXT_frag_depth")};this.detail=p,s&&(this.textureMaxAnisotropyExt=s.TEXTURE_MAX_ANISOTROPY_EXT)},o.framebufferTexture2D=function(e,t,n,a,s){var l=this.drawBufferExtension;if(this.level===1&&!l&&n>0)throw new Error("Draw multiple color buffers not available.");var c=l?l["COLOR_ATTACHMENT"+n+"_WEBGL"]:e["COLOR_ATTACHMENT"+n];c?e.framebufferTexture2D(t,c,a,s,0):console.error("Invalid color attachment index: "+n+".")},o.drawBuffers=function(e,t){var n=this.drawBufferExtension;if(this.level===1&&!n){if(t.length>1)throw new Error("Draw buffers not available.");return}var a=t.map(function(s,l){return s?n?n["COLOR_ATTACHMENT"+l+"_WEBGL"]:e["COLOR_ATTACHMENT"+l]:e.NONE});n?n.drawBuffersWEBGL(a):e.drawBuffers(a)},o.setTextureAnisotropic=function(e,t,n){var a=this.detail.maxTextureAnisotropy;a&&e.texParameterf(t,this.textureMaxAnisotropyExt,Math.min(a,n||4))},i}();function El(i,o){var r=i.createTexture(),e=!1;return i.getError(),i.bindTexture(i.TEXTURE_2D,r),i.texImage2D(i.TEXTURE_2D,0,i.R16F,1,1,0,i.RED,o,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.getError()||(e=!0),i.deleteTexture(r),e}var cs;(function(i){i[i.NONE=0]="NONE",i[i.PVRTC=1]="PVRTC",i[i.ASTC=2]="ASTC"})(cs||(cs={}));function Qs(i){return i.getExtension("WEBGL_compressed_texture_astc")?2:i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")?1:0}var Ms;(function(i){i[i.Nearest=0]="Nearest",i[i.Linear=1]="Linear"})(Ms||(Ms={}));var es;(function(i){i[i.RGBA32=0]="RGBA32",i[i.RGBAHalf=1]="RGBAHalf"})(es||(es={}));var fs=function(){function i(){}var o=i.prototype;return o.resize=function(e,t,n,a){},o.resetColorTextures=function(e){},o.unbind=function(){},o.bind=function(){},o.getDepthTexture=function(){},o.getStencilTexture=function(){},o.getColorTextures=function(){return[]},o.dispose=function(e){},yn(i,[{key:"stencilStorage",get:function(){}},{key:"depthStorage",get:function(){}}]),i}(),As=function(){function i(){}var o=i.prototype;return o.setGlobalFloat=function(e,t){},o.setGlobalInt=function(e,t){},o.setGlobalVector4=function(e,t){},o.setGlobalVector3=function(e,t){},o.setGlobalMatrix=function(e,t){},o.getFramebuffer=function(){return null},o.setFramebuffer=function(e){},o.setViewport=function(e,t,n,a){},o.resize=function(e,t){},o.clear=function(e){},o.getWidth=function(){return 0},o.getHeight=function(){return 0},o.addLostHandler=function(e){},o.addRestoreHandler=function(e){},o.lost=function(e){},o.restore=function(){},o.getShaderLibrary=function(){},o.renderRenderFrame=function(e){},o.renderMeshes=function(e){},o.drawGeometry=function(e,t,n){},o.getTemporaryRT=function(e,t,n,a,s,l){return null},o.dispose=function(e){},i}(),Js=function(){var i=new Float32Array(1),o=new Int32Array(i.buffer);return function(e){i[0]=e;var t=o[0],n=t>>16&32768,a=t>>12&2047,s=t>>23&255;return s<103?n:s>142?(n|=31744,n|=(s==255?0:1)&&t&8388607,n):s<113?(a|=2048,n|=(a>>114-s)+(a>>113-s&1),n):(n|=s-112<<10|a>>1,n+=a&1,n)}}(),Ql=function(){function i(r){if(Number.isInteger(r))this.data=new Uint16Array(r);else if(r&&typeof r=="object"&&Number.isInteger(r.length))for(var e=this.data=new Uint16Array(r.length),t=0;t<e.length;t++)e[t]=Js(r[t])}var o=i.prototype;return o.set=function(e,t){for(var n=0;n<e.length;n++)this.data[n+t]=Js(e[n])},i}();function Tl(i,o){for(var r=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],e=0;e<8;e+=2)r[e]+=i,r[e+1]+=o;return r}var ts=new Zr,Is=new Tn;function Ps(i,o,r,e,t,n,a){var s=i,l=e/t,c=e,h=o.speedOverLifetime;h&&(c=h.getIntegrateValue(0,e,t));var m=o.gravityModifier?o.gravityModifier.getIntegrateByTime(0,e):0;s.copyFrom(n),s.addScaledVector(a,c),s.addScaledVector(r,m);var v=o.linearVelOverLifetime||{},p=o.orbitalVelOverLifetime||{},b=["x","y","z"];if(p.enabled){var x=new be;p.center&&x.setFromArray(p.center);var P=s.clone().subtract(x),V=p.asRotation,D=b.map(function(Je){var ot=p[Je];return ot?V?ot.getValue(l):ot.getIntegrateValue(0,e,t):0});ts.setFromArray(D).negate(),Is.setFromEuler(ts);var _=Is.transformPoint(P);s.addVectors(x,_)}if(v.enabled){var K=v.asMovement,U=v.x,W=v.y,q=v.z;if(U){var ie=K?U.getValue(l):U.getIntegrateValue(0,e,t);s.x=s.x+ie}if(W){var oe=K?W.getValue(l):W.getIntegrateValue(0,e,t);s.y=s.y+oe}if(q){var Xe=K?q.getValue(l):q.getIntegrateValue(0,e,t);s.z=s.z+Xe}}return s}function Sl(i){return Array.isArray(i)?[i[0],i[1],i[2]]:[0,0,0]}function qs(i,o){for(var r=0,e=i.length;r<e;r++)i[r]=o;return i}function el(i,o,r){if(o&&r)for(var e=0,t=o.length;e<t;e++)i[e]=o[e]*r[e];else if(o){if(i!==o)for(var n=0;n<o.length;n++)i[n]=o[n]}else if(r&&i!==r)for(var a=0;a<r.length;a++)i[a]=r[a];return i}var Fr,jr=(Fr={},Fr[Cn.PARTICLE_ORIGIN_CENTER]=[0,0],Fr[Cn.PARTICLE_ORIGIN_CENTER_BOTTOM]=[0,-.5],Fr[Cn.PARTICLE_ORIGIN_CENTER_TOP]=[0,.5],Fr[Cn.PARTICLE_ORIGIN_LEFT_TOP]=[-.5,.5],Fr[Cn.PARTICLE_ORIGIN_LEFT_CENTER]=[-.5,0],Fr[Cn.PARTICLE_ORIGIN_LEFT_BOTTOM]=[-.5,-.5],Fr[Cn.PARTICLE_ORIGIN_RIGHT_CENTER]=[.5,0],Fr[Cn.PARTICLE_ORIGIN_RIGHT_BOTTOM]=[.5,-.5],Fr[Cn.PARTICLE_ORIGIN_RIGHT_TOP]=[.5,.5],Fr);function za(i){return Math.pow(2,Math.round(Math.log(i)/Math.LN2))}function $a(i,o,r){var e=r.position,t=new be(i,o,0),n=new be,a=r.getInverseViewProjectionMatrix();return a.projectPoint(t,n),n.subtract(e),new ba(e,n)}function Ii(i,o,r){var e=i.x,t=i.y,n=i.z,a=new be(e-o,t+r,n),s=new be(e-o,t-r,n),l=new be(e+o,t-r,n),c=new be(e+o,t+r,n);return[{p0:a,p1:s,p2:l},{p0:a.clone(),p1:l.clone(),p2:c}]}function oa(i,o,r){return r===void 0&&(r=1e-6),Math.abs(i-o)<r}function Qr(i,o){o===void 0&&(o=2);var r=Math.pow(10,o);return Math.floor(i*r)/r}var ea={pointIndexCache:{xIndex:0,yIndex:0},getPointInCurve:function(o){o[0];var r=o[1],e=this.getPointIndexInCurve(o,this.pointIndexCache),t=e.xIndex,n=e.yIndex,a=r[t],s=r[n];return new gr(a,s)},getPointIndexInCurve:function(o,r){var e=o[0],t=o[2],n=e===Un.LINE||e===Un.EASE_OUT?0:e===Un.EASE_IN||e===Un.EASE||e===Un.HOLD&&t===Un.EASE_IN?2:0;return r?(r.xIndex=n,r.yIndex=n+1,r):{xIndex:n,yIndex:n+1}},isLeftSideEase:function(o){var r=o[0];o[1];var e=o[2];return r===Un.HOLD&&this.isKeyframeTypeLeftSideEase(e)?!0:this.isKeyframeTypeLeftSideEase(r)},isRightSideEase:function(o){var r=o[0];o[1];var e=o[2];return r===Un.HOLD&&this.isKeyframeTypeRightSideEase(e)?!0:this.isKeyframeTypeRightSideEase(r)},isKeyframeTypeLeftSideEase:function(o){return[Un.EASE,Un.EASE_IN,Un.AUTO].includes(o)},isKeyframeTypeRightSideEase:function(o){return[Un.EASE,Un.EASE_OUT,Un.AUTO].includes(o)},isHoldInKeyframe:function(o){var r=o[0];o[1];var e=o[2];return r===Un.HOLD&&[Un.HOLD,Un.LINE_OUT,Un.EASE_OUT].includes(e)},isHoldOutKeyframe:function(o){var r=o[0];o[1];var e=o[2];return r===Un.HOLD&&[Un.HOLD,Un.LINE,Un.EASE_IN].includes(e)}},_o=function(o,r){this.points=o,this.totalLength=r},Lo={},fo={},Fo=4,tl=.001,gf=1e-7,nl=10,rl=300,wl=11,Ol=1/(wl-1);function Jl(i,o){return 1-3*o+3*i}function Uu(i,o){return 3*o-6*i}function $u(i){return 3*i}function il(i,o,r){return((Jl(o,r)*i+Uu(o,r))*i+$u(o))*i}function ju(i,o,r){return 3*Jl(o,r)*i*i+2*Uu(o,r)*i+$u(o)}function yf(i,o,r,e,t){var n,a,s=0;do a=o+(r-o)/2,n=il(a,e,t)-i,n>0?r=a:o=a;while(Math.abs(n)>gf&&++s<nl);return a}function Xa(i,o,r,e){for(var t=0;t<Fo;++t){var n=ju(o,r,e);if(n===0)return o;var a=il(o,r,e)-i;o-=a/n}return o}function bf(i,o,r,e){var t=Qr(o.x-i.x,3)+"_"+Qr(o.y-i.y,3)+"_"+Qr(o.z-i.z,3),n=Qr(r.x-i.x,3)+"_"+Qr(r.y-i.y,3)+"_"+Qr(r.z-i.z,3),a=Qr(e.x-i.x,3)+"_"+Qr(e.y-i.y,3)+"_"+Qr(e.z-i.z,3),s=t+"&"+n+"&"+a;if(fo[s])return{data:fo[s],interval:i};for(var l=[],c=null,h=0,m=0,v=rl,p=0;p<v;p+=1){var b=new be,x=p/(v-1);m=0,b.x=3*Math.pow(1-x,2)*x*(r.x-i.x)+3*(1-x)*Math.pow(x,2)*(e.x-i.x)+Math.pow(x,3)*(o.x-i.x),b.y=3*Math.pow(1-x,2)*x*(r.y-i.y)+3*(1-x)*Math.pow(x,2)*(e.y-i.y)+Math.pow(x,3)*(o.y-i.y),b.z=3*Math.pow(1-x,2)*x*(r.z-i.z)+3*(1-x)*Math.pow(x,2)*(e.z-i.z)+Math.pow(x,3)*(o.z-i.z),c!==null&&(m+=Math.pow(b.x-c.x,2),m+=Math.pow(b.y-c.y,2),m+=Math.pow(b.z-c.z,2)),c=b,m=Math.sqrt(m),h+=m,l[p]={partialLength:m,point:b}}var P=new _o(l,h);return fo[s]=P,{data:P,interval:new be(i.x,i.y,i.z)}}var Hu=function(){function i(r,e,t,n){this.p1=r,this.p2=e,this.p3=t,this.p4=n,this.catching={lastPoint:0,lastAddedLength:0};var a=bf(r,e,t,n),s=a.data,l=a.interval;this.lengthData=s,this.interval=l,this.totalLength=s.totalLength}var o=i.prototype;return o.getPointInPercent=function(e){var t=this.lengthData;if(e===0)return t.points[0].point.clone().add(this.interval);if(oa(1-e,0))return t.points[rl-1].point.clone().add(this.interval);if(oa(t.totalLength,0))return this.p1.clone();var n=new be,a=Qr(t.totalLength*e,4),s=this.catching.lastAddedLength,l=this.catching.lastPoint;if(oa(s,a))return t.points[l].point.clone().add(this.interval);var c=!0,h=1;for(a<s&&(h=-1);c;){if(a>=s){if(l===rl-1){n.x=t.points[l].point.x,n.y=t.points[l].point.y,n.z=t.points[l].point.z;break}if(a<s+t.points[l+1].partialLength){var m=(a-s)/t.points[l+1].partialLength;n.x=t.points[l].point.x+(t.points[l+1].point.x-t.points[l].point.x)*m,n.y=t.points[l].point.y+(t.points[l+1].point.y-t.points[l].point.y)*m,n.z=t.points[l].point.z+(t.points[l+1].point.z-t.points[l].point.z)*m;break}}h>0&&l<rl-1?(l+=h,s+=Qr(t.points[l].partialLength,5)):h<0&&l>0?(s-=Qr(t.points[l].partialLength,5),l+=h):c=!1}return this.catching.lastPoint=l,this.catching.lastAddedLength=s,n.add(this.interval),n},i}(),al=function(){function i(r,e,t,n){this.p1=r,this.p2=e,this.p3=t,this.p4=n,this.temp=new _t,this.totalLength=0}var o=i.prototype;return o.getPointInPercent=function(e){return e===0?this.temp.copyFrom(this.p1):oa(1-e,0)?this.temp.copyFrom(this.p2):(ol.slerpFlat(this.temp,this.p1,this.p2,e),this.temp)},i}(),Gu=function(){function i(r,e,t,n){this.mX1=r,this.mY1=e,this.mX2=t,this.mY2=n,this.precomputed=!1,this.mSampleValues=new Array(wl)}var o=i.prototype;return o.precompute=function(){this.precomputed=!0,(this.mX1!==this.mY1||this.mX2!==this.mY2)&&this.calcSampleValues()},o.getValue=function(e){if(this.mX1===this.mY1&&this.mX2===this.mY2)return e;if(isNaN(this.mY1)||isNaN(this.mY2))return 0;if(e===0||e===1)return e;this.precomputed||this.precompute();var t=il(this.getTForX(e),this.mY1,this.mY2);return t},o.calcSampleValues=function(){for(var e=0;e<wl;++e)this.mSampleValues[e]=il(e*Ol,this.mX1,this.mX2)},o.getTForX=function(e){for(var t=this.mSampleValues,n=wl-1,a=0,s=1;s!==n&&t[s]<=e;++s)a+=Ol;--s;var l=(e-t[s])/(t[s+1]-t[s]),c=a+l*Ol,h=ju(c,this.mX1,this.mX2);return h>=tl?Xa(e,c,this.mX1,this.mX2):h===0?c:yf(e,a,a+Ol,this.mX1,this.mX2)},i}();function ql(i,o){var r=Wu(i,o,!0),e=r.p0,t=r.p1,n=r.p2,a=r.p3;xt(n),xt(a);var s=a.x-e.x,l=a.y-e.y,c,h,m=Qr((t.x-e.x)/s,5),v=Qr((n.x-e.x)/s,5);oa(l,0)?c=h=NaN:(c=Qr((t.y-e.y)/l,5),h=Qr((n.y-e.y)/l,5)),m<0&&(console.error("Invalid bezier points, x1 < 0",e,t,n,a),m=0),v<0&&(console.error("Invalid bezier points, x2 < 0",e,t,n,a),v=0),m>1&&(console.error("Invalid bezier points, x1 >= 1",e,t,n,a),m=1),v>1&&(console.error("Invalid bezier points, x2 >= 1",e,t,n,a),v=1);var p=("bez_"+m+"_"+c+"_"+v+"_"+h).replace(/\./g,"p"),b;return Lo[p]?b=Lo[p]:(b=new Gu(m,c,v,h),Lo[p]=b),{points:[e,t,n,a],timeInterval:s,valueInterval:l,curve:b}}function Wu(i,o,r){var e=i[1],t=ea.isHoldOutKeyframe(i),n=ea.isHoldInKeyframe(o),a=!n&&ea.isRightSideEase(i),s=!t&&ea.isLeftSideEase(o);if(a&&!s&&!n){var l=new gr(e[e.length-4],e[e.length-3]),c=new gr(e[e.length-2],e[e.length-1]),h=ea.getPointInCurve(o),m=new gr(h.x,h.y),v=new gr(m.x-(m.x-l.x)/10,m.y);return{type:"ease",p0:l,p1:c,p2:v,p3:m}}if(!a&&s&&!t){var p=o[1],b=ea.getPointInCurve(i),x=new gr(b.x,b.y),P=new gr(p[0],p[1]),V=new gr(p[2],p[3]),D=new gr(x.x+(V.x-x.x)/10,x.y);return{type:"ease",p0:x,p1:D,p2:P,p3:V}}if(a&&s){var _=o[1],K=new gr(e[e.length-4],e[e.length-3]),U=new gr(e[e.length-2],e[e.length-1]),W=new gr(_[0],_[1]),q=new gr(_[2],_[3]);return{type:"ease",p0:K,p1:U,p2:W,p3:q}}var ie=ea.getPointInCurve(i),oe=ea.getPointInCurve(o);if(t?oe.y=ie.y:n&&(ie.y=oe.y),r){var Xe=new gr((oe.x-ie.x)/3+ie.x,(oe.y-ie.y)/3+ie.y),Je=new gr((oe.x-ie.x)/3*2+ie.x,(oe.y-ie.y)/3*2+ie.y);return{type:"ease",p0:ie,p1:Xe,p2:Je,p3:oe,isHold:t||n,leftHoldLine:t,rightHoldLine:n}}else return{type:"line",p0:ie,p1:oe,isHold:t||n,leftHoldLine:t,rightHoldLine:n}}var ol=function(){function i(){}return i.slerpFlat=function(r,e,t,n){var a=e.x,s=e.y,l=e.z,c=e.w,h=t.x,m=t.y,v=t.z,p=t.w;if(n===0){r.x=a,r.y=s,r.z=l,r.w=c;return}if(n===1){r.x=h,r.y=m,r.z=v,r.w=p;return}if(c!==p||a!==h||s!==m||l!==v){var b=1-n,x=a*h+s*m+l*v+c*p,P=x>=0?1:-1,V=1-x*x;if(V>Number.EPSILON){var D=Math.sqrt(V),_=Math.atan2(D,x*P);b=Math.sin(b*_)/D,n=Math.sin(n*_)/D}var K=n*P;if(a=a*b+h*K,s=s*b+m*K,l=l*b+v*K,c=c*b+p*K,b===1-n){var U=1/Math.sqrt(a*a+s*s+l*l+c*c);a*=U,s*=U,l*=U,c*=U}}r.x=a,r.y=s,r.z=l,r.w=c},i}(),Ml=0,hs=1,Zu=2,fa=3,Sa="not_implement",ta=function(){function i(r){this.onCreate(r)}var o=i.prototype;return o.onCreate=function(e){throw new Error(Sa)},o.getIntegrateValue=function(e,t,n){throw new Error(Sa)},o.getIntegrateByTime=function(e,t){throw new Error(Sa)},o.getValue=function(e){throw new Error(Sa)},o.getMaxTime=function(){throw new Error(Sa)},o.toUniform=function(e){throw new Error(Sa)},o.map=function(e){throw new Error(Sa)},o.scaleXCoord=function(e){return this},o.toData=function(){throw new Error(Sa)},i.getAllData=function(e,t){for(var n=new(t?Ql:Float32Array)(e.index*4),a=0,s=0,l=e.curves;a<l.length;a++){var c=l[a].toData();n.set(c,s),s+=c.length}return t?n.data:n},i}(),Co=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.value=t},r.getIntegrateValue=function(t,n,a){return this.value*(n-t)},r.getIntegrateByTime=function(t,n){return .5*this.value*(n*n-t*t)},r.getValue=function(t){return this.value},r.toUniform=function(){return new Float32Array([0,this.value,0,0])},r.map=function(t){var n=this.value;return this.value=t(n),this},r.getMaxTime=function(){return 0},o}(ta),ds=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.items=t},r.getValue=function(t){var n=this.items;return n[Math.floor(Math.random()*n.length)]},r.map=function(t){return this.items=this.items.map(t),this},o}(ta),Eo=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.min=t[0],this.max=t[1]},r.getValue=function(t,n){var a=n!=null?n:Math.random();return this.min+a*(this.max-this.min)},r.getIntegrateValue=function(t,n,a){var s=a!=null?a:1;return(this.min+s*(this.max-this.min))*(n-t)},r.toUniform=function(){return new Float32Array([4,this.min,this.max,0])},r.map=function(t){return this.min=t(this.min),this.max=t(this.max),this},o}(ta),Xu=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.min=t[0],this.max=t[1]},r.getValue=function(t){for(var n=this.min,a=this.max,s=[],l=0;l<n.length;l++){var c=Math.random();s[l]=n[l]*(1-c)+a[l]*c}return s},r.map=function(t){return this.min=this.min.map(t),this.max=this.max.map(t),this},o}(ta),Al=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.min=t[0],this.max=t[1],this.xCoord=1},r.getValue=function(t){return t/=this.xCoord,this.min*(1-t)+this.max*t},r.toUniform=function(){return new Float32Array([1,this.min,this.max,this.xCoord])},r.getIntegrateValue=function(t,n,a){a===void 0&&(a=1);var s=this.min,l=this.max,c=this.xCoord*a,h=s+(l-s)*(n/c),m=s+(l-s)*(t/c);return((h+s)*n-(m+s)*t)/2},r.getIntegrateByTime=function(t,n){return Il(n,0,this.xCoord,this.min,this.max)-Il(t,0,this.xCoord,this.min,this.max)},r.map=function(t){return this.min=t(this.min),this.max=t(this.max),this},r.scaleXCoord=function(t){return this.xCoord=t,this},o}(ta),Yu=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.stops=Ye(t)},r.getStops=function(){return this.stops},r.getValue=function(t){for(var n=this.stops,a=n.length-1,s=0;s<a;s++){var l=n[s],c=n[s+1];if(l.stop<=t&&c.stop>t){var h=(t-l.stop)/(c.stop-l.stop);return je(l.color,c.color,h,!0)}}return n[a].color.slice()},o}(ta),eu=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.keys=t.map(function(s){return s.slice?s.slice(0,2):[s.time,s.value]}).sort(function(s,l){return s[0]-l[0]});var n=this.keys[this.keys.length-1];n[0]<1&&this.keys.push([1,n[1]]);var a=this.keys[0];a[0]>0&&this.keys.unshift([0,a[1]]),this.isLineSeg=!0},r.getValue=function(t){var n=this.keys;if(t<n[0][0])return n[0][1];for(var a=n.length-1,s=0;s<a;s++){var l=n[s],c=n[s+1],h=l[0],m=c[0];if(t>=h&&t<=m){var v=(t-h)/(m-h),p=l[1];return p+v*(c[1]-p)}}return n[a][1]},r.getIntegrateValue=function(t,n,a){return a===void 0&&(a=1),(this.integrate(n,!1)-this.integrate(t,!1))*a},r.getIntegrateByTime=function(t,n){return this.integrate(n,!0)-this.integrate(t,!0)},r.integrate=function(t,n){var a=this.keys;if(t<=a[0][0])return 0;for(var s=0,l=a.length-1,c=n?Il:Rs,h=0;h<l;h++){var m=a[h],v=a[h+1],p=m[0],b=v[0];if(t>p&&t<=b)return s+c(t,p,b,m[1],v[1]);s+=c(b,p,b,m[1],v[1])}return s},r.toData=function(){for(var t=this.keys,n=new Float32Array(Math.ceil(t.length/2)*4),a=0,s=0;a<t.length;a++,s+=2)n.set(t[a],s);return n.set(t[t.length-1],n.length-2),n},r.toUniform=function(t){var n=t.index,a=this.keys,s=Math.ceil(a.length/2);return t.lineSegCount+=s,t.curves.push(this),t.index+=s,t.max=Math.max(t.max,s),new Float32Array([3,n,s,0])},r.map=function(t){return this.keys.forEach(function(n){return n[1]=t(n[1])}),this},r.scaleXCoord=function(t){return this.keys.forEach(function(n){return n[0]=t*n[0]}),this},o}(ta),Ku=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){var n=t;this.curveMap={},this.keys=[];for(var a=0;a<n.length-1;a++){var s=n[a],l=n[a+1],c=ql(s,l),h=c.points,m=c.curve,v=c.timeInterval,p=c.valueInterval,b=h[0],x=h[h.length-1];this.keys.push([].concat(b.toArray(),h[1].toArray())),this.keys.push([].concat(x.toArray(),h[2].toArray())),this.curveMap[b.x+"&"+x.x]={points:h,timeInterval:v,valueInterval:p,curve:m,timeStart:Number(b.x),timeEnd:Number(x.x)}}this.startKeyframe=n[0],this.endKeyframe=n[n.length-1],this.keyTimeData=Object.keys(this.curveMap)},r.getValue=function(t){var n=0,a=this.keyTimeData,s=this.curveMap[a[0]].timeStart,l=this.curveMap[a[a.length-1]].timeEnd;if(t<=s)return ea.getPointIndexInCurve(this.startKeyframe,ea.pointIndexCache),this.startKeyframe[1][ea.pointIndexCache.yIndex];if(t>=l)return ea.getPointIndexInCurve(this.endKeyframe,ea.pointIndexCache),this.endKeyframe[1][ea.pointIndexCache.yIndex];for(var c=0;c<a.length;c++){var h=this.curveMap[a[c]].timeStart,m=this.curveMap[a[c]].timeEnd;if(t>=Number(h)&&t<Number(m)){n=this.getCurveValue(a[c],t);break}}return n},r.getIntegrateValue=function(t,n,a){a===void 0&&(a=1);var s=(n-t)/a,l=0,c=Object.keys(this.curveMap),h=this.curveMap[c[0]].timeStart;if(s<=h)return 0;for(var m=0;m<c.length;m++){var v=this.curveMap[c[m]].timeStart,p=this.curveMap[c[m]].timeEnd;if(s>=Number(p)&&(l+=a*this.getCurveIntegrateValue(c[m],Number(p))),s>=Number(v)&&s<Number(p)){l+=a*this.getCurveIntegrateValue(c[m],s);break}}return l},r.getIntegrateByTime=function(t,n){return this.getIntegrateValue(0,n)-this.getIntegrateValue(0,t)},r.getCurveIntegrateValue=function(t,n){for(var a=this.curveMap[t],s=a.points,l=s[0],c=a.timeInterval,h=a.valueInterval,m=20,v=0,p=(n-l.x)/m,b=0;b<=m;b++){var x=b*p,P=x/c,V=l.y+h*a.curve.getValue(P);b===0||b===m?v+=V:b%2===1?v+=4*V:v+=2*V}return v*=p/3,v},r.getCurveValue=function(t,n){var a=this.curveMap[t],s=a.points,l=s[0],c=a.timeInterval,h=a.valueInterval,m=(n-l.x)/c,v=a.curve.getValue(m);return l.y+h*v},r.toUniform=function(t){var n=t.index,a=this.keys.length;return t.curves.push(this),t.index=n+a,t.max=Math.max(t.max,a),t.curveCount+=a,new Float32Array([5,n+1/a,n,a])},r.toData=function(){for(var t=this.keys,n=new Float32Array(t.length*4),a=0,s=0;a<t.length;a++,s+=4)n.set(t[a],s);return n},r.getMaxTime=function(){var t=this.keyTimeData;return this.curveMap[t[t.length-1]].timeEnd},o}(ta),Qu=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){this.keys=t[0],this.values=t[1]},r.getValue=function(t){for(var n=this.keys,a=this.values,s=0;s<n.length-1;s++){var l=n[s],c=n[s+1];if(l[0]<=t&&c[0]>=t){var h=c[1]-l[1],m=void 0;if(h===0)m=(t-l[0])/(c[0]-l[0]);else{var v=_s(t,l,c);m=(v-l[1])/h}return this.calculateVec(s,m)}}return t<=n[0][0]?a[0].slice():a[a.length-1].slice()},r.calculateVec=function(t,n){for(var a=this.values[t],s=this.values[t+1],l=[0,0,0],c=0;c<a.length;c++)l[c]=a[c]*(1-n)+s[c]*n;return l},o}(ta),Ju=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){var n=t[0],a=t[1],s=t[2];if(this.curveSegments={},!!s.length){for(var l=0;l<n.length-1;l++){var c=n[l],h=n[l+1],m=new be(a[l][0],a[l][1],a[l][2]),v=new be(a[l+1][0],a[l+1][1],a[l+1][2]),p=new be(s[2*l][0],s[2*l][1],s[2*l][2]),b=new be(s[2*l+1][0],s[2*l+1][1],s[2*l+1][2]),x=ql(c,h),P=x.points,V=x.curve,D=x.timeInterval,_=x.valueInterval,K=P[0],U=P[P.length-1],W=new Hu(m,v,p,b);this.curveSegments[K.x+"&"+U.x]={points:P,timeInterval:D,valueInterval:_,easingCurve:V,pathCurve:W,timeStart:Number(K.x),timeEnd:Number(U.x)}}this.keyTimeData=Object.keys(this.curveSegments)}},r.getValue=function(t){var n=Qr(t,5),a=0,s=new be,l=this.keyTimeData;if(!l.length)return s;var c=this.curveSegments[l[0]].timeStart,h=this.curveSegments[l[l.length-1]].timeEnd;if(n<=c){var m=this.curveSegments[l[0]].pathCurve;return s=m.getPointInPercent(0),s}if(n>=h){var v=this.curveSegments[l[l.length-1]].pathCurve;return s=v.getPointInPercent(1),s}for(var p=0;p<l.length;p++){var b=this.curveSegments[l[p]].timeStart,x=this.curveSegments[l[p]].timeEnd;if(n>=Number(b)&&n<Number(x)){var P=this.curveSegments[l[p]].pathCurve;a=this.getPercValue(l[p],n),s=P.getPointInPercent(a)}}return s},r.getPercValue=function(t,n){var a=this.curveSegments[t],s=a.points,l=s[0],c=a.timeInterval,h=Qr((n-l.x)/c,4),m=a.easingCurve.getValue(h);return Li(m,0,1)},r.getMaxTime=function(){var t=this.keyTimeData;return this.curveSegments[t[t.length-1]].timeEnd},o}(ta),xf=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.onCreate=function(t){var n=t[0],a=t[1],s=t[2];if(this.curveSegments={},!!s.length)for(var l=0;l<n.length-1;l++){var c=n[l],h=n[l+1],m=_t.fromArray(a[l]),v=_t.fromArray(a[l+1]),p=_t.fromArray(s[2*l]),b=_t.fromArray(s[2*l+1]),x=ql(c,h),P=x.points,V=x.curve,D=x.timeInterval,_=x.valueInterval,K=P[0],U=P[P.length-1],W=new al(m,v,p,b);this.curveSegments[K.x+"&"+U.x]={points:P,timeInterval:D,valueInterval:_,easingCurve:V,pathCurve:W}}},r.getValue=function(t){var n=0,a=Qr(t,5),s=Object.keys(this.curveSegments),l=Number(s[0].split("&")[0]),c=Number(s[s.length-1].split("&")[1]);if(a<=l){var h=this.curveSegments[s[0]].pathCurve;return h.getPointInPercent(0)}if(a>=c){var m=this.curveSegments[s[s.length-1]].pathCurve;return m.getPointInPercent(1)}for(var v=0;v<s.length;v++){var p=s[v].split("&"),b=p[0],x=p[1];if(a>=Number(b)&&a<Number(x)){var P=this.curveSegments[s[v]].pathCurve;return n=this.getPercValue(s[v],a),P.getPointInPercent(n)}}var V=this.curveSegments[s[0]].pathCurve;return V.getPointInPercent(0)},r.getPercValue=function(t,n){var a=this.curveSegments[t],s=a.points,l=s[0],c=a.timeInterval,h=Qr((n-l.x)/c,4),m=a.easingCurve.getValue(h);return Li(m,0,1)},r.getMaxTime=function(){var t=Object.keys(this.curveSegments);return Number(t[t.length-1].split("&")[1])},o}(ta);function Rs(i,o,r,e,t){var n=i-o;return(e+e+(t-e)*n/(r-o))*n/2}function Il(i,o,r,e,t){var n=i*i,a=n*i,s=o*o,l=s*o;return(2*a*(e-t)+3*n*(o*t-r*e)-l*(2*e+t)+3*s*r*e)/(6*(o-r))}function _s(i,o,r){var e=r[Ml]-o[Ml],t=o[fa]*e,n=r[Zu]*e,a=(i-o[Ml])/e,s=a*a,l=s*a,c=2*l-3*s+1,h=l-2*s+a,m=l-s,v=-2*l+3*s;return c*o[hs]+h*t+m*n+v*r[hs]}function Ya(i,o){if(o){var r=o[0],e=o[1];if(r===dt.CURVE){i.curves.push(e);var t=e.length;e[0][0]>0&&t++,e[e.length-1][0]<1&&t++,i.index+=t,i.max=Math.max(i.max,t),i.curveCount+=t}else if(r===dt.LINE){var n=e.length;if(n===2&&e[0][0]===0&&e[1][0]===1)return;e[0][0]>0&&n++,e[e.length-1][0]<1&&n++;var a=Math.ceil(n/2);i.lineSegCount+=a,i.curves.push(e),i.index+=a,i.max=Math.max(i.max,a)}else if(r===dt.BEZIER_CURVE){var s=e.length-1;i.index+=2*s,i.curves.push(e),i.max=Math.max(i.max,2*s),i.curveCount+=2*s}}}function Ls(){return{curves:[],index:0,max:0,lineSegCount:0,curveCount:0}}function tu(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(tu=function(){return!!i})()}function Do(i,o,r){return tu()?Do=Reflect.construct:Do=function(t,n,a){var s=[null];s.push.apply(s,n);var l=Function.bind.apply(t,s),c=new l;return a&&Yt(c,a.prototype),c},Do.apply(null,arguments)}var qu=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.value=new Bn,e}var r=o.prototype;return r.onCreate=function(t){this.xCurve=hn(t[0]),this.yCurve=hn(t[1]),this.zCurve=hn(t[2]),this.wCurve=hn(t[3])},r.getValue=function(t){var n=this.xCurve.getValue(t),a=this.yCurve.getValue(t),s=this.zCurve.getValue(t),l=this.wCurve.getValue(t);return this.value.set(n,a,s,l),this.value},o}(ta),ec=6,Cf="PRE_COLOR_0",tc="PRE_COLOR_SIZE_0",Ef="PRE_MAIN_COLOR_0",nc="PRE_MAIN_COLOR_SIZE_0",To="editor",nu={"Item duration can't be less than 0":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#AOnQS","ValueType: 21/22 is not supported":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#smO1b"},ka,rc=(ka={},ka[dt.RANDOM]=function(i){return k(i[0],Array)?new Xu(i):new Eo(i)},ka[dt.CONSTANT]=function(i){return new Co(i)},ka[dt.CONSTANT_VEC2]=function(i){return new Co(i)},ka[dt.CONSTANT_VEC3]=function(i){return new Co(i)},ka[dt.CONSTANT_VEC4]=function(i){return new Co(i)},ka[dt.RGBA_COLOR]=function(i){return new Co(i)},ka[dt.COLORS]=function(i){return new ds(i.map(function(o){return tt(o,!1)}))},ka[dt.LINE]=function(i){return i.length===2&&i[0][0]===0&&i[1][0]===1?new Al([i[0][1],i[1][1]]):new eu(i)},ka[dt.GRADIENT_COLOR]=function(i){return new Yu(i)},ka[dt.LINEAR_PATH]=function(i){return new Qu(i)},ka[dt.BEZIER_CURVE]=function(i){return i.length===1?new Co(i[0][1][1]):new Ku(i)},ka[dt.BEZIER_CURVE_PATH]=function(i){return i[0].length===1?new Co(Do(be,[].concat(i[1][0]))):new Ju(i)},ka[dt.BEZIER_CURVE_QUAT]=function(i){return i[0].length===1?new Co(Do(_t,[].concat(i[1][0]))):new xf(i)},ka[dt.COLOR_CURVE]=function(i){return new Tf(i)},ka[dt.VECTOR4_CURVE]=function(i){return new qu(i)},ka);function hn(i){if(!i||!isNaN(+i))return new Co(i||0);if(k(i,ta))return i;if(ct(rc[i[0]]))return rc[i[0]](i[1]);throw new Error("ValueType: "+i[0]+" is not supported, see "+nu["ValueType: 21/22 is not supported"]+".")}var Tf=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.value=new qr,e}var r=o.prototype;return r.onCreate=function(t){this.rCurve=hn(t[0]),this.gCurve=hn(t[1]),this.bCurve=hn(t[2]),this.aCurve=hn(t[3])},r.getValue=function(t){var n=this.rCurve.getValue(t),a=this.gCurve.getValue(t),s=this.bCurve.getValue(t),l=this.aCurve.getValue(t);return this.value.set(n,a,s,l),this.value},o}(ta),Pl=function(i){Ee(o,i);function o(e){var t;t=i.call(this,e)||this,t.cachePrefix="-",t.color=[1,1,1,1],t.visible=!0,t.isManualTimeSet=!1,t.frameAnimationTime=0,t.getHitTestParams=function(a){var s=t.interaction;if(a||s){var l=t.getBoundingBox();if(l){var c;return{behavior:((c=t.interaction)==null?void 0:c.behavior)||0,type:l.type,triangles:l.area,backfaceCulling:t.renderer.side===Sn.FRONT}}}},t.renderer={renderMode:pn.MESH,blending:Wt.ALPHA,texture:t.engine.emptyTexture,occlusion:!1,transparentOcclusion:!1,side:Sn.DOUBLE,mask:0,maskMode:kt.NONE,order:0},t.emptyTexture=t.engine.emptyTexture,t.renderInfo=ru(We(t));var n=t.createMaterial(t.renderInfo,2);return t.worldMatrix=Tn.fromIdentity(),t.material=n,t.material.setVector4("_Color",new Bn().setFromArray([1,1,1,1])),t.material.setVector4("_TexOffset",new Bn().setFromArray([0,0,1,1])),t}var r=o.prototype;return r.setVisible=function(t){this.visible=t},r.getVisible=function(){return this.visible},r.setColor=function(t){this.color=t,this.material.setVector4("_Color",new Bn().setFromArray(t))},r.setTexture=function(t){this.renderer.texture=t,this.material.setTexture("_MainTex",t)},r.setAnimationTime=function(t){this.frameAnimationTime=t,this.isManualTimeSet=!0},r.render=function(t){if(this.getVisible()){var n=this.material,a=this.geometry;t.renderingData.currentFrame.globalUniforms&&t.setGlobalMatrix("effects_ObjectToWorld",this.transform.getWorldMatrix()),this.material.setVector2("_Size",this.transform.size),(this.renderer.renderMode===pn.BILLBOARD||this.renderer.renderMode===pn.VERTICAL_BILLBOARD||this.renderer.renderMode===pn.HORIZONTAL_BILLBOARD)&&this.material.setVector3("_Scale",this.transform.scale),t.drawGeometry(a,n)}},r.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},r.onDestroy=function(){this.item&&this.item.composition&&this.item.composition.destroyTextures(this.getTextures())},r.getItemInitData=function(){this.geoData=this.getItemGeometryData();var t=this.geoData,n=t.index,a=t.atlasOffset,s=n.length,l=this.wireframe?new Uint8Array([0,1,1,3,2,3,2,0]):new n.constructor(s);if(!this.wireframe)for(var c=0;c<s;c++)l[c]=0+n[c];return{atlasOffset:a,index:l}},r.setItem=function(){var t=[],n=this.renderer.texture;n&&nt(t,n),n=this.renderer.texture;var a=this.getItemInitData(),s=this.renderer,l=this.material.getVector4("_TexParams");l&&(l.x=s.occlusion?+s.transparentOcclusion:1,l.y=+this.preMultiAlpha,l.z=s.renderMode,l.x===0?this.material.enableMacro("ALPHA_CLIP"):this.material.disableMacro("ALPHA_CLIP"));var c={atlasOffset:new Float32Array(a.atlasOffset.length),index:new Uint16Array(a.index.length)};c.atlasOffset.set(a.atlasOffset),c.index.set(a.index);var h=this,m=h.material,v=h.geometry,p=c.index;v.setIndexData(p),v.setAttributeData("atlasOffset",c.atlasOffset),v.setDrawCount(a.index.length),m.setTexture("_MainTex",n)},r.getItemGeometryData=function(){var t=this.renderer;if(t.shape){for(var n=t.shape,a=n.index,s=a===void 0?[]:a,l=n.aPoint,c=l===void 0?[]:l,h=new Float32Array(c),m=[],v=[],p=0;p<h.length;p+=6)v.push(c[p+2],c[p+3]),m.push(h[p],h[p+1],0);return this.geometry.setAttributeData("aPos",new Float32Array(m)),{index:s,atlasOffset:v}}else return this.geometry.setAttributeData("aPos",new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])),{index:[0,1,2,2,1,3],atlasOffset:[0,1,0,0,1,1,1,0]}},r.createGeometry=function(t){return Sr.create(this.engine,{attributes:{aPos:{type:F.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},atlasOffset:{size:2,offset:0,releasable:!0,type:F.FLOAT,data:new Float32Array(0)}},indices:{data:new Uint16Array(0),releasable:!0},mode:t,maxVertex:4})},r.createMaterial=function(t,n){var a=t.side,s=t.occlusion,l=t.blending,c=t.maskMode,h=t.mask,m={shader:mu(t,n,1)};this.preMultiAlpha=oo(l);var v=Bi.create(this.engine,m),p={side:a,blending:!0,blendMode:l,mask:h,maskMode:c,depthTest:!0,depthMask:s};return v.blending=p.blending,v.stencilRef=p.mask!==void 0?[p.mask,p.mask]:void 0,v.depthTest=p.depthTest,v.depthMask=p.depthMask,Ts(v,p.blendMode),E(v,p.maskMode),Ys(v,p.side),v.shader.shaderData.properties='_MainTex("_MainTex",2D) = "white" {}',v.hasUniform("_Color")||v.setVector4("_Color",new Bn(0,0,0,1)),v.hasUniform("_TexOffset")||v.setVector4("_TexOffset",new Bn),v.hasUniform("_TexParams")||v.setVector4("_TexParams",new Bn),v},r.getTextures=function(){var t=[],n=this.renderer.texture;return n&&t.push(n),t},r.getBoundingBox=function(){if(this.item){var t=this.transform.getWorldMatrix(),n=Ii(be.ZERO,.5*this.transform.size.x,.5*this.transform.size.y);return n.forEach(function(a){t.transformPoint(a.p0),t.transformPoint(a.p1),t.transformPoint(a.p2)}),{type:ho.triangle,area:n}}},o}(Ji);function ru(i){var o=i.renderer,r=o.blending,e=o.side,t=o.occlusion,n=o.mask,a=o.maskMode,s=o.order,l=+r,c=i.cachePrefix||"-";return{side:e,occlusion:t,blending:r,mask:n,maskMode:a,cachePrefix:c,cacheId:c+"."+ +e+"+"+ +t+"+"+l+"+"+s+"+"+a+"."+n}}var Rl=function(){},ic=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},No={exports:{}};(function(i){var o;function r(S,R){return S.b===R.b&&S.a===R.a}function e(S,R){return S.b<R.b||S.b===R.b&&S.a<=R.a}function t(S,R,z){var $=R.b-S.b,fe=z.b-R.b;return 0<$+fe?$<fe?R.a-S.a+$/($+fe)*(S.a-z.a):R.a-z.a+fe/($+fe)*(z.a-S.a):0}function n(S,R,z){var $=R.b-S.b,fe=z.b-R.b;return 0<$+fe?(R.a-z.a)*$+(R.a-S.a)*fe:0}function a(S,R){return S.a<R.a||S.a===R.a&&S.b<=R.b}function s(S,R,z){var $=R.a-S.a,fe=z.a-R.a;return 0<$+fe?$<fe?R.b-S.b+$/($+fe)*(S.b-z.b):R.b-z.b+fe/($+fe)*(z.b-S.b):0}function l(S,R,z){var $=R.a-S.a,fe=z.a-R.a;return 0<$+fe?(R.b-z.b)*$+(R.b-S.b)*fe:0}function c(S){return e(S.b.a,S.a)}function h(S){return e(S.a,S.b.a)}function m(S,R,z,$){return S=0>S?0:S,z=0>z?0:z,S<=z?z===0?(R+$)/2:R+S/(S+z)*($-R):$+z/(S+z)*(R-$)}function v(S){var R=V(S.b);return _(R,S.c),_(R.b,S.c),K(R,S.a),R}function p(S,R){var z=!1,$=!1;S!==R&&(R.a!==S.a&&($=!0,W(R.a,S.a)),R.d!==S.d&&(z=!0,q(R.d,S.d)),D(R,S),$||(_(R,S.a),S.a.c=S),z||(K(R,S.d),S.d.a=S))}function b(S){var R=S.b,z=!1;S.d!==S.b.d&&(z=!0,q(S.d,S.b.d)),S.c===S?W(S.a,null):(S.b.d.a=Ri(S),S.a.c=S.c,D(S,Ri(S)),z||K(S,S.d)),R.c===R?(W(R.a,null),q(R.d,null)):(S.d.a=Ri(R),R.a.c=R.c,D(R,Ri(R))),U(S)}function x(S){var R=V(S),z=R.b;return D(R,S.e),R.a=S.b.a,_(z,R.a),R.d=z.d=S.d,R=R.b,D(S.b,Ri(S.b)),D(S.b,R),S.b.a=R.a,R.b.a.c=R.b,R.b.d=S.b.d,R.f=S.f,R.b.f=S.b.f,R}function P(S,R){var z=!1,$=V(S),fe=$.b;return R.d!==S.d&&(z=!0,q(R.d,S.d)),D($,S.e),D(fe,R),$.a=S.b.a,fe.a=R.a,$.d=fe.d=S.d,S.d.a=fe,z||K($,S.d),$}function V(S){var R=new Xo,z=new Xo,$=S.b.h;return z.h=$,$.b.h=R,R.h=S,S.b.h=z,R.b=z,R.c=R,R.e=z,z.b=R,z.c=z,z.e=R}function D(S,R){var z=S.c,$=R.c;z.b.e=R,$.b.e=S,S.c=$,R.c=z}function _(S,R){var z=R.f,$=new Zs(R,z);z.e=$,R.f=$,z=$.c=S;do z.a=$,z=z.c;while(z!==S)}function K(S,R){var z=R.d,$=new os(R,z);z.b=$,R.d=$,$.a=S,$.c=R.c,z=S;do z.d=$,z=z.e;while(z!==S)}function U(S){var R=S.h;S=S.b.h,R.b.h=S,S.b.h=R}function W(S,R){var z=S.c,$=z;do $.a=R,$=$.c;while($!==z);z=S.f,$=S.e,$.f=z,z.e=$}function q(S,R){var z=S.a,$=z;do $.d=R,$=$.e;while($!==z);z=S.d,$=S.b,$.d=z,z.b=$}function ie(S){var R=0;return Math.abs(S[1])>Math.abs(S[0])&&(R=1),Math.abs(S[2])>Math.abs(S[R])&&(R=2),R}var oe=4*1e150;function Xe(S,R){S.f+=R.f,S.b.f+=R.b.f}function Je(S,R,z){return S=S.a,R=R.a,z=z.a,R.b.a===S?z.b.a===S?e(R.a,z.a)?0>=n(z.b.a,R.a,z.a):0<=n(R.b.a,z.a,R.a):0>=n(z.b.a,S,z.a):z.b.a===S?0<=n(R.b.a,S,R.a):(R=t(R.b.a,S,R.a),S=t(z.b.a,S,z.a),R>=S)}function ot(S){S.a.i=null;var R=S.e;R.a.c=R.c,R.c.a=R.a,S.e=null}function lt(S,R){b(S.a),S.c=!1,S.a=R,R.i=S}function Et(S){var R=S.a.a;do S=Yo(S);while(S.a.a===R);return S.c&&(R=P(Ga(S).a.b,S.a.e),lt(S,R),S=Yo(S)),S}function Ht(S,R,z){var $=new $h;return $.a=z,$.e=ha(S.f,R.e,$),z.i=$}function Gt(S,R){switch(S.s){case 100130:return(R&1)!==0;case 100131:return R!==0;case 100132:return 0<R;case 100133:return 0>R;case 100134:return 2<=R||-2>=R}return!1}function Qt(S){var R=S.a,z=R.d;z.c=S.d,z.a=R,ot(S)}function en(S,R,z){for(S=R,R=R.a;S!==z;){S.c=!1;var $=Ga(S),fe=$.a;if(fe.a!==R.a){if(!$.c){Qt(S);break}fe=P(R.c.b,fe.b),lt($,fe)}R.c!==fe&&(p(Ri(fe),fe),p(R,fe)),Qt(S),R=$.a,S=$}return R}function Pt(S,R,z,$,fe,st){var mt=!0;do Ht(S,R,z.b),z=z.c;while(z!==$);for(fe===null&&(fe=Ga(R).a.b.c);$=Ga(R),z=$.a.b,z.a===fe.a;)z.c!==fe&&(p(Ri(z),z),p(Ri(fe),z)),$.f=R.f-z.f,$.d=Gt(S,$.f),R.b=!0,!mt&&Yn(S,R)&&(Xe(z,fe),ot(R),b(fe)),mt=!1,R=$,fe=z;R.b=!0,st&&ni(S,R)}function Fn(S,R,z,$,fe){var st=[R.g[0],R.g[1],R.g[2]];R.d=null,R.d=S.o&&S.o(st,z,$,S.c)||null,R.d===null&&(fe?S.n||(di(S,100156),S.n=!0):R.d=z[0])}function dn(S,R,z){var $=[null,null,null,null];$[0]=R.a.d,$[1]=z.a.d,Fn(S,R.a,$,[.5,.5,0,0],!1),p(R,z)}function In(S,R,z,$,fe){var st=Math.abs(R.b-S.b)+Math.abs(R.a-S.a),mt=Math.abs(z.b-S.b)+Math.abs(z.a-S.a),Pn=fe+1;$[fe]=.5*mt/(st+mt),$[Pn]=.5*st/(st+mt),S.g[0]+=$[fe]*R.g[0]+$[Pn]*z.g[0],S.g[1]+=$[fe]*R.g[1]+$[Pn]*z.g[1],S.g[2]+=$[fe]*R.g[2]+$[Pn]*z.g[2]}function Yn(S,R){var z=Ga(R),$=R.a,fe=z.a;if(e($.a,fe.a)){if(0<n(fe.b.a,$.a,fe.a))return!1;if(!r($.a,fe.a))x(fe.b),p($,Ri(fe)),R.b=z.b=!0;else if($.a!==fe.a){var z=S.e,st=$.a.h;if(0<=st){var z=z.b,mt=z.d,Pn=z.e,wr=z.c,Hr=wr[st];mt[Hr]=mt[z.a],wr[mt[Hr]]=Hr,Hr<=--z.a&&(1>=Hr||e(Pn[mt[Hr>>1]],Pn[mt[Hr]])?vf(z,Hr):Bd(z,Hr)),Pn[st]=null,wr[st]=z.b,z.b=st}else for(z.c[-(st+1)]=null;0<z.a&&z.c[z.d[z.a-1]]===null;)--z.a;dn(S,Ri(fe),$)}}else{if(0>n($.b.a,fe.a,$.a))return!1;Yo(R).b=R.b=!0,x($.b),p(Ri(fe),$)}return!0}function Kn(S,R){var z=Ga(R),$=R.a,fe=z.a,st=$.a,mt=fe.a,Pn=$.b.a,wr=fe.b.a,Hr=new Zs;if(n(Pn,S.a,st),n(wr,S.a,mt),st===mt||Math.min(st.a,Pn.a)>Math.max(mt.a,wr.a))return!1;if(e(st,mt)){if(0<n(wr,st,mt))return!1}else if(0>n(Pn,mt,st))return!1;var pa=Pn,Ki=st,Qi=wr,Wa=mt,ui,Fa;if(e(pa,Ki)||(ui=pa,pa=Ki,Ki=ui),e(Qi,Wa)||(ui=Qi,Qi=Wa,Wa=ui),e(pa,Qi)||(ui=pa,pa=Qi,Qi=ui,ui=Ki,Ki=Wa,Wa=ui),e(Qi,Ki)?e(Ki,Wa)?(ui=t(pa,Qi,Ki),Fa=t(Qi,Ki,Wa),0>ui+Fa&&(ui=-ui,Fa=-Fa),Hr.b=m(ui,Qi.b,Fa,Ki.b)):(ui=n(pa,Qi,Ki),Fa=-n(pa,Wa,Ki),0>ui+Fa&&(ui=-ui,Fa=-Fa),Hr.b=m(ui,Qi.b,Fa,Wa.b)):Hr.b=(Qi.b+Ki.b)/2,a(pa,Ki)||(ui=pa,pa=Ki,Ki=ui),a(Qi,Wa)||(ui=Qi,Qi=Wa,Wa=ui),a(pa,Qi)||(ui=pa,pa=Qi,Qi=ui,ui=Ki,Ki=Wa,Wa=ui),a(Qi,Ki)?a(Ki,Wa)?(ui=s(pa,Qi,Ki),Fa=s(Qi,Ki,Wa),0>ui+Fa&&(ui=-ui,Fa=-Fa),Hr.a=m(ui,Qi.a,Fa,Ki.a)):(ui=l(pa,Qi,Ki),Fa=-l(pa,Wa,Ki),0>ui+Fa&&(ui=-ui,Fa=-Fa),Hr.a=m(ui,Qi.a,Fa,Wa.a)):Hr.a=(Qi.a+Ki.a)/2,e(Hr,S.a)&&(Hr.b=S.a.b,Hr.a=S.a.a),pa=e(st,mt)?st:mt,e(pa,Hr)&&(Hr.b=pa.b,Hr.a=pa.a),r(Hr,st)||r(Hr,mt))return Yn(S,R),!1;if(!r(Pn,S.a)&&0<=n(Pn,S.a,Hr)||!r(wr,S.a)&&0>=n(wr,S.a,Hr)){if(wr===S.a)return x($.b),p(fe.b,$),R=Et(R),$=Ga(R).a,en(S,Ga(R),z),Pt(S,R,Ri($),$,$,!0),!0;if(Pn===S.a){x(fe.b),p($.e,Ri(fe)),st=z=R,mt=st.a.b.a;do st=Yo(st);while(st.a.b.a===mt);return R=st,st=Ga(R).a.b.c,z.a=Ri(fe),fe=en(S,z,null),Pt(S,R,fe.c,$.b.c,st,!0),!0}return 0<=n(Pn,S.a,Hr)&&(Yo(R).b=R.b=!0,x($.b),$.a.b=S.a.b,$.a.a=S.a.a),0>=n(wr,S.a,Hr)&&(R.b=z.b=!0,x(fe.b),fe.a.b=S.a.b,fe.a.a=S.a.a),!1}return x($.b),x(fe.b),p(Ri(fe),$),$.a.b=Hr.b,$.a.a=Hr.a,$.a.h=qa(S.e,$.a),$=$.a,fe=[0,0,0,0],Hr=[st.d,Pn.d,mt.d,wr.d],$.g[0]=$.g[1]=$.g[2]=0,In($,st,Pn,fe,0),In($,mt,wr,fe,2),Fn(S,$,Hr,fe,!0),Yo(R).b=R.b=z.b=!0,!1}function ni(S,R){for(var z=Ga(R);;){for(;z.b;)R=z,z=Ga(z);if(!R.b&&(z=R,R=Yo(R),R===null||!R.b))break;R.b=!1;var $=R.a,fe=z.a,st;if(st=$.b.a!==fe.b.a)e:{st=R;var mt=Ga(st),Pn=st.a,wr=mt.a,Hr=void 0;if(e(Pn.b.a,wr.b.a)){if(0>n(Pn.b.a,wr.b.a,Pn.a)){st=!1;break e}Yo(st).b=st.b=!0,Hr=x(Pn),p(wr.b,Hr),Hr.d.c=st.d}else{if(0<n(wr.b.a,Pn.b.a,wr.a)){st=!1;break e}st.b=mt.b=!0,Hr=x(wr),p(Pn.e,wr.b),Hr.b.d.c=st.d}st=!0}if(st&&(z.c?(ot(z),b(fe),z=Ga(R),fe=z.a):R.c&&(ot(R),b($),R=Yo(z),$=R.a)),$.a!==fe.a){if($.b.a===fe.b.a||R.c||z.c||$.b.a!==S.a&&fe.b.a!==S.a)Yn(S,R);else if(Kn(S,R))break}$.a===fe.a&&$.b.a===fe.b.a&&(Xe(fe,$),ot(R),b($),R=Yo(z))}}function qn(S,R){S.a=R;for(var z=R.c;z.i===null;)if(z=z.c,z===R.c){var z=S,$=R,mt=new $h;mt.a=$.c.b;var fe=z.f,Pn=fe.a;do Pn=Pn.a;while(Pn.b!==null&&!fe.c(fe.b,mt,Pn.b));var fe=Pn.b,st=Ga(fe),mt=fe.a,Pn=st.a;if(n(mt.b.a,$,mt.a)===0)mt=fe.a,r(mt.a,$)||r(mt.b.a,$)||(x(mt.b),fe.c&&(b(mt.c),fe.c=!1),p($.c,mt),qn(z,$));else{var wr=e(Pn.b.a,mt.b.a)?fe:st,st=void 0;fe.d||wr.c?(wr===fe?st=P($.c.b,mt.e):st=P(Pn.b.c.b,$.c).b,wr.c?lt(wr,st):(mt=z,fe=Ht(z,fe,st),fe.f=Yo(fe).f+fe.a.f,fe.d=Gt(mt,fe.f)),qn(z,$)):Pt(z,fe,$.c,$.c,null,!0)}return}if(z=Et(z.i),mt=Ga(z),fe=mt.a,mt=en(S,mt,null),mt.c===fe){var fe=mt,mt=fe.c,Pn=Ga(z),st=z.a,wr=Pn.a,Hr=!1;st.b.a!==wr.b.a&&Kn(S,z),r(st.a,S.a)&&(p(Ri(mt),st),z=Et(z),mt=Ga(z).a,en(S,Ga(z),Pn),Hr=!0),r(wr.a,S.a)&&(p(fe,Ri(wr)),fe=en(S,Pn,null),Hr=!0),Hr?Pt(S,z,fe.c,mt,mt,!0):(e(wr.a,st.a)?$=Ri(wr):$=st,$=P(fe.c.b,$),Pt(S,z,$,$.c,$.c,!1),$.b.i.c=!0,ni(S,z))}else Pt(S,z,mt.c,fe,fe,!0)}function sa(S,R){var z=new $h,$=v(S.b);$.a.b=oe,$.a.a=R,$.b.a.b=-oe,$.b.a.a=R,S.a=$.b.a,z.a=$,z.f=0,z.d=!1,z.c=!1,z.h=!0,z.b=!1,$=S.f,$=ha($,$.a,z),z.e=$}function La(S){this.a=new Ka,this.b=S,this.c=Je}function ha(S,R,z){do R=R.c;while(R.b!==null&&!S.c(S.b,R.b,z));return S=new Ka(z,R.a,R),R.a.c=S,R.a=S}function Ka(S,R,z){this.b=S||null,this.a=R||this,this.c=z||this}function pr(){this.d=ja,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var ja=0;o=pr.prototype,o.x=function(){Ha(this,ja)},o.B=function(S,R){switch(S){case 100142:return;case 100140:switch(R){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=R;return}break;case 100141:this.m=!!R;return;default:di(this,100900);return}di(this,100901)},o.y=function(S){switch(S){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:di(this,100900)}return!1},o.A=function(S,R,z){this.j[0]=S,this.j[1]=R,this.j[2]=z},o.z=function(S,R){var z=R||null;switch(S){case 100100:case 100106:this.h=z;break;case 100104:case 100110:this.l=z;break;case 100101:case 100107:this.k=z;break;case 100102:case 100108:this.i=z;break;case 100103:case 100109:this.p=z;break;case 100105:case 100111:this.o=z;break;case 100112:this.r=z;break;default:di(this,100900)}},o.C=function(S,R){var z=!1,$=[0,0,0];Ha(this,2);for(var fe=0;3>fe;++fe){var st=S[fe];-1e150>st&&(st=-1e150,z=!0),1e150<st&&(st=1e150,z=!0),$[fe]=st}z&&di(this,100155),z=this.q,z===null?(z=v(this.b),p(z,z.b)):(x(z),z=z.e),z.a.d=R,z.a.g[0]=$[0],z.a.g[1]=$[1],z.a.g[2]=$[2],z.f=1,z.b.f=-1,this.q=z},o.u=function(S){Ha(this,ja),this.d=1,this.b=new Yi,this.c=S},o.t=function(){Ha(this,1),this.d=2,this.q=null},o.v=function(){Ha(this,2),this.d=1},o.w=function(){Ha(this,1),this.d=ja;var S=this.j[0],R=this.j[1],z=this.j[2],$=!1,fe=[S,R,z];if(S===0&&R===0&&z===0){for(var R=[-2*1e150,-2*1e150,-2*1e150],st=[2*1e150,2*1e150,2*1e150],z=[],mt=[],$=this.b.c,S=$.e;S!==$;S=S.e)for(var Pn=0;3>Pn;++Pn){var wr=S.g[Pn];wr<st[Pn]&&(st[Pn]=wr,mt[Pn]=S),wr>R[Pn]&&(R[Pn]=wr,z[Pn]=S)}if(S=0,R[1]-st[1]>R[0]-st[0]&&(S=1),R[2]-st[2]>R[S]-st[S]&&(S=2),st[S]>=R[S])fe[0]=0,fe[1]=0,fe[2]=1;else{for(R=0,st=mt[S],z=z[S],mt=[0,0,0],st=[st.g[0]-z.g[0],st.g[1]-z.g[1],st.g[2]-z.g[2]],Pn=[0,0,0],S=$.e;S!==$;S=S.e)Pn[0]=S.g[0]-z.g[0],Pn[1]=S.g[1]-z.g[1],Pn[2]=S.g[2]-z.g[2],mt[0]=st[1]*Pn[2]-st[2]*Pn[1],mt[1]=st[2]*Pn[0]-st[0]*Pn[2],mt[2]=st[0]*Pn[1]-st[1]*Pn[0],wr=mt[0]*mt[0]+mt[1]*mt[1]+mt[2]*mt[2],wr>R&&(R=wr,fe[0]=mt[0],fe[1]=mt[1],fe[2]=mt[2]);0>=R&&(fe[0]=fe[1]=fe[2]=0,fe[ie(st)]=1)}$=!0}for(mt=ie(fe),S=this.b.c,R=(mt+1)%3,z=(mt+2)%3,mt=0<fe[mt]?1:-1,fe=S.e;fe!==S;fe=fe.e)fe.b=fe.g[R],fe.a=mt*fe.g[z];if($){for(fe=0,$=this.b.a,S=$.b;S!==$;S=S.b)if(R=S.a,!(0>=R.f))do fe+=(R.a.b-R.b.a.b)*(R.a.a+R.b.a.a),R=R.e;while(R!==S.a);if(0>fe)for(fe=this.b.c,$=fe.e;$!==fe;$=$.e)$.a=-$.a}for(this.n=!1,fe=this.b.b,S=fe.h;S!==fe;S=$)$=S.h,R=S.e,r(S.a,S.b.a)&&S.e.e!==S&&(dn(this,R,S),b(S),S=R,R=S.e),R.e===S&&(R!==S&&((R===$||R===$.b)&&($=$.h),b(R)),(S===$||S===$.b)&&($=$.h),b(S));for(this.e=fe=new zo,$=this.b.c,S=$.e;S!==$;S=S.e)S.h=qa(fe,S);for(Ma(fe),this.f=new La(this),sa(this,-oe),sa(this,oe);(fe=xs(this.e))!==null;){for(;;){e:if(S=this.e,S.a===0)$=Uh(S.b);else if($=S.c[S.d[S.a-1]],S.b.a!==0&&(S=Uh(S.b),e(S,$))){$=S;break e}if($===null||!r($,fe))break;$=xs(this.e),dn(this,fe.c,$.c)}qn(this,fe)}for(this.a=this.f.a.a.b.a.a,fe=0;($=this.f.a.a.b)!==null;)$.h||++fe,ot($);for(this.f=null,fe=this.e,fe.b=null,fe.d=null,this.e=fe.c=null,fe=this.b,S=fe.a.b;S!==fe.a;S=$)$=S.b,S=S.a,S.e.e===S&&(Xe(S.c,S),b(S));if(!this.n){if(fe=this.b,this.m)for(S=fe.b.h;S!==fe.b;S=$)$=S.h,S.b.d.c!==S.d.c?S.f=S.d.c?1:-1:b(S);else for(S=fe.a.b;S!==fe.a;S=$)if($=S.b,S.c){for(S=S.a;e(S.b.a,S.a);S=S.c.b);for(;e(S.a,S.b.a);S=S.e);for(R=S.c.b,z=void 0;S.e!==R;)if(e(S.b.a,R.a)){for(;R.e!==S&&(c(R.e)||0>=n(R.a,R.b.a,R.e.b.a));)z=P(R.e,R),R=z.b;R=R.c.b}else{for(;R.e!==S&&(h(S.c.b)||0<=n(S.b.a,S.a,S.c.b.a));)z=P(S,S.c.b),S=z.b;S=S.e}for(;R.e.e!==S;)z=P(R.e,R),R=z.b}if(this.h||this.i||this.k||this.l)if(this.m){for(fe=this.b,$=fe.a.b;$!==fe.a;$=$.b)if($.c){this.h&&this.h(2,this.c),S=$.a;do this.k&&this.k(S.a.d,this.c),S=S.e;while(S!==$.a);this.i&&this.i(this.c)}}else{for(fe=this.b,$=!!this.l,S=!1,R=-1,z=fe.a.d;z!==fe.a;z=z.d)if(z.c){S||(this.h&&this.h(4,this.c),S=!0),mt=z.a;do $&&(st=mt.b.d.c?0:1,R!==st&&(R=st,this.l&&this.l(!!R,this.c))),this.k&&this.k(mt.a.d,this.c),mt=mt.e;while(mt!==z.a)}S&&this.i&&this.i(this.c)}if(this.r){for(fe=this.b,S=fe.a.b;S!==fe.a;S=$)if($=S.b,!S.c){R=S.a,z=R.e,mt=void 0;do mt=z,z=mt.e,mt.d=null,mt.b.d===null&&(mt.c===mt?W(mt.a,null):(mt.a.c=mt.c,D(mt,Ri(mt))),st=mt.b,st.c===st?W(st.a,null):(st.a.c=st.c,D(st,Ri(st))),U(mt));while(mt!==R);R=S.d,S=S.b,S.d=R,R.b=S}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function Ha(S,R){if(S.d!==R)for(;S.d!==R;)if(S.d<R)switch(S.d){case ja:di(S,100151),S.u(null);break;case 1:di(S,100152),S.t()}else switch(S.d){case 2:di(S,100154),S.v();break;case 1:di(S,100153),S.w()}}function di(S,R){S.p&&S.p(R,S.c)}function os(S,R){this.b=S||this,this.d=R||this,this.a=null,this.c=!1}function Xo(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ri(S){return S.b.e}function Yi(){this.c=new Zs,this.a=new os,this.b=new Xo,this.d=new Xo,this.b.b=this.d,this.d.b=this.b}function Zs(S,R){this.e=S||this,this.f=R||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function zo(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new ko}function Ma(S){S.d=[];for(var R=0;R<S.a;R++)S.d[R]=R;S.d.sort(function(z){return function($,fe){return e(z[$],z[fe])?1:-1}}(S.c)),S.e=!0,sv(S.b)}function qa(S,R){if(S.e){var z=S.b,$=++z.a;2*$>z.f&&(z.f*=2,z.c=mf(z.c,z.f+1));var fe;return z.b===0?fe=$:(fe=z.b,z.b=z.c[z.b]),z.e[fe]=R,z.c[fe]=$,z.d[$]=fe,z.h&&Bd(z,$),fe}return z=S.a++,S.c[z]=R,-(z+1)}function xs(S){if(S.a===0)return Vd(S.b);var R=S.c[S.d[S.a-1]];if(S.b.a!==0&&e(Uh(S.b),R))return Vd(S.b);do--S.a;while(0<S.a&&S.c[S.d[S.a-1]]===null);return R}function ko(){this.d=mf([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function mf(S,R){for(var z=Array(R),$=0;$<S.length;$++)z[$]=S[$];for(;$<R;$++)z[$]=0;return z}function sv(S){for(var R=S.a;1<=R;--R)vf(S,R);S.h=!0}function Uh(S){return S.e[S.d[1]]}function Vd(S){var R=S.d,z=S.e,$=S.c,fe=R[1],st=z[fe];return 0<S.a&&(R[1]=R[S.a],$[R[1]]=1,z[fe]=null,$[fe]=S.b,S.b=fe,0<--S.a&&vf(S,1)),st}function vf(S,R){for(var z=S.d,$=S.e,fe=S.c,st=R,mt=z[st];;){var Pn=st<<1;Pn<S.a&&e($[z[Pn+1]],$[z[Pn]])&&(Pn+=1);var wr=z[Pn];if(Pn>S.a||e($[mt],$[wr])){z[st]=mt,fe[mt]=st;break}z[st]=wr,fe[wr]=st,st=Pn}}function Bd(S,R){for(var z=S.d,$=S.e,fe=S.c,st=R,mt=z[st];;){var Pn=st>>1,wr=z[Pn];if(Pn===0||e($[wr],$[mt])){z[st]=mt,fe[mt]=st;break}z[st]=wr,fe[wr]=st,st=Pn}}function $h(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ga(S){return S.e.c.b}function Yo(S){return S.e.a.b}ic.libtess={GluTesselator:pr,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},pr.prototype.gluDeleteTess=pr.prototype.x,pr.prototype.gluTessProperty=pr.prototype.B,pr.prototype.gluGetTessProperty=pr.prototype.y,pr.prototype.gluTessNormal=pr.prototype.A,pr.prototype.gluTessCallback=pr.prototype.z,pr.prototype.gluTessVertex=pr.prototype.C,pr.prototype.gluTessBeginPolygon=pr.prototype.u,pr.prototype.gluTessBeginContour=pr.prototype.t,pr.prototype.gluTessEndContour=pr.prototype.v,pr.prototype.gluTessEndPolygon=pr.prototype.w,i.exports=ic.libtess})(No);var Fs=function(){function o(s,l){l[l.length]=s[0],l[l.length]=s[1]}function r(s){s!==No.exports.primitiveType.GL_TRIANGLES&&console.info("expected TRIANGLES but got type: "+s)}function e(s){console.error("error callback, error number: "+s)}function t(s,l,c){return[s[0],s[1],s[2]]}function n(s){}var a=new No.exports.GluTesselator;return a.gluTessCallback(No.exports.gluEnum.GLU_TESS_VERTEX_DATA,o),a.gluTessCallback(No.exports.gluEnum.GLU_TESS_BEGIN,r),a.gluTessCallback(No.exports.gluEnum.GLU_TESS_ERROR,e),a.gluTessCallback(No.exports.gluEnum.GLU_TESS_COMBINE,t),a.gluTessCallback(No.exports.gluEnum.GLU_TESS_EDGE_FLAG,n),a}();function iu(i){Fs.gluTessNormal(0,0,1);var o=[];Fs.gluTessBeginPolygon(o);for(var r=0;r<i.length;r++){Fs.gluTessBeginContour();for(var e=i[r],t=0;t<e.length;t+=2){var n=[e[t],e[t+1],0];Fs.gluTessVertex(n,n)}Fs.gluTessEndContour()}return Fs.gluTessEndPolygon(),o}var au=function(i){Ee(o,i);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a;a=i.call(this)||this,a.points=[],a.closePath=!1;var s=Array.isArray(t[0])?t[0]:t;if(typeof s[0]!="number"){for(var l=[],c=0,h=s.length;c<h;c++)l.push(s[c].x,s[c].y);s=l}return a.points=s,a.closePath=!0,a}var r=o.prototype;return r.clone=function(){var t=this.points.slice(),n=new o(t);return n.closePath=this.closePath,n},r.contains=function(t,n){for(var a=!1,s=this.points.length/2,l=0,c=s-1;l<s;c=l++){var h=this.points[l*2],m=this.points[l*2+1],v=this.points[c*2],p=this.points[c*2+1],b=m>n!=p>n&&t<(v-h)*((n-m)/(p-m))+h;b&&(a=!a)}return a},r.copyFrom=function(t){return this.points=t.points.slice(),this.closePath=t.closePath,this},r.copyTo=function(t){return t.copyFrom(this),t},r.getX=function(){return this.points[this.points.length-2]},r.getY=function(){return this.points[this.points.length-1]},r.build=function(t){for(var n=0;n<this.points.length;n++)t[n]=this.points[n]},r.triangulate=function(t,n,a,s,l){for(var c=iu([t]),h=0;h<c.length;h++)n[a+h]=c[h];for(var m=c.length/2,v=0;v<m;v++)s[l+v]=v},yn(o,[{key:"lastX",get:function(){return this.points[this.points.length-2]}},{key:"lastY",get:function(){return this.points[this.points.length-1]}}]),o}(Rl),Sf=8,_l=11920929e-14,Ll=1,wf=.5;function ou(i,o,r,e,t,n,a,s,l,c){var h=5,m=Math.min(.99,Math.max(0,c!=null?c:wf)),v=(Ll-m)/h;return v*=v,ac(o,r,e,t,n,a,s,l,i,v),i}function ac(i,o,r,e,t,n,a,s,l,c){su(i,o,r,e,t,n,a,s,l,c,0),l.push(a,s)}function su(i,o,r,e,t,n,a,s,l,c,h){if(!(h>Sf)){var m=(i+r)/2,v=(o+e)/2,p=(r+t)/2,b=(e+n)/2,x=(t+a)/2,P=(n+s)/2,V=(m+p)/2,D=(v+b)/2,_=(p+x)/2,K=(b+P)/2,U=(V+_)/2,W=(D+K)/2;if(h>0){var q=a-i,ie=s-o,oe=Math.abs((r-a)*ie-(e-s)*q),Xe=Math.abs((t-a)*ie-(n-s)*q);if(oe>_l&&Xe>_l){if((oe+Xe)*(oe+Xe)<=c*(q*q+ie*ie)){l.push(U,W);return}}else if(oe>_l){if(oe*oe<=c*(q*q+ie*ie)){l.push(U,W);return}}else if(Xe>_l){if(Xe*Xe<=c*(q*q+ie*ie)){l.push(U,W);return}}else if(q=U-(i+a)/2,ie=W-(o+s)/2,q*q+ie*ie<=c){l.push(U,W);return}}su(i,o,m,v,V,D,U,W,l,c,h+1),su(U,W,_,K,x,P,a,s,l,c,h+1)}}var lu=function(i){Ee(o,i);function o(e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0);var s;return s=i.call(this)||this,s.type="ellipse",s.x=e,s.y=t,s.halfWidth=n,s.halfHeight=a,s}var r=o.prototype;return r.clone=function(){return new o(this.x,this.y,this.halfWidth,this.halfHeight)},r.contains=function(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;var a=(t-this.x)/this.halfWidth,s=(n-this.y)/this.halfHeight;return a*=a,s*=s,a+s<=1},r.strokeContains=function(t,n,a){var s=this,l=s.halfWidth,c=s.halfHeight;if(l<=0||c<=0)return!1;var h=a/2,m=l-h,v=c-h,p=l+h,b=c+h,x=t-this.x,P=n-this.y,V=x*x/(m*m)+P*P/(v*v),D=x*x/(p*p)+P*P/(b*b);return V>1&&D<=1},r.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this},r.copyTo=function(t){return t.copyFrom(this),t},r.getX=function(){return this.x},r.getY=function(){return this.y},r.build=function(t){var n=this.x,a=this.y,s=this.halfWidth,l=this.halfHeight,c=0,h=0;if(!(s>=0&&l>=0&&c>=0&&h>=0))return t;var m=5,v=Math.ceil(m*Math.sqrt(s+l)),p=v*8+0+0;if(p===0)return t;if(v===0)return t[0]=t[6]=n+c,t[1]=t[3]=a+h,t[2]=t[4]=n-c,t[5]=t[7]=a-h,t;var b=0,x=v*4+0+2,P=x,V=p,D=c+s,_=h,K=n+D,U=n-D,W=a+_;t[b++]=K,t[b++]=W,t[--x]=W,t[--x]=U;for(var q=1;q<v;q++){var ie=Math.PI/2*(q/v),oe=c+Math.cos(ie)*s,Xe=h+Math.sin(ie)*l,Je=n+oe,ot=n-oe,lt=a+Xe,Et=a-Xe;t[b++]=Je,t[b++]=lt,t[--x]=lt,t[--x]=ot,t[P++]=ot,t[P++]=Et,t[--V]=Et,t[--V]=Je}D=c,_=h+l,K=n+D,U=n-D,W=a+_;var Ht=a-_;return t[b++]=K,t[b++]=W,t[--V]=Ht,t[--V]=K,t},r.triangulate=function(t,n,a,s,l){if(t.length!==0){for(var c=0,h=0,m=0;m<t.length;m+=2)c+=t[m],h+=t[m+1];c/=t.length/2,h/=t.length/2;var v=a;n[v*2]=c,n[v*2+1]=h;for(var p=v++,b=0;b<t.length;b+=2)n[v*2]=t[b],n[v*2+1]=t[b+1],b>0&&(s[l++]=v,s[l++]=p,s[l++]=v-1),v++;s[l++]=p+1,s[l++]=p,s[l++]=v-1}},o}(Rl),Nr;(function(i){i[i.Star=0]="Star",i[i.Polygon=1]="Polygon"})(Nr||(Nr={}));var uu=function(i){Ee(o,i);function o(e,t,n,a,s,l){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=0),l===void 0&&(l=0);var c;return c=i.call(this)||this,c.pointCount=e,c.outerRadius=t,c.innerRadius=n,c.outerRoundness=a,c.innerRoundness=s,c.starType=l,c.v=[],c.in=[],c.out=[],c}var r=o.prototype;return r.clone=function(){var t=new o(this.pointCount,this.outerRadius,this.innerRadius,this.outerRoundness,this.innerRoundness,this.starType);return t},r.copyFrom=function(t){this.pointCount=t.pointCount,this.outerRadius=t.outerRadius,this.innerRadius=t.innerRadius,this.outerRoundness=t.outerRoundness,this.innerRoundness=t.innerRoundness,this.starType=t.starType},r.copyTo=function(t){t.copyFrom(this)},r.build=function(t){switch(this.starType){case 0:{this.buildStarPath();break}case 1:{this.buildPolygonPath();break}}for(var n=1,a=0;a<this.v.length-2;a+=2)ou(t,this.v[a],this.v[a+1],this.out[a],this.out[a+1],this.in[a+2],this.in[a+3],this.v[a+2],this.v[a+3],n);var s=this.v.length-1;ou(t,this.v[s-1],this.v[s],this.out[s-1],this.out[s],this.in[0],this.in[1],this.v[0],this.v[1],n)},r.triangulate=function(t,n,a,s,l){for(var c=iu([t]),h=0;h<c.length;h++)n[a+h]=c[h];for(var m=c.length/2,v=0;v<m;v++)s[l+v]=v},r.buildStarPath=function(){this.v=[],this.in=[],this.out=[];var t=Math.floor(this.pointCount)*2,n=Math.PI*2/t,a=!0,s=this.outerRadius,l=this.innerRadius,c=this.outerRoundness/100,h=this.innerRoundness/100,m=2*Math.PI*s/(t*2),v=2*Math.PI*l/(t*2),p,b,x,P,V=-Math.PI/2,D=1;for(p=0;p<t;p++){b=a?s:l,x=a?c:h,P=a?m:v;var _=b*Math.cos(V),K=b*Math.sin(V),U=_===0&&K===0?0:K/Math.sqrt(_*_+K*K),W=_===0&&K===0?0:-_/Math.sqrt(_*_+K*K),q=p*2;this.v[q]=_,this.v[q+1]=K,this.in[q]=_+U*P*x*D,this.in[q+1]=K+W*P*x*D,this.out[q]=_-U*P*x*D,this.out[q+1]=K-W*P*x*D,a=!a,V+=n*D}},r.buildPolygonPath=function(){this.v=[],this.in=[],this.out=[];var t=Math.floor(this.pointCount),n=Math.PI*2/t,a=this.outerRadius,s=this.outerRoundness/100,l=2*Math.PI*a/(t*4),c,h=-Math.PI*.5,m=1;for(c=0;c<t;c++){var v=a*Math.cos(h),p=a*Math.sin(h),b=v===0&&p===0?0:p/Math.sqrt(v*v+p*p),x=v===0&&p===0?0:-v/Math.sqrt(v*v+p*p),P=c*2;this.v[P]=v,this.v[P+1]=p,this.in[P]=v+b*l*s*m,this.in[P+1]=p+x*l*s*m,this.out[P]=v-b*l*s*m,this.out[P+1]=p-x*l*s*m,h+=n*m}},o}(Rl),Of=function(i){Ee(o,i);function o(e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0);var s;return s=i.call(this)||this,s.x=Number(e),s.y=Number(t),s.width=Number(n),s.height=Number(a),s}var r=o.prototype;return r.isEmpty=function(){return this.left===this.right||this.top===this.bottom},r.clone=function(){return new o(this.x,this.y,this.width,this.height)},r.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},r.copyTo=function(t){return t.copyFrom(this),t},r.contains=function(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height},r.strokeContains=function(t,n,a){var s=this,l=s.width,c=s.height;if(l<=0||c<=0)return!1;var h=this.x,m=this.y,v=h-a/2,p=h+l+a/2,b=m-a/2,x=m+c+a/2,P=h+a/2,V=h+l-a/2,D=m+a/2,_=m+c-a/2;return t>=v&&t<=p&&n>=b&&n<=x&&!(t>P&&t<V&&n>D&&n<_)},r.pad=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this},r.fit=function(t){var n=Math.max(this.x,t.x),a=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),l=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(a-n,0),this.y=s,this.height=Math.max(l-s,0),this},r.ceil=function(t,n){t===void 0&&(t=1),n===void 0&&(n=.001);var a=Math.ceil((this.x+this.width-n)*t)/t,s=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=a-this.x,this.height=s-this.y,this},r.enlarge=function(t){var n=Math.min(this.x,t.x),a=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),l=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=a-n,this.y=s,this.height=l-s,this},r.getBounds=function(t){return t=t||new o,t.copyFrom(this),t},r.getX=function(){return this.x},r.getY=function(){return this.y},r.build=function(t){var n=this.x,a=this.y,s=this.width,l=this.height;return s>=0&&l>=0&&(t[0]=n,t[1]=a,t[2]=n+s,t[3]=a,t[4]=n+s,t[5]=a+l,t[6]=n,t[7]=a+l),t},r.triangulate=function(t,n,a,s,l){var c=0,h=2;a*=h,n[a+c]=t[0],n[a+c+1]=t[1],c+=h,n[a+c]=t[2],n[a+c+1]=t[3],c+=h,n[a+c]=t[6],n[a+c+1]=t[7],c+=h,n[a+c]=t[4],n[a+c+1]=t[5],c+=h;var m=a/h;s[l++]=m,s[l++]=m+1,s[l++]=m+2,s[l++]=m+1,s[l++]=m+3,s[l++]=m+2},yn(o,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new o(0,0,0,0)}}]),o}(Rl),Gh=function(){function i(r){this.graphicsPath=r,this.currentPoly=null,this.shapePrimitives=[]}var o=i.prototype;return o.buildPath=function(){this.currentPoly=null,this.shapePrimitives.length=0;for(var e=this.graphicsPath,t=ke(e.instructions),n;!(n=t()).done;){var a=n.value,s=a.action,l=a.data;switch(s){case"bezierCurveTo":{this.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);break}case"moveTo":{this.moveTo(l[0],l[1]);break}case"ellipse":{this.ellipse(l[0],l[1],l[2],l[3],l[4]);break}case"polyStar":{this.polyStar(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);break}case"rect":{this.rect(l[0],l[1],l[2],l[3],l[4]);break}}}this.endPoly()},o.bezierCurveTo=function(e,t,n,a,s,l,c){this.ensurePoly();var h=this.currentPoly;return ou(h.points,h.lastX,h.lastY,e,t,n,a,s,l,c),this},o.moveTo=function(e,t){return this.startPoly(e,t),this},o.ellipse=function(e,t,n,a,s){return this.drawShape(new lu(e,t,n,a),s),this},o.polyStar=function(e,t,n,a,s,l,c){return this.drawShape(new uu(e,t,n,a,s,l),c),this},o.rect=function(e,t,n,a,s){return this.drawShape(new Of(e,t,n,a),s),this},o.drawShape=function(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this},o.startPoly=function(e,t){var n=this.currentPoly;return n&&this.endPoly(),n=new au,n.points.push(e,t),this.currentPoly=n,this},o.endPoly=function(e){e===void 0&&(e=!1);var t=this.currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this.currentPoly=null,this},o.ensurePoly=function(e){this.currentPoly||(this.currentPoly=new au,this.currentPoly.points.push(0,0))},i}(),Mf=function(){function i(){this.instructions=[],this.dirty=!1}var o=i.prototype;return o.bezierCurveTo=function(e,t,n,a,s,l,c){return this.instructions.push({action:"bezierCurveTo",data:[e,t,n,a,s,l,c]}),this.dirty=!0,this},o.moveTo=function(e,t){return this.instructions.push({action:"moveTo",data:[e,t]}),this.dirty=!0,this},o.ellipse=function(e,t,n,a,s){return this.instructions.push({action:"ellipse",data:[e,t,n,a,s]}),this.dirty=!0,this},o.rect=function(e,t,n,a,s){return this.instructions.push({action:"rect",data:[e,t,n,a,s]}),this.dirty=!0,this},o.polyStar=function(e,t,n,a,s,l,c){return this.instructions.push({action:"polyStar",data:[e,t,n,a,s,l,c]}),this.dirty=!0,this},o.clear=function(){return this.instructions.length=0,this.dirty=!0,this},yn(i,[{key:"shapePath",get:function(){return this._shapePath||(this._shapePath=new Gh(this)),this.dirty&&(this.dirty=!1,this._shapePath.buildPath()),this._shapePath}}]),i}(),cu=function(i){Ee(o,i);function o(e){var t;if(t=i.call(this,e)||this,t.path=new Mf,t.curveValues=[],t.animated=!0,t.vert=`
precision highp float;

attribute vec3 aPos;//x y

uniform mat4 effects_MatrixVP;
uniform mat4 effects_MatrixInvV;
uniform mat4 effects_ObjectToWorld;

void main() {
  vec4 pos = vec4(aPos.xyz, 1.0);
  gl_Position = effects_MatrixVP * effects_ObjectToWorld * pos;
}
`,t.frag=`
precision highp float;

uniform vec4 _Color;

void main() {
  vec4 color = _Color;
  color.rgb *= color.a;
  gl_FragColor = color;
}
`,t.geometry||(t.geometry=Sr.create(e,{attributes:{aPos:{type:F.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},aUV:{type:F.FLOAT,size:2,data:new Float32Array}},mode:F.TRIANGLES,drawCount:4})),!t.material){var n={shader:{vertex:t.vert,fragment:t.frag,glslVersion:ri.GLSL1}};t.material=Bi.create(e,n),t.material.setColor("_Color",new qr(1,1,1,1)),t.material.depthMask=!1,t.material.depthTest=!0,t.material.blending=!0}return t}var r=o.prototype;return r.onStart=function(){this.item.getHitTestParams=this.getHitTestParams},r.onUpdate=function(t){this.animated&&(this.buildPath(this.data),this.buildGeometryFromPath(this.path.shapePath),this.animated=!1)},r.buildGeometryFromPath=function(t){for(var n=t.shapePrimitives,a=[],s=[],l=ke(n),c;!(c=l()).done;){var h=c.value,m=h.shape,v=[],p=s.length,b=a.length/2;m.build(v),m.triangulate(v,a,b,s,p)}var x=a.length/2,P=this.geometry.getAttributeData("aPos"),V=this.geometry.getAttributeData("aUV"),D=this.geometry.getIndexData();(!P||P.length<x*3)&&(P=new Float32Array(x*3)),(!V||V.length<x*2)&&(V=new Float32Array(x*2)),D||(D=new Uint16Array(s.length));for(var _=0;_<x;_++){var K=_*3,U=_*2,W=_*2;P[K]=a[U],P[K+1]=a[U+1],P[K+2]=0,V[W]=P[K],V[W+1]=P[K+1]}D.set(s),this.geometry.setAttributeData("aPos",P),this.geometry.setAttributeData("aUV",V),this.geometry.setIndexData(D),this.geometry.setDrawCount(s.length)},r.buildPath=function(t){this.path.clear();var n=t;switch(n.type){case sn.Custom:{var a=n,s=a.points,l=a.easingIns,c=a.easingOuts;this.curveValues=[];for(var h=ke(a.shapes),m;!(m=h()).done;){var v=m.value;this.setFillColor(v.fill);for(var p=v.indexes,b=1;b<p.length;b++){var x=p[b],P=p[b-1];this.curveValues.push({point:s[x.point],controlPoint1:c[P.easingOut],controlPoint2:l[x.easingIn]})}this.curveValues.push({point:s[p[0].point],controlPoint1:c[p[p.length-1].easingOut],controlPoint2:l[p[0].easingIn]})}this.path.moveTo(this.curveValues[this.curveValues.length-1].point.x,this.curveValues[this.curveValues.length-1].point.y);for(var V=ke(this.curveValues),D;!(D=V()).done;){var _=D.value,K=_.point,U=_.controlPoint1,W=_.controlPoint2;this.path.bezierCurveTo(U.x,U.y,W.x,W.y,K.x,K.y,1)}break}case sn.Ellipse:{var q=n;this.path.ellipse(0,0,q.xRadius,q.yRadius),this.setFillColor(q.fill);break}case sn.Rectangle:{var ie=n;this.path.rect(-ie.width/2,-ie.height/2,ie.width,ie.height),this.setFillColor(ie.fill);break}case sn.Star:{var oe=n;this.path.polyStar(oe.pointCount,oe.outerRadius,oe.innerRadius,oe.outerRoundness,oe.innerRoundness,Nr.Star),this.setFillColor(oe.fill);break}case sn.Polygon:{var Xe=n;this.path.polyStar(Xe.pointCount,Xe.radius,Xe.radius,Xe.roundness,Xe.roundness,Nr.Polygon),this.setFillColor(Xe.fill);break}}},r.setFillColor=function(t){if(t){var n=t.color;this.material.setColor("_Color",new qr(n.r,n.g,n.b,n.a))}},r.fromData=function(t){i.prototype.fromData.call(this,t),this.data=t;var n=this.material;n.stencilRef=t.renderer.mask!==void 0?[t.renderer.mask,t.renderer.mask]:void 0,E(n,t.renderer.maskMode)},o}(ra);cu=ne([Mn("ShapeComponent")],cu);var wa=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.loop=!1,e.amountOfMotion=1,e.animationLength=2,e.mode=1,e.startPositionX=0,e.startPositionY=0,e.startPositionZ=0,e.endPositionX=0,e.endPositionY=0,e.endPositionZ=0,e.amplitudeX=0,e.amplitudeY=0,e.amplitudeZ=0,e.phaseX=0,e.phaseY=0,e.phaseZ=0,e}var r=o.prototype;return r.onStart=function(){this.effectComponent=this.item.getComponent(B)},r.onUpdate=function(t){this.updateFake3D()},r.updateFake3D=function(){if(this.effectComponent){var t=this.item.time%this.animationLength/this.animationLength,n=0,a=0,s=0;switch(this.mode){case 0:{var l=Math.PI;n=Math.sin(2*l*(t+this.phaseX))*this.amplitudeX,a=Math.sin(2*l*(t+this.phaseY))*this.amplitudeY,s=Math.sin(2*l*(t+this.phaseZ))*this.amplitudeZ;break}case 1:{var c=t;this.loop&&(c>.5&&(c=1-c),c*=2),n=this.startPositionX*(1-c)+c*this.endPositionX,a=this.startPositionY*(1-c)+c*this.endPositionY,s=this.startPositionZ*(1-c)+c*this.endPositionZ;break}}var h=this.effectComponent.material;h.setFloat("_PosX",n*this.amountOfMotion),h.setFloat("_PosY",a*this.amountOfMotion),h.setFloat("_PosZ",s*this.amountOfMotion)}},o}(Di);ne([wn()],wa.prototype,"loop",void 0),ne([wn()],wa.prototype,"amountOfMotion",void 0),ne([wn()],wa.prototype,"animationLength",void 0),ne([wn()],wa.prototype,"mode",void 0),ne([wn()],wa.prototype,"startPositionX",void 0),ne([wn()],wa.prototype,"startPositionY",void 0),ne([wn()],wa.prototype,"startPositionZ",void 0),ne([wn()],wa.prototype,"endPositionX",void 0),ne([wn()],wa.prototype,"endPositionY",void 0),ne([wn()],wa.prototype,"endPositionZ",void 0),ne([wn()],wa.prototype,"amplitudeX",void 0),ne([wn()],wa.prototype,"amplitudeY",void 0),ne([wn()],wa.prototype,"amplitudeZ",void 0),ne([wn()],wa.prototype,"phaseX",void 0),ne([wn()],wa.prototype,"phaseY",void 0),ne([wn()],wa.prototype,"phaseZ",void 0),wa=ne([Mn("Fake3DComponent")],wa);var sl;(function(i){i[i.Circular=0]="Circular",i[i.Linear=1]="Linear"})(sl||(sl={}));var fu=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,t&&n.fromData(t),n}var r=o.prototype;return r.onUpdate=function(){if(this.item.composition&&this.item.transform.getValid()){var t=this.item.composition.camera;t.near=this.options.near,t.far=this.options.far,t.fov=this.options.fov,t.clipMode=this.options.clipMode,t.position=this.transform.getWorldPosition(),t.rotation=this.transform.getWorldRotation()}},r.fromData=function(t){i.prototype.fromData.call(this,t),this.options=t.options},o}(ga);fu=ne([Mn(St.CameraController)],fu);var ll=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o}(On),ho;(function(i){i[i.triangle=1]="triangle",i[i.box=2]="box",i[i.sphere=3]="sphere",i[i.custom=4]="custom"})(ho||(ho={}));var Ds="click",Af="touchstart",If="touchmove",oc="touchend",Pf=function(){function i(r,e){e===void 0&&(e=!1),this.target=r,this.allowPropagation=e,this.enabled=!0,this.handlers={},this.nativeHandlers={}}var o=i.prototype;return o.bindListeners=function(){var e=this,t,n,a,s,l;l=function(b){return b};var c="mousedown",h="mousemove",m="mouseup",v=function(b,x,P,V,D){V===void 0&&(V=0),D===void 0&&(D=0);var _=0,K=0,U=performance.now();if(!e.target)return He.warn("Trigger TouchEvent after EventSystem is disposed."),{x,y:P,vx:0,vy:K,dx:V,dy:D,ts:U,width:0,height:0,origin:b};var W=e.target,q=W.width,ie=W.height;if(s){var oe=U-s.ts;_=(V-s.dx)/oe||0,K=(D-s.dy)/oe||0,s={dx:V,dy:D,ts:U}}return{x,y:P,vx:_,vy:K,dx:V,dy:D,ts:U,width:q,height:ie,origin:b}};vt()&&(l=function(b){var x=b.touches,P=b.changedTouches;return x[0]||P[0]},c="touchstart",h="touchmove",m="touchend");var p;this.nativeHandlers=(p={},p[c]=function(b){if(e.enabled){var x=l(b),P=hu(x);t=P.x,n=P.y,s=a={clientX:x.clientX,clientY:x.clientY,ts:performance.now(),x:t,y:n},e.dispatchEvent(Af,v(b,t,n))}},p[h]=function(b){if(a&&e.enabled){var x=hu(l(b));t=x.x,n=x.y,e.dispatchEvent(If,v(b,t,n,t-a.x,n-a.y))}},p[m]=function(b){if(a&&e.enabled){!e.allowPropagation&&b.cancelable&&(b.preventDefault(),b.stopPropagation());var x=l(b),P=hu(x),V=Math.abs(a.clientX-x.clientX)+Math.abs(a.clientY-x.clientY);t=P.x,n=P.y,V<4&&e.dispatchEvent(Ds,v(b,t,n)),e.dispatchEvent(oc,v(b,t,n,t-a.x,n-a.y))}a=0},p),Object.keys(this.nativeHandlers).forEach(function(b){var x;(x=e.target)==null||x.addEventListener(String(b),e.nativeHandlers[b])})},o.dispatchEvent=function(e,t){var n=this.handlers[e];n==null||n.forEach(function(a){return a(t)})},o.addEventListener=function(e,t){var n=this.handlers[e];return n||(n=this.handlers[e]=[]),nt(n,t),function(){ge(n,t)}},o.removeEventListener=function(e,t){var n=this.handlers[e];n&&ge(n,t)},o.dispose=function(){var e=this;this.target&&(this.handlers={},Object.keys(this.nativeHandlers).forEach(function(t){var n;(n=e.target)==null||n.removeEventListener(String(t),e.nativeHandlers[t])}),this.nativeHandlers={},this.target=null)},i}();function hu(i){var o=i.target,r=i.clientX,e=i.clientY,t=o.getBoundingClientRect(),n=t.left,a=t.top,s=t.width,l=t.height,c=(r-n)/s*2-1,h=1-(e-a)/l*2;return{x:c,y:h}}var Rf=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o}(On),_f=`
precision highp float;

attribute vec2 aPoint;
uniform vec4 uPos;
uniform vec2 uSize;
uniform vec4 uQuat;
uniform vec4 uColor;
uniform mat4 effects_ObjectToWorld;
uniform mat4 effects_MatrixInvV;
uniform mat4 effects_MatrixVP;
varying vec4 vColor;
#ifdef ENV_EDITOR
  uniform vec4 uEditorTransform;
#endif

vec3 rotateByQuat(vec3 a, vec4 quat){
  vec3 qvec = quat.xyz;
  vec3 uv = cross(qvec, a);
  vec3 uuv = cross(qvec, uv) * 2.;
  return a +(uv * 2. * quat.w + uuv);
}

void main() {
  vec4 _pos = uPos;
  vec3 point = rotateByQuat(vec3(aPoint.xy * uSize, 0.),uQuat);
  vec4 pos = vec4(_pos.xyz, 1.0);
  pos = effects_ObjectToWorld * pos;
  pos.xyz += effects_MatrixInvV[0].xyz * point.x+ effects_MatrixInvV[1].xyz * point.y;
  gl_Position = effects_MatrixVP * pos;
  vColor = uColor;
  #ifdef ENV_EDITOR
    gl_Position = vec4(gl_Position.xy * uEditorTransform.xy + uEditorTransform.zw * gl_Position.w, gl_Position.zw);
  #endif
}
`,Lf=`
precision highp float;

#define fragColor gl_FragColor

varying vec4 vColor;
void main() {
  gl_FragColor = vColor*vColor.a;
}
`,sc=1,Wh=function(){function i(r,e,t,n){this.transform=t,this.engine=n,this.color=r.options.previewColor;var a=this.createMaterial(e),s=this.createGeometry();this.mesh=this.createMesh(s,a),this.updateMesh()}var o=i.prototype;return o.updateMesh=function(){var e=this.mesh.material,t=e.getVector2("uSize").clone(),n=e.getVector4("uPos").clone(),a=new be,s=new _t,l=this.transform.scale.clone();this.transform.assignWorldTRS(a,s,l),t.x=l.x,t.y=l.y,n.x=a.x,n.y=a.y,n.z=a.z,e.setVector2("uSize",t),e.setVector4("uPos",n),e.setQuaternion("uQuat",s)},o.createMaterial=function(e){var t,n=[["ENV_EDITOR",((t=this.engine.renderer)==null?void 0:t.env)===To]],a=hn(this.color).getValue(0),s={shader:{vertex:_f,fragment:Lf,glslVersion:ri.GLSL1,cacheId:""+e.cachePrefix+"_effects_interact",macros:n},uniformSemantics:{effects_MatrixVP:"VIEWPROJECTION",effects_MatrixInvV:"VIEWINVERSE",effects_ObjectToWorld:"MODEL",uEditorTransform:"EDITOR_TRANSFORM"}},l=Bi.create(this.engine,s);return l.blending=!0,l.depthTest=!1,l.setVector4("uPos",new Bn(0,0,0,0)),l.setVector2("uSize",new gr(1,1)),l.setVector4("uColor",new Bn(a[0]/255,a[1]/255,a[2]/255,a[3])),l.setQuaternion("uQuat",new _t(0,0,0,0)),l},o.createGeometry=function(){var e=new Uint8Array([0,1,1,2,2,3,3,0]);return Sr.create(this.engine,{attributes:{aPoint:{size:2,offset:0,stride:2*Float32Array.BYTES_PER_ELEMENT,data:new Float32Array([-.5,.5,.5,.5,.5,-.5,-.5,-.5])}},drawCount:e.length,indices:{data:e},mode:F.LINES,maxVertex:4})},o.createMesh=function(e,t){return gi.create(this.engine,{name:"Interact_preview"+sc++,priority:0,worldMatrix:Tn.fromIdentity(),geometry:e,material:t})},i}(),ul=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.downgrade=.95,e.dragRatio=[1,1],e.dragRange={dxRange:[0,0],dyRange:[0,0]},e.duringPlay=!1,e._interactive=!0,e.getHitTestParams=function(t){if(e.clickable){var n=e.item.props.content.options.behavior,a=e.getBoundingBox();if(a)return{type:a.type,triangles:a.area,behavior:n}}},e}var r=o.prototype;return r.getDragRangeX=function(){return this.dragRange.dxRange},r.setDragRangeX=function(t,n){this.dragRange.dxRange=[t,n]},r.getDragRangeY=function(){return this.dragRange.dyRange},r.setDragRangeY=function(t,n){this.dragRange.dyRange=[t,n]},r.onStart=function(){var t=this.item.props.content.options,n=this.item.engine.renderer.env,a=this.item.composition,s=this.interactData.options,l=s.type,c=s.showPreview;if(l===jn.CLICK&&(this.clickable=!0,c&&n===To)){var h=a==null?void 0:a.getRendererOptions();h!==void 0&&(this.previewContent=new Wh(this.item.props.content,h,this.transform,this.engine))}t.type===jn.DRAG&&(n!==To||t.enableInEditor)&&a!=null&&a.event&&this.beginDragTarget(t,a.event),this.previewContent&&(this.previewContent.mesh.item=this.item,this.materials=this.previewContent.mesh.materials),this.item.getHitTestParams=this.getHitTestParams},r.onDisable=function(){i.prototype.onDisable.call(this),this.item&&this.item.composition&&(this.duringPlay&&!this.item.transform.getValid()&&(this.item.composition.removeInteractiveItem(this.item,this.item.props.content.options.type),this.duringPlay=!1),this.clickable=!1,this.endDragTarget())},r.onEnable=function(){i.prototype.onEnable.call(this);var t=this.interactData.options.type,n=this.item.engine.renderer.env;if(t===jn.CLICK)this.clickable=!0;else if(t===jn.DRAG){var a=this.interactData.options,s=a.enableInEditor;if(n!==To||s){var l;(l=this.item.composition)!=null&&l.event&&this.beginDragTarget(a,this.item.composition.event)}}},r.onUpdate=function(t){var n;if(this.duringPlay=!0,this.item.time>0&&this.item.time-t/1e3<=0){var a,s=this.item.props.content.options;(a=this.item.composition)==null||a.addInteractiveItem(this.item,s.type)}(n=this.previewContent)==null||n.updateMesh(),!(!this.dragEvent||!this.bouncingArg)&&(this.bouncingArg.vx*=this.downgrade,this.bouncingArg.vy*=this.downgrade,this.bouncingArg.dy+=this.bouncingArg.vy,this.bouncingArg.dx+=this.bouncingArg.vx,du(this.bouncingArg)?(this.dragEvent=null,this.bouncingArg=null):this.handleDragMove(this.dragEvent,this.bouncingArg))},r.render=function(t){this.previewContent&&this.previewContent.mesh.render(t)},r.onDestroy=function(){var t;(t=this.previewContent)==null||t.mesh.dispose()},r.endDragTarget=function(){},r.handleDragMove=function(t,n){if(!(!(t!=null&&t.cameraParam)||!this.canInteract()||!this.item.composition)){var a=t.cameraParam,s=a.position,l=a.fov,c=n.dy,h=n.dx*n.width/n.height,m=s[2],v=Math.tan(l*Math.PI/180/2)*Math.abs(m),p=c*v,b=h*v,x=this.dragRange,P=x.dxRange,V=x.dyRange,D=s[0]-this.dragRatio[0]*b,_=s[1]-this.dragRatio[1]*p,K=P[0],U=P[1],W=V[0],q=V[1];if(D=Li(D,K,U),_=Li(_,W,q),D!==K&&D!==U&&K!==U){var ie;(ie=n.origin)==null||ie.preventDefault()}if(_!==W&&_!==q&&W!==q){var oe;(oe=n.origin)==null||oe.preventDefault()}this.item.composition.camera.position=new be(D,_,m)}},r.beginDragTarget=function(t,n){var a=this;if(t.target==="camera"){var s,l={touchstart:function(c){var h;if(a.canInteract()){a.dragEvent=null,a.bouncingArg=null;var m=(h=a.item.composition)==null?void 0:h.camera;s={x:c.x,y:c.y,cameraParam:{position:(m==null?void 0:m.position.toArray())||[0,0,8],fov:(m==null?void 0:m.fov)||60}}}},touchmove:function(c){a.handleDragMove(s,c),a.bouncingArg=c},touchend:function(c){if(a.canInteract()){var h=a.bouncingArg;if(!du(h,3)&&h){var m=5;h.vx*=m,h.vy*=m,a.dragEvent=I({},s)}s=null}}};Object.keys(l).forEach(function(c){n.addEventListener(c,l[c])}),l.touchmove({dx:0,dy:0,width:1,height:1}),this.item.getComponent(o).endDragTarget=function(){Object.keys(l).forEach(function(c){n.removeEventListener(c,l[c])})}}},r.getBoundingBox=function(){var t=this.transform.getWorldMatrix(),n=Ii(be.ZERO,.5*this.transform.size.x,.5*this.transform.size.y);return n.forEach(function(a){t.transformPoint(a.p0),t.transformPoint(a.p1),t.transformPoint(a.p2)}),{type:ho.triangle,area:n}},r.fromData=function(t){if(i.prototype.fromData.call(this,t),this.interactData=t,t.options.type===jn.DRAG){var n=t.options;n.dxRange&&(this.dragRange.dxRange=n.dxRange),n.dyRange&&(this.dragRange.dyRange=n.dyRange)}},r.canInteract=function(){var t;return!!((t=this.item.composition)!=null&&t.interactive)&&this._interactive},yn(o,[{key:"interactive",get:function(){return this._interactive},set:function(t){this._interactive=t,t||(this.bouncingArg=null)}}]),o}(Ji);ul=ne([Mn(St.InteractComponent)],ul);function du(i,o){var r=1e-5*(o||1);return i&&Math.abs(i.vx||0)<r&&Math.abs(i.vy||0)<r}var Ff=function(){function i(){this.triangles=[],this.worldMatrix=new Tn}var o=i.prototype;return o.getBoundingBoxData=function(){return this.applyWorldMatrix(this.boundingBoxData.area),this.boundingBoxData},o.getBoundingBox=function(){for(var e=-Number.MAX_VALUE,t=-Number.MAX_VALUE,n=Number.MAX_VALUE,a=Number.MAX_VALUE,s=ke(this.boundingBoxData.area),l;!(l=s()).done;){var c=l.value;e=Math.max(c.p0.x,c.p1.x,c.p2.x,e),t=Math.max(c.p0.y,c.p1.y,c.p2.y,t),n=Math.min(c.p0.x,c.p1.x,c.p2.x,n),a=Math.min(c.p0.y,c.p1.y,c.p2.y,a)}var h=[],m=new be(n,t,0),v=new be(e,t,0),p=new be(e,a,0),b=new be(n,a,0);return h.push({p0:m,p1:v,p2:p}),h.push({p0:m,p1:p,p2:b}),this.applyWorldMatrix(h),{type:ho.triangle,area:h}},o.setGeometry=function(e,t){this.geometry!==e&&(this.triangles=this.geometryToTriangles(e),this.geometry=e);for(var n=[],a=ke(this.triangles),s;!(s=a()).done;){var l=s.value;n.push({p0:l.p0,p1:l.p1,p2:l.p2})}t&&this.worldMatrix.copyFrom(t),this.boundingBoxData={type:ho.triangle,area:n}},o.geometryToTriangles=function(e){for(var t,n=(t=e.getIndexData())!=null?t:[],a,s=(a=e.getAttributeData("aPos"))!=null?a:[],l=[],c=0;c<n.length;c+=3){var h=n[c]*3,m=n[c+1]*3,v=n[c+2]*3,p={x:s[h],y:s[h+1],z:s[h+2]},b={x:s[m],y:s[m+1],z:s[m+2]},x={x:s[v],y:s[v+1],z:s[v+2]};l.push({p0:p,p1:b,p2:x})}return l},o.applyWorldMatrix=function(e){var t=this;return e.forEach(function(n){n.p0=t.worldMatrix.transformPoint(n.p0,new be),n.p1=t.worldMatrix.transformPoint(n.p1,new be),n.p2=t.worldMatrix.transformPoint(n.p2,new be)}),e},i}(),cl=8;function lc(i){if(i.maxVertexUniforms>=256)return cl=32;if(i.maxVertexUniforms>=128)return cl=16}function Df(i,o){var r=o!=null?o:{},e=r.env,t=e===void 0?"":e,n=r.wireframe,a=[["ENV_EDITOR",t===To]],s=n?Ta:Ss,l=ls;return{fragment:s,vertex:l,glslVersion:i===1?ri.GLSL1:ri.GLSL3,macros:a,shared:!0}}function uc(i,o){return i.cachePrefix+"_effects_sprite_"+o}function mu(i,o,r,e){var t=i.wireframe,n=Df(r,{wireframe:t,env:e});return n.shared=!0,n}function Zh(i){cl=i}var Fl={blending:0,cacheId:"-",mask:0,maskMode:0,occlusion:!1,side:0,cachePrefix:"-"},cc=function(i){Ee(o,i);function o(){var r;return r=i.apply(this,arguments)||this,r.name="sprite",r}return o.precompile=function(e,t,n){var a=t.getShaderLibrary(),s=t.engine.gpuCapability,l=s.level,c=s.detail,h=(n!=null?n:{}).env;return a!=null&&a.shaderResults[uc(Fl,2)]||(a==null||a.addShader(mu(Fl,2,1,h)),a==null||a.addShader(mu(Fl,cl,1,h)),c.writableFragDepth&&(a==null||a.addShader(Ao(l,!0)))),Promise.resolve()},o}(On),mo=function(){function i(){this.playableOutputs=[],this.playables=[]}var o=i.prototype;return o.evaluate=function(e){for(var t=ke(this.playableOutputs),n;!(n=t()).done;){var a=n.value;a.context.deltaTime=e}for(var s=ke(this.playableOutputs),l;!(l=s()).done;){var c=l.value;this.prepareFrameWithRoot(c)}for(var h=ke(this.playableOutputs),m;!(m=h()).done;){var v=m.value;this.processFrameWithRoot(v)}},o.addOutput=function(e){this.playableOutputs.push(e)},o.addPlayable=function(e){this.playables.push(e)},o.processFrameWithRoot=function(e){e.sourcePlayable.processFrame(e.context),e.processFrame()},o.prepareFrameWithRoot=function(e){e.prepareFrame(),e.sourcePlayable.prepareFrame(e.context)},o.updatePlayableTime=function(e,t){e.getPlayState()===0&&e.setTime(e.getTime()+t)},i}(),So=function(){function i(r,e){this.onPlayablePlayFlag=!0,this.onPlayablePauseFlag=!1,this.duration=0,this.destroyed=!1,this.playState=0,this.time=0,r.addPlayable(this)}var o=i.prototype;return o.play=function(){switch(this.playState){case 0:break;case 1:this.playState=0,this.onPlayablePlayFlag=!0,this.onPlayablePauseFlag=!1;break}},o.pause=function(){switch(this.playState){case 0:this.playState=1,this.onPlayablePauseFlag=!0,this.onPlayablePlayFlag=!1;break}},o.setTime=function(e){this.time=e},o.getTime=function(){return this.time},o.setDuration=function(e){this.duration=e},o.getDuration=function(){return this.duration},o.getPlayState=function(){return this.playState},o.prepareFrame=function(e){},o.processFrame=function(e){},o.onPlayableDestroy=function(){},o.dispose=function(){this.destroyed||(this.onPlayableDestroy(),this.destroyed=!0)},i}(),fc=function(){function i(){this.context={deltaTime:0,output:this}}var o=i.prototype;return o.setSourcePlayable=function(e){this.sourcePlayable=e},o.setUserData=function(e){this.userData=e},o.getUserData=function(){return this.userData},o.prepareFrame=function(){},o.processFrame=function(){},i}(),Vo=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o}(wi),fl;(function(i){i[i.Playing=0]="Playing",i[i.Paused=1]="Paused"})(fl||(fl={}));var vu=function(){var o=this,r=this;this.listeners={},this.off=function(e,t){o.listeners[e]&&(o.listeners[e]=o.listeners[e].filter(function(n){var a=n.listener;return a!==t}))},this.on=function(e,t,n){return o.listeners[e]=o.listeners[e]||[],o.listeners[e].push({listener:t,options:n}),function(){return o.off(e,t)}},this.once=function(e,t){o.on(e,t,{once:!0})},this.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s;(s=r.listeners[e])==null||s.forEach(function(l){var c=l.listener,h=l.options;c.apply(void 0,[].concat(n)),h!=null&&h.once&&r.off(e,c)})},this.getListeners=function(e){var t;return((t=o.listeners[e])==null?void 0:t.map(function(n){var a=n.listener;return a}))||[]}},Nf=new _t,hc=1,Ns=function(){function i(r,e){r===void 0&&(r={}),this.taggedProperties={},this.position=new be(0,0,0),this.quat=new _t(0,0,0,1),this.rotation=new Zr(0,0,0),this.scale=new be(1,1,1),this.anchor=new be(0,0,0),this.size=new gr(1,1),this.children=[],this.worldMatrix=Tn.fromIdentity(),this.localMatrix=Tn.fromIdentity(),this.valid=!0,this.dirtyFlags={localData:!1,localMatrix:!1,worldMatrix:!1,parentMatrix:!1},this.worldTRSCache={position:new be(0,0,0),quat:new _t(0,0,0,1),scale:new be(1,1,1)},this.name="transform_"+hc++,r&&this.setTransform(r),e&&(this.parentTransform=e),r.valid!==void 0&&this.setValid(r.valid)}var o=i.prototype;return o.setPosition=function(e,t,n){(this.position.x!==e||this.position.y!==t||this.position.z!==n)&&(this.position.x=e,this.position.y=t,this.position.z=n,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.translate=function(e,t,n){(e!==0||t!==0||n!==0)&&(this.position.x+=e,this.position.y+=t,this.position.z+=n,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setRotation=function(e,t,n){(this.rotation.x!==e||this.rotation.y!==t||this.rotation.z!==n)&&(this.rotation.x=e,this.rotation.y=t,this.rotation.z=n,this.quat.setFromEuler(this.rotation),this.quat.conjugate(),this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setQuaternion=function(e,t,n,a){(this.quat.x!==e||this.quat.y!==t||this.quat.z!==n||this.quat.w!==a)&&(this.quat.x=e,this.quat.y=t,this.quat.z=n,this.quat.w=a,this.rotation.setFromQuaternion(this.quat),this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setScale=function(e,t,n){(this.scale.x!==e||this.scale.y!==t||this.scale.z!==n)&&(this.scale.x=e,this.scale.y=t,this.scale.z=n,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setSize=function(e,t){(this.size.x!==e||this.size.y!==t)&&(this.size.x=e,this.size.y=t,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.rotateByQuat=function(e){this.quat.multiply(e),this.rotation.setFromQuaternion(this.quat),this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.scaleBy=function(e,t,n){this.scale.x*=e,this.scale.y*=t,this.scale.z*=n,this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.setAnchor=function(e,t){(this.anchor.x!==e||this.anchor.y!==t)&&(this.anchor.x=e,this.anchor.y=t,this.dirtyFlags.localData=!0,this.dispatchValueChange())},o.setTransform=function(e,t){var n=e.position,a=e.rotation,s=e.scale,l=e.size,c=e.quat,h=e.name,m=e.anchor;if(h&&(this.name=h),n&&(k(n,be)?this.setPosition(n.x,n.y,n.z):this.setPosition(n[0],n[1],n[2])),c)k(c,_t)?this.setQuaternion(c.x,c.y,c.z,c.w):this.setQuaternion(c[0],c[1],c[2],c[3]);else if(a){var v=t?-1:1;k(a,Zr)?this.setRotation(a.x*v,a.y*v,a.z*v):this.setRotation(a[0]*v,a[1]*v,a[2]*v)}s&&(k(s,be)?this.setScale(s.x,s.y,s.z):this.setScale(s[0],s[1],s[2])),l&&this.setSize(l.x,l.y),m&&(k(m,gr)?this.setAnchor(m.x,m.y):this.setAnchor(m[0],m[1]))},o.addChild=function(e){nt(this.children,e)},o.removeChild=function(e){ge(this.children,e)},o.getRotation=function(){return i.getRotation(this.quat,new Zr)},o.getQuaternion=function(){return this.quat},o.updateLocalMatrix=function(){this.valid?(this.dirtyFlags.localData&&(this.localMatrix.compose(this.position,this.quat,this.scale,this.anchor),this.dirtyFlags.localMatrix=!0),this.dirtyFlags.localData=!1):this.localMatrix.isIdentity()||(this.localMatrix.identity(),this.dirtyFlags.localMatrix=!0)},o.getMatrix=function(){return this.updateLocalMatrix(),this.localMatrix},o.getParentMatrix=function(){return this.parent&&(this.parentMatrix=this.parent.getWorldMatrix(),this.dirtyFlags.parentMatrix=this.dirtyFlags.parentMatrix||this.parent.dirtyFlags.localMatrix||this.parent.dirtyFlags.worldMatrix),this.parentMatrix},o.getWorldMatrix=function(){var e=this.getMatrix(),t=this.getParentMatrix();return(this.dirtyFlags.localMatrix||this.dirtyFlags.parentMatrix)&&(t?this.worldMatrix.multiplyMatrices(t,e):this.worldMatrix.copyFrom(e),this.dirtyFlags.worldMatrix=!0,this.dirtyFlags.localMatrix=!1,this.dirtyFlags.parentMatrix=!1),this.worldMatrix},o.getWorldScale=function(){var e=this.worldTRSCache;if(this.dirtyFlags.worldMatrix){var t=this.getWorldMatrix();t.decompose(e.position,e.quat,e.scale),this.dirtyFlags.worldMatrix=!1}return this.worldTRSCache.scale.clone()},o.getWorldPosition=function(){return this.updateTRSCache(),this.worldTRSCache.position.clone()},o.getWorldRotation=function(){return this.updateTRSCache(),i.getRotation(this.worldTRSCache.quat,new Zr)},o.assignWorldTRS=function(e,t,n){this.updateTRSCache(),e&&e.copyFrom(this.worldTRSCache.position),t&&t.copyFrom(this.worldTRSCache.quat),n&&n.copyFrom(this.worldTRSCache.scale)},o.cloneFromMatrix=function(e,t){e.decompose(this.position,this.quat,this.scale),t&&t.copyFrom(this.scale),this.dirtyFlags.localData=!0,this.dispatchValueChange()},o.setValid=function(e){this.valid!==e&&(this.valid=e,e?this.dirtyFlags.localData=!0:(this.localMatrix.identity(),this.dirtyFlags.localMatrix=!0),this.dispatchValueChange())},o.getValid=function(){return this.valid},o.toData=function(){var e=this.taggedProperties;return e.position=this.position.clone(),e.eulerHint={x:this.rotation.x,y:this.rotation.y,z:this.rotation.z},e.scale=this.scale.clone(),e},o.fromData=function(e){var t={position:new be().copyFrom(e.position),rotation:new Zr(e.eulerHint.x,e.eulerHint.y,e.eulerHint.z),scale:new be().copyFrom(e.scale)};this.setTransform(t)},o.dispose=function(){},o.updateTRSCache=function(){var e=this.getWorldMatrix();if(this.dirtyFlags.worldMatrix){var t=this.worldTRSCache;e.decompose(t.position,t.quat,t.scale),this.dirtyFlags.worldMatrix=!1}},o.dispatchValueChange=function(){this.children.forEach(function(e){e.parentMatrixDirty=!0})},i.getRotation=function(e,t){var n=Nf.copyFrom(e);return n.conjugate(),t.setFromQuaternion(n)},yn(i,[{key:"parentTransform",get:function(){return this.parent},set:function(e){!e||this.parent===e||this===e||(this.parent&&this.parent.removeChild(this),e.addChild(this),this.parent=e,this.parentMatrixDirty=!0)}},{key:"parentMatrixDirty",get:function(){return this.dirtyFlags.parentMatrix},set:function(e){this.dirtyFlags.parentMatrix!==e&&(this.dirtyFlags.parentMatrix=e,this.dispatchValueChange())}}]),i}(),Pi=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,n.children=[],n.transform=new Ns,n.time=0,n.duration=0,n.start=0,n.endBehavior=Se.forward,n.type=Ve.base,n.isDuringPlay=!1,n.components=[],n.rendererComponents=[],n.active=!0,n.visible=!0,n.speed=1,n.listIndex=0,n.isEnabled=!1,n.eventProcessor=new vu,n.name="VFXItem",n.transform.name=n.name,n.transform.engine=e,t&&n.fromData(t),n}var r=o.prototype;return r.on=function(t,n,a){this.eventProcessor.on(t,n,a)},r.off=function(t,n){this.eventProcessor.off(t,n)},r.once=function(t,n){this.eventProcessor.once(t,n)},r.emit=function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var l;(l=this.eventProcessor).emit.apply(l,[].concat([t],a))},r.getListeners=function(t){return this.eventProcessor.getListeners(t)},r.setSpeed=function(t){this.speed=t},r.getSpeed=function(){return this.speed},r.addComponent=function(t){var n=new t(this.engine);return this.components.push(n),n.setVFXItem(this),n},r.getComponent=function(t){for(var n,a=ke(this.components),s;!(s=a()).done;){var l=s.value;if(k(l,t)){n=l;break}}return n},r.getComponents=function(t){for(var n=[],a=ke(this.components),s;!(s=a()).done;){var l=s.value;k(l,t)&&n.push(l)}return n},r.setParent=function(t){t===this&&!t||(this.parent&&ge(this.parent.children,this),this.parent=t,o.isCamera(this)||(this.transform.parentTransform=t.transform),t.children.push(this),this.composition||(this.composition=t.composition),!this.isDuringPlay&&t.isDuringPlay&&this.beginPlay())},r.setColor=function(t,n,a,s){},r.setOpacity=function(t){},r.setActive=function(t){this.active!==t&&(this.active=!!t,this.onActiveChanged())},r.setVisible=function(t){for(var n=ke(this.components),a;!(a=n()).done;){var s=a.value;s.enabled=t}this.visible=t},r.getVisible=function(){return this.visible},r.getWorldTransform=function(t){var n=t!=null?t:new Ns({valid:!0});return n.cloneFromMatrix(this.transform.getWorldMatrix()),n},r.translate=function(t,n,a){this.transform.translate(t,n,a)},r.rotate=function(t,n,a){var s=new Zr(t,n,a),l=_t.fromEuler(s);l.conjugate(),this.transform.rotateByQuat(l)},r.scale=function(t,n,a){this.transform.scaleBy(t,n,a)},r.setPositionByPixel=function(t,n){if(this.composition){var a=this.transform.getWorldPosition().z,s=this.composition.camera.getInverseVPRatio(a),l=s.x,c=s.y,h=this.composition.renderer.getWidth()/2,m=this.composition.renderer.getHeight()/2;this.transform.setPosition((2*t/h-1)*l,(1-2*n/m)*c,a)}},r.setPosition=function(t,n,a){this.transform.setPosition(t,n,a)},r.setRotation=function(t,n,a){this.transform.setRotation(t,n,a)},r.setScale=function(t,n,a){this.transform.setScale(t,n,a)},r.getBoundingBox=function(){},r.getHitTestParams=function(t){},r.getCurrentPosition=function(){var t=new be;return this.transform.assignWorldTRS(t),t},r.find=function(t){var n;if(this.name===t)return this;var a=[];(n=a).push.apply(n,[].concat(this.children));for(var s=0;s<a.length;){var l,c=a[s];if(s++,c.name===t)return c;(l=a).push.apply(l,[].concat(c.children))}},r.beginPlay=function(){this.isDuringPlay=!0,this.composition&&this.active&&!this.isEnabled&&this.onEnable();for(var t=ke(this.children),n;!(n=t()).done;){var a=n.value;a.isDuringPlay||a.beginPlay()}},r.onActiveChanged=function(){this.isEnabled?this.onDisable():this.onEnable()},r.onEnable=function(){this.isEnabled=!0;for(var t=ke(this.components),n;!(n=t()).done;){var a=n.value;a.enabled&&!a.isStartCalled&&(a.onStart(),a.isStartCalled=!0)}for(var s=ke(this.components),l;!(l=s()).done;){var c=l.value;c.enabled&&!c.isEnableCalled&&c.enable()}},r.onDisable=function(){this.isEnabled=!1;for(var t=ke(this.components),n;!(n=t()).done;){var a=n.value;a.enabled&&a.isEnableCalled&&a.disable()}},r.fromData=function(t){i.prototype.fromData.call(this,t);var n=t.id,a=t.name,s=t.delay,l=t.parentId,c=t.endBehavior,h=t.transform,m=t.duration,v=m===void 0?0:m;this.props=t,this.type=t.type,this.id=n.toString(),this.name=a,this.start=s||this.start;var p={};if(h){if(p.position=new be().copyFrom(h.position),h.quat)p.quat=new _t(h.quat.x,h.quat.y,h.quat.z,h.quat.w);else{var b;p.rotation=new Zr().copyFrom((b=h.eulerHint)!=null?b:h.rotation)}p.scale=new be().copyFrom(h.scale),h.size&&(p.size=new gr().copyFrom(h.size)),h.anchor&&(p.anchor=new gr().copyFrom(h.anchor)),this.transform.setTransform(p)}if(this.transform.name=this.name,this.transform.engine=this.engine,this.parentId=l,this.duration=v,this.endBehavior=c,t.content||(t.content={options:{}}),v<0)throw new Error("Item duration can't be less than 0, see "+nu["Item duration can't be less than 0"]+".");this.rendererComponents.length=0;for(var x=ke(this.components),P;!(P=x()).done;){var V=P.value;V.item=this,k(V,Ji)&&this.rendererComponents.push(V),k(V,ks)&&(this.components.includes(V.renderer)||this.components.push(V.renderer),this.rendererComponents.push(V.renderer))}},r.toData=function(){var t;if(this.taggedProperties.id=this.guid,this.taggedProperties.transform=this.transform.toData(),this.taggedProperties.dataType=St.VFXItemData,((t=this.parent)==null?void 0:t.name)!=="rootItem"){var n;this.taggedProperties.parentId=(n=this.parent)==null?void 0:n.guid}if(!this.taggedProperties.components){this.taggedProperties.components=[];for(var a=ke(this.components),s;!(s=a()).done;){var l=s.value;k(l,B)&&this.taggedProperties.components.push(l)}}this.taggedProperties.content={}},r.translateByPixel=function(t,n){if(this.composition){var a=this.composition.renderer.canvas.getBoundingClientRect(),s=a.width,l=a.height,c=this.transform.getWorldPosition().z,h=this.composition.camera.getInverseVPRatio(c),m=h.x,v=h.y;this.transform.translate(2*t*m/s,-2*n*v/l,0)}},r.dispose=function(){if(this.resetChildrenParent(),this.composition){this.composition.destroyItem(this);for(var t=ke(this.components.slice()),n;!(n=t()).done;){var a=n.value;a.dispose()}this.components=[],this._content=void 0,this.composition=null,this.transform.setValid(!1)}},r.resetChildrenParent=function(){for(var t=ke(this.children),n;!(n=t()).done;){var a=n.value;this.parent&&a.setParent(this.parent)}if(this.parent){var s;ge((s=this.parent)==null?void 0:s.children,this)}},o.isComposition=function(t){return t.type===Ve.composition},o.isSprite=function(t){return t.type===Ve.sprite},o.isParticle=function(t){return t.type===Ve.particle},o.isNull=function(t){return t.type===Ve.null},o.isTree=function(t){return t.type===Ve.tree},o.isCamera=function(t){return t.type===Ve.camera},o.isAncestor=function(t,n){for(var a=n.parent;a;){if(a===t)return!0;a=a.parent}return!1},yn(o,[{key:"content",get:function(){return this._content}},{key:"compositionReusable",get:function(){var t,n;return(n=(t=this.composition)==null?void 0:t.reusable)!=null?n:!1}},{key:"renderOrder",get:function(){return this.listIndex},set:function(t){if(this.listIndex!==t){this.listIndex=t;for(var n=ke(this.rendererComponents),a;!(a=n()).done;){var s=a.value;s.priority=t}}}},{key:"isActive",get:function(){return this.active}},{key:"isVisible",get:function(){return this.visible}}]),o}(wi);ne([wn()],Pi.prototype,"components",void 0),Pi=ne([Mn(St.VFXItemData)],Pi);var Dl;(function(i){function o(n,a){return n.type===a}i.is=o;function r(n){return n.type===Ve.composition}i.isComposition=r;function e(n){return n.type===Ve.particle}i.isParticle=e;function t(n){return n.type===Ve.null}i.isNull=t})(Dl||(Dl={}));var Vf=[1,1,1,1],dc=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.renderColor=[1,1,1,1],e}var r=o.prototype;return r.processFrame=function(t){var n,a=t.output.getUserData();if(k(a,Pi)){if(this.activeComponent||(this.activeComponent=this.getActiveComponent(a)),!this.activeMaterial){var s,l;this.activeMaterial=(s=this.activeComponent)==null?void 0:s.material;var c=(l=this.activeMaterial)==null?void 0:l.getVector4("_Color");c&&(this.startColor=c.toArray())}(n=this.activeComponent)==null||n.setAnimationTime(this.time);var h=qs(Vf,1),m,v=this.time/a.duration,p=this.opacityOverLifetime,b=this.colorOverLifetime;if(b&&(h=qe(b,v,!0),m=!0),p&&(h[3]*=p.getValue(v),m=!0),m){var x,P;el(this.renderColor,h,this.startColor),(P=this.activeMaterial)==null||(x=P.getVector4("_Color"))==null||x.setFromArray(this.renderColor)}}},r.create=function(t){this.clipData=t;var n=t.colorOverLifetime;if(n){var a;this.opacityOverLifetime=hn((a=n.opacity)!=null?a:1),n.color&&n.color[0]===dt.GRADIENT_COLOR&&(this.colorOverLifetime=Ye(n.color[1]))}return this},r.getActiveComponent=function(t){return t.getComponent(Pl)},o}(So),pu=[[0,0,1,1,void 0]],mc=0,gu=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){var n=new dc(t);return n.create(this.data),n},r.fromData=function(t){this.data=t},o}(Vo);gu=ne([Mn(St.SpriteColorPlayableAsset)],gu);var vc=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,n.splits=pu,n.frameAnimationLoop=!1,n.name="MSprite"+mc++,n.geometry=n.createGeometry(F.TRIANGLES),n.setItem(),t&&n.fromData(t),n}var r=o.prototype;return r.onUpdate=function(t){var n=this;this.isManualTimeSet||(this.frameAnimationTime+=t/1e3,this.isManualTimeSet=!1);var a=this.frameAnimationTime,s=this.item.duration;a>s&&this.frameAnimationLoop&&(a=a%s);var l=Math.min(Math.max(a/s,0),1),c=this.textureSheetAnimation,h=this.renderer.texture.source.video;if(h&&(a===0?h.pause():h.play().catch(function(oe){n.engine.renderErrors.add(oe)})),c){var m,v=c.total||c.row*c.col,p=0,b=0,x=1,P=1,V;if(this.splits){var D=this.splits[0];V=D[4],p=D[0],b=D[1],V?(x=D[3],P=D[2]):(x=D[2],P=D[3])}var _,K;V?(_=1/c.row*x,K=1/c.col*P):(_=1/c.col*x,K=1/c.row*P);var U;if(c.animate){var W=Math.round(l*(v-1)),q=Math.floor(W/c.col),ie=W-q*c.col;U=V?[_*q,K*(c.col-ie)]:[_*ie,K*(1+q)]}else U=[0,K];(m=this.material.getVector4("_TexOffset"))==null||m.setFromArray([p+U[0],P+b-U[1],_,K])}},r.onDestroy=function(){var t=this.getTextures();this.item&&this.item.composition&&this.item.composition.destroyTextures(t),t.forEach(function(n){var a=n.source;a.sourceType===j.video&&(a!=null&&a.video)&&(a.video.pause(),a.video.src="",a.video.load())})},r.createGeometry=function(t){var n=12*this.splits.length;return Sr.create(this.engine,{attributes:{aPos:{type:F.FLOAT,size:3,data:new Float32Array([-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,-.5,0])},atlasOffset:{size:2,offset:0,releasable:!0,type:F.FLOAT,data:new Float32Array(0)}},indices:{data:new Uint16Array(0),releasable:!0},mode:t,maxVertex:n})},r.getItemGeometryData=function(){var t=this,n=t.splits,a=t.textureSheetAnimation,s=1,l=1,c=this.renderer;if(c.shape){for(var h=c.shape,m=h.index,v=m===void 0?[]:m,p=h.aPoint,b=p===void 0?[]:p,x=new Float32Array(b),P=[],V=[],D=0;D<x.length;D+=6)x[D]*=s,x[D+1]*=l,V.push(b[D+2],b[D+3]),P.push(x[D],x[D+1],0);return this.geometry.setAttributeData("aPos",new Float32Array(P)),{index:v,atlasOffset:V}}var _=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],K=[],U=[],W=2,q=2;n.length===1&&(W=1,q=1);for(var ie=[],oe=0;oe<W;oe++)for(var Xe=0;Xe<q;Xe++){var Je=(Xe*2+oe)*4,ot=a?[0,0,1,1,n[0][4]]:n[Xe*2+oe],lt=ot[4]?[0,0,1,0,0,1,1,1]:[0,1,0,0,1,1,1,0],Et=((oe+oe+1)/W-1)/2,Ht=((Xe+Xe+1)/q-1)/2,Gt=ot[0],Qt=ot[1],en=ot[4]?ot[3]:ot[2],Pt=ot[4]?ot[2]:ot[3],Fn=[_[0]/W+Et,_[1]/q+Ht,_[2]/W+Et,_[3]/q+Ht,_[4]/W+Et,_[5]/q+Ht,_[6]/W+Et,_[7]/q+Ht];K.push(lt[0]*en+Gt,lt[1]*Pt+Qt,lt[2]*en+Gt,lt[3]*Pt+Qt,lt[4]*en+Gt,lt[5]*Pt+Qt,lt[6]*en+Gt,lt[7]*Pt+Qt),ie.push(Fn[0]*s,Fn[1]*l,0,Fn[2]*s,Fn[3]*l,0,Fn[4]*s,Fn[5]*l,0,Fn[6]*s,Fn[7]*l,0),U.push(Je,1+Je,2+Je,2+Je,1+Je,3+Je)}return this.geometry.setAttributeData("aPos",new Float32Array(ie)),{index:U,atlasOffset:K}},r.fromData=function(t){i.prototype.fromData.call(this,t);var n=t.interaction,a=t.options,s=t.listIndex,l=s===void 0?0:s,c=t.renderer;c||(c={}),this.interaction=n;var h,m,v,p,b,x;this.renderer={renderMode:(h=c.renderMode)!=null?h:pn.MESH,blending:(m=c.blending)!=null?m:Wt.ALPHA,texture:(v=c.texture)!=null?v:this.engine.emptyTexture,occlusion:!!c.occlusion,transparentOcclusion:!!c.transparentOcclusion||c.maskMode===kt.MASK,side:(p=c.side)!=null?p:Sn.DOUBLE,shape:c.shape,mask:(b=c.mask)!=null?b:0,maskMode:(x=c.maskMode)!=null?x:kt.NONE,order:l},this.emptyTexture=this.engine.emptyTexture,this.splits=t.splits||pu,this.textureSheetAnimation=t.textureSheetAnimation,this.cachePrefix="-",this.renderInfo=ru(this);var P=this.createGeometry(F.TRIANGLES),V=this.createMaterial(this.renderInfo,2);this.worldMatrix=Tn.fromIdentity(),this.material=V,this.geometry=P;var D=a.startColor||[1,1,1,1];this.material.setVector4("_Color",new Bn().setFromArray(D)),this.material.setVector4("_TexOffset",new Bn().setFromArray([0,0,1,1])),this.setItem()},o}(Pl);vc=ne([Mn(St.SpriteComponent)],vc);var Xh="runtime_env",ns="lookup_texture",yu="offscreen_canvas",Yh="post_process_settings",bu={};function xu(i){return bu[i]}function pc(i,o){return bu[i]=o}var gc=function(){function i(r){var e=this;Object.keys(r).forEach(function(t){e[t]=r[t]})}var o=i.prototype;return o.generate=function(e){var t=ms(this.arc,this.arcMode,e),n=t*Gr,a=Math.cos(n)*this.radius,s=Math.sin(n)*this.radius,l=new be(a,s,0),c=Math.tan(this.angle*Gr),h=l.clone().multiply(c);return h.z+=1,{position:l.multiply(ht(0,1)),direction:h.normalize()}},i}();function ms(i,o,r){if(o===it.RANDOM)i=ht(0,i);else if(o===it.UNIDIRECTIONAL_CYCLE){var e=r.index%(r.total+1);i=i/r.total*e}else if(o===it.BIDIRECTIONAL_CYCLE){var t=r.index/(r.total+1),n=t-Math.floor(t);i=i*(Math.floor(t)%2?1-n:n)}else o===it.UNIFORM_BURST&&(i=i*r.burstIndex/r.burstCount);return i}var Bf=function(){function i(r){var e=this;Object.keys(r).forEach(function(t){e[t]=r[t]})}var o=i.prototype;return o.generate=function(e){var t=ms(this.arc,this.arcMode,e)*Gr,n=new be(Math.cos(t),Math.sin(t),0),a=this.radius;return{direction:n,position:n.clone().multiply(a)}},i}(),zf=function(){function i(r){this._d=(r.width||1)/2,this._h=(r.height||1)/2}var o=i.prototype;return o.generate=function(e){var t=ht(-this._d,this._d),n=ht(-this._h,this._h);return{direction:new be(0,0,1),position:new be(t,n,0)}},i}(),kf=function(){function i(r){this._d=(r.width||1)/2,this._h=(r.height||1)/2,this.arcMode=r.arcMode,this.arc=r.arc}var o=i.prototype;return o.generate=function(e){var t=ms(this.arc,this.arcMode,e)*Gr,n=new be(Math.cos(t),Math.sin(t),0),a=this._d,s=this._h,l=Math.atan2(s,a),c=Math.tan(t),h=new be;return t<l?h.set(a,a*c,0):t>=l&&t<Math.PI-l?h.set(s/c,s,0):t<Math.PI+l?h.set(-a,-a*c,0):t<Math.PI*2-l?h.set(-s/c,-s,0):h.set(a,a*c,0),{direction:n,position:h}},i}(),Uf=function(){function i(r){this._d=r.width||1,this.arcMode=r.arcMode}var o=i.prototype;return o.generate=function(e){var t=this.arcMode===it.UNIFORM_BURST?e.burstIndex%e.burstCount/(e.burstCount-1):ht(0,1);return{direction:new be(0,1,0),position:new be(this._d*(t-.5),0,0)}},i}(),$f=new Tn,yc=function(){function i(r){var e=this;Object.keys(r).forEach(function(t){e[t]=r[t]})}var o=i.prototype;return o.generate=function(e){var t=this.donutRadius,n=this.radius-t,a=ht(0,Math.PI*2),s=ms(this.arc,this.arcMode,e)*Gr,l=$f.setFromRotationZ(s),c=new be(Math.cos(a),Math.sin(a),0),h=new be(n+Math.cos(a)*t,0,Math.sin(a)*t);return{direction:l.transformNormal(c),position:l.transformPoint(h)}},i}(),jf=new Tn,bc=function(){function i(r){var e=this;Object.keys(r).forEach(function(t){e[t]=r[t]})}var o=i.prototype;return o.getHorizontalAngle=function(){return ht(-90,90)},o.generate=function(e){var t=ms(this.arc,this.arcMode,e)*Gr,n=this.getHorizontalAngle()*Gr,a=this.radius,s=new be(Math.cos(n),0,Math.sin(n)),l=jf.setFromRotationZ(t),c=l.transformNormal(s);return{position:c.clone().multiply(a),direction:c}},i}(),xc=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.getHorizontalAngle=function(){return ht(0,90)},o}(bc),Hf=function(){function i(r){var e=r.detail||{anchors:[.5,.5],block:[0,0]};this.anchors=new Float32Array(e.anchors),this.width=r.width||1,this.height=r.height||1,this.block=e.block,this.arcMode=r.arcMode,this.random=Li(r.random||0,0,1)}var o=i.prototype;return o.generate=function(e){var t=this.anchors,n=t.length/2-1,a=Math.floor(ms(n,this.arcMode,e)),s=(t[a*2]+this.block[0]*this.random*Math.random())%1-.5,l=(t[a*2+1]+this.block[1]*this.random*Math.random())%1-.5,c=new be(s,l,0);return{position:new be(s*this.width,l*this.height,0),direction:c.normalize()}},i}(),Cc=function(){function i(){}var o=i.prototype;return o.generate=function(){return{position:new be,direction:new be}},i}(),vo,Gf=(vo={},vo[nn.NONE]=Cc,vo[nn.CONE]=gc,vo[nn.SPHERE]=bc,vo[nn.HEMISPHERE]=xc,vo[nn.CIRCLE]=Bf,vo[nn.DONUT]=yc,vo[nn.RECTANGLE]=zf,vo[nn.EDGE]=Uf,vo[nn.RECTANGLE_EDGE]=kf,vo[nn.TEXTURE]=Hf,vo);function Ec(i){if(!i)return new Cc;var o=I({radius:1,arc:360,angle:0,arcMode:it.RANDOM},i),r=i.type,e=Gf[r];if(!e)throw new Error("Invalid shape: "+r+".");var t=new e(o);if(r!==nn.NONE){var n=i.alignSpeedDirection,a=i.upDirection,s=a===void 0?[0,0,1]:a;t.alignSpeedDirection=n,t.upDirection=be.fromArray(s).normalize()}return t}function Cu(i,o,r,e,t){var n,a;if(t===Jf(i,o,r,e)>0)for(n=o;n<r;n+=e)a=Pc(n,i[n],i[n+1],a);else for(n=r-e;n>=o;n-=e)a=Pc(n,i[n],i[n+1],a);return a&&Nl(a,a.next)&&(ml(a),a=a.next),a}function rs(i,o){if(!i)return i;o||(o=i);var r=i,e;do if(e=!1,!r.steiner&&(Nl(r,r.next)||na(r.prev,r,r.next)===0)){if(ml(r),r=o=r.prev,r===r.next)break;e=!0}else r=r.next;while(e||r!==o);return o}function Wf(i){var o=i.prev,r=i,e=i.next;if(na(o,r,e)>=0)return!1;for(var t=i.next.next;t!==i.prev;){if(Vs(o.x,o.y,r.x,r.y,e.x,e.y,t.x,t.y)&&na(t.prev,t,t.next)>=0)return!1;t=t.next}return!0}function Zf(i,o,r,e){var t=i.prev,n=i,a=i.next;if(na(t,n,a)>=0)return!1;for(var s=t.x<n.x?t.x<a.x?t.x:a.x:n.x<a.x?n.x:a.x,l=t.y<n.y?t.y<a.y?t.y:a.y:n.y<a.y?n.y:a.y,c=t.x>n.x?t.x>a.x?t.x:a.x:n.x>a.x?n.x:a.x,h=t.y>n.y?t.y>a.y?t.y:a.y:n.y>a.y?n.y:a.y,m=hl(s,l,o,r,e),v=hl(c,h,o,r,e),p=i.prevZ,b=i.nextZ;p&&p.z>=m&&b&&b.z<=v;){if(p!==i.prev&&p!==i.next&&Vs(t.x,t.y,n.x,n.y,a.x,a.y,p.x,p.y)&&na(p.prev,p,p.next)>=0||(p=p.prevZ,b!==i.prev&&b!==i.next&&Vs(t.x,t.y,n.x,n.y,a.x,a.y,b.x,b.y)&&na(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;p&&p.z>=m;){if(p!==i.prev&&p!==i.next&&Vs(t.x,t.y,n.x,n.y,a.x,a.y,p.x,p.y)&&na(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;b&&b.z<=v;){if(b!==i.prev&&b!==i.next&&Vs(t.x,t.y,n.x,n.y,a.x,a.y,b.x,b.y)&&na(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Tc(i,o,r,e){var t=[],n,a,s,l,c;for(n=0,a=o.length;n<a;n++)s=o[n]*e,l=n<a-1?o[n+1]*e:i.length,c=Cu(i,s,l,e,!1),c===c.next&&(c.steiner=!0),t.push(Mc(c));for(t.sort(Sc),n=0;n<t.length;n++)wc(t[n],r),r=rs(r,r.next);return r}function Sc(i,o){return i.x-o.x}function wc(i,o){if(o=Xf(i,o),o){var r=Ic(o,i);rs(o,o.next),rs(r,r.next)}}function Xf(i,o){var r=o,e=i.x,t=i.y,n=-1/0,a;do{if(t<=r.y&&t>=r.next.y&&r.next.y!==r.y){var s=r.x+(t-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=e&&s>n){if(n=s,s===e){if(t===r.y)return r;if(t===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==o);if(!a)return null;if(e===n)return a;var l=a,c=a.x,h=a.y,m=1/0,v;r=a;do e>=r.x&&r.x>=c&&e!==r.x&&Vs(t<h?e:n,t,c,h,t<h?n:e,t,r.x,r.y)&&(v=Math.abs(t-r.y)/(e-r.x),dl(r,i)&&(v<m||v===m&&(r.x>a.x||r.x===a.x&&Oc(a,r)))&&(a=r,m=v)),r=r.next;while(r!==l);return a}function Oc(i,o){return na(i.prev,i,o.prev)<0&&na(o.next,i,i.next)<0}function Yf(i,o,r,e){var t=i;do t.z===null&&(t.z=hl(t.x,t.y,o,r,e)),t.prevZ=t.prev,t.nextZ=t.next,t=t.next;while(t!==i);t.prevZ.nextZ=null,t.prevZ=null,Kf(t)}function Kf(i){var o,r,e,t,n,a,s,l,c=1;do{for(r=i,i=null,n=null,a=0;r;){for(a++,e=r,s=0,o=0;o<c&&(s++,e=e.nextZ,!!e);o++);for(l=c;s>0||l>0&&e;)s!==0&&(l===0||!e||r.z<=e.z)?(t=r,r=r.nextZ,s--):(t=e,e=e.nextZ,l--),n?n.nextZ=t:i=t,t.prevZ=n,n=t;r=e}n.nextZ=null,c*=2}while(a>1);return i}function hl(i,o,r,e,t){return i=32767*(i-r)*t,o=32767*(o-e)*t,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,i|o<<1}function Mc(i){var o=i,r=i;do(o.x<r.x||o.x===r.x&&o.y<r.y)&&(r=o),o=o.next;while(o!==i);return r}function Vs(i,o,r,e,t,n,a,s){return(t-a)*(o-s)-(i-a)*(n-s)>=0&&(i-a)*(e-s)-(r-a)*(o-s)>=0&&(r-a)*(n-s)-(t-a)*(e-s)>=0}function Ac(i,o){return i.next.i!==o.i&&i.prev.i!==o.i&&!Tu(i,o)&&(dl(i,o)&&dl(o,i)&&Qf(i,o)&&(na(i.prev,i,o.prev)||na(i,o.prev,o))||Nl(i,o)&&na(i.prev,i,i.next)>0&&na(o.prev,o,o.next)>0)}function na(i,o,r){return(o.y-i.y)*(r.x-o.x)-(o.x-i.x)*(r.y-o.y)}function Nl(i,o){return i.x===o.x&&i.y===o.y}function Eu(i,o,r,e){var t=Bs(na(i,o,r)),n=Bs(na(i,o,e)),a=Bs(na(r,e,i)),s=Bs(na(r,e,o));return!!(t!==n&&a!==s||t===0&&Vl(i,r,o)||n===0&&Vl(i,e,o)||a===0&&Vl(r,i,e)||s===0&&Vl(r,o,e))}function Vl(i,o,r){return o.x<=Math.max(i.x,r.x)&&o.x>=Math.min(i.x,r.x)&&o.y<=Math.max(i.y,r.y)&&o.y>=Math.min(i.y,r.y)}function Bs(i){return i>0?1:i<0?-1:0}function Tu(i,o){var r=i;do{if(r.i!==i.i&&r.next.i!==i.i&&r.i!==o.i&&r.next.i!==o.i&&Eu(r,r.next,i,o))return!0;r=r.next}while(r!==i);return!1}function dl(i,o){return na(i.prev,i,i.next)<0?na(i,o,i.next)>=0&&na(i,i.prev,o)>=0:na(i,o,i.prev)<0||na(i,i.next,o)<0}function Qf(i,o){var r=i,e=!1,t=(i.x+o.x)/2,n=(i.y+o.y)/2;do r.y>n!=r.next.y>n&&r.next.y!==r.y&&t<(r.next.x-r.x)*(n-r.y)/(r.next.y-r.y)+r.x&&(e=!e),r=r.next;while(r!==i);return e}function Ic(i,o){var r=new Su(i.i,i.x,i.y),e=new Su(o.i,o.x,o.y),t=i.next,n=o.prev;return i.next=o,o.prev=i,r.next=t,t.prev=r,e.next=r,r.prev=e,n.next=e,e.prev=n,e}function Pc(i,o,r,e){var t=new Su(i,o,r);return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function ml(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Su(i,o,r){this.i=i,this.x=o,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Jf(i,o,r,e){for(var t=0,n=o,a=r-e;n<r;n+=e)t+=(i[a]-i[n])*(i[n+1]+i[a+1]),a=n;return t}var vs=0;function qf(i,o,r,e){r=r||2,vs=e||0;var t=o&&o.length,n=t?o[0]*r:i.length,a=Cu(i,0,n,r,!0),s=[];if(!a||a.next===a.prev)return s;var l,c,h,m,v,p,b;if(t&&(a=Tc(i,o,a,r)),i.length>80*r){l=h=i[0],c=m=i[1];for(var x=r;x<n;x+=r)v=i[x],p=i[x+1],v<l&&(l=v),p<c&&(c=p),v>h&&(h=v),p>m&&(m=p);b=Math.max(h-l,m-c),b=b!==0?1/b:0}return zs(a,s,r,l,c,b),s}function zs(i,o,r,e,t,n,a){if(i){!a&&n&&Yf(i,e,t,n);for(var s=i,l,c;i.prev!==i.next;){if(l=i.prev,c=i.next,n?Zf(i,e,t,n):Wf(i)){o.push(l.i/r+vs),o.push(i.i/r+vs),o.push(c.i/r+vs),ml(i),i=c.next,s=c.next;continue}if(i=c,i===s){a?a===1?(i=Rc(rs(i),o,r),zs(i,o,r,e,t,n,2)):a===2&&Bl(i,o,r,e,t,n):zs(rs(i),o,r,e,t,n,1);break}}}}function Rc(i,o,r){var e=i;do{var t=e.prev,n=e.next.next;!Nl(t,n)&&Eu(t,e,e.next,n)&&dl(t,n)&&dl(n,t)&&(o.push(t.i/r+vs),o.push(e.i/r+vs),o.push(n.i/r+vs),ml(e),ml(e.next),e=i=n),e=e.next}while(e!==i);return rs(e)}function Bl(i,o,r,e,t,n){var a=i;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ac(a,s)){var l=Ic(a,s);a=rs(a,a.next),l=rs(l,l.next),zs(a,o,r,e,t,n),zs(l,o,r,e,t,n);return}s=s.next}a=a.next}while(a!==i)}var zl=2;function _c(i,o){for(var r=i.s,e=i.p,t=r[1],n=e[1],a=0,s=0;s<t.length;s++){var l=t[s];a+=l.length-1}var c=new Float32Array(a*ec),h=o.indexBase,m=h===void 0?0:h,v=o.uvTransform,p=0,b=0,x=0,P=1,V=1,D;v&&(b=v[0],x=v[1],D=v[4],P=D?v[3]:v[2],V=D?v[2]:v[3]);for(var _=[0,0],K=D===0?0:-Math.PI/2,U=0;U<t.length;U++)for(var W=t[U],q=n[U],ie=n[U+1]||n[0],oe=W,Xe=[0,0],Je=0;Je<oe.length-1;Je++){var ot=oe[Je];wu(Xe,ot,q,ie,q[4],q[5],ie[2],ie[3]),Et(Xe[0],Xe[1])}var lt=qf(Array.from(c),null,ec,m);return{aPoint:c,index:new Uint16Array(lt)};function Et(Ht,Gt){c[p++]=Ht/2,c[p++]=Gt/2,v?(_[0]=Ht,_[1]=Gt,Lc(_,_,K),c[p++]=b+(_[0]+1)/2*P,c[p++]=x+(_[1]+1)/2*V):(c[p++]=(Ht+1)/2,c[p++]=(Gt+1)/2),p+=zl}}function eh(i){var o=[];return"gs"in i?i.gs.forEach(function(r){o.push({p:[dt.SHAPE_POINTS,r.p],s:[dt.SHAPE_SPLITS,r.s]})}):"g"in i?o.push({p:[dt.SHAPE_POINTS,i.g.p],s:[dt.SHAPE_SPLITS,i.g.s]}):o.push(i),o}function th(i,o){for(var r=[],e=eh(i),t=0,n=0,a=0,s=0;s<e.length;s++){var l=e[s],c=_c(l,{indexBase:t,uvTransform:o});t+=c.aPoint.length/5,r.push(c),n+=c.aPoint.length,a+=c.index.length}if(r.length===1)return r[0];for(var h=new Float32Array(n),m=new Uint16Array(a),v=0,p=0,b=0;v<r[v];v++){var x=r[v];h.set(x.aPoint,p),p+=x.aPoint.length,m.set(x.index,b),b+=x.index.length}return{aPoint:h,index:m}}function Lc(i,o,r){var e=Math.cos(r),t=Math.sin(r),n=o[0],a=o[1];return i[0]=e*n+t*a,i[1]=-t*n+e*a,i}function wu(i,o,r,e,t,n,a,s){var l=1-o,c=l*l*l,h=3*o*l*l,m=3*o*o*l,v=o*o*o;return i[0]=c*r[0]+h*t+m*a+v*e[0],i[1]=c*r[1]+h*n+m*s+v*e[1],i}var Fc=function(){function i(r){var e=r.time,t=r.interval,n=r.count,a=r.cycles,s=r.probability;this.time=+e||0,this.interval=+t||1,this.count=k(n,ta)?n:hn(n),this.cycles=+a||1/0,this.probability=isNaN(s)?1:+s,this.reset()}var o=i.prototype;return o.getGeneratorOptions=function(e,t){var n=e-this.time-this.now;if(n>this.interval*this.index&&this.internalCycles>0)return this.internalCycles--,this.index++,Math.random()<=this.probability?{index:this.index,total:1/this.interval,count:this.count.getValue(t),cycleIndex:this.cycles-this.internalCycles-1}:null},o.reset=function(){this.internalCycles=this.cycles,this.index=0,this.now=0},o.clone=function(){var e={time:this.time,interval:this.interval,count:this.count,cycles:this.cycles,probability:this.probability};return new i(e)},i}(),ps=function(o){this.content=o},nh=function(){function i(r){this.sort=r,this.length=0}var o=i.prototype;return o.findNodeByContent=function(e){var t=this.first;if(t)do if(e(t.content))return t;while(t=t.next)},o.insertNode=function(e,t){var n=e.next;e.next=t,t.pre=e,t.next=n,n&&(n.pre=t)},o.shiftNode=function(e){var t=new ps(e);if(this.length++,this.length===1)return this.first=this.last=t;for(var n=this.first;n;)if(this.sort(n.content,t.content)<=0)if(n.next)n=n.next;else return this.insertNode(n,t),this.last=t;else return n.pre?this.insertNode(n.pre,t):(this.first=t,t.next=n,n.pre=t),t},o.pushNode=function(e){var t=new ps(e);if(this.length++,this.length===1)return this.last=this.first=t;for(var n=this.last;n;)if(this.sort(t.content,n.content)<=0){if(this.first===n)return n.pre=t,t.next=n,this.first=t;n=n.pre}else return this.insertNode(n,t),n===this.last&&(this.last=t),t},o.removeNode=function(e){var t=this.first;if(this.length--,t===e){var n=this.first=t.next;n&&(n.pre=null)}else if((t=this.last)===e){var a=this.last=t.pre;a&&(a.next=null)}else if(e){var s=e.pre,l=e.next;s.next=l,l&&(l.pre=s)}e.pre=null,e.next=null},o.forEach=function(e,t){var n=this.first,a=0;if(n)do e.call(t||this,n.content,a++);while(n=n.next)},o.forEachReverse=function(e,t){var n=this.last,a=this.length-1;if(n)do e.call(t||this,n.content,a--);while(n=n.pre)},o.getNodeByIndex=function(e){var t=0,n=this.first;if(!n||e>=this.length||e<0)return null;for(;t<e;)n=n.next,t++;return n},i}(),rh=new be,ih=new be,ah=function(){function i(r,e){this.pointStart=[];var t=e.colorOverLifetime,n=e.colorOverTrail,a=e.maxTrailCount,s=e.opacityOverLifetime,l=s===void 0?hn(1):s,c=e.widthOverTrail,h=e.name,m=e.occlusion,v=e.blending,p=e.maskMode,b=e.textureMap,x=b===void 0?[0,0,1,1]:b,P=e.texture,V=e.transparentOcclusion,D=e.minimumVertexDistance,_=e.lifetime,K=e.matrix,U=r.gpuCapability,W=U.detail,q=U.level,ie=Math.max(e.pointCountPerTrail,2),oe=Ls(),Xe=W.maxVertexTextures>0,Je,ot=((Je=r.renderer)!=null?Je:{}).env,lt={},Et=0,Ht=[["ENABLE_VERTEX_TEXTURE",Xe],["LOOKUP_TEXTURE_CURVE",Et],["ENV_EDITOR",ot===To]],Gt=a>64,Qt=0;t&&(Ht.push(["COLOR_OVER_LIFETIME",!0]),Qt|=1,lt.uColorOverLifetime=Zn.createWithData(r,Le(t))),n&&(Ht.push(["COLOR_OVER_TRAIL",!0]),Qt|=4,lt.uColorOverTrail=Zn.createWithData(r,Le(n))),Gt?(Ht.push(["ATTR_TRAIL_START",1]),Qt|=8):lt.uTrailStart=new Float32Array(a),lt.uOpacityOverLifetimeValue=l.toUniform(oe);var en=c.toUniform(oe);if(Ht.push(["VERT_CURVE_VALUE_COUNT",oe.index],["VERT_MAX_KEY_FRAME_COUNT",oe.max]),Xe&&Et){var Pt=vi(r,ta.getAllData(oe,!0),oe.index,1);lt.uVCurveValueTexture=Pt}else lt.uVCurveValues=ta.getAllData(oe);var Fn=us,dn=Ho,In={shader:{vertex:Fn,fragment:dn,macros:Ht,glslVersion:q===1?ri.GLSL1:ri.GLSL3,shared:!0,name:"trail#"+h,cacheId:"-t:+"+Qt+"+"+oe.index+"+"+oe.max},uniformSemantics:{effects_MatrixVP:"VIEWPROJECTION",effects_MatrixInvV:"VIEWINVERSE",effects_ObjectToWorld:"MODEL",uEditorTransform:"EDITOR_TRANSFORM"}},Yn=ie*a*2,Kn=(ie-1)*a,ni=Float32Array.BYTES_PER_ELEMENT,qn=12*ni,sa={attributes:{aColor:{size:4,stride:qn,data:new Float32Array(Yn*12)},aSeed:{size:1,stride:qn,offset:4*ni,dataSource:"aColor"},aInfo:{size:3,stride:qn,offset:5*ni,dataSource:"aColor"},aPos:{size:4,stride:qn,offset:8*ni,dataSource:"aColor"},aTime:{size:1,data:new Float32Array(Yn)},aDir:{size:3,data:new Float32Array(Yn*3)}},indices:{data:new Uint16Array(Yn*6)},drawCount:Kn*6,name:"trail#"+h,bufferUsage:F.DYNAMIC_DRAW};if(Gt)sa.attributes.aTrailStart={size:1,data:new Float32Array(Yn)};else{var La=new Float32Array(Yn);sa.attributes.aTrailStartIndex={size:1,data:La};for(var ha=0;ha<a;ha++)for(var Ka=ie*2,pr=ha*Ka,ja=0;ja<Ka;ja++)La[pr+ja]=ha}var Ha=oo(v),di=Bi.create(r,In);di.blending=!0,di.depthMask=m,di.depthTest=!0,E(di,p),Ts(di,v);var os=this.mesh=gi.create(r,{name:"MTrail_"+h,material:di,geometry:Sr.create(r,sa)}),Xo=P!=null?P:Zn.createWithData(r);Object.keys(lt).map(function(Ri){var Yi=lt[Ri];if(k(Yi,Zn))di.setTexture(Ri,Yi);else if(Ri==="uTrailStart")di.setFloats("uTrailStart",Yi);else if(Ri==="uVCurveValues"){for(var Zs=[],zo=0;zo<Yi.length;zo=zo+4){var Ma=new Bn(Yi[zo],Yi[zo+1],Yi[zo+2],Yi[zo+3]);Zs.push(Ma)}di.setVector4Array(Ri,Zs)}else di.setVector4(Ri,Bn.fromArray(Yi))}),di.setFloat("uTime",0),di.setVector4("uWidthOverTrail",Bn.fromArray(en)),di.setVector2("uTexOffset",new gr(0,0)),di.setVector4("uTextureMap",Bn.fromArray(x)),di.setVector4("uParams",new Bn(0,ie-1,0,0)),di.setTexture("uMaskTex",Xo),di.setVector4("uColorParams",new Bn(P?1:0,+Ha,0,+(m&&!V))),this.maxTrailCount=a,this.pointCountPerTrail=ie,this.checkVertexDistance=D>0,this.minimumVertexDistance=Math.pow(D||.001,2),this.useAttributeTrailStart=Gt,this.lifetime=_,K&&(this.mesh.worldMatrix=K),this.geometry=os.firstGeometry(),this.trailCursors=new Uint16Array(a)}var o=i.prototype;return o.addPoint=function(e,t,n){n=n||{};var a=this.trailCursors[e],s=this.pointCountPerTrail,l=this.geometry,c=s-1,h=a%s,m=(a-1)%s,v=(a-2)%s,p=this.getTrailPosition(e,m,rh);if(!(p&&this.checkVertexDistance&&(p==null?void 0:p.distanceSquared(t))<this.minimumVertexDistance)){var b=e*s+h,x=Dc(p,t),P=n.time||this.time,V=[Math.random(),n.lifetime||this.lifetime,a],D=n.size||1,_=b*6,K=new Float32Array(6);K.set(x,0),K.set(x,3),l.setAttributeSubData("aDir",_,K),l.setAttributeSubData("aTime",b*2,new Float32Array([P,P]));var U=n.color||[1,1,1,1],W=new Float32Array(24),q=t.toArray();if(W.set(U,0),W.set(V,4),W[7]=0,W.set(q,8),W[11]=.5*D,W.set(U,12),W.set(V,16),W[19]=1,W.set(q,20),W[23]=-.5*D,l.setAttributeSubData("aColor",b*24,W),m>=0){var ie=this.getTrailPosition(e,v,ih),oe=new Float32Array(Dc(ie,p,t)),Xe=(e*s+m)*6;l.setAttributeSubData("aDir",Xe,oe),l.setAttributeSubData("aDir",Xe+3,oe);var Je=e*s*2,ot=new Uint16Array([m*2+Je,m*2+1+Je,h*2+Je,h*2+Je,m*2+1+Je,h*2+1+Je]),lt=(e*c+(a-1)%c)*6;l.setIndexSubData(lt,ot)}a=++this.trailCursors[e];var Et=this.mesh.material,Ht=Et.getVector4("uParams"),Gt=V[2];if(this.useAttributeTrailStart){for(var Qt=s*2,en=new Float32Array(Qt),Pt=0;Pt<Qt;Pt++)en[Pt]=Gt;l.setAttributeSubData("aTrailStart",e*en.length,en)}else{var Fn=Et.getFloats("uTrailStart");Fn!=null&&(Fn[e]=Gt,Et.setFloats("uTrailStart",Fn))}Ht&&(Ht.y=Math.max(Ht.y,a-1)-Math.max(0,a-s),Et.setVector4("uParams",Ht))}},o.getTrailPosition=function(e,t,n){var a=this.pointCountPerTrail;if(t>=0&&t<a){var s=(e*a+t)*24+8,l=this.geometry.getAttributeData("aColor");return xt(l),n.x=l[s],n.y=l[1+s],n.z=l[2+s],n}},o.clearAllTrails=function(){var e=this.geometry.getIndexData();xt(e),this.trailCursors=new Uint16Array(this.trailCursors.length),this.geometry.setIndexData(new Uint16Array(e.length))},o.minusTime=function(e){var t=this.geometry.getAttributeData("aTime");xt(t);for(var n=0;n<t.length;n++)t[n]-=e;this.geometry.setAttributeData("aTime",t),this.time-=e},o.clearTrail=function(e){if(this.trailCursors[e]!==0){var t=this.pointCountPerTrail,n=(t-1)*6,a=this.geometry.getIndexData();xt(a),a.set(new Uint16Array(n),e*n),this.geometry.setIndexData(a),this.trailCursors[e]=0}},o.getPointStartPos=function(e){return this.pointStart[e]},o.setPointStartPos=function(e,t){this.pointStart[e]=t},o.onUpdate=function(e){},yn(i,[{key:"time",get:function(){return this.mesh.material.getFloat("uTime")||0},set:function(e){this.mesh.material.setFloat("uTime",e!=null?e:0)}}]),i}(),oh=new be,kl=new be,Ou=new be;function Dc(i,o,r){var e=oh;return!i&&!r?[0,0,0]:(i?r?(kl.subtractVectors(o,i).normalize(),kl.subtractVectors(r,o),Ou.copyFrom(kl).normalize(),e.addVectors(kl,Ou)):e.subtractVectors(o,i):e.subtractVectors(r,o),e.normalize().toArray())}function sh(i,o,r,e,t){t===void 0&&(t="");var n=0,a=xu(ns)?1:0,s=e.detail.maxVertexTextures>0,l=[["ENABLE_VERTEX_TEXTURE",s],["LOOKUP_TEXTURE_CURVE",a],["ENV_EDITOR",t===To]],c=Ls();i.colorOverLifetime&&(l.push(["COLOR_OVER_LIFETIME",!0]),n|=1),i.colorOverTrail&&(l.push(["COLOR_OVER_TRAIL",!0]),n|=4);var h=o>64;return h&&(l.push(["ATTR_TRAIL_START",1]),n|=8),Ya(c,i.opacityOverLifetime),Ya(c,i.widthOverTrail),l.push(["VERT_CURVE_VALUE_COUNT",c.index],["VERT_MAX_KEY_FRAME_COUNT",c.max]),{vertex:us,fragment:Ho,macros:l,shared:!0,name:"trail#"+r,cacheId:"-t:+"+n+"+"+c.index+"+"+c.max}}var lh=function(i){Ee(o,i);function o(e,t,n){var a;a=i.call(this,e)||this,a.name="ParticleSystemRenderer",t&&(a.particleMesh=new ph(e,t)),n&&(a.trailMesh=new ah(e,n));var s=[a.particleMesh.mesh];return a.materials.push(a.particleMesh.mesh.material),a.trailMesh&&(s.push(a.trailMesh.mesh),a.materials.push(a.trailMesh.mesh.material)),a.meshes=s,a}var r=o.prototype;return r.onStart=function(){this._priority=this.item.renderOrder,this.particleMesh.gravityModifier.scaleXCoord(this.item.duration);for(var t=ke(this.meshes),n;!(n=t()).done;){var a=n.value;a.onStart()}},r.onUpdate=function(t){var n=this.particleMesh.time,a,s=(a=this.particleMesh.mesh.material.getVector4("uParams"))!=null?a:new Bn;this.particleMesh.mesh.material.setVector4("uParams",s.set(n,this.item.duration,0,0))},r.render=function(t){for(var n=ke(this.meshes),a;!(a=n()).done;){var s=a.value;s.render(t)}},r.reset=function(){var t;this.particleMesh.clearPoints(),(t=this.trailMesh)==null||t.clearAllTrails()},r.updateTime=function(t,n){this.particleMesh.time=t,this.particleMesh.onUpdate(n),this.trailMesh&&(this.trailMesh.time=t,this.trailMesh.onUpdate(n))},r.minusTimeForLoop=function(t){var n;this.particleMesh.minusTime(t),(n=this.trailMesh)==null||n.minusTime(t)},r.updateWorldMatrix=function(t){this.particleMesh.mesh.worldMatrix=t,this.trailMesh&&(this.trailMesh.mesh.worldMatrix=t)},r.setVisible=function(t){var n;this.particleMesh.mesh.setVisible(t),(n=this.trailMesh)==null||n.mesh.setVisible(t)},r.getTextures=function(){var t=[],n=this.particleMesh.mesh.material.textures;if(Object.keys(n).forEach(function(s){t.push(n[s])}),this.trailMesh){var a=this.trailMesh.mesh.material.textures;Object.keys(a).forEach(function(s){t.push(a[s])})}return t},r.setParticlePoint=function(t,n){this.particleMesh.setPoint(t,n)},r.removeParticlePoint=function(t){this.particleMesh.removePoint(t)},r.getParticlePointColor=function(t){return this.particleMesh.getPointColor(t)},r.hasTrail=function(){return this.trailMesh!==void 0},r.clearTrail=function(t){var n;(n=this.trailMesh)==null||n.clearTrail(t)},r.addTrailPoint=function(t,n,a){var s;(s=this.trailMesh)==null||s.addPoint(t,n,a)},r.setTrailStartPosition=function(t,n){var a;(a=this.trailMesh)==null||a.setPointStartPos(t,n)},r.getTrailStartPosition=function(t){return this.trailMesh.getPointStartPos(t)},o}(Ji),ks=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,n.destroyed=!1,n.getHitTestParams=function(a){var s=n.interaction;if(a||s)return{type:ho.custom,collect:function(l){return n.raycast({radius:(s==null?void 0:s.radius)||.4,multiple:!!(s!=null&&s.multiple),removeParticle:(s==null?void 0:s.behavior)===Ot.removeParticle,ray:l})}}},t&&n.fromData(t),n}var r=o.prototype;return r.isFrozen=function(){return this.frozen},r.isEnded=function(){return this.ended},r.initEmitterTransform=function(){var t=this.item.transform.position.clone(),n=this.item.transform.rotation.clone(),a=this.props.emitterTransform&&this.props.emitterTransform.path,s;a&&(a[0]===dt.CONSTANT_VEC3?t.add(a[1]):s=hn(a)),this.basicTransform={position:t,rotation:n,path:s};var l=this.transform.parentTransform,c=t.clone();if(s&&c.add(s.getValue(0)),this.transform.setPosition(c.x,c.y,c.z),this.options.particleFollowParent&&l){var h=l.getWorldMatrix();this.renderer.updateWorldMatrix(h)}},r.updateEmitterTransform=function(t){var n=this.transform.parentTransform,a=this.basicTransform,s=a.path,l=a.position,c=l.clone();if(s){var h=this.item.duration;c.add(s.getValue(t/h))}if(this.transform.setPosition(c.x,c.y,c.z),this.options.particleFollowParent&&n){var m=n.getWorldMatrix();this.renderer.updateWorldMatrix(m)}},r.addParticle=function(t,n){var a=this.particleLink,s=[t.delay+t.lifetime,0,t.delay,t],l;if(a.length<n)l=s[1]=a.length;else{var c=a.first;a.removeNode(c),l=s[1]=c.content[1]}a.pushNode(s),this.renderer.setParticlePoint(l,t),this.clearPointTrail(l),this.transform.parentTransform&&this.renderer.setTrailStartPosition(l,this.transform.parentTransform.position.clone())},r.setVisible=function(t){this.renderer.setVisible(t)},r.setOpacity=function(t){var n,a=this.renderer.particleMesh.mesh.material,s=this.renderer.particleMesh.mesh.geometry,l=((n=a.getVector4("uOpacityOverLifetimeValue"))==null?void 0:n.toArray())||[1,1,1,1];a.setVector4("uOpacityOverLifetimeValue",new Bn(l[0],l[1],l[2],t));for(var c=s.getAttributeData("aColor")||[],h=0;h<c.length;h+=32)c[h*8+7]=t},r.setColor=function(t,n,a,s){var l,c=this.renderer.particleMesh.mesh.material,h=this.renderer.particleMesh.mesh.geometry,m=((l=c.getVector4("uOpacityOverLifetimeValue"))==null?void 0:l.toArray())||[1,1,1,1];c.setVector4("uOpacityOverLifetimeValue",new Bn(m[0],m[1],m[2],s));for(var v=h.getAttributeData("aColor")||[],p=0;p<v.length;p+=32)v[p*8+4]=t,v[p*8+5]=n,v[p*8+6]=a,v[p*8+7]=s},r.setParentTransform=function(t){},r.getTextures=function(){return this.renderer.getTextures()},r.startEmit=function(){(!this.started||this.ended)&&(this.reset(),this.started=!0,this.ended=!1)},r.stop=function(){this.ended=!0,this.started=!1},r.reset=function(){this.renderer.reset(),this.lastUpdate=0,this.loopStartTime=0,this.lastEmitTime=-1/this.emission.rateOverTime.getValue(0),this.generatedCount=0,this.particleLink=new nh(function(t,n){return t[0]-n[0]}),this.emission.bursts.forEach(function(t){return t.reset()}),this.frozen=!1,this.ended=!1,this.destroyed=!1},r.update=function(t){var n=this;if(this.started&&!this.frozen){var a=this.lastUpdate+t/1e3,s=this.options,l=this.loopStartTime,c=this.emission;this.lastUpdate=a,this.upDirectionWorld=null,this.renderer.updateTime(a,t);var h=this.particleLink,m=(a-l)/this.item.duration,v=this.timePassed,p=!1,b=function(){n.trails&&!p&&(p=!0,h.forEach(function(Yn){var Kn=Yn[0],ni=Yn[1],qn=Yn[2],sa=Yn[3];Kn<v?n.clearPointTrail(ni):v>qn&&n.updatePointTrail(ni,m,sa,qn)}))};if(this.ended){if(this.item.endBehavior!==Se.restart&&Se.destroy===this.item.endBehavior){var In=h.last;In&&In.content[0]<this.lastUpdate&&(this.destroyed=!0)}}else{var x=this.item.duration,P=this.lifetime;if(v<x){var V=1/c.rateOverTime.getValue(P),D=Math.floor((v-this.lastEmitTime)/V),_=D,K=V/D,U=a,W=s.maxCount;this.updateEmitterTransform(v);for(var q=function(){var Yn=h.first;return n.emissionStopped||h.length===W&&Yn&&Yn.content[0]-l>v},ie=0;ie<_&&ie<W&&!q();ie++){var oe=this.createPoint(P);oe.delay+=U+ie*K,this.addParticle(oe,W),this.lastEmitTime=v}for(var Xe=c.bursts,Je=(Xe==null?void 0:Xe.length)-1,ot=0;Je>=0&&ot<W&&!q();Je--){var lt=Xe[Je],Et=!lt.disabled&&lt.getGeneratorOptions(v,P);if(Et){var Ht=[0,0,0],Gt=c.burstOffsets[Je],Qt=Gt&&Gt[Et.cycleIndex]||Ht;lt.once&&this.removeBurst(Je);for(var en=0;en<Et.count&&ot<W;en++){var Pt;if(q())break;var Fn=this.initPoint(this.shape.generate({total:Et.total,index:Et.index,burstIndex:en,burstCount:Et.count}));Fn.delay+=U,ot++,(Pt=Fn.transform).translate.apply(Pt,[].concat(Qt)),this.addParticle(Fn,W)}}}}else if(this.item.endBehavior===Se.restart)b(),this.loopStartTime=a-x,this.lastEmitTime-=x,this.lastUpdate-=x,c.bursts.forEach(function(Yn){return Yn.reset()}),this.particleLink.forEach(function(Yn){Yn[0]-=x,Yn[2]-=x,Yn[3].delay-=x}),this.renderer.minusTimeForLoop(x);else{this.ended=!0;var dn=this.item.endBehavior;dn===Se.freeze&&(this.frozen=!0)}}b()}},r.onDestroy=function(){this.item&&this.item.composition&&(this.item.composition.destroyTextures(this.getTextures()),this.meshes.forEach(function(t){return t.dispose({material:{textures:Dt.keep}})}))},r.getParticleBoxes=function(){var t=this.particleLink,n=this.renderer,a=[],s=this.particleCount,l=0;if(!(t&&n))return a;for(var c=t.last,h=!1;!h;){var m=c.content[0],v=c.content[3];if(m>this.timePassed){var p=this.getPointPosition(v);a.push({center:p,size:v.transform.scale}),c.pre?c=c.pre:h=!0}l++,l>s&&(h=!0)}return a},r.raycast=function(t){var n=this.particleLink,a=this.renderer;if(n&&a){var s=n.last,l=[],c=new be,h=!1;if(s&&s.content)do{var m=s.content,v=m[0],p=m[1];m[2];var b=m[3];if(v>this.timePassed){var x=this.getPointPosition(b),P=t.ray,V=!1;P&&(V=!!P.intersectSphere({center:x,radius:t.radius},c)),V&&(t.removeParticle&&(a.removeParticlePoint(p),this.clearPointTrail(p),s.content=[0]),l.push(x),t.multiple||(h=!0))}else break}while((s=s.pre)&&!h);return l}},r.clearPointTrail=function(t){this.trails&&this.trails.dieWithParticles&&this.renderer.clearTrail(t)},r.updatePointTrail=function(t,n,a,s){var l=this.renderer;if(l.hasTrail()){var c=this.trails,h=this.getPointPosition(a),m=c.inheritParticleColor?l.getParticlePointColor(t):[1,1,1,1],v=a.transform.getWorldScale().toArray(),p=1,b=c.lifetime.getValue(n);if(c.sizeAffectsWidth&&(p*=v[0]),c.sizeAffectsLifetime&&(b*=v[0]),c.parentAffectsPosition&&this.transform.parentTransform){h.add(this.transform.parentTransform.position);var x=l.getTrailStartPosition(t);x&&h.subtract(x)}l.addTrailPoint(t,h,{color:m,lifetime:b,size:p,time:s})}},r.getPointPositionByIndex=function(t){var n=this.particleLink.getNodeByIndex(t);return n?this.getPointPosition(n.content[3]):(console.error("Get point error."),null)},r.getPointPosition=function(t){var n=t.transform,a=t.vel,s=t.lifetime,l=t.delay,c=t.gravity,h=c===void 0?[]:c,m=this.options.forceTarget,v=this.lastUpdate-l,p=new be,b=be.fromArray(h);n.assignWorldTRS(p);var x=Ps(new be,this.options,b,v,s,p,a);if(m){var P=m.target||[0,0,0],V=m.curve.getValue(v/s),D=1-V;x.x=x.x*D+P[0]*V,x.y=x.y*D+P[1]*V,x.z=x.z*D+P[2]*V}return x},r.initPoint=function(t){var n=this.options,a=this.lifetime,s=this.shape,l=n.startSpeed.getValue(a),c=n.particleFollowParent?this.transform.getMatrix():this.transform.getWorldMatrix(),h=t.position,m=c.transformPoint(h,new be),v=new Ns({position:m,valid:!0}),p=t.direction;if(p=c.transformNormal(p,Nc).normalize(),n.startTurbulence&&n.turbulence){for(var b=0;b<3;b++)Ul.setElement(b,n.turbulence[b].getValue(a));$l.setFromVector3(Ul.negate());var x=hh.setFromEuler($l);x.transformNormal(p).normalize()}var P=ch,V=fh;s.alignSpeedDirection?(V.copyFrom(p),this.upDirectionWorld||(s.upDirection?this.upDirectionWorld=s.upDirection.clone():this.upDirectionWorld=be.Z.clone(),c.transformNormal(this.upDirectionWorld)),P.crossVectors(V,this.upDirectionWorld).normalize(),P.isZero()&&P.set(1,0,0)):(P.set(1,0,0),V.set(0,1,0));var D,_=this.textureSheetAnimation;_&&_.animate&&(D=Bc,D[0]=_.animationDelay.getValue(a),D[1]=_.animationDuration.getValue(a),D[2]=_.cycles.getValue(a));var K=uh;n.start3DRotation?K.set(n.startRotationX.getValue(a),n.startRotationY.getValue(a),n.startRotationZ.getValue(a)):n.startRotation?K.set(0,0,n.startRotation.getValue(a)):K.set(0,0,0),v.setRotation(K.x,K.y,K.z);var U=n.startColor.getValue(a);U.length===3&&(U[3]=1);var W=Vc;if(n.start3DSize)W.x=n.startSizeX.getValue(a),W.y=n.startSizeY.getValue(a);else{var q=n.startSize.getValue(a),ie=n.sizeAspect.getValue(a);W.x=q,W.y=ie===0?0:q/ie}var oe=p.clone();if(oe.multiply(l),!n.particleFollowParent){var Xe=new be;this.transform.assignWorldTRS(void 0,void 0,Xe),W.x*=Xe.x,W.y*=Xe.y}return v.setScale(W.x,W.y,1),{size:W,vel:oe,color:U,delay:n.startDelay.getValue(a),lifetime:n.startLifetime.getValue(a),uv:mh(this.uvs,!0),gravity:n.gravity,sprite:D,dirY:V,dirX:P,transform:v}},r.addBurst=function(t,n){var a=!1;if(this.emission.bursts.includes(t)||(this.emission.bursts.push(t),a=!0),a&&k(n,Array)){var s=this.emission.bursts.indexOf(t);return this.emission.burstOffsets[s]=n,s}return-1},r.removeBurst=function(t){t<this.emission.bursts.length&&(this.emission.burstOffsets[t]=null,this.emission.bursts.splice(t,1))},r.createPoint=function(t){var n={total:this.emission.rateOverTime.getValue(t),index:this.generatedCount,burstIndex:0,burstCount:0};return this.generatedCount++,this.initPoint(this.shape.generate(n))},r.stopParticleEmission=function(){this.emissionStopped=!0},r.resumeParticleEmission=function(){this.emissionStopped=!1},r.getBoundingBox=function(){var t=this.getParticleBoxes();return{type:ho.sphere,area:t}},r.fromData=function(t){i.prototype.fromData.call(this,t);var n=t;this.props=n,this.destroyed=!1;var a="",s=n.options,l=n.positionOverLifetime,c=l===void 0?{}:l,h=n.shape,m=c==null?void 0:c.gravityOverLifetime,v=Sl(c==null?void 0:c.gravity),p=n.textureSheetAnimation,b=p?{animationDelay:hn(p.animationDelay||0),animationDuration:hn(p.animationDuration||1),cycles:hn(p.cycles||1),animate:p.animate,col:p.col,row:p.row,total:p.total||p.col*p.row}:void 0,x=!!(h&&h.turbulenceX||h!=null&&h.turbulenceY||h!=null&&h.turbulenceZ),P;if(x){var V,D,_;P=[hn((V=h.turbulenceX)!=null?V:0),hn((D=h.turbulenceY)!=null?D:0),hn((_=h.turbulenceZ)!=null?_:0)]}this.name="ParticleSystem",this.shape=Ec(h);var K;this.emission={rateOverTime:hn(n.emission.rateOverTime),burstOffsets:dh((K=n.emission.burstOffsets)!=null?K:[]),bursts:(n.emission.bursts||[]).map(function(os){return new Fc(os)})},this.textureSheetAnimation=b;var U=n.renderer||{},W,q=n.rotationOverLifetime;q&&(W={},W.asRotation=!!q.asRotation,W.z=q.z?hn(q.z):hn(0),q.separateAxes&&(W.x=q.x&&hn(q.x),W.y=q.y&&hn(q.y)));var ie;c!=null&&c.forceTarget&&(ie={target:c.target||[0,0,0],curve:hn(c.forceCurve||[dt.LINE,[[0,0],[1,1]]])});var oe={x:c.linearX&&hn(c.linearX||0),y:c.linearY&&hn(c.linearY||0),z:c.linearZ&&hn(c.linearZ||0),asMovement:c.asMovement},Xe={x:c.orbitalX&&hn(c.orbitalX),y:c.orbitalY&&hn(c.orbitalY),z:c.orbitalZ&&hn(c.orbitalZ),center:c.orbCenter,asRotation:c.asRotation},Je=n.sizeOverLifetime||{},ot=n.colorOverLifetime,lt=a,Et=Je!=null&&Je.separateAxes?{separateAxes:!0,x:hn(Je.x),y:hn(Je.y)}:{separateAxes:!1,x:hn(("size"in Je?Je.size:Je.x)||1)};U.anchor=U.anchor||[0,0];var Ht=gr.fromArray(U.anchor),Gt;this.options={particleFollowParent:!!s.particleFollowParent,startLifetime:hn(s.startLifetime),startDelay:hn(s.startDelay||0),startSpeed:hn(c.startSpeed||0),startColor:hn(s.startColor),looping:!1,maxCount:(Gt=s.maxCount)!=null?Gt:0,gravityModifier:hn(m||0),gravity:v,start3DSize:!!s.start3DSize,startTurbulence:x,turbulence:P,speedOverLifetime:c.speedOverLifetime&&hn(c.speedOverLifetime),linearVelOverLifetime:oe,orbitalVelOverLifetime:Xe,forceTarget:ie},s.startRotationZ&&(this.options.startRotation=hn(s.startRotationZ||0)),(s.startRotationX||s.startRotationY)&&(this.options.start3DRotation=!0,this.options.startRotationX=hn(s.startRotationX||0),this.options.startRotationY=hn(s.startRotationY||0),this.options.startRotationZ=hn(s.startRotationZ||0)),s.start3DSize?(this.options.startSizeX=hn(s.startSizeX),this.options.startSizeY=hn(s.startSizeY)):(this.options.startSize=hn(s.startSize),this.options.sizeAspect=hn(s.sizeAspect||1));var Qt,en={meshSlots:s.meshSlots,name:this.name,matrix:Tn.IDENTITY,shaderCachePrefix:lt,renderMode:U.renderMode||pn.BILLBOARD,side:U.side||Sn.DOUBLE,gravity:v,blending:U.blending||Wt.ALPHA,rotationOverLifetime:W,gravityModifier:this.options.gravityModifier,linearVelOverLifetime:this.options.linearVelOverLifetime,orbitalVelOverLifetime:this.options.orbitalVelOverLifetime,speedOverLifetime:this.options.speedOverLifetime,sprite:b,occlusion:!!U.occlusion,transparentOcclusion:!!U.transparentOcclusion,maxCount:s.maxCount,mask:U.mask,maskMode:(Qt=U.maskMode)!=null?Qt:kt.NONE,forceTarget:ie,diffuse:U.texture,sizeOverLifetime:Et,anchor:Ht};if(ot){var Pt=ot.color,Fn=ot.opacity;en.colorOverLifetime={},Fn&&(en.colorOverLifetime.opacity=hn(ot.opacity)),Pt&&(Pt[0]===dt.GRADIENT_COLOR?en.colorOverLifetime.color=ot.color[1]:Pt[0]===dt.RGBA_COLOR?en.colorOverLifetime.color=Zn.createWithData(this.engine,{data:new Uint8Array(Pt[1]),width:1,height:1}):k(Pt,Zn)&&(en.colorOverLifetime.color=Pt))}var dn=[],In=[0,0,1,1],Yn;if(n.splits){var Kn=n.splits[0];Yn=Kn[4],In=Yn?[Kn[0],Kn[1],Kn[3],Kn[2]]:[Kn[0],Kn[1],Kn[2],Kn[3]]}if(b&&!b.animate)for(var ni=Yn?b.row:b.col,qn=Yn?b.col:b.row,sa=b.total||ni*qn,La=0,ha=0;ha<ni;ha++)for(var Ka=0;Ka<qn&&La<sa;Ka++,La++)dn.push([ha*In[2]/ni+In[0],Ka*In[3]/qn+In[1],In[2]/ni,In[3]/qn]);else dn.push(In);this.uvs=dn,en.textureFlip=Yn;var pr=n.trails,ja;pr&&(this.trails={lifetime:hn(pr.lifetime),dieWithParticles:pr.dieWithParticles!==!1,sizeAffectsWidth:!!pr.sizeAffectsWidth,sizeAffectsLifetime:!!pr.sizeAffectsLifetime,inheritParticleColor:!!pr.inheritParticleColor,parentAffectsPosition:!!pr.parentAffectsPosition},ja={name:"Trail",matrix:Tn.IDENTITY,minimumVertexDistance:pr.minimumVertexDistance||.02,maxTrailCount:s.maxCount,pointCountPerTrail:Math.round(pr.maxPointPerTrail)||32,blending:pr.blending,texture:pr.texture,opacityOverLifetime:hn(pr.opacityOverLifetime||1),widthOverTrail:hn(pr.widthOverTrail||1),shaderCachePrefix:lt,lifetime:this.trails.lifetime,occlusion:!!pr.occlusion,transparentOcclusion:!!pr.transparentOcclusion,textureMap:pr.textureMap,mask:U.mask,maskMode:U.maskMode},pr.colorOverLifetime&&pr.colorOverLifetime[0]===dt.GRADIENT_COLOR&&(ja.colorOverLifetime=pr.colorOverLifetime[1]),pr.colorOverTrail&&pr.colorOverTrail[0]===dt.GRADIENT_COLOR&&(ja.colorOverTrail=pr.colorOverTrail[1])),this.renderer=new lh(this.engine,en,ja),this.renderer.item=this.item,this.meshes=this.renderer.meshes;var Ha=n.interaction;if(Ha){var di;this.interaction={multiple:Ha.multiple,radius:(di=Ha.radius)!=null?di:.4,behavior:Ha.behavior}}this.item.getHitTestParams=this.getHitTestParams,this.item._content=this},yn(o,[{key:"timePassed",get:function(){return this.lastUpdate-this.loopStartTime}},{key:"lifetime",get:function(){return this.timePassed/this.item.duration}},{key:"particleCount",get:function(){return this.particleLink.length}}]),o}(Di);ks=ne([Mn(St.ParticleSystem)],ks);var Nc=new be,Vc=new gr,uh=new Zr,ch=new be,fh=new be,Ul=new be,$l=new Zr,Bc=[0,0,0],hh=new Tn;function dh(i){var o={};return Array.isArray(i)&&i.forEach(function(r){var e=k(r,Array),t=e?r[0]:r.index,n=o[t];n||(n=o[t]=[]),e?n.push(r.slice(1,4)):n.push([+r.x,+r.y,+r.z])}),o}function mh(i,o){var r=Math.floor(Math.random()*i.length),e=i[r];return o||i.splice(r,1),e}var vh=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.lastTime=0,e}var r=o.prototype;return r.start=function(t){var n=t.output.getUserData();this.particleSystem||!k(n,Pi)||(this.particleSystem=n.getComponent(ks),this.particleSystem&&(this.particleSystem.name=n.name,this.particleSystem.startEmit(),this.particleSystem.initEmitterTransform()))},r.processFrame=function(t){this.time>=0&&this.start(t);var n=this.particleSystem;if(n){var a=t.deltaTime;this.time>=0&&this.time<n.item.duration&&n.isEnded()&&n.reset(),Math.abs(this.time-this.lastTime)<.001&&(a=0),n.update(a)}this.lastTime=this.time},o}(So),jl=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){return new vh(t)},o}(Vo),zc={uSprite:"vec4",uParams:"vec4",uAcceleration:"vec4",uGravityModifierValue:"vec4",uOpacityOverLifetimeValue:"vec4",uRXByLifeTimeValue:"vec4",uRYByLifeTimeValue:"vec4",uRZByLifeTimeValue:"vec4",uLinearXByLifetimeValue:"vec4",uLinearYByLifetimeValue:"vec4",uLinearZByLifetimeValue:"vec4",uSpeedLifetimeValue:"vec4",uOrbXByLifetimeValue:"vec4",uOrbYByLifetimeValue:"vec4",uOrbZByLifetimeValue:"vec4",uSizeByLifetimeValue:"vec4",uSizeYByLifetimeValue:"vec4",uColorParams:"vec4",uFSprite:"vec4",uPreviewColor:"vec4",uVCurveValues:"vec4Array",uFCurveValues:"vec4",uFinalTarget:"vec3",uForceCurve:"vec4",uOrbCenter:"vec3",uTexOffset:"vec2",uPeriodValue:"vec4",uMovementValue:"vec4",uStrengthValue:"vec4",uWaveParams:"vec4"},ph=function(){function i(r,e){this.particleCount=0,this.cachedRotationVector3=new be,this.cachedRotationMatrix=new Pa,this.cachedLinearMove=new be,this.tempMatrix3=new Pa,this.VERT_MAX_KEY_FRAME_COUNT=0;var t,n=((t=r.renderer)!=null?t:{}).env,a=e.speedOverLifetime,s=e.colorOverLifetime,l=e.linearVelOverLifetime,c=e.orbitalVelOverLifetime,h=e.sizeOverLifetime,m=e.rotationOverLifetime,v=e.sprite,p=e.gravityModifier,b=e.maxCount,x=e.textureFlip,P=e.useSprite,V=e.name,D=e.gravity,_=e.forceTarget,K=e.side,U=e.occlusion,W=e.anchor,q=e.blending,ie=e.maskMode,oe=e.mask,Xe=e.transparentOcclusion,Je=e.meshSlots,ot=e.renderMode,lt=ot===void 0?0:ot,Et=e.diffuse,Ht=Et===void 0?Zn.createWithData(r):Et,Gt=r.gpuCapability.detail,Qt=Gt.halfFloatTexture,en=Gt.maxVertexUniforms,Pt=[["RENDER_MODE",+lt],["ENV_EDITOR",n===To]],Fn=r.gpuCapability.level,dn=Ls(),In=Ls(),Yn=en>0,Kn={},ni=0,qn=0,sa;if(this.useSprite=P,Yn&&Pt.push(["ENABLE_VERTEX_TEXTURE",!0]),a&&(Pt.push(["SPEED_OVER_LIFETIME",!0]),qn|=2,Kn.uSpeedLifetimeValue=a.toUniform(dn)),v!=null&&v.animate&&(Pt.push(["USE_SPRITE",!0]),qn|=4,Kn.uFSprite=Kn.uSprite=new Float32Array([v.col,v.row,v.total,v.blend?1:0]),this.useSprite=!0),s!=null&&s.color&&(Pt.push(["COLOR_OVER_LIFETIME",!0]),qn|=16,Kn.uColorOverLifetime=k(s.color,Zn)?s.color:Zn.createWithData(r,Le(s.color))),s!=null&&s.opacity?Kn.uOpacityOverLifetimeValue=s.opacity.toUniform(dn):Kn.uOpacityOverLifetimeValue=hn(1).toUniform(dn),["x","y","z"].forEach(function(Ma,qa){var xs=0,ko=0;l!=null&&l[Ma]&&(Kn["uLinear"+Ma.toUpperCase()+"ByLifetimeValue"]=l[Ma].toUniform(dn),xs=1,qn|=1<<7+qa,l.enabled=!0),Pt.push(["LINEAR_VEL_"+Ma.toUpperCase(),xs]),c!=null&&c[Ma]&&(Kn["uOrb"+Ma.toUpperCase()+"ByLifetimeValue"]=c[Ma].toUniform(dn),ko=1,qn|=1<<10+qa,sa=!0,c.enabled=!0),Pt.push(["ORB_VEL_"+Ma.toUpperCase(),ko])}),l!=null&&l.asMovement&&(Pt.push(["AS_LINEAR_MOVEMENT",!0]),qn|=32),sa&&(c!=null&&c.asRotation&&(Pt.push(["AS_ORBITAL_MOVEMENT",!0]),qn|=64),Kn.uOrbCenter=new Float32Array((c==null?void 0:c.center)||[0,0,0])),Kn.uSizeByLifetimeValue=h==null?void 0:h.x.toUniform(dn),h!=null&&h.separateAxes){var La;Pt.push(["SIZE_Y_BY_LIFE",1]),qn|=16384,Kn.uSizeYByLifetimeValue=h==null||(La=h.y)==null?void 0:La.toUniform(dn)}m!=null&&m.z&&(Kn.uRZByLifeTimeValue=m.z.toUniform(dn),qn|=32768,Pt.push(["ROT_Z_LIFETIME",1])),m!=null&&m.x&&(Kn.uRXByLifeTimeValue=m.x.toUniform(dn),qn|=65536,Pt.push(["ROT_X_LIFETIME",1])),m!=null&&m.y&&(Kn.uRYByLifeTimeValue=m.y.toUniform(dn),qn|=1<<17,Pt.push(["ROT_Y_LIFETIME",1])),m!=null&&m.asRotation&&(Pt.push(["ROT_LIFETIME_AS_MOVEMENT",1]),qn|=1<<18),Kn.uGravityModifierValue=p.toUniform(dn),_&&(Pt.push(["FINAL_TARGET",!0]),qn|=1<<19,Kn.uFinalTarget=new Float32Array(_.target||[0,0,0]),Kn.uForceCurve=_.curve.toUniform(dn)),Qt&&In.max?(qn|=1<<20,Kn.uFCurveValueTexture=vi(r,ta.getAllData(In,!0),In.index,1)):Kn.uFCurveValues=ta.getAllData(In);var ha=dn.max+dn.curves.length-32>en;if(Fn===2&&(dn.max=-1,dn.index=Je?Je[0]:kc(dn.index),In.index>0&&(In.max=-1,In.index=Je?Je[1]:kc(In.index))),ha&&Qt&&Yn){var Ka=vi(r,ta.getAllData(dn,!0),dn.index,1);Kn.uVCurveValueTexture=Ka,ni=1}else Kn.uVCurveValues=ta.getAllData(dn);var pr=["-p:",lt,qn,dn.index,dn.max,In.index,In.max].join("+");Pt.push(["VERT_CURVE_VALUE_COUNT",dn.index],["FRAG_CURVE_VALUE_COUNT",In.index],["VERT_MAX_KEY_FRAME_COUNT",dn.max],["FRAG_MAX_KEY_FRAME_COUNT",In.max]),this.VERT_MAX_KEY_FRAME_COUNT=dn.max;var ja=Ho,Ha="#define LOOKUP_TEXTURE_CURVE "+ni+`
`+Ko,di=Ha,os={fragment:ja,vertex:di,glslVersion:Fn===1?ri.GLSL1:ri.GLSL3,shared:!0,cacheId:pr,macros:Pt,name:"particle#"+V},Xo={shader:os,uniformSemantics:{effects_MatrixV:"VIEW",effects_MatrixVP:"VIEWPROJECTION",uEditorTransform:"EDITOR_TRANSFORM",effects_ObjectToWorld:"MODEL"}},Ri=oo(q);Kn.uTexOffset=new Float32Array(Ht?[1/Ht.getWidth(),1/Ht.getHeight()]:[0,0]),Kn.uMaskTex=Ht,Kn.uColorParams=new Float32Array([Ht?1:0,+Ri,0,+(!!U&&!Xe)]),Kn.uParams=[0,0,0,0],Kn.uAcceleration=[(D==null?void 0:D[0])||0,(D==null?void 0:D[1])||0,(D==null?void 0:D[2])||0,0];var Yi=Bi.create(r,Xo);Yi.blending=!0,Yi.depthTest=!0,Yi.depthMask=!!U,Yi.stencilRef=oe?[oe,oe]:void 0,E(Yi,ie),Ts(Yi,q),Ys(Yi,K),Object.keys(Kn).map(function(Ma){var qa=Kn[Ma];if(k(qa,Zn)){Yi.setTexture(Ma,qa);return}var xs=[];switch(zc[Ma]){case"vec4":Yi.setVector4(Ma,Bn.fromArray(qa));break;case"vec3":Yi.setVector3(Ma,be.fromArray(qa));break;case"vec2":Yi.setVector2(Ma,gr.fromArray(qa));break;case"vec4Array":for(var ko=0;ko<qa.length;ko=ko+4){var mf=new Bn(qa[ko],qa[ko+1],qa[ko+2],qa[ko+3]);xs.push(mf)}Yi.setVector4Array(Ma,xs),xs.length=0;break;default:console.warn("Uniform "+Ma+"'s type not in typeMap.")}}),Yi.setVector3("emissionColor",new be(0,0,0)),Yi.setFloat("emissionIntensity",0);var Zs=Sr.create(r,Au(b*4,this.useSprite,"particle#"+V)),zo=gi.create(r,{name:"MParticle_"+V,material:Yi,geometry:Zs});this.anchor=W,this.mesh=zo,this.geometry=zo.firstGeometry(),this.forceTarget=_,this.sizeOverLifetime=h,this.speedOverLifetime=a,this.linearVelOverLifetime=l,this.orbitalVelOverLifetime=c,this.orbitalVelOverLifetime=c,this.gravityModifier=p,this.rotationOverLifetime=m,this.maxCount=b,this.textureOffsets=x?[0,0,1,0,0,1,1,1]:[0,1,0,0,1,1,1,0],this.time=0}var o=i.prototype;return o.getPointColor=function(e){var t=this.geometry.getAttributeData("aRot"),n=e*32+4;return xt(t),[t[n],t[n+1],t[n+2],t[n+3]]},o.clearPoints=function(){this.resetGeometryData(this.geometry),this.particleCount=0,this.geometry.setDrawCount(0),this.maxParticleBufferCount=0},o.resetGeometryData=function(e){for(var t=e.getAttributeNames(),n=e.getIndexData(),a=0;a<t.length;a++){var s=t[a],l=e.getAttributeData(s);l&&e.setAttributeData(s,new l.constructor(0))}e.setIndexData(new n.constructor(0))},o.onUpdate=function(e){var t=this.geometry.getAttributeData("aPos"),n=Math.ceil(t.length/12);this.applyTranslation(n,e),this.applyRotation(n,e),this.applyLinearMove(n,e)},o.minusTime=function(e){for(var t=this.geometry.getAttributeData("aOffset"),n=0;n<t.length;n+=4)t[n+2]-=e;this.geometry.setAttributeData("aOffset",t),this.time-=e},o.removePoint=function(e){e<this.particleCount&&this.geometry.setAttributeSubData("aOffset",e*16,new Float32Array(16))},o.setPoint=function(e,t){var n=this.maxCount;if(e<n){var a=e+1,s=a*4,l=this.geometry,c=a>this.maxParticleBufferCount,h=1;this.particleCount>300?h=(this.particleCount+100)/this.particleCount:this.particleCount>100?h=1.4:this.particleCount>0&&(h=2);var m={aPos:new Float32Array(48),aRot:new Float32Array(32),aOffset:new Float32Array(16),aTranslation:new Float32Array(12),aLinearMove:new Float32Array(12),aRotation0:new Float32Array(36)},v=this.useSprite;v&&(m.aSprite=new Float32Array(12));var p=new be,b=new _t,x=new be(1,1,1);t.transform.assignWorldTRS(p,b,x);var P=Ns.getRotation(b,new Zr),V=p.toArray(),D=P.toArray(),_=this.textureOffsets,K=[0,0,t.delay,t.lifetime],U=[0,0,1,1],W=t.vel,q=t.color,ie=[-.5,.5,-.5,-.5,.5,.5,.5,-.5],oe=Math.random(),Xe;v&&(Xe=t.sprite);for(var Je=0;Je<4;Je++){var ot=Je*2,lt=Je*3,Et=Je*4,Ht=Je*12,Gt=Je*8;m.aPos.set(V,Ht),W.fill(m.aPos,Ht+3),m.aRot.set(D,Gt),m.aRot[Gt+3]=oe,m.aRot.set(q,Gt+4),v&&m.aSprite.set(Xe,lt);var Qt=t.uv||U;if(Qt){var en=v?1-_[ot+1]:_[ot+1];K[0]=Qt[0]+_[ot]*Qt[2],K[1]=Qt[1]+en*Qt[3]}m.aOffset.set(K,Et);for(var Pt=Je+Je,Fn=(ie[Pt]-this.anchor.x)*x.x,dn=(ie[Pt+1]-this.anchor.y)*x.y,In=0;In<3;In++)m.aPos[Ht+6+In]=t.dirX.getElement(In)*Fn,m.aPos[Ht+9+In]=t.dirY.getElement(In)*dn}var Yn=new Uint16Array([0,1,2,2,1,3].map(function(qn){return qn+e*4}));if(c){var Kn=l.getIndexData(),ni=ze(Kn,a*6,n*6,h);ni.set(Yn,e*6),l.setIndexData(ni),this.maxParticleBufferCount=ni.length/6}else l.setIndexSubData(e*6,Yn);Object.keys(m).forEach(function(qn){var sa=m[qn],La=l.getAttributeStride(qn)/Float32Array.BYTES_PER_ELEMENT;if(c){var ha=l.getAttributeData(qn);xt(ha);var Ka=ze(ha,s*La,n*4*La,h);Ka.set(sa,sa.length*e),l.setAttributeData(qn,Ka)}else l.setAttributeSubData(qn,sa.length*e,sa)}),this.particleCount=Math.max(a,this.particleCount),l.setDrawCount(this.particleCount*6)}},o.applyTranslation=function(e,t){var n=this.time,a=this.geometry.getAttributeData("aTranslation"),s=this.geometry.getAttributeData("aVel"),l=this.geometry.getAttributeData("aOffset");a.length<e*3&&(a=this.expandArray(a,e*3));for(var c=0,h=0,m=0,v=this.mesh.material.getVector4("uAcceleration"),p=this.mesh.material.getVector4("uGravityModifierValue"),b=0;b<e;b+=4){var x=b*12+3;c=s[x],h=s[x+1],m=s[x+2];var P=n-l[b*4+2],V=l[b*4+3];if(v&&p){var D=this.gravityModifier.getIntegrateValue(0,P,V),_=v.x*D,K=v.y*D,U=v.z*D;if(this.speedOverLifetime){var W=this.speedOverLifetime.getValue(P/V);c=c*W+_,h=h*W+K,m=m*W+U}else c=c+_,h=h+K,m=m+U}var q=b*3;if(l[b*4+2]<n){var ie=c*(t/1e3),oe=h*(t/1e3),Xe=m*(t/1e3);a[q]+=ie,a[q+1]+=oe,a[q+2]+=Xe,a[q+3]+=ie,a[q+4]+=oe,a[q+5]+=Xe,a[q+6]+=ie,a[q+7]+=oe,a[q+8]+=Xe,a[q+9]+=ie,a[q+10]+=oe,a[q+11]+=Xe}}this.geometry.setAttributeData("aTranslation",a)},o.applyRotation=function(e,t){var n=this.geometry.getAttributeData("aRotation0"),a=this.geometry.getAttributeData("aOffset"),s=this.geometry.getAttributeData("aRot"),l=this.geometry.getAttributeData("aSeed"),c=this.time,h=this.cachedRotationMatrix;n.length<e*9&&(n=this.expandArray(n,e*9));for(var m=0;m<e;m+=4){var v=c-a[m*4+2],p=a[m*4+3],b=Li(v/p,0,1),x=m*8,P=this.cachedRotationVector3.set(s[x],s[x+1],s[x+2]),V=l[m*8+3],D=P;this.rotationOverLifetime?(this.rotationOverLifetime.x&&(k(this.rotationOverLifetime.x,Eo)?D.x+=this.rotationOverLifetime.x.getValue(b,V):D.x+=this.rotationOverLifetime.x.getValue(b)),this.rotationOverLifetime.y&&(k(this.rotationOverLifetime.y,Eo)?D.y+=this.rotationOverLifetime.y.getValue(b,V):D.y+=this.rotationOverLifetime.y.getValue(b)),this.rotationOverLifetime.z&&(k(this.rotationOverLifetime.z,Eo)?D.z+=this.rotationOverLifetime.z.getValue(b,V):D.z+=this.rotationOverLifetime.z.getValue(b))):h.setZero(),D.dot(D)===0&&h.identity();var _=Math.PI/180,K=D.x*_,U=D.y*_,W=D.z*_,q=Math.sin(K),ie=Math.sin(U),oe=Math.sin(W),Xe=Math.cos(K),Je=Math.cos(U),ot=Math.cos(W);h.set(ot,-oe,0,oe,ot,0,0,0,1),h.multiply(this.tempMatrix3.set(Je,0,ie,0,1,0,-ie,0,Je)),h.multiply(this.tempMatrix3.set(1,0,0,0,Xe,-q,0,q,Xe));var lt=m*9,Et=h.elements;n.set(Et,lt),m+4<=e&&(n.set(Et,lt+9),n.set(Et,lt+18),n.set(Et,lt+27))}this.geometry.setAttributeData("aRotation0",n)},o.applyLinearMove=function(e,t){var n=this.geometry.getAttributeData("aLinearMove"),a=this.geometry.getAttributeData("aOffset"),s=this.geometry.getAttributeData("aSeed"),l=this.time;n.length<e*3&&(n=this.expandArray(n,e*3));var c=this.cachedLinearMove;if(this.linearVelOverLifetime&&this.linearVelOverLifetime.enabled)for(var h=0;h<e;h+=4){var m=l-a[h*4+2],v=a[h*4+3],p=m/v,b=s[h*8+3];c.setZero(),this.linearVelOverLifetime.asMovement?(this.linearVelOverLifetime.x&&(k(this.linearVelOverLifetime.x,Eo)?c.x=this.linearVelOverLifetime.x.getValue(p,b):c.x=this.linearVelOverLifetime.x.getValue(p)),this.linearVelOverLifetime.y&&(k(this.linearVelOverLifetime.y,Eo)?c.y=this.linearVelOverLifetime.y.getValue(p,b):c.y=this.linearVelOverLifetime.y.getValue(p)),this.linearVelOverLifetime.z&&(k(this.linearVelOverLifetime.z,Eo)?c.z=this.linearVelOverLifetime.z.getValue(p,b):c.z=this.linearVelOverLifetime.z.getValue(p))):(this.linearVelOverLifetime.x&&(k(this.linearVelOverLifetime.x,Eo)?c.x=this.linearVelOverLifetime.x.getIntegrateValue(0,m,b):c.x=this.linearVelOverLifetime.x.getIntegrateValue(0,m,v)),this.linearVelOverLifetime.y&&(k(this.linearVelOverLifetime.y,Eo)?c.y=this.linearVelOverLifetime.y.getIntegrateValue(0,m,b):c.y=this.linearVelOverLifetime.y.getIntegrateValue(0,m,v)),this.linearVelOverLifetime.z&&(k(this.linearVelOverLifetime.z,Eo)?c.z=this.linearVelOverLifetime.z.getIntegrateValue(0,m,b):c.z=this.linearVelOverLifetime.z.getIntegrateValue(0,m,v)));var x=h*3;n[x]=c.x,n[x+1]=c.y,n[x+2]=c.z,n[x+3]=c.x,n[x+4]=c.y,n[x+5]=c.z,n[x+6]=c.x,n[x+7]=c.y,n[x+8]=c.z,n[x+9]=c.x,n[x+10]=c.y,n[x+11]=c.z}this.geometry.setAttributeData("aLinearMove",n)},o.expandArray=function(e,t){var n=new Float32Array(t);return n.set(e),n},i}(),Mu=[10,32,64,160];function kc(i){for(var o=0;o<Mu.length;o++){var r=Mu[o];if(r>i)return r}return i||Mu[0]}function Au(i,o,r){var e=Float32Array.BYTES_PER_ELEMENT,t=e*12,n={aPos:{size:3,offset:0,stride:t,data:new Float32Array(0)},aVel:{size:3,offset:3*e,stride:t,dataSource:"aPos"},aDirX:{size:3,offset:6*e,stride:t,dataSource:"aPos"},aDirY:{size:3,offset:9*e,stride:t,dataSource:"aPos"},aRot:{size:3,offset:0,stride:8*e,data:new Float32Array(0)},aSeed:{size:1,offset:3*e,stride:8*e,dataSource:"aRot"},aColor:{size:4,offset:4*e,stride:8*e,dataSource:"aRot"},aOffset:{size:4,stride:4*e,data:new Float32Array(0)},aTranslation:{size:3,data:new Float32Array(0)},aLinearMove:{size:3,data:new Float32Array(0)},aRotation0:{size:3,offset:0,stride:9*e,data:new Float32Array(0)},aRotation1:{size:3,offset:3*e,stride:9*e,dataSource:"aRotation0"},aRotation2:{size:3,offset:6*e,stride:9*e,dataSource:"aRotation0"}};return o&&(n.aSprite={size:3,stride:3*e,data:new Float32Array(0)}),{attributes:n,indices:{data:new Uint16Array(0)},name:r,maxVertex:i}}function gh(i,o,r){r===void 0&&(r="");var e,t=i.content,n=+(((e=t.renderer)==null?void 0:e.renderMode)||0),a=[["RENDER_MODE",n],["ENV_EDITOR",r===To]],s=o.level,l=o.detail,c=Ls(),h=Ls(),m=l.maxVertexUniforms>0,v,p=((v=t.positionOverLifetime)!=null?v:{}).speedOverLifetime,b=0,x=0;m&&a.push(["ENABLE_VERTEX_TEXTURE",!0]),p&&(a.push(["SPEED_OVER_LIFETIME",!0]),x|=2,Ya(c,p));var P=t.textureSheetAnimation;P&&P.animate&&(a.push(["USE_SPRITE",!0]),x|=4);var V=t.colorOverLifetime;V&&V.color&&(a.push(["COLOR_OVER_LIFETIME",!0]),x|=16);var D=V&&V.opacity;D&&Ya(c,D);var _=t.positionOverLifetime,K;if(["x","y","z"].forEach(function(Et,Ht){var Gt=0,Qt="linear"+Et.toUpperCase(),en="orbital"+Et.toUpperCase();_!=null&&_[Qt]&&(Ya(c,_[Qt]),Gt=1,x|=1<<7+Ht),a.push(["LINEAR_VEL_"+Et.toUpperCase(),Gt]);var Pt=0;_!=null&&_[en]&&(Ya(c,_[en]),Pt=1,x|=1<<10+Ht,K=!0),a.push(["ORB_VEL_"+Et.toUpperCase(),Pt])}),_!=null&&_.asMovement&&(a.push(["AS_LINEAR_MOVEMENT",!0]),x|=32),K&&_!=null&&_.asRotation&&(a.push(["AS_ORBITAL_MOVEMENT",!0]),x|=64),t.sizeOverLifetime){var U=t.sizeOverLifetime,W=U.separateAxes;W?(Ya(c,U.x),a.push(["SIZE_Y_BY_LIFE",1]),x|=16384,Ya(c,U.y)):Ya(c,U.size)}if(t.rotationOverLifetime){var q=t.rotationOverLifetime;q.z&&(Ya(c,q==null?void 0:q.z),x|=32768,a.push(["ROT_Z_LIFETIME",1])),q.separateAxes&&(q.x&&(Ya(c,q.x),x|=65536,a.push(["ROT_X_LIFETIME",1])),q.y&&(Ya(c,q.y),x|=1<<17,a.push(["ROT_Y_LIFETIME",1]))),q!=null&&q.asRotation&&(a.push(["ROT_LIFETIME_AS_MOVEMENT",1]),x|=1<<18)}Ya(c,_==null?void 0:_.gravityOverLifetime);var ie=_==null?void 0:_.forceTarget;ie&&(a.push(["FINAL_TARGET",!0]),x|=1<<19,Ya(c,_.forceCurve));var oe=l.halfFloatTexture;oe&&h.max&&(x|=1<<20);var Xe=l.maxVertexUniforms,Je=c.max+c.curves.length-32>Xe;xu(ns)&&(Je=!0),s===2&&(c.max=-1,h.index>0&&(h.max=-1)),Je&&oe&&m&&(b=1);var ot=["-p:",n,x,c.index,c.max,h.index,h.max].join("+"),lt={fragment:Ho,vertex:"#define LOOKUP_TEXTURE_CURVE "+b+`
`+Ko,shared:!0,cacheId:ot,macros:a,name:"particle#"+i.name};return a.push(["VERT_CURVE_VALUE_COUNT",c.index],["FRAG_CURVE_VALUE_COUNT",h.index],["VERT_MAX_KEY_FRAME_COUNT",c.max],["FRAG_MAX_KEY_FRAME_COUNT",h.max]),{shader:lt,vertex:c.index,fragment:h.index}}function yh(i,o,r){var e,t=(e=i.cacheId)==null?void 0:e.split("+");if(t[3]=o,t[5]=r,i.cacheId=t.join("+"),!!i.macros)for(var n=0;n<i.macros.length;n++){var a=i.macros[n];if(a[0]==="VERT_CURVE_VALUE_COUNT")a[1]=o;else if(a[0]==="FRAG_CURVE_VALUE_COUNT"){a[1]=r;break}}}var bh=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o.precompile=function(e,t,n){var a=t.engine.gpuCapability,s=a.level,l=(n!=null?n:{}).env,c=t.getShaderLibrary(),h=[],m=[],v=0,p=0;return e.forEach(function(b){b.items.forEach(function(x){Dl.isParticle(x)&&h.push(x)})}),h.forEach(function(b){var x=gh(b,a,l),P=x.shader,V=x.fragment,D=x.vertex;if(m.push(P),v=Math.max(v,V),p=Math.max(p,D),b.content.trails){var _=sh(b.content.trails,b.content.options.maxCount,b.name,a,l);_.glslVersion=s===2?ri.GLSL3:ri.GLSL1,c==null||c.addShader(_)}}),m.forEach(function(b){s===2?(yh(b,p,v),b.glslVersion=ri.GLSL3):b.glslVersion=ri.GLSL1,c==null||c.addShader(b)}),s===2&&h.forEach(function(b){b.content.options.meshSlots=[p,v]}),Promise.resolve()},o}(On),Uc=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o}(On),xh=function(){function i(r){this.curveValues={},this.playable=r}var o=i.prototype;return o.setCurveValue=function(e,t,n){return this.findCurveValue(e,t)?this.curveValues[e+t].value=n:this.curveValues[e+t]={componentType:e,propertyName:t,value:n},this.curveValues[e+t]},o.findCurveValue=function(e,t){return this.curveValues[e+t]},i}(),Iu=function(i){Ee(o,i);function o(r){var e;return e=i.call(this,r)||this,e.animationStream=new xh(We(e)),e}return o}(So),Us=new Zr,wo=new be(1,1,1),Ch=new be,Eh=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.start=function(){var t=this.boundObject,n=t.transform.scale;this.originalTransform={position:t.transform.position.clone(),rotation:t.transform.getRotation().clone(),scale:new be(n.x,n.y,n.x)};var a=this.data.positionOverLifetime,s=this.data.rotationOverLifetime,l=this.data.sizeOverLifetime;if(a&&Object.keys(a).length!==0){this.positionOverLifetime=a,a.path&&(this.originalTransform.path=hn(a.path));var c=a.linearX||a.linearY||a.linearZ;c&&(this.linearVelOverLifetime={x:a.linearX&&hn(a.linearX),y:a.linearY&&hn(a.linearY),z:a.linearZ&&hn(a.linearZ),asMovement:a.asMovement,enabled:!!c});var h=a.orbitalX||a.orbitalY||a.orbitalZ;h&&(this.orbitalVelOverLifetime={x:a.orbitalX&&hn(a.orbitalX),y:a.orbitalY&&hn(a.orbitalY),z:a.orbitalZ&&hn(a.orbitalZ),center:Sl(a.orbCenter),asRotation:a.asRotation,enabled:!!h}),this.speedOverLifetime=a.speedOverLifetime&&hn(a.speedOverLifetime)}if(l&&(l.separateAxes?(this.sizeSeparateAxes=!0,this.sizeXOverLifetime=hn(l.x||1),this.sizeYOverLifetime=hn(l.y||1),this.sizeZOverLifetime=hn(l.z||1)):this.sizeXOverLifetime=hn(l.size||1)),s&&(this.rotationOverLifetime={asRotation:s.asRotation,separateAxes:s.separateAxes,z:hn(s.z||0)},s.separateAxes)){var m=this.rotationOverLifetime;m.x=hn(s.x||0),m.y=hn(s.y||0)}this.gravity=be.fromArray((a==null?void 0:a.gravity)||[]);var v;this.gravityModifier=hn((v=a==null?void 0:a.gravityOverLifetime)!=null?v:0),this.direction=a!=null&&a.direction?be.fromArray(a.direction).normalize():new be,this.startSpeed=(a==null?void 0:a.startSpeed)||0,this.velocity=this.direction.clone(),this.velocity.multiply(this.startSpeed)},r.processFrame=function(t){if(!this.boundObject){var n=t.output.getUserData();k(n,Pi)&&(this.boundObject=n,this.start())}this.boundObject&&this.boundObject.composition&&this.sampleAnimation()},r.sampleAnimation=function(){var t=this,n=this.boundObject,a=n.duration,s=this.time/a;if(s=s<0?0:s>1?1:s,this.sizeXOverLifetime){wo.x=this.sizeXOverLifetime.getValue(s),this.sizeSeparateAxes?(wo.y=this.sizeYOverLifetime.getValue(s),wo.z=this.sizeZOverLifetime.getValue(s)):wo.z=wo.y=wo.x;var l=this.originalTransform.scale;n.transform.setScale(wo.x*l.x,wo.y*l.y,wo.z*l.z)}if(this.rotationOverLifetime){var c=function(b){return t.rotationOverLifetime.asRotation?b.getValue(s):b.getIntegrateValue(0,s,a)},h=c(this.rotationOverLifetime.z),m=this.rotationOverLifetime.separateAxes;Us.x=m?c(this.rotationOverLifetime.x):0,Us.y=m?c(this.rotationOverLifetime.y):0,Us.z=h;var v=Us.addEulers(this.originalTransform.rotation,Us);n.transform.setRotation(v.x,v.y,v.z)}if(this.positionOverLifetime){var p=Ch;Ps(p,this,this.gravity,this.time,a,this.originalTransform.position,this.velocity),this.originalTransform.path&&p.add(this.originalTransform.path.getValue(s)),n.transform.setPosition(p.x,p.y,p.z)}},o}(Iu),$c=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){var n=new Eh(t);return n.data=this.transformAnimationData,n},r.fromData=function(t){this.transformAnimationData=t},o}(Vo);$c=ne([Mn(St.TransformPlayableAsset)],$c);var Th=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.processFrame=function(t){var n=t.output.getUserData();k(n,Pi)&&(n.time=this.time)},o}(So),Pu=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){return new Th(t)},o}(Vo);Pu=ne([Mn(St.ActivationPlayableAsset)],Pu);var jc=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.duration=0,e.positionCurves=[],e.rotationCurves=[],e.scaleCurves=[],e.floatCurves=[],e}var r=o.prototype;return r.sampleAnimation=function(t,n){var a=t.duration,s=n/a;s=s<0?0:s>1?1:s;for(var l=ke(this.positionCurves),c;!(c=l()).done;){var h=c.value,m=h.keyFrames.getValue(s),v=this.findTarget(t,h.path);v==null||v.transform.setPosition(m.x,m.y,m.z)}for(var p=ke(this.rotationCurves),b;!(b=p()).done;){var x=b.value,P=x.keyFrames.getValue(s),V=this.findTarget(t,x.path);V==null||V.transform.setQuaternion(P.x,P.y,P.z,P.w)}for(var D=ke(this.scaleCurves),_;!(_=D()).done;){var K=_.value,U=K.keyFrames.getValue(s),W=this.findTarget(t,K.path);W==null||W.transform.setScale(U.x,U.y,U.z)}},r.fromData=function(t){this.positionCurves.length=0,this.scaleCurves.length=0,this.floatCurves.length=0;for(var n=ke(t.positionCurves),a;!(a=n()).done;){var s=a.value,l={path:s.path,keyFrames:hn(s.keyFrames)};this.duration=Math.max(this.duration,l.keyFrames.getMaxTime()),this.positionCurves.push(l)}for(var c=ke(t.rotationCurves),h;!(h=c()).done;){var m=h.value,v={path:m.path,keyFrames:hn(m.keyFrames)};this.duration=Math.max(this.duration,v.keyFrames.getMaxTime()),this.rotationCurves.push(v)}for(var p=ke(t.scaleCurves),b;!(b=p()).done;){var x=b.value,P={path:x.path,keyFrames:hn(x.keyFrames)};this.duration=Math.max(this.duration,P.keyFrames.getMaxTime()),this.scaleCurves.push(P)}for(var V=ke(t.floatCurves),D;!(D=V()).done;){var _=D.value,K={path:_.path,keyFrames:hn(_.keyFrames),property:_.property,className:_.className};this.duration=Math.max(this.duration,K.keyFrames.getMaxTime()),this.floatCurves.push(K)}},r.findTarget=function(t,n){for(var a=t,s=ke(n),l;!(l=s()).done;){for(var c=l.value,h=!1,m=ke(a.children),v;!(v=m()).done;){var p=v.value;if(p.name===c){a=p,h=!0;break}}if(!h)return}return a},o}(wi);jc=ne([Mn(St.AnimationClip)],jc);var Hc=null,Go=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.clipPlayables=[],e.clipWeights=[],e}var r=o.prototype;return r.processFrame=function(t){for(var n=ke(this.clipPlayables),a;!(a=n()).done;){var s=a.value;s.processFrame(t)}this.evaluate(t)},r.setClipWeight=function(t,n){if(k(t,So)){for(var a=0;a<this.clipPlayables.length;a++)if(this.clipPlayables[a]===t){this.clipWeights[a]=n;return}}else this.clipWeights.length<t+1&&(this.clipWeights.length=t+1),this.clipWeights[t]=n},r.getClipWeight=function(t){return this.clipWeights[t]},r.getClipPlayable=function(t){return this.clipPlayables[t]},r.evaluate=function(t){},o}(So),Gc=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.evaluate=function(t){var n=t.output.getUserData();if(k(n,Pi)){for(var a=n,s=!1,l=0;l<this.clipPlayables.length;l++)if(this.getClipWeight(l)>0){s=!0;break}s?(a.transform.setValid(!0),a.setActive(!0)):(a.transform.setValid(!1),a.setActive(!1))}},o}(Go),gs=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.processFrame=function(t){this.value=this.curve.getValue(this.time/this.getDuration())},o}(So),Wc=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var r=o.prototype;return r.evaluate=function(t){var n=t.output.getUserData();if(n){var a=!1,s=n[this.propertyName];if(k(s,qr)){s.setZero();for(var l=0;l<this.clipPlayables.length;l++){var c=this.getClipWeight(l);if(c>0){var h=this.getClipPlayable(l);if(!k(h,gs)){console.error("ColorPropertyMixerPlayable received incompatible input");continue}var m=h.value;s.r+=m.r*c,s.g+=m.g*c,s.b+=m.b*c,s.a+=m.a*c,a=!0}}a&&(n[this.propertyName]=s)}}},o}(Go),Zc=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var r=o.prototype;return r.evaluate=function(t){var n=t.output.getUserData();if(n){for(var a=!1,s=0,l=0;l<this.clipPlayables.length;l++){var c=this.getClipWeight(l);if(c>0){var h=this.getClipPlayable(l);if(!k(h,gs)){console.error("FloatPropertyTrack added non-FloatPropertyPlayableAsset");continue}var m=h.value;s+=m*c,a=!0}}a&&(n[this.propertyName]=s)}},o}(Go),Xc=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.evaluate=function(t){},o}(Go),Yc=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.evaluate=function(t){},o}(Go),Hl=function(){function i(){}return i.collectSerializableObject=function(r,e){if(!e[r.getInstanceId()]){r.toData(),e[r.getInstanceId()]=r;var t=$i(r);if(t)for(var n=ke(Object.keys(t)),a;!(a=n()).done;){var s=a.value,l=r.taggedProperties[s];if(l===void 0&&(l=r[s]),wi.is(l))i.collectSerializableObject(l,e);else if(xn(l))for(var c=ke(l),h;!(h=c()).done;){var m=h.value;wi.is(m)&&i.collectSerializableObject(m,e)}else if(ye(l))for(var v=ke(Object.keys(l)),p;!(p=v()).done;){var b=p.value,x=l[b];wi.is(x)&&i.collectSerializableObject(x,e)}}}},i.serializeEffectObject=function(r){var e={},t=r.engine,n=I({},t.jsonSceneData);i.collectSerializableObject(r,e);for(var a=ke(Object.keys(e)),s;!(s=a()).done;){var l=s.value,c=e[l];n[c.getInstanceId()]||(n[c.getInstanceId()]={}),i.serialize(c,n[c.getInstanceId()])}return n},i.serialize=function(r,e){r.toData(),e||(e={});var t=$i(r);if(t)for(var n=ke(Object.keys(t)),a;!(a=n()).done;){var s=a.value,l=r[s];typeof l=="number"||typeof l=="string"||typeof l=="boolean"||i.checkTypedArray(l)?e[s]=l:xn(l)?(e[s]||(e[s]=[]),i.serializeArrayProperty(l,e[s],0)):wi.is(l)?e[s]={id:l.getInstanceId()}:ye(l)&&(e[s]||(e[s]={}),i.serializeObjectProperty(l,e[s],0))}for(var c=ke(Object.keys(r.taggedProperties)),h;!(h=c()).done;){var m=h.value,v=r.taggedProperties[m];typeof v=="number"||typeof v=="string"||typeof v=="boolean"||i.checkTypedArray(v)?e[m]=v:xn(v)?(e[m]||(e[m]=[]),i.serializeArrayProperty(v,e[m],0)):wi.is(v)?e[m]={id:v.getInstanceId()}:ye(v)&&(e[m]||(e[m]={}),i.serializeObjectProperty(v,e[m],0))}return e},i.deserialize=function(r,e){for(var t=e.taggedProperties,n=$i(e),a=e.engine,s=ke(Object.keys(r)),l;!(l=s()).done;){var c=l.value;if(!(n&&n[c])){var h=r[c];t[c]=i.deserializeProperty(h,a,0)}}if(n)for(var m=ke(Object.keys(n)),v;!(v=m()).done;){var p=v.value,b=r[p];if(b!==void 0){var x=n[p].type;e[p]=i.deserializeProperty(b,a,0,x)}}e.fromData(t)},i.deserializeAsync=function(r,e){return M(function(){var t,n,a,s,l,c,h,m,v,p,b,x;return ee(this,function(P){switch(P.label){case 0:t=e.taggedProperties,n=$i(e),a=e.engine,s=ke(Object.keys(r)),P.label=1;case 1:return(l=s()).done?[3,4]:(c=l.value,n&&n[c]?[3,3]:(h=r[c],[4,i.deserializePropertyAsync(h,a,0)]));case 2:t[c]=P.sent(),P.label=3;case 3:return[3,1];case 4:if(!n)return[3,8];m=ke(Object.keys(n)),P.label=5;case 5:return(v=m()).done?[3,8]:(p=v.value,b=r[p],b===void 0?[3,7]:(x=n[p].type,[4,i.deserializePropertyAsync(b,a,0,x)]));case 6:e[p]=P.sent(),P.label=7;case 7:return[3,5];case 8:return e.fromData(t),[2]}})})()},i.checkTypedArray=function(r){return k(r,Int8Array)||k(r,Uint8Array)||k(r,Uint8ClampedArray)||k(r,Int16Array)||k(r,Uint16Array)||k(r,Int32Array)||k(r,Uint32Array)||k(r,Float32Array)||k(r,Float64Array)||k(r,ArrayBuffer)},i.checkDataPath=function(r){return!!(ye(r)&&Object.keys(r).length===1&&"id"in r&&Ln(r.id)&&r.id.length===32)},i.checkGLTFNode=function(r){return ye(r)&&r.nodeIndex!==void 0&&r.isJoint!==void 0},i.checkImageSource=function(r){return Ue(r)||k(r,HTMLImageElement)},i.deserializeProperty=function(r,e,t,n){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}if(xn(r)){for(var a=[],s=ke(r),l;!(l=s()).done;){var c=l.value;a.push(i.deserializeProperty(c,e,t+1,n))}return a}else{if(i.checkDataPath(r))return e.assetLoader.loadGUID(r.id);if(ye(r)&&r.constructor===Object){var h;n?h=new n:h={};for(var m=ke(Object.keys(r)),v;!(v=m()).done;){var p=v.value;h[p]=i.deserializeProperty(r[p],e,t+1)}return h}else return r}},i.deserializePropertyAsync=function(r,e,t,n){return M(function(){var a,s,l,c,h,m,v,p,b,x;return ee(this,function(P){switch(P.label){case 0:if(t>14)return console.error("The nested object layers of the serialized data exceed the maximum limit."),[2];if(!xn(r))return[3,5];a=[],s=ke(r),P.label=1;case 1:return(l=s()).done?[3,4]:(c=l.value,h=a.push,[4,i.deserializePropertyAsync(c,e,t+1,n)]);case 2:h.apply(a,[P.sent()]),P.label=3;case 3:return[3,1];case 4:return[2,a];case 5:return i.checkDataPath(r)?[4,e.assetLoader.loadGUIDAsync(r.id)]:[3,7];case 6:return m=P.sent(),[2,m];case 7:if(!(ye(r)&&r.constructor===Object))return[3,12];n?v=new n:v={},p=ke(Object.keys(r)),P.label=8;case 8:return(b=p()).done?[3,11]:(x=b.value,[4,i.deserializePropertyAsync(r[x],e,t+1)]);case 9:v[x]=P.sent(),P.label=10;case 10:return[3,8];case 11:return[2,v];case 12:return[2,r];case 13:return[2]}})})()},i.serializeObjectProperty=function(r,e,t){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}e||(e={});for(var n=ke(Object.keys(r)),a;!(a=n()).done;){var s=a.value,l=r[s];typeof l=="number"||typeof l=="string"||typeof l=="boolean"||i.checkTypedArray(r)?e[s]=l:xn(l)?(e[s]||(e[s]=[]),i.serializeArrayProperty(l,e[s],t+1)):wi.is(l)?e[s]={id:l.getInstanceId()}:ye(l)&&(e[s]||(e[s]={}),i.serializeObjectProperty(l,e[s],t+1))}},i.serializeArrayProperty=function(r,e,t){if(t>14){console.error("The nested object layers of the serialized data exceed the maximum limit.");return}e||(e=[]);for(var n=0;n<r.length;n++){var a=r[n];typeof a=="number"||typeof a=="string"||typeof a=="boolean"||i.checkTypedArray(r)?e[n]=a:xn(a)?(e[n]||(e[n]=[]),i.serializeArrayProperty(a,e[n],t+1)):wi.is(a)?e[n]={id:a.getInstanceId()}:ye(a)&&(e[n]||(e[n]={}),i.serializeObjectProperty(a,e[n],t+1))}},i}(),is=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.time=0,e.startTime=0,e.items=[],e.reusable=!1,e.sceneBindings=[],e.graph=new mo,e}var r=o.prototype;return r.onStart=function(){this.timelineAsset||(this.timelineAsset=new O(this.engine)),this.resolveBindings(),this.timelinePlayable=this.timelineAsset.createPlayable(this.graph),this.item.endBehavior!==Se.destroy&&this.setReusable(!0)},r.setReusable=function(t){for(var n=ke(this.timelineAsset.tracks),a;!(a=n()).done;){var s=a.value,l=s.boundObject;if(k(l,Pi)){var c=l.getComponent(o);c&&c.setReusable(t)}}},r.getReusable=function(){return this.reusable},r.onUpdate=function(t){var n=this.time;this.timelinePlayable.setTime(n),this.timelinePlayable.evaluate(),this.graph.evaluate(t)},r.createContent=function(){if(this.item.composition)for(var t=ke(this.items),n;!(n=t()).done;){var a=n.value;if(a.composition=this.item.composition,Pi.isComposition(a)){this.item.composition.refContent.push(a);var s=a.props.content,l=s.options.refId,c=this.item.composition.refCompositionProps.get(l);if(!c)throw new Error("Referenced precomposition with Id: "+l+" does not exist.");var h=a.addComponent(o);Hl.deserialize(c,h),h.createContent();for(var m=ke(h.items),v;!(v=m()).done;){var p=v.value;p.setInstanceId(rt());for(var b=ke(p.components),x;!(x=b()).done;){var P=x.value;P.setInstanceId(rt())}}}}},r.onEnable=function(){for(var t=ke(this.items),n;!(n=t()).done;){var a=n.value;a.setActive(!0)}},r.onDisable=function(){for(var t=ke(this.items),n;!(n=t()).done;){var a=n.value;a.setActive(!1)}},r.onDestroy=function(){this.item.composition&&this.items&&(this.items.forEach(function(t){return t.dispose()}),this.items.length=0)},r.hitTest=function(t,n,a,s,l,c){for(var h,m=function(D){var _=h.items[D];if(_.isActive&&_.transform.getValid()&&!Pi.isComposition(_)&&!b(_)){var K=_.getHitTestParams(l);if(K){var U=!1,W=new be;if(K.type===ho.triangle)for(var q=K.triangles,ie=K.backfaceCulling,oe=0;oe<q.length;oe++){var Xe=q[oe];if(t.intersectTriangle(Xe,W,ie)){U=!0,v.push(W);break}}else if(K.type===ho.box){var Je=K.center,ot=K.size,lt=Je.clone().addScaledVector(ot,.5),Et=Je.clone().addScaledVector(ot,-.5);t.intersectBox({min:lt,max:Et},W)&&(U=!0,v.push(W))}else if(K.type===ho.sphere){var Ht=K.center,Gt=K.radius;t.intersectSphere({center:Ht,radius:Gt},W)&&(U=!0,v.push(W))}else if(K.type===ho.custom){var Qt=K.collect(t,new gr(n,a));Qt&&Qt.length>0&&(Qt.forEach(function(Pt){v.push(Pt)}),U=!0)}if(U){var en={compContent:h.item,id:_.id,name:_.name,position:v[v.length-1],parentId:_.parentId,hitPositions:v,behavior:K.behavior};if(_.emit("click",en),s.push(en),p(en))return{v:s}}}}},v=[],p=(c==null?void 0:c.stop)||un,b=(c==null?void 0:c.skip)||un,x=(c==null?void 0:c.maxCount)||this.items.length,P=0;P<this.items.length&&s.length<x;P++){var V=(h=this,m(P));if(me(V)==="object")return V.v}return s},r.setChildrenRenderOrder=function(t){for(var n=ke(this.items),a;!(a=n()).done;){var s=a.value;s.renderOrder=t++;var l=s.getComponent(o);l&&(t=l.setChildrenRenderOrder(t))}return t},r.fromData=function(t){i.prototype.fromData.call(this,t),this.items=t.items;var n;this.startTime=(n=t.startTime)!=null?n:0,this.sceneBindings=t.sceneBindings,this.timelineAsset=t.timelineAsset},r.resolveBindings=function(){for(var t=ke(this.sceneBindings),n;!(n=t()).done;){var a=n.value;a.key.boundObject=a.value}for(var s=ke(this.timelineAsset.tracks),l;!(l=s()).done;){var c=l.value;this.updateTrackAnimatedObject(c)}},r.updateTrackAnimatedObject=function(t){for(var n=ke(t.getChildTracks()),a;!(a=n()).done;){var s=a.value;s.updateAnimatedObject(),this.updateTrackAnimatedObject(s)}},o}(ga),Ru=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.processFrame=function(t){var n=t.output.getUserData();k(n,is)&&(n.time=this.getTime())},o}(So),Kc=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.evaluate=function(t){var n=t.output.getUserData();if(k(n,is)){for(var a=n,s=!1,l=0;l<this.clipPlayables.length;l++)if(this.getClipWeight(l)>0){s=!0;break}s?a.item.setActive(!0):a.item.setActive(!1)}},o}(Go),Sh=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.evaluate=function(t){},o}(Go),wh=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyName="",e}var r=o.prototype;return r.evaluate=function(t){var n=t.output.getUserData();if(n){var a=!1,s=n[this.propertyName];if(k(s,Bn)){s.setZero();for(var l=0;l<this.clipPlayables.length;l++){var c=this.getClipWeight(l);if(c>0){var h=this.getClipPlayable(l);if(!k(h,gs)){console.error("Vector4PropertyTrack added non-Vector4PropertyPlayableAsset");continue}var m=h.value;s.x+=m.x*c,s.y+=m.y*c,s.z+=m.z*c,s.w+=m.w*c,a=!0}}a&&(n[this.propertyName]=s)}}},o}(Go),Qc=function(){function i(){this.start=0,this.duration=0}var o=i.prototype;return o.toLocalTime=function(e){var t=e-this.start,n=this.duration;return t-n>0&&(this.endBehavior===Se.restart?t=t%n:this.endBehavior===Se.freeze&&(t=Math.min(n,t))),t},i}(),po=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.trackType=0,e.clipSeed=0,e.clips=[],e.children=[],e}var r=o.prototype;return r.updateAnimatedObject=function(){this.parent&&(this.boundObject=this.parent.boundObject)},r.createTrackMixer=function(t){return new Go(t)},r.createOutput=function(){var t=new fc;return t},r.createPlayableGraph=function(t,n){var a=this.createMixerPlayableGraph(t,n);return a},r.createMixerPlayableGraph=function(t,n){for(var a=[],s=ke(this.clips),l;!(l=s()).done;){var c=l.value;a.push(c)}var h=this.compileClips(t,a,n);return h},r.compileClips=function(t,n,a){for(var s=this.createTrackMixer(t),l=ke(n),c;!(c=l()).done;){var h=c.value,m=this.createClipPlayable(t,h);m.setDuration(h.duration);var v=new qc(h,m,s,this);a.push(v),s.clipPlayables.push(m),s.setClipWeight(m,0)}return s},r.createPlayable=function(t){return new So(t)},r.getChildTracks=function(){return this.children},r.addChild=function(t){this.children.push(t),t.parent=this},r.createClip=function(t,n){var a=new Qc;return a.asset=new t(this.engine),a.name=n||"TimelineClip"+a.id,this.addClip(a),a},r.getClips=function(){return this.clips},r.findClip=function(t){for(var n=ke(this.clips),a;!(a=n()).done;){var s=a.value;if(s.name===t)return s}},r.addClip=function(t){t.id=(this.clipSeed++).toString(),this.clips.push(t)},r.createClipPlayable=function(t,n){return n.asset.createPlayable(t)},r.fromData=function(t){i.prototype.fromData.call(this,t);for(var n=ke(this.children),a;!(a=n()).done;){var s=a.value;s.parent=this}},o}(Vo);ne([wn(Qc)],po.prototype,"clips",void 0),ne([wn()],po.prototype,"children",void 0),po=ne([Mn(St.TrackAsset)],po);var Jc;(function(i){i[i.MasterTrack=0]="MasterTrack",i[i.ObjectTrack=1]="ObjectTrack"})(Jc||(Jc={}));var qc=function(){function i(r,e,t,n){this.clip=r,this.playable=e,this.parentMixer=t,this.track=n,k(this.track.boundObject,Pi)&&(this.particleSystem=this.track.boundObject.getComponent(ks))}var o=i.prototype;return o.evaluateAt=function(e){var t=this.clip,n=1,a=!1,s=!1,l=this.track.boundObject;e>=t.start+t.duration&&t.endBehavior===Se.destroy?k(l,Pi)&&Pi.isParticle(l)&&this.particleSystem&&!this.particleSystem.destroyed?n=1:(n=0,a=!0):e-this.clip.start>=0?(n=1,s=!0):e<t.start&&(n=0),s&&this.playable.getPlayState()!==fl.Playing&&this.playable.play(),this.parentMixer.setClipWeight(this.playable,n);var c=parseFloat(t.toLocalTime(e).toFixed(3));this.playable.setTime(c),a&&this.playable.getPlayState()===fl.Playing&&this.playable.pause()},yn(i,[{key:"enable",set:function(e){e?this.playable.play():(this.parentMixer.setClipWeight(this.playable,0),this.playable.pause())}}]),i}(),ef=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){return new Gc(t)},o}(po);ef=ne([Mn(St.ActivationTrack)],ef);var vl=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.propertyNames=[],e.path="",e}var r=o.prototype;return r.updateAnimatedObject=function(){for(var t=this.propertyNames,n=this.parent.boundObject,a=0;a<t.length-1;a++){var s=n[t[a]];s===void 0&&console.error("The "+t[a]+" property of "+n+" was not found"),n=s}this.boundObject=n},r.fromData=function(t){i.prototype.fromData.call(this,t);var n=this.path.split(".");this.propertyNames=n},o}(po);ne([wn()],vl.prototype,"path",void 0);var tf=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){var n=new Zc(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];n.propertyName=s}return n},r.updateAnimatedObject=function(){for(var t=this.propertyNames,n=this.parent.boundObject,a=0;a<t.length-1;a++){var s=n[t[a]];s===void 0&&console.error("The "+t[a]+" property of "+n+" was not found"),n=s}this.boundObject=n},o}(vl);tf=ne([Mn(St.FloatPropertyTrack)],tf);var nf=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){return new Yc(t)},o}(po);nf=ne([Mn(St.SpriteColorTrack)],nf);var rf=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.updateAnimatedObject=function(){if(!this.parent||!k(this.parent.boundObject,Pi))throw new Error("SubCompositionTrack needs to be set under the VFXItem track.");this.boundObject=this.parent.boundObject.getComponent(is)},r.createTrackMixer=function(t){return new Kc(t)},o}(po);rf=ne([Mn(St.SubCompositionTrack)],rf);var af=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){return new Sh(t)},o}(po);af=ne([Mn(St.TransformTrack)],af);var _u=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.updateAnimatedObject=function(){k(this.parent.boundObject,Ji)&&(this.parent.boundObject,this.boundObject=this.parent.boundObject.materials[this.index])},o}(po);ne([wn()],_u.prototype,"index",void 0),_u=ne([Mn("MaterialTrack")],_u);var Oh=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){return new Xc(t)},o}(po),u=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){var n=new wh(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];n.propertyName=s}return n},o}(vl);u=ne([Mn(St.Vector4PropertyTrack)],u);var f=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createTrackMixer=function(t){var n=new Wc(t),a=this.propertyNames;if(a.length>0){var s=a[a.length-1];n.propertyName=s}return n},o}(vl);f=ne([Mn(St.ColorPropertyTrack)],f);var d=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){var n=new gs(t);return n.curve=hn(this.curveData),n.value=n.curve.getValue(0),n},o}(Vo);ne([wn()],d.prototype,"curveData",void 0),d=ne([Mn(St.ColorPropertyPlayableAsset)],d);var g=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){var n=new gs(t);return n.curve=hn(this.curveData),n.value=n.curve.getValue(0),n},o}(Vo);ne([wn()],g.prototype,"curveData",void 0),g=ne([Mn(St.FloatPropertyPlayableAsset)],g);var C=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){return new Ru(t)},o}(Vo);C=ne([Mn(St.SubCompositionPlayableAsset)],C);var A=function(){function i(r,e,t){this.children=[],this.trackAsset=r,this.mixer=e,this.output=t}var o=i.prototype;return o.addChild=function(e){this.children.push(e)},i}(),O=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.tracks=[],e.cacheFlattenedTracks=null,e}var r=o.prototype;return r.createPlayable=function(t){for(var n=new L(t),a=ke(this.tracks),s;!(s=a()).done;){var l=s.value;k(l,ce)&&l.create(this)}return this.sortTracks(this.tracks),n.compileTracks(t,this.flattenedTracks),n},r.createTrack=function(t,n,a){var s=new t(this.engine);return s.name=a||t.name,n.addChild(s),this.invalidate(),s},r.invalidate=function(){this.cacheFlattenedTracks=null},r.addSubTracksRecursive=function(t,n){for(var a=ke(t.getChildTracks()),s;!(s=a()).done;){var l=s.value;n.push(l)}for(var c=ke(t.getChildTracks()),h;!(h=c()).done;){var m=h.value;this.addSubTracksRecursive(m,n)}},r.sortTracks=function(t){for(var n=[],a=0;a<t.length;a++)n.push(new N(t[a],a));n.sort(G),t.length=0;for(var s=ke(n),l;!(l=s()).done;){var c=l.value;t.push(c.track)}},r.fromData=function(t){},yn(o,[{key:"flattenedTracks",get:function(){if(!this.cacheFlattenedTracks){this.cacheFlattenedTracks=[];for(var t=ke(this.tracks),n;!(n=t()).done;){var a=n.value;this.cacheFlattenedTracks.push(a),this.addSubTracksRecursive(a,this.cacheFlattenedTracks)}}return this.cacheFlattenedTracks}}]),o}(Vo);ne([wn()],O.prototype,"tracks",void 0),O=ne([Mn(St.TimelineAsset)],O);var L=function(i){Ee(o,i);function o(){var e;return e=i.apply(this,arguments)||this,e.clips=[],e.masterTrackInstances=[],e}var r=o.prototype;return r.prepareFrame=function(t){},r.evaluate=function(){for(var t=this.getTime(),n=ke(this.clips),a;!(a=n()).done;){var s=a.value;s.evaluateAt(t)}},r.compileTracks=function(t,n){for(var a=n,s={},l=ke(a),c;!(c=l()).done;){var h=c.value,m=h.createPlayableGraph(t,this.clips),v=h.createOutput();v.setUserData(h.boundObject),t.addOutput(v),v.setSourcePlayable(m);var p=new A(h,m,v);s[h.getInstanceId()]=p,h.parent||this.masterTrackInstances.push(p)}for(var b=ke(a),x;!(x=b()).done;)for(var P=x.value,V=s[P.getInstanceId()],D=ke(P.getChildTracks()),_;!(_=D()).done;){var K=_.value,U=s[K.getInstanceId()];V.addChild(U)}},o}(So),N=function(o,r){this.track=o,this.originalIndex=r};function G(i,o){var r=i.track.boundObject,e=o.track.boundObject;return!k(r,Pi)||!k(e,Pi)?i.originalIndex-o.originalIndex:Pi.isAncestor(r,e)?-1:Pi.isAncestor(e,r)?1:i.originalIndex-o.originalIndex}var Q=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.createPlayable=function(t){var n=new gs(t);return n.curve=hn(this.curveData),n.value=n.curve.getValue(0),n},o}(Vo);ne([wn()],Q.prototype,"curveData",void 0),Q=ne([Mn("Vector4PropertyPlayableAsset")],Q);var ce=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.updateAnimatedObject=function(){},r.create=function(t){if(k(this.boundObject,Pi)){var n=this.boundObject;if(n.getComponent(ks)){var a=t.createTrack(Oh,this,"ParticleTrack");a.boundObject=this.boundObject;var s=a.createClip(jl);s.start=n.start,s.duration=n.duration,s.endBehavior=n.endBehavior}}},o}(po);ce=ne([Mn(St.ObjectBindingTrack)],ce);function Oe(i,o){return o&&(me(o)==="object"||typeof o=="function")?o:We(i)}var at=function(){function i(r){this.width=0,this.height=0;var e=r.textHeight,t=e===void 0?100:e,n=r.textWidth,a=n===void 0?100:n,s=r.textOverflow,l=s===void 0?an.clip:s,c=r.textBaseline,h=c===void 0?_n.top:c,m=r.textAlign,v=m===void 0?Ut.left:m,p=r.text,b=p===void 0?" ":p,x=r.letterSpace,P=x===void 0?0:x,V=r.autoWidth,D=V===void 0?!1:V,_=r.fontSize,K=r.lineHeight,U=K===void 0?_:K,W=_+P;this.autoWidth=D,this.maxTextWidth=b.length*W,this.width=a,this.height=t,this.letterSpace=P,this.overflow=l,this.textBaseline=h,this.textAlign=v,this.lineHeight=U}var o=i.prototype;return o.getOffsetY=function(e,t,n,a){var s=e.outlineWidth,l=e.fontScale,c=(n-a)/3,h=a+s*l,m=n*(t-1),v=0;switch(this.textBaseline){case _n.top:v=h+c;break;case _n.middle:v=(this.height*l-m+h)/2;break;case _n.bottom:v=this.height*l-m-c;break}return v},o.getOffsetX=function(e,t){var n=0;switch(this.textAlign){case Ut.left:n=e.outlineWidth*e.fontScale;break;case Ut.middle:n=(this.width*e.fontScale-t)/2;break;case Ut.right:n=this.width*e.fontScale-t;break}return n},o.setSize=function(e,t){this.width=e,this.height=t},i}(),bt=function(o){this.isUnderline=!1,this.underlineHeight=1,this.isOutlined=!1,this.outlineWidth=0,this.hasShadow=!1,this.fontDesc="",this.fontScale=2,this.fontOffset=0;var r=o.textColor,e=r===void 0?[1,1,1,1]:r,t=o.fontSize,n=t===void 0?40:t,a=o.outline,s=o.shadow,l=o.fontWeight,c=l===void 0?"normal":l,h=o.fontStyle,m=h===void 0?"normal":h,v=o.fontFamily,p=v===void 0?"sans-serif":v;if(this.textColor=e,this.textWeight=c,this.fontStyle=m,this.fontFamily=p,this.fontSize=n,a){this.isOutlined=!0;var b;this.outlineColor=(b=a.outlineColor)!=null?b:[1,1,1,1];var x;this.outlineWidth=(x=a.outlineWidth)!=null?x:1,this.fontOffset+=this.outlineWidth}if(s){this.hasShadow=!0;var P;this.shadowBlur=(P=s.shadowBlur)!=null?P:2;var V;this.shadowColor=(V=s.shadowColor)!=null?V:[0,0,0,1];var D;this.shadowOffsetX=(D=s.shadowOffsetX)!=null?D:0;var _;this.shadowOffsetY=(_=s.shadowOffsetY)!=null?_:0}this.fontStyle!==Zt.normal&&(this.fontOffset+=this.fontSize*Math.tan(12*.0174532925))},Lt=function(){function i(){this.elements=[]}var o=i.prototype;return o.dispose=function(){this.elements.forEach(function(e){return e.remove()}),this.elements.length=0},o.getCanvas=function(){if(this.elements.length!==0){var e=this.elements.shift();return xt(e),e}if(xu(yu))return window._createOffscreenCanvas(10,10);var t=document.createElement("canvas");return t.getContext("2d",{willReadFrequently:!0}),t},o.saveCanvas=function(e){e.width=1,e.height=1,this.elements.length<3?nt(this.elements,e):e.remove()},i}(),cn=new Lt,ln=["serif","sans-serif","monospace","courier"],fr=0,rr=function(i){Ee(o,i);function o(e,t){var n;if(n=i.call(this,e)||this,n.isDirty=!0,n.lineCount=0,n.SCALE_FACTOR=.1,n.ALPHA_FIX_VALUE=1/255,n.name="MText"+fr++,n.geometry=n.createGeometry(F.TRIANGLES),t&&n.fromData(t),n.canvas=cn.getCanvas(),cn.saveCanvas(n.canvas),n.context=n.canvas.getContext("2d",{willReadFrequently:!0}),n.setItem(),!t)return Oe(n);var a=t.options;return n.updateWithOptions(a),n.updateTexture(),n}var r=o.prototype;return r.onUpdate=function(t){i.prototype.onUpdate.call(this,t),this.updateTexture()},r.fromData=function(t){i.prototype.fromData.call(this,t);var n=t.interaction,a=t.options,s=t.listIndex,l=s===void 0?0:s,c=t.renderer;c||(c={}),this.interaction=n;var h,m,v,p,b,x;this.renderer={renderMode:(h=c.renderMode)!=null?h:pn.MESH,blending:(m=c.blending)!=null?m:Wt.ALPHA,texture:(v=c.texture)!=null?v:this.engine.emptyTexture,occlusion:!!c.occlusion,transparentOcclusion:!!c.transparentOcclusion||c.maskMode===kt.MASK,side:(p=c.side)!=null?p:Sn.DOUBLE,mask:(b=c.mask)!=null?b:0,maskMode:(x=c.maskMode)!=null?x:kt.NONE,order:l},this.interaction=n,this.cachePrefix="-",this.renderInfo=ru(this);var P=this.createMaterial(this.renderInfo,2);this.worldMatrix=Tn.fromIdentity(),this.material=P,this.material.setVector4("_TexOffset",new Bn().setFromArray([0,0,1,1])),this.updateWithOptions(a),this.updateTexture(),this.setItem(),this.material.setVector4("_Color",new Bn(1,1,1,1))},r.updateWithOptions=function(t){},r.updateTexture=function(t){},o}(Pl);rr=ne([Mn(St.TextComponent)],rr);var Ti=function(){function i(){}var o=i.prototype;return o.updateWithOptions=function(e){this.textStyle=new bt(e),this.textLayout=new at(e),this.text=e.text.toString(),this.lineCount=this.getLineCount(e.text,!0)},o.getLineCount=function(e,t){for(var n=this.context,a=this.textLayout.letterSpace,s=t?this.textStyle.fontSize/10:1/this.textStyle.fontScale,l=this.textLayout.width+this.textStyle.fontOffset,c=1,h=0,m=0;m<e.length;m++){var v,p=e[m],b,x=((b=n==null||(v=n.measureText(p))==null?void 0:v.width)!=null?b:0)*s;h+=a,(h+x>l&&m>0||p===`
`)&&(c++,h=0),p!==`
`&&(h+=x)}return c},o.setFontSize=function(e){if(this.textStyle.fontSize!==e){var t=this.textStyle.fontSize-e;this.textLayout.lineHeight+=t,this.textStyle.fontSize=e,this.isDirty=!0}},o.setFontWeight=function(e){this.textStyle.textWeight!==e&&(this.textStyle.textWeight=e,this.isDirty=!0)},o.setFontStyle=function(e){this.textStyle.fontStyle!==e&&(this.textStyle.fontStyle=e,this.isDirty=!0)},o.setText=function(e){this.text!==e&&(this.text=e.toString(),this.lineCount=this.getLineCount(e,!1),this.isDirty=!0)},o.setTextAlign=function(e){this.textLayout.textAlign!==e&&(this.textLayout.textAlign=e,this.isDirty=!0)},o.setTextBaseline=function(e){this.textLayout.textBaseline!==e&&(this.textLayout.textBaseline=e,this.isDirty=!0)},o.setTextColor=function(e){this.textStyle.textColor!==e&&(this.textStyle.textColor=e,this.isDirty=!0)},o.setFontFamily=function(e){if(this.textStyle.fontFamily===e&&!Ae(e)){console.warn("The font is either the current font or an risky font family.");return}this.textStyle.fontFamily=e,this.isDirty=!0},o.setOutlineColor=function(e){this.textStyle.outlineColor!==e&&(this.textStyle.outlineColor=e,this.isDirty=!0)},o.setOutlineWidth=function(e){this.textStyle.outlineWidth!==e&&(this.textStyle.outlineWidth=e,this.isDirty=!0)},o.setShadowBlur=function(e){this.textStyle.shadowBlur!==e&&(this.textStyle.shadowBlur=e,this.isDirty=!0)},o.setShadowColor=function(e){this.textStyle.shadowColor!==e&&(this.textStyle.shadowColor=e,this.isDirty=!0)},o.setShadowOffsetX=function(e){this.textStyle.shadowOffsetX!==e&&(this.textStyle.shadowOffsetX=e,this.isDirty=!0)},o.setShadowOffsetY=function(e){this.textStyle.shadowOffsetY!==e&&(this.textStyle.shadowOffsetY=e,this.isDirty=!0)},o.setFontScale=function(e){this.textStyle.fontScale!==e&&(this.textStyle.fontScale=e,this.isDirty=!0)},o.setAutoWidth=function(e){this.textLayout.autoWidth!==e&&(this.textLayout.autoWidth=e,this.isDirty=!0)},o.updateTexture=function(e){if(e===void 0&&(e=!0),!(!this.isDirty||!this.context||!this.canvas)){var t=this.context,n=this.textStyle,a=this.textLayout,s=n.fontScale,l=(a.width+n.fontOffset)*s,c=a.lineHeight*this.lineCount,h=n.fontSize*s,m=a.lineHeight*s;this.char=(this.text||"").split(""),this.canvas.width=l,a.autoWidth?(this.canvas.height=c*s,this.item.transform.size.set(1,c/a.height)):this.canvas.height=a.height*s;var v=this.canvas.height;t.clearRect(0,0,l,v),t.fillStyle="rgba(255, 255, 255, 0.0039)",e||(t.translate(0,v),t.scale(1,-1)),t.fillRect(0,0,l,v),n.fontDesc=this.getFontDesc(),t.font=n.fontDesc,n.hasShadow&&this.setupShadow(),n.isOutlined&&this.setupOutline(),t.fillStyle="rgba("+n.textColor[0]+", "+n.textColor[1]+", "+n.textColor[2]+", "+n.textColor[3]+")";for(var p=[],b=0,x=a.getOffsetY(n,this.lineCount,m,h),P=[],V=[],D=0;D<this.char.length;D++){var _=this.char[D],K=t.measureText(_);b+=a.letterSpace*s,(b+K.width>l&&D>0||_===`
`)&&(p.push({y:x,width:b,chars:P,charOffsetX:V}),b=0,x+=m,P=[],V=[]),_!==`
`&&(P.push(_),V.push(b),b+=K.width)}p.push({y:x,width:b,chars:P,charOffsetX:V}),p.forEach(function(q){var ie=a.getOffsetX(n,q.width);q.chars.forEach(function(oe,Xe){n.isOutlined&&t.strokeText(oe,ie+q.charOffsetX[Xe],q.y),t.fillText(oe,ie+q.charOffsetX[Xe],q.y)})}),n.hasShadow&&(t.shadowColor="transparent");var U=t.getImageData(0,0,this.canvas.width,this.canvas.height),W=Zn.createWithData(this.engine,{data:new Uint8Array(U.data),width:U.width,height:U.height},{flipY:e,magFilter:F.LINEAR,minFilter:F.LINEAR,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE});this.renderer.texture=W,this.material.setTexture("_MainTex",W),this.isDirty=!1}},o.getFontDesc=function(){var e=this.textStyle,t=e.fontSize,n=e.fontScale,a=e.fontFamily,s=e.textWeight,l=e.fontStyle,c=""+(t*n).toString()+"px ";return ln.includes(a)?c+=a:c+='"'+a+'"',s!==qt.normal&&(c=s+" "+c),l!==Zt.normal&&(c=l+" "+c),c},o.setupOutline=function(){var e=this.context,t=this.textStyle,n=t.outlineColor,a=t.outlineWidth,s=n[0],l=n[1],c=n[2],h=n[3];e&&(e.strokeStyle="rgba("+s*255+", "+l*255+", "+c*255+", "+h+")",e.lineWidth=a*2)},o.setupShadow=function(){var e=this.context,t=this.textStyle,n=t.outlineColor,a=t.shadowBlur,s=t.shadowOffsetX,l=t.shadowOffsetY,c=n[0],h=n[1],m=n[2],v=n[3];e&&(e.shadowColor="rgba("+c*255+", "+h*255+", "+m*255+", "+v+")",e.shadowBlur=a,e.shadowOffsetX=s,e.shadowOffsetY=-l)},i}();le(rr,[Ti]);var vr=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o}(On),Wi=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}return o}(wi),Oa=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.fromData=function(t){},o}(wi);ne([wn()],Oa.prototype,"buffer",void 0),Oa=ne([Mn(St.BinaryAsset)],Oa);var ei=function(){function i(r){this.engine=r}var o=i.prototype;return o.loadGUID=function(e){if(this.engine.objectInstance[e])return this.engine.objectInstance[e];var t=this.findData(e),n;if(!t){console.error("Object data with uuid: "+e+" not found.");return}switch(t.dataType){case St.Material:n=Bi.create(this.engine);break;case St.Geometry:n=Sr.create(this.engine);break;case St.Texture:n=Zn.create(this.engine);break;default:{var a=i.getClass(t.dataType);a&&(n=new a(this.engine))}}if(!n){console.error("Constructor for DataType: "+t.dataType+" not found.");return}return n.setInstanceId(t.id),this.engine.addInstance(n),Hl.deserialize(t,n),n},o.loadGUIDAsync=function(e){var t=this;return M(function(){var n,a,s;return ee(this,function(l){switch(l.label){case 0:return t.engine.objectInstance[e]?[2,t.engine.objectInstance[e]]:(n=t.findData(e),n?[3,2]:t.engine.database?[4,t.engine.database.loadGUID(e)]:(console.error("Object data with uuid: "+e+" not found."),[2,void 0]));case 1:return a=l.sent(),a?(t.engine.addInstance(a),[2,a]):(console.error("Disk data with uuid: "+e+" not found."),[2,void 0]);case 2:switch(n.dataType){case St.Material:a=Bi.create(t.engine);break;case St.Geometry:a=Sr.create(t.engine);break;case St.Texture:a=Zn.create(t.engine);break;default:s=i.getClass(n.dataType),s&&(a=new s(t.engine))}return a?(a.setInstanceId(n.id),t.engine.addInstance(a),[4,Hl.deserializeAsync(n,a)]):(console.error("Constructor for DataType: "+n.dataType+" not found."),[2,void 0]);case 3:return l.sent(),[2,a]}})})()},o.findData=function(e){return this.engine.jsonSceneData[e]},i.getClass=function(e){return ti[e]},i}(),no=null;function ro(i,o){if(!i.includes(o))return i.push(o),!0}function Xr(i){if(Number.isFinite(i))return[dt.CONSTANT,i];if(i){var o=i[0],r=i[1];if(Array.isArray(o))return;if(o==="static"||o===dt.CONSTANT)return[dt.CONSTANT,i[1]];if(o==="lines")return[dt.LINE,i[1]];if(o===dt.LINE){var e=r.map(function(t){return[Un.LINE,t]});return[dt.BEZIER_CURVE,e]}return o==="curve"||o===dt.CURVE?[dt.BEZIER_CURVE,Jh(r)]:i}}function Lu(i,o){return Array.isArray(i)&&i[0]==="random"?[dt.CONSTANT,i[1][o]]:Xr(i)}function of(i){return i&&i[0]==="color"?_a(i[1],!0):[1,1,1,1]}function sf(i,o){if(i)return i[0]==="colors"?[dt.COLORS,i[1].map(function(r){return _a(r,o)})]:i[0]==="gradient"?lf(i[1],o):i[0]==="color"?[dt.RGBA_COLOR,_a(i[1],o)]:i}function Xi(i){return i&&i[0]==="random"?[dt.RANDOM,i[1]]:Xr(i)}function lf(i,o){if(i){var r=[];return Object.getOwnPropertyNames(i).forEach(function(e){var t=Fu(e),n=_a(i[e],o);r.push([t,n[0],n[1],n[2],n[3]])}),r=r.sort(function(e,t){return e[0]-t[0]}),[dt.GRADIENT_COLOR,r]}}function _a(i,o){var r;if(typeof i=="string"){i=i.replace(/[\s\t\r\n]/g,"");var e=/rgba?\(([.\d]+),([.\d]+),([.\d]+),?([.\d]+)?\)/.exec(i);if(e){var t=+e[4];r=[+e[1],+e[2],+e[3],isNaN(t)?255:Math.round(t*255)]}else/^#[a-f\d]{3}$/i.test(i)?r=[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),255]:(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))&&(r=[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255])}else k(i,Array)&&(r=[i[0],i[1],i[2],isNaN(i[3])?255:Math.round(i[3]*255)]);return o&&(r=Wo(r)),r}function Wo(i){if(Array.isArray(i))return i.map(function(o){return Number.isFinite(o/255)?Number((o/255).toFixed(6)):0})}function Fu(i){var o=/^(-)?([\d+.]+)%$/.exec(i);return o?+o[2]/100*(o[1]?-1:1):+i}function $s(i,o){return Array.isArray(i)?i[0]===dt.GRADIENT_COLOR?i:(i[0]==="gradient"||i[0]==="color")&&lf(i[1],o):lf(i,o)}function uf(i){if(i){if(i.length===3)return[dt.CONSTANT_VEC3,i];var o=i[0];if(o==="path"||o==="bezier"||o===dt.BEZIER_PATH||o===dt.LINEAR_PATH){var r=i[1],e=r[0],t=r[1],n=r[2],a=Jh(e);if(!n){n=[];for(var s=0;s<t.length;s++){var l=t[s].slice();s===0||s<t.length-1&&n.push(l),n.push(l)}}return[dt.BEZIER_CURVE_PATH,[a,t,n]]}return i}}function Kh(i){for(var o=ke(Object.keys(i)),r;!(r=o()).done;){var e=r.value;i[e]=Number(i[e])}return i}function Du(i){for(var o=ke(Object.keys(i)),r;!(r=o()).done;){var e=r.value;i[e]===void 0&&delete i[e]}return i}var Mh=Math.cos,Ah=Math.sin,Gl=Math.PI/180,cf=180/Math.PI;function $d(i,o,r,e){var t=Mh(o*Gl/2),n=Mh(r*Gl/2),a=Mh(e*Gl/2),s=Ah(o*Gl/2),l=Ah(r*Gl/2),c=Ah(e*Gl/2);return i[0]=s*n*a+t*l*c,i[1]=t*l*a-s*n*c,i[2]=t*n*c+s*l*a,i[3]=t*n*a-s*l*c,i}function jd(i,o,r){return i>r?r:i<o?o:i}function Hd(i,o){var r=o[0],e=o[1],t=o[2],n=o[3],a=r+r,s=e+e,l=t+t,c=r*a,h=e*a,m=e*s,v=t*a,p=t*s,b=t*l,x=n*a,P=n*s,V=n*l,D=1-m-b,_=h-V,K=h+V,U=1-c-b,W=v-P,q=p+x,ie=1-c-m;return i[1]=Math.asin(jd(-W,-1,1))*cf,Math.abs(W)<.9999999?(i[0]=Math.atan2(q,ie)*cf,i[2]=Math.atan2(K,D)*cf):(i[0]=0,i[2]=Math.atan2(-_,U)*cf),i}function Qh(i,o){return i?[i[0]-.5,.5-i[1]]:o?Gd[o]:[0,0]}var Zo,Gd=(Zo={},Zo[Cn.PARTICLE_ORIGIN_CENTER]=[0,0],Zo[Cn.PARTICLE_ORIGIN_CENTER_BOTTOM]=[0,-.5],Zo[Cn.PARTICLE_ORIGIN_CENTER_TOP]=[0,.5],Zo[Cn.PARTICLE_ORIGIN_LEFT_TOP]=[-.5,.5],Zo[Cn.PARTICLE_ORIGIN_LEFT_CENTER]=[-.5,0],Zo[Cn.PARTICLE_ORIGIN_LEFT_BOTTOM]=[-.5,-.5],Zo[Cn.PARTICLE_ORIGIN_RIGHT_CENTER]=[.5,0],Zo[Cn.PARTICLE_ORIGIN_RIGHT_BOTTOM]=[.5,-.5],Zo[Cn.PARTICLE_ORIGIN_RIGHT_TOP]=[.5,.5],Zo);function Wd(i,o,r,e){var t=r[0],n=r[1],a=e[0],s=e[1],l=a-t;i=i*l,o=o*l;var c=[[t+(a-t)/3,n+i/3],[a-(a-t)/3,s-o/3]];return c}function Jh(i){for(var o=-1e6,r=1e6,e=0;e<i.length;e++)o=Math.max(o,i[e][1]),r=Math.min(r,i[e][1]);for(var t=[[i[0][0],i[0][1]]],n=0;n<i.length-1;n++){var a=i[n][3]*(o-r),s=i[n+1][2]*(o-r),l=[i[n][0],i[n][1]],c=[i[n+1][0],i[n+1][1]];if(l[0]!=c[0]){var h=Wd(a,s,l,c),m=h[0],v=h[1];t[t.length-1].push(m[0]),t[t.length-1].push(m[1]),t.push([v[0],v[1],c[0],c[1]])}else t[t.length-1].push(c[0]),t[t.length-1].push(c[1])}return t.map(function(p,b){return b===0?[Un.EASE_OUT,p]:b===t.length-1?[Un.EASE_IN,p]:[Un.EASE,p]})}function Zd(i){var o,r=i.options,e={options:{fov:r.fov,far:r.far,near:r.near,clipMode:r.clipMode}},t=i.velocityOverLifetime;if(t||(o=i.transform)!=null&&o.path){var n,a={path:uf((n=i.transform)==null?void 0:n.path),linearX:Xr(t==null?void 0:t.translateX),linearY:Xr(t==null?void 0:t.translateY),linearZ:Xr(t==null?void 0:t.translateZ)};Du(a),e.positionOverLifetime=a}var s=i.rotationOverLifetime;if(s){var l={separateAxes:s.separateAxes,x:Xr(s==null?void 0:s.rotateX),y:Xr(s==null?void 0:s.rotateY),z:s.separateAxes?Xr(s==null?void 0:s.rotateZ):Xr(s.rotation)};Du(l),e.rotationOverLifetime=l}return e}function Xd(i){var o=i.options,r;switch(o.type){case"click":{r={type:jn.CLICK,showPreview:o.showPreview,previewColor:o.previewColor&&of(o.previewColor),behavior:o.behavior||yr.NOTIFY};break}case"drag":{r={type:jn.DRAG,enableInEditor:!!o.enableInEditor,dxRange:o.dxRange,dyRange:o.dyRange,target:o.target};break}case"message":{r={type:jn.MESSAGE};break}}var e={options:r};return e}function qh(i){return i.compositions.forEach(function(o){o.items.forEach(function(r){r.type===Ve.null&&r.endBehavior===Se.destroy&&(r.endBehavior=Se.freeze)})}),i.version="2.1",i}function Yd(i){var o,r=(o=i.version)==null?void 0:o.split(".");return!r||Number(r[0])>2||Number(r[0])===2&&Number(r[1])>=2||i.compositions.forEach(function(e){e.items.forEach(function(t){(t.type===Ve.mesh||t.type===Ve.light)&&(t.endBehavior=t.endBehavior===1?Se.destroy:t.endBehavior)})}),i}function Kd(i){var o;return(o=i.plugins)==null||o.forEach(function(r,e){r==="richtext"&&(i.plugins[e]="rich-text")}),i}function ed(i){for(var o=function(){var dn=v.value;(dn.endBehavior===Yr||dn.endBehavior===Br)&&(dn.endBehavior=Se.freeze),dn.items=dn.items.filter(function(qn){return qn.type!=="8"}),dn.items.forEach(function(qn){if(qn.type===Ve.particle){var sa=qn.content.filter;sa&&delete qn.content.filter}});for(var In=ke(dn.items),Yn;!(Yn=In()).done;){var Kn=Yn.value;c[Kn.id]=rt(),Kn.oldId=Kn.id,Kn.id=c[Kn.id],h[Kn.id]=Kn}dn.items.forEach(function(qn,sa){if(qn.parentId)if(qn.parentId.includes("^")){var La=qn.parentId.split("^")[0],ha=qn.parentId.split("^")[1];qn.parentId=c[La]+"^"+ha}else qn.parentId=c[qn.parentId];e.items.push(qn),dn.items[sa]={id:qn.id}});var ni=I({},dn,{timelineAsset:{id:""},sceneBindings:[]});e.compositions.push(ni),Jd(ni,h,e)},r,e=I({},i,{items:[],compositions:[],components:[],materials:[],shaders:[],geometries:[],animations:[],miscs:[]}),t=ke(e.images),n;!(n=t()).done;){var a=n.value;a.id=rt()}var s;if((s=(r=e).textures)!=null||(r.textures=[]),e.textures.forEach(function(dn){var In;dn.id=rt(),dn.dataType=St.Texture,dn.source={id:(In=e.images[dn.source])==null?void 0:In.id}}),e.textures.length<e.images.length)for(var l=e.textures.length;l<e.images.length;l++)e.textures.push({id:rt(),dataType:St.Texture,source:{id:e.images[l].id},flipY:!0});i.bins&&qd(i.bins,e);for(var c={},h={},m=ke(i.compositions),v;!(v=m()).done;)o();for(var p=ke(e.items),b;!(b=p()).done;){var x=b.value;if(x.content){if(x.content.renderer&&x.content.renderer.texture!==void 0){var P=x.content.renderer.texture;x.content.renderer.texture={id:e.textures[P].id}}if(x.content.trails&&x.content.trails.texture!==void 0){var V=x.content.trails.texture;x.content.trails.texture={id:e.textures[V].id}}}if(x.transform){var D,_=[].concat((D=x.transform.position)!=null?D:[0,0,0]),K,U=[].concat((K=x.transform.rotation)!=null?K:[0,0,0]),W,q=[].concat((W=x.transform.scale)!=null?W:[1,1,1]);if(Object.assign(x,{transform:{position:{x:_[0],y:_[1],z:_[2]},eulerHint:{x:U[0],y:U[1],z:U[2]},scale:{x:q[0],y:q[1],z:q[0]}}}),x.type===Ve.sprite&&(x.transform.size={x:q[0],y:q[1]},x.transform.scale={x:1,y:1,z:1}),x.type===Ve.sprite){var ie=x.content;ie.renderer||(ie.renderer={});var oe=ie.renderer,Xe=Qh(oe.anchor,oe.particleOrigin),Je=x.transform.size;if(!oe.anchor&&oe.particleOrigin!==void 0){var ot;x.transform.position.x+=-Xe[0]*((ot=Je==null?void 0:Je.x)!=null?ot:1);var lt;x.transform.position.y+=-Xe[1]*((lt=Je==null?void 0:Je.y)!=null?lt:1)}var Et,Ht;x.transform.anchor={x:Xe[0]*((Et=Je==null?void 0:Je.x)!=null?Et:1),y:Xe[1]*((Ht=Je==null?void 0:Je.y)!=null?Ht:1)}}}if(x.type===Ve.particle){var Gt=x.content;Gt.renderer||(Gt.renderer={});var Qt=Gt.renderer;Gt.renderer.anchor=Qh(Qt.anchor,Qt.particleOrigin)}if(x.type===Ve.camera&&x.content.positionOverLifetime&&Object.keys(x.content.positionOverLifetime).length!==0&&(x.content.positionOverLifetime.asMovement=!0),x.pn!==void 0){var en=x.pn,Pt=i.plugins,Fn=Pt===void 0?[]:Pt;en!==void 0&&Number.isInteger(en)&&(x.pluginName=Fn[en])}switch(x.pluginName==="editor-gizmo"&&(x.type="editor-gizmo"),x.pluginName==="orientation-transformer"&&(x.type="orientation-transformer"),x.content.options.target&&x.pluginName==="editor-gizmo"&&(x.content.options.target=c[x.content.options.target]),x.type===Ve.spine&&i.spines&&i.spines.length!==0&&em(i.spines[x.content.options.spine],x.content,e),(x.type===Ve.sprite||x.type===Ve.particle||x.type===Ve.mesh||x.type===Ve.skybox||x.type===Ve.light||x.type==="camera"||x.type===Ve.tree||x.type===Ve.interact||x.type===Ve.camera||x.type===Ve.text||x.type===Ve.spine||x.type==="editor-gizmo"||x.type==="orientation-transformer")&&(x.components=[],e.components.push(x.content),x.content.id=rt(),x.content.item={id:x.id},x.dataType=St.VFXItemData,x.components.push({id:x.content.id})),(x.type===Ve.null||x.type===Ve.composition)&&(x.components=[],x.dataType=St.VFXItemData),x.type){case Ve.sprite:x.content.dataType=St.SpriteComponent;break;case Ve.particle:x.content.dataType=St.ParticleSystem;break;case Ve.mesh:x.content.dataType=St.MeshComponent;break;case Ve.skybox:x.content.dataType=St.SkyboxComponent;break;case Ve.light:x.content.dataType=St.LightComponent;break;case"camera":x.content.dataType=St.CameraComponent;break;case"editor-gizmo":x.content.dataType="GizmoComponent";break;case"orientation-transformer":x.content.dataType="OrientationComponent";break;case Ve.tree:x.content.dataType=St.TreeComponent;break;case Ve.interact:x.content.dataType=St.InteractComponent;break;case Ve.camera:x.content.dataType=St.CameraController;break;case Ve.text:x.content.dataType=St.TextComponent;break;case Ve.spine:x.content.dataType=St.SpineComponent;break}}return e.version="3.0",e}function Qd(i){return i.compositions.map(function(o){for(var r=ke(o.items),e;!(e=r()).done;){var t=e.value;td(t.content)}}),i}function td(i){if(i)for(var o=ke(Object.keys(i)),r;!(r=o()).done;){var e=r.value,t=i[e],n=Array.isArray(t);n&&t.length===2&&Array.isArray(t[1])?e==="path"?i[e]=uf(t):i[e]=Xr(t):!n&&typeof t=="object"&&td(t)}}function Jd(i,o,r){for(var e=[],t=[],n=[],a={tracks:[],id:rt(),dataType:"TimelineAsset"},s=ke(i.items),l;!(l=s()).done;){var c=l.value,h=o[c.id],m=[],v={id:rt(),dataType:"ActivationPlayableAsset"};n.push(v);var p={id:rt(),dataType:"ActivationTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:v.id}}]};if(m.push({id:p.id}),t.push(p),h.type!==Ve.particle){var b={id:rt(),dataType:"TransformPlayableAsset",sizeOverLifetime:h.content.sizeOverLifetime,rotationOverLifetime:h.content.rotationOverLifetime,positionOverLifetime:h.content.positionOverLifetime};n.push(b);var x={id:rt(),dataType:"TransformTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:b.id}}]};m.push({id:x.id}),t.push(x)}if(h.type===Ve.sprite||h.type===Ve.text){var P={id:rt(),dataType:"SpriteColorPlayableAsset",colorOverLifetime:h.content.colorOverLifetime};n.push(P);var V={id:rt(),dataType:"SpriteColorTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:P.id}}]};m.push({id:V.id}),t.push(V)}if(h.type===Ve.composition){var D={id:rt(),dataType:"SubCompositionPlayableAsset"};n.push(D);var _={id:rt(),dataType:"SubCompositionTrack",children:[],clips:[{start:h.delay,duration:h.duration,endBehavior:h.endBehavior,asset:{id:D.id}}]};m.push({id:_.id}),t.push(_)}var K={id:rt(),dataType:"ObjectBindingTrack",children:m,clips:[]};t.push(K),a.tracks.push({id:K.id}),e.push({key:{id:K.id},value:{id:h.id}})}for(var U=[],W=ke(t),q;!(q=W()).done;){var ie=q.value;U.push({id:ie.id})}i.timelineAsset={id:a.id},i.sceneBindings=e,r.miscs.push(a);for(var oe=ke(t),Xe;!(Xe=oe()).done;){var Je=Xe.value;r.miscs.push(Je)}for(var ot=ke(n),lt;!(lt=ot()).done;){var Et=lt.value;r.miscs.push(Et)}}function qd(i,o){o.bins=i.map(function(r){return{url:r.url,dataType:"BinaryAsset",id:rt()}})}function em(i,o,r){o.resource={atlas:{bins:{id:r.bins[i.atlas[1][0]].id},source:i.atlas[1].slice(1)},skeleton:{bins:{id:r.bins[i.skeleton[1][0]].id},source:i.skeleton[1].slice(1)},skeletonType:i.skeletonType,images:i.images.map(function(e){return{id:r.textures[e].id}})}}function tm(i){var o=i.options,r=i.transform,e={type:nn.NONE};if(i.shape){var t,n=(t=i.shape.shape)==null?void 0:t.replace(/([A-Z])/g,"_$1").toUpperCase().replace(/^_/,"");if(e=I({},i.shape,{type:nn[n]}),i.shape.upDirection){var a=i.shape.upDirection,s=a[0],l=a[1],c=a[2];s===0&&l===0&&c===0&&delete e.upDirection}}o.startTurbulence&&(e.turbulenceX=Xi(o.turbulenceX),e.turbulenceY=Xi(o.turbulenceY),e.turbulenceZ=Xi(o.turbulenceZ));var h=i.emission;h.bursts&&h.bursts.length>0&&(h.bursts=h.bursts.map(function(U){return Kh(U)})),h.burstOffsets&&h.burstOffsets.length>0&&(h.burstOffsets=h.burstOffsets.map(function(U){return Kh(U)})),h.rateOverTime&&(h.rateOverTime=Xi(h.rateOverTime));var m={renderer:i.renderer,shape:e,splits:i.splits,emission:h,options:{startLifetime:Xi(o.startLifetime),start3DSize:!!o.start3DSize,startSize:Xi(o.startSize),startSizeX:Xi(o.startSizeX),startSizeY:Xi(o.startSizeY),sizeAspect:Xi(o.sizeAspect),maxCount:o.maxCount,startDelay:Xi(o.startDelay),startColor:sf(o.startColor,!0),startRotationZ:Xi(o.startRotation||o.startRotationZ),particleFollowParent:o.particleFollowParent}};o.start3DRotation&&(m.options.startRotationX=Xi(o.startRotationX),m.options.startRotationY=Xi(o.startRotationY)),r&&r.path&&(m.emitterTransform={path:uf(r.path)});var v=i.sizeOverLifetime;v&&(v.separateAxes?m.sizeOverLifetime={separateAxes:!0,x:Xi(v.x),y:Xi(v.y)}:m.sizeOverLifetime={size:Xi(v.size)});var p=i.velocityOverLifetime||{},b=p.speedOverLifetime;b?b=Xr(b):b=void 0,m.positionOverLifetime={gravity:o.gravity,gravityOverLifetime:Xr(o.gravityModifier),startSpeed:Xi(o.startSpeed),speedOverLifetime:b,asMovement:p.asMovement,linearX:Xi(p.linearX),linearY:Xi(p.linearY),linearZ:Xi(p.linearZ),asRotation:p.asRotation,orbCenter:p.orbCenter,orbitalX:Xi(p.orbitalX),orbitalY:Xi(p.orbitalY),orbitalZ:Xi(p.orbitalZ),forceTarget:p.forceTarget,target:p.target,forceCurve:Xr(p.forceCurve)},Du(m.positionOverLifetime);var x=i.rotationOverLifetime;x&&(m.rotationOverLifetime={separateAxes:x.separateAxes,asRotation:x.asRotation,z:Xi(x.separateAxes?x.z:x.angularVelocity)},x.separateAxes&&(m.rotationOverLifetime.y=Xr(x.y),m.rotationOverLifetime.x=Xr(x.x)));var P=i.colorOverLifetime;if(P){var V=m.colorOverLifetime={opacity:Xr(P.opacity)};P.color&&(V.color=$s(P.color))}var D=i.textureSheetAnimation;D&&(m.textureSheetAnimation={row:D.row,col:D.col,total:D.total,animate:D.animate,cycles:Xr(D.cycles),animationDelay:Lu(D.animationDelay,0),animationDuration:Lu(D.animationDuration,0)});var _=i.trails;_&&(m.trails={lifetime:Xi(_.lifetime),dieWithParticles:_.dieWithParticles,maxPointPerTrail:_.maxPointPerTrail,minimumVertexDistance:_.minimumVertexDistance,widthOverTrail:Xr(_.widthOverTrail),colorOverTrail:_.colorOverTrail&&$s(_.colorOverTrail,!1),blending:_.blending,colorOverLifetime:_.colorOverLifetime&&$s(_.colorOverLifetime,!1),inheritParticleColor:_.inheritParticleColor,occlusion:_.occlusion,transparentOcclusion:_.transparentOcclusion,orderOffset:_.orderOffset,sizeAffectsLifetime:_.sizeAffectsLifetime,sizeAffectsWidth:_.sizeAffectsWidth,texture:_.texture,parentAffectsPosition:_.parentAffectsPosition,opacityOverLifetime:Xi(_.opacityOverLifetime)}),m.trails&&Du(m.trails);var K=i.interaction;return K&&(m.interaction={behavior:K.behavior,radius:K.radius,multiple:K.multiple}),m}function nd(i,o){var r,e=i.options,t=i.velocityOverLifetime||{},n={path:uf((r=i.transform)==null?void 0:r.path),gravity:e.gravity,gravityOverLifetime:Xr(e.gravityModifier),direction:e.direction,startSpeed:e.startSpeed,asMovement:t.asMovement,linearX:Xr(t.linearX),linearY:Xr(t.linearY),linearZ:Xr(t.linearZ),asRotation:t.asRotation,orbCenter:t.orbCenter,orbitalX:Xr(t.orbitalX),orbitalY:Xr(t.orbitalY),orbitalZ:Xr(t.orbitalZ),speedOverLifetime:Xr(t.speedOverLifetime)};Du(n);var a={options:{startColor:of(e.startColor)},positionOverLifetime:n};e.startSize&&(o.scale=[e.startSize,e.startSize/(e.sizeAspect||1),1]),e.startRotation&&(o.rotation?o.rotation[2]+=e.startRotation:o.rotation=[0,0,e.startRotation]);var s=i.rotationOverLifetime;if(s){var l=a.rotationOverLifetime={separateAxes:s.separateAxes,asRotation:s.asRotation};l.separateAxes?(l.x=Xr(s.x),l.y=Xr(s.y),l.z=Xr(s.z)):l.z=Xr(s.angularVelocity)}var c=i.colorOverLifetime;if(c){var h=a.colorOverLifetime={opacity:Xr(c.opacity)};c.color&&(h.color=$s(c.color))}var m=i.sizeOverLifetime;return m&&(a.sizeOverLifetime={separateAxes:m.separateAxes,size:Xr(m.size),x:Xr(m.x),y:Xr(m.y),z:Xr(m.z)}),a}function nm(i,o){var r=nd(i,o),e=i.textureSheetAnimation;return e&&(r.textureSheetAnimation={row:e.row,col:e.col,total:e.total||void 0,animate:e.animate}),r.renderer=i.renderer,i.splits&&(r.splits=i.splits),i.interaction&&(r.interaction=i.interaction),r}var rm=/^(\d+)\.(\d+)\.(\d+)(-(\w+)\.\d+)?$/,im=/^(\d+)\.(\d+)$/,Ih=!1;function am(i){if(!i||typeof i!="object")throw new Error("Invalid input: Expected a JSON object.");if(Yd(i),Kd(i),rm.test(i.version)){var o;return Ih=((o=/^(\d+)/.exec(i.version))==null?void 0:o[0])==="0",ed(qh(om(i)))}Ih=!1;var r=im.exec(i.version)||[],e=Number(r[1]),t=Number(r[2]);if(e)return(e<2||e===2&&t<4)&&(i=Qd(i)),e<3?ed(qh(i)):i;throw new Error("Invalid JSON version: "+i.version+".")}var Ph="1.0";function om(i){var o;Ph="1.0";var r=i.plugins||[];(o=i.bins)!=null&&o.length&&(Ph="1.3");var e=(i.requires||[]).slice(),t=i.images.map(function(l,c){return sm(l,c,i.imageTags||[])}),n=i.textures||t.map(function(l,c){return{source:c,flipY:!0}}),a,s={plugins:r,shapes:i.shapes||[],type:"ge",version:Ph,playerVersion:(a=i.playerVersion)!=null?a:{web:"",native:""},compositionId:i.compositionId+"",compositions:i.compositions.map(function(l){return lm(l,{plugins:r,requires:e})}),images:t,imgUsage:i._imgs,binUsage:i.binUsage,spines:i.spines,requires:i.requires,textures:n,bins:(i.bins||[]).slice()};return i._textures&&(s._textures=i._textures),s}function sm(i,o,r){var e=r[o],t=i.oriY;if(typeof i=="string")return{id:rt(),renderLevel:e,url:i,oriY:t};if(i.template)return{id:rt(),url:i.url,template:i.template,webp:i.webp,renderLevel:e,oriY:t};if(i.compressed)return{id:rt(),url:i.url,oriY:t,compressed:{astc:i.compressed.android,pvrtc:i.compressed.iOS},webp:i.webp,renderLevel:e};if(i.url)return{id:rt(),url:i.url,webp:i.webp,renderLevel:e,oriY:t};if(i&&i.sourceType)return i;throw new Error("Invalid image type.")}function lm(i,o){o===void 0&&(o={});var r,e={id:i.id+"",camera:I({clipMode:Si},i.camera),duration:i.duration,endBehavior:i.endBehavior,items:i.items.map(function(a){return cm(a,o)}),name:i.name},t=i.startTime||i.st;t&&(e.startTime=t);var n=(r=i.meta)==null?void 0:r.previewSize;return n&&n[0]===n[1]&&n[0]===0&&(n=void 0),n&&(e.previewSize=n),e}var um=[0,0,0,1],rd=.5;function cm(i,o){o===void 0&&(o={});var r,e=Ve.base,t,n,a,s=i.endBehavior,l,c,h=NaN,m;if(i.content?(e=i.type||Ve.plugin,m=i.pn,c=i.pluginName,a=i.content,n=i.content,isNaN(m)&&!c&&(c=a.options.type),i.duration&&(h=i.duration),t=i.transform||V(n.transform)):i.particle?(e=Ve.particle,n=i.particle,t=V(n.transform,Ih,!0),a=tm(n)):i.sprite?(e=Ve.sprite,n=i.sprite,t=V(n.transform,!1,!0),a=nm(n,t)):i.cal?(e=Ve.null,n=i.cal,t=V(n.transform,!1,!0),a=nd(n,t)):i.ui?(e=Ve.interact,n=i.ui,t=V(n.transform),a=Xd(n),t.scale=[n.options.width||1,n.options.height||1,1]):i.model&&(n=i.model,i.model.options.type===1&&(e=Ve.camera,t=V(n.transform),a=Zd(n))),(r=a.renderer)!=null&&r.anchor){var v=new Float32Array(a.renderer.anchor);v[0]==rd&&v[1]==rd?delete a.renderer.anchor:o.requires&&ro(o.requires,"anchor")}if(n){var p,b=(p=n.options)==null?void 0:p.looping;if(b)Array.isArray(b)?s=b[1]?Se.restart:Se.destroy:s=Se.restart;else{var x;s=s||(n==null||(x=n.options)==null?void 0:x.endBehavior)||Se.destroy}n.options.renderLevel&&(l=n.options.renderLevel),isNaN(h)&&(h=n.options.duration)}var P={type:e,name:i.name,delay:i.delay,duration:h,id:i.id+"",transform:t,endBehavior:s,renderLevel:l,content:a};return c?o.plugins?(ro(o.plugins,c),P.pn=o.plugins.indexOf(c)):P.pluginName=c:Number.isInteger(m)&&(P.pn=m),i.parentId&&(P.parentId=i.parentId+""),P;function V(D,_,K){if(D){var U={},W=D.rotation;if(W&&(_?U.rotation=[-W[0],-W[1],-W[2]]:U.rotation=[W[0],W[1],W[2]],K)){var q=$d(um,U.rotation[0],U.rotation[1],U.rotation[2]);U.rotation=Hd([],q)}var ie=D.position;return ie&&(U.position=D.position),Array.isArray(D.scale)&&(U.scale=[D.scale[0]||1,D.scale[1]||1,D.scale[2]||1]),U}return{}}}var Nu,fm=(Nu={},Nu[Vt.S]=[Vt.S,Vt.BPlus,Vt.APlus],Nu[Vt.A]=[Vt.A,Vt.BPlus,Vt.APlus],Nu[Vt.B]=[Vt.B,Vt.BPlus],Nu);function id(i,o){if(!i||!o)return!0;var r=fm[o];return r?r.includes(i):!1}var Wl;(function(i){function o(t){return ye(t)&&"jsonScene"in t}i.isJSONObject=o;function r(t){return ye(t)&&"url"in t}i.isURL=r;function e(t){return ye(t)&&"options"in t}i.isWithOptions=e})(Wl||(Wl={}));function ad(i,o){var r,e,t=(e=i==null?void 0:i.background)!=null?e:{},n=t.name,a=t.url;return n&&(o&&o[n]?r=o[n]:a&&(r=a)),r}function hm(i,o,r){return Rh.apply(this,arguments)}function Rh(){return Rh=M(function(i,o,r){var e,t;return ee(this,function(n){switch(n.label){case 0:return typeof i!="string"?[3,2]:[4,Kt(i)];case 1:return e=n.sent(),[3,3];case 2:e=i,n.label=3;case 3:if(!e)throw new Error("Image not provided.");if(!o)return[2,e];if(t=ad(o,r),t){if(Ln(t)&&t!==e.src)return[2,Kt(t)];if(k(t,HTMLImageElement))return[2,t]}return[2,e]}})}),Rh.apply(this,arguments)}var dm=1,od=function(){function i(r,e){r===void 0&&(r={}),e===void 0&&(e=new Re),this.options=r,this.downloader=e,this.assets={},this.sourceFrom={},this.id=dm++,this.timers=[],this.updateOptions(r)}var o=i.prototype;return o.updateOptions=function(e){e===void 0&&(e={}),this.options=e,e.pluginData||(e.pluginData={});var t=e.timeout,n=t===void 0?10:t;this.timeout=n},o.loadScene=function(e,t,n){var a=this;return M(function(){var s,l,c,h,m,v,p,b,x,P,V,D,_;return ee(this,function(K){return l=Ln(e)?e:a.id,c=performance.now(),h=[],m=t==null?void 0:t.engine.gpuCapability,p=(v=m==null?void 0:m.detail.compressedTexture)!=null?v:cs.NONE,b={},P=!1,V=new Promise(function(U,W){x=window.setTimeout(function(){P=!0,a.removeTimer(x);var q=performance.now()-c;W(new Error("Load time out: totalTime: "+q.toFixed(4)+"ms "+h.join(" ")+", url: "+l+"."))},a.timeout*1e3),a.timers.push(x)}),D=M(function(U,W){var q,ie,oe,Xe;return ee(this,function(Je){switch(Je.label){case 0:if(P)return[3,4];q=performance.now(),Je.label=1;case 1:return Je.trys.push([1,3,,4]),[4,W()];case 2:return ie=Je.sent(),oe=performance.now()-q,h.push("["+U+": "+oe.toFixed(2)+"]"),b[U]=oe,[2,ie];case 3:throw Xe=Je.sent(),new Error("Load error in "+U+", "+Xe+".");case 4:throw new Error("Load canceled.")}})}),_=M(function(){var U,W,q,ie,oe,Xe,Je,ot,lt,Et,Ht,Gt,Qt,en,Pt,Fn,dn,In,Yn,Kn;return ee(this,function(ni){switch(ni.label){case 0:return Ln(e)?(W=new URL(e,location.href).href,a.baseUrl=W,[4,D("loadJSON",function(){return a.loadJSON(W)})]):[3,2];case 1:return s=ni.sent(),[3,3];case 2:s=e,a.baseUrl=location.href,ni.label=3;case 3:return Wl.isJSONObject(s)?(U=I({},s),q=U.jsonScene,ie=U.pluginSystem,oe=U.images,Xe=q.compositions,Je=q.images,a.assignImagesToAssets(Je,oe),[4,Promise.all([D("plugin:processAssets",function(){return a.processPluginAssets(q,ie,n)}),D("plugin:precompile",function(){return a.precompile(Xe,ie,t,n)})])]):[3,5];case 4:return ni.sent(),[3,10];case 5:return[4,D("processJSON",function(){return a.processJSON(s)})];case 6:return ot=ni.sent(),lt=ot.jsonScene,Et=ot.pluginSystem,Ht=lt.bins,Gt=Ht===void 0?[]:Ht,Qt=lt.images,en=lt.compositions,Pt=lt.fonts,[4,Promise.all([D("processBins",function(){return a.processBins(Gt)}),D("processImages",function(){return a.processImages(Qt,p)}),D("plugin:processAssets",function(){return a.processPluginAssets(lt,Et,n)}),D("plugin:precompile",function(){return a.precompile(en,Et,t,n)}),D("processFontURL",function(){return a.processFontURL(Pt)})])];case 7:return Fn=ni.sent(),dn=Fn[0],In=Fn[1],[4,D("processTextures",function(){return a.processTextures(In,dn,lt)})];case 8:return Yn=ni.sent(),U={timeInfos:b,url:e,renderLevel:a.options.renderLevel,storage:{},pluginSystem:Et,jsonScene:lt,bins:dn,images:In,textureOptions:Yn},[4,D("plugin:prepareResource",function(){return Et.loadResources(U,a.options)})];case 9:ni.sent(),ni.label=10;case 10:return[4,D("prepareAssets",function(){return a.prepareAssets(t==null?void 0:t.engine)})];case 11:return ni.sent(),Kn=performance.now()-c,He.info("Load asset: totalTime: "+Kn.toFixed(4)+"ms "+h.join(" ")+", url: "+l+"."),window.clearTimeout(x),a.removeTimer(x),U.totalTime=Kn,U.startTime=c,U.timeInfos=b,[2,U]}})}),[2,Promise.race([V,_()])]})})()},o.precompile=function(e,t,n,a){return M(function(){return ee(this,function(s){switch(s.label){case 0:return!n||!n.getShaderLibrary()?[2]:[4,t.precompile(e,n,a)];case 1:return s.sent(),[2]}})})()},o.processJSON=function(e){var t=this;return M(function(){var n,a,s,l;return ee(this,function(c){switch(c.label){case 0:return n=am(e),a=n.plugins,s=a===void 0?[]:a,l=new Rt(s),[4,l.processRawJSON(n,t.options)];case 1:return c.sent(),[2,{jsonScene:n,pluginSystem:l}]}})})()},o.processBins=function(e){var t=this;return M(function(){var n,a,s;return ee(this,function(l){return n=t.options.renderLevel,a=t.baseUrl,s=e.map(function(c){if(k(c,ArrayBuffer))return c;if(id(c.renderLevel,n))return t.loadBins(new URL(c.url,a).href);throw new Error("Invalid bins source: "+JSON.stringify(e)+".")}),[2,Promise.all(s)]})})()},o.processFontURL=function(e){var t=this;return M(function(){var n;return ee(this,function(a){return e?(n=e.map(M(function(s){var l,c,h;return ee(this,function(m){switch(m.label){case 0:if(!(s.fontURL&&!i.fontCache.has(s.fontFamily)))return[3,4];Ae(s.fontFamily)||console.warn("Risky font family: "+s.fontFamily+"."),m.label=1;case 1:return m.trys.push([1,3,,4]),l=new URL(s.fontURL,t.baseUrl).href,h=new FontFace((c=s.fontFamily)!=null?c:"","url("+l+")"),[4,h.load()];case 2:return m.sent(),document.fonts.add(h),i.fontCache.add(s.fontFamily),[3,4];case 3:return m.sent(),He.warn("Invalid font family or font source: "+JSON.stringify(s.fontURL)+"."),[3,4];case 4:return[2]}})})),[2,Promise.all(n)]):[2]})})()},o.processImages=function(e,t){t===void 0&&(t=0);var n=this;return M(function(){var a,s,l,c,h,m,v,p;return ee(this,function(b){switch(b.label){case 0:return a=n.options,s=a.useCompressedTexture,l=a.variables,c=a.disableWebP,h=a.disableAVIF,m=n.baseUrl,v=e.map(M(function(x,P){var V,D,_,K,U,W,q,ie,oe,Xe,Je,ot,lt,Et,Ht,Gt,Qt,en,Pt,Fn,dn;return ee(this,function(In){switch(In.label){case 0:if(V=x.url,D=x.webp,_=x.avif,K=new URL(V,m).href,U=!c&&D?new URL(D,m).href:void 0,W=!h&&_?new URL(_,m).href:void 0,q=x.id,!("template"in x))return[3,8];if(ie=x.template,oe=ie.background,!oe)return[3,7];Xe=ad(ie,l),Je=oe.type===br.video,ot=oe&&Je?hr:Kt,In.label=1;case 1:return In.trys.push([1,6,,7]),[4,Ur(Xe,ot)];case 2:return lt=In.sent(),k(lt,HTMLVideoElement)?(n.sourceFrom[q]={url:lt.src,type:j.video},[2,lt]):[3,3];case 3:return oe&&Array.isArray(Xe)&&l&&(l[oe.name]=lt.src),n.sourceFrom[q]={url:lt.src,type:j.image},[4,hm(lt,ie,l)];case 4:return[2,In.sent()];case 5:return[3,7];case 6:throw Et=In.sent(),new Error("Failed to load. Check the template or if the URL is "+(Je?"video":"image")+" type, URL: "+Xe+", Error: "+(Et.message||Et)+".");case 7:return[3,9];case 8:if("compressed"in x&&s&&t){if(Ht=x.compressed,t===cs.ASTC?Gt=Ht.astc:t===cs.PVRTC&&(Gt=Ht.pvrtc),Gt)return Qt=new URL(Gt,m).href,n.sourceFrom[q]={url:Qt,type:j.compressed},[2,n.loadBins(Qt)]}else if(k(x,HTMLImageElement)||k(x,HTMLCanvasElement)||k(x,HTMLVideoElement)||k(x,Zn))return[2,x];In.label=9;case 9:return W?[4,$n(K,W)]:[3,11];case 10:return dn=In.sent(),[3,13];case 11:return[4,$t(K,U)];case 12:dn=In.sent(),In.label=13;case 13:return en=dn,Pt=en.url,Fn=en.image,n.sourceFrom[q]={url:Pt,type:j.image},[2,Fn]}})})),[4,Promise.all(v)];case 1:return p=b.sent(),n.assignImagesToAssets(e,p),[2,p]}})})()},o.processPluginAssets=function(e,t,n){var a=this;return M(function(){var s,l,c,h,m;return ee(this,function(v){switch(v.label){case 0:return[4,t.processAssets(e,n)];case 1:for(s=v.sent(),l=s.reduce(function(p,b){return p.assets=p.assets.concat(b.assets),p.loadedAssets=p.loadedAssets.concat(b.loadedAssets),p},{assets:[],loadedAssets:[]}),c=l.assets,h=l.loadedAssets,m=0;m<c.length;m++)a.assets[c[m].id]=h[m];return[2]}})})()},o.prepareAssets=function(e){var t=this;return M(function(){var n,a,s,l,c;return ee(this,function(h){if(!e)return[2];for(n=ke(Object.keys(t.assets));!(a=n()).done;)s=a.value,l=t.assets[s],c=new Wi(e),c.data=l,c.setInstanceId(s),e.addInstance(c);return[2]})})()},o.processTextures=function(e,t,n){var a=this;return M(function(){var s,l,c;return ee(this,function(h){return l=(s=n.textures)!=null?s:e.map(function(m,v){return{source:v}}),c=l.map(M(function(m,v){var p,b,x,P,V,D;return ee(this,function(_){switch(_.label){case 0:if(k(m,Zn))return[2,m];if(!("mipmaps"in m))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,ii(m,t,a.assets,n.bins)];case 2:return[2,_.sent()];case 3:throw p=_.sent(),new Error("Load texture "+v+" fails, error message: "+p+".");case 4:return b=m.source,x=m.id,V="",ye(b)?(P=a.assets[b.id],V=b.id,[3,7]):[3,5];case 5:return typeof b!="string"?[3,7]:[4,Kt(re(b))];case 6:P=_.sent(),_.label=7;case 7:if(P)return D=mm(P,a.sourceFrom[V],x),[2,D.sourceType===j.compressed?D:I({},D,m)];throw new Error("Invalid texture source: "+b+".")}})})),[2,Promise.all(c)]})})()},o.loadJSON=function(e){var t=this;return M(function(){return ee(this,function(n){return[2,new Promise(function(a,s){t.downloader.downloadJSON(e,a,function(l,c){s("Couldn't load JSON "+JSON.stringify(e)+": status "+l+", "+c)})})]})})()},o.loadBins=function(e){var t=this;return M(function(){return ee(this,function(n){return[2,new Promise(function(a,s){t.downloader.downloadBinary(e,a,function(l,c){s("Couldn't load bins "+JSON.stringify(e)+": status "+l+", "+c)})})]})})()},o.assignImagesToAssets=function(e,t){for(var n=0;n<e.length;n++)this.assets[e[n].id]=t[n]},o.removeTimer=function(e){var t=this.timers.indexOf(e);t!==-1&&this.timers.splice(t,1)},o.dispose=function(){this.timers.length&&this.timers.map(function(e){return window.clearTimeout(e)}),this.assets={},this.sourceFrom={},this.timers=[]},i}();od.fontCache=new Set;function mm(i,o,r){var e={id:r,dataType:St.Texture};if(k(i,Zn))return I({},i.source,e);if(k(i,HTMLImageElement)||Ue(i))return I({image:i,sourceType:j.image,sourceFrom:o,keepImageSource:!0,minFilter:F.LINEAR,magFilter:F.LINEAR},e);if(k(i,HTMLVideoElement))return I({sourceType:j.video,video:i,minFilter:F.LINEAR,magFilter:F.LINEAR},e);if(k(i,ArrayBuffer))return I({},si(i),{sourceFrom:o},e);if("width"in i&&"height"in i&&"data"in i)return I({sourceType:j.data,data:i,wrapS:F.CLAMP_TO_EDGE,wrapT:F.CLAMP_TO_EDGE,minFilter:F.NEAREST,magFilter:F.NEAREST},e);throw new Error("Invalid texture options.")}var vm=new be(1,1,1),pm=function(){function i(r,e){e===void 0&&(e={}),this.name=r,this.viewportMatrix=Tn.fromIdentity(),this.viewMatrix=Tn.fromIdentity(),this.projectionMatrix=Tn.fromIdentity(),this.viewProjectionMatrix=Tn.fromIdentity(),this.inverseViewMatrix=Tn.fromIdentity(),this.dirty=!0;var t=e.near,n=t===void 0?.1:t,a=e.far,s=a===void 0?20:a,l=e.fov,c=l===void 0?60:l,h=e.aspect,m=h===void 0?1:h,v=e.clipMode,p=v===void 0?Vn.portrait:v,b=e.position,x=b===void 0?[0,0,8]:b,P=e.rotation,V=P===void 0?[0,0,0]:P;this.options={near:n,far:s,fov:c,aspect:m,clipMode:p,position:be.fromArray(x),rotation:Zr.fromArray(V)},this.dirty=!0,this.updateMatrix()}var o=i.prototype;return o.setViewportMatrix=function(e){this.viewportMatrix=e.clone(),this.dirty=!0},o.getViewportMatrix=function(){return this.viewportMatrix},o.getViewMatrix=function(){return this.updateMatrix(),this.viewMatrix.clone()},o.getInverseViewMatrix=function(){return this.updateMatrix(),this.inverseViewMatrix.clone()},o.getProjectionMatrix=function(){return this.updateMatrix(),this.projectionMatrix.clone()},o.getInverseProjectionMatrix=function(){var e;return this.updateMatrix(),(e=this.inverseProjectionMatrix)==null?void 0:e.clone()},o.getViewProjectionMatrix=function(){return this.updateMatrix(),this.viewProjectionMatrix.clone()},o.getInverseViewProjectionMatrix=function(){return this.updateMatrix(),this.inverseViewProjectionMatrix||(this.inverseViewProjectionMatrix=this.viewProjectionMatrix.clone(),this.inverseViewProjectionMatrix.invert()),this.inverseViewProjectionMatrix.clone()},o.getModelViewProjection=function(e,t){return e.multiplyMatrices(this.viewProjectionMatrix,t)},o.getInverseVPRatio=function(e){var t=new be(this.position.x,this.position.y,e),n=this.getViewProjectionMatrix(),a=this.getInverseViewProjectionMatrix();if(!this.viewportMatrix.isIdentity()){var s=this.viewportMatrix.clone();a.premultiply(s),n.multiply(s.invert())}var l=n.projectPoint(t),c=l.z,h=a.projectPoint(new be(1,1,c)),m=h.x,v=h.y,p=a.projectPoint(new be(-1,-1,c)),b=p.x,x=p.y;return new be((m-b)/2,(v-x)/2,0)},o.setQuat=function(e){this.options.quat===void 0?(this.options.quat=e.clone(),this.dirty=!0):this.options.quat.equals(e)||(this.options.quat.copyFrom(e),this.dirty=!0),this.dirty&&this.setRotationByQuat(e)},o.getQuat=function(){var e=this.options.quat;if(e===void 0){e=new _t;var t=this.options.rotation;t&&e.setFromEuler(t),this.options.quat=e}return e},o.getOptions=function(){return this.options},o.copy=function(e){var t=e.near,n=e.far,a=e.fov,s=e.clipMode,l=e.aspect,c=e.position,h=e.rotation;this.near=t,this.far=n,this.fov=a,this.clipMode=s,this.aspect=l,this.position=c,this.rotation=h,this.updateMatrix()},o.updateMatrix=function(){if(this.dirty){var e=this.options,t=e.fov,n=e.aspect,a=e.near,s=e.far,l=e.clipMode,c=e.position;this.projectionMatrix.perspective(t*Gr,n,a,s,l===Vn.portrait),this.projectionMatrix.premultiply(this.viewportMatrix),this.inverseViewMatrix.compose(c,this.getQuat(),vm),this.viewMatrix.copyFrom(this.inverseViewMatrix).invert(),this.viewProjectionMatrix.multiplyMatrices(this.projectionMatrix,this.viewMatrix),this.inverseViewProjectionMatrix=null,this.dirty=!1}},o.setRotationByQuat=function(e){Ns.getRotation(e,this.options.rotation)},yn(i,[{key:"near",get:function(){return this.options.near},set:function(e){this.options.near!==e&&(this.options.near=e,this.dirty=!0)}},{key:"far",get:function(){return this.options.far},set:function(e){this.options.far!==e&&(this.options.far=e,this.dirty=!0)}},{key:"fov",get:function(){return this.options.fov},set:function(e){this.options.fov!==e&&(this.options.fov=e,this.dirty=!0)}},{key:"aspect",get:function(){return this.options.aspect},set:function(e){this.options.aspect!==e&&(this.options.aspect=e,this.dirty=!0)}},{key:"clipMode",get:function(){return this.options.clipMode},set:function(e){e!==void 0&&this.options.clipMode!==e&&(this.options.clipMode=e,this.dirty=!0)}},{key:"position",get:function(){return this.options.position.clone()},set:function(e){this.options.position.equals(e)||(this.options.position.copyFrom(e),this.dirty=!0)}},{key:"rotation",get:function(){return this.options.rotation.clone()},set:function(e){this.options.rotation.equals(e)||(this.options.rotation.copyFrom(e),this.dirty=!0,this.options.quat=void 0)}}]),i}(),gm=function(){function i(r,e){this.refCompositionProps=new Map,this.imgUsage={},this.mask=0,this.refCompositions=new Map,this.engine=e;var t=r.jsonScene,n=r.renderLevel,a=r.textureOptions,s=r.pluginSystem,l=r.totalTime,c=t.compositions,h=t.compositionId;if(!a)throw new Error("scene.textures expected.");for(var m=a,v=ke(c),p;!(p=v()).done;){var b=p.value;b.id===h?this.composition=b:this.refCompositions.set(b.id,b)}if(!this.composition)throw new Error("Invalid composition id: "+h+".");this.jsonScene=t,this.renderLevel=n,this.pluginSystem=s,this.totalTime=l!=null?l:0,this.textures=m,this.sourceContent=this.getContent(this.composition)}var o=i.prototype;return o.getContent=function(e){var t=I({},e);return this.assembleItems(t),isNaN(t.endBehavior)&&(t.endBehavior=Se.freeze),t.startTime||(t.startTime=0),t},o.assembleItems=function(e){this.mask++;var t={},n=[];if(this.jsonScene){for(var a=ke(this.jsonScene.components),s;!(s=a()).done;){var l=s.value;t[l.id]=l}for(var c=ke(e.items),h;!(h=c()).done;){var m=h.value,v=this.engine.jsonSceneData[m.id],p=v;if(id(v.renderLevel,this.renderLevel)){if(p.type===Ve.sprite||p.type===Ve.particle||p.type===Ve.spine||p.type===Ve.text||p.type===Ve.video||p.type===Ve.shape)for(var b=ke(p.components),x;!(x=b()).done;){var P=x.value,V=t[P.id];this.preProcessItemContent(V)}if(p.type===Ve.composition){var D=v.content.options.refId,_=this.refCompositions.get(D);if(!_)throw new Error("Invalid ref composition id: "+D+".");var K=this.getContent(_);this.refCompositionProps.has(D)||this.refCompositionProps.set(D,K)}n.push(m)}else p.type!==Ve.composition&&(p.components=[],n.push(m))}e.items=n}},o.preProcessItemContent=function(e){if(e.renderer){e.renderer=this.changeTex(e.renderer),"mask"in e.renderer||this.processMask(e.renderer);var t=e.splits&&!e.textureSheetAnimation?e.splits[0]:void 0,n=e.renderer.shape,a;if(Number.isInteger(n)){var s;a=(s=this.jsonScene)==null?void 0:s.shapes[n]}else n&&(a=n);a!==void 0&&!("aPoint"in a&&"index"in a)&&(e.renderer.shape=th(a,t))}"trails"in e&&e.trails!==void 0&&(e.trails=this.changeTex(e.trails))},o.changeTex=function(e){if(!e.texture)return e;var t=e.texture.id;return t!==void 0&&this.addTextureUsage(t),e},o.addTextureUsage=function(e){var t,n=(t=this.imgUsage)!=null?t:{};e&&n&&(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=0),n[e]++)},o.processMask=function(e){var t=e.maskMode;t!==kt.NONE&&(e.mask||(t===kt.MASK?e.mask=++this.mask:(t===kt.OBSCURED||t===kt.REVERSE_OBSCURED)&&(e.mask=this.mask)))},o.dispose=function(){this.textures=[],this.composition=void 0,this.jsonScene=void 0,this.totalTime=0,this.pluginSystem=void 0,this.sourceContent=void 0,this.refCompositions.clear(),this.refCompositionProps.clear()},i}(),ym=function(){function i(){this.update=new bm,this.lateUpdate=new xm}var o=i.prototype;return o.addComponent=function(e){e.onUpdate!==Di.prototype.onUpdate&&this.update.addComponent(e),e.onLateUpdate!==Di.prototype.onLateUpdate&&this.lateUpdate.addComponent(e)},o.removeComponent=function(e){e.onUpdate!==Di.prototype.onUpdate&&this.update.removeComponent(e),e.onLateUpdate!==Di.prototype.onLateUpdate&&this.lateUpdate.removeComponent(e)},o.clear=function(){this.update.clear(),this.lateUpdate.clear()},i}(),sd=function(){function i(){this.components=[],this.ticks=[]}var o=i.prototype;return o.tick=function(e){this.tickComponents(this.components,e);for(var t=0;t<this.ticks.length;t++)this.ticks[t](e)},o.tickComponents=function(e,t){},o.addComponent=function(e){this.components.includes(e)||this.components.push(e)},o.removeComponent=function(e){var t=this.components.indexOf(e);t>-1&&this.components.splice(t,1)},o.addTick=function(e,t){var n=e.bind(t);this.ticks.includes(n)||this.ticks.push(n)},o.clear=function(){this.components=[]},i}(),bm=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.tickComponents=function(t,n){for(var a=ke(t),s;!(s=a()).done;){var l=s.value;l.onUpdate(n)}},o}(sd),xm=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.tickComponents=function(t,n){for(var a=ke(t),s;!(s=a()).done;){var l=s.value;l.onLateUpdate(n)}},o}(sd),Cm=function(i){Ee(o,i);function o(e,t){var n,a;n=i.call(this)||this,n.sceneTicking=new ym,n.speed=1,n.isEnded=!1,n.loaderData={},n.refContent=[],n.refCompositionProps=new Map,n.postProcessingEnabled=!1,n.assigned=!1,n.destroyed=!1,n.postLoaders=[],n.paused=!1,n.lastVideoUpdateTime=0,n.isEndCalled=!1;var s=e.reusable,l=s===void 0?!1:s,c=e.speed,h=c===void 0?1:c,m=e.baseRenderOrder,v=m===void 0?0:m,p=e.renderer,b=e.event,x=e.width,P=e.height,V=e.handleItemMessage;n.compositionSourceManager=new gm(t,p.engine),l&&(n.keepResource=!0,t.textures=void 0,t.consumed=!0);var D=n.compositionSourceManager,_=D.sourceContent,K=D.pluginSystem,U=D.imgUsage,W=D.totalTime,q=D.refCompositionProps,ie;n.postProcessingEnabled=(ie=(a=t.jsonScene.renderSettings)==null?void 0:a.postProcessingEnabled)!=null?ie:!1,xt(_),n.renderer=p,n.refCompositionProps=q,n.rootItem=new Pi(n.getEngine()),n.rootItem.name="rootItem",n.rootItem.duration=_.duration,n.rootItem.endBehavior=_.endBehavior,n.rootItem.composition=We(n),n.rootComposition=n.rootItem.addComponent(is),n.width=x,n.height=P,n.renderOrder=v,n.id=_.id,n.renderer=p,n.texInfo=l?{}:U,n.event=b;var oe;return n.statistic={loadStart:(oe=t.startTime)!=null?oe:0,loadTime:W!=null?W:0,compileTime:0,firstFrameTime:0},n.reusable=l,n.speed=h,n.autoRefTex=!n.keepResource&&n.texInfo&&n.rootItem.endBehavior!==Se.restart,n.name=_.name,n.pluginSystem=K,n.pluginSystem.initializeComposition(We(n),t),n.camera=new pm(n.name,I({},_==null?void 0:_.camera,{aspect:x/P})),n.url=t.url,n.assigned=!0,n.interactive=!0,n.handleItemMessage=V,n.createRenderFrame(),n.rendererOptions=null,Hl.deserialize(_,n.rootComposition),n.rootComposition.createContent(),n.buildItemTree(n.rootItem),n.rootComposition.setChildrenRenderOrder(0),n.pluginSystem.resetComposition(We(n),n.renderFrame),n}var r=o.prototype;return r.getDuration=function(){return this.rootItem.duration},r.restart=function(){this.reset(),this.forwardTime(this.startTime)},r.setIndex=function(t){this.renderOrder=t},r.getIndex=function(){return this.renderOrder},r.setSpeed=function(t){this.speed=t},r.setVisible=function(t){this.rootItem.setVisible(t)},r.getSpeed=function(){return this.speed},r.play=function(){this.isEnded&&this.reusable&&this.restart(),this.rootComposition.isStartCalled?this.gotoAndPlay(this.time-this.startTime):this.gotoAndPlay(0)},r.pause=function(){this.paused=!0},r.getPaused=function(){return this.paused},r.resume=function(){this.paused=!1},r.gotoAndPlay=function(t){this.setTime(t),this.resume()},r.gotoAndStop=function(t){this.setTime(t),this.pause()},r.createRenderFrame=function(){this.renderFrame=new Os({camera:this.camera,renderer:this.renderer,keepColorBuffer:this.keepColorBuffer,globalVolume:this.globalVolume,postProcessingEnabled:this.postProcessingEnabled}),this.renderFrame.cachedTextures=this.textures},r.setTime=function(t){var n=this.speed,a=this.paused;a&&this.resume(),this.setSpeed(1),this.forwardTime(t+this.startTime),this.setSpeed(n),a&&this.pause(),this.emit("goto",{time:t})},r.addItem=function(t){this.items.push(t),t.setParent(this.rootItem)},r.forwardTime=function(t){var n=t*1e3-this.rootComposition.time*1e3,a=n<0,s=15,l=Math.abs(n),c=a?-s:s;for(l;l>s;l-=s)this.update(c);this.update(a?-l:l)},r.reset=function(){this.rendererOptions=null,this.isEnded=!1,this.isEndCalled=!1,this.rootComposition.time=0,this.pluginSystem.resetComposition(this,this.renderFrame)},r.prepareRender=function(){var t=this,n=this.renderFrame;this.postLoaders.length=0,this.pluginSystem.plugins.forEach(function(a){a.prepareRenderFrame(t,n)&&t.postLoaders.push(a)}),this.postLoaders.forEach(function(a){return a.postProcessFrame(t,n)})},r.update=function(t){if(!(!this.assigned||this.paused)){var n=parseFloat(this.getUpdateTime(t*this.speed).toFixed(0));this.updateRootComposition(n/1e3),this.updateVideo(),this.updatePluginLoaders(t),this.rootItem.isDuringPlay||(this.callAwake(this.rootItem),this.rootItem.beginPlay()),this.sceneTicking.update.tick(n),this.sceneTicking.lateUpdate.tick(n),this.updateCamera(),this.prepareRender(),this.isEnded&&!this.isEndCalled&&(this.isEndCalled=!0,this.emit("end",{composition:this})),this.shouldDispose()&&this.dispose()}},r.shouldDispose=function(){return this.isEnded&&this.rootItem.endBehavior===Se.destroy&&!this.reusable},r.getUpdateTime=function(t){var n=this.startTime*1e3,a=this.rootComposition.time*1e3;return t<0&&a+t<n?n-a:t},r.callAwake=function(t){for(var n=ke(t.components),a;!(a=n()).done;){var s=a.value;s.isAwakeCalled||(s.onAwake(),s.isAwakeCalled=!0)}for(var l=ke(t.children),c;!(c=l()).done;){var h=c.value;this.callAwake(h)}},r.buildItemTree=function(t){if(t.composition){for(var n=new Map,a=t.getComponent(is).items,s=ke(a),l;!(l=s()).done;){var c=l.value;n.set(c.id,c)}for(var h=ke(a),m;!(m=h()).done;){var v=m.value;if(v.parentId===void 0)v.setParent(t);else{var p=n.get(v.parentId);if(p)v.parent=p,v.transform.parentTransform=p.transform,p.children.push(v);else throw new Error("The element references a non-existent element, please check the data.")}}for(var b=ke(a),x;!(x=b()).done;){var P=x.value;Pi.isComposition(P)&&this.buildItemTree(P)}}},r.updateVideo=function(){var t=performance.now();if(t-this.lastVideoUpdateTime>33){var n;((n=this.textures)!=null?n:[]).forEach(function(a){return a==null?void 0:a.uploadCurrentVideoFrame()}),this.lastVideoUpdateTime=t}},r.updateCamera=function(){this.camera.updateMatrix()},r.updatePluginLoaders=function(t){var n=this;this.pluginSystem.plugins.forEach(function(a){return a.onCompositionUpdate(n,t)})},r.updateRootComposition=function(t){if(this.rootComposition.isActiveAndEnabled){var n=parseFloat((this.time+t-this.rootItem.start).toFixed(3)),a=!1,s=this.rootItem.duration,l=this.rootItem.endBehavior;if(n-s>.001)switch(a=!0,l){case Se.restart:{n=n%s,this.restart();break}case Se.freeze:{n=Math.min(s,n);break}case Se.forward:break;case Se.destroy:break}this.rootComposition.time=n,this.isEnded!==a&&(a?this.isEnded=!0:(this.isEnded=!1,this.isEndCalled=!1))}},r.getItemByName=function(t){return this.rootItem.find(t)},r.getHitTestRay=function(t,n){var a=this.renderFrame.editorTransform,s=a.x,l=a.y,c=a.z,h=a.w;return $a((t-c)/s,(n-h)/l,this.camera)},r.getEngine=function(){var t;return(t=this.renderer)==null?void 0:t.engine},r.hitTest=function(t,n,a,s){var l;if(this.isDestroyed||!this.interactive)return[];var c=[],h=this.getHitTestRay(t,n);return(l=this.rootItem.getComponent(is))==null||l.hitTest(h,t,n,c,a,s),this.refContent.forEach(function(m){var v;(v=m.getComponent(is))==null||v.hitTest(h,t,n,c,a,s)}),c},r.addInteractiveItem=function(t,n){if(n===jn.MESSAGE)return this.handleItemMessage({name:t.name,phrase:_i,id:t.id,compositionId:this.id}),t.emit("message",{name:t.name,phrase:_i,id:t.id}),t.id},r.removeInteractiveItem=function(t,n){n===jn.MESSAGE&&(this.handleItemMessage({name:t.name,phrase:Or,id:t.id,compositionId:this.id}),t.emit("message",{name:t.name,phrase:Or,id:t.id}))},r.destroyTextures=function(t){for(var n=0;n<t.length;n++){var a=t[n];if(a){if(a.sourceType===j.data&&!this.texInfo[a.getInstanceId()]){var s;a!==((s=this.rendererOptions)==null?void 0:s.emptyTexture)&&a!==this.renderFrame.transparentTexture&&a!==this.getEngine().emptyTexture&&a.dispose();continue}if(this.autoRefTex){var l=--this.texInfo[a.getInstanceId()];l||a.dispose()}}}},r.destroyItem=function(t){var n=this;if(t.type==Ve.composition){if(t.endBehavior!==Se.freeze){var a=t.getComponent(is).items;a.forEach(function(s){return n.pluginSystem.plugins.forEach(function(l){return l.onCompositionItemRemoved(n,s)})})}}else ge(this.items,t),this.pluginSystem.plugins.forEach(function(s){return s.onCompositionItemRemoved(n,t)})},r.lost=function(t){this.videoState=this.textures.map(function(n){if("video"in n.source)return n.source.video.pause(),n.source.video.currentTime}),this.textures.map(function(n){return n.dispose()}),this.dispose()},r.dispose=function(){var t=this,n,a;if(!this.destroyed){this.destroyed=!0;var s={},l=this.textures;l&&this.keepResource&&l.forEach(function(c){c!=null&&c.dispose&&(s[c.id]=c.dispose,c.dispose=un)}),this.rootItem.dispose(),this.renderFrame.dispose(),(n=this.rendererOptions)==null||n.emptyTexture.dispose(),(a=this.pluginSystem)==null||a.destroyComposition(this),this.update=function(){He.error("Update disposed composition: "+t.name+".")},this.dispose=un,l&&this.keepResource&&l.forEach(function(c){return c.dispose=s[c.id]}),this.compositionSourceManager.dispose(),this.refCompositionProps.clear(),this.renderer.env!==To&&this.renderer.clear({stencilAction:Z.clear,clearStencil:0,depthAction:Z.clear,clearDepth:1,colorAction:Z.clear,clearColor:[0,0,0,0]})}},r.setEditorTransform=function(t,n,a){this.renderFrame.editorTransform.set(t,t,n,a)},r.translateByPixel=function(t,n){if(!this.renderer){console.warn("Renderer not assigned. Operation aborted.");return}this.rootItem.translateByPixel(t,n)},r.setPositionByPixel=function(t,n){if(!this.renderer){console.warn("Renderer not assigned. Operation aborted.");return}this.rootItem.setPositionByPixel(t,n)},r.translate=function(t,n,a){this.rootItem.translate(t,n,a)},r.setPosition=function(t,n,a){this.rootItem.setPosition(t,n,a)},r.rotate=function(t,n,a){this.rootItem.rotate(t,n,a)},r.setRotation=function(t,n,a){this.rootItem.setRotation(t,n,a)},r.scale=function(t,n,a){this.rootItem.scale(t,n,a)},r.setScale=function(t,n,a){this.rootItem.setScale(t,n,a)},r.offloadTexture=function(){this.textureOffloaded||(this.textures.forEach(function(t){return t&&t.offloadData()}),this.textureOffloaded=!0)},r.getRendererOptions=function(){return this.rendererOptions||(this.rendererOptions={emptyTexture:this.renderFrame.emptyTexture,cachePrefix:"-"}),this.rendererOptions},r.reloadTexture=function(){var t=this;return M(function(){return ee(this,function(n){switch(n.label){case 0:return t.textureOffloaded?[4,Promise.all(t.textures.map(function(a){return a==null?void 0:a.reloadData()}))]:[3,2];case 1:n.sent(),t.textureOffloaded=!1,n.label=2;case 2:return[2]}})})()},yn(o,[{key:"transform",get:function(){return this.rootItem.transform}},{key:"textures",get:function(){return this.compositionSourceManager.textures}},{key:"items",get:function(){return this.rootComposition.items}},{key:"startTime",get:function(){return this.rootComposition.startTime}},{key:"time",get:function(){return this.rootComposition.time}},{key:"isDestroyed",get:function(){return this.destroyed}},{key:"viewportMatrix",get:function(){return this.camera.getViewportMatrix()},set:function(t){this.camera.setViewportMatrix(t)}}]),o}(vu),_h=2,as=4,ys=4,pl=4,js=new Int32Array(2),ld=new Float32Array(js.buffer),ud=new Float64Array(js.buffer),ff=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,Lh;(function(i){i[i.UTF8_BYTES=1]="UTF8_BYTES",i[i.UTF16_STRING=2]="UTF16_STRING"})(Lh||(Lh={}));var hf=function(){function i(r){this.bytes_=r,this.position_=0,this.text_decoder_=new TextDecoder}var o=i.prototype;return o.clear=function(){this.position_=0},o.bytes=function(){return this.bytes_},o.position=function(){return this.position_},o.setPosition=function(e){this.position_=e},o.capacity=function(){return this.bytes_.length},o.readInt8=function(e){return this.readUint8(e)<<24>>24},o.readUint8=function(e){return this.bytes_[e]},o.readInt16=function(e){return this.readUint16(e)<<16>>16},o.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},o.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},o.readUint32=function(e){return this.readInt32(e)>>>0},o.readInt64=function(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))},o.readUint64=function(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))},o.readFloat32=function(e){return js[0]=this.readInt32(e),ld[0]},o.readFloat64=function(e){return js[ff?0:1]=this.readInt32(e),js[ff?1:0]=this.readInt32(e+4),ud[0]},o.writeInt8=function(e,t){this.bytes_[e]=t},o.writeUint8=function(e,t){this.bytes_[e]=t},o.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},o.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},o.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},o.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},o.writeInt64=function(e,t){this.writeInt32(e,Number(BigInt.asIntN(32,t))),this.writeInt32(e+4,Number(BigInt.asIntN(32,t>>BigInt(32))))},o.writeUint64=function(e,t){this.writeUint32(e,Number(BigInt.asUintN(32,t))),this.writeUint32(e+4,Number(BigInt.asUintN(32,t>>BigInt(32))))},o.writeFloat32=function(e,t){ld[0]=t,this.writeInt32(e,js[0])},o.writeFloat64=function(e,t){ud[0]=t,this.writeInt32(e,js[ff?0:1]),this.writeInt32(e+4,js[ff?1:0])},o.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+as+ys)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<ys;t++)e+=String.fromCharCode(this.readInt8(this.position_+as+t));return e},o.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},o.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},o.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e);e+=as;var a=this.bytes_.subarray(e,e+n);return t===Lh.UTF8_BYTES?a:this.text_decoder_.decode(a)},o.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},o.__indirect=function(e){return e+this.readInt32(e)},o.__vector=function(e){return e+this.readInt32(e)+as},o.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},o.__has_identifier=function(e){if(e.length!=ys)throw new Error("FlatBuffers: file identifier must be length "+ys);for(var t=0;t<ys;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+as+t))return!1;return!0},o.createScalarList=function(e,t){for(var n=[],a=0;a<t;++a){var s=e(a);s!==null&&n.push(s)}return n},o.createObjList=function(e,t){for(var n=[],a=0;a<t;++a){var s=e(a);s!==null&&n.push(s.unpack())}return n},i.allocate=function(e){return new i(new Uint8Array(e))},i}(),cd=function(){function i(r){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;var e;r?e=r:e=1024,this.bb=hf.allocate(e),this.space=e}var o=i.prototype;return o.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},o.forceDefaults=function(r){this.force_defaults=r},o.dataBuffer=function(){return this.bb},o.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},o.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<n+e+t;){var a=this.bb.capacity();this.bb=i.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(n)},o.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},o.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},o.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},o.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},o.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},o.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},o.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},o.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},o.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},o.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},o.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},o.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},o.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},o.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},o.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},o.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},o.addFieldInt64=function(e,t,n){(this.force_defaults||t!==n)&&(this.addInt64(t),this.slot(e))},o.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},o.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},o.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},o.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},o.nested=function(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")},o.notNested=function(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")},o.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},o.offset=function(){return this.bb.capacity()-this.space},o.addOffset=function(e){this.prep(as,0),this.writeInt32(this.offset()-e+as)},o.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},o.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var n=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var a=2;this.addInt16(e-this.object_start);var s=(n+a)*_h;this.addInt16(s);var l=0,c=this.space;e:for(t=0;t<this.vtables.length;t++){var h=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(h)){for(var m=_h;m<s;m+=_h)if(this.bb.readInt16(c+m)!=this.bb.readInt16(h+m))continue e;l=this.vtables[t];break}}return l?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,l-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},o.finish=function(e,t,n){var a=n?pl:0;if(t){var s=t;if(this.prep(this.minalign,as+ys+a),s.length!=ys)throw new TypeError("FlatBuffers: file identifier must be length "+ys);for(var l=ys-1;l>=0;l--)this.writeInt8(s.charCodeAt(l))}this.prep(this.minalign,as+a),this.addOffset(e),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},o.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},o.requiredField=function(e,t){var n=this.bb.capacity()-e,a=n-this.bb.readInt32(n),s=t<this.bb.readInt16(a)&&this.bb.readInt16(a+t)!=0;if(!s)throw new TypeError("FlatBuffers: field "+t+" must be set")},o.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(as,e*t),this.prep(n,e*t)},o.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},o.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},o.createString=function(e){if(e==null)return 0;var t;return k(e,Uint8Array)?t=e:t=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector()},o.createByteVector=function(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())},o.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},o.createObjectOffsetList=function(e){for(var t=[],n=0;n<e.length;++n){var a=e[n];if(a!==null)t.push(this.createObjectOffset(a));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},o.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()},i.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,a=hf.allocate(n);return a.setPosition(n-t),a.bytes().set(e.bytes(),n-t),a},i}(),Fh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.dataType=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},o.dataLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.dataArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.unpack=function(){return new fd(this.dataType(),this.bb.createScalarList(this.data.bind(this),this.dataLength()))},o.unpackTo=function(e){e.dataType=this.dataType(),e.data=this.bb.createScalarList(this.data.bind(this),this.dataLength())},i.getRootAsFBEffectsObjectData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBEffectsObjectData=function(e,t){return e.setPosition(e.position()+pl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBEffectsObjectData=function(e){e.startObject(2)},i.addDataType=function(e,t){e.addFieldOffset(0,t,0)},i.addData=function(e,t){e.addFieldOffset(1,t,0)},i.createDataVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},i.startDataVector=function(e,t){e.startVector(1,t,1)},i.endFBEffectsObjectData=function(e){var t=e.endObject();return t},i.createFBEffectsObjectData=function(e,t,n){return i.startFBEffectsObjectData(e),i.addDataType(e,t),i.addData(e,n),i.endFBEffectsObjectData(e)},i}(),fd=function(){function i(r,e){r===void 0&&(r=null),e===void 0&&(e=[]),this.dataType=r,this.data=e}var o=i.prototype;return o.pack=function(e){var t=this.dataType!==null?e.createString(this.dataType):0,n=Fh.createDataVector(e,this.data);return Fh.createFBEffectsObjectData(e,t,n)},i}(),Vu=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.exportObjects=function(e,t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new Fh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null},o.exportObjectsLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},o.unpack=function(){return new hd(this.bb.createObjList(this.exportObjects.bind(this),this.exportObjectsLength()))},o.unpackTo=function(e){e.exportObjects=this.bb.createObjList(this.exportObjects.bind(this),this.exportObjectsLength())},i.getRootAsFBEffectsPackageData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBEffectsPackageData=function(e,t){return e.setPosition(e.position()+pl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBEffectsPackageData=function(e){e.startObject(1)},i.addExportObjects=function(e,t){e.addFieldOffset(0,t,0)},i.createExportObjectsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},i.startExportObjectsVector=function(e,t){e.startVector(4,t,4)},i.endFBEffectsPackageData=function(e){var t=e.endObject();return t},i.finishFBEffectsPackageDataBuffer=function(e,t){e.finish(t)},i.finishSizePrefixedFBEffectsPackageDataBuffer=function(e,t){e.finish(t,void 0,!0)},i.createFBEffectsPackageData=function(e,t){return i.startFBEffectsPackageData(e),i.addExportObjects(e,t),i.endFBEffectsPackageData(e)},i}(),hd=function(){function i(r){r===void 0&&(r=[]),this.exportObjects=r}var o=i.prototype;return o.pack=function(e){var t=Vu.createExportObjectsVector(e,e.createObjectOffsetList(this.exportObjects));return Vu.createFBEffectsPackageData(e,t)},i}(),dd=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.offset=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},o.indexCount=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},o.vertexCount=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},o.unpack=function(){return new md(this.offset(),this.indexCount(),this.vertexCount())},o.unpackTo=function(e){e.offset=this.offset(),e.indexCount=this.indexCount(),e.vertexCount=this.vertexCount()},i.getRootAsFBSubMesh=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBSubMesh=function(e,t){return e.setPosition(e.position()+pl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBSubMesh=function(e){e.startObject(3)},i.addOffset=function(e,t){e.addFieldInt32(0,t,0)},i.addIndexCount=function(e,t){e.addFieldInt32(1,t,0)},i.addVertexCount=function(e,t){e.addFieldInt32(2,t,0)},i.endFBSubMesh=function(e){var t=e.endObject();return t},i.createFBSubMesh=function(e,t,n,a){return i.startFBSubMesh(e),i.addOffset(e,t),i.addIndexCount(e,n),i.addVertexCount(e,a),i.endFBSubMesh(e)},i}(),md=function(){function i(r,e,t){r===void 0&&(r=0),e===void 0&&(e=0),t===void 0&&(t=0),this.offset=r,this.indexCount=e,this.vertexCount=t}var o=i.prototype;return o.pack=function(e){return dd.createFBSubMesh(e,this.offset,this.indexCount,this.vertexCount)},i}(),vd=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.semantic=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.offset=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0},o.format=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0},o.dimension=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},o.normalize=function(){var e=this.bb.__offset(this.bb_pos,12);return e?!!this.bb.readInt8(this.bb_pos+e):!1},o.unpack=function(){return new pd(this.semantic(),this.offset(),this.format(),this.dimension(),this.normalize())},o.unpackTo=function(e){e.semantic=this.semantic(),e.offset=this.offset(),e.format=this.format(),e.dimension=this.dimension(),e.normalize=this.normalize()},i.getRootAsFBVertexChannel=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBVertexChannel=function(e,t){return e.setPosition(e.position()+pl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBVertexChannel=function(e){e.startObject(5)},i.addSemantic=function(e,t){e.addFieldOffset(0,t,0)},i.addOffset=function(e,t){e.addFieldInt32(1,t,0)},i.addFormat=function(e,t){e.addFieldInt32(2,t,0)},i.addDimension=function(e,t){e.addFieldInt32(3,t,0)},i.addNormalize=function(e,t){e.addFieldInt8(4,+t,0)},i.endFBVertexChannel=function(e){var t=e.endObject();return t},i.createFBVertexChannel=function(e,t,n,a,s,l){return i.startFBVertexChannel(e),i.addSemantic(e,t),i.addOffset(e,n),i.addFormat(e,a),i.addDimension(e,s),i.addNormalize(e,l),i.endFBVertexChannel(e)},i}(),pd=function(){function i(r,e,t,n,a){r===void 0&&(r=null),e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=!1),this.semantic=r,this.offset=e,this.format=t,this.dimension=n,this.normalize=a}var o=i.prototype;return o.pack=function(e){var t=this.semantic!==null?e.createString(this.semantic):0;return vd.createFBVertexChannel(e,t,this.offset,this.format,this.dimension,this.normalize)},i}(),Dh=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.vertexCount=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},o.channels=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new vd).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null},o.channelsLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.unpack=function(){return new gd(this.vertexCount(),this.bb.createObjList(this.channels.bind(this),this.channelsLength()))},o.unpackTo=function(e){e.vertexCount=this.vertexCount(),e.channels=this.bb.createObjList(this.channels.bind(this),this.channelsLength())},i.getRootAsFBVertexData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBVertexData=function(e,t){return e.setPosition(e.position()+pl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBVertexData=function(e){e.startObject(2)},i.addVertexCount=function(e,t){e.addFieldInt32(0,t,0)},i.addChannels=function(e,t){e.addFieldOffset(1,t,0)},i.createChannelsVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},i.startChannelsVector=function(e,t){e.startVector(4,t,4)},i.endFBVertexData=function(e){var t=e.endObject();return t},i.createFBVertexData=function(e,t,n){return i.startFBVertexData(e),i.addVertexCount(e,t),i.addChannels(e,n),i.endFBVertexData(e)},i}(),gd=function(){function i(r,e){r===void 0&&(r=0),e===void 0&&(e=[]),this.vertexCount=r,this.channels=e}var o=i.prototype;return o.pack=function(e){var t=Dh.createChannelsVector(e,e.createObjectOffsetList(this.channels));return Dh.createFBVertexData(e,this.vertexCount,t)},i}(),Ua=function(){function i(){this.bb=null,this.bb_pos=0}var o=i.prototype;return o.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.id=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.name=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},o.vertexData=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new Dh).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},o.indexFormat=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0},o.indexOffset=function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb_pos+e):0},o.subMeshes=function(e,t){var n=this.bb.__offset(this.bb_pos,14);return n?(t||new dd).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null},o.subMeshesLength=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0},o.mode=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):0},o.buffer=function(e){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null},o.binaryData=function(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},o.binaryDataLength=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0},o.binaryDataArray=function(){var e=this.bb.__offset(this.bb_pos,20);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.boneNames=function(e,t){var n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+e*4,t):null},o.boneNamesLength=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0},o.rootBoneName=function(e){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__string(this.bb_pos+t,e):null},o.inverseBindMatrices=function(e){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+e*4):0},o.inverseBindMatricesLength=function(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0},o.inverseBindMatricesArray=function(){var e=this.bb.__offset(this.bb_pos,26);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.unpack=function(){return new yd(this.id(),this.name(),this.vertexData()!==null?this.vertexData().unpack():null,this.indexFormat(),this.indexOffset(),this.bb.createObjList(this.subMeshes.bind(this),this.subMeshesLength()),this.mode(),this.buffer(),this.bb.createScalarList(this.binaryData.bind(this),this.binaryDataLength()),this.bb.createScalarList(this.boneNames.bind(this),this.boneNamesLength()),this.rootBoneName(),this.bb.createScalarList(this.inverseBindMatrices.bind(this),this.inverseBindMatricesLength()))},o.unpackTo=function(e){e.id=this.id(),e.name=this.name(),e.vertexData=this.vertexData()!==null?this.vertexData().unpack():null,e.indexFormat=this.indexFormat(),e.indexOffset=this.indexOffset(),e.subMeshes=this.bb.createObjList(this.subMeshes.bind(this),this.subMeshesLength()),e.mode=this.mode(),e.buffer=this.buffer(),e.binaryData=this.bb.createScalarList(this.binaryData.bind(this),this.binaryDataLength()),e.boneNames=this.bb.createScalarList(this.boneNames.bind(this),this.boneNamesLength()),e.rootBoneName=this.rootBoneName(),e.inverseBindMatrices=this.bb.createScalarList(this.inverseBindMatrices.bind(this),this.inverseBindMatricesLength())},i.getRootAsFBGeometryData=function(e,t){return(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.getSizePrefixedRootAsFBGeometryData=function(e,t){return e.setPosition(e.position()+pl),(t||new i).__init(e.readInt32(e.position())+e.position(),e)},i.startFBGeometryData=function(e){e.startObject(12)},i.addId=function(e,t){e.addFieldOffset(0,t,0)},i.addName=function(e,t){e.addFieldOffset(1,t,0)},i.addVertexData=function(e,t){e.addFieldOffset(2,t,0)},i.addIndexFormat=function(e,t){e.addFieldInt32(3,t,0)},i.addIndexOffset=function(e,t){e.addFieldInt32(4,t,0)},i.addSubMeshes=function(e,t){e.addFieldOffset(5,t,0)},i.createSubMeshesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},i.startSubMeshesVector=function(e,t){e.startVector(4,t,4)},i.addMode=function(e,t){e.addFieldInt32(6,t,0)},i.addBuffer=function(e,t){e.addFieldOffset(7,t,0)},i.addBinaryData=function(e,t){e.addFieldOffset(8,t,0)},i.createBinaryDataVector=function(e,t){e.startVector(1,t.length,1);for(var n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()},i.startBinaryDataVector=function(e,t){e.startVector(1,t,1)},i.addBoneNames=function(e,t){e.addFieldOffset(9,t,0)},i.createBoneNamesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},i.startBoneNamesVector=function(e,t){e.startVector(4,t,4)},i.addRootBoneName=function(e,t){e.addFieldOffset(10,t,0)},i.addInverseBindMatrices=function(e,t){e.addFieldOffset(11,t,0)},i.createInverseBindMatricesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()},i.startInverseBindMatricesVector=function(e,t){e.startVector(4,t,4)},i.endFBGeometryData=function(e){var t=e.endObject();return t},i}(),yd=function(){function i(r,e,t,n,a,s,l,c,h,m,v,p){r===void 0&&(r=null),e===void 0&&(e=null),t===void 0&&(t=null),n===void 0&&(n=0),a===void 0&&(a=0),s===void 0&&(s=[]),l===void 0&&(l=0),c===void 0&&(c=null),h===void 0&&(h=[]),m===void 0&&(m=[]),v===void 0&&(v=null),p===void 0&&(p=[]),this.id=r,this.name=e,this.vertexData=t,this.indexFormat=n,this.indexOffset=a,this.subMeshes=s,this.mode=l,this.buffer=c,this.binaryData=h,this.boneNames=m,this.rootBoneName=v,this.inverseBindMatrices=p}var o=i.prototype;return o.pack=function(e){var t=this.id!==null?e.createString(this.id):0,n=this.name!==null?e.createString(this.name):0,a=this.vertexData!==null?this.vertexData.pack(e):0,s=Ua.createSubMeshesVector(e,e.createObjectOffsetList(this.subMeshes)),l=this.buffer!==null?e.createString(this.buffer):0,c=Ua.createBinaryDataVector(e,this.binaryData),h=Ua.createBoneNamesVector(e,e.createObjectOffsetList(this.boneNames)),m=this.rootBoneName!==null?e.createString(this.rootBoneName):0,v=Ua.createInverseBindMatricesVector(e,this.inverseBindMatrices);return Ua.startFBGeometryData(e),Ua.addId(e,t),Ua.addName(e,n),Ua.addVertexData(e,a),Ua.addIndexFormat(e,this.indexFormat),Ua.addIndexOffset(e,this.indexOffset),Ua.addSubMeshes(e,s),Ua.addMode(e,this.mode),Ua.addBuffer(e,l),Ua.addBinaryData(e,c),Ua.addBoneNames(e,h),Ua.addRootBoneName(e,m),Ua.addInverseBindMatrices(e,v),Ua.endFBGeometryData(e)},i}(),Em=function(){function i(){this.exportObjectDatas=[]}var o=i.prototype;return o.addData=function(e){this.exportObjectDatas.push(e)},o.serializeToBinary=function(){for(var e=new cd(1),t=new hd,n=[],a=ke(this.exportObjectDatas),s;!(s=a()).done;){var l=s.value,c=void 0;l.dataType===St.Geometry&&(c=new fd("Geometry",this.geometryDataToBinary(l))),c&&n.push(c)}return t.exportObjects=n,Vu.finishFBEffectsPackageDataBuffer(e,t.pack(e)),e.asUint8Array()},o.deserializeFromBinary=function(e){for(var t=new hf(e),n=Vu.getRootAsFBEffectsPackageData(t),a=0;a<n.exportObjectsLength();a++){var s=n.exportObjects(a);if(s){var l=s.dataArray(),c=s.dataType();if(l){var h=void 0;c===St.Geometry&&(h=this.binaryToGeometryData(l)),h&&this.exportObjectDatas.push(h)}}}},o.geometryDataToBinary=function(e){var t=new cd(1),n=new yd,a=e.indexFormat,s=e.indexOffset,l=e.mode,c=e.id,h=e.vertexData,m=e.boneNames,v=m===void 0?[]:m,p=e.rootBoneName,b=p===void 0?"":p,x=e.inverseBindMatrices,P=x===void 0?[]:x,V=e.binaryData,D=V===void 0?[]:V;n.indexFormat=a,n.indexOffset=s,n.mode=l,n.id=c,n.boneNames=v,n.rootBoneName=b,n.inverseBindMatrices=P,n.binaryData=D;var _=new gd;_.vertexCount=h.vertexCount,_.channels=[];for(var K=ke(h.channels),U;!(U=K()).done;){var W=U.value,q=W.semantic,ie=W.offset,oe=W.format,Xe=W.dimension,Je=W.normalize,ot=new pd(q,ie,oe,Xe,Je);_.channels.push(ot)}n.vertexData=_;for(var lt=[],Et=ke(e.subMeshes),Ht;!(Ht=Et()).done;){var Gt=Ht.value,Qt=Gt.offset,en=Gt.indexCount,Pt=Gt.vertexCount,Fn=new md(Qt,en,Pt);lt.push(Fn)}return n.subMeshes=lt,Vu.finishFBEffectsPackageDataBuffer(t,n.pack(t)),t.asUint8Array()},o.binaryToGeometryData=function(e){var t=new hf(e),n=Ua.getRootAsFBGeometryData(t),a={vertexCount:0,channels:[]},s=n.vertexData();if(s){a.vertexCount=s.vertexCount();for(var l=0;l<s.channelsLength();l++){var c=s.channels(l);if(c){var h,m={semantic:(h=c.semantic())!=null?h:"",offset:c.offset(),format:c.format(),dimension:c.dimension(),normalize:c.normalize()};a.channels.push(m)}}}for(var v=[],p=0;p<n.subMeshesLength();p++){var b=n.subMeshes(p);if(b){var x={offset:b.offset(),vertexCount:b.vertexCount(),indexCount:b.indexCount()};v.push(x)}}for(var P=[],V=0;V<n.boneNamesLength();V++){var D=n.boneNames(V);P.push(D)}var _=n.inverseBindMatricesArray(),K,U,W,q,ie={vertexData:a,indexFormat:n.indexFormat(),indexOffset:n.indexOffset(),subMeshes:v,mode:n.mode(),buffer:(K=n.buffer())!=null?K:"",boneNames:P,rootBoneName:(U=n.rootBoneName())!=null?U:"",inverseBindMatrices:_?Array.from(_):void 0,binaryData:(W=n.binaryDataArray())!=null?W:void 0,id:(q=n.id())!=null?q:"",dataType:St.Geometry};return ie},i}(),bd=function(){function i(){this.renderErrors=new Set,this.destroyed=!1,this.textures=[],this.materials=[],this.geometries=[],this.meshes=[],this.renderPasses=[],this.jsonSceneData={},this.objectInstance={},this.assetLoader=new ei(this),this.emptyTexture=xi(this),this.transparentTexture=hi(this)}var o=i.prototype;return o.clearResources=function(){this.jsonSceneData={},this.objectInstance={}},o.addEffectsObjectData=function(e){this.jsonSceneData[e.id]=e},o.findEffectsObjectData=function(e){return this.jsonSceneData[e]},o.addInstance=function(e){this.objectInstance[e.getInstanceId()]=e},o.getInstance=function(e){return this.objectInstance[e]},o.removeInstance=function(e){delete this.objectInstance[e]},o.addPackageDatas=function(e){for(var t=e.jsonScene,n=e.textureOptions,a=n===void 0?[]:n,s=t.items,l=s===void 0?[]:s,c=t.materials,h=c===void 0?[]:c,m=t.shaders,v=m===void 0?[]:m,p=t.geometries,b=p===void 0?[]:p,x=t.components,P=x===void 0?[]:x,V=t.animations,D=V===void 0?[]:V,_=t.bins,K=_===void 0?[]:_,U=t.miscs,W=U===void 0?[]:U,q=ke(l),ie;!(ie=q()).done;){var oe=ie.value;this.addEffectsObjectData(oe)}for(var Xe=ke(h),Je;!(Je=Xe()).done;){var ot=Je.value;this.addEffectsObjectData(ot)}for(var lt=ke(v),Et;!(Et=lt()).done;){var Ht=Et.value;this.addEffectsObjectData(Ht)}for(var Gt=ke(b),Qt;!(Qt=Gt()).done;){var en=Qt.value;this.addEffectsObjectData(en)}for(var Pt=ke(P),Fn;!(Fn=Pt()).done;){var dn=Fn.value;this.addEffectsObjectData(dn)}for(var In=ke(D),Yn;!(Yn=In()).done;){var Kn=Yn.value;this.addEffectsObjectData(Kn)}for(var ni=ke(W),qn;!(qn=ni()).done;){var sa=qn.value;this.addEffectsObjectData(sa)}for(var La=0;La<K.length;La++){var ha=K[La],Ka=e.bins[La];if(ha.dataType===St.BinaryAsset)ha.buffer=Ka,ha.id&&this.addEffectsObjectData(ha);else{var pr=new Em;pr.deserializeFromBinary(new Uint8Array(Ka));for(var ja=ke(pr.exportObjectDatas),Ha;!(Ha=ja()).done;){var di=Ha.value;this.addEffectsObjectData(di)}}}for(var os=ke(a),Xo;!(Xo=os()).done;){var Ri=Xo.value;this.addEffectsObjectData(Ri)}},o.createVFXItems=function(e){var t=this;return M(function(){var n,a,s,l,c;return ee(this,function(h){switch(h.label){case 0:n=e.jsonScene,a=ke(n.items),h.label=1;case 1:return(s=a()).done?[3,4]:(l=s.value,c=l.type,c==="ECS"||c==="camera"||c===Ve.sprite||c===Ve.particle||c===Ve.mesh||c===Ve.skybox||c===Ve.light||c===Ve.tree||c===Ve.interact||c===Ve.camera?t.database?[4,t.assetLoader.loadGUIDAsync(l.id)]:[3,3]:[3,3]);case 2:h.sent(),h.label=3;case 3:return[3,1];case 4:return[2]}})})()},o.addTexture=function(e){this.destroyed||nt(this.textures,e)},o.removeTexture=function(e){this.destroyed||ge(this.textures,e)},o.addMaterial=function(e){this.destroyed||nt(this.materials,e)},o.removeMaterial=function(e){this.destroyed||ge(this.materials,e)},o.addGeometry=function(e){this.destroyed||nt(this.geometries,e)},o.removeGeometry=function(e){this.destroyed||ge(this.geometries,e)},o.addMesh=function(e){this.destroyed||nt(this.meshes,e)},o.removeMesh=function(e){this.destroyed||ge(this.meshes,e)},o.addRenderPass=function(e){this.destroyed||nt(this.renderPasses,e)},o.removeRenderPass=function(e){this.destroyed||ge(this.renderPasses,e)},o.getShaderLibrary=function(){return this.renderer.getShaderLibrary()},o.dispose=function(){if(!this.destroyed){this.destroyed=!0;var e=[];this.renderPasses.length>0&&e.push("Pass "+this.renderPasses.length),this.meshes.length>0&&e.push("Mesh "+this.meshes.length),this.geometries.length>0&&e.push("Geom "+this.geometries.length),this.textures.length>0&&e.push("Tex "+this.textures.length),e.length>0&&He.warn("Release GPU memory: "+e.join(", ")+"."),this.renderPasses.forEach(function(t){return t.dispose()}),this.meshes.forEach(function(t){return t.dispose()}),this.geometries.forEach(function(t){return t.dispose()}),this.materials.forEach(function(t){return t.dispose()}),this.textures.forEach(function(t){return t.dispose()}),this.textures=[],this.materials=[],this.geometries=[],this.meshes=[],this.renderPasses=[],this.renderer=null}},yn(i,[{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),Tm=60,Sm=function(){function i(r){r===void 0&&(r=Tm),this.paused=!0,this.lastTime=0,this.dt=0,this.setFPS(r),this.tickers=[]}var o=i.prototype;return o.getFPS=function(){return this.targetFPS},o.setFPS=function(e){this.targetFPS=Li(e,1,120),this.interval=Math.floor(1e3/e)-2},o.getPaused=function(){return this.paused},o.start=function(){var e=this;if(this.paused=!1,this.dt=0,!this.intervalId){this.lastTime=performance.now();var t=requestAnimationFrame||function(a){return window.setTimeout(a,16.7)},n=function(){e.intervalId=t(n),e.paused||e.tick()};n()}},o.stop=function(){(cancelAnimationFrame||window.clearTimeout)(this.intervalId),this.intervalId=0,this.lastTime=0,this.paused=!0,this.dt=0,this.tickers=[]},o.pause=function(){this.paused=!0,this.dt=0},o.resume=function(){this.paused=!1,this.dt=0},o.tick=function(){if(!this.paused){var e=performance.now();if(this.dt=e-this.lastTime,this.dt>=this.interval){this.lastTime=e,this.resetTickers&&(this.tickers=this.tickers.filter(function(s){return s}),this.resetTickers=!1);for(var t=0,n=this.tickers.length;t<n;t++){var a=this.tickers[t];a(this.dt)}}}},o.add=function(e){if(typeof e!="function")throw new Error("The tick object must implement the tick method.");this.tickers.push(e)},yn(i,[{key:"deltaTime",get:function(){return this.dt}}]),i}();At("camera",ll,Pi,!0),At("text",vr,Pi,!0),At("sprite",cc,Pi,!0),At("particle",bh,Pi,!0),At("cal",Uc,Pi,!0),At("interact",Rf,Pi,!0);var wm="2.2.7";He.info("Core version: "+wm+".");var Hs,Om=(Hs={},Hs[F.RGBA]=34842,Hs[F.RGB]=34843,Hs[F.ALPHA]=33325,Hs[F.RED]=33325,Hs[F.LUMINANCE_ALPHA]=33327,Hs[F.LUMINANCE]=33325,Hs),Gs,Mm=(Gs={},Gs[F.RGBA]=34836,Gs[F.RGB]=34837,Gs[F.ALPHA]=33326,Gs[F.RED]=33326,Gs[F.LUMINANCE_ALPHA]=33328,Gs[F.LUMINANCE]=33326,Gs),Ws=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,n.initialized=!1,t&&n.fromData(t),n}var r=o.prototype;return r.bind=function(t){this.pipelineContext.bindTexture(this.target,this.textureBuffer,t)},r.initialize=function(){if(!this.initialized){var t=this.engine;t.addTexture(this),this.pipelineContext=t.getGLPipelineContext();var n=this.pipelineContext.gl,a=this.source,s=a.target,l=s===void 0?n.TEXTURE_2D:s,c=a.name;this.textureBuffer=n.createTexture(),Bu(this.textureBuffer,c),this.target=l,this.update(this.source),this.release(),this.initialized=!0}},r.clone=function(){var t=new o(this.engine,this.source);return t.sourceFrom=this.sourceFrom,t.sourceType=this.sourceType,t.width=this.width,t.height=this.height,t},r.release=function(){var t=this.source.sourceType;switch(t){case j.image:delete this.source.image,delete this.source.cube;break;case j.data:delete this.source.data;break;case j.compressed:delete this.source.mipmaps;break;case j.mipmaps:delete this.source.mipmaps;break}},r.update=function(t){var n=this;if(!this.pipelineContext||!this.textureBuffer){this.width=0,this.height=0;return}var a=this.target,s=this.source,l=this.pipelineContext.gl,c=this.engine.gpuCapability.detail,h=s.sourceType,m=s.data,v=s.cube,p=s.image,b=s.video,x=s.mipmaps,P=s.mipmaps,V=t.data,D=t.cube,_=t.generateMipmap,K=t.mipmaps,U=s.format,W=s.type,q=s.internalFormat,ie=0,oe=0;if(this.bind(h===j.video),W===F.HALF_FLOAT?(W=c.halfFloatTexture,W||He.error("Half float texture is not support."),An(l)&&q===U&&(U===F.LUMINANCE&&(U=F.RED),q=Om[U]),c.halfFloatLinear||(s.minFilter=s.magFilter=l.NEAREST,He.warn("Half float linear not support, change to NEAREST."))):W===l.FLOAT&&(W=c.floatTexture,W||He.error("Float texture is not support."),An(l)&&q===U&&(U===F.LUMINANCE&&(U=F.RED),q=Mm[U]),c.floatLinear||(s.minFilter=l.NEAREST,s.magFilter=l.NEAREST,He.warn("Float linear not support, change to NEAREST."))),s.premultiplyAlpha===void 0&&(s.premultiplyAlpha=!1),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),s.flipY===void 0&&(s.flipY=!1),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,s.flipY),h===j.framebuffer){if(V){var Xe;ie=(Xe=V.width)!=null?Xe:0;var Je;oe=(Je=V.height)!=null?Je:0,ie&&oe&&(this.width!==ie||this.height!==oe)&&l.texImage2D(a,0,q,ie,oe,0,U,W,null)}}else if(h===j.data)if(a===l.TEXTURE_CUBE_MAP)D.forEach(function(Gt,Qt){var en=n.texImage2DData(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Qt,0,q,U,W,Gt),Pt=en[0],Fn=en[1];ie=Math.max(Pt,ie),oe=Math.max(Fn,oe)});else{var ot;ot=this.texImage2DData(l,a,0,q,U,W,m),ie=ot[0],oe=ot[1]}else if(h===j.image||h===j.video){if(a===l.TEXTURE_CUBE_MAP)v.forEach(function(Gt,Qt){var en=n.texImage2D(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Qt,0,q,U,W,Gt),Pt=en[0],Fn=en[1];ie=Math.max(Pt,ie),oe=Math.max(Fn,oe)});else if(a===l.TEXTURE_2D){var lt=p!=null?p:b,Et;Et=this.texImage2D(l,a,0,q,U,W,lt),ie=Et[0],oe=Et[1]}_&&(df(ie)&&df(oe)||An(l))&&l.generateMipmap(a)}else if(h===j.mipmaps){var Ht;a===l.TEXTURE_2D?x.forEach(function(Gt,Qt){if("data"in Gt?Ht=n.texImage2DData(l,a,Qt,q,U,W,Gt):Ht=n.texImage2D(l,a,Qt,q,U,W,Gt),Qt===0){var en;en=Ht,ie=en[0],oe=en[1]}}):a===l.TEXTURE_CUBE_MAP&&P.forEach(function(Gt,Qt){Gt.forEach(function(en,Pt){if("data"in en?Ht=n.texImage2DData(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Qt,q,U,W,en):Ht=n.texImage2D(l,l.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,Qt,q,U,W,en),Qt===0){var Fn;Fn=Ht,ie=Fn[0],oe=Fn[1]}})})}else h===j.compressed&&K&&K.length!==0&&(ie=K[0].width,oe=K[0].height,K.forEach(function(Gt,Qt){l.compressedTexImage2D(a,Qt,q,Gt.width,Gt.height,0,Gt.data)}));this.width=ie,this.height=oe,this.setTextureFilters(l,a,s)},r.setTextureFilters=function(t,n,a){var s=a.anisotropic,l=s===void 0?4:s,c=a.wrapS,h=c===void 0?t.CLAMP_TO_EDGE:c,m=a.wrapT,v=m===void 0?t.CLAMP_TO_EDGE:m,p=this.engine.gpuCapability;this.target===t.TEXTURE_2D&&p.setTextureAnisotropic(t,this.target,l);var b=An(t)||df(this.width)&&df(this.height),x=a.magFilter?a.magFilter:t.NEAREST,P=a.minFilter?a.minFilter:t.NEAREST;b||(P===t.LINEAR_MIPMAP_LINEAR||P===t.LINEAR_MIPMAP_NEAREST||P===t.NEAREST_MIPMAP_LINEAR||P===t.NEAREST_MIPMAP_NEAREST)&&(P=t.LINEAR),t.texParameteri(n,t.TEXTURE_MIN_FILTER,P),t.texParameteri(n,t.TEXTURE_MAG_FILTER,x),t.texParameteri(n,t.TEXTURE_WRAP_S,b?h:t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,b?v:t.CLAMP_TO_EDGE)},r.fromData=function(t){i.prototype.fromData.call(this,t);var n=t,a=this.assembleOptions(n),s=a.sourceType,l=a.sourceFrom,c=a.name,h=c===void 0?"":c;this.source=a,this.sourceType=s,this.sourceFrom=l,this.name=h,this.guid=t.id},r.texImage2D=function(t,n,a,s,l,c,h){var m=this,v=this.source,p=v.sourceType,b=v.minFilter,x=v.magFilter,P=v.wrapS,V=v.wrapT,D,_=(D=this.engine.gpuCapability.detail.maxTextureSize)!=null?D:2048,K=h;if(p!==j.video){var U=b!==t.NEAREST||x!==t.NEAREST||P!==t.CLAMP_TO_EDGE||V!==t.CLAMP_TO_EDGE;U=U||h.width>_||h.height>_,U&&setTimeout(function(){K=m.resizeImage(h)})}t.texImage2D(n,a,s,l,c,K);var W=[K.width,K.height];if(p===j.video){var q=h.videoWidth,ie=h.videoHeight;return[q,ie]}return W},r.texImage2DData=function(t,n,a,s,l,c,h){var m=h.data,v=h.width,p=h.height,b=l===t.UNSIGNED_BYTE?new Uint8Array(m.buffer,m.byteOffset,m.byteLength/m.BYTES_PER_ELEMENT):m;return t.texImage2D(n,a,s,v,p,0,l,c,b),[v,p]},r.resizeImage=function(t,n,a){var s=this.engine.gpuCapability.detail,l,c=(l=s.maxTextureSize)!=null?l:2048,h=this.pipelineContext.gl;if(An(h)&&t.width<c&&t.height<c)return t;var m=Am(t,c,n,a);return m||t},r.reloadData=function(){var t=this;return M(function(){return ee(this,function(n){switch(n.label){case 0:return t.offloaded?[4,Va().reload(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})()},r.offloadData=function(){if(this.initialized&&Va().canOffloadTexture(this.source.sourceFrom)){var t=this.target,n=this.pipelineContext.gl;if(n&&this.textureBuffer){var a=new Uint8Array([255]);if(this.bind(),t===n.TEXTURE_2D)n.texImage2D(t,0,n.LUMINANCE,1,1,0,n.LUMINANCE,n.UNSIGNED_BYTE,a);else if(t===n.TEXTURE_CUBE_MAP)for(var s=[n.TEXTURE_CUBE_MAP_NEGATIVE_X,n.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.TEXTURE_CUBE_MAP_NEGATIVE_Z,n.TEXTURE_CUBE_MAP_POSITIVE_X,n.TEXTURE_CUBE_MAP_POSITIVE_Y,n.TEXTURE_CUBE_MAP_POSITIVE_Z],l=0;l<s.length;l++)n.texImage2D(s[l],0,n.LUMINANCE,1,1,0,n.LUMINANCE,n.UNSIGNED_BYTE,a);n.generateMipmap(t),this.width=1,this.height=1}this.offloaded=!0}},r.uploadCurrentVideoFrame=function(){var t=this;return M(function(){return ee(this,function(n){return t.source.sourceType===j.video&&t.source.video&&t.initialized?(t.update({video:t.source.video}),[2,!0]):[2,!1]})})()},r.updateSource=function(t){this.source=this.assembleOptions(I({},this.source,t)),this.sourceType=this.source.sourceType,this.sourceFrom=this.source.sourceFrom,this.update(this.source)},r.restore=function(){},r.dispose=function(){this.pipelineContext&&this.textureBuffer&&this.pipelineContext.gl.deleteTexture(this.textureBuffer),this.width=0,this.height=0,this.textureBuffer=null,this.destroyed=!0,this.update=function(){He.error("This texture has been destroyed.")},this.initialize=Mt,this.engine!==void 0&&this.engine.removeTexture(this)},o}(Zn);function Am(i,o,r,e){var t=i.width,n=i.height,a=Math.min(o,r||za(t)),s=Math.min(o,e||za(n));if(s!==n||a!==t){var l=cn.getCanvas(),c=l.getContext("2d");return l.width=a,l.height=s,c==null||c.drawImage(i,0,0,t,n,0,0,a,s),He.warn("Image resize from "+t+"x"+n+" to "+a+"x"+s+"."),l}}function df(i){return(i&i-1)===0&&i!==0}var xd=function(){function i(r,e){this.ready=!1,this.disposed=!1,this.gl=r.getGLPipelineContext().gl,this.vaoExt=r.gpuCapability.vaoExt,this.vao=this.createVertexArray(e)}var o=i.prototype;return o.bind=function(){this.bindVertexArray(this.vao)},o.unbind=function(){this.bindVertexArray(null)},o.createVertexArray=function(e){var t=null;return An(this.gl)&&(t=this.gl.createVertexArray()),!t&&this.vaoExt&&(t=this.vaoExt.createVertexArrayOES()),Bu(t,e),t},o.bindVertexArray=function(e){if(An(this.gl))this.gl.bindVertexArray(e);else{var t;(t=this.vaoExt)==null||t.bindVertexArrayOES(e)}},o.dispose=function(){if(An(this.gl))this.gl.deleteVertexArray(this.vao);else{var e;(e=this.vaoExt)==null||e.deleteVertexArrayOES(this.vao)}},i}(),Cd=1,Ed=function(){function i(r){this.engine=r,this.textures=[],this.renderbuffers=[],this.framebuffers=[],this.destroyed=!1;var e={width:1,height:1,data:new Uint8Array([255])},t=r.getGLPipelineContext(),n=t.gl;this.gl=n,this.pipelineContext=t,this.emptyTexture2D=new Ws(r,{data:e,sourceType:j.data,format:n.LUMINANCE,internalFormat:n.LUMINANCE,type:n.UNSIGNED_BYTE}),this.emptyTexture2D.initialize(),this.emptyTextureCube=new Ws(r,{target:n.TEXTURE_CUBE_MAP,cube:[e,e,e,e,e,e],sourceType:j.data,format:n.LUMINANCE,internalFormat:n.LUMINANCE,type:n.UNSIGNED_BYTE}),this.emptyTextureCube.initialize(),this.name="GLGPURenderer"+Cd,Cd++}var o=i.prototype;return o.copy2=function(e,t){var n=this.gl;if(n){this.sourceFbo||(this.sourceFbo=n.createFramebuffer()),this.targetFbo||(this.targetFbo=n.createFramebuffer());var a=this.pipelineContext;a.bindFramebuffer(n.FRAMEBUFFER,this.sourceFbo),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.textureBuffer,0),a.bindFramebuffer(n.FRAMEBUFFER,this.targetFbo),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.textureBuffer,0),a.bindFramebuffer(n.READ_FRAMEBUFFER,this.sourceFbo),a.bindFramebuffer(n.DRAW_FRAMEBUFFER,this.targetFbo);var s=e.getWidth()===e.getHeight()&&t.getWidth()==t.getHeight()?n.NEAREST:n.LINEAR;n.blitFramebuffer(0,0,e.getWidth(),e.getHeight(),0,0,t.getWidth(),t.getHeight(),n.COLOR_BUFFER_BIT,s),a.bindFramebuffer(n.FRAMEBUFFER,null),a.bindFramebuffer(n.READ_FRAMEBUFFER,null),a.bindFramebuffer(n.DRAW_FRAMEBUFFER,null)}},o.resetColorAttachments=function(e,t){e.bind(),e.resetColorTextures(t)},o.createGLRenderbuffer=function(e){var t=this.gl.createRenderbuffer();return t&&nt(this.renderbuffers,e),t},o.resize=function(e,t){var n=this.gl;(n&&n.drawingBufferWidth!==e||n.drawingBufferHeight!==t)&&(n.canvas.width=e,n.canvas.height=t,n.viewport(0,0,e,t),this.framebuffers.forEach(function(a){var s=a.viewport;a.isCustomViewport||a.resize(s[0],s[1],e*a.viewportScale,t*a.viewportScale)}))},o.drawGeometry=function(e,t,n){if(!this.gl){console.warn("GLGPURenderer has not bound a gl object, unable to render geometry.");return}var a=e,s=t,l=s.shaderVariant.program;if(l){var c=l.setupAttributes(a),h=this.gl,m=a.indicesBuffer,v=a.drawStart,p=a.drawCount,b=a.mode,x=a.subMeshes;if(x&&x.length){var P=x[n];if(p<0)return;if(v=P.offset,m){var V;p=(V=P.indexCount)!=null?V:0}else p=P.vertexCount}m?h.drawElements(b,p,m.type,v!=null?v:0):h.drawArrays(b,v,p),c==null||c.unbind()}},o.createGLFramebuffer=function(e,t){var n=this.gl.createFramebuffer();if(n)nt(this.framebuffers,e),Bu(n,t,t);else throw new Error("Failed to create WebGL framebuffer. gl isContextLost="+this.gl.isContextLost());return n},o.createVAO=function(e){var t=new xd(this.engine,e);return t},o.deleteGLTexture=function(e){e.textureBuffer&&!this.destroyed&&(this.gl.deleteTexture(e.textureBuffer),ge(this.textures,e),delete e.textureBuffer)},o.deleteGPUBuffer=function(e){e&&!this.destroyed&&(this.gl.deleteBuffer(e.glBuffer),delete e.glBuffer)},o.deleteGLFramebuffer=function(e){e&&!this.destroyed&&(this.gl.deleteFramebuffer(e.fbo),ge(this.framebuffers,e),delete e.fbo)},o.deleteGLRenderbuffer=function(e){e&&!this.destroyed&&(this.gl.deleteRenderbuffer(e.buffer),ge(this.renderbuffers,e),delete e.buffer)},o.deleteResource=function(){var e=this,t=this.gl;t&&(t.deleteFramebuffer(this.sourceFbo),t.deleteFramebuffer(this.targetFbo),this.emptyTexture2D.dispose(),this.emptyTextureCube.dispose(),this.framebuffers.forEach(function(n){return e.deleteGLFramebuffer(n)}),this.framebuffers.length=0,this.renderbuffers.forEach(function(n){return e.deleteGLRenderbuffer(n)}),this.renderbuffers.length=0,this.textures.forEach(function(n){return e.deleteGLTexture(n)}),this.textures.length=0)},o.lost=function(e){He.error("WebGL context lost, destroying glRenderer by default to prevent memory leaks. Event target: "+e.target+"."),this.deleteResource()},o.dispose=function(){this.deleteResource(),this.emptyTexture2D=this.emptyTextureCube=this.pipelineContext=this.gpu=this.gl=null,this.destroyed=!0},yn(i,[{key:"height",get:function(){var e;return(e=this.gl)==null?void 0:e.drawingBufferHeight}},{key:"width",get:function(){var e;return(e=this.gl)==null?void 0:e.drawingBufferWidth}},{key:"canvas",get:function(){return this.gl.canvas}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}();function Bu(i,o,r){o===void 0||i===null||(i.__SPECTOR_Metadata={name:o},i.__SPECTOR_Object_TAG?(i.__SPECTOR_Object_TAG.displayText=o,r&&(i.__SPECTOR_Object_TAG.id=r)):i.__SPECTOR_Object_TAG={displayText:o,id:""})}var Td=function(){function i(r,e){this.pipelineContext=r,this.byteLength=0,this.destroyed=!1;var t=e.name,n=e.data,a=e.elementCount,s=e.target,l=s===void 0?F.ARRAY_BUFFER:s,c=e.type,h=c===void 0?F.FLOAT:c,m=e.usage,v=m===void 0?F.STATIC_DRAW:m,p=Pm(h);this.target=l,this.type=h,this.usage=v,this.glBuffer=this.createGLBuffer(t),this.bytesPerElement=p,n?this.bufferData(n):a&&this.bufferData(p*a)}var o=i.prototype;return o.createGLBuffer=function(e){var t=this.pipelineContext.gl.createBuffer();return Bu(t,e),t},o.bind=function(){this.pipelineContext.gl.bindBuffer(this.target,this.glBuffer)},o.bufferData=function(e){var t=typeof e=="number"?e:e.byteLength;if(this.pipelineContext){this.byteLength=t;var n=this.pipelineContext.gl,a=this.target;n.bindBuffer(a,this.glBuffer),t===0?n.bufferData(a,1,this.usage):(n.bufferData(a,t,this.usage),typeof e!="number"&&n.bufferSubData(a,0,e))}else this.byteLength=0},o.bufferSubData=function(e,t){if(this.pipelineContext){var n=this.pipelineContext.gl,a=this.target,s=e*this.bytesPerElement,l=s+t.byteLength;n.bindBuffer(a,this.glBuffer),l>this.byteLength&&(this.byteLength=l,n.bufferData(a,l,this.usage)),n.bufferSubData(a,s,t)}else this.byteLength=0},o.dispose=function(){this.pipelineContext.gl.deleteBuffer(this.glBuffer),this.glBuffer=null,this.destroyed=!0},o.readSubData=function(e,t){return An(this.pipelineContext.gl)?(this.pipelineContext.gl.getBufferSubData(this.target,e*this.bytesPerElement,t),!0):!1},yn(i,[{key:"elementCount",get:function(){return this.byteLength/this.bytesPerElement}},{key:"isDestroyed",get:function(){return this.destroyed}}]),i}(),bs,Im=(bs={},bs[F.INT]=Int32Array,bs[F.FLOAT]=Float32Array,bs[F.SHORT]=Int16Array,bs[F.BYTE]=Int8Array,bs[F.UNSIGNED_BYTE]=Uint8Array,bs[F.UNSIGNED_INT]=Uint32Array,bs[F.UNSIGNED_SHORT]=Uint16Array,bs);function Pm(i){var o,r;return(r=(o=Im[i])==null?void 0:o.BYTES_PER_ELEMENT)!=null?r:0}var zu,Rm=(zu={},zu[Uint8Array.BYTES_PER_ELEMENT]=F.UNSIGNED_BYTE,zu[Uint16Array.BYTES_PER_ELEMENT]=F.UNSIGNED_SHORT,zu[Uint32Array.BYTES_PER_ELEMENT]=F.UNSIGNED_INT,zu),_m=1,Sd=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,n.drawCount=0,n.buffers={},n.vaos={},n.skin={},n.initialized=!1,n.indicesReleasable=!1,n.attributesName=[],n.destroyed=!1,t&&n.processProps(t),n}var r=o.prototype;return r.getOptions=function(){return I({},this.options)},r.initialize=function(){var t=this;if(!this.initialized){var n=this.engine;xt(n),n.addGeometry(this);var a=this.engine.getGLPipelineContext();Object.keys(this.bufferProps).forEach(function(s){t.buffers[s]=new Td(a,t.bufferProps[s])}),this.indices&&(this.indicesBuffer=this.createIndicesBuffer(a,this.indices)),this.initialized=!0,this.flush(),this.options=void 0}},r.getAttributeBuffer=function(t){if(this.initialized){var n=this.attributes[t].dataSource;return this.buffers[n]}},r.setAttributeData=function(t,n){if(this.bufferProps!=null){var a=this.getAttributeBufferOption(t),s=this.attributes[t].dataSource;if(a){var l=a.usage,c=a.target;this.bufferProps[s]={data:n,usage:l,target:c,elementCount:n.length},this.dirtyFlags[s].discard=!0,this.dirtyFlags[s].dirty=!0}}},r.getAttributeData=function(t){if(this.bufferProps!=null){var n=this.getAttributeBufferOption(t);return n?n.data:void 0}},r.setAttributeSubData=function(t,n,a){if(this.bufferProps!=null){var s=this.getAttributeBufferOption(t);if(s&&s.data!=null){var l=n,c=n+a.length;if(s.data.length<c){var h=new a.constructor(c);h.set(s.data),s.data=h,this.dirtyFlags[t].discard=!0}else if(!this.dirtyFlags[t].discard){var m=this.dirtyFlags[t];m.start!==void 0&&(m.start=Math.min(m.start,l)),m.end!==void 0&&(m.end=Math.max(m.end,c-1))}s.data.set(a,l),this.dirtyFlags[t].dirty=!0}}},r.getIndexData=function(){return this.indices},r.setIndexData=function(t){(k(t,Uint8Array)||k(t,Uint16Array)||k(t,Uint32Array))&&(this.indices=t,this.dirtyFlags.index.discard=!0,this.dirtyFlags.index.dirty=!0)},r.setIndexSubData=function(t,n){if(this.indices){var a,s=t,l=t+n.length;if(this.indices.length<l){var c=new n.constructor(l);c.set(this.indices),this.indices=c,this.dirtyFlags.index.discard=!0}else if(!this.dirtyFlags.index.discard){var h=this.dirtyFlags.index;h.start!==void 0&&(h.start=Math.min(h.start,s)),h.end!==void 0&&(h.end=Math.max(h.end,l-1))}(a=this.indices)==null||a.set(n,s),this.dirtyFlags.index.dirty=!0}},r.getAttributeStride=function(t){var n=this.attributes[t],a=n.stride,s=n.size,l=n.type;return a||s*zr[l]},r.getAttributeNames=function(){return this.attributesName},r.setDrawStart=function(t){this.drawStart=t},r.getDrawStart=function(){return this.drawStart},r.setDrawCount=function(t){this.drawCount=t},r.getDrawCount=function(){return this.drawCount},r.getSkinProps=function(){return this.skin},r.getAttributeBufferOption=function(t){var n=this.attributes[t];return n?this.bufferProps[n.dataSource]:void 0},r.createIndicesBuffer=function(t,n){var a=Rm[n.BYTES_PER_ELEMENT],s={data:n,target:F.ELEMENT_ARRAY_BUFFER,type:a,name:""+this.name+"##index"};return new Td(t,s)},r.flush=function(){var t=this;if(this.initialized){var n=this.attributes,a=this.bufferProps,s=this.indices;Object.keys(this.dirtyFlags).forEach(function(l){var c=t.dirtyFlags[l],h,m;if(l=="index")h=t.indicesBuffer,m=s;else{var v=n[l].dataSource;h=t.buffers[v],m=a[v].data}if((c.dirty||c.discard)&&h&&m){if(c.discard)h.bufferData(m);else if(c.start!==void 0&&c.end!==void 0){var p=c.start*m.BYTES_PER_ELEMENT+m.byteOffset,b=c.end-c.start+1,x=new m.constructor(m.buffer,p,b);h.bufferSubData(c.start,x)}c.start=Number.POSITIVE_INFINITY,c.end=0,c.dirty=c.discard=!1}}),Object.keys(this.attributesReleasable).forEach(function(l){var c=t.attributesReleasable[l],h=n[l].dataSource;a[h]&&c&&(a[h].data=void 0)}),this.indicesReleasable}},r.processProps=function(t){var n=t,a=n.drawStart,s=a===void 0?0:a,l=n.drawCount,c=n.mode,h=n.indices,m=n.name,v=m===void 0?"effectsGeometry:"+_m++:m,p=n.bufferUsage,b=p===void 0?F.STATIC_DRAW:p;this.name=v;var x={},P=[],V={},D={},_={},K=b;this.drawStart=s,l!==void 0&&(this.drawCount=l),this.mode=isNaN(c)?F.TRIANGLES:c,Object.keys(n.attributes).forEach(function(U){var W=n.attributes[U],q=W.size,ie=W.stride,oe=W.offset,Xe=W.normalize,Je=W.type,ot=Je===void 0?F.FLOAT:Je,lt=W.releasable,Et=W.data;if(ot&&!("dataSource"in W)&&!Et&&(Et=Gi(ot)),Et){var Ht=k(Et,Float32Array)?F.FLOAT:F.INT;x[U]={data:Et,usage:K,target:F.ARRAY_BUFFER,name:U},V[U]={size:q,stride:ie,offset:oe,type:ot!=null?ot:Ht,normalize:!!Xe,dataSource:U},_[U]=lt!=null?lt:!1,D[U]={dirty:!0,discard:!0,start:Number.POSITIVE_INFINITY,end:0}}else{var Gt=W.dataSource;Gt&&(V[U]={size:q,stride:ie,offset:oe,type:ot,dataSource:Gt,normalize:!!Xe})}P.push(U)}),D.index={dirty:!0,discard:!0,start:Number.POSITIVE_INFINITY,end:0},this.indices=h==null?void 0:h.data,this.indicesReleasable=(h==null?void 0:h.releasable)===!0,this.bufferProps=x,this.attributes=V,this.attributesName=P,this.attributesReleasable=_,this.dirtyFlags=D,this.options=n,this.initialized=!1},r.fromData=function(t){var n=this;i.prototype.fromData.call(this,t),this.subMeshes=t.subMeshes;var a;if(t.buffer?a=new Uint8Array(Fm(t.buffer)):t.binaryData&&(a=t.binaryData),!!a){var s=t.vertexData.vertexCount;if(this.hasSemantic(t)){var l={mode:F.TRIANGLES,attributes:{}};if(t.vertexData.channels.forEach(function(D){var _,K=(_=Lm[D.semantic])!=null?_:D.semantic,U=n.createVertexTypedArray(D,a,s);l.attributes[K]={type:Na(D.format),size:D.dimension,data:U,normalize:D.normalize}}),t.indexFormat!==Hn.None){var c=this.createIndexTypedArray(t.indexFormat,a,t.indexOffset);l.indices={data:c},l.drawCount=c.length}else l.drawCount=s;this.processProps(l)}else{var h=t.vertexData.channels[0],m=t.vertexData.channels[1],v=t.vertexData.channels[2],p=this.createVertexTypedArray(h,a,s),b=this.createVertexTypedArray(m,a,s),x=this.createVertexTypedArray(v,a,s),P=this.createIndexTypedArray(t.indexFormat,a,t.indexOffset),V={mode:F.TRIANGLES,attributes:{aPos:{type:Na(h.format),size:3,data:p,normalize:h.normalize},aUV:{type:Na(m.format),size:2,data:b,normalize:m.normalize},aNormal:{type:Na(v.format),size:3,data:x,normalize:v.normalize}}};V.indices={data:P},V.drawCount=P.length,this.processProps(V)}this.skin={boneNames:t.boneNames,rootBoneName:t.rootBoneName,inverseBindMatrices:t.inverseBindMatrices}}},r.dispose=function(){var t=this;if(this.drawStart=0,this.drawCount=NaN,this.bufferProps={},this.indices=void 0,this.attributes={},this.attributesName=[],this.options=void 0,this.initialized){var n;Object.keys(this.buffers).forEach(function(a){t.buffers[a].dispose()}),this.buffers={},(n=this.indicesBuffer)==null||n.dispose(),Object.keys(this.vaos).forEach(function(a){var s;(s=t.vaos[a])==null||s.dispose(),t.vaos[a]=void 0}),this.indicesBuffer=void 0,this.engine!==void 0&&(this.engine.removeGeometry(this),this.engine=void 0)}this.destroyed=!0},r.createVertexTypedArray=function(t,n,a){var s=n.buffer;switch(t.format){case Nn.Float32:return new Float32Array(s,n.byteOffset+t.offset,t.dimension*a);case Nn.Int16:return new Int16Array(s,n.byteOffset+t.offset,t.dimension*a);case Nn.Int8:return new Int8Array(s,n.byteOffset+t.offset,t.dimension*a);case Nn.UInt16:return new Uint16Array(s,n.byteOffset+t.offset,t.dimension*a);case Nn.UInt8:return new Uint8Array(s,n.byteOffset+t.offset,t.dimension*a);default:return console.error("Invalid vertex format type: "+t.format+"."),new Float32Array(s,n.byteOffset+t.offset,t.dimension*a)}},r.createIndexTypedArray=function(t,n,a){var s=n.buffer;switch(t){case Hn.UInt16:return new Uint16Array(s,n.byteOffset+a);case Hn.UInt32:return new Uint32Array(s,n.byteOffset+a);default:return console.error("Invalid index format type: "+t+"."),new Uint32Array(s,n.byteOffset+a)}},r.hasSemantic=function(t){var n=!1,a=t.vertexData;return a.channels.forEach(function(s){s.semantic&&s.semantic.length>0&&(n=!0)}),n},yn(o,[{key:"isDestroyed",get:function(){return this.destroyed}},{key:"isInitialized",get:function(){return this.initialized}}]),o}(Sr),Lm={POSITION:"aPos",TEXCOORD0:"aUV",TEXCOORD_0:"aUV",TEXCOORD1:"aUV2",NORMAL:"aNormal",TANGENT:"aTangent",COLOR:"aColor",JOINTS:"aJoints",JOINTS_0:"aJoints",WEIGHTS:"aWeights",WEIGHTS_0:"aWeights",POSITION_BS0:"aTargetPosition0",POSITION_BS1:"aTargetPosition1",POSITION_BS2:"aTargetPosition2",POSITION_BS3:"aTargetPosition3",POSITION_BS4:"aTargetPosition4",POSITION_BS5:"aTargetPosition5",POSITION_BS6:"aTargetPosition6",POSITION_BS7:"aTargetPosition7",NORMAL_BS0:"aTargetNormal0",NORMAL_BS1:"aTargetNormal1",NORMAL_BS2:"aTargetNormal2",NORMAL_BS3:"aTargetNormal3",TANGENT_BS0:"aTargetTangent0",TANGENT_BS1:"aTargetTangent1",TANGENT_BS2:"aTargetTangent2",TANGENT_BS3:"aTargetTangent3"};function Fm(i){for(var o=atob(i),r=new Uint8Array(o.length),e=0;e<o.length;e++)r[e]=o.charCodeAt(e);var t=r.buffer;return t}var wd=function(){function i(){this.reset()}var o=i.prototype;return o.setBlendColor=function(e){var t=e[0],n=e[1],a=e[2],s=e[3];this.blendColor[0]===t&&this.blendColor[1]===n&&this.blendColor[2]===a&&this.blendColor[3]===s||(this.blendColor[0]=t,this.blendColor[1]=n,this.blendColor[2]=a,this.blendColor[3]=s)},o.setBlending=function(e){this.blending!==e&&(this.blending=e)},o.setBlendFunctionParameters=function(e){var t=e[0],n=e[1],a=e[2],s=e[3];this.blendFunctionParameters[0]===t&&this.blendFunctionParameters[1]===n&&this.blendFunctionParameters[2]===a&&this.blendFunctionParameters[3]===s||(this.blendFunctionParameters[0]=t,this.blendFunctionParameters[1]=n,this.blendFunctionParameters[2]=a,this.blendFunctionParameters[3]=s)},o.setBlendEquationParameters=function(e){var t=e[0],n=e[1];this.blendEquationParameters[0]===t&&this.blendEquationParameters[1]===n||(this.blendEquationParameters[0]=t,this.blendEquationParameters[1]=n)},o.setDepthTest=function(e){this.depthTest!==e&&(this.depthTest=e)},o.setDepthMask=function(e){this.depthMask!==e&&(this.depthMask=e)},o.setDepthRange=function(e){this.depthRange[0]===e[0]&&this.depthRange[1]===e[1]||(this.depthRange[0]=e[0],this.depthRange[1]=e[1])},o.setDepthFunc=function(e){this.depthFunc!==e&&(this.depthFunc=e)},o.setPolygonOffsetFill=function(e){this.polygonOffsetFill!==e&&(this.polygonOffsetFill=e)},o.setPolygonOffset=function(e){this.polygonOffset[0]===e[0]&&this.polygonOffset[1]===e[1]||(this.polygonOffset[0]=e[0],this.polygonOffset[1]=e[1])},o.setSampleAlphaToCoverage=function(e){this.sampleAlphaToCoverage!==e&&(this.sampleAlphaToCoverage=e)},o.setColorMask=function(e){var t=e[0],n=e[1],a=e[2],s=e[3];this.colorMask[0]===t&&this.colorMask[1]===n&&this.colorMask[2]===a&&this.colorMask[3]===s||(this.colorMask[0]=t,this.colorMask[1]=n,this.colorMask[2]=a,this.colorMask[3]=s)},o.setStencilTest=function(e){this.stencilTest!==e&&(this.stencilTest=e)},o.setStencilMask=function(e){this.stencilMask[0]===e[0]&&this.stencilMask[1]===e[1]||(this.stencilMask[0]=e[0],this.stencilMask[1]=e[1])},o.setStencilRef=function(e){this.stencilRef[0]===e[0]&&this.stencilRef[1]===e[1]||(this.stencilRef[0]=e[0],this.stencilRef[1]=e[1])},o.setStencilFunc=function(e){this.stencilFunc[0]===e[0]&&this.stencilFunc[1]===e[1]||(this.stencilFunc[0]=e[0],this.stencilFunc[1]=e[1])},o.setStencilOpFail=function(e){this.stencilOpFail[0]===e[0]&&this.stencilOpFail[1]===e[1]||(this.stencilOpFail[0]=e[0],this.stencilOpFail[1]=e[1])},o.setStencilOpZFail=function(e){this.stencilOpZFail[0]===e[0]&&this.stencilOpZFail[1]===e[1]||(this.stencilOpZFail[0]=e[0],this.stencilOpZFail[1]=e[1])},o.setStencilOpZPass=function(e){this.stencilOpZPass[0]===e[0]&&this.stencilOpZPass[1]===e[1]||(this.stencilOpZPass[0]=e[0],this.stencilOpZPass[1]=e[1])},o.setCulling=function(e){this.culling!==e&&(this.culling=e)},o.setFrontFace=function(e){this.frontFace!==e&&(this.frontFace=e)},o.setCullFace=function(e){this.cullFace!==e&&(this.cullFace=e)},o.reset=function(){this.blending=!1,this.blendColor=[0,0,0,0],this.blendFunctionParameters=[F.ONE,F.ONE_MINUS_SRC_ALPHA,F.ONE,F.ONE_MINUS_SRC_ALPHA],this.blendEquationParameters=[F.FUNC_ADD,F.FUNC_ADD],this.depthTest=!0,this.depthMask=!0,this.depthRange=[0,1],this.depthFunc=F.LESS,this.polygonOffset=[0,0],this.polygonOffsetFill=!1,this.sampleAlphaToCoverage=!1,this.colorMask=[!0,!0,!0,!0],this.stencilTest=!1,this.stencilMask=[255,255],this.stencilRef=[0,0],this.stencilFunc=[F.ALWAYS,F.ALWAYS],this.stencilOpFail=[F.KEEP,F.KEEP],this.stencilOpZFail=[F.KEEP,F.KEEP],this.stencilOpZPass=[F.KEEP,F.KEEP],this.culling=!1,this.frontFace=F.CCW,this.cullFace=F.FRONT},o.apply=function(e){if(e.toggle(F.SAMPLE_ALPHA_TO_COVERAGE,this.sampleAlphaToCoverage),e.toggle(F.BLEND,this.blending),e.toggle(F.DEPTH_TEST,this.depthTest),e.toggle(F.STENCIL_TEST,this.stencilTest),e.toggle(F.CULL_FACE,this.culling),e.toggle(F.POLYGON_OFFSET_FILL,this.polygonOffsetFill),this.stencilTest&&(e.stencilMaskSeparate(F.BACK,this.stencilMask[1]),e.stencilMaskSeparate(F.FRONT,this.stencilMask[0]),e.stencilFuncSeparate(F.BACK,this.stencilFunc[0],this.stencilRef[0],this.stencilMask[0]),e.stencilFuncSeparate(F.FRONT,this.stencilFunc[1],this.stencilRef[1],this.stencilMask[1]),e.stencilOpSeparate(F.BACK,this.stencilOpFail[0],this.stencilOpZFail[0],this.stencilOpZPass[0]),e.stencilOpSeparate(F.FRONT,this.stencilOpFail[1],this.stencilOpZFail[1],this.stencilOpZPass[1])),this.blending){var t=this,n=t.blendColor,a=t.blendEquationParameters,s=t.blendFunctionParameters;e.blendColor(n[0],n[1],n[2],n[3]),e.blendEquationSeparate(a[0],a[1]),e.blendFuncSeparate(s[0],s[1],s[2],s[3])}e.colorMask(this.colorMask[0],this.colorMask[1],this.colorMask[2],this.colorMask[3]),this.depthTest&&(e.depthMask(this.depthMask),e.depthFunc(this.depthFunc),e.depthRange(this.depthRange[0],this.depthRange[1])),this.culling&&(e.cullFace(this.cullFace),e.frontFace(this.frontFace)),this.polygonOffsetFill&&e.polygonOffset(this.polygonOffset[0],this.polygonOffset[1])},i}(),Od=Bn,Dm=Tn,Md=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e,t)||this,n.floats={},n.ints={},n.vector2s={},n.vector3s={},n.vector4s={},n.colors={},n.quaternions={},n.matrices={},n.matrice3s={},n.textures={},n.floatArrays={},n.vector4Arrays={},n.matrixArrays={},n.samplers=[],n.uniforms=[],n.uniformDirty=!0,n.macrosDirty=!0,n.glMaterialState=new wd,t&&(n.shader=new Ia(e),n.shader.shaderData=I({},t.shader,{id:rt(),dataType:St.Shader})),n}var r=o.prototype;return r.enableMacro=function(t,n){(!this.isMacroEnabled(t)||this.enabledMacros[t]!==n)&&(this.enabledMacros[t]=n!=null?n:!0,this.macrosDirty=!0)},r.disableMacro=function(t){this.isMacroEnabled(t)&&(delete this.enabledMacros[t],this.macrosDirty=!0)},r.isMacroEnabled=function(t){return this.enabledMacros[t]!==void 0},r.createMaterialStates=function(t){this.sampleAlphaToCoverage=!!t.sampleAlphaToCoverage,this.depthTest=t.depthTest,this.depthMask=t.depthMask,this.depthRange=t.depthRange,this.depthFunc=t.depthFunc,this.colorMask=t.colorMask,this.polygonOffset=t.polygonOffset,this.polygonOffsetFill=t.polygonOffsetFill,this.blending=t.blending,this.blendFunction=t.blendFunction,this.stencilTest=t.stencilTest},r.initialize=function(){var t=this,n=this.engine;this.createShaderVariant(),this.shaderVariant.initialize(),!this.initialized&&(n.addMaterial(this),Object.keys(this.textures).forEach(function(a){var s=t.textures[a];if(!ct(s.initialize)){He.error("Failed to initialize texture: "+JSON.stringify(s)+". Ensure the texture conforms to the expected format.");return}s.initialize()}),this.initialized=!0)},r.createShaderVariant=function(){(this.shaderDirty||this.macrosDirty)&&(this.shaderVariant=this.shader.createVariant(this.enabledMacros),this.macrosDirty=!1,this.shaderDirty=!1,this.uniformDirty=!0)},r.setupStates=function(t){this.glMaterialState.apply(t)},r.use=function(t,n){var a=t.engine,s=a.getGLPipelineContext(),l=this.shaderVariant;if(!l.program){var c;(c=this.engine)==null||c.renderErrors.add(new Error("Shader program is not initialized."));return}l.program.bind(),this.setupStates(s);var h;if(n){for(var m=ke(n.uniforms),v;!(v=m()).done;)h=v.value,this.checkUniform(h);for(var p=ke(n.samplers),b;!(b=p()).done;)h=b.value,this.samplers.includes(h)||(this.samplers.push(h),this.uniformDirty=!0)}if(this.uniformDirty&&(l.fillShaderInformation(this.uniforms,this.samplers),this.uniformDirty=!1),n){for(h in n.floats)l.setFloat(h,n.floats[h]);for(h in n.ints)l.setInt(h,n.ints[h]);for(h in n.vector4s)l.setVector4(h,n.vector4s[h]);for(h in n.vector3s)l.setVector3(h,n.vector3s[h]);for(h in n.matrices)l.setMatrix(h,n.matrices[h])}for(h in this.textures)this.textures[h].textureBuffer||this.textures[h].initialize();for(h in this.floats)l.setFloat(h,this.floats[h]);for(h in this.ints)l.setInt(h,this.ints[h]);for(h in this.floatArrays)l.setFloats(h,this.floatArrays[h]);for(h in this.textures)l.setTexture(h,this.textures[h]);for(h in this.vector2s)l.setVector2(h,this.vector2s[h]);for(h in this.vector3s)l.setVector3(h,this.vector3s[h]);for(h in this.vector4s)l.setVector4(h,this.vector4s[h]);for(h in this.colors)l.setColor(h,this.colors[h]);for(h in this.quaternions)l.setQuaternion(h,this.quaternions[h]);for(h in this.matrices)l.setMatrix(h,this.matrices[h]);for(h in this.matrice3s)l.setMatrix3(h,this.matrice3s[h]);for(h in this.vector4Arrays)l.setVector4Array(h,this.vector4Arrays[h]);for(h in this.matrixArrays)l.setMatrixArray(h,this.matrixArrays[h])},r.getFloat=function(t){return this.floats[t]},r.setFloat=function(t,n){this.checkUniform(t),this.floats[t]=n},r.getInt=function(t){return this.ints[t]},r.setInt=function(t,n){this.checkUniform(t),this.ints[t]=n},r.getFloats=function(t){return this.floatArrays[t]},r.setFloats=function(t,n){this.checkUniform(t),this.floatArrays[t]=n},r.getVector2=function(t){return this.vector2s[t]},r.setVector2=function(t,n){this.checkUniform(t),this.vector2s[t]=n},r.getVector3=function(t){return this.vector3s[t]},r.setVector3=function(t,n){this.checkUniform(t),this.vector3s[t]=n},r.getVector4=function(t){return this.vector4s[t]},r.setVector4=function(t,n){this.checkUniform(t),this.vector4s[t]=n},r.getColor=function(t){return this.colors[t]},r.setColor=function(t,n){this.checkUniform(t),this.colors[t]=n},r.getQuaternion=function(t){return this.quaternions[t]},r.setQuaternion=function(t,n){this.checkUniform(t),this.quaternions[t]=n},r.getMatrix=function(t){return this.matrices[t]},r.setMatrix=function(t,n){this.checkUniform(t),this.matrices[t]=n},r.setMatrix3=function(t,n){this.checkUniform(t),this.matrice3s[t]=n},r.getVector4Array=function(t){return this.vector4Arrays[t]},r.setVector4Array=function(t,n){this.checkUniform(t),this.vector4Arrays[t]=[];for(var a=ke(n),s;!(s=a()).done;){var l=s.value;this.vector4Arrays[t].push(l.x,l.y,l.z,l.w)}},r.getMatrixArray=function(t){return this.matrixArrays[t]},r.setMatrixArray=function(t,n){this.checkUniform(t),this.matrixArrays[t]=[];for(var a=ke(n),s;!(s=a()).done;)for(var l=s.value,c=0;c<16;c++)this.matrixArrays[t].push(l.elements[c])},r.setMatrixNumberArray=function(t,n){this.checkUniform(t),this.matrixArrays[t]=n},r.getTexture=function(t){return this.textures[t]},r.setTexture=function(t,n){this.samplers.includes(t)||(this.samplers.push(t),this.uniformDirty=!0),this.textures[t]=n},r.hasUniform=function(t){return this.uniforms.includes(t)||this.samplers.includes(t)},r.clone=function(t){var n=t||this.props,a=this.engine;xt(a);var s=new o(a,n);return s.glMaterialState=Object.assign(new wd,s.glMaterialState),s.floats=this.floats,s.ints=this.ints,s.vector2s=this.vector2s,s.vector3s=this.vector3s,s.vector4s=this.vector4s,s.colors=this.colors,s.quaternions=this.quaternions,s.matrices=this.matrices,s.textures=this.textures,s.floatArrays=this.floatArrays,s.vector4Arrays=this.vector4Arrays,s.matrixArrays=this.matrixArrays,s.samplers=this.samplers,s.uniforms=this.uniforms,s.uniformDirty=!0,s},r.fromData=function(t){i.prototype.fromData.call(this,t),this.uniforms=[],this.samplers=[],this.textures={},this.floats={},this.ints={},this.floatArrays={},this.vector4s={};var n=I({},t);t.stringTags.RenderType!==void 0&&(this.blending=t.stringTags.RenderType===Rn.Transparent),t.floats.ZTest!==void 0&&(this.depthTest=t.floats.ZTest!==0),t.floats.ZWrite!==void 0&&(this.depthMask=t.floats.ZWrite!==0);var a=t.stringTags.RenderFace;a===En.Front?(this.culling=!0,this.cullFace=F.BACK):a===En.Back?(this.culling=!0,this.cullFace=F.FRONT):this.culling=!1;var s;for(s in n.floats)this.setFloat(s,n.floats[s]);for(s in n.ints)this.setInt(s,n.ints[s]);for(s in n.vector4s){var l=n.vector4s[s];this.setVector4(s,new Bn(l.x,l.y,l.z,l.w))}for(s in n.colors){var c=n.colors[s];this.setColor(s,new qr(c.r,c.g,c.b,c.a))}for(s in n.textures){var h=n.textures[s];this.setTexture(s,h.texture);var m=h.offset,v=h.scale;m&&v&&this.setVector4(s+"_ST",new Od(v.x,v.y,m.x,m.y))}t.shader&&(this.shader=t.shader,this.shaderSource=this.shader.shaderData);var p;this.stringTags=(p=t.stringTags)!=null?p:{},this.initialized=!1},r.toData=function(){var t=this.taggedProperties;this.shader&&(t.shader=this.shader),t.floats={},t.ints={},t.vector4s={},t.colors={},t.textures={},t.dataType=St.Material,t.stringTags=this.stringTags;for(var n in this.floats)t.floats[n]=this.floats[n];for(var a in this.ints)t.ints[a]=this.ints[a];for(var s in this.vector4s)t.vector4s[s]=this.vector4s[s];for(var l in this.colors)t.colors[l]=this.colors[l];for(var c in this.textures){t.textures[c]||(t.textures[c]={texture:this.textures[c]});var h=t.textures[c],m=this.getVector4(c+"_ST");m&&(h.scale={x:m.x,y:m.y},h.offset={x:m.z,y:m.w},delete t.vector4s[c+"_ST"])}return t},r.cloneUniforms=function(t){var n=t,a;for(a in n.floats)this.setFloat(a,n.floats[a]);for(a in n.ints)this.setInt(a,n.ints[a]);for(a in n.floatArrays)this.setFloats(a,n.floatArrays[a]);for(a in n.textures)this.setTexture(a,n.textures[a]);for(a in n.vector2s)this.setVector2(a,n.vector2s[a]);for(a in n.vector3s)this.setVector3(a,n.vector3s[a]);for(a in n.vector4s)this.setVector4(a,n.vector4s[a]);for(a in n.colors)this.setColor(a,n.colors[a]);for(a in n.quaternions)this.setQuaternion(a,n.quaternions[a]);for(a in n.matrices)this.setMatrix(a,n.matrices[a]);for(a in n.vector4Arrays){for(var s=[],l=0;l<n.vector4Arrays[a].length;l+=4)s.push(new Od(n.vector4Arrays[a][l],n.vector4Arrays[a][l+1],n.vector4Arrays[a][l+2],n.vector4Arrays[a][l+3]));this.setVector4Array(a,s)}for(a in n.matrixArrays){for(var c=[],h=0;h<n.matrixArrays[a].length;h+=16){for(var m=Dm.fromIdentity(),v=0;v<16;v++)m.elements[v]=n.matrixArrays[a][h+v];c.push(m)}this.setMatrixArray(a,c)}},r.checkUniform=function(t){this.uniforms.includes(t)||(this.uniforms.push(t),this.uniformDirty=!0)},r.dispose=function(t){var n=this,a;this.destroyed||((a=this.shaderVariant)==null||a.dispose(),(t==null?void 0:t.textures)!==Dt.keep&&Object.keys(this.textures).forEach(function(s){var l=n.textures[s];l!==n.engine.emptyTexture&&l.dispose()}),this.shaderSource=null,this.uniformSemantics={},this.floats={},this.ints={},this.vector2s={},this.vector3s={},this.vector4s={},this.quaternions={},this.matrices={},this.matrice3s={},this.textures={},this.floatArrays={},this.vector4Arrays={},this.matrixArrays={},this.samplers=[],this.uniforms=[],this.initialize=Mt,this.destroyed=!0,this.engine!==void 0&&this.engine.removeMaterial(this))},yn(o,[{key:"blending",get:function(){return this.glMaterialState.blending},set:function(t){t!==void 0&&this.glMaterialState.setBlending(t)}},{key:"blendColor",get:function(){return this.glMaterialState.blendColor},set:function(t){t&&this.glMaterialState.setBlendColor(t)}},{key:"blendFunction",get:function(){return this.glMaterialState.blendFunctionParameters},set:function(t){t&&this.glMaterialState.setBlendFunctionParameters(t)}},{key:"blendEquation",get:function(){return this.glMaterialState.blendEquationParameters},set:function(t){t&&this.glMaterialState.setBlendEquationParameters(t)}},{key:"depthTest",get:function(){return this.glMaterialState.depthTest},set:function(t){t!==void 0&&this.glMaterialState.setDepthTest(t)}},{key:"depthMask",get:function(){return this.glMaterialState.depthMask},set:function(t){t!==void 0&&this.glMaterialState.setDepthMask(t)}},{key:"depthRange",get:function(){return this.glMaterialState.depthRange},set:function(t){t&&this.glMaterialState.setDepthRange(t)}},{key:"depthFunc",get:function(){return this.glMaterialState.depthFunc},set:function(t){t!==void 0&&this.glMaterialState.setDepthFunc(t)}},{key:"polygonOffsetFill",get:function(){return this.glMaterialState.polygonOffsetFill},set:function(t){t!==void 0&&this.glMaterialState.setPolygonOffsetFill(t)}},{key:"polygonOffset",get:function(){return this.glMaterialState.polygonOffset},set:function(t){t&&this.glMaterialState.setPolygonOffset(t)}},{key:"sampleAlphaToCoverage",get:function(){return this.glMaterialState.sampleAlphaToCoverage},set:function(t){t!==void 0&&this.glMaterialState.setSampleAlphaToCoverage(t)}},{key:"colorMask",get:function(){return this.glMaterialState.colorMask},set:function(t){t&&this.glMaterialState.setColorMask(t)}},{key:"stencilTest",get:function(){return this.glMaterialState.stencilTest},set:function(t){t!==void 0&&this.glMaterialState.setStencilTest(t)}},{key:"stencilMask",get:function(){return this.glMaterialState.stencilMask},set:function(t){t&&this.glMaterialState.setStencilMask(t)}},{key:"stencilRef",get:function(){return this.glMaterialState.stencilRef},set:function(t){t&&this.glMaterialState.setStencilRef(t)}},{key:"stencilFunc",get:function(){return this.glMaterialState.stencilFunc},set:function(t){t&&this.glMaterialState.setStencilFunc(t)}},{key:"stencilOpFail",get:function(){return this.glMaterialState.stencilOpFail},set:function(t){t&&this.glMaterialState.setStencilOpFail(t)}},{key:"stencilOpZFail",get:function(){return this.glMaterialState.stencilOpZFail},set:function(t){t&&this.glMaterialState.setStencilOpZFail(t)}},{key:"stencilOpZPass",get:function(){return this.glMaterialState.stencilOpZPass},set:function(t){t&&this.glMaterialState.setStencilOpZPass(t)}},{key:"culling",get:function(){return this.glMaterialState.culling},set:function(t){t!==void 0&&this.glMaterialState.setCulling(t)}},{key:"frontFace",get:function(){return this.glMaterialState.frontFace},set:function(t){t!==void 0&&this.glMaterialState.setFrontFace(t)}},{key:"cullFace",get:function(){return this.glMaterialState.cullFace},set:function(t){t!==void 0&&this.glMaterialState.setCullFace(t)}},{key:"isDestroyed",get:function(){return this.destroyed}}]),o}(Bi),Nm="$mri-internal-copy",Ad=function(){function i(r){if(this.renderer=r,r.engine.gpuCapability.level===1){this.copyRenderPass=this.createCopyRenderPass().initialize(r);var e=this.copyRenderPass.meshes[0].material.shaderSource;r.pipelineContext.shaderLibrary.addShader(e)}}var o=i.prototype;return o.resetColorAttachments=function(e,t){this.renderer&&e.resetColorAttachments(t)},o.copyTexture=function(e,t){this.renderer&&(e.initialize(),t.initialize(),t.updateSource({sourceType:j.framebuffer,data:{width:t.getWidth()||e.getWidth(),height:t.getHeight()||e.getHeight()}}),this.renderer.engine.gpuCapability.level===2?this.copy2(e,t):this.copy1(e,t))},o.copy2=function(e,t){var n=this.renderer.getFramebuffer();this.renderer.glRenderer.copy2(e,t),this.renderer.setFramebuffer(n)},o.copy1=function(e,t){var n=this.copyRenderPass;if(n){var a=this.renderer;if(a){var s=n.framebuffer;s.viewport[2]=t.getWidth()||e.getWidth(),s.viewport[3]=t.getHeight()||e.getHeight(),a.glRenderer.resetColorAttachments(s,[t]);var l=n.meshes[0];l.material.setTexture("uTex",e),a.renderRenderPass(n)}}},o.createCopyRenderPass=function(){var e="mri-copy-mesh",t={texture:{format:F.RGBA}},n=this.renderer.engine,a=new Sd(n,{name:e,mode:F.TRIANGLE_STRIP,attributes:{aPos:{type:F.FLOAT,size:2,data:new Float32Array([-1,1,-1,-1,1,1,1,-1])}},drawCount:4}),s=`
precision highp float;
attribute vec2 aPos;
varying vec2 vTex;
void main(){
  gl_Position = vec4(aPos,0.,1.0);
  vTex = (aPos + vec2(1.))/2.;
}`,l=`
precision highp float;
varying vec2 vTex;
uniform sampler2D uTex;
void main(){
  gl_FragColor = texture2D(uTex,vTex);
}`,c=n.gpuCapability.level,h=new Md(n,{name:e,shader:{cacheId:Nm,name:e,vertex:s,fragment:l,glslVersion:c===2?ri.GLSL3:ri.GLSL1}});h.blending=!1,h.depthTest=!1,h.culling=!1;var m=new gi(n,{name:e,geometry:a,material:h,priority:0});return new Vm(this.renderer,{name:"mri-copy-rp",clearAction:{colorAction:Z.whatever},attachments:[t],meshes:[m]})},o.dispose=function(){if(this.renderer){var e;(e=this.copyRenderPass)==null||e.dispose(),this.renderer=void 0}},i}(),Vm=function(i){Ee(o,i);function o(){return i.apply(this,arguments)}var r=o.prototype;return r.configure=function(t){this.currentFramebuffer=t.getFramebuffer(),t.setFramebuffer(this.framebuffer)},r.execute=function(t){this.clearAction&&t.clear(this.clearAction),t.renderMeshes(this.meshes),this.storeAction&&t.clear(this.storeAction),t.setFramebuffer(this.currentFramebuffer)},o}(qi),Bm=function(){function i(r,e,t){var n=this;e===void 0&&(e="webgl"),t===void 0&&(t={}),this.canvas=r,this.glType=e,this.restoreHandlers=[],this.lostHandlers=[],xt(r),this.gl=Xs(r,e,t),this.contextLostListener=function(a){for(var s,l=ke(n.lostHandlers),c;!(c=l()).done;){var h=c.value;h.lost(a)}(s=n.canvas)==null||s.removeEventListener("webglcontextlost",n.contextLostListener)},this.contextRestoredListener=function(a){for(var s,l=ke(n.restoreHandlers),c;!(c=l()).done;){var h=c.value;h.restore()}(s=n.canvas)==null||s.addEventListener("webglcontextlost",n.contextLostListener)},r.addEventListener("webglcontextlost",this.contextLostListener),r.addEventListener("webglcontextrestored",this.contextRestoredListener)}var o=i.prototype;return o.dispose=function(){this.canvas&&(this.canvas.removeEventListener("webglcontextlost",this.contextLostListener),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredListener)),this.gl=null,this.canvas=null},o.addLostHandler=function(e){this.lostHandlers.push(e)},o.removeLostHandler=function(e){var t=this.lostHandlers.indexOf(e);t>-1&&this.lostHandlers.splice(t,1)},o.addRestoreHandler=function(e){this.restoreHandlers.push(e)},o.removeRestoreHandler=function(e){var t=this.restoreHandlers.indexOf(e);t>-1&&this.restoreHandlers.splice(t,1)},i}(),Nh=function(i){Ee(o,i);function o(e){var t;return t=i.call(this)||this,t.gpuCapability=new Kl(e),t}var r=o.prototype;return r.dispose=function(){this.isDestroyed||i.prototype.dispose.call(this)},r.getGLRenderer=function(){return this.renderer},r.getGLRendererInternal=function(){return this.getGLRenderer().glRenderer},r.getGLPipelineContext=function(){return this.getGLRenderer().pipelineContext},o}(bd),gl=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e)||this,n.initialized=!1,t!==void 0&&n.initialize(t),n}var r=o.prototype;return r.initialize=function(t){this.initialized||(this.initialized=!0,this.renderer=t,this.buffer=t.createGLRenderbuffer(this))},r.setSize=function(t,n){if(!this.initialized){He.error("Can't set size for uninitialized render buffer.");return}if(this.renderer&&(t!==this.size[0]||n!==this.size[1])){var a=this.renderer,s=a.gl,l=a.pipelineContext;l.bindRenderbuffer(s.RENDERBUFFER,this.buffer),t&&n?s.renderbufferStorage(s.RENDERBUFFER,this.format,this.size[0]=t,this.size[1]=n):He.error("Invalid render buffer size: "+t+"x"+n+".")}},r.dispose=function(){this.renderer&&(this.renderer.deleteGLRenderbuffer(this),this.renderer=null,this.buffer=null),this.destroyed=!0,this.initialize=Mt},o}(Cl),zm=1,Vh=function(i){Ee(o,i);function o(e,t){var n;n=i.call(this)||this,n.attachmentTextures=[];var a=e.depthStencilAttachment,s=e.viewport,l=e.isCustomViewport,c=e.storeAction,h=e.viewportScale,m=h===void 0?1:h,v=e.name,p=v===void 0?"GLFramebuffer"+zm++:v;n.renderer=t,n.engine=t.engine;var b;return n.depthStencilStorageType=(b=a==null?void 0:a.storageType)!=null?b:oi.none,n.viewport=s,n.isCustomViewport=!!l,n.viewportScale=m,n.name=p,n.storeAction=c,n.updateProps(e),n}var r=o.prototype;return r.getDepthTexture=function(){return this.depthTexture},r.getStencilTexture=function(){return this.stencilTexture},r.getColorTextures=function(){return this.colorTextures},r.updateAttachmentTextures=function(){var t=this;this.attachmentTextures.length=0,this.colorTextures.forEach(function(n){n.initialize(),nt(t.attachmentTextures,n.textureBuffer)}),this.stencilTexture&&nt(this.attachmentTextures,this.stencilTexture.textureBuffer),this.depthTexture&&nt(this.attachmentTextures,this.depthTexture.textureBuffer)},r.updateProps=function(t){var n,a=this.renderer,s=this.engine.gpuCapability,l,c=(l=t.depthStencilAttachment)!=null?l:{storageType:oi.none},h=t.attachments.length>0,m=!0;if(this.externalStorage=!1,t.attachments.length>1&&!s.detail.drawBuffers)throw new Error("Multiple color attachments not support.");var v=(n=t.depthStencilAttachment)==null?void 0:n.texture,p=s.detail.readableDepthStencilTextures,b=c.storageType,x=c.storage;if(this.colorTextures=t.attachments.slice(),!h&&b!==oi.none)throw new Error("Use depth stencil attachment without color attachments.");switch(h&&(this.fbo=a.glRenderer.createGLFramebuffer(this,this.name)),b){case oi.depth_stencil_opaque:if(x)if(k(x,gl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid depth stencil attachment storage.");else this.depthStencilRenderbuffer=new gl({format:F.DEPTH_STENCIL,attachment:F.DEPTH_STENCIL_ATTACHMENT,storageType:b},a.glRenderer);m=!1;break;case oi.depth_16_opaque:if(x)if(k(x,gl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid depth attachment storage.");else this.depthStencilRenderbuffer=new gl({attachment:F.DEPTH_ATTACHMENT,format:F.DEPTH_COMPONENT16,storageType:b},a.glRenderer);break;case oi.stencil_8_opaque:if(x)if(k(x,gl))this.depthStencilRenderbuffer=x,this.externalStorage=!0;else throw new Error("Invalid stencil attachment storage.");else this.depthStencilRenderbuffer=new gl({attachment:F.STENCIL_ATTACHMENT,format:F.STENCIL_INDEX8,storageType:b},a.glRenderer);break;case oi.depth_16_texture:if(!p)throw new Error("Depth texture is not support in framebuffer.");this.depthTexture=v!=null?v:new Ws(this.engine,{sourceType:j.framebuffer,format:F.DEPTH_COMPONENT,internalFormat:s.internalFormatDepth16,type:F.UNSIGNED_SHORT,name:""+this.name+"##depthTex"}),this.depthTexture.initialize();break;case oi.depth_24_stencil_8_texture:if(!p)throw new Error("Depth stencil texture is not support in framebuffer.");this.depthTexture=this.stencilTexture=v!=null?v:new Ws(this.engine,{sourceType:j.framebuffer,format:F.DEPTH_STENCIL,internalFormat:s.internalFormatDepth24_stencil8,type:s.UNSIGNED_INT_24_8,name:""+this.name+"##dpthStclTex"}),this.depthTexture.initialize(),m=!0;break}this.storeInvalidAttachments=this.getStoreAttachments(this.storeAction,m),this.updateAttachmentTextures()},r.getStoreAttachments=function(t,n){var a=this.renderer.glRenderer.gl,s=this.colorTextures.length;if(t&&An(a)&&s>0){var l=[];if(t.depthAction===Fi.clear&&this.depthStorage&&nt(l,n?a.DEPTH_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT),t.stencilAction===Fi.clear&&this.stencilStorage&&nt(l,n?a.STENCIL_ATTACHMENT:a.DEPTH_STENCIL_ATTACHMENT),t.colorAction===Fi.clear)for(var c=0;c<s;c++)nt(l,a["COLOR_ATTACHMENT"+c]);return l}},r.unbind=function(){var t=this.storeInvalidAttachments;if(t!=null&&t.length){var n=this.renderer.glRenderer.gl;An(n)&&n.invalidateFramebuffer(n.FRAMEBUFFER,t)}this.renderer.pipelineContext.bindSystemFramebuffer()},r.bind=function(){var t=this;if(this.fbo){var n=this.renderer.glRenderer.gl,a=this.renderer.pipelineContext,s=this.viewport,l=s[0],c=s[1],h=s[2],m=s[3];a.bindFramebuffer(n.FRAMEBUFFER,this.fbo),a.viewport(l,c,h,m);var v=this.renderer.glRenderer.emptyTexture2D.textureBuffer;Object.keys(a.textureUnitDict).forEach(function(K){var U=a.textureUnitDict[K];U&&U!==v&&t.attachmentTextures.includes(U)&&(a.activeTexture(+K),t.renderer.glRenderer.emptyTexture2D.bind())});for(var p=0;p<4;p++)a.activeTexture(n.TEXTURE0+p),this.renderer.glRenderer.emptyTexture2D.bind();if(!this.ready){var b=this,x=b.depthStencilRenderbuffer,P=b.depthTexture,V=b.stencilTexture;if(a.activeTexture(n.TEXTURE0),x)x.setSize(h,m),n.framebufferRenderbuffer(n.FRAMEBUFFER,x.attachment,n.RENDERBUFFER,x.buffer);else if(P){P.source.data={width:h,height:m},P.update({data:{width:h,height:m,data:new Uint16Array(0)}});var D=P&&V?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.framebufferTexture2D(n.FRAMEBUFFER,D,n.TEXTURE_2D,P.textureBuffer,0)}this.resetColorTextures(this.colorTextures);var _=n.checkFramebufferStatus(n.FRAMEBUFFER);if(_!==n.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer failed. gl status="+_+", gl error="+n.getError()+", gl isContextLost="+n.isContextLost()+".");this.ready=!0}}},r.resetColorTextures=function(t){var n=t,a=this.renderer.glRenderer.gl,s=this.engine.gpuCapability,l=this.viewport,c=[];if(n){for(var h=ke(n),m;!(m=h()).done;){var v=m.value;v.initialize()}this.colorTextures=n.slice()}this.renderer.pipelineContext.activeTexture(a.TEXTURE0),this.colorTextures.forEach(function(p,b){var x=l[2],P=l[3],V={width:x,height:P,data:new Uint8Array(0)};p.update({data:V}),s.framebufferTexture2D(a,a.FRAMEBUFFER,b,a.TEXTURE_2D,p.textureBuffer),c.push(!0)}),s.drawBuffers(a,c),this.updateAttachmentTextures()},r.resize=function(t,n,a,s){var l=this.viewport,c=l[0],h=l[1],m=l[2],v=l[3];(c!==t||h!==n||m!==a||v!==s)&&(this.viewport=[t,n,a,s],this.ready=!1,this.bind())},r.dispose=function(t){if(this.renderer){this.renderer.glRenderer.deleteGLFramebuffer(this),delete this.fbo;var n=t!=null&&t.depthStencilAttachment?t.depthStencilAttachment:ua.force;if(n===ua.force||n===ua.keepExternal&&!this.externalStorage){var a,s;(a=this.depthStencilRenderbuffer)==null||a.dispose(),(s=this.depthTexture)==null||s.dispose()}this.renderer=this.stencilRenderbuffer=this.depthStencilRenderbuffer=null}},yn(o,[{key:"stencilStorage",get:function(){var t=this.depthStencilStorageType;if(t!==oi.depth_16_opaque)return this.depthStencilRenderbuffer}},{key:"depthStorage",get:function(){if(this.depthStencilStorageType!==oi.stencil_8_opaque)return this.depthStencilRenderbuffer}}]),o}(fs);function km(i){for(var o=5381,r=i.length;r;)o=o*33^i.charCodeAt(--r);return o>>>0}var Id=km,Pd=1,Um=8,$m=0,Rd=4,_d=2,jm=5,ki,Hm=(ki={},ki[F.FLOAT]=1,ki[F.INT]=1,ki[F.UNSIGNED_INT]=1,ki[F.SHORT]=1,ki[F.BOOL]=1,ki[F.UNSIGNED_SHORT]=1,ki[F.FLOAT_VEC2]=2,ki[F.FLOAT_VEC3]=3,ki[F.FLOAT_VEC4]=4,ki[F.FLOAT_MAT2]=4,ki[F.FLOAT_MAT3]=9,ki[F.FLOAT_MAT4]=16,ki[F.FLOAT_MAT2x3]=6,ki[F.FLOAT_MAT2x4]=8,ki[F.FLOAT_MAT4x3]=12,ki[F.FLOAT_MAT4x2]=8,ki[F.FLOAT_MAT3x4]=12,ki[F.FLOAT_MAT3x2]=6,ki[F.INT_VEC2]=2,ki[F.INT_VEC3]=3,ki[F.INT_VEC4]=4,ki[F.UNSIGNED_INT_VEC2]=2,ki[F.UNSIGNED_INT_VEC3]=3,ki[F.UNSIGNED_INT_VEC4]=4,ki[F.BOOL_VEC2]=2,ki[F.BOOL_VEC3]=3,ki[F.BOOL_VEC4]=4,ki),Bo=zh(Float32Array),Zl=zh(Int32Array),Bh=zh(Uint8Array),Ui;Ui={},Ui[F.FLOAT]=Xl(Float32Array),Ui[F.INT]=Xl(Int32Array),Ui[F.UNSIGNED_INT]=Xl(Uint32Array),Ui[F.SHORT]=Xl(Int16Array),Ui[F.BOOL]=Xl(Uint8Array),Ui[F.UNSIGNED_SHORT]=Xl(Uint16Array),Ui[F.FLOAT_VEC2]=Bo,Ui[F.FLOAT_VEC3]=Bo,Ui[F.FLOAT_VEC4]=Bo,Ui[F.FLOAT_MAT2]=Bo,Ui[F.FLOAT_MAT3]=Bo,Ui[F.FLOAT_MAT4]=Bo,Ui[F.FLOAT_MAT2x3]=Bo,Ui[F.FLOAT_MAT2x4]=Bo,Ui[F.FLOAT_MAT4x3]=Bo,Ui[F.FLOAT_MAT4x2]=Bo,Ui[F.FLOAT_MAT3x4]=Bo,Ui[F.FLOAT_MAT3x2]=Bo,Ui[F.INT_VEC2]=Zl,Ui[F.INT_VEC3]=Zl,Ui[F.INT_VEC4]=Zl,Ui[F.UNSIGNED_INT_VEC2]=Zl,Ui[F.UNSIGNED_INT_VEC3]=Zl,Ui[F.UNSIGNED_INT_VEC4]=Zl,Ui[F.BOOL_VEC2]=Bh,Ui[F.BOOL_VEC3]=Bh,Ui[F.BOOL_VEC4]=Bh;function Xl(i){return function(o,r,e,t){var n={start:r[Pd],dirty:!0},a=r[_d];if(a>1){var s=o;if(s.length){for(var l=t[1]||s.length,c=r[Rd]/i.BYTES_PER_ELEMENT,h=n.buffer=new i(l*c),m=t[0]||0,v=0;v<l;v++)h[v*c]=s[v+m];n.start+=m*c}}else n.buffer=new i([o]);return n}}function zh(i){return function(o,r,e,t){for(var n=r[Um],a=r[_d],s=r[jm],l=a===1?n:r[Rd],c=s?l/s:1,h=l/i.BYTES_PER_ELEMENT/c,m=n/i.BYTES_PER_ELEMENT/h,v=Hm[r[$m]],p=v/c,b=(t[0]||0)*v,x=t[1]?c*t[1]:m,P=new i(h*x),V={start:r[Pd]+l*(t[0]||0),dirty:!0,buffer:P},D=0,_=0,K=b;D<x;D++){for(var U=0;U<p;U++)P[_+U]=o[K+U];_+=h,K+=p}return V}}function Gm(i,o){for(var r=function(s){var l=i.getActiveUniformBlockName(o,s);xt(l);var c={index:i.getUniformBlockIndex(o,l),usedByVertexShader:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:i.getActiveUniformBlockParameter(o,s,i.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),used:!1,uniforms:{},name:l,id:""};c.used=c.usedByVertexShader||c.usedByFragmentShader,e[s]=c;for(var h=c.uniformIndices,m=[],v=0;v<h.length;v++){var p=i.getActiveUniform(o,h[v]).name.replace("[0]","");c.uniforms[p]=[0,0,0,0,0,0,0,v,0],m[v]=p,t.push(p)}[i.UNIFORM_TYPE,i.UNIFORM_OFFSET,i.UNIFORM_SIZE,i.UNIFORM_BLOCK_INDEX,i.UNIFORM_ARRAY_STRIDE,i.UNIFORM_MATRIX_STRIDE,i.UNIFORM_IS_ROW_MAJOR].forEach(function(D,_){i.getActiveUniforms(o,h,D).forEach(function(K,U){var W=m[U];c.uniforms[W][_]=+K})});for(var b=0;b<m.length;b++){var x=c.uniforms[m[b]],P=c.uniforms[m[b+1]],V=P?P[1]:c.size;x[8]=V-x[1]}c.id=Wm(c)+""},e=[],t=[],n=i.getProgramParameter(o,i.ACTIVE_UNIFORM_BLOCKS),a=0;a<n;++a)r(a);return{blockSpecs:e,blockUniformNames:t}}function Wm(i){var o=i.name,r=i.size,e=i.uniforms,t=i.uniformIndices;return Object.keys(e).map(function(n){return n+"["+e[n].join(":")+"]"}).join("+"),Id(""+o+"+",""+r+"+",""+t.length+"+")}var Zm=function(){function i(r,e,t){var n=this;this.engine=r,this.program=e,this.id=t,this.uniformBlockMap={},this.pipelineContext=r.getGLPipelineContext();var a=this.pipelineContext.gl;if(this.pipelineContext.useProgram(e),this.attribInfoMap=this.createAttribMap(),An(a)){var s=Gm(a,e).blockSpecs;s.forEach(function(l){return n.uniformBlockMap[l.name]=l})}this.pipelineContext.useProgram(null)}var o=i.prototype;return o.bind=function(){this.pipelineContext.useProgram(this.program)},o.setupAttributes=function(e){var t=this,n,a=this.id,s=this.pipelineContext.gl,l;return e.vaos[a]?l=e.vaos[a]:(l=new xd(this.engine,e.name+"-"+a),l||console.error("Failed to create VAO object."),e.vaos[a]=l),l&&l.vao&&(l.bind(),l.ready)||(Object.keys(this.attribInfoMap).forEach(function(c){var h=t.attribInfoMap[c],m=e.attributes[c];if(m){var v=e.buffers[m.dataSource];if(!v)throw new Error("Failed to find a buffer named '"+(m.dataSource||c)+"'. Please ensure the buffer is correctly initialized and bound.");v.bind(),s.enableVertexAttribArray(h.loc),s.vertexAttribPointer(h.loc,m.size,m.type,m.normalize,m.stride||0,m.offset||0)}}),(n=e.indicesBuffer)==null||n.bind(),l&&(l.ready=!0)),l},o.createAttribMap=function(){for(var e=this.pipelineContext.gl,t=this.program,n={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var l=e.getActiveAttrib(t,s);if(l){var c=l.name,h=l.type,m=l.size,v=e.getAttribLocation(t,c);n[c]={type:h,name:c,size:m,loc:v}}}return n},o.dispose=function(){this.pipelineContext&&(this.pipelineContext.gl.deleteProgram(this.program),this.pipelineContext=null)},i}(),Xm=function(i){Ee(o,i);function o(e,t){var n;return n=i.call(this,e,t)||this,n.initialized=!1,n.uniformLocations={},n.samplerChannels={},n}var r=o.prototype;return r.initialize=function(){if(!this.initialized){var t=this.engine.getGLPipelineContext();t.shaderLibrary.compileShader(this)}},r.setFloat=function(t,n){this.pipelineContext.setFloat(this.uniformLocations[t],n)},r.setInt=function(t,n){this.pipelineContext.setInt(this.uniformLocations[t],n)},r.setFloats=function(t,n){this.pipelineContext.setFloats(this.uniformLocations[t],n)},r.setTexture=function(t,n){this.pipelineContext.setTexture(this.uniformLocations[t],this.samplerChannels[t],n)},r.setVector2=function(t,n){this.pipelineContext.setVector2(this.uniformLocations[t],n)},r.setVector3=function(t,n){this.pipelineContext.setVector3(this.uniformLocations[t],n)},r.setVector4=function(t,n){this.pipelineContext.setVector4(this.uniformLocations[t],n)},r.setColor=function(t,n){this.pipelineContext.setColor(this.uniformLocations[t],n)},r.setQuaternion=function(t,n){this.pipelineContext.setQuaternion(this.uniformLocations[t],n)},r.setMatrix=function(t,n){this.pipelineContext.setMatrix(this.uniformLocations[t],n)},r.setMatrix3=function(t,n){this.pipelineContext.setMatrix3(this.uniformLocations[t],n)},r.setVector4Array=function(t,n){this.pipelineContext.setVector4Array(this.uniformLocations[t],n)},r.setMatrixArray=function(t,n){this.pipelineContext.setMatrixArray(this.uniformLocations[t],n)},r.fillShaderInformation=function(t,n){var a=n.slice();t=t.concat(a);for(var s=this.pipelineContext.getUniforms(this.program.program,t),l=0;l<t.length;l++)this.uniformLocations[t[l]]=s[l];var c;for(c=0;c<a.length;c++){var h=this.uniformLocations[a[c]];h==null&&(a.splice(c,1),c--)}for(c=0;c<a.length;c++){var m=a[c];this.samplerChannels[m]=c}},r.toData=function(){var t=this.taggedProperties;t.dataType=St.Shader,t.id=this.guid,t.vertex=this.source.vertex,t.fragment=this.source.fragment},r.dispose=function(){var t;this.compileResult&&this.compileResult.shared||(t=this.program)==null||t.dispose()},o}(ss),Ym=0,Km=function(){function i(r,e){this.engine=r,this.pipelineContext=e,this.shaderResults={},this.programMap={},this.glVertShaderMap=new Map,this.glFragShaderMap=new Map,this.shaderAllDone=!1,this.cachedShaders={},this.glAsyncCompileExt=r.gpuCapability.glAsyncCompileExt}var o=i.prototype;return o.compileAllShaders=function(e){var t=this;if(this.shaderAllDone)e&&e([]);else{for(var n=[],a=ke(Object.keys(this.cachedShaders)),s;!(s=a()).done;){var l=s.value;this.cachedShaders[l].initialized||n.push(l)}e?n.length?Promise.all(n.map(function(c){return new Promise(function(h){return t.compileShader(t.cachedShaders[c],h)})})).then(e).catch(function(){return 0}):e([]):n.map(function(c){return t.compileShader(t.cachedShaders[c])}),this.shaderAllDone=!0}},o.addShader=function(e,t){var n=[];if(e.macros){var a;(a=n).push.apply(a,[].concat(e.macros))}if(t){var s;(s=n).push.apply(s,[].concat(t))}var l=I({},e,{vertex:Ei.genFinalShaderCode({level:this.engine.gpuCapability.level,shaderType:ao.vertex,shader:e.vertex,macros:n}),fragment:Ei.genFinalShaderCode({level:this.engine.gpuCapability.level,shaderType:ao.fragment,shader:e.fragment,macros:n})}),c=this.computeShaderCacheId(l);if(this.cachedShaders[c])return c;this.shaderAllDone=!1;var h=!1;return(l.shared||l.cacheId)&&(h=!0),this.cachedShaders[c]=new Xm(this.engine,I({},l,{vertex:l.vertex,fragment:l.fragment,name:l.name||c,shared:h})),this.cachedShaders[c].id=c,c},o.createShader=function(e,t){var n=this.addShader(e,t);return this.cachedShaders[n]},o.compileShader=function(e,t){var n=this,a=e.source,s=a.shared,l=a.vertex,c=a.fragment,h=a.name,m=e.source.cacheId,v=!1;(s||m)&&(v=!0);var p=this.pipelineContext.gl,b={shared:v,status:Aa.compiling},x=this.createProgram(p,l,c,b),P=this.glAsyncCompileExt,V=performance.now(),D=function(K){b.status=Aa.success,b.compileTime=performance.now()-V,e.program=K,e.initialized=!0,e.pipelineContext=n.pipelineContext,n.programMap[e.id]!==void 0&&console.warn("Find duplicated shader id: "+e.id+"."),n.programMap[e.id]=K},_=function(){if(n.engine.isDestroyed)return console.warn("The player is destroyed during the loadScene process. Please check the timing of calling loadScene and dispose. A common situation is that when calling loadScene, await is not added. This will cause dispose to be called before loadScene is completed."),t==null?void 0:t(b);if(e.initialized)return t==null?void 0:t(b);var K=!t||!P||P&&p.getProgramParameter(b.program,P.COMPLETION_STATUS_KHR)==!0,U=K&&x();if(U){if(b.status!==Aa.fail){Bu(U,h);var W=new Zm(n.engine,U,e.id);p.validateProgram(U);var q=p.getProgramParameter(U,p.VALIDATE_STATUS);if(q)D(W);else{var ie=p.getProgramInfoLog(U),oe="the same texture";ie!=null&&ie.includes(oe)?D(W):(b.status=Aa.fail,b.error=ie,console.error("compileProgramError: "+ie,`
vertex:
`,l,`
fragment:
`,c),p.deleteProgram(U))}}t==null||t(b)}else t&&requestAnimationFrame(_)};e.compileResult=b,_()},o.computeShaderCacheId=function(e){var t=e.vertex,n=t===void 0?"":t,a=e.fragment,s=a===void 0?"":a,l=e.shared,c=e.cacheId,h;return l||c?h=c||"shared_"+Qm(n,s):h="instanced_"+Ym++,h},o.createProgram=function(e,t,n,a){var s=e.createProgram(),l=this.createGLShader(e,e.VERTEX_SHADER,t),c=this.createGLShader(e,e.FRAGMENT_SHADER,n);return s&&l&&c?(e.attachShader(s,l),e.attachShader(s,c),e.linkProgram(s),a.program=s,a.status=Aa.compiling,function(){a.program=void 0;var h=e.getProgramParameter(s,e.LINK_STATUS);if(!h){var m=e.getProgramInfoLog(s);console.error("Failed to link program: "+m+".");var v=Ld(e,l,"vertex",t),p=Ld(e,c,"fragment",n);return a.status=Aa.fail,v&&(a.error=v.error,a.status=v.status),p&&(a.error=p.error,a.status=p.status),s}return s}):(a.status=Aa.fail,function(){return null})},o.createGLShader=function(e,t,n){var a=t===e.VERTEX_SHADER?this.glVertShaderMap:this.glFragShaderMap,s=Id(n!=null?n:""),l=a.get(s);if(l)return l;var c=e.createShader(t);return c&&(e.shaderSource(c,n),e.compileShader(c),a.set(s,c)),c},o.deleteShader=function(e){var t=this.programMap[e];t!==void 0&&(t.dispose(),delete this.programMap[e]);var n=this.shaderResults[e];n!==void 0&&delete this.shaderResults[e]},o.restore=function(){},o.dispose=function(){var e=this;if(Object.keys(this.programMap).forEach(function(n){var a=e.programMap[n];a.dispose()}),this.programMap={},this.pipelineContext){var t=this.pipelineContext.gl;this.glFragShaderMap.forEach(function(n){t.deleteShader(n)}),this.glVertShaderMap.forEach(function(n){t.deleteShader(n)}),this.glVertShaderMap=new Map,this.glFragShaderMap=new Map}},i}();function Ld(i,o,r,e){if(!i.getShaderParameter(o,i.COMPILE_STATUS)){var t=i.getShaderInfoLog(o);return console.error("compile "+r+" error: "+t,(e!=null?e:"").split(`
`).map(function(n,a){return a+1+" "+n}).join(`
`)),{error:t,status:Aa.fail}}}function Qm(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];for(var e=0,t=0;t<arguments.length;t++)for(var n=o[t],a=0;a<n.length;a++)e=Math.imul(31,e)+n.charCodeAt(a)|0;return e}var Fd=function(){function i(r,e){this.engine=r,this.gl=e,this.gl=e,this.shaderLibrary=new Km(r,this),this.maxTextureCount=this.gl.TEXTURE0+this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS)-1,this.reset()}var o=i.prototype;return o.dispose=function(){this.shaderLibrary.dispose(),this.reset()},o.reset=function(){this.glCapabilityCache={},this.activeTextureIndex=F.TEXTURE0,this.textureUnitDict={},this.currentFramebuffer={},this.pixelStorei={},this.currentRenderbuffer={}},o.toggle=function(e,t){t?this.enable(e):this.disable(e)},o.enable=function(e){var t=this.glCapabilityCache[e];t!==!0&&(this.glCapabilityCache[e]=!0,this.gl.enable(e))},o.disable=function(e){var t=this.glCapabilityCache[e];t!==!1&&(this.glCapabilityCache[e]=!1,this.gl.disable(e))},o.bindFramebuffer=function(e,t){this.currentFramebuffer[e]!==t&&(this.currentFramebuffer[e]=t,this.gl.bindFramebuffer(e,t))},o.bindRenderbuffer=function(e,t){this.currentRenderbuffer[e]!==t&&(this.currentRenderbuffer[e]=t,this.gl.bindRenderbuffer(e,t))},o.bindSystemFramebuffer=function(){this.bindFramebuffer(this.gl.FRAMEBUFFER,null)},o.useProgram=function(e){this.set1("useProgram",e)},o.clear=function(e){this.gl.clear(e)},o.clearDepth=function(e){this.set1("clearDepth",e)},o.depthFunc=function(e){this.set1("depthFunc",e)},o.depthMask=function(e){this.set1("depthMask",e)},o.polygonOffset=function(e,t){this.set2("polygonOffset",e,t)},o.depthRange=function(e,t){this.set2("depthRange",e,t)},o.clearStencil=function(e){this.set1("clearStencil",e)},o.stencilMask=function(e){this.stencilMaskSeparate(this.gl.FRONT,e),this.stencilMaskSeparate(this.gl.BACK,e)},o.stencilFunc=function(e,t,n){this.stencilFuncSeparate(this.gl.FRONT,e,t,n),this.stencilFuncSeparate(this.gl.BACK,e,t,n)},o.stencilFuncSeparate=function(e,t,n,a){this.set4("stencilFuncSeparate",e,t,n,a)},o.stencilMaskSeparate=function(e,t){this.set2("stencilMaskSeparate",e,t)},o.stencilOp=function(e,t,n){this.stencilOpSeparate(this.gl.FRONT,e,t,n),this.stencilOpSeparate(this.gl.BACK,e,t,n)},o.stencilOpSeparate=function(e,t,n,a){this.set4("stencilOpSeparate",e,t,n,a)},o.cullFace=function(e){this.set1("cullFace",e)},o.frontFace=function(e){this.set1("frontFace",e)},o.clearColor=function(e,t,n,a){this.set4("clearColor",e,t,n,a)},o.colorMask=function(e,t,n,a){this.set4("colorMask",e,t,n,a)},o.blendColor=function(e,t,n,a){this.set4("blendColor",e,t,n,a)},o.blendFunc=function(e,t){this.blendFuncSeparate(e,t,e,t)},o.blendFuncSeparate=function(e,t,n,a){this.set4("blendFuncSeparate",e,t,n,a)},o.blendEquation=function(e){this.set1("blendEquation",e)},o.blendEquationSeparate=function(e,t){this.set2("blendEquationSeparate",e,t)},o.setPixelStorei=function(e,t){var n=this.pixelStorei[e];n!==t&&(this.pixelStorei[e]=t,this.gl.pixelStorei(e,t))},o.viewport=function(e,t,n,a){this.set4("viewport",e,t,n,a)},o.activeTexture=function(e){e=Math.min(e,this.maxTextureCount),this.activeTextureIndex!==e&&(this.activeTextureIndex=e,this.gl.activeTexture(e))},o.bindTexture=function(e,t,n){(this.currentTextureBinding!==t||n)&&(this.gl.bindTexture(e,t),this.currentTextureBinding=t),this.textureUnitDict[this.activeTextureIndex]=t},o.set1=function(e,t){var n=this.glCapabilityCache[e];n!==t&&(this.glCapabilityCache[e]=t,this.gl[e](t))},o.set2=function(e,t,n){var a=this.glCapabilityCache[e];a||(a=this.glCapabilityCache[e]={x:NaN,y:NaN}),(a.x!==t||a.y!==n)&&this.gl[e](a.x=t,a.y=n)},o.set3=function(e,t,n,a){var s=this.glCapabilityCache[e];s||(s=this.glCapabilityCache[e]={x:NaN,y:NaN,z:NaN}),(s.x!==t||s.y!==n||s.z!==a)&&this.gl[e](s.x=t,s.y=n,s.z=a)},o.set4=function(e,t,n,a,s){var l=this.glCapabilityCache[e];l||(l=this.glCapabilityCache[e]={x:NaN,y:NaN,z:NaN,w:NaN}),(l.x!==t||l.y!==n||l.z!==a||l.w!==s)&&this.gl[e](l.x=t,l.y=n,l.z=a,l.w=s)},o.get=function(e){return this.glCapabilityCache[e]},o.setFloat=function(e,t){e&&this.gl.uniform1f(e,t)},o.setInt=function(e,t){e&&this.gl.uniform1i(e,t)},o.setFloats=function(e,t){e&&this.gl.uniform1fv(e,t)},o.setVector2=function(e,t){this.setFloat2(e,t.x,t.y)},o.setVector3=function(e,t){this.setFloat3(e,t.x,t.y,t.z)},o.setVector4=function(e,t){this.setFloat4(e,t.x,t.y,t.z,t.w)},o.setColor=function(e,t){this.setFloat4(e,t.r,t.g,t.b,t.a)},o.setQuaternion=function(e,t){this.setFloat4(e,t.x,t.y,t.z,t.w)},o.setVector4Array=function(e,t){!e||t.length%4!==0||this.gl.uniform4fv(e,t)},o.setMatrix=function(e,t){e&&this.gl.uniformMatrix4fv(e,!1,t.elements)},o.setMatrix3=function(e,t){e&&this.gl.uniformMatrix3fv(e,!1,t.elements)},o.setMatrixArray=function(e,t){!e||t.length%16!==0||this.gl.uniformMatrix4fv(e,!1,t)},o.setTexture=function(e,t,n){if(e){this.gl.activeTexture(this.gl.TEXTURE0+t);var a=n.target;this.gl.bindTexture(a,n.textureBuffer),this.gl.uniform1i(e,t)}},o.getUniforms=function(e,t){for(var n=[],a=0;a<t.length;a++)n.push(this.gl.getUniformLocation(e,t[a]));return n},o.setFloat4=function(e,t,n,a,s){e&&this.gl.uniform4f(e,t,n,a,s)},o.setFloat3=function(e,t,n,a){e&&this.gl.uniform3f(e,t,n,a)},o.setFloat2=function(e,t,n){e&&this.gl.uniform2f(e,t,n)},i}(),Jm=function(i){Ee(o,i);function o(e,t,n){var a;a=i.call(this)||this,a.canvas=e,a.temporaryRTs={};var s=I({preserveDrawingBuffer:void 0,alpha:!0,stencil:!0,antialias:!0,depth:!0,premultipliedAlpha:!0},n);a.context=new Bm(e,t,s);var l=a.context.gl;return xt(l),a.engine=new Nh(l),a.engine.renderer=We(a),a.pipelineContext=new Fd(a.engine,l),a.glRenderer=new Ed(a.engine),a.extension=new Ad(We(a)),a.renderingData={currentFrame:{}},a.framebuffer=new Vh({storeAction:{},viewport:[0,0,a.width,a.height],attachments:[new Ws(a.engine,{sourceType:j.framebuffer,data:{width:a.width,height:a.height}})],depthStencilAttachment:{storageType:oi.none}},We(a)),a}var r=o.prototype;return r.renderRenderFrame=function(t){var n,a=t;a.resource&&a.resource.color_b.initialize(),a.emptyTexture.initialize(),a.transparentTexture.initialize();var s=a._renderPasses;if(this.isDestroyed){console.error("Renderer is destroyed, target: GLRenderer.");return}(n=a.renderer.getShaderLibrary())==null||n.compileAllShaders(),this.setFramebuffer(null),this.clear(a.clearAction);var l=a.camera;this.renderingData.currentFrame=a,this.renderingData.currentCamera=l,this.setGlobalMatrix("effects_MatrixInvV",l.getInverseViewMatrix()),this.setGlobalMatrix("effects_MatrixV",l.getViewMatrix()),this.setGlobalMatrix("effects_MatrixVP",l.getViewProjectionMatrix()),this.setGlobalMatrix("_MatrixP",l.getProjectionMatrix()),this.setGlobalVector3("effects_WorldSpaceCameraPos",l.position),de(s);for(var c=ke(s),h;!(h=c()).done;){var m=h.value,v=m.delegate;v.willBeginRenderPass==null||v.willBeginRenderPass.call(v,m,this.renderingData),this.renderRenderPass(m),v.didEndRenderPass==null||v.didEndRenderPass.call(v,m,this.renderingData)}for(var p=ke(s),b;!(b=p()).done;){var x=b.value;x.frameCleanup(this)}},r.renderRenderPass=function(t){this.renderingData.currentPass=t,t.initialize(this),t.configure(this),t.execute(this)},r.renderMeshes=function(t){for(var n=this.renderingData.currentPass.delegate,a=ke(t),s;!(s=a()).done;){var l=s.value;n.willRenderMesh==null||n.willRenderMesh.call(n,l,this.renderingData),l.render(this),n.didRenderMesh==null||n.didRenderMesh.call(n,l,this.renderingData)}},r.setGlobalFloat=function(t,n){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.floats[t]=n},r.setGlobalVector4=function(t,n){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.vector4s[t]=n},r.getGlobalVector4=function(t){return this.renderingData.currentFrame.globalUniforms.vector4s[t]},r.setGlobalInt=function(t,n){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.ints[t]=n},r.setGlobalMatrix=function(t,n){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.matrices[t]=n},r.setGlobalVector3=function(t,n){this.checkGlobalUniform(t),this.renderingData.currentFrame.globalUniforms.vector3s[t]=n},r.drawGeometry=function(t,n,a){if(a===void 0&&(a=0),!(!t||!n)){n.initialize(),t.initialize(),t.flush();var s=this.renderingData;s.currentFrame.editorTransform&&n.setVector4("uEditorTransform",s.currentFrame.editorTransform);try{n.use(this,s.currentFrame.globalUniforms)}catch(l){console.error(l);return}this.glRenderer.drawGeometry(t,n,a)}},r.setFramebuffer=function(t){t?(this.framebuffer=t,this.framebuffer.bind(),this.setViewport(t.viewport[0],t.viewport[1],t.viewport[2],t.viewport[3])):(this.pipelineContext.bindSystemFramebuffer(),this.setViewport(0,0,this.getWidth(),this.getHeight()))},r.getFramebuffer=function(){return this.framebuffer},r.getTemporaryRT=function(t,n,a,s,l,c){if(this.temporaryRTs[t])return this.temporaryRTs[t];var h,m,v=oi.none;l===Ms.Linear?h=F.LINEAR:l===Ms.Nearest&&(h=F.NEAREST),c===es.RGBA32?m=F.UNSIGNED_BYTE:c===es.RGBAHalf&&(m=F.HALF_FLOAT),s===0?v=oi.none:s===16?v=oi.depth_16_opaque:s===24&&(v=oi.depth_24_stencil_8_texture);var p=new Ws(this.engine,{sourceType:j.framebuffer,minFilter:h,magFilter:h,internalFormat:F.RGBA,format:F.RGBA,type:m}),b=new Vh({name:t,storeAction:{},viewport:[0,0,n,a],viewportScale:1,isCustomViewport:!0,attachments:[p],depthStencilAttachment:{storageType:v}},this);return this.temporaryRTs[t]=b,b},r.setViewport=function(t,n,a,s){this.pipelineContext.viewport(t,n,a,s)},r.clear=function(t){var n=this.pipelineContext,a=0;if(t.colorAction===Z.clear){var s=t.clearColor;s&&n.clearColor(s[0],s[1],s[2],s[3]),n.colorMask(!0,!0,!0,!0),a=F.COLOR_BUFFER_BIT}if(t.stencilAction===Z.clear&&(n.stencilMask(255),n.clearStencil(t.clearStencil||0),a=a|F.STENCIL_BUFFER_BIT),t.depthAction===Z.clear){var l=t.clearDepth;n.depthMask(!0),n.clearDepth(Number.isFinite(l)?l:1),a=a|F.DEPTH_BUFFER_BIT}a&&n.clear(a)},r.addLostHandler=function(t){this.context.addLostHandler(t)},r.addRestoreHandler=function(t){this.context.addRestoreHandler(t)},r.getShaderLibrary=function(){return this.pipelineContext.shaderLibrary},r.getWidth=function(){return this.width},r.getHeight=function(){return this.height},r.dispose=function(){var t;this.context.dispose(),this.extension.dispose(),this.pipelineContext.dispose(),(t=this.glRenderer)==null||t.dispose(),this.canvas=null,this.engine.dispose()},r.lost=function(t){t.preventDefault(),this.pipelineContext.dispose(),this.extension.dispose(),this.glRenderer.lost(t)},r.restore=function(){var t=this.context.gl;if(!t)throw new Error("Can not restore automatically because losing gl context.");this.engine=new Nh(t),this.engine.renderer=this,this.pipelineContext=new Fd(this.engine,t),this.glRenderer=new Ed(this.engine),this.extension=new Ad(this)},r.resize=function(t,n){var a=this.glRenderer;a&&(this.width!==t||this.height!==n)&&a.resize(t,n)},r.checkGlobalUniform=function(t){var n=this.renderingData.currentFrame.globalUniforms;n.uniforms.includes(t)||n.uniforms.push(t)},yn(o,[{key:"isDestroyed",get:function(){var t=this.glRenderer;return t?t.isDestroyed:!0}},{key:"height",get:function(){var t,n;return(n=(t=this.glRenderer)==null?void 0:t.height)!=null?n:0}},{key:"width",get:function(){var t,n;return(n=(t=this.glRenderer)==null?void 0:t.width)!=null?n:0}}]),o}(As),yl={"Container size overflowed":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#MvjnY","DPI overflowed":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#ulfNT","Invalid container size":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#lLlSW","Container is not an HTMLElement":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#WZaWg","Never use destroyed player again":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#YSWQr","Current running player count":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#IzodZ","Create player with different WebGL version":"https://www.galacean.com/effects/user/gasrv4ka5sacrwpg#X0ulg"};function qm(){var i=/iPhone OS (\d+)_(\d+)/,o=i.exec(navigator.userAgent);return o?o[1]==="13"||o[1]==="16"&&o[2]==="5":!1}function ev(i){throw new Error(i)}function tv(i){return Promise.reject(i)}var bl=new Map,Dd=!1,nv=1,rv=function(i){Ee(o,i);function o(e){var t;t=i.call(this)||this,t.builtinObjects=[],t.compositions=[],t.displayScale=1,t.resumePending=!1,t.disposed=!1,t.assetManagers=[],t.speed=1,t.baseCompositionIndex=0,t.lost=function(ie){var oe;(oe=t.ticker)==null||oe.pause(),t.compositions.forEach(function(Xe){return Xe.lost(ie)}),t.renderer.lost(ie),t.emit("webglcontextlost",ie),kh(We(t),!1)};var n=We(t);t.restore=M(function(){var ie;return ee(this,function(oe){switch(oe.label){case 0:return n.renderer.restore(),[4,Promise.all(n.compositions.map(M(function(Xe){var Je,ot,lt,Et,Ht,Gt,Qt,en,Pt,Fn,dn,In;return ee(this,function(Yn){switch(Yn.label){case 0:return Je=Xe.time,ot=Xe.url,lt=Xe.speed,Et=Xe.keepResource,Ht=Xe.reusable,Gt=Xe.renderOrder,Qt=Xe.transform,en=Xe.videoState,[4,n.loadScene(ot)];case 1:Pt=Yn.sent(),Pt.speed=lt,Pt.reusable=Ht,Pt.keepResource=Et,Pt.renderOrder=Gt,Pt.transform.setPosition(Qt.position.x,Qt.position.y,Qt.position.z),Pt.transform.setRotation(Qt.rotation.x,Qt.rotation.y,Qt.rotation.z),Pt.transform.setScale(Qt.scale.x,Qt.scale.y,Qt.scale.z),Fn=0,Yn.label=2;case 2:return Fn<en.length?en[Fn]?(dn=Pt.textures[Fn].source.video,dn.currentTime=(In=en[Fn])!=null?In:0,[4,dn.play()]):[3,4]:[3,5];case 3:Yn.sent(),Yn.label=4;case 4:return Fn++,[3,2];case 5:return Pt.isEnded=!1,Pt.gotoAndPlay(Je),[2,Pt]}})})))];case 1:return n.compositions=oe.sent(),n.emit("webglcontextrestored"),(ie=n.ticker)==null||ie.resume(),ft()&&n.canvas&&(n.canvas.style.display="none",window.setTimeout(function(){n.canvas.style.display=""},0)),[2]}})}),t.handleResume=function(){t.emit("update",{player:We(t),playing:!0})},t.handleClick=function(ie){var oe=ie.x,Xe=ie.y;t.compositions.forEach(function(Je){var ot=Je.hitTest(oe,Xe);if(ot.length)for(var lt=0;lt<ot.length;lt++){var Et=ot[lt].behavior||yr.NOTIFY;Et===yr.NOTIFY?(t.emit("click",I({},ot[lt],{compositionId:Je.id,compositionName:Je.name,player:We(t)})),Je.emit("click",I({},ot[lt],{compositionId:Je.id,compositionName:Je.name}))):Et===yr.RESUME_PLAYER&&t.resume()}})};var a=e.container,s=e.canvas,l=e.fps,c=e.name,h=e.pixelRatio,m=e.manualRender,v=e.reportGPUTime,p=e.renderFramework,b=e.notifyTouch,x=e.interactive,P=x===void 0?!1:x,V=e.renderOptions,D=V===void 0?{}:V,_=e.env,K=_===void 0?"":_,U=D.willCaptureImage,W=D.premultipliedAlpha;if(go.length)throw new Error("Errors before player create: "+go.map(function(ie,oe){return`
 `+(oe+1)+": "+ie})+".");if(Dd||p==="debug-disable")return Oe(t);var q=se()||qm()?"webgl":"webgl2";return p&&(q=p==="webgl"?"webgl":"webgl2"),t.reportGPUTime=v,t.pixelRatio=Number.isFinite(h)?h:Jt(),t.offscreenMode=!0,t.env=K,t.name=c||""+nv++,s?t.canvas=s:(Nd(a),t.canvas=document.createElement("canvas"),a.appendChild(t.canvas)),t.container=t.canvas.parentElement,t.renderer=As.create(t.canvas,q,{preserveDrawingBuffer:U,premultipliedAlpha:W}),t.renderer.env=K,t.renderer.addLostHandler({lost:t.lost}),t.renderer.addRestoreHandler({restore:t.restore}),t.gpuCapability=t.renderer.engine.gpuCapability,t.builtinObjects.push(xi(t.renderer.engine)),bl.forEach(function(ie){ie.gpuCapability.type!==t.gpuCapability.type&&He.warn("Create player with different WebGL version: old="+ie.gpuCapability.type+", new="+t.gpuCapability.type+`.
see `+yl["Create player with different WebGL version"]+".")}),m||(t.ticker=new Sm(l),t.ticker.add(t.tick.bind(We(t)))),t.event=new Pf(t.canvas,!!b),t.event.bindListeners(),t.event.addEventListener(Ds,t.handleClick),t.interactive=P,t.resize(),lc(t.gpuCapability.detail),bl.set(t.canvas,We(t)),iv(),kh(We(t),!0),t}var r=o.prototype;return r.setSpeed=function(t){isNaN(t)||(this.speed=t)},r.getSpeed=function(){return this.speed},r.getCompositionByName=function(t){return this.compositions.find(function(n){return n.name===t})},r.getCompositions=function(){return this.compositions},r.getAssetManager=function(){return this.assetManagers},r.loadScene=function(t,n){var a=this;return M(function(){var s,l,c;return ee(this,function(h){switch(h.label){case 0:return c=a.baseCompositionIndex,xn(t)?(a.baseCompositionIndex+=t.length,[4,Promise.all(t.map(M(function(m,v){var p;return ee(this,function(b){switch(b.label){case 0:return[4,a.createComposition(m,n)];case 1:return p=b.sent(),p.setIndex(c+v),[2,p]}})})))]):[3,2];case 1:return l=h.sent(),[3,4];case 2:return a.baseCompositionIndex+=1,[4,a.createComposition(t,n)];case 3:l=h.sent(),l.setIndex(c),h.label=4;case 4:return(s=a.ticker)==null||s.start(),[2,l]}})})()},r.createComposition=function(t,n){n===void 0&&(n={});var a=this;return M(function(){var s,l,c,h,m,v,p,b,x,P,V,D,_,K,U,W,q,ie,oe,Xe,Je,ot,lt;return ee(this,function(Et){switch(Et.label){case 0:return c=a.renderer,h=c.engine,m=(l=h.gpuCapability)==null||(s=l.detail)==null?void 0:s.asyncShaderCompile,v=performance.now(),p=I({autoplay:!0},n),b=t,Wl.isURL(t)&&(Wl.isJSONObject(t)||(b=t.url),Wl.isWithOptions(t)&&(p=I({},p,t.options))),x=new od(p),h.clearResources(),a.assetManagers.push(x),[4,x.loadScene(b,a.renderer,{env:a.env})];case 1:for(P=Et.sent(),h.addPackageDatas(P),V=ke(a.builtinObjects);!(D=V()).done;)_=D.value,h.addInstance(_);if(a.updateTextVariables(P,p.variables),a.disposed)throw new Error("Disposed player can not used to create Composition.");for(K=0;K<P.textureOptions.length;K++)U=P.textureOptions[K],k(U,Zn)?h.addInstance(U):(U=h.assetLoader.loadGUID(P.textureOptions[K].id),P.textureOptions[K]=U),U.initialize();return h.database?[4,h.createVFXItems(P)]:[3,3];case 2:Et.sent(),Et.label=3;case 3:if(W=new Cm(I({},p,{renderer:c,width:c.getWidth(),height:c.getHeight(),event:a.event,handleItemMessage:function(Ht){a.emit("message",Ht)}}),P),a.ticker&&p.renderLevel===Vt.B&&a.ticker.setFPS(Math.min(a.ticker.getFPS(),30)),a.env!==To)for(q=ke(Object.keys(a.renderer.engine.objectInstance));!(ie=q()).done;)oe=ie.value,Xe=a.renderer.engine.objectInstance[oe],k(Xe,Bi)&&Xe.createShaderVariant();return Je=performance.now(),[4,new Promise(function(Ht){var Gt;(Gt=a.renderer.getShaderLibrary())==null||Gt.compileAllShaders(function(){Ht(null)})})];case 4:return Et.sent(),p.autoplay?(a.autoPlaying=!0,W.play()):W.pause(),ot=performance.now()-Je,lt=performance.now()-v,W.statistic.compileTime=ot,W.statistic.firstFrameTime=lt,He.info("Shader "+(m?"async":"sync")+" compile ["+W.name+"]: "+ot.toFixed(4)+"ms."),He.info("First frame ["+W.name+"]: "+lt.toFixed(4)+"ms."),a.compositions.push(W),[2,W]}})})()},r.updateTextVariables=function(t,n){n===void 0&&(n={});var a=this.renderer,s=a.engine;t.jsonScene.items.forEach(function(l){if(l.type===Ve.text||l.type===Ve.richtext){var c=n[l.name];if(!c)return;l.components.forEach(function(h){var m=h.id,v=s.findEffectsObjectData(m);((v==null?void 0:v.dataType)===St.TextComponent||(v==null?void 0:v.dataType)===St.RichTextComponent)&&(v.options.text=c)})}})},r.play=function(){var t;this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!0,this.compositions.map(function(n){n.play()}),(t=this.ticker)==null||t.start()},r.gotoAndPlay=function(t){this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!0,this.compositions.map(function(n){n.gotoAndPlay(t)}),this.ticker?this.ticker.start():this.doTick(0,!0)},r.gotoAndStop=function(t){var n;this.offscreenMode&&(this.resize(),this.offscreenMode=!1),this.autoPlaying=!1,this.compositions.map(function(a){a.gotoAndStop(t)}),(!this.ticker||(n=this.ticker)!=null&&n.getPaused())&&this.doTick(0,!0),this.emit("update",{player:this,playing:!1})},r.playSequence=function(t){for(var n=function(l){t[l].on("end",function(){t[l+1].play()})},a,s=0;s<t.length-1;s++)n(s);t[0].play(),(a=this.ticker)==null||a.start()},r.pause=function(t){var n;this.paused||((n=this.ticker)==null||n.pause(),this.emit("pause"),this.emit("update",{player:this,playing:!1}),t&&t.offloadTexture&&this.offloadTexture())},r.resume=function(){var t=this;return M(function(){var n;return ee(this,function(a){switch(a.label){case 0:return t.resumePending?[2]:t.paused?(t.resumePending=!0,[4,Promise.all(t.compositions.map(function(s){return s.reloadTexture()}))]):[3,2];case 1:a.sent(),t.resumePending=!1,t.handleResume(),a.label=2;case 2:return(n=t.ticker)==null||n.resume(),[2]}})})()},r.tick=function(t){this.doTick(t,this.forceRenderNextFrame),this.forceRenderNextFrame=!1},r.doTick=function(t,n){var a=this,s=this.renderer.engine.renderErrors;if(s.size>0){var l;this.emit("rendererror",s.values().next().value),(l=this.ticker)==null||l.pause()}t=Math.min(t,33)*this.speed;var c=this.compositions,h=!1;c.sort(function(_,K){return _.getIndex()-K.getIndex()});for(var m=[],v=0;v<c.length;v++){var p=c[v];if(p.textureOffloaded){h=!0,He.error("Composition "+p.name+" texture offloaded, skip render."),m.push(p);continue}!p.isDestroyed&&p.renderer&&p.update(t),p.isDestroyed||m.push(p)}if(this.compositions=m,this.baseCompositionIndex=this.compositions.length,h){var b;return this.emit("rendererror",new Error("Play when texture offloaded.")),(b=this.ticker)==null?void 0:b.pause()}if(!this.paused||n){var x=this.gpuCapability.level,P=this.renderer.context.gl,V=x===2&&this.reportGPUTime?Cs(P):void 0;if(V==null||V.begin(),this.compositions.length||this.compositions.length<c.length||n){this.renderer.setFramebuffer(null),this.renderer.clear({stencilAction:Z.clear,clearStencil:0,depthAction:Z.clear,clearDepth:1,colorAction:Z.clear,clearColor:[0,0,0,0]});for(var D=0;D<c.length;D++)!c[D].renderFrame.isDestroyed&&this.renderer.renderRenderFrame(c[D].renderFrame)}V==null||V.end(),V==null||V.getTime().then(function(_){return a.reportGPUTime==null?void 0:a.reportGPUTime.call(a,_!=null?_:0)}).catch,this.autoPlaying&&this.emit("update",{player:this,playing:!0})}},r.resizeToAspect=function(t,n){n===void 0&&(n=1),t!==this.displayAspect&&(this.displayAspect=t),n!==this.displayScale&&(this.displayScale=n),this.resize()},r.resize=function(){var t=this.canvas.parentElement,n,a,s,l;if(t){var c=this.getTargetSize(t);n=c[0],a=c[1],s=c[2],l=c[3]}else n=s=this.canvas.width,a=l=this.canvas.height;var h=n/a;if(n&&a){var m,v=document.documentElement.clientWidth;s>v*2&&He.error("DPI overflowed, width "+s+" is more than 2x document width "+v+", see "+yl["DPI overflowed"]+".");var p=this.env?this.gpuCapability.detail.maxTextureSize:2048;(s>p||l>p)&&(He.error("Container size overflowed "+s+"x"+l+", see "+yl["Container size overflowed"]+"."),h>1?(s=Math.round(p),l=Math.round(p/h)):(l=Math.round(p),s=Math.round(p*h))),this.renderer.resize(s,l),this.canvas.style.width=n+"px",this.canvas.style.height=a+"px",He.info("Resize player "+this.name+" ["+s+","+l+","+n+","+a+"]."),(m=this.compositions)==null||m.forEach(function(b){b.camera.aspect=h})}},r.clearCanvas=function(t){t?this.renderer.clear({stencilAction:Z.clear,clearStencil:0,depthAction:Z.clear,clearDepth:1,colorAction:Z.clear,clearColor:[0,0,0,0]}):this.forceRenderNextFrame=!0},r.destroyCurrentCompositions=function(){this.compositions.forEach(function(t){return t.dispose()}),this.compositions.length=0,this.baseCompositionIndex=0},r.dispose=function(t){var n;if(He.info("Call player destroyed: "+this.name+"."),!this.disposed){bl.delete(this.canvas),this.pause(),(n=this.ticker)==null||n.stop(),this.assetManagers.forEach(function(c){return c.dispose()}),this.compositions.forEach(function(c){return c.dispose()}),this.compositions.length=0,this.renderer&&(this.renderer.context.removeLostHandler({lost:this.lost}),this.renderer.context.removeRestoreHandler({restore:this.restore}),this.renderer.dispose(!t)),this.event&&this.event.dispose(),this.destroyBuiltinObjects(),kh(this,!1),k(this.canvas,HTMLCanvasElement)&&!t&&this.renderer.context&&(cn.dispose(),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas.remove());var a=av(this.name),s=function(){return ev(a)},l=function(){return tv(a)};this.tick=s,this.resize=s,this.loadScene=l,this.play=l,this.gotoAndPlay=l,this.gotoAndStop=l,this.playSequence=s,this.destroyCurrentCompositions=s,this.resume=l,this.disposed=!0}},r.offloadTexture=function(){this.compositions.forEach(function(t){return t.offloadTexture()})},r.getTargetSize=function(t){Nd(t);var n=this.displayAspect,a=window.getComputedStyle==null?void 0:window.getComputedStyle.call(window,t),s,l,c=0,h=0;if(a?(c=parseInt(a.width,10),h=parseInt(a.height,10)):(c=t.clientWidth,h=t.clientHeight),n){var m=c/h;m>n?(l=h*this.displayScale,s=l*n):(s=c*this.displayScale,l=s/n)}else s=c,l=h;var v=this.pixelRatio,p=s,b=l;if(s=Math.round(s*v),l=Math.round(l*v),l<1||l<1)if(this.offscreenMode)s=l=p=b=1;else throw new Error("Invalid container size "+s+"x"+l+", see "+yl["Invalid container size"]+".");return[p,b,s,l]},r.destroyBuiltinObjects=function(){for(var t=ke(this.builtinObjects),n;!(n=t()).done;){var a=n.value;a.dispose()}this.builtinObjects.length=0},yn(o,[{key:"compositionCount",get:function(){return this.compositions.length}},{key:"hasPlayable",get:function(){return this.compositions.length>0}},{key:"paused",get:function(){var t;return(t=this.ticker)==null?void 0:t.getPaused()}},{key:"interactive",get:function(){return this.event.enabled},set:function(t){this.event.enabled=t}}]),o}(vu);function fv(i){Dd=!!i}function hv(i){return bl.has(i)}function dv(i){return bl.get(i)}function mv(){return Array.from(bl.values())}function kh(i,o){Object.keys(te).forEach(function(r){var e=te[r],t=o?e.onPlayerCreated:e.onPlayerDestroy;t==null||t(i)})}function iv(){for(var i=[],o=ke(bl.values()),r;!(r=o()).done;){var e=r.value;e.paused||i.push(e)}i.length>1&&He.error("Current running player count: "+i.length+", see "+yl["Current running player count"]+".",i)}function Nd(i){if(i==null)throw new Error("Container is not an HTMLElement, see "+yl["Container is not an HTMLElement"]+".")}function av(i){return"Never use destroyed player: "+i+" again, see "+yl["Never use destroyed player again"]+"."}Zn.create=function(i,o){return new Ws(i,o)},Zn.createWithData=function(i,o,r){o===void 0&&(o=et("#fff")),r===void 0&&(r={});var e=r.type,t=e===void 0?F.UNSIGNED_BYTE:e,n=r.format,a=n===void 0?F.RGBA:n,s=r.internalFormat,l=r.wrapS,c=l===void 0?F.MIRRORED_REPEAT:l,h=r.wrapT,m=h===void 0?F.MIRRORED_REPEAT:h,v=r.minFilter,p=v===void 0?F.NEAREST:v,b=r.magFilter,x=b===void 0?F.NEAREST:b,P=r.flipY,V=P===void 0?!1:P,D=new Ws(i,{data:o,type:t,sourceType:j.data,format:a,internalFormat:s||a,wrapS:c,wrapT:m,minFilter:p,magFilter:x,flipY:V});return D},Bi.create=function(i,o){return new Md(i,o)},Sr.create=function(i,o){return new Sd(i,o)},gi.create=function(i,o){return new gi(i,o)},Cl.create=function(i){return new gl(i)},fs.create=function(i,o){return new Vh(i,o)},As.create=function(i,o,r){return new Jm(i,o,r)},bd.create=function(i){return new Nh(i)};var ov="2.2.7";He.info("Player version: "+ov+".")},91688:function(Xt,Me,T){"use strict";T.d(Me,{E:function(){return Oh}});function y(u,f){u.indexOf(f)===-1&&u.push(f)}function M(u,f){const d=u.indexOf(f);d>-1&&u.splice(d,1)}function k([...u],f,d){const g=f<0?u.length+f:f;if(g>=0&&g<u.length){const C=d<0?u.length+d:d,[A]=u.splice(f,1);u.splice(C,0,A)}return u}const me=u=>u;let ne=me,ee=me;const w={skipAnimations:!1,useManualTiming:!1};function ae(u){let f;return()=>(f===void 0&&(f=u()),f)}const Y=(u,f,d)=>{const g=f-u;return g===0?1:(d-u)/g};class X{constructor(){this.subscriptions=[]}add(f){return y(this.subscriptions,f),()=>M(this.subscriptions,f)}notify(f,d,g){const C=this.subscriptions.length;if(C)if(C===1)this.subscriptions[0](f,d,g);else for(let A=0;A<C;A++){const O=this.subscriptions[A];O&&O(f,d,g)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const he=u=>u*1e3,ve=u=>u/1e3;function pe(u,f){return f?u*(1e3/f):0}const $e=new Set;function Tt(u){return $e.has(u)}function nt(u,f,d){u||$e.has(f)||(console.warn(f),d&&console.warn(d),$e.add(f))}function ge(u){if(typeof Proxy=="undefined")return u;const f=new Map,d=(...g)=>u(...g);return new Proxy(d,{get:(g,C)=>C==="create"?u:(f.has(C)||f.set(C,u(C)),f.get(C))})}function Be(u){return u!==null&&typeof u=="object"&&typeof u.start=="function"}function ze(u){const f=[{},{}];return u==null||u.values.forEach((d,g)=>{f[0][g]=d.get(),f[1][g]=d.getVelocity()}),f}function tt(u,f,d,g){if(typeof f=="function"){const[C,A]=ze(g);f=f(d!==void 0?d:u.custom,C,A)}if(typeof f=="string"&&(f=u.variants&&u.variants[f]),typeof f=="function"){const[C,A]=ze(g);f=f(d!==void 0?d:u.custom,C,A)}return f}function qe(u,f,d){const g=u.getProps();return tt(g,f,d!==void 0?d:g.custom,u)}const Ye=ae(()=>window.ScrollTimeline!==void 0);class je{constructor(f){this.stop=()=>this.runAll("stop"),this.animations=f.filter(Boolean)}get finished(){return Promise.all(this.animations.map(f=>"finished"in f?f.finished:f))}getAll(f){return this.animations[0][f]}setAll(f,d){for(let g=0;g<this.animations.length;g++)this.animations[g][f]=d}attachTimeline(f,d){const g=this.animations.map(C=>{if(Ye()&&C.attachTimeline)return C.attachTimeline(f);if(typeof d=="function")return d(C)});return()=>{g.forEach((C,A)=>{C&&C(),this.animations[A].stop()})}}get time(){return this.getAll("time")}set time(f){this.setAll("time",f)}get speed(){return this.getAll("speed")}set speed(f){this.setAll("speed",f)}get startTime(){return this.getAll("startTime")}get duration(){let f=0;for(let d=0;d<this.animations.length;d++)f=Math.max(f,this.animations[d].duration);return f}runAll(f){this.animations.forEach(d=>d[f]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ft extends je{then(f,d){return Promise.all(this.animations).then(f).catch(d)}}function Jt(u,f){return u?u[f]||u.default||u:void 0}const ft=2e4;function xe(u){let f=0;const d=50;let g=u.next(f);for(;!g.done&&f<ft;)f+=d,g=u.next(f);return f>=ft?1/0:f}function se(u,f=100,d){const g=d(ci(rn({},u),{keyframes:[0,f]})),C=Math.min(calcGeneratorDuration(g),maxGeneratorDuration);return{type:"keyframes",ease:A=>g.next(C*A).value/f,duration:millisecondsToSeconds(C)}}function vt(u){return typeof u=="function"}class De{constructor(f){this.animation=f}get duration(){var f,d,g;const C=((d=(f=this.animation)===null||f===void 0?void 0:f.effect)===null||d===void 0?void 0:d.getComputedTiming().duration)||((g=this.options)===null||g===void 0?void 0:g.duration)||300;return millisecondsToSeconds(Number(C))}get time(){var f;return this.animation?millisecondsToSeconds(((f=this.animation)===null||f===void 0?void 0:f.currentTime)||0):0}set time(f){this.animation&&(this.animation.currentTime=secondsToMilliseconds(f))}get speed(){return this.animation?this.animation.playbackRate:1}set speed(f){this.animation&&(this.animation.playbackRate=f)}get state(){return this.animation?this.animation.playState:"finished"}get startTime(){return this.animation?this.animation.startTime:null}get finished(){return this.animation?this.animation.finished:Promise.resolve()}play(){this.animation&&this.animation.play()}pause(){this.animation&&this.animation.pause()}stop(){!this.animation||this.state==="idle"||this.state==="finished"||(this.animation.commitStyles&&this.animation.commitStyles(),this.cancel())}flatten(){var f,d;!this.animation||!(!((f=this.options)===null||f===void 0)&&f.allowFlatten)||(d=this.animation.effect)===null||d===void 0||d.updateTiming({easing:"linear"})}attachTimeline(f){return this.animation&&attachTimeline(this.animation,f),noop}complete(){this.animation&&this.animation.finish()}cancel(){try{this.animation&&this.animation.cancel()}catch(f){}}}function It(u,f){u.timeline=f,u.onfinish=null}const wt=u=>Array.isArray(u)&&typeof u[0]=="number",et={linearEasing:void 0};function Le(u,f){const d=ae(u);return()=>{var g;return(g=et[f])!==null&&g!==void 0?g:d()}}const J=Le(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(u){return!1}return!0},"linearEasing"),de=(u,f,d=10)=>{let g="";const C=Math.max(Math.round(f/d),2);for(let A=0;A<C;A++)g+=u(Y(0,C-1,A))+", ";return`linear(${g.substring(0,g.length-2)})`};function we(u){return!!(typeof u=="function"&&J()||!u||typeof u=="string"&&(u in ut||J())||wt(u)||Array.isArray(u)&&u.every(we))}const Ge=([u,f,d,g])=>`cubic-bezier(${u}, ${f}, ${d}, ${g})`,ut={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ge([0,.65,.55,1]),circOut:Ge([.55,0,1,.45]),backIn:Ge([.31,.01,.66,-.59]),backOut:Ge([.33,1.53,.69,.99])};function xt(u,f){if(u)return typeof u=="function"&&J()?de(u,f):wt(u)?Ge(u):Array.isArray(u)?u.map(d=>xt(d,f)||ut.easeOut):ut[u]}const _e=["read","resolveKeyframes","update","preRender","render","postRender"],Ae={value:null,addProjectionMetrics:null};function Ze(u,f){let d=new Set,g=new Set,C=!1,A=!1;const O=new WeakSet;let L={delta:0,timestamp:0,isProcessing:!1},N=0;function G(ce){O.has(ce)&&(Q.schedule(ce),u()),N++,ce(L)}const Q={schedule:(ce,Oe=!1,at=!1)=>{const Lt=at&&C?d:g;return Oe&&O.add(ce),Lt.has(ce)||Lt.add(ce),ce},cancel:ce=>{g.delete(ce),O.delete(ce)},process:ce=>{if(L=ce,C){A=!0;return}C=!0,[d,g]=[g,d],d.forEach(G),f&&Ae.value&&Ae.value.frameloop[f].push(N),N=0,d.clear(),C=!1,A&&(A=!1,Q.process(ce))}};return Q}const tn=40;function on(u,f){let d=!1,g=!0;const C={delta:0,timestamp:0,isProcessing:!1},A=()=>d=!0,O=_e.reduce((ln,fr)=>(ln[fr]=Ze(A,f?fr:void 0),ln),{}),{read:L,resolveKeyframes:N,update:G,preRender:Q,render:ce,postRender:Oe}=O,at=()=>{const ln=w.useManualTiming?C.timestamp:performance.now();d=!1,w.useManualTiming||(C.delta=g?1e3/60:Math.max(Math.min(ln-C.timestamp,tn),1)),C.timestamp=ln,C.isProcessing=!0,L.process(C),N.process(C),G.process(C),Q.process(C),ce.process(C),Oe.process(C),C.isProcessing=!1,d&&f&&(g=!1,u(at))},bt=()=>{d=!0,g=!0,C.isProcessing||u(at)};return{schedule:_e.reduce((ln,fr)=>{const rr=O[fr];return ln[fr]=(Ti,vr=!1,Wi=!1)=>(d||bt(),rr.schedule(Ti,vr,Wi)),ln},{}),cancel:ln=>{for(let fr=0;fr<_e.length;fr++)O[_e[fr]].cancel(ln)},state:C,steps:O}}const{schedule:Ct,cancel:zt,state:mn,steps:Ke}=on(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:me,!0),{schedule:He,cancel:Dt}=on(queueMicrotask,!1);let un;function Ln(){un=void 0}const xn={now:()=>(un===void 0&&xn.set(mn.isProcessing||w.useManualTiming?mn.timestamp:performance.now()),un),set:u=>{un=u,queueMicrotask(Ln)}},ct={x:!1,y:!1};function ye(){return ct.x||ct.y}function Ue(u){return u==="x"||u==="y"?ct[u]?null:(ct[u]=!0,()=>{ct[u]=!1}):ct.x||ct.y?null:(ct.x=ct.y=!0,()=>{ct.x=ct.y=!1})}function ht(u,f,d){var g;if(u instanceof EventTarget)return[u];if(typeof u=="string"){let C=document;f&&(C=f.current);const A=(g=d==null?void 0:d[u])!==null&&g!==void 0?g:C.querySelectorAll(u);return A?Array.from(A):[]}return Array.from(u)}function Mt(u,f){const d=ht(u),g=new AbortController,C=ci(rn({passive:!0},f),{signal:g.signal});return[d,C,()=>g.abort()]}function rt(u){return!(u.pointerType==="touch"||ye())}function re(u,f,d={}){const[g,C,A]=Mt(u,d),O=L=>{if(!rt(L))return;const{target:N}=L,G=f(N,L);if(typeof G!="function"||!N)return;const Q=ce=>{rt(ce)&&(G(ce),N.removeEventListener("pointerleave",Q))};N.addEventListener("pointerleave",Q,C)};return g.forEach(L=>{L.addEventListener("pointerenter",O,C)}),A}function le(u,f){const d=`${f}PointerCapture`;if(u.target instanceof Element&&d in u.target&&u.pointerId!==void 0)try{u.target[d](u.pointerId)}catch(g){}}const te=(u,f)=>f?u===f?!0:te(u,f.parentElement):!1,Pe=u=>u.pointerType==="mouse"?typeof u.button!="number"||u.button<=0:u.isPrimary!==!1,Ne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function At(u){return Ne.has(u.tagName)||u.tabIndex!==-1}const jt=new WeakSet;function Rt(u){return f=>{f.key==="Enter"&&u(f)}}function Nt(u,f){u.dispatchEvent(new PointerEvent("pointer"+f,{isPrimary:!0,bubbles:!0}))}const vn=(u,f)=>{const d=u.currentTarget;if(!d)return;const g=Rt(()=>{if(jt.has(d))return;Nt(d,"down");const C=Rt(()=>{Nt(d,"up")}),A=()=>Nt(d,"cancel");d.addEventListener("keyup",C,f),d.addEventListener("blur",A,f)});d.addEventListener("keydown",g,f),d.addEventListener("blur",()=>d.removeEventListener("keydown",g),f)};function On(u){return Pe(u)&&!ye()}function Yt(u,f,d={}){const[g,C,A]=Mt(u,d),O=L=>{const N=L.currentTarget;if(!N||!On(L)||jt.has(N))return;jt.add(N),le(L,"set");const G=f(N,L),Q=(at,bt)=>{N.removeEventListener("pointerup",ce),N.removeEventListener("pointercancel",Oe),le(at,"release"),!(!On(at)||!jt.has(N))&&(jt.delete(N),typeof G=="function"&&G(at,{success:bt}))},ce=at=>{(at.isTrusted?Ee(at,N instanceof Element?N.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?Q(at,!1):Q(at,!(N instanceof Element)||te(N,at.target))},Oe=at=>{Q(at,!1)};N.addEventListener("pointerup",ce,C),N.addEventListener("pointercancel",Oe,C),N.addEventListener("lostpointercapture",Oe,C)};return g.forEach(L=>{L=d.useGlobalTarget?window:L;let N=!1;L instanceof HTMLElement&&(N=!0,!At(L)&&L.getAttribute("tabindex")===null&&(L.tabIndex=0)),L.addEventListener("pointerdown",O,C),N&&L.addEventListener("focus",G=>vn(G,C),C)}),A}function Ee(u,f){return u.clientX<f.left||u.clientX>f.right||u.clientY<f.top||u.clientY>f.bottom}const Vt={layout:0,mainThread:0,waapi:0};function Wt(){const{value:u}=statsBuffer;if(u===null){cancelFrame(Wt);return}u.frameloop.rate.push(frameData.delta),u.animations.mainThread.push(activeAnimations.mainThread),u.animations.waapi.push(activeAnimations.waapi),u.animations.layout.push(activeAnimations.layout)}function Sn(u){return u.reduce((f,d)=>f+d,0)/u.length}function kt(u,f=Sn){return u.length===0?{min:0,max:0,avg:0}:{min:Math.min(...u),max:Math.max(...u),avg:f(u)}}const nn=u=>Math.round(1e3/u);function ir(){statsBuffer.value=null,statsBuffer.addProjectionMetrics=null}function jn(){const{value:u}=statsBuffer;if(!u)throw new Error("Stats are not being measured");ir(),cancelFrame(Wt);const f={frameloop:{rate:kt(u.frameloop.rate),read:kt(u.frameloop.read),resolveKeyframes:kt(u.frameloop.resolveKeyframes),update:kt(u.frameloop.update),preRender:kt(u.frameloop.preRender),render:kt(u.frameloop.render),postRender:kt(u.frameloop.postRender)},animations:{mainThread:kt(u.animations.mainThread),waapi:kt(u.animations.waapi),layout:kt(u.animations.layout)},layoutProjection:{nodes:kt(u.layoutProjection.nodes),calculatedTargetDeltas:kt(u.layoutProjection.calculatedTargetDeltas),calculatedProjections:kt(u.layoutProjection.calculatedProjections)}},{rate:d}=f.frameloop;return d.min=nn(d.min),d.max=nn(d.max),d.avg=nn(d.avg),[d.min,d.max]=[d.max,d.min],f}function yr(){if(statsBuffer.value)throw ir(),new Error("Stats are already being measured");const u=statsBuffer;return u.value={frameloop:{rate:[],read:[],resolveKeyframes:[],update:[],preRender:[],render:[],postRender:[]},animations:{mainThread:[],waapi:[],layout:[]},layoutProjection:{nodes:[],calculatedTargetDeltas:[],calculatedProjections:[]}},u.addProjectionMetrics=f=>{const{layoutProjection:d}=u.value;d.nodes.push(f.nodes),d.calculatedTargetDeltas.push(f.calculatedTargetDeltas),d.calculatedProjections.push(f.calculatedProjections)},frame.postRender(Wt,!0),jn}const Ve=30,pn=u=>!isNaN(parseFloat(u)),Cn={current:void 0};class Rn{constructor(f,d={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(g,C=!0)=>{const A=xn.now();this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(g),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),C&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(f),this.owner=d.owner}setCurrent(f){this.current=f,this.updatedAt=xn.now(),this.canTrackVelocity===null&&f!==void 0&&(this.canTrackVelocity=pn(this.current))}setPrevFrameValue(f=this.current){this.prevFrameValue=f,this.prevUpdatedAt=this.updatedAt}onChange(f){return this.on("change",f)}on(f,d){this.events[f]||(this.events[f]=new X);const g=this.events[f].add(d);return f==="change"?()=>{g(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:g}clearListeners(){for(const f in this.events)this.events[f].clear()}attach(f,d){this.passiveEffect=f,this.stopPassiveEffect=d}set(f,d=!0){!d||!this.passiveEffect?this.updateAndNotify(f,d):this.passiveEffect(f,this.updateAndNotify)}setWithVelocity(f,d,g){this.set(d),this.prev=void 0,this.prevFrameValue=f,this.prevUpdatedAt=this.updatedAt-g}jump(f,d=!0){this.updateAndNotify(f),this.prev=f,this.prevUpdatedAt=this.prevFrameValue=void 0,d&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Cn.current&&Cn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const f=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||f-this.updatedAt>Ve)return 0;const d=Math.min(this.updatedAt-this.prevUpdatedAt,Ve);return pe(parseFloat(this.current)-parseFloat(this.prevFrameValue),d)}start(f){return this.stop(),new Promise(d=>{this.hasAnimated=!0,this.animation=f(d),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function En(u,f){return new Rn(u,f)}const sr="easeOut";function Br(u){var f;if(isGenerator(u.type)){const d=createGeneratorEasing(u,100,u.type);u.ease=supportsLinearEasing()?d.ease:sr,u.duration=secondsToMilliseconds(d.duration),u.type="keyframes"}else u.duration=secondsToMilliseconds((f=u.duration)!==null&&f!==void 0?f:.3),u.ease=u.ease||sr}function Wn(u,f,d){var g;const C={},A={fill:"both",easing:"linear",composite:"replace"};A.delay=secondsToMilliseconds((g=d.delay)!==null&&g!==void 0?g:0),Br(d),A.duration=d.duration;const{ease:O,times:L}=d;L&&(C.offset=L),C[u]=f;const N=mapEasingToNativeEasing(O,d.duration);return Array.isArray(N)?C.easing=N:A.easing=N,{keyframes:C,options:A}}class Yr extends null{constructor(f,d,g,C,A){const O=convertMotionOptionsToNative(g,C,A),L=f.animate(O.keyframes,rn({pseudoElement:d},O.options));super(L)}}let er={},Pr=null;const Dr={set:(u,f)=>{er[u]=f},commit:()=>{Pr||(Pr=document.createElement("style"),Pr.id="motion-view");let u="";for(const f in er){const d=er[f];u+=`${f} {
`;for(const[g,C]of Object.entries(d))u+=`  ${g}: ${C};
`;u+=`}
`}Pr.textContent=u,document.head.appendChild(Pr),er={}},remove:()=>{Pr&&Pr.parentElement&&Pr.parentElement.removeChild(Pr)}},yi=null;function Si(u,f,d){if(!document.startViewTransition)return new Promise(C=>Hh(this,null,function*(){yield u(),C(new BaseGroupPlaybackControls([]))}));hasTarget("root",d)||css.set(":root",{"view-transition-name":"none"}),css.set("::view-transition-group(*), ::view-transition-old(*), ::view-transition-new(*)",{"animation-timing-function":"linear !important"}),css.commit();const g=document.startViewTransition(()=>Hh(this,null,function*(){yield u()}));return g.finished.finally(()=>{css.remove()}),new Promise(C=>{g.ready.then(()=>{var A;const O=getViewAnimations(),L=[];d.forEach((N,G)=>{for(const Q of yi){if(!N[Q])continue;const{keyframes:ce,options:Oe}=N[Q];for(let[at,bt]of Object.entries(ce)){if(!bt)continue;const Lt=rn(rn({},getValueTransition(f,at)),getValueTransition(Oe,at)),cn=chooseLayerType(Q);at==="opacity"&&!Array.isArray(bt)&&(bt=[cn==="new"?0:1,bt]),typeof Lt.delay=="function"&&(Lt.delay=Lt.delay(0,1));const ln=new PseudoAnimation(document.documentElement,`::view-transition-${cn}(${G})`,at,bt,Lt);L.push(ln)}}});for(const N of O){if(N.playState==="finished")continue;const{effect:G}=N;if(!G||!(G instanceof KeyframeEffect))continue;const{pseudoElement:Q}=G;if(!Q)continue;const ce=getLayerName(Q);if(!ce)continue;const Oe=d.get(ce.layer);if(Oe)_i(Oe,"enter")&&_i(Oe,"exit")&&G.getKeyframes().some(at=>at.mixBlendMode)?L.push(new NativeAnimationControls(N)):N.cancel();else{const at=ce.type==="group"?"layout":"",bt=rn({},getValueTransition(f,at));applyGeneratorOptions(bt);const Lt=mapEasingToNativeEasing(bt.ease,bt.duration);G.updateTiming({delay:secondsToMilliseconds((A=bt.delay)!==null&&A!==void 0?A:0),duration:bt.duration,easing:Lt}),L.push(new NativeAnimationControls(N))}}C(new BaseGroupPlaybackControls(L))})})}function _i(u,f){var d;return(d=u==null?void 0:u[f])===null||d===void 0?void 0:d.keyframes.opacity}class Or{constructor(f,d={}){this.currentTarget="root",this.targets=new Map,this.notifyReady=noop,this.readyPromise=new Promise(g=>{this.notifyReady=g}),queueMicrotask(()=>{startViewAnimation(f,d,this.targets).then(g=>this.notifyReady(g))})}get(f){return this.currentTarget=f,this}layout(f,d){return this.updateTarget("layout",f,d),this}new(f,d){return this.updateTarget("new",f,d),this}old(f,d){return this.updateTarget("old",f,d),this}enter(f,d){return this.updateTarget("enter",f,d),this}exit(f,d){return this.updateTarget("exit",f,d),this}crossfade(f){return this.updateTarget("enter",{opacity:1},f),this.updateTarget("exit",{opacity:0},f),this}updateTarget(f,d,g={}){const{currentTarget:C,targets:A}=this;A.has(C)||A.set(C,{});const O=A.get(C);O[f]={keyframes:d,options:g}}then(f,d){return this.readyPromise.then(f,d)}}function Vn(u,f={}){return new Or(u,f)}const dt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Un=new Set(dt),Se=new Set(["width","height","top","left","right","bottom",...dt]),Qe=u=>Array.isArray(u),Ot=u=>!!(u&&typeof u=="object"&&u.mix&&u.toValue),it=u=>Qe(u)?u[u.length-1]||0:u;function H(u,f,d){u.hasValue(f)?u.getValue(f).set(d):u.addValue(f,En(d))}function Ce(u,f){let O=qe(u,f)||{},{transitionEnd:g={},transition:C={}}=O,A=Oo(O,["transitionEnd","transition"]);A=rn(rn({},A),g);for(const L in A){const N=it(A[L]);H(u,L,N)}}const Ie=u=>!!(u&&u.getVelocity);function ue(u){return!!(Ie(u)&&u.add)}function Fe(u,f){const d=u.getValue("willChange");if(ue(d))return d.add(f)}const gt=u=>u.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_n="data-"+gt("framerAppearId");function Ut(u){return u.props[_n]}const qt={current:!1},Zt=(u,f,d)=>(((1-3*d+3*f)*u+(3*d-6*f))*u+3*f)*u,Dn=1e-7,sn=12;function Rr(u,f,d,g,C){let A,O,L=0;do O=f+(d-f)/2,A=Zt(O,g,C)-u,A>0?d=O:f=O;while(Math.abs(A)>Dn&&++L<sn);return O}function _r(u,f,d,g){if(u===f&&d===g)return me;const C=A=>Rr(A,0,1,u,d);return A=>A===0||A===1?A:Zt(C(A),f,g)}const br=u=>f=>f<=.5?u(2*f)/2:(2-u(2*(1-f)))/2,Mr=u=>f=>1-u(1-f),St=_r(.33,1.53,.69,.99),ar=Mr(St),Nn=br(ar),Hn=u=>(u*=2)<1?.5*ar(u):.5*(2-Math.pow(2,-10*(u-1))),Qn=u=>1-Math.sin(Math.acos(u)),Tr=Mr(Qn),xr=br(Qn),yn=u=>/^0[^.\s]+$/u.test(u);function ur(u){return typeof u=="number"?u===0:u!==null?u==="none"||u==="0"||yn(u):!0}const Kr=(u,f,d)=>d>f?f:d<u?u:d,ti={test:u=>typeof u=="number",parse:parseFloat,transform:u=>u},Mn=ci(rn({},ti),{transform:u=>Kr(0,1,u)}),wn=ci(rn({},ti),{default:1}),$i=u=>Math.round(u*1e5)/1e5,mi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ji(u){return u==null}const wi=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Di=(u,f)=>d=>!!(typeof d=="string"&&wi.test(d)&&d.startsWith(u)||f&&!ji(d)&&Object.prototype.hasOwnProperty.call(d,f)),ga=(u,f,d)=>g=>{if(typeof g!="string")return g;const[C,A,O,L]=g.match(mi);return{[u]:parseFloat(C),[f]:parseFloat(A),[d]:parseFloat(O),alpha:L!==void 0?parseFloat(L):1}},Ji=u=>Kr(0,255,u),fi=ci(rn({},ti),{transform:u=>Math.round(Ji(u))}),Gr={test:Di("rgb","red"),parse:ga("red","green","blue"),transform:({red:u,green:f,blue:d,alpha:g=1})=>"rgba("+fi.transform(u)+", "+fi.transform(f)+", "+fi.transform(d)+", "+$i(Mn.transform(g))+")"};function da(u){let f="",d="",g="",C="";return u.length>5?(f=u.substring(1,3),d=u.substring(3,5),g=u.substring(5,7),C=u.substring(7,9)):(f=u.substring(1,2),d=u.substring(2,3),g=u.substring(3,4),C=u.substring(4,5),f+=f,d+=d,g+=g,C+=C),{red:parseInt(f,16),green:parseInt(d,16),blue:parseInt(g,16),alpha:C?parseInt(C,16)/255:1}}const Da={test:Di("#"),parse:da,transform:Gr.transform},ma=u=>({test:f=>typeof f=="string"&&f.endsWith(u)&&f.split(" ").length===1,parse:parseFloat,transform:f=>`${f}${u}`}),la=ma("deg"),ya=ma("%"),fn=ma("px"),Qa=ma("vh"),eo=ma("vw"),Li=ci(rn({},ya),{parse:u=>ya.parse(u)/100,transform:u=>ya.transform(u*100)}),gr={test:Di("hsl","hue"),parse:ga("hue","saturation","lightness"),transform:({hue:u,saturation:f,lightness:d,alpha:g=1})=>"hsla("+Math.round(u)+", "+ya.transform($i(f))+", "+ya.transform($i(d))+", "+$i(Mn.transform(g))+")"},be={test:u=>Gr.test(u)||Da.test(u)||gr.test(u),parse:u=>Gr.test(u)?Gr.parse(u):gr.test(u)?gr.parse(u):Da.parse(u),transform:u=>typeof u=="string"?u:u.hasOwnProperty("red")?Gr.transform(u):gr.transform(u)},Bn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ra(u){var f,d;return isNaN(u)&&typeof u=="string"&&(((f=u.match(mi))===null||f===void 0?void 0:f.length)||0)+(((d=u.match(Bn))===null||d===void 0?void 0:d.length)||0)>0}const B="number",Te="color",We="var",_t="var(",Tn="${}",Oi=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hi(u){const f=u.toString(),d=[],g={color:[],number:[],var:[]},C=[];let A=0;const L=f.replace(Oi,N=>(be.test(N)?(g.color.push(A),C.push(Te),d.push(be.parse(N))):N.startsWith(_t)?(g.var.push(A),C.push(We),d.push(N)):(g.number.push(A),C.push(B),d.push(parseFloat(N))),++A,Tn)).split(Tn);return{values:d,split:L,indexes:g,types:C}}function ke(u){return Hi(u).values}function Aa(u){const{split:f,types:d}=Hi(u),g=f.length;return C=>{let A="";for(let O=0;O<g;O++)if(A+=f[O],C[O]!==void 0){const L=d[O];L===B?A+=$i(C[O]):L===Te?A+=be.transform(C[O]):A+=C[O]}return A}}const ri=u=>typeof u=="number"?0:u;function ss(u){const f=ke(u);return Aa(u)(f.map(ri))}const Ia={test:ra,parse:ke,createTransformer:Aa,getAnimatableNone:ss},Uo=new Set(["brightness","contrast","saturate","opacity"]);function $o(u){const[f,d]=u.slice(0,-1).split("(");if(f==="drop-shadow")return u;const[g]=d.match(mi)||[];if(!g)return u;const C=d.replace(g,"");let A=Uo.has(f)?1:0;return g!==d&&(A*=100),f+"("+A+C+")"}const Mo=/\b([a-z-]*)\(.*?\)/gu,Ja=ci(rn({},Ia),{getAnimatableNone:u=>{const f=u.match(Mo);return f?f.map($o).join(" "):u}}),Ao={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,backgroundPositionX:fn,backgroundPositionY:fn},Xs={rotate:la,rotateX:la,rotateY:la,rotateZ:la,scale:wn,scaleX:wn,scaleY:wn,scaleZ:wn,skew:la,skewX:la,skewY:la,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:Mn,originX:Li,originY:Li,originZ:fn},Cs=ci(rn({},ti),{transform:Math.round}),go=ci(rn(rn({},Ao),Xs),{zIndex:Cs,size:fn,fillOpacity:Mn,strokeOpacity:Mn,numOctaves:Cs}),F=ci(rn({},go),{color:be,backgroundColor:be,outlineColor:be,fill:be,stroke:be,borderColor:be,borderTopColor:be,borderRightColor:be,borderBottomColor:be,borderLeftColor:be,filter:Ja,WebkitFilter:Ja}),Es=u=>F[u];function An(u,f){let d=Es(u);return d!==Ja&&(d=Ia),d.getAnimatableNone?d.getAnimatableNone(f):void 0}const kr=new Set(["auto","none","0"]);function Na(u,f,d){let g=0,C;for(;g<u.length&&!C;){const A=u[g];typeof A=="string"&&!kr.has(A)&&Hi(A).values.length&&(C=u[g]),g++}if(C&&d)for(const A of f)u[A]=An(d,C)}const io=u=>u*180/Math.PI,ao=u=>{const f=io(Math.atan2(u[1],u[0]));return oo(f)},ku={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:u=>(Math.abs(u[0])+Math.abs(u[3]))/2,rotate:ao,rotateZ:ao,skewX:u=>io(Math.atan(u[1])),skewY:u=>io(Math.atan(u[2])),skew:u=>(Math.abs(u[1])+Math.abs(u[2]))/2},oo=u=>(u=u%360,u<0&&(u+=360),u),Ts=ao,Ys=u=>Math.sqrt(u[0]*u[0]+u[1]*u[1]),E=u=>Math.sqrt(u[4]*u[4]+u[5]*u[5]),I={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ys,scaleY:E,scale:u=>(Ys(u)+E(u))/2,rotateX:u=>oo(io(Math.atan2(u[6],u[5]))),rotateY:u=>oo(io(Math.atan2(-u[2],u[0]))),rotateZ:Ts,rotate:Ts,skewX:u=>io(Math.atan(u[4])),skewY:u=>io(Math.atan(u[1])),skew:u=>(Math.abs(u[1])+Math.abs(u[4]))/2};function Z(u){return u.includes("scale")?1:0}function j(u,f){if(!u||u==="none")return Z(f);const d=u.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let g,C;if(d)g=I,C=d;else{const L=u.match(/^matrix\(([-\d.e\s,]+)\)$/u);g=ku,C=L}if(!C)return Z(f);const A=g[f],O=C[1].split(",").map(pt);return typeof A=="function"?A(O):O[A]}const Re=(u,f)=>{const{transform:d="none"}=getComputedStyle(u);return j(d,f)};function pt(u){return parseFloat(u.trim())}const yt=u=>u===ti||u===fn,$t=new Set(["x","y","z"]),bn=dt.filter(u=>!$t.has(u));function $n(u){const f=[];return bn.forEach(d=>{const g=u.getValue(d);g!==void 0&&(f.push([d,g.get()]),g.set(d.startsWith("scale")?1:0))}),f}const gn={width:({x:u},{paddingLeft:f="0",paddingRight:d="0"})=>u.max-u.min-parseFloat(f)-parseFloat(d),height:({y:u},{paddingTop:f="0",paddingBottom:d="0"})=>u.max-u.min-parseFloat(f)-parseFloat(d),top:(u,{top:f})=>parseFloat(f),left:(u,{left:f})=>parseFloat(f),bottom:({y:u},{top:f})=>parseFloat(f)+(u.max-u.min),right:({x:u},{left:f})=>parseFloat(f)+(u.max-u.min),x:(u,{transform:f})=>j(f,"x"),y:(u,{transform:f})=>j(f,"y")};gn.translateX=gn.x,gn.translateY=gn.y;const Kt=new Set;let Jn=!1,Bt=!1;function Xn(){if(Bt){const u=Array.from(Kt).filter(g=>g.needsMeasurement),f=new Set(u.map(g=>g.element)),d=new Map;f.forEach(g=>{const C=$n(g);C.length&&(d.set(g,C),g.render())}),u.forEach(g=>g.measureInitialState()),f.forEach(g=>{g.render();const C=d.get(g);C&&C.forEach(([A,O])=>{var L;(L=g.getValue(A))===null||L===void 0||L.set(O)})}),u.forEach(g=>g.measureEndState()),u.forEach(g=>{g.suspendedScrollY!==void 0&&window.scrollTo(0,g.suspendedScrollY)})}Bt=!1,Jn=!1,Kt.forEach(u=>u.complete()),Kt.clear()}function tr(){Kt.forEach(u=>{u.readKeyframes(),u.needsMeasurement&&(Bt=!0)})}function zn(){tr(),Xn()}class hr{constructor(f,d,g,C,A,O=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...f],this.onComplete=d,this.name=g,this.motionValue=C,this.element=A,this.isAsync=O}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kt.add(this),Jn||(Jn=!0,Ct.read(tr),Ct.resolveKeyframes(Xn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:f,name:d,element:g,motionValue:C}=this;for(let A=0;A<f.length;A++)if(f[A]===null)if(A===0){const O=C==null?void 0:C.get(),L=f[f.length-1];if(O!==void 0)f[0]=O;else if(g&&d){const N=g.readValue(d,L);N!=null&&(f[0]=N)}f[0]===void 0&&(f[0]=L),C&&O===void 0&&C.set(f[0])}else f[A]=f[A-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Lr=u=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(u),Ur=u=>f=>typeof f=="string"&&f.startsWith(u),dr=Ur("--"),ii=Ur("var(--"),cr=u=>ii(u)?$r.test(u.split("/*")[0].trim()):!1,$r=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bi=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ni(u){const f=bi.exec(u);if(!f)return[,];const[,d,g,C]=f;return[`--${d!=null?d:g}`,C]}const Zn=4;function vi(u,f,d=1){ee(d<=Zn,`Max CSS variable fallback depth detected in property "${u}". This may indicate a circular fallback dependency.`);const[g,C]=Ni(u);if(!g)return;const A=window.getComputedStyle(f).getPropertyValue(g);if(A){const O=A.trim();return Lr(O)?parseFloat(O):O}return cr(C)?vi(C,f,d+1):C}const pi=u=>f=>f.test(u),hi=[ti,fn,ya,la,eo,Qa,{test:u=>u==="auto",parse:u=>u}],Ci=u=>hi.find(pi(u));class Mi extends hr{constructor(f,d,g,C,A){super(f,d,g,C,A,!0)}readKeyframes(){const{unresolvedKeyframes:f,element:d,name:g}=this;if(!d||!d.current)return;super.readKeyframes();for(let N=0;N<f.length;N++){let G=f[N];if(typeof G=="string"&&(G=G.trim(),cr(G))){const Q=vi(G,d.current);Q!==void 0&&(f[N]=Q),N===f.length-1&&(this.finalKeyframe=G)}}if(this.resolveNoneKeyframes(),!Se.has(g)||f.length!==2)return;const[C,A]=f,O=Ci(C),L=Ci(A);if(O!==L)if(yt(O)&&yt(L))for(let N=0;N<f.length;N++){const G=f[N];typeof G=="string"&&(f[N]=parseFloat(G))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:f,name:d}=this,g=[];for(let C=0;C<f.length;C++)ur(f[C])&&g.push(C);g.length&&Na(f,g,d)}measureInitialState(){const{element:f,unresolvedKeyframes:d,name:g}=this;if(!f||!f.current)return;g==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gn[g](f.measureViewportBox(),window.getComputedStyle(f.current)),d[0]=this.measuredOrigin;const C=d[d.length-1];C!==void 0&&f.getValue(g,C).jump(C,!1)}measureEndState(){var f;const{element:d,name:g,unresolvedKeyframes:C}=this;if(!d||!d.current)return;const A=d.getValue(g);A&&A.jump(this.measuredOrigin,!1);const O=C.length-1,L=C[O];C[O]=gn[g](d.measureViewportBox(),window.getComputedStyle(d.current)),L!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=L),!((f=this.removedTransforms)===null||f===void 0)&&f.length&&this.removedTransforms.forEach(([N,G])=>{d.getValue(N).set(G)}),this.resolveNoneKeyframes()}}const Jr=(u,f)=>f==="zIndex"?!1:!!(typeof u=="number"||Array.isArray(u)||typeof u=="string"&&(Ia.test(u)||u==="0")&&!u.startsWith("url("));function or(u){const f=u[0];if(u.length===1)return!0;for(let d=0;d<u.length;d++)if(u[d]!==f)return!0}function si(u,f,d,g){const C=u[0];if(C===null)return!1;if(f==="display"||f==="visibility")return!0;const A=u[u.length-1],O=Jr(C,f),L=Jr(A,f);return ne(O===L,`You are trying to animate ${f} from "${C}" to "${A}". ${C} is not an animatable value - to enable this animation set ${C} to a value animatable to ${A} via the \`style\` property.`),!O||!L?!1:or(u)||(d==="spring"||vt(d))&&g}const li=u=>u!==null;function ia(u,{repeat:f,repeatType:d="loop"},g){const C=u.filter(li),A=f&&d!=="loop"&&f%2===1?0:C.length-1;return!A||g===void 0?C[A]:g}const Va=40;class Zi{constructor(N){var G=N,{autoplay:f=!0,delay:d=0,type:g="keyframes",repeat:C=0,repeatDelay:A=0,repeatType:O="loop"}=G,L=Oo(G,["autoplay","delay","type","repeat","repeatDelay","repeatType"]);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xn.now(),this.options=rn({autoplay:f,delay:d,type:g,repeat:C,repeatDelay:A,repeatType:O},L),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Va?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zn(),this._resolved}onKeyframesResolved(f,d){this.resolvedAt=xn.now(),this.hasAttemptedResolve=!0;const{name:g,type:C,velocity:A,delay:O,onComplete:L,onUpdate:N,isGenerator:G}=this.options;if(!G&&!si(f,g,C,A))if(qt.current||!O){N&&N(ia(f,this.options,d)),L&&L(),this.resolveFinishedPromise();return}else this.options.duration=0;const Q=this.initPlayback(f,d);Q!==!1&&(this._resolved=rn({keyframes:f,finalKeyframe:d},Q),this.onPostResolved())}onPostResolved(){}then(f,d){return this.currentFinishedPromise.then(f,d)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(f=>{this.resolveFinishedPromise=f})}}const Ar=(u,f,d)=>u+(f-u)*d;function Vi(u,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(f-u)*6*d:d<1/2?f:d<2/3?u+(f-u)*(2/3-d)*6:u}function yo({hue:u,saturation:f,lightness:d,alpha:g}){u/=360,f/=100,d/=100;let C=0,A=0,O=0;if(!f)C=A=O=d;else{const L=d<.5?d*(1+f):d+f-d*f,N=2*d-L;C=Vi(N,L,u+1/3),A=Vi(N,L,u),O=Vi(N,L,u-1/3)}return{red:Math.round(C*255),green:Math.round(A*255),blue:Math.round(O*255),alpha:g}}function Ai(u,f){return d=>d>0?f:u}const Ba=(u,f,d)=>{const g=u*u,C=d*(f*f-g)+g;return C<0?0:Math.sqrt(C)},Bi=[Da,Gr,gr],Cr=u=>Bi.find(f=>f.test(u));function Gn(u){const f=Cr(u);if(ne(!!f,`'${u}' is not an animatable color. Use the equivalent color code instead.`),!f)return!1;let d=f.parse(u);return f===gr&&(d=yo(d)),d}const Vr=(u,f)=>{const d=Gn(u),g=Gn(f);if(!d||!g)return Ai(u,f);const C=rn({},d);return A=>(C.red=Ba(d.red,g.red,A),C.green=Ba(d.green,g.green,A),C.blue=Ba(d.blue,g.blue,A),C.alpha=Ar(d.alpha,g.alpha,A),Gr.transform(C))},Wr=(u,f)=>d=>f(u(d)),kn=(...u)=>u.reduce(Wr),zr=new Set(["none","hidden"]);function Sr(u,f){return zr.has(u)?d=>d<=0?u:f:d=>d>=1?f:u}function Gi(u,f){return d=>Ar(u,f,d)}function lr(u){return typeof u=="number"?Gi:typeof u=="string"?cr(u)?Ai:be.test(u)?Vr:qr:Array.isArray(u)?Zr:typeof u=="object"?be.test(u)?Vr:Pa:Ai}function Zr(u,f){const d=[...u],g=d.length,C=u.map((A,O)=>lr(A)(A,f[O]));return A=>{for(let O=0;O<g;O++)d[O]=C[O](A);return d}}function Pa(u,f){const d=rn(rn({},u),f),g={};for(const C in d)u[C]!==void 0&&f[C]!==void 0&&(g[C]=lr(u[C])(u[C],f[C]));return C=>{for(const A in g)d[A]=g[A](C);return d}}function ba(u,f){var d;const g=[],C={color:0,var:0,number:0};for(let A=0;A<f.values.length;A++){const O=f.types[A],L=u.indexes[O][C[O]],N=(d=u.values[L])!==null&&d!==void 0?d:0;g[A]=N,C[O]++}return g}const qr=(u,f)=>{const d=Ia.createTransformer(f),g=Hi(u),C=Hi(f);return g.indexes.var.length===C.indexes.var.length&&g.indexes.color.length===C.indexes.color.length&&g.indexes.number.length>=C.indexes.number.length?zr.has(u)&&!C.values.length||zr.has(f)&&!g.values.length?Sr(u,f):kn(Zr(ba(g,C),C.values),d):(ne(!0,`Complex values '${u}' and '${f}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Ai(u,f))};function xa(u,f,d){return typeof u=="number"&&typeof f=="number"&&typeof d=="number"?Ar(u,f,d):lr(u)(u,f)}const aa=5;function so(u,f,d){const g=Math.max(f-aa,0);return pe(d-u(g),f-g)}const ai={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gi=.001;function Ca({duration:u=ai.duration,bounce:f=ai.bounce,velocity:d=ai.velocity,mass:g=ai.mass}){let C,A;ne(u<=he(ai.maxDuration),"Spring duration must be 10 seconds or less");let O=1-f;O=Kr(ai.minDamping,ai.maxDamping,O),u=Kr(ai.minDuration,ai.maxDuration,ve(u)),O<1?(C=G=>{const Q=G*O,ce=Q*u,Oe=Q-d,at=oi(G,O),bt=Math.exp(-ce);return gi-Oe/at*bt},A=G=>{const ce=G*O*u,Oe=ce*d+d,at=Math.pow(O,2)*Math.pow(G,2)*u,bt=Math.exp(-ce),Lt=oi(Math.pow(G,2),O);return(-C(G)+gi>0?-1:1)*((Oe-at)*bt)/Lt}):(C=G=>{const Q=Math.exp(-G*u),ce=(G-d)*u+1;return-gi+Q*ce},A=G=>{const Q=Math.exp(-G*u),ce=(d-G)*(u*u);return Q*ce});const L=5/u,N=Za(C,A,L);if(u=he(u),isNaN(N))return{stiffness:ai.stiffness,damping:ai.damping,duration:u};{const G=Math.pow(N,2)*g;return{stiffness:G,damping:O*2*Math.sqrt(g*G),duration:u}}}const Ra=12;function Za(u,f,d){let g=d;for(let C=1;C<Ra;C++)g=g-u(g)/f(g);return g}function oi(u,f){return u*Math.sqrt(1-f*f)}const Fi=["duration","bounce"],Ea=["stiffness","damping","mass"];function ua(u,f){return f.some(d=>u[d]!==void 0)}function jo(u){let f=rn({velocity:ai.velocity,stiffness:ai.stiffness,damping:ai.damping,mass:ai.mass,isResolvedFromDuration:!1},u);if(!ua(u,Ea)&&ua(u,Fi))if(u.visualDuration){const d=u.visualDuration,g=2*Math.PI/(d*1.2),C=g*g,A=2*Kr(.05,1,1-(u.bounce||0))*Math.sqrt(C);f=ci(rn({},f),{mass:ai.mass,stiffness:C,damping:A})}else{const d=Ca(u);f=ci(rn(rn({},f),d),{mass:ai.mass}),f.isResolvedFromDuration=!0}return f}function qi(u=ai.visualDuration,f=ai.bounce){const d=typeof u!="object"?{visualDuration:u,keyframes:[0,1],bounce:f}:u;let{restSpeed:g,restDelta:C}=d;const A=d.keyframes[0],O=d.keyframes[d.keyframes.length-1],L={done:!1,value:A},{stiffness:N,damping:G,mass:Q,duration:ce,velocity:Oe,isResolvedFromDuration:at}=jo(ci(rn({},d),{velocity:-ve(d.velocity||0)})),bt=Oe||0,Lt=G/(2*Math.sqrt(N*Q)),cn=O-A,ln=ve(Math.sqrt(N/Q)),fr=Math.abs(cn)<5;g||(g=fr?ai.restSpeed.granular:ai.restSpeed.default),C||(C=fr?ai.restDelta.granular:ai.restDelta.default);let rr;if(Lt<1){const vr=oi(ln,Lt);rr=Wi=>{const Oa=Math.exp(-Lt*ln*Wi);return O-Oa*((bt+Lt*ln*cn)/vr*Math.sin(vr*Wi)+cn*Math.cos(vr*Wi))}}else if(Lt===1)rr=vr=>O-Math.exp(-ln*vr)*(cn+(bt+ln*cn)*vr);else{const vr=ln*Math.sqrt(Lt*Lt-1);rr=Wi=>{const Oa=Math.exp(-Lt*ln*Wi),ei=Math.min(vr*Wi,300);return O-Oa*((bt+Lt*ln*cn)*Math.sinh(ei)+vr*cn*Math.cosh(ei))/vr}}const Ti={calculatedDuration:at&&ce||null,next:vr=>{const Wi=rr(vr);if(at)L.done=vr>=ce;else{let Oa=0;Lt<1&&(Oa=vr===0?he(bt):so(rr,vr,Wi));const ei=Math.abs(Oa)<=g,no=Math.abs(O-Wi)<=C;L.done=ei&&no}return L.value=L.done?O:Wi,L},toString:()=>{const vr=Math.min(xe(Ti),ft),Wi=de(Oa=>Ti.next(vr*Oa).value,vr,30);return vr+"ms "+Wi}};return Ti}function lo({keyframes:u,velocity:f=0,power:d=.8,timeConstant:g=325,bounceDamping:C=10,bounceStiffness:A=500,modifyTarget:O,min:L,max:N,restDelta:G=.5,restSpeed:Q}){const ce=u[0],Oe={done:!1,value:ce},at=ei=>L!==void 0&&ei<L||N!==void 0&&ei>N,bt=ei=>L===void 0?N:N===void 0||Math.abs(L-ei)<Math.abs(N-ei)?L:N;let Lt=d*f;const cn=ce+Lt,ln=O===void 0?cn:O(cn);ln!==cn&&(Lt=ln-ce);const fr=ei=>-Lt*Math.exp(-ei/g),rr=ei=>ln+fr(ei),Ti=ei=>{const no=fr(ei),ro=rr(ei);Oe.done=Math.abs(no)<=G,Oe.value=Oe.done?ln:ro};let vr,Wi;const Oa=ei=>{at(Oe.value)&&(vr=ei,Wi=qi({keyframes:[Oe.value,bt(Oe.value)],velocity:so(rr,ei,Oe.value),damping:C,stiffness:A,restDelta:G,restSpeed:Q}))};return Oa(0),{calculatedDuration:null,next:ei=>{let no=!1;return!Wi&&vr===void 0&&(no=!0,Ti(ei),Oa(ei)),vr!==void 0&&ei>=vr?Wi.next(ei-vr):(!no&&Ti(ei),Oe)}}}const Ta=_r(.42,0,1,1),xl=_r(0,0,.58,1),ls=_r(.42,0,.58,1),Ss=u=>Array.isArray(u)&&typeof u[0]!="number",Ho={linear:me,easeIn:Ta,easeInOut:ls,easeOut:xl,circIn:Qn,circInOut:xr,circOut:Tr,backIn:ar,backInOut:Nn,backOut:St,anticipate:Hn},Ko=u=>{if(wt(u)){ee(u.length===4,"Cubic bezier arrays must contain four numerical values.");const[f,d,g,C]=u;return _r(f,d,g,C)}else if(typeof u=="string")return ee(Ho[u]!==void 0,`Invalid easing type '${u}'`),Ho[u];return u};function us(u,f,d){const g=[],C=d||xa,A=u.length-1;for(let O=0;O<A;O++){let L=C(u[O],u[O+1]);if(f){const N=Array.isArray(f)?f[O]||me:f;L=kn(N,L)}g.push(L)}return g}function Qo(u,f,{clamp:d=!0,ease:g,mixer:C}={}){const A=u.length;if(ee(A===f.length,"Both input and output ranges must be the same length"),A===1)return()=>f[0];if(A===2&&f[0]===f[1])return()=>f[1];const O=u[0]===u[1];u[0]>u[A-1]&&(u=[...u].reverse(),f=[...f].reverse());const L=us(f,g,C),N=L.length,G=Q=>{if(O&&Q<u[0])return f[0];let ce=0;if(N>1)for(;ce<u.length-2&&!(Q<u[ce+1]);ce++);const Oe=Y(u[ce],u[ce+1],Q);return L[ce](Oe)};return d?Q=>G(Kr(u[0],u[A-1],Q)):G}function ws(u,f){const d=u[u.length-1];for(let g=1;g<=f;g++){const C=Y(0,f,g);u.push(Ar(d,1,C))}}function Io(u){const f=[0];return ws(f,u.length-1),f}function ca(u,f){return u.map(d=>d*f)}function Ks(u,f){return u.map(()=>f||ls).splice(0,u.length-1)}function bo({duration:u=300,keyframes:f,times:d,ease:g="easeInOut"}){const C=Ss(g)?g.map(Ko):Ko(g),A={done:!1,value:f[0]},O=ca(d&&d.length===f.length?d:Io(f),u),L=Qo(O,f,{ease:Array.isArray(C)?C:Ks(f,C)});return{calculatedDuration:u,next:N=>(A.value=L(N),A.done=N>=u,A)}}const nr=u=>{const f=({timestamp:d})=>u(d);return{start:()=>Ct.update(f,!0),stop:()=>zt(f),now:()=>mn.isProcessing?mn.timestamp:xn.now()}},Ir={decay:lo,inertia:lo,tween:bo,keyframes:bo,spring:qi},mr=u=>u/100;class Er extends Zi{constructor(f){super(f),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:N}=this.options;N&&N()};const{name:d,motionValue:g,element:C,keyframes:A}=this.options,O=(C==null?void 0:C.KeyframeResolver)||hr,L=(N,G)=>this.onKeyframesResolved(N,G);this.resolver=new O(A,L,d,g,C),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(f){const{type:d="keyframes",repeat:g=0,repeatDelay:C=0,repeatType:A,velocity:O=0}=this.options,L=vt(d)?d:Ir[d]||bo;let N,G;L!==bo&&typeof f[0]!="number"&&(N=kn(mr,xa(f[0],f[1])),f=[0,100]);const Q=L(ci(rn({},this.options),{keyframes:f}));A==="mirror"&&(G=L(ci(rn({},this.options),{keyframes:[...f].reverse(),velocity:-O}))),Q.calculatedDuration===null&&(Q.calculatedDuration=xe(Q));const{calculatedDuration:ce}=Q,Oe=ce+C,at=Oe*(g+1)-C;return{generator:Q,mirroredGenerator:G,mapPercentToKeyframes:N,calculatedDuration:ce,resolvedDuration:Oe,totalDuration:at}}onPostResolved(){const{autoplay:f=!0}=this.options;Vt.mainThread++,this.play(),this.pendingPlayState==="paused"||!f?this.pause():this.state=this.pendingPlayState}tick(f,d=!1){const{resolved:g}=this;if(!g){const{keyframes:ei}=this.options;return{done:!0,value:ei[ei.length-1]}}const{finalKeyframe:C,generator:A,mirroredGenerator:O,mapPercentToKeyframes:L,keyframes:N,calculatedDuration:G,totalDuration:Q,resolvedDuration:ce}=g;if(this.startTime===null)return A.next(0);const{delay:Oe,repeat:at,repeatType:bt,repeatDelay:Lt,onUpdate:cn}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,f):this.speed<0&&(this.startTime=Math.min(f-Q/this.speed,this.startTime)),d?this.currentTime=f:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(f-this.startTime)*this.speed;const ln=this.currentTime-Oe*(this.speed>=0?1:-1),fr=this.speed>=0?ln<0:ln>Q;this.currentTime=Math.max(ln,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Q);let rr=this.currentTime,Ti=A;if(at){const ei=Math.min(this.currentTime,Q)/ce;let no=Math.floor(ei),ro=ei%1;!ro&&ei>=1&&(ro=1),ro===1&&no--,no=Math.min(no,at+1),!!(no%2)&&(bt==="reverse"?(ro=1-ro,Lt&&(ro-=Lt/ce)):bt==="mirror"&&(Ti=O)),rr=Kr(0,1,ro)*ce}const vr=fr?{done:!1,value:N[0]}:Ti.next(rr);L&&(vr.value=L(vr.value));let{done:Wi}=vr;!fr&&G!==null&&(Wi=this.speed>=0?this.currentTime>=Q:this.currentTime<=0);const Oa=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Wi);return Oa&&C!==void 0&&(vr.value=ia(N,this.options,C)),cn&&cn(vr.value),Oa&&this.finish(),vr}get duration(){const{resolved:f}=this;return f?ve(f.calculatedDuration):0}get time(){return ve(this.currentTime)}set time(f){f=he(f),this.currentTime=f,this.holdTime!==null||this.speed===0?this.holdTime=f:this.driver&&(this.startTime=this.driver.now()-f/this.speed)}get speed(){return this.playbackSpeed}set speed(f){const d=this.playbackSpeed!==f;this.playbackSpeed=f,d&&(this.time=ve(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:f=nr,onPlay:d,startTime:g}=this.options;this.driver||(this.driver=f(A=>this.tick(A))),d&&d();const C=this.driver.now();this.holdTime!==null?this.startTime=C-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=C):this.startTime=g!=null?g:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var f;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(f=this.currentTime)!==null&&f!==void 0?f:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:f}=this.options;f&&f()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),Vt.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(f){return this.startTime=0,this.tick(f,!0)}}function Ei(u){return new Er(u)}const zi=new Set(["opacity","clipPath","filter","transform"]);function uo(u,f,d,{delay:g=0,duration:C=300,repeat:A=0,repeatType:O="loop",ease:L="easeInOut",times:N}={}){const G={[f]:d};N&&(G.offset=N);const Q=xt(L,C);Array.isArray(Q)&&(G.easing=Q),Ae.value&&Vt.waapi++;const ce=u.animate(G,{delay:g,duration:C,easing:Array.isArray(Q)?"linear":Q,fill:"both",iterations:A+1,direction:O==="reverse"?"alternate":"normal"});return Ae.value&&ce.finished.finally(()=>{Vt.waapi--}),ce}const co=ae(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),to=10,va=2e4;function Po(u){return vt(u.type)||u.type==="spring"||!we(u.ease)}function Os(u,f){const d=new Er(ci(rn({},f),{keyframes:u,repeat:0,delay:0,isGenerator:!0}));let g={done:!1,value:u[0]};const C=[];let A=0;for(;!g.done&&A<va;)g=d.sample(A),C.push(g.value),A+=to;return{times:void 0,keyframes:C,duration:A-to,ease:"linear"}}const Jo={anticipate:Hn,backInOut:Nn,circInOut:xr};function Yl(u){return u in Jo}class Ro extends Zi{constructor(f){super(f);const{name:d,motionValue:g,element:C,keyframes:A}=this.options;this.resolver=new Mi(A,(O,L)=>this.onKeyframesResolved(O,L),d,g,C),this.resolver.scheduleResolve()}initPlayback(f,d){let{duration:g=300,times:C,ease:A,type:O,motionValue:L,name:N,startTime:G}=this.options;if(!L.owner||!L.owner.current)return!1;if(typeof A=="string"&&J()&&Yl(A)&&(A=Jo[A]),Po(this.options)){const ce=this.options,{onComplete:Oe,onUpdate:at,motionValue:bt,element:Lt}=ce,cn=Oo(ce,["onComplete","onUpdate","motionValue","element"]),ln=Os(f,cn);f=ln.keyframes,f.length===1&&(f[1]=f[0]),g=ln.duration,C=ln.times,A=ln.ease,O="keyframes"}const Q=uo(L.owner.current,N,f,ci(rn({},this.options),{duration:g,times:C,ease:A}));return Q.startTime=G!=null?G:this.calcStartTime(),this.pendingTimeline?(It(Q,this.pendingTimeline),this.pendingTimeline=void 0):Q.onfinish=()=>{const{onComplete:Oe}=this.options;L.set(ia(f,this.options,d)),Oe&&Oe(),this.cancel(),this.resolveFinishedPromise()},{animation:Q,duration:g,times:C,type:O,ease:A,keyframes:f}}get duration(){const{resolved:f}=this;if(!f)return 0;const{duration:d}=f;return ve(d)}get time(){const{resolved:f}=this;if(!f)return 0;const{animation:d}=f;return ve(d.currentTime||0)}set time(f){const{resolved:d}=this;if(!d)return;const{animation:g}=d;g.currentTime=he(f)}get speed(){const{resolved:f}=this;if(!f)return 1;const{animation:d}=f;return d.playbackRate}set speed(f){const{resolved:d}=this;if(!d)return;const{animation:g}=d;g.playbackRate=f}get state(){const{resolved:f}=this;if(!f)return"idle";const{animation:d}=f;return d.playState}get startTime(){const{resolved:f}=this;if(!f)return null;const{animation:d}=f;return d.startTime}attachTimeline(f){if(!this._resolved)this.pendingTimeline=f;else{const{resolved:d}=this;if(!d)return me;const{animation:g}=d;It(g,f)}return me}play(){if(this.isStopped)return;const{resolved:f}=this;if(!f)return;const{animation:d}=f;d.playState==="finished"&&this.updateFinishedPromise(),d.play()}pause(){const{resolved:f}=this;if(!f)return;const{animation:d}=f;d.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:f}=this;if(!f)return;const{animation:d,keyframes:g,duration:C,type:A,ease:O,times:L}=f;if(d.playState==="idle"||d.playState==="finished")return;if(this.time){const G=this.options,{motionValue:Q,onUpdate:ce,onComplete:Oe,element:at}=G,bt=Oo(G,["motionValue","onUpdate","onComplete","element"]),Lt=new Er(ci(rn({},bt),{keyframes:g,duration:C,type:A,ease:O,times:L,isGenerator:!0})),cn=he(this.time);Q.setWithVelocity(Lt.sample(cn-to).value,Lt.sample(cn).value,to)}const{onStop:N}=this.options;N&&N(),this.cancel()}complete(){const{resolved:f}=this;f&&f.animation.finish()}cancel(){const{resolved:f}=this;f&&f.animation.cancel()}static supports(f){const{motionValue:d,name:g,repeatDelay:C,repeatType:A,damping:O,type:L}=f;if(!d||!d.owner||!(d.owner.current instanceof HTMLElement))return!1;const{onUpdate:N,transformTemplate:G}=d.owner.getProps();return co()&&g&&zi.has(g)&&!N&&!G&&!C&&A!=="mirror"&&O!==0&&L!=="inertia"}}const xo={type:"spring",stiffness:500,damping:25,restSpeed:10},Cl=u=>({type:"spring",stiffness:550,damping:u===0?2*Math.sqrt(550):30,restSpeed:10}),qo={type:"keyframes",duration:.8},Kl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},El=(u,{keyframes:f})=>f.length>2?qo:Un.has(u)?u.startsWith("scale")?Cl(f[1]):xo:Kl;function cs(ce){var Oe=ce,{when:u,delay:f,delayChildren:d,staggerChildren:g,staggerDirection:C,repeat:A,repeatType:O,repeatDelay:L,from:N,elapsed:G}=Oe,Q=Oo(Oe,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(Q).length}const Qs=(u,f,d,g={},C,A)=>O=>{const L=Jt(g,u)||{},N=L.delay||g.delay||0;let{elapsed:G=0}=g;G=G-he(N);let Q=ci(rn({keyframes:Array.isArray(d)?d:[null,d],ease:"easeOut",velocity:f.getVelocity()},L),{delay:-G,onUpdate:Oe=>{f.set(Oe),L.onUpdate&&L.onUpdate(Oe)},onComplete:()=>{O(),L.onComplete&&L.onComplete()},name:u,motionValue:f,element:A?void 0:C});cs(L)||(Q=rn(rn({},Q),El(u,Q))),Q.duration&&(Q.duration=he(Q.duration)),Q.repeatDelay&&(Q.repeatDelay=he(Q.repeatDelay)),Q.from!==void 0&&(Q.keyframes[0]=Q.from);let ce=!1;if((Q.type===!1||Q.duration===0&&!Q.repeatDelay)&&(Q.duration=0,Q.delay===0&&(ce=!0)),(qt.current||w.skipAnimations)&&(ce=!0,Q.duration=0,Q.delay=0),Q.allowFlatten=!L.type&&!L.ease,ce&&!A&&f.get()!==void 0){const Oe=ia(Q.keyframes,L);if(Oe!==void 0)return Ct.update(()=>{Q.onUpdate(Oe),Q.onComplete()}),new Ft([])}return!A&&Ro.supports(Q)?new Ro(Q):new Er(Q)};function Ms({protectedKeys:u,needsAnimating:f},d){const g=u.hasOwnProperty(d)&&f[d]!==!0;return f[d]=!1,g}function es(u,f,{delay:d=0,transitionOverride:g,type:C}={}){var A;let ce=f,{transition:O=u.getDefaultTransition(),transitionEnd:L}=ce,N=Oo(ce,["transition","transitionEnd"]);g&&(O=g);const G=[],Q=C&&u.animationState&&u.animationState.getState()[C];for(const Oe in N){const at=u.getValue(Oe,(A=u.latestValues[Oe])!==null&&A!==void 0?A:null),bt=N[Oe];if(bt===void 0||Q&&Ms(Q,Oe))continue;const Lt=rn({delay:d},Jt(O||{},Oe));let cn=!1;if(window.MotionHandoffAnimation){const fr=Ut(u);if(fr){const rr=window.MotionHandoffAnimation(fr,Oe,Ct);rr!==null&&(Lt.startTime=rr,cn=!0)}}Fe(u,Oe),at.start(Qs(Oe,at,bt,u.shouldReduceMotion&&Se.has(Oe)?{type:!1}:Lt,u,cn));const ln=at.animation;ln&&G.push(ln)}return L&&Promise.all(G).then(()=>{Ct.update(()=>{L&&Ce(u,L)})}),G}function fs(u,f,d={}){var g;const C=qe(u,f,d.type==="exit"?(g=u.presenceContext)===null||g===void 0?void 0:g.custom:void 0);let{transition:A=u.getDefaultTransition()||{}}=C||{};d.transitionOverride&&(A=d.transitionOverride);const O=C?()=>Promise.all(es(u,C,d)):()=>Promise.resolve(),L=u.variantChildren&&u.variantChildren.size?(G=0)=>{const{delayChildren:Q=0,staggerChildren:ce,staggerDirection:Oe}=A;return As(u,f,Q+G,ce,Oe,d)}:()=>Promise.resolve(),{when:N}=A;if(N){const[G,Q]=N==="beforeChildren"?[O,L]:[L,O];return G().then(()=>Q())}else return Promise.all([O(),L(d.delay)])}function As(u,f,d=0,g=0,C=1,A){const O=[],L=(u.variantChildren.size-1)*g,N=C===1?(G=0)=>G*g:(G=0)=>L-G*g;return Array.from(u.variantChildren).sort(Js).forEach((G,Q)=>{G.notify("AnimationStart",f),O.push(fs(G,f,ci(rn({},A),{delay:d+N(Q)})).then(()=>G.notify("AnimationComplete",f)))}),Promise.all(O)}function Js(u,f){return u.sortNodePosition(f)}function Ql(u,f,d={}){u.notify("AnimationStart",f);let g;if(Array.isArray(f)){const C=f.map(A=>fs(u,A,d));g=Promise.all(C)}else if(typeof f=="string")g=fs(u,f,d);else{const C=typeof f=="function"?qe(u,f,d.custom):f;g=Promise.all(es(u,C,d))}return g.then(()=>{u.notify("AnimationComplete",f)})}function Tl(u,f){if(!Array.isArray(f))return!1;const d=f.length;if(d!==u.length)return!1;for(let g=0;g<d;g++)if(f[g]!==u[g])return!1;return!0}function ts(u){return typeof u=="string"||Array.isArray(u)}const Is=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ps=["initial",...Is],Sl=Ps.length;function qs(u){if(!u)return;if(!u.isControllingVariants){const d=u.parent?qs(u.parent)||{}:{};return u.props.initial!==void 0&&(d.initial=u.props.initial),d}const f={};for(let d=0;d<Sl;d++){const g=Ps[d],C=u.props[g];(ts(C)||C===!1)&&(f[g]=C)}return f}const el=[...Is].reverse(),Fr=Is.length;function jr(u){return f=>Promise.all(f.map(({animation:d,options:g})=>Ql(u,d,g)))}function za(u){let f=jr(u),d=oa(),g=!0;const C=N=>(G,Q)=>{var ce;const Oe=qe(u,Q,N==="exit"?(ce=u.presenceContext)===null||ce===void 0?void 0:ce.custom:void 0);if(Oe){const at=Oe,{transition:bt,transitionEnd:Lt}=at,cn=Oo(at,["transition","transitionEnd"]);G=rn(rn(rn({},G),cn),Lt)}return G};function A(N){f=N(u)}function O(N){const{props:G}=u,Q=qs(u.parent)||{},ce=[],Oe=new Set;let at={},bt=1/0;for(let cn=0;cn<Fr;cn++){const ln=el[cn],fr=d[ln],rr=G[ln]!==void 0?G[ln]:Q[ln],Ti=ts(rr),vr=ln===N?fr.isActive:null;vr===!1&&(bt=cn);let Wi=rr===Q[ln]&&rr!==G[ln]&&Ti;if(Wi&&g&&u.manuallyAnimateOnMount&&(Wi=!1),fr.protectedKeys=rn({},at),!fr.isActive&&vr===null||!rr&&!fr.prevProp||Be(rr)||typeof rr=="boolean")continue;const Oa=$a(fr.prevProp,rr);let ei=Oa||ln===N&&fr.isActive&&!Wi&&Ti||cn>bt&&Ti,no=!1;const ro=Array.isArray(rr)?rr:[rr];let Xr=ro.reduce(C(ln),{});vr===!1&&(Xr={});const{prevResolvedValues:Lu={}}=fr,of=rn(rn({},Lu),Xr),sf=_a=>{ei=!0,Oe.has(_a)&&(no=!0,Oe.delete(_a)),fr.needsAnimating[_a]=!0;const Wo=u.getValue(_a);Wo&&(Wo.liveStyle=!1)};for(const _a in of){const Wo=Xr[_a],Fu=Lu[_a];if(at.hasOwnProperty(_a))continue;let $s=!1;Qe(Wo)&&Qe(Fu)?$s=!Tl(Wo,Fu):$s=Wo!==Fu,$s?Wo!=null?sf(_a):Oe.add(_a):Wo!==void 0&&Oe.has(_a)?sf(_a):fr.protectedKeys[_a]=!0}fr.prevProp=rr,fr.prevResolvedValues=Xr,fr.isActive&&(at=rn(rn({},at),Xr)),g&&u.blockInitialAnimation&&(ei=!1),ei&&(!(Wi&&Oa)||no)&&ce.push(...ro.map(_a=>({animation:_a,options:{type:ln}})))}if(Oe.size){const cn={};if(typeof G.initial!="boolean"){const ln=qe(u,Array.isArray(G.initial)?G.initial[0]:G.initial);ln&&ln.transition&&(cn.transition=ln.transition)}Oe.forEach(ln=>{const fr=u.getBaseTarget(ln),rr=u.getValue(ln);rr&&(rr.liveStyle=!0),cn[ln]=fr!=null?fr:null}),ce.push({animation:cn})}let Lt=!!ce.length;return g&&(G.initial===!1||G.initial===G.animate)&&!u.manuallyAnimateOnMount&&(Lt=!1),g=!1,Lt?f(ce):Promise.resolve()}function L(N,G){var Q;if(d[N].isActive===G)return Promise.resolve();(Q=u.variantChildren)===null||Q===void 0||Q.forEach(Oe=>{var at;return(at=Oe.animationState)===null||at===void 0?void 0:at.setActive(N,G)}),d[N].isActive=G;const ce=O(N);for(const Oe in d)d[Oe].protectedKeys={};return ce}return{animateChanges:O,setActive:L,setAnimateFunction:A,getState:()=>d,reset:()=>{d=oa(),g=!0}}}function $a(u,f){return typeof f=="string"?f!==u:Array.isArray(f)?!Tl(f,u):!1}function Ii(u=!1){return{isActive:u,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oa(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class Qr{constructor(f){this.isMounted=!1,this.node=f}update(){}}class ea extends Qr{constructor(f){super(f),f.animationState||(f.animationState=za(f))}updateAnimationControlsSubscription(){const{animate:f}=this.node.getProps();Be(f)&&(this.unmountControls=f.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:f}=this.node.getProps(),{animate:d}=this.node.prevProps||{};f!==d&&this.updateAnimationControlsSubscription()}unmount(){var f;this.node.animationState.reset(),(f=this.unmountControls)===null||f===void 0||f.call(this)}}let _o=0;class Lo extends Qr{constructor(){super(...arguments),this.id=_o++}update(){if(!this.node.presenceContext)return;const{isPresent:f,onExitComplete:d}=this.node.presenceContext,{isPresent:g}=this.node.prevPresenceContext||{};if(!this.node.animationState||f===g)return;const C=this.node.animationState.setActive("exit",!f);d&&!f&&C.then(()=>{d(this.id)})}mount(){const{register:f,onExitComplete:d}=this.node.presenceContext||{};d&&d(this.id),f&&(this.unmount=f(this.id))}unmount(){}}const fo={animation:{Feature:ea},exit:{Feature:Lo}};function Fo(u,f,d,g={passive:!0}){return u.addEventListener(f,d,g),()=>u.removeEventListener(f,d)}function tl(u){return{point:{x:u.pageX,y:u.pageY}}}const gf=u=>f=>Pe(f)&&u(f,tl(f));function nl(u,f,d,g){return Fo(u,f,gf(d),g)}function rl({top:u,left:f,right:d,bottom:g}){return{x:{min:f,max:d},y:{min:u,max:g}}}function wl({x:u,y:f}){return{top:f.min,right:u.max,bottom:f.max,left:u.min}}function Ol(u,f){if(!f)return u;const d=f({x:u.left,y:u.top}),g=f({x:u.right,y:u.bottom});return{top:d.y,left:d.x,bottom:g.y,right:g.x}}const Jl=1e-4,Uu=1-Jl,$u=1+Jl,il=.01,ju=0-il,yf=0+il;function Xa(u){return u.max-u.min}function bf(u,f,d){return Math.abs(u-f)<=d}function Hu(u,f,d,g=.5){u.origin=g,u.originPoint=Ar(f.min,f.max,u.origin),u.scale=Xa(d)/Xa(f),u.translate=Ar(d.min,d.max,u.origin)-u.originPoint,(u.scale>=Uu&&u.scale<=$u||isNaN(u.scale))&&(u.scale=1),(u.translate>=ju&&u.translate<=yf||isNaN(u.translate))&&(u.translate=0)}function al(u,f,d,g){Hu(u.x,f.x,d.x,g?g.originX:void 0),Hu(u.y,f.y,d.y,g?g.originY:void 0)}function Gu(u,f,d){u.min=d.min+f.min,u.max=u.min+Xa(f)}function ql(u,f,d){Gu(u.x,f.x,d.x),Gu(u.y,f.y,d.y)}function Wu(u,f,d){u.min=f.min-d.min,u.max=u.min+Xa(f)}function ol(u,f,d){Wu(u.x,f.x,d.x),Wu(u.y,f.y,d.y)}const Ml=()=>({translate:0,scale:1,origin:0,originPoint:0}),hs=()=>({x:Ml(),y:Ml()}),Zu=()=>({min:0,max:0}),fa=()=>({x:Zu(),y:Zu()});function Sa(u){return[u("x"),u("y")]}function ta(u){return u===void 0||u===1}function Co({scale:u,scaleX:f,scaleY:d}){return!ta(u)||!ta(f)||!ta(d)}function ds(u){return Co(u)||Eo(u)||u.z||u.rotate||u.rotateX||u.rotateY||u.skewX||u.skewY}function Eo(u){return Xu(u.x)||Xu(u.y)}function Xu(u){return u&&u!=="0%"}function Al(u,f,d){const g=u-d,C=f*g;return d+C}function Yu(u,f,d,g,C){return C!==void 0&&(u=Al(u,C,g)),Al(u,d,g)+f}function eu(u,f=0,d=1,g,C){u.min=Yu(u.min,f,d,g,C),u.max=Yu(u.max,f,d,g,C)}function Ku(u,{x:f,y:d}){eu(u.x,f.translate,f.scale,f.originPoint),eu(u.y,d.translate,d.scale,d.originPoint)}const Qu=.999999999999,Ju=1.0000000000001;function xf(u,f,d,g=!1){const C=d.length;if(!C)return;f.x=f.y=1;let A,O;for(let L=0;L<C;L++){A=d[L],O=A.projectionDelta;const{visualElement:N}=A.options;N&&N.props.style&&N.props.style.display==="contents"||(g&&A.options.layoutScroll&&A.scroll&&A!==A.root&&_s(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),O&&(f.x*=O.x.scale,f.y*=O.y.scale,Ku(u,O)),g&&ds(A.latestValues)&&_s(u,A.latestValues))}f.x<Ju&&f.x>Qu&&(f.x=1),f.y<Ju&&f.y>Qu&&(f.y=1)}function Rs(u,f){u.min=u.min+f,u.max=u.max+f}function Il(u,f,d,g,C=.5){const A=Ar(u.min,u.max,C);eu(u,f,d,A,g)}function _s(u,f){Il(u.x,f.x,f.scaleX,f.scale,f.originX),Il(u.y,f.y,f.scaleY,f.scale,f.originY)}function Ya(u,f){return rl(Ol(u.getBoundingClientRect(),f))}function Ls(u,f,d){const g=Ya(u,d),{scroll:C}=f;return C&&(Rs(g.x,C.offset.x),Rs(g.y,C.offset.y)),g}const tu=({current:u})=>u?u.ownerDocument.defaultView:null;function Do(u){return u&&typeof u=="object"&&Object.prototype.hasOwnProperty.call(u,"current")}const qu=(u,f)=>Math.abs(u-f);function ec(u,f){const d=qu(u.x,f.x),g=qu(u.y,f.y);return Math.sqrt(jh(d,2)+jh(g,2))}class Cf{constructor(f,d,{transformPagePoint:g,contextWindow:C,dragSnapToOrigin:A=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ce=nc(this.lastMoveEventInfo,this.history),Oe=this.startEvent!==null,at=ec(ce.offset,{x:0,y:0})>=3;if(!Oe&&!at)return;const{point:bt}=ce,{timestamp:Lt}=mn;this.history.push(ci(rn({},bt),{timestamp:Lt}));const{onStart:cn,onMove:ln}=this.handlers;Oe||(cn&&cn(this.lastMoveEvent,ce),this.startEvent=this.lastMoveEvent),ln&&ln(this.lastMoveEvent,ce)},this.handlePointerMove=(ce,Oe)=>{this.lastMoveEvent=ce,this.lastMoveEventInfo=tc(Oe,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(ce,Oe)=>{this.end();const{onEnd:at,onSessionEnd:bt,resumeAnimation:Lt}=this.handlers;if(this.dragSnapToOrigin&&Lt&&Lt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const cn=nc(ce.type==="pointercancel"?this.lastMoveEventInfo:tc(Oe,this.transformPagePoint),this.history);this.startEvent&&at&&at(ce,cn),bt&&bt(ce,cn)},!Pe(f))return;this.dragSnapToOrigin=A,this.handlers=d,this.transformPagePoint=g,this.contextWindow=C||window;const O=tl(f),L=tc(O,this.transformPagePoint),{point:N}=L,{timestamp:G}=mn;this.history=[ci(rn({},N),{timestamp:G})];const{onSessionStart:Q}=d;Q&&Q(f,nc(L,this.history)),this.removeListeners=kn(nl(this.contextWindow,"pointermove",this.handlePointerMove),nl(this.contextWindow,"pointerup",this.handlePointerUp),nl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(f){this.handlers=f}end(){this.removeListeners&&this.removeListeners(),zt(this.updatePoint)}}function tc(u,f){return f?{point:f(u.point)}:u}function Ef(u,f){return{x:u.x-f.x,y:u.y-f.y}}function nc({point:u},f){return{point:u,delta:Ef(u,nu(f)),offset:Ef(u,To(f)),velocity:ka(f,.1)}}function To(u){return u[0]}function nu(u){return u[u.length-1]}function ka(u,f){if(u.length<2)return{x:0,y:0};let d=u.length-1,g=null;const C=nu(u);for(;d>=0&&(g=u[d],!(C.timestamp-g.timestamp>he(f)));)d--;if(!g)return{x:0,y:0};const A=ve(C.timestamp-g.timestamp);if(A===0)return{x:0,y:0};const O={x:(C.x-g.x)/A,y:(C.y-g.y)/A};return O.x===1/0&&(O.x=0),O.y===1/0&&(O.y=0),O}function rc(u,{min:f,max:d},g){return f!==void 0&&u<f?u=g?Ar(f,u,g.min):Math.max(u,f):d!==void 0&&u>d&&(u=g?Ar(d,u,g.max):Math.min(u,d)),u}function hn(u,f,d){return{min:f!==void 0?u.min+f:void 0,max:d!==void 0?u.max+d-(u.max-u.min):void 0}}function Tf(u,{top:f,left:d,bottom:g,right:C}){return{x:hn(u.x,d,C),y:hn(u.y,f,g)}}function Pl(u,f){let d=f.min-u.min,g=f.max-u.max;return f.max-f.min<u.max-u.min&&([d,g]=[g,d]),{min:d,max:g}}function ru(u,f){return{x:Pl(u.x,f.x),y:Pl(u.y,f.y)}}function Rl(u,f){let d=.5;const g=Xa(u),C=Xa(f);return C>g?d=Y(f.min,f.max-g,u.min):g>C&&(d=Y(u.min,u.max-C,f.min)),Kr(0,1,d)}function ic(u,f){const d={};return f.min!==void 0&&(d.min=f.min-u.min),f.max!==void 0&&(d.max=f.max-u.min),d}const No=.35;function Fs(u=No){return u===!1?u=0:u===!0&&(u=No),{x:iu(u,"left","right"),y:iu(u,"top","bottom")}}function iu(u,f,d){return{min:au(u,f),max:au(u,d)}}function au(u,f){return typeof u=="number"?u:u[f]||0}const Sf=new WeakMap;class _l{constructor(f){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fa(),this.visualElement=f}start(f,{snapToCursor:d=!1}={}){const{presenceContext:g}=this.visualElement;if(g&&g.isPresent===!1)return;const C=Q=>{const{dragSnapToOrigin:ce}=this.getProps();ce?this.pauseAnimation():this.stopAnimation(),d&&this.snapToCursor(tl(Q).point)},A=(Q,ce)=>{const{drag:Oe,dragPropagation:at,onDragStart:bt}=this.getProps();if(Oe&&!at&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ue(Oe),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(cn=>{let ln=this.getAxisMotionValue(cn).get()||0;if(ya.test(ln)){const{projection:fr}=this.visualElement;if(fr&&fr.layout){const rr=fr.layout.layoutBox[cn];rr&&(ln=Xa(rr)*(parseFloat(ln)/100))}}this.originPoint[cn]=ln}),bt&&Ct.postRender(()=>bt(Q,ce)),Fe(this.visualElement,"transform");const{animationState:Lt}=this.visualElement;Lt&&Lt.setActive("whileDrag",!0)},O=(Q,ce)=>{const{dragPropagation:Oe,dragDirectionLock:at,onDirectionLock:bt,onDrag:Lt}=this.getProps();if(!Oe&&!this.openDragLock)return;const{offset:cn}=ce;if(at&&this.currentDirection===null){this.currentDirection=wf(cn),this.currentDirection!==null&&bt&&bt(this.currentDirection);return}this.updateAxis("x",ce.point,cn),this.updateAxis("y",ce.point,cn),this.visualElement.render(),Lt&&Lt(Q,ce)},L=(Q,ce)=>this.stop(Q,ce),N=()=>Sa(Q=>{var ce;return this.getAnimationState(Q)==="paused"&&((ce=this.getAxisMotionValue(Q).animation)===null||ce===void 0?void 0:ce.play())}),{dragSnapToOrigin:G}=this.getProps();this.panSession=new Cf(f,{onSessionStart:C,onStart:A,onMove:O,onSessionEnd:L,resumeAnimation:N},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:G,contextWindow:tu(this.visualElement)})}stop(f,d){const g=this.isDragging;if(this.cancel(),!g)return;const{velocity:C}=d;this.startAnimation(C);const{onDragEnd:A}=this.getProps();A&&Ct.postRender(()=>A(f,d))}cancel(){this.isDragging=!1;const{projection:f,animationState:d}=this.visualElement;f&&(f.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:g}=this.getProps();!g&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),d&&d.setActive("whileDrag",!1)}updateAxis(f,d,g){const{drag:C}=this.getProps();if(!g||!Ll(f,C,this.currentDirection))return;const A=this.getAxisMotionValue(f);let O=this.originPoint[f]+g[f];this.constraints&&this.constraints[f]&&(O=rc(O,this.constraints[f],this.elastic[f])),A.set(O)}resolveConstraints(){var f;const{dragConstraints:d,dragElastic:g}=this.getProps(),C=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(f=this.visualElement.projection)===null||f===void 0?void 0:f.layout,A=this.constraints;d&&Do(d)?this.constraints||(this.constraints=this.resolveRefConstraints()):d&&C?this.constraints=Tf(C.layoutBox,d):this.constraints=!1,this.elastic=Fs(g),A!==this.constraints&&C&&this.constraints&&!this.hasMutatedConstraints&&Sa(O=>{this.constraints!==!1&&this.getAxisMotionValue(O)&&(this.constraints[O]=ic(C.layoutBox[O],this.constraints[O]))})}resolveRefConstraints(){const{dragConstraints:f,onMeasureDragConstraints:d}=this.getProps();if(!f||!Do(f))return!1;const g=f.current;ee(g!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:C}=this.visualElement;if(!C||!C.layout)return!1;const A=Ls(g,C.root,this.visualElement.getTransformPagePoint());let O=ru(C.layout.layoutBox,A);if(d){const L=d(wl(O));this.hasMutatedConstraints=!!L,L&&(O=rl(L))}return O}startAnimation(f){const{drag:d,dragMomentum:g,dragElastic:C,dragTransition:A,dragSnapToOrigin:O,onDragTransitionEnd:L}=this.getProps(),N=this.constraints||{},G=Sa(Q=>{if(!Ll(Q,d,this.currentDirection))return;let ce=N&&N[Q]||{};O&&(ce={min:0,max:0});const Oe=C?200:1e6,at=C?40:1e7,bt=rn(rn({type:"inertia",velocity:g?f[Q]:0,bounceStiffness:Oe,bounceDamping:at,timeConstant:750,restDelta:1,restSpeed:10},A),ce);return this.startAxisValueAnimation(Q,bt)});return Promise.all(G).then(L)}startAxisValueAnimation(f,d){const g=this.getAxisMotionValue(f);return Fe(this.visualElement,f),g.start(Qs(f,g,0,d,this.visualElement,!1))}stopAnimation(){Sa(f=>this.getAxisMotionValue(f).stop())}pauseAnimation(){Sa(f=>{var d;return(d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.pause()})}getAnimationState(f){var d;return(d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.state}getAxisMotionValue(f){const d=`_drag${f.toUpperCase()}`,g=this.visualElement.getProps(),C=g[d];return C||this.visualElement.getValue(f,(g.initial?g.initial[f]:void 0)||0)}snapToCursor(f){Sa(d=>{const{drag:g}=this.getProps();if(!Ll(d,g,this.currentDirection))return;const{projection:C}=this.visualElement,A=this.getAxisMotionValue(d);if(C&&C.layout){const{min:O,max:L}=C.layout.layoutBox[d];A.set(f[d]-Ar(O,L,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:f,dragConstraints:d}=this.getProps(),{projection:g}=this.visualElement;if(!Do(d)||!g||!this.constraints)return;this.stopAnimation();const C={x:0,y:0};Sa(O=>{const L=this.getAxisMotionValue(O);if(L&&this.constraints!==!1){const N=L.get();C[O]=Rl({min:N,max:N},this.constraints[O])}});const{transformTemplate:A}=this.visualElement.getProps();this.visualElement.current.style.transform=A?A({},""):"none",g.root&&g.root.updateScroll(),g.updateLayout(),this.resolveConstraints(),Sa(O=>{if(!Ll(O,f,null))return;const L=this.getAxisMotionValue(O),{min:N,max:G}=this.constraints[O];L.set(Ar(N,G,C[O]))})}addListeners(){if(!this.visualElement.current)return;Sf.set(this.visualElement,this);const f=this.visualElement.current,d=nl(f,"pointerdown",N=>{const{drag:G,dragListener:Q=!0}=this.getProps();G&&Q&&this.start(N)}),g=()=>{const{dragConstraints:N}=this.getProps();Do(N)&&N.current&&(this.constraints=this.resolveRefConstraints())},{projection:C}=this.visualElement,A=C.addEventListener("measure",g);C&&!C.layout&&(C.root&&C.root.updateScroll(),C.updateLayout()),Ct.read(g);const O=Fo(window,"resize",()=>this.scalePositionWithinConstraints()),L=C.addEventListener("didUpdate",({delta:N,hasLayoutChanged:G})=>{this.isDragging&&G&&(Sa(Q=>{const ce=this.getAxisMotionValue(Q);ce&&(this.originPoint[Q]+=N[Q].translate,ce.set(ce.get()+N[Q].translate))}),this.visualElement.render())});return()=>{O(),d(),A(),L&&L()}}getProps(){const f=this.visualElement.getProps(),{drag:d=!1,dragDirectionLock:g=!1,dragPropagation:C=!1,dragConstraints:A=!1,dragElastic:O=No,dragMomentum:L=!0}=f;return ci(rn({},f),{drag:d,dragDirectionLock:g,dragPropagation:C,dragConstraints:A,dragElastic:O,dragMomentum:L})}}function Ll(u,f,d){return(f===!0||f===u)&&(d===null||d===u)}function wf(u,f=10){let d=null;return Math.abs(u.y)>f?d="y":Math.abs(u.x)>f&&(d="x"),d}class ou extends Qr{constructor(f){super(f),this.removeGroupControls=me,this.removeListeners=me,this.controls=new _l(f)}mount(){const{dragControls:f}=this.node.getProps();f&&(this.removeGroupControls=f.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||me}unmount(){this.removeGroupControls(),this.removeListeners()}}const ac=u=>(f,d)=>{u&&Ct.postRender(()=>u(f,d))};class su extends Qr{constructor(){super(...arguments),this.removePointerDownListener=me}onPointerDown(f){this.session=new Cf(f,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tu(this.node)})}createPanHandlers(){const{onPanSessionStart:f,onPanStart:d,onPan:g,onPanEnd:C}=this.node.getProps();return{onSessionStart:ac(f),onStart:ac(d),onMove:g,onEnd:(A,O)=>{delete this.session,C&&Ct.postRender(()=>C(A,O))}}}mount(){this.removePointerDownListener=nl(this.node.current,"pointerdown",f=>this.onPointerDown(f))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var lu=T(85893),Nr=T(67294);const uu=(0,Nr.createContext)(null);function Of(u=!0){const f=(0,Nr.useContext)(uu);if(f===null)return[!0,null];const{isPresent:d,onExitComplete:g,register:C}=f,A=(0,Nr.useId)();(0,Nr.useEffect)(()=>{if(u)return C(A)},[u]);const O=(0,Nr.useCallback)(()=>u&&g&&g(A),[A,g,u]);return!d&&g?[!1,O]:[!0]}function Gh(){return Mf(useContext(PresenceContext))}function Mf(u){return u===null?!0:u.isPresent}const cu=(0,Nr.createContext)({}),wa=(0,Nr.createContext)({}),sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fu(u,f){return f.max===f.min?0:u/(f.max-f.min)*100}const ll={correct:(u,f)=>{if(!f.target)return u;if(typeof u=="string")if(fn.test(u))u=parseFloat(u);else return u;const d=fu(u,f.target.x),g=fu(u,f.target.y);return`${d}% ${g}%`}},ho={correct:(u,{treeScale:f,projectionDelta:d})=>{const g=u,C=Ia.parse(u);if(C.length>5)return g;const A=Ia.createTransformer(u),O=typeof C[0]!="number"?1:0,L=d.x.scale*f.x,N=d.y.scale*f.y;C[0+O]/=L,C[1+O]/=N;const G=Ar(L,N,.5);return typeof C[2+O]=="number"&&(C[2+O]/=G),typeof C[3+O]=="number"&&(C[3+O]/=G),A(C)}},Ds={};function Af(u){for(const f in u)Ds[f]=u[f],dr(f)&&(Ds[f].isCSSVariable=!0)}class If extends Nr.Component{componentDidMount(){const{visualElement:f,layoutGroup:d,switchLayoutGroup:g,layoutId:C}=this.props,{projection:A}=f;Af(Pf),A&&(d.group&&d.group.add(A),g&&g.register&&C&&g.register(A),A.root.didUpdate(),A.addEventListener("animationComplete",()=>{this.safeToRemove()}),A.setOptions(ci(rn({},A.options),{onExitComplete:()=>this.safeToRemove()}))),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(f){const{layoutDependency:d,visualElement:g,drag:C,isPresent:A}=this.props,O=g.projection;return O&&(O.isPresent=A,C||f.layoutDependency!==d||d===void 0||f.isPresent!==A?O.willUpdate():this.safeToRemove(),f.isPresent!==A&&(A?O.promote():O.relegate()||Ct.postRender(()=>{const L=O.getStack();(!L||!L.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:f}=this.props.visualElement;f&&(f.root.didUpdate(),He.postRender(()=>{!f.currentAnimation&&f.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:f,layoutGroup:d,switchLayoutGroup:g}=this.props,{projection:C}=f;C&&(C.scheduleCheckAfterUnmount(),d&&d.group&&d.group.remove(C),g&&g.deregister&&g.deregister(C))}safeToRemove(){const{safeToRemove:f}=this.props;f&&f()}render(){return null}}function oc(u){const[f,d]=Of(),g=(0,Nr.useContext)(cu);return(0,lu.jsx)(If,ci(rn({},u),{layoutGroup:g,switchLayoutGroup:(0,Nr.useContext)(wa),isPresent:f,safeToRemove:d}))}const Pf={borderRadius:ci(rn({},ll),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ll,borderTopRightRadius:ll,borderBottomLeftRadius:ll,borderBottomRightRadius:ll,boxShadow:ho};function hu(u,f,d){const g=Ie(u)?u:En(u);return g.start(Qs("",g,f,d)),g.animation}function Rf(u){return u instanceof SVGElement&&u.tagName!=="svg"}const _f=(u,f)=>u.depth-f.depth;class Lf{constructor(){this.children=[],this.isDirty=!1}add(f){y(this.children,f),this.isDirty=!0}remove(f){M(this.children,f),this.isDirty=!0}forEach(f){this.isDirty&&this.children.sort(_f),this.isDirty=!1,this.children.forEach(f)}}function sc(u,f){const d=xn.now(),g=({timestamp:C})=>{const A=C-d;A>=f&&(zt(g),u(A-f))};return Ct.read(g,!0),()=>zt(g)}function Wh(u,f){return sc(u,secondsToMilliseconds(f))}function ul(u){const f=Ie(u)?u.get():u;return Ot(f)?f.toValue():f}const du=["TopLeft","TopRight","BottomLeft","BottomRight"],Ff=du.length,cl=u=>typeof u=="string"?parseFloat(u):u,lc=u=>typeof u=="number"||fn.test(u);function Df(u,f,d,g,C,A){C?(u.opacity=Ar(0,d.opacity!==void 0?d.opacity:1,mu(g)),u.opacityExit=Ar(f.opacity!==void 0?f.opacity:1,0,Zh(g))):A&&(u.opacity=Ar(f.opacity!==void 0?f.opacity:1,d.opacity!==void 0?d.opacity:1,g));for(let O=0;O<Ff;O++){const L=`border${du[O]}Radius`;let N=uc(f,L),G=uc(d,L);if(N===void 0&&G===void 0)continue;N||(N=0),G||(G=0),N===0||G===0||lc(N)===lc(G)?(u[L]=Math.max(Ar(cl(N),cl(G),g),0),(ya.test(G)||ya.test(N))&&(u[L]+="%")):u[L]=G}(f.rotate||d.rotate)&&(u.rotate=Ar(f.rotate||0,d.rotate||0,g))}function uc(u,f){return u[f]!==void 0?u[f]:u.borderRadius}const mu=Fl(0,.5,Tr),Zh=Fl(.5,.95,me);function Fl(u,f,d){return g=>g<u?0:g>f?1:d(Y(u,f,g))}function cc(u,f){u.min=f.min,u.max=f.max}function mo(u,f){cc(u.x,f.x),cc(u.y,f.y)}function So(u,f){u.translate=f.translate,u.scale=f.scale,u.originPoint=f.originPoint,u.origin=f.origin}function fc(u,f,d,g,C){return u-=f,u=Al(u,1/d,g),C!==void 0&&(u=Al(u,1/C,g)),u}function Vo(u,f=0,d=1,g=.5,C,A=u,O=u){if(ya.test(f)&&(f=parseFloat(f),f=Ar(O.min,O.max,f/100)-O.min),typeof f!="number")return;let L=Ar(A.min,A.max,g);u===A&&(L-=f),u.min=fc(u.min,f,d,L,C),u.max=fc(u.max,f,d,L,C)}function fl(u,f,[d,g,C],A,O){Vo(u,f[d],f[g],f[C],f.scale,A,O)}const vu=["x","scaleX","originX"],Nf=["y","scaleY","originY"];function hc(u,f,d,g){fl(u.x,f,vu,d?d.x:void 0,g?g.x:void 0),fl(u.y,f,Nf,d?d.y:void 0,g?g.y:void 0)}function Ns(u){return u.translate===0&&u.scale===1}function Pi(u){return Ns(u.x)&&Ns(u.y)}function Dl(u,f){return u.min===f.min&&u.max===f.max}function Vf(u,f){return Dl(u.x,f.x)&&Dl(u.y,f.y)}function dc(u,f){return Math.round(u.min)===Math.round(f.min)&&Math.round(u.max)===Math.round(f.max)}function pu(u,f){return dc(u.x,f.x)&&dc(u.y,f.y)}function mc(u){return Xa(u.x)/Xa(u.y)}function gu(u,f){return u.translate===f.translate&&u.scale===f.scale&&u.originPoint===f.originPoint}class vc{constructor(){this.members=[]}add(f){y(this.members,f),f.scheduleRender()}remove(f){if(M(this.members,f),f===this.prevLead&&(this.prevLead=void 0),f===this.lead){const d=this.members[this.members.length-1];d&&this.promote(d)}}relegate(f){const d=this.members.findIndex(C=>f===C);if(d===0)return!1;let g;for(let C=d;C>=0;C--){const A=this.members[C];if(A.isPresent!==!1){g=A;break}}return g?(this.promote(g),!0):!1}promote(f,d){const g=this.lead;if(f!==g&&(this.prevLead=g,this.lead=f,f.show(),g)){g.instance&&g.scheduleRender(),f.scheduleRender(),f.resumeFrom=g,d&&(f.resumeFrom.preserveOpacity=!0),g.snapshot&&(f.snapshot=g.snapshot,f.snapshot.latestValues=g.animationValues||g.latestValues),f.root&&f.root.isUpdating&&(f.isLayoutDirty=!0);const{crossfade:C}=f.options;C===!1&&g.hide()}}exitAnimationComplete(){this.members.forEach(f=>{const{options:d,resumingFrom:g}=f;d.onExitComplete&&d.onExitComplete(),g&&g.options.onExitComplete&&g.options.onExitComplete()})}scheduleRender(){this.members.forEach(f=>{f.instance&&f.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xh(u,f,d){let g="";const C=u.x.translate/f.x,A=u.y.translate/f.y,O=(d==null?void 0:d.z)||0;if((C||A||O)&&(g=`translate3d(${C}px, ${A}px, ${O}px) `),(f.x!==1||f.y!==1)&&(g+=`scale(${1/f.x}, ${1/f.y}) `),d){const{transformPerspective:G,rotate:Q,rotateX:ce,rotateY:Oe,skewX:at,skewY:bt}=d;G&&(g=`perspective(${G}px) ${g}`),Q&&(g+=`rotate(${Q}deg) `),ce&&(g+=`rotateX(${ce}deg) `),Oe&&(g+=`rotateY(${Oe}deg) `),at&&(g+=`skewX(${at}deg) `),bt&&(g+=`skewY(${bt}deg) `)}const L=u.x.scale*f.x,N=u.y.scale*f.y;return(L!==1||N!==1)&&(g+=`scale(${L}, ${N})`),g||"none"}const ns={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},yu=["","X","Y","Z"],Yh={visibility:"hidden"},bu=1e3;let xu=0;function pc(u,f,d,g){const{latestValues:C}=f;C[u]&&(d[u]=C[u],f.setStaticValue(u,0),g&&(g[u]=0))}function gc(u){if(u.hasCheckedOptimisedAppear=!0,u.root===u)return;const{visualElement:f}=u.options;if(!f)return;const d=Ut(f);if(window.MotionHasOptimisedAnimation(d,"transform")){const{layout:C,layoutId:A}=u.options;window.MotionCancelOptimisedAnimation(d,"transform",Ct,!(C||A))}const{parent:g}=u;g&&!g.hasCheckedOptimisedAppear&&gc(g)}function ms({attachResizeListener:u,defaultParent:f,measureScroll:d,checkIsScrollRoot:g,resetTransform:C}){return class{constructor(O={},L=f==null?void 0:f()){this.id=xu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ae.value&&(ns.nodes=ns.calculatedTargetDeltas=ns.calculatedProjections=0),this.nodes.forEach(kf),this.nodes.forEach(Hf),this.nodes.forEach(Cc),this.nodes.forEach(Uf),Ae.addProjectionMetrics&&Ae.addProjectionMetrics(ns)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=O,this.root=L?L.root||L:this,this.path=L?[...L.path,L]:[],this.parent=L,this.depth=L?L.depth+1:0;for(let N=0;N<this.path.length;N++)this.path[N].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lf)}addEventListener(O,L){return this.eventHandlers.has(O)||this.eventHandlers.set(O,new X),this.eventHandlers.get(O).add(L)}notifyListeners(O,...L){const N=this.eventHandlers.get(O);N&&N.notify(...L)}hasListeners(O){return this.eventHandlers.has(O)}mount(O,L=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rf(O),this.instance=O;const{layoutId:N,layout:G,visualElement:Q}=this.options;if(Q&&!Q.current&&Q.mount(O),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),L&&(G||N)&&(this.isLayoutDirty=!0),u){let ce;const Oe=()=>this.root.updateBlockedByResize=!1;u(O,()=>{this.root.updateBlockedByResize=!0,ce&&ce(),ce=sc(Oe,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(xc))})}N&&this.root.registerSharedNode(N,this),this.options.animate!==!1&&Q&&(N||G)&&this.addEventListener("didUpdate",({delta:ce,hasLayoutChanged:Oe,hasRelativeLayoutChanged:at,layout:bt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Lt=this.options.transition||Q.getDefaultTransition()||Zf,{onLayoutAnimationStart:cn,onLayoutAnimationComplete:ln}=Q.getProps(),fr=!this.targetLayout||!pu(this.targetLayout,bt),rr=!Oe&&at;if(this.options.layoutRoot||this.resumeFrom||rr||Oe&&(fr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ce,rr);const Ti=ci(rn({},Jt(Lt,"layout")),{onPlay:cn,onComplete:ln});(Q.shouldReduceMotion||this.options.layoutRoot)&&(Ti.delay=0,Ti.type=!1),this.startAnimation(Ti)}else Oe||xc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=bt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const O=this.getStack();O&&O.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vo),this.animationId++)}getTransformTemplate(){const{visualElement:O}=this.options;return O&&O.getProps().transformTemplate}willUpdate(O=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Q=0;Q<this.path.length;Q++){const ce=this.path[Q];ce.shouldResetTransform=!0,ce.updateScroll("snapshot"),ce.options.layoutRoot&&ce.willUpdate(!1)}const{layoutId:L,layout:N}=this.options;if(L===void 0&&!N)return;const G=this.getTransformTemplate();this.prevTransformTemplateValue=G?G(this.latestValues,""):void 0,this.updateSnapshot(),O&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yc);return}this.isUpdating||this.nodes.forEach(jf),this.isUpdating=!1,this.nodes.forEach(bc),this.nodes.forEach(Bf),this.nodes.forEach(zf),this.clearAllSnapshots();const L=xn.now();mn.delta=Kr(0,1e3/60,L-mn.timestamp),mn.timestamp=L,mn.isProcessing=!0,Ke.update.process(mn),Ke.preRender.process(mn),Ke.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,He.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($f),this.sharedNodes.forEach(Gf)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xa(this.snapshot.measuredBox.x)&&!Xa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let N=0;N<this.path.length;N++)this.path[N].updateScroll();const O=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:L}=this.options;L&&L.notify("LayoutMeasure",this.layout.layoutBox,O?O.layoutBox:void 0)}updateScroll(O="measure"){let L=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===O&&(L=!1),L){const N=g(this.instance);this.scroll={animationId:this.root.animationId,phase:O,isRoot:N,offset:d(this.instance),wasRoot:this.scroll?this.scroll.isRoot:N}}}resetTransform(){if(!C)return;const O=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,L=this.projectionDelta&&!Pi(this.projectionDelta),N=this.getTransformTemplate(),G=N?N(this.latestValues,""):void 0,Q=G!==this.prevTransformTemplateValue;O&&(L||ds(this.latestValues)||Q)&&(C(this.instance,G),this.shouldResetTransform=!1,this.scheduleRender())}measure(O=!0){const L=this.measurePageBox();let N=this.removeElementScroll(L);return O&&(N=this.removeTransform(N)),Xf(N),{animationId:this.root.animationId,measuredBox:L,layoutBox:N,latestValues:{},source:this.id}}measurePageBox(){var O;const{visualElement:L}=this.options;if(!L)return fa();const N=L.measureViewportBox();if(!(((O=this.scroll)===null||O===void 0?void 0:O.wasRoot)||this.path.some(Yf))){const{scroll:Q}=this.root;Q&&(Rs(N.x,Q.offset.x),Rs(N.y,Q.offset.y))}return N}removeElementScroll(O){var L;const N=fa();if(mo(N,O),!((L=this.scroll)===null||L===void 0)&&L.wasRoot)return N;for(let G=0;G<this.path.length;G++){const Q=this.path[G],{scroll:ce,options:Oe}=Q;Q!==this.root&&ce&&Oe.layoutScroll&&(ce.wasRoot&&mo(N,O),Rs(N.x,ce.offset.x),Rs(N.y,ce.offset.y))}return N}applyTransform(O,L=!1){const N=fa();mo(N,O);for(let G=0;G<this.path.length;G++){const Q=this.path[G];!L&&Q.options.layoutScroll&&Q.scroll&&Q!==Q.root&&_s(N,{x:-Q.scroll.offset.x,y:-Q.scroll.offset.y}),ds(Q.latestValues)&&_s(N,Q.latestValues)}return ds(this.latestValues)&&_s(N,this.latestValues),N}removeTransform(O){const L=fa();mo(L,O);for(let N=0;N<this.path.length;N++){const G=this.path[N];if(!G.instance||!ds(G.latestValues))continue;Co(G.latestValues)&&G.updateSnapshot();const Q=fa(),ce=G.measurePageBox();mo(Q,ce),hc(L,G.latestValues,G.snapshot?G.snapshot.layoutBox:void 0,Q)}return ds(this.latestValues)&&hc(L,this.latestValues),L}setTargetDelta(O){this.targetDelta=O,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(O){this.options=ci(rn(rn({},this.options),O),{crossfade:O.crossfade!==void 0?O.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(O=!1){var L;const N=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=N.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=N.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=N.isSharedProjectionDirty);const G=!!this.resumingFrom||this!==N;if(!(O||G&&this.isSharedProjectionDirty||this.isProjectionDirty||!((L=this.parent)===null||L===void 0)&&L.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:ce,layoutId:Oe}=this.options;if(!(!this.layout||!(ce||Oe))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const at=this.getClosestProjectingParent();at&&at.layout&&this.animationProgress!==1?(this.relativeParent=at,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fa(),this.relativeTargetOrigin=fa(),ol(this.relativeTargetOrigin,this.layout.layoutBox,at.layout.layoutBox),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fa(),this.targetWithTransforms=fa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ql(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mo(this.target,this.layout.layoutBox),Ku(this.target,this.targetDelta)):mo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const at=this.getClosestProjectingParent();at&&!!at.resumingFrom==!!this.resumingFrom&&!at.options.layoutScroll&&at.target&&this.animationProgress!==1?(this.relativeParent=at,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fa(),this.relativeTargetOrigin=fa(),ol(this.relativeTargetOrigin,this.target,at.target),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ae.value&&ns.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Co(this.parent.latestValues)||Eo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const L=this.getLead(),N=!!this.resumingFrom||this!==L;let G=!0;if((this.isProjectionDirty||!((O=this.parent)===null||O===void 0)&&O.isProjectionDirty)&&(G=!1),N&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(G=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(G=!1),G)return;const{layout:Q,layoutId:ce}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Q||ce))return;mo(this.layoutCorrected,this.layout.layoutBox);const Oe=this.treeScale.x,at=this.treeScale.y;xf(this.layoutCorrected,this.treeScale,this.path,N),L.layout&&!L.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(L.target=L.layout.layoutBox,L.targetWithTransforms=fa());const{target:bt}=L;if(!bt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(So(this.prevProjectionDelta.x,this.projectionDelta.x),So(this.prevProjectionDelta.y,this.projectionDelta.y)),al(this.projectionDelta,this.layoutCorrected,bt,this.latestValues),(this.treeScale.x!==Oe||this.treeScale.y!==at||!gu(this.projectionDelta.x,this.prevProjectionDelta.x)||!gu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",bt)),Ae.value&&ns.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(O=!0){var L;if((L=this.options.visualElement)===null||L===void 0||L.scheduleRender(),O){const N=this.getStack();N&&N.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hs(),this.projectionDelta=hs(),this.projectionDeltaWithTransform=hs()}setAnimationOrigin(O,L=!1){const N=this.snapshot,G=N?N.latestValues:{},Q=rn({},this.latestValues),ce=hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!L;const Oe=fa(),at=N?N.source:void 0,bt=this.layout?this.layout.source:void 0,Lt=at!==bt,cn=this.getStack(),ln=!cn||cn.members.length<=1,fr=!!(Lt&&!ln&&this.options.crossfade===!0&&!this.path.some(Wf));this.animationProgress=0;let rr;this.mixTargetDelta=Ti=>{const vr=Ti/1e3;Ec(ce.x,O.x,vr),Ec(ce.y,O.y,vr),this.setTargetDelta(ce),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ol(Oe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin,Oe,vr),rr&&Vf(this.relativeTarget,rr)&&(this.isProjectionDirty=!1),rr||(rr=fa()),mo(rr,this.relativeTarget)),Lt&&(this.animationValues=Q,Df(Q,G,this.latestValues,vr,fr,ln)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=vr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(O){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{sl.hasAnimatedSinceResize=!0,Vt.layout++,this.currentAnimation=hu(0,bu,ci(rn({},O),{onUpdate:L=>{this.mixTargetDelta(L),O.onUpdate&&O.onUpdate(L)},onStop:()=>{Vt.layout--},onComplete:()=>{Vt.layout--,O.onComplete&&O.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const O=this.getStack();O&&O.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const O=this.getLead();let{targetWithTransforms:L,target:N,layout:G,latestValues:Q}=O;if(!(!L||!N||!G)){if(this!==O&&this.layout&&G&&Oc(this.options.animationType,this.layout.layoutBox,G.layoutBox)){N=this.target||fa();const ce=Xa(this.layout.layoutBox.x);N.x.min=O.target.x.min,N.x.max=N.x.min+ce;const Oe=Xa(this.layout.layoutBox.y);N.y.min=O.target.y.min,N.y.max=N.y.min+Oe}mo(L,N),_s(L,Q),al(this.projectionDeltaWithTransform,this.layoutCorrected,L,Q)}}registerSharedNode(O,L){this.sharedNodes.has(O)||this.sharedNodes.set(O,new vc),this.sharedNodes.get(O).add(L);const G=L.options.initialPromotionConfig;L.promote({transition:G?G.transition:void 0,preserveFollowOpacity:G&&G.shouldPreserveFollowOpacity?G.shouldPreserveFollowOpacity(L):void 0})}isLead(){const O=this.getStack();return O?O.lead===this:!0}getLead(){var O;const{layoutId:L}=this.options;return L?((O=this.getStack())===null||O===void 0?void 0:O.lead)||this:this}getPrevLead(){var O;const{layoutId:L}=this.options;return L?(O=this.getStack())===null||O===void 0?void 0:O.prevLead:void 0}getStack(){const{layoutId:O}=this.options;if(O)return this.root.sharedNodes.get(O)}promote({needsReset:O,transition:L,preserveFollowOpacity:N}={}){const G=this.getStack();G&&G.promote(this,N),O&&(this.projectionDelta=void 0,this.needsReset=!0),L&&this.setOptions({transition:L})}relegate(){const O=this.getStack();return O?O.relegate(this):!1}resetSkewAndRotation(){const{visualElement:O}=this.options;if(!O)return;let L=!1;const{latestValues:N}=O;if((N.z||N.rotate||N.rotateX||N.rotateY||N.rotateZ||N.skewX||N.skewY)&&(L=!0),!L)return;const G={};N.z&&pc("z",O,G,this.animationValues);for(let Q=0;Q<yu.length;Q++)pc(`rotate${yu[Q]}`,O,G,this.animationValues),pc(`skew${yu[Q]}`,O,G,this.animationValues);O.render();for(const Q in G)O.setStaticValue(Q,G[Q]),this.animationValues&&(this.animationValues[Q]=G[Q]);O.scheduleRender()}getProjectionStyles(O){var L,N;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yh;const G={visibility:""},Q=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,G.opacity="",G.pointerEvents=ul(O==null?void 0:O.pointerEvents)||"",G.transform=Q?Q(this.latestValues,""):"none",G;const ce=this.getLead();if(!this.projectionDelta||!this.layout||!ce.target){const Lt={};return this.options.layoutId&&(Lt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Lt.pointerEvents=ul(O==null?void 0:O.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(Lt.transform=Q?Q({},""):"none",this.hasProjected=!1),Lt}const Oe=ce.animationValues||ce.latestValues;this.applyTransformsToTarget(),G.transform=Xh(this.projectionDeltaWithTransform,this.treeScale,Oe),Q&&(G.transform=Q(Oe,G.transform));const{x:at,y:bt}=this.projectionDelta;G.transformOrigin=`${at.origin*100}% ${bt.origin*100}% 0`,ce.animationValues?G.opacity=ce===this?(N=(L=Oe.opacity)!==null&&L!==void 0?L:this.latestValues.opacity)!==null&&N!==void 0?N:1:this.preserveOpacity?this.latestValues.opacity:Oe.opacityExit:G.opacity=ce===this?Oe.opacity!==void 0?Oe.opacity:"":Oe.opacityExit!==void 0?Oe.opacityExit:0;for(const Lt in Ds){if(Oe[Lt]===void 0)continue;const{correct:cn,applyTo:ln,isCSSVariable:fr}=Ds[Lt],rr=G.transform==="none"?Oe[Lt]:cn(Oe[Lt],ce);if(ln){const Ti=ln.length;for(let vr=0;vr<Ti;vr++)G[ln[vr]]=rr}else fr?this.options.visualElement.renderState.vars[Lt]=rr:G[Lt]=rr}return this.options.layoutId&&(G.pointerEvents=ce===this?ul(O==null?void 0:O.pointerEvents)||"":"none"),G}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(O=>{var L;return(L=O.currentAnimation)===null||L===void 0?void 0:L.stop()}),this.root.nodes.forEach(yc),this.root.sharedNodes.clear()}}}function Bf(u){u.updateLayout()}function zf(u){var f;const d=((f=u.resumeFrom)===null||f===void 0?void 0:f.snapshot)||u.snapshot;if(u.isLead()&&u.layout&&d&&u.hasListeners("didUpdate")){const{layoutBox:g,measuredBox:C}=u.layout,{animationType:A}=u.options,O=d.source!==u.layout.source;A==="size"?Sa(ce=>{const Oe=O?d.measuredBox[ce]:d.layoutBox[ce],at=Xa(Oe);Oe.min=g[ce].min,Oe.max=Oe.min+at}):Oc(A,d.layoutBox,g)&&Sa(ce=>{const Oe=O?d.measuredBox[ce]:d.layoutBox[ce],at=Xa(g[ce]);Oe.max=Oe.min+at,u.relativeTarget&&!u.currentAnimation&&(u.isProjectionDirty=!0,u.relativeTarget[ce].max=u.relativeTarget[ce].min+at)});const L=hs();al(L,g,d.layoutBox);const N=hs();O?al(N,u.applyTransform(C,!0),d.measuredBox):al(N,g,d.layoutBox);const G=!Pi(L);let Q=!1;if(!u.resumeFrom){const ce=u.getClosestProjectingParent();if(ce&&!ce.resumeFrom){const{snapshot:Oe,layout:at}=ce;if(Oe&&at){const bt=fa();ol(bt,d.layoutBox,Oe.layoutBox);const Lt=fa();ol(Lt,g,at.layoutBox),pu(bt,Lt)||(Q=!0),ce.options.layoutRoot&&(u.relativeTarget=Lt,u.relativeTargetOrigin=bt,u.relativeParent=ce)}}}u.notifyListeners("didUpdate",{layout:g,snapshot:d,delta:N,layoutDelta:L,hasLayoutChanged:G,hasRelativeLayoutChanged:Q})}else if(u.isLead()){const{onExitComplete:g}=u.options;g&&g()}u.options.transition=void 0}function kf(u){Ae.value&&ns.nodes++,u.parent&&(u.isProjecting()||(u.isProjectionDirty=u.parent.isProjectionDirty),u.isSharedProjectionDirty||(u.isSharedProjectionDirty=!!(u.isProjectionDirty||u.parent.isProjectionDirty||u.parent.isSharedProjectionDirty)),u.isTransformDirty||(u.isTransformDirty=u.parent.isTransformDirty))}function Uf(u){u.isProjectionDirty=u.isSharedProjectionDirty=u.isTransformDirty=!1}function $f(u){u.clearSnapshot()}function yc(u){u.clearMeasurements()}function jf(u){u.isLayoutDirty=!1}function bc(u){const{visualElement:f}=u.options;f&&f.getProps().onBeforeLayoutMeasure&&f.notify("BeforeLayoutMeasure"),u.resetTransform()}function xc(u){u.finishAnimation(),u.targetDelta=u.relativeTarget=u.target=void 0,u.isProjectionDirty=!0}function Hf(u){u.resolveTargetDelta()}function Cc(u){u.calcProjection()}function vo(u){u.resetSkewAndRotation()}function Gf(u){u.removeLeadSnapshot()}function Ec(u,f,d){u.translate=Ar(f.translate,0,d),u.scale=Ar(f.scale,1,d),u.origin=f.origin,u.originPoint=f.originPoint}function Cu(u,f,d,g){u.min=Ar(f.min,d.min,g),u.max=Ar(f.max,d.max,g)}function rs(u,f,d,g){Cu(u.x,f.x,d.x,g),Cu(u.y,f.y,d.y,g)}function Wf(u){return u.animationValues&&u.animationValues.opacityExit!==void 0}const Zf={duration:.45,ease:[.4,0,.1,1]},Tc=u=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(u),Sc=Tc("applewebkit/")&&!Tc("chrome/")?Math.round:me;function wc(u){u.min=Sc(u.min),u.max=Sc(u.max)}function Xf(u){wc(u.x),wc(u.y)}function Oc(u,f,d){return u==="position"||u==="preserve-aspect"&&!bf(mc(f),mc(d),.2)}function Yf(u){var f;return u!==u.root&&((f=u.scroll)===null||f===void 0?void 0:f.wasRoot)}const Kf=ms({attachResizeListener:(u,f)=>Fo(u,"resize",f),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hl={current:void 0},Mc=ms({measureScroll:u=>({x:u.scrollLeft,y:u.scrollTop}),defaultParent:()=>{if(!hl.current){const u=new Kf({});u.mount(window),u.setOptions({layoutScroll:!0}),hl.current=u}return hl.current},resetTransform:(u,f)=>{u.style.transform=f!==void 0?f:"none"},checkIsScrollRoot:u=>window.getComputedStyle(u).position==="fixed"}),Vs={pan:{Feature:su},drag:{Feature:ou,ProjectionNode:Mc,MeasureLayout:oc}};function Ac(u,f,d){const{props:g}=u;u.animationState&&g.whileHover&&u.animationState.setActive("whileHover",d==="Start");const C="onHover"+d,A=g[C];A&&Ct.postRender(()=>A(f,tl(f)))}class na extends Qr{mount(){const{current:f}=this.node;f&&(this.unmount=re(f,(d,g)=>(Ac(this.node,g,"Start"),C=>Ac(this.node,C,"End"))))}unmount(){}}class Nl extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let f=!1;try{f=this.node.current.matches(":focus-visible")}catch(d){f=!0}!f||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kn(Fo(this.node.current,"focus",()=>this.onFocus()),Fo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Eu(u,f,d){const{props:g}=u;if(u.current instanceof HTMLButtonElement&&u.current.disabled)return;u.animationState&&g.whileTap&&u.animationState.setActive("whileTap",d==="Start");const C="onTap"+(d==="End"?"":d),A=g[C];A&&Ct.postRender(()=>A(f,tl(f)))}class Vl extends Qr{mount(){const{current:f}=this.node;f&&(this.unmount=Yt(f,(d,g)=>(Eu(this.node,g,"Start"),(C,{success:A})=>Eu(this.node,C,A?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bs=new WeakMap,Tu=new WeakMap,dl=u=>{const f=Bs.get(u.target);f&&f(u)},Qf=u=>{u.forEach(dl)};function Ic(d){var g=d,{root:u}=g,f=Oo(g,["root"]);const C=u||document;Tu.has(C)||Tu.set(C,{});const A=Tu.get(C),O=JSON.stringify(f);return A[O]||(A[O]=new IntersectionObserver(Qf,rn({root:u},f))),A[O]}function Pc(u,f,d){const g=Ic(f);return Bs.set(u,d),g.observe(u),()=>{Bs.delete(u),g.unobserve(u)}}const ml={some:0,all:1};class Su extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:f={}}=this.node.getProps(),{root:d,margin:g,amount:C="some",once:A}=f,O={root:d?d.current:void 0,rootMargin:g,threshold:typeof C=="number"?C:ml[C]},L=N=>{const{isIntersecting:G}=N;if(this.isInView===G||(this.isInView=G,A&&!G&&this.hasEnteredView))return;G&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",G);const{onViewportEnter:Q,onViewportLeave:ce}=this.node.getProps(),Oe=G?Q:ce;Oe&&Oe(N)};return Pc(this.node.current,O,L)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:f,prevProps:d}=this.node;["amount","margin","root"].some(Jf(f,d))&&this.startObserver()}unmount(){}}function Jf({viewport:u={}},{viewport:f={}}={}){return d=>u[d]!==f[d]}const vs={inView:{Feature:Su},tap:{Feature:Vl},focus:{Feature:Nl},hover:{Feature:na}},qf={layout:{ProjectionNode:Mc,MeasureLayout:oc}},zs=(0,Nr.createContext)({strict:!1}),Rc=(0,Nr.createContext)({transformPagePoint:u=>u,isStatic:!1,reducedMotion:"never"}),Bl=(0,Nr.createContext)({});function zl(u){return Be(u.animate)||Ps.some(f=>ts(u[f]))}function _c(u){return!!(zl(u)||u.variants)}function eh(u,f){if(zl(u)){const{initial:d,animate:g}=u;return{initial:d===!1||ts(d)?d:void 0,animate:ts(g)?g:void 0}}return u.inherit!==!1?f:{}}function th(u){const{initial:f,animate:d}=eh(u,(0,Nr.useContext)(Bl));return(0,Nr.useMemo)(()=>({initial:f,animate:d}),[Lc(f),Lc(d)])}function Lc(u){return Array.isArray(u)?u.join(" "):u}const wu=typeof window!="undefined",Fc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ps={};for(const u in Fc)ps[u]={isEnabled:f=>Fc[u].some(d=>!!f[d])};function nh(u){for(const f in u)ps[f]=rn(rn({},ps[f]),u[f])}const rh=Symbol.for("motionComponentSymbol");function ih(u,f,d){return(0,Nr.useCallback)(g=>{g&&u.onMount&&u.onMount(g),f&&(g?f.mount(g):f.unmount()),d&&(typeof d=="function"?d(g):Do(d)&&(d.current=g))},[f])}const ah=wu?Nr.useLayoutEffect:Nr.useEffect;function oh(u,f,d,g,C){var A,O;const{visualElement:L}=(0,Nr.useContext)(Bl),N=(0,Nr.useContext)(zs),G=(0,Nr.useContext)(uu),Q=(0,Nr.useContext)(Rc).reducedMotion,ce=(0,Nr.useRef)(null);g=g||N.renderer,!ce.current&&g&&(ce.current=g(u,{visualState:f,parent:L,props:d,presenceContext:G,blockInitialAnimation:G?G.initial===!1:!1,reducedMotionConfig:Q}));const Oe=ce.current,at=(0,Nr.useContext)(wa);Oe&&!Oe.projection&&C&&(Oe.type==="html"||Oe.type==="svg")&&kl(ce.current,d,C,at);const bt=(0,Nr.useRef)(!1);(0,Nr.useInsertionEffect)(()=>{Oe&&bt.current&&Oe.update(d,G)});const Lt=d[_n],cn=(0,Nr.useRef)(!!Lt&&!(!((A=window.MotionHandoffIsComplete)===null||A===void 0)&&A.call(window,Lt))&&((O=window.MotionHasOptimisedAnimation)===null||O===void 0?void 0:O.call(window,Lt)));return ah(()=>{Oe&&(bt.current=!0,window.MotionIsMounted=!0,Oe.updateFeatures(),He.render(Oe.render),cn.current&&Oe.animationState&&Oe.animationState.animateChanges())}),(0,Nr.useEffect)(()=>{Oe&&(!cn.current&&Oe.animationState&&Oe.animationState.animateChanges(),cn.current&&(queueMicrotask(()=>{var ln;(ln=window.MotionHandoffMarkAsComplete)===null||ln===void 0||ln.call(window,Lt)}),cn.current=!1))}),Oe}function kl(u,f,d,g){const{layoutId:C,layout:A,drag:O,dragConstraints:L,layoutScroll:N,layoutRoot:G}=f;u.projection=new d(u.latestValues,f["data-framer-portal-id"]?void 0:Ou(u.parent)),u.projection.setOptions({layoutId:C,layout:A,alwaysMeasureLayout:!!O||L&&Do(L),visualElement:u,animationType:typeof A=="string"?A:"both",initialPromotionConfig:g,layoutScroll:N,layoutRoot:G})}function Ou(u){if(u)return u.options.allowProjection!==!1?u.projection:Ou(u.parent)}function Dc({preloadedFeatures:u,createVisualElement:f,useRender:d,useVisualState:g,Component:C}){var A,O;u&&nh(u);function L(G,Q){let ce;const Oe=ci(rn(rn({},(0,Nr.useContext)(Rc)),G),{layoutId:sh(G)}),{isStatic:at}=Oe,bt=th(G),Lt=g(G,at);if(!at&&wu){lh(Oe,u);const cn=ks(Oe);ce=cn.MeasureLayout,bt.visualElement=oh(C,Lt,Oe,f,cn.ProjectionNode)}return(0,lu.jsxs)(Bl.Provider,{value:bt,children:[ce&&bt.visualElement?(0,lu.jsx)(ce,rn({visualElement:bt.visualElement},Oe)):null,d(C,G,ih(Lt,bt.visualElement,Q),Lt,at,bt.visualElement)]})}L.displayName=`motion.${typeof C=="string"?C:`create(${(O=(A=C.displayName)!==null&&A!==void 0?A:C.name)!==null&&O!==void 0?O:""})`}`;const N=(0,Nr.forwardRef)(L);return N[rh]=C,N}function sh({layoutId:u}){const f=(0,Nr.useContext)(cu).id;return f&&u!==void 0?f+"-"+u:u}function lh(u,f){const d=(0,Nr.useContext)(zs).strict}function ks(u){const{drag:f,layout:d}=ps;if(!f&&!d)return{};const g=rn(rn({},f),d);return{MeasureLayout:f!=null&&f.isEnabled(u)||d!=null&&d.isEnabled(u)?g.MeasureLayout:void 0,ProjectionNode:g.ProjectionNode}}function Nc(u,{layout:f,layoutId:d}){return Un.has(u)||u.startsWith("origin")||(f||d!==void 0)&&(!!Ds[u]||u==="opacity")}const Vc=(u,f)=>f&&typeof u=="number"?f.transform(u):u,uh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ch=dt.length;function fh(u,f,d){let g="",C=!0;for(let A=0;A<ch;A++){const O=dt[A],L=u[O];if(L===void 0)continue;let N=!0;if(typeof L=="number"?N=L===(O.startsWith("scale")?1:0):N=parseFloat(L)===0,!N||d){const G=Vc(L,go[O]);if(!N){C=!1;const Q=uh[O]||O;g+=`${Q}(${G}) `}d&&(f[O]=G)}}return g=g.trim(),d?g=d(f,C?"":g):C&&(g="none"),g}function Ul(u,f,d){const{style:g,vars:C,transformOrigin:A}=u;let O=!1,L=!1;for(const N in f){const G=f[N];if(Un.has(N)){O=!0;continue}else if(dr(N)){C[N]=G;continue}else{const Q=Vc(G,go[N]);N.startsWith("origin")?(L=!0,A[N]=Q):g[N]=Q}}if(f.transform||(O||d?g.transform=fh(f,u.transform,d):g.transform&&(g.transform="none")),L){const{originX:N="50%",originY:G="50%",originZ:Q=0}=A;g.transformOrigin=`${N} ${G} ${Q}`}}const $l=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bc(u,f,d){for(const g in f)!Ie(f[g])&&!Nc(g,d)&&(u[g]=f[g])}function hh({transformTemplate:u},f){return(0,Nr.useMemo)(()=>{const d=$l();return Ul(d,f,u),Object.assign({},d.vars,d.style)},[f])}function dh(u,f){const d=u.style||{},g={};return Bc(g,d,u),Object.assign(g,hh(u,f)),g}function mh(u,f){const d={},g=dh(u,f);return u.drag&&u.dragListener!==!1&&(d.draggable=!1,g.userSelect=g.WebkitUserSelect=g.WebkitTouchCallout="none",g.touchAction=u.drag===!0?"none":`pan-${u.drag==="x"?"y":"x"}`),u.tabIndex===void 0&&(u.onTap||u.onTapStart||u.whileTap)&&(d.tabIndex=0),d.style=g,d}const vh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jl(u){return u.startsWith("while")||u.startsWith("drag")&&u!=="draggable"||u.startsWith("layout")||u.startsWith("onTap")||u.startsWith("onPan")||u.startsWith("onLayout")||vh.has(u)}let zc=u=>!jl(u);function ph(u){u&&(zc=f=>f.startsWith("on")?!jl(f):u(f))}try{ph(require("@emotion/is-prop-valid").default)}catch(u){}function Mu(u,f,d){const g={};for(const C in u)C==="values"&&typeof u.values=="object"||(zc(C)||d===!0&&jl(C)||!f&&!jl(C)||u.draggable&&C.startsWith("onDrag"))&&(g[C]=u[C]);return g}const kc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Au(u){return typeof u!="string"||u.includes("-")?!1:!!(kc.indexOf(u)>-1||/[A-Z]/u.test(u))}const gh={offset:"stroke-dashoffset",array:"stroke-dasharray"},yh={offset:"strokeDashoffset",array:"strokeDasharray"};function bh(u,f,d=1,g=0,C=!0){u.pathLength=1;const A=C?gh:yh;u[A.offset]=fn.transform(-g);const O=fn.transform(f),L=fn.transform(d);u[A.array]=`${O} ${L}`}function Uc(u,f,d){return typeof u=="string"?u:fn.transform(f+d*u)}function xh(u,f,d){const g=Uc(f,u.x,u.width),C=Uc(d,u.y,u.height);return`${g} ${C}`}function Iu(u,Oe,Q,ce){var at=Oe,{attrX:f,attrY:d,attrScale:g,originX:C,originY:A,pathLength:O,pathSpacing:L=1,pathOffset:N=0}=at,G=Oo(at,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]);if(Ul(u,G,ce),Q){u.style.viewBox&&(u.attrs.viewBox=u.style.viewBox);return}u.attrs=u.style,u.style={};const{attrs:bt,style:Lt,dimensions:cn}=u;bt.transform&&(cn&&(Lt.transform=bt.transform),delete bt.transform),cn&&(C!==void 0||A!==void 0||Lt.transform)&&(Lt.transformOrigin=xh(cn,C!==void 0?C:.5,A!==void 0?A:.5)),f!==void 0&&(bt.x=f),d!==void 0&&(bt.y=d),g!==void 0&&(bt.scale=g),O!==void 0&&bh(bt,O,L,N,!1)}const Us=()=>ci(rn({},$l()),{attrs:{}}),wo=u=>typeof u=="string"&&u.toLowerCase()==="svg";function Ch(u,f,d,g){const C=(0,Nr.useMemo)(()=>{const A=Us();return Iu(A,f,wo(g),u.transformTemplate),ci(rn({},A.attrs),{style:rn({},A.style)})},[f]);if(u.style){const A={};Bc(A,u.style,u),C.style=rn(rn({},A),C.style)}return C}function Eh(u=!1){return(d,g,C,{latestValues:A},O)=>{const N=(Au(d)?Ch:mh)(g,A,O,d),G=Mu(g,typeof d=="string",u),Q=d!==Nr.Fragment?ci(rn(rn({},G),N),{ref:C}):{},{children:ce}=g,Oe=(0,Nr.useMemo)(()=>Ie(ce)?ce.get():ce,[ce]);return(0,Nr.createElement)(d,ci(rn({},Q),{children:Oe}))}}function $c(u){const f=(0,Nr.useRef)(null);return f.current===null&&(f.current=u()),f.current}function Th({scrapeMotionValuesFromProps:u,createRenderState:f,onUpdate:d},g,C,A){const O={latestValues:jc(g,C,A,u),renderState:f()};return d&&(O.onMount=L=>d(rn({props:g,current:L},O)),O.onUpdate=L=>d(L)),O}const Pu=u=>(f,d)=>{const g=(0,Nr.useContext)(Bl),C=(0,Nr.useContext)(uu),A=()=>Th(u,f,g,C);return d?A():$c(A)};function jc(u,f,d,g){const C={},A=g(u,{});for(const at in A)C[at]=ul(A[at]);let{initial:O,animate:L}=u;const N=zl(u),G=_c(u);f&&G&&!N&&u.inherit!==!1&&(O===void 0&&(O=f.initial),L===void 0&&(L=f.animate));let Q=d?d.initial===!1:!1;Q=Q||O===!1;const ce=Q?L:O;if(ce&&typeof ce!="boolean"&&!Be(ce)){const at=Array.isArray(ce)?ce:[ce];for(let bt=0;bt<at.length;bt++){const Lt=tt(u,at[bt]);if(Lt){const Oe=Lt,{transitionEnd:cn,transition:ln}=Oe,fr=Oo(Oe,["transitionEnd","transition"]);for(const rr in fr){let Ti=fr[rr];if(Array.isArray(Ti)){const vr=Q?Ti.length-1:0;Ti=Ti[vr]}Ti!==null&&(C[rr]=Ti)}for(const rr in cn)C[rr]=cn[rr]}}}return C}function Hc(u,f,d){var g;const{style:C}=u,A={};for(const O in C)(Ie(C[O])||f.style&&Ie(f.style[O])||Nc(O,u)||((g=d==null?void 0:d.getValue(O))===null||g===void 0?void 0:g.liveStyle)!==void 0)&&(A[O]=C[O]);return A}const Go={useVisualState:Pu({scrapeMotionValuesFromProps:Hc,createRenderState:$l})};function Gc(u,f){try{f.dimensions=typeof u.getBBox=="function"?u.getBBox():u.getBoundingClientRect()}catch(d){f.dimensions={x:0,y:0,width:0,height:0}}}function gs(u,{style:f,vars:d},g,C){Object.assign(u.style,f,C&&C.getProjectionStyles(g));for(const A in d)u.style.setProperty(A,d[A])}const Wc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zc(u,f,d,g){gs(u,f,void 0,g);for(const C in f.attrs)u.setAttribute(Wc.has(C)?C:gt(C),f.attrs[C])}function Xc(u,f,d){const g=Hc(u,f,d);for(const C in u)if(Ie(u[C])||Ie(f[C])){const A=dt.indexOf(C)!==-1?"attr"+C.charAt(0).toUpperCase()+C.substring(1):C;g[A]=u[C]}return g}const Yc=["x","y","width","height","cx","cy","r"],Hl={useVisualState:Pu({scrapeMotionValuesFromProps:Xc,createRenderState:Us,onUpdate:({props:u,prevProps:f,current:d,renderState:g,latestValues:C})=>{if(!d)return;let A=!!u.drag;if(!A){for(const L in C)if(Un.has(L)){A=!0;break}}if(!A)return;let O=!f;if(f)for(let L=0;L<Yc.length;L++){const N=Yc[L];u[N]!==f[N]&&(O=!0)}O&&Ct.read(()=>{Gc(d,g),Ct.render(()=>{Iu(g,C,wo(d.tagName),u.transformTemplate),Zc(d,g)})})}})};function is(u,f){return function(g,{forwardMotionProps:C}={forwardMotionProps:!1}){const A=Au(g)?Hl:Go,O=ci(rn({},A),{preloadedFeatures:u,useRender:Eh(C),createVisualElement:f,Component:g});return Dc(O)}}const Ru={current:null},Kc={current:!1};function Sh(){if(Kc.current=!0,!!wu)if(window.matchMedia){const u=window.matchMedia("(prefers-reduced-motion)"),f=()=>Ru.current=u.matches;u.addListener(f),f()}else Ru.current=!1}const wh=[...hi,be,Ia],Qc=u=>wh.find(pi(u)),po=new WeakMap;function Jc(u,f,d){for(const g in f){const C=f[g],A=d[g];if(Ie(C))u.addValue(g,C);else if(Ie(A))u.addValue(g,En(C,{owner:u}));else if(A!==C)if(u.hasValue(g)){const O=u.getValue(g);O.liveStyle===!0?O.jump(C):O.hasAnimated||O.set(C)}else{const O=u.getStaticValue(g);u.addValue(g,En(O!==void 0?O:C,{owner:u}))}}for(const g in d)f[g]===void 0&&u.removeValue(g);return f}const qc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ef{scrapeMotionValuesFromProps(f,d,g){return{}}constructor({parent:f,props:d,presenceContext:g,reducedMotionConfig:C,blockInitialAnimation:A,visualState:O},L={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const bt=xn.now();this.renderScheduledAt<bt&&(this.renderScheduledAt=bt,Ct.render(this.render,!1,!0))};const{latestValues:N,renderState:G,onUpdate:Q}=O;this.onUpdate=Q,this.latestValues=N,this.baseTarget=rn({},N),this.initialValues=d.initial?rn({},N):{},this.renderState=G,this.parent=f,this.props=d,this.presenceContext=g,this.depth=f?f.depth+1:0,this.reducedMotionConfig=C,this.options=L,this.blockInitialAnimation=!!A,this.isControllingVariants=zl(d),this.isVariantNode=_c(d),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(f&&f.current);const at=this.scrapeMotionValuesFromProps(d,{},this),{willChange:ce}=at,Oe=Oo(at,["willChange"]);for(const bt in Oe){const Lt=Oe[bt];N[bt]!==void 0&&Ie(Lt)&&Lt.set(N[bt],!1)}}mount(f){this.current=f,po.set(f,this),this.projection&&!this.projection.instance&&this.projection.mount(f),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((d,g)=>this.bindToMotionValue(g,d)),Kc.current||Sh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ru.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zt(this.notifyUpdate),zt(this.render),this.valueSubscriptions.forEach(f=>f()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const f in this.events)this.events[f].clear();for(const f in this.features){const d=this.features[f];d&&(d.unmount(),d.isMounted=!1)}this.current=null}bindToMotionValue(f,d){this.valueSubscriptions.has(f)&&this.valueSubscriptions.get(f)();const g=Un.has(f);g&&this.onBindTransform&&this.onBindTransform();const C=d.on("change",L=>{this.latestValues[f]=L,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),g&&this.projection&&(this.projection.isTransformDirty=!0)}),A=d.on("renderRequest",this.scheduleRender);let O;window.MotionCheckAppearSync&&(O=window.MotionCheckAppearSync(this,f,d)),this.valueSubscriptions.set(f,()=>{C(),A(),O&&O(),d.owner&&d.stop()})}sortNodePosition(f){return!this.current||!this.sortInstanceNodePosition||this.type!==f.type?0:this.sortInstanceNodePosition(this.current,f.current)}updateFeatures(){let f="animation";for(f in ps){const d=ps[f];if(!d)continue;const{isEnabled:g,Feature:C}=d;if(!this.features[f]&&C&&g(this.props)&&(this.features[f]=new C(this)),this.features[f]){const A=this.features[f];A.isMounted?A.update():(A.mount(),A.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fa()}getStaticValue(f){return this.latestValues[f]}setStaticValue(f,d){this.latestValues[f]=d}update(f,d){(f.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=f,this.prevPresenceContext=this.presenceContext,this.presenceContext=d;for(let g=0;g<qc.length;g++){const C=qc[g];this.propEventSubscriptions[C]&&(this.propEventSubscriptions[C](),delete this.propEventSubscriptions[C]);const A="on"+C,O=f[A];O&&(this.propEventSubscriptions[C]=this.on(C,O))}this.prevMotionValues=Jc(this,this.scrapeMotionValuesFromProps(f,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(f){return this.props.variants?this.props.variants[f]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(f){const d=this.getClosestVariantNode();if(d)return d.variantChildren&&d.variantChildren.add(f),()=>d.variantChildren.delete(f)}addValue(f,d){const g=this.values.get(f);d!==g&&(g&&this.removeValue(f),this.bindToMotionValue(f,d),this.values.set(f,d),this.latestValues[f]=d.get())}removeValue(f){this.values.delete(f);const d=this.valueSubscriptions.get(f);d&&(d(),this.valueSubscriptions.delete(f)),delete this.latestValues[f],this.removeValueFromRenderState(f,this.renderState)}hasValue(f){return this.values.has(f)}getValue(f,d){if(this.props.values&&this.props.values[f])return this.props.values[f];let g=this.values.get(f);return g===void 0&&d!==void 0&&(g=En(d===null?void 0:d,{owner:this}),this.addValue(f,g)),g}readValue(f,d){var g;let C=this.latestValues[f]!==void 0||!this.current?this.latestValues[f]:(g=this.getBaseTargetFromProps(this.props,f))!==null&&g!==void 0?g:this.readValueFromInstance(this.current,f,this.options);return C!=null&&(typeof C=="string"&&(Lr(C)||yn(C))?C=parseFloat(C):!Qc(C)&&Ia.test(d)&&(C=An(f,d)),this.setBaseTarget(f,Ie(C)?C.get():C)),Ie(C)?C.get():C}setBaseTarget(f,d){this.baseTarget[f]=d}getBaseTarget(f){var d;const{initial:g}=this.props;let C;if(typeof g=="string"||typeof g=="object"){const O=tt(this.props,g,(d=this.presenceContext)===null||d===void 0?void 0:d.custom);O&&(C=O[f])}if(g&&C!==void 0)return C;const A=this.getBaseTargetFromProps(this.props,f);return A!==void 0&&!Ie(A)?A:this.initialValues[f]!==void 0&&C===void 0?void 0:this.baseTarget[f]}on(f,d){return this.events[f]||(this.events[f]=new X),this.events[f].add(d)}notify(f,...d){this.events[f]&&this.events[f].notify(...d)}}class vl extends ef{constructor(){super(...arguments),this.KeyframeResolver=Mi}sortInstanceNodePosition(f,d){return f.compareDocumentPosition(d)&2?1:-1}getBaseTargetFromProps(f,d){return f.style?f.style[d]:void 0}removeValueFromRenderState(f,{vars:d,style:g}){delete d[f],delete g[f]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:f}=this.props;Ie(f)&&(this.childSubscription=f.on("change",d=>{this.current&&(this.current.textContent=`${d}`)}))}}function tf(u){return window.getComputedStyle(u)}class nf extends vl{constructor(){super(...arguments),this.type="html",this.renderInstance=gs}readValueFromInstance(f,d){if(Un.has(d))return Re(f,d);{const g=tf(f),C=(dr(d)?g.getPropertyValue(d):g[d])||0;return typeof C=="string"?C.trim():C}}measureInstanceViewportBox(f,{transformPagePoint:d}){return Ya(f,d)}build(f,d,g){Ul(f,d,g.transformTemplate)}scrapeMotionValuesFromProps(f,d,g){return Hc(f,d,g)}}class rf extends vl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fa,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Gc(this.current,this.renderState)}}getBaseTargetFromProps(f,d){return f[d]}readValueFromInstance(f,d){if(Un.has(d)){const g=Es(d);return g&&g.default||0}return d=Wc.has(d)?d:gt(d),f.getAttribute(d)}scrapeMotionValuesFromProps(f,d,g){return Xc(f,d,g)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ct.postRender(this.updateDimensions)}build(f,d,g){Iu(f,d,this.isSVGTag,g.transformTemplate)}renderInstance(f,d,g,C){Zc(f,d,g,C)}mount(f){this.isSVGTag=wo(f.tagName),super.mount(f)}}const af=(u,f)=>Au(u)?new rf(f):new nf(f,{allowProjection:u!==Nr.Fragment}),_u=is(rn(rn(rn(rn({},fo),vs),Vs),qf),af),Oh=ge(_u)},18357:function(Xt,Me,T){"use strict";T.d(Me,{df:function(){return Tt}});var y=T(67294),M=Object.defineProperty,k=(ge,Be,ze)=>Be in ge?M(ge,Be,{enumerable:!0,configurable:!0,writable:!0,value:ze}):ge[Be]=ze,me=(ge,Be,ze)=>k(ge,typeof Be!="symbol"?Be+"":Be,ze),ne=new Map,ee=new WeakMap,w=0,ae=void 0;function Y(ge){ae=ge}function X(ge){return ge?(ee.has(ge)||(w+=1,ee.set(ge,w.toString())),ee.get(ge)):"0"}function he(ge){return Object.keys(ge).sort().filter(Be=>ge[Be]!==void 0).map(Be=>`${Be}_${Be==="root"?X(ge.root):ge[Be]}`).toString()}function ve(ge){const Be=he(ge);let ze=ne.get(Be);if(!ze){const tt=new Map;let qe;const Ye=new IntersectionObserver(je=>{je.forEach(Ft=>{var Jt;const ft=Ft.isIntersecting&&qe.some(xe=>Ft.intersectionRatio>=xe);ge.trackVisibility&&typeof Ft.isVisible=="undefined"&&(Ft.isVisible=ft),(Jt=tt.get(Ft.target))==null||Jt.forEach(xe=>{xe(ft,Ft)})})},ge);qe=Ye.thresholds||(Array.isArray(ge.threshold)?ge.threshold:[ge.threshold||0]),ze={id:Be,observer:Ye,elements:tt},ne.set(Be,ze)}return ze}function pe(ge,Be,ze={},tt=ae){if(typeof window.IntersectionObserver=="undefined"&&tt!==void 0){const Jt=ge.getBoundingClientRect();return Be(tt,{isIntersecting:tt,target:ge,intersectionRatio:typeof ze.threshold=="number"?ze.threshold:0,time:0,boundingClientRect:Jt,intersectionRect:Jt,rootBounds:Jt}),()=>{}}const{id:qe,observer:Ye,elements:je}=ve(ze),Ft=je.get(ge)||[];return je.has(ge)||je.set(ge,Ft),Ft.push(Be),Ye.observe(ge),function(){Ft.splice(Ft.indexOf(Be),1),Ft.length===0&&(je.delete(ge),Ye.unobserve(ge)),je.size===0&&(Ye.disconnect(),ne.delete(qe))}}function $e(ge){return typeof ge.children!="function"}var Tt=class extends y.Component{constructor(ge){super(ge),me(this,"node",null),me(this,"_unobserveCb",null),me(this,"handleNode",Be=>{this.node&&(this.unobserve(),!Be&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=Be||null,this.observeNode()}),me(this,"handleChange",(Be,ze)=>{Be&&this.props.triggerOnce&&this.unobserve(),$e(this.props)||this.setState({inView:Be,entry:ze}),this.props.onChange&&this.props.onChange(Be,ze)}),this.state={inView:!!ge.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(ge){(ge.rootMargin!==this.props.rootMargin||ge.root!==this.props.root||ge.threshold!==this.props.threshold||ge.skip!==this.props.skip||ge.trackVisibility!==this.props.trackVisibility||ge.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:ge,root:Be,rootMargin:ze,trackVisibility:tt,delay:qe,fallbackInView:Ye}=this.props;this._unobserveCb=pe(this.node,this.handleChange,{threshold:ge,root:Be,rootMargin:ze,trackVisibility:tt,delay:qe},Ye)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:ge}=this.props;if(typeof ge=="function"){const{inView:It,entry:wt}=this.state;return ge({inView:It,entry:wt,ref:this.handleNode})}const De=this.props,{as:Be,triggerOnce:ze,threshold:tt,root:qe,rootMargin:Ye,onChange:je,skip:Ft,trackVisibility:Jt,delay:ft,initialInView:xe,fallbackInView:se}=De,vt=Oo(De,["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"]);return y.createElement(Be||"div",rn({ref:this.handleNode},vt),ge)}};function nt({threshold:ge,delay:Be,trackVisibility:ze,rootMargin:tt,root:qe,triggerOnce:Ye,skip:je,initialInView:Ft,fallbackInView:Jt,onChange:ft}={}){var xe;const[se,vt]=React2.useState(null),De=React2.useRef(ft),[It,wt]=React2.useState({inView:!!Ft,entry:void 0});De.current=ft,React2.useEffect(()=>{if(je||!se)return;let de;return de=pe(se,(we,Ge)=>{wt({inView:we,entry:Ge}),De.current&&De.current(we,Ge),Ge.isIntersecting&&Ye&&de&&(de(),de=void 0)},{root:qe,rootMargin:tt,threshold:ge,trackVisibility:ze,delay:Be},Jt),()=>{de&&de()}},[Array.isArray(ge)?ge.toString():ge,se,qe,tt,Ye,je,ze,Jt,Be]);const et=(xe=It.entry)==null?void 0:xe.target,Le=React2.useRef(void 0);!se&&et&&!Ye&&!je&&Le.current!==et&&(Le.current=et,wt({inView:!!Ft,entry:void 0}));const J=[vt,It.inView,It.entry];return J.ref=J[0],J.inView=J[1],J.entry=J[2],J}}}]);
}());