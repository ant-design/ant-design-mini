<import-sjs from="./index.sjs" name="{isComputing,getPlacement}" />
<view class="amd-popover {{className ? className : ''}}" style="{{style || ''}}">
  <view onTap="onVisibleChange">
    <slot />
  </view>
  <view class="amd-popover-container"
    a:if="{{mixin.value}}">
    <!-- è’™å±‚ -->
    <mask 
      show="{{showMask&&!isComputing(placement, adjustedPlacement, autoAdjustOverflow)}}"    
      className="{{maskClassName}}"
      style="z-index:99;{{maskStyle || ''}}" 
      onMaskTap="onVisibleChange"/>
    <view
      id="amd-popover-content-{{$id}}" 
      class="amd-popover-content amd-popover-{{getPlacement(placement, adjustedPlacement, autoAdjustOverflow)}}" 
      style="{{ isComputing(placement, adjustedPlacement, autoAdjustOverflow) ? 'opacity:0' : '' }}">
      <view class="amd-popover-arrow" style="{{color?`border-bottom-color:${color}` : ''}}"></view>
      <view class="amd-popover-inner {{contentClassName || ''}}" style="{{color?`background:${color}`:''}};{{contentStyle || ''}}">
        <slot name="content">{{content}}</slot>
      </view>
    </view>
  </view>
</view>
