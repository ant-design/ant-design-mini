"use strict";(self.webpackChunkantd_mini=self.webpackChunkantd_mini||[]).push([[1032],{67012:function(ie,j,a){a.r(j),a.d(j,{default:function(){return ne}});var $=a(97857),k=a.n($),D=a(5574),E=a.n(D),w=a(54548),O=a(9361),B=a(25682),T=a(52830),o=a(67294),s=a(27248),F=a(59320),G=a(38199);function le(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function V(v,n){var t=new URL(v),r=t.searchParams,d=r.get("page"),p=H(n.platform),g=p.platform,f=p.disablePlatformSwitch;r.set("platform",g),r.set("theme",n.theme);var y=new URL(t.origin+t.pathname);return y.searchParams.set("compilerServer",r.get("compilerServer")||""),y.searchParams.set("page",""),{url:t.toString(),originPath:y.toString(),page:d,supportPlatform:g,disablePlatformSwitch:f}}var z="alipay";function H(v){var n=!0;return!n&&v==="wechat"?{platform:z,disablePlatformSwitch:!0}:{platform:v,disablePlatformSwitch:!1}}var X={name:"1nm27lw",styles:"background-color:#f9fafb"},Y={name:"1nw5iit",styles:"background-color:#141414"},K=function(){var n=(0,F.Z)(),t=n.token;return{previewerWrapper:(0,s.iv)("@media only screen and (max-width: ",t.screenLG,"px){display:none;}",""),dark:Y,light:X}},Q=function(){var n=K(),t=(0,o.useContext)(G.Z),r=t.theme,d=t.platform,p=t.herboxUrl,g=(0,o.useState)(!1),f=E()(g,2),y=f[0],I=f[1],u=(0,o.useRef)(null),c=(0,T.MZ)(),Z=(0,o.useMemo)(function(){var e;return(c==null||(e=c.meta)===null||e===void 0||(e=e.frontmatter)===null||e===void 0||(e=e.nav)===null||e===void 0?void 0:e.path)==="/components"},[c]),M=window.location.protocol+"//"+window.location.host+p,L=(0,o.useMemo)(function(){return V(M,{theme:(r==null?void 0:r.find(function(e){return["dark","light"].includes(e)}))||"light",platform:d})},[M,r,d]),x=L.originPath,P=L.page;function m(){var e=u.current;if(e){var l=function(){var S,i;e==null||(S=e.contentWindow)===null||S===void 0||S.postMessage({type:"setIsDarkMode",data:r.includes("dark")});var C=r.includes("dark")?"#000":"#fff";e==null||(i=e.contentWindow)===null||i===void 0||i.postMessage({type:"evaluateJavaScriptInWorkerCode",data:`
          my.setNavigationBar({
            backgroundColor: '`.concat(C,`',
            borderBottomColor: '`).concat(C,`',
          });
      `)})};l()}}function b(){var e=u.current;if(!e)return;var l=r.includes("dark")?"#000":"#fff";function h(){var S;e==null||(S=e.contentWindow)===null||S===void 0||S.postMessage({type:"evaluateJavaScriptInWorkerCode",data:`
        console.log('\u8DF3\u8F6C\u9875\u9762','/`.concat(P,`');
        my.redirectTo({
          url: '/`).concat(P,`',
          success: () => {
            setTimeout(()=>{
              my.setNavigationBar({
                backgroundColor: '`).concat(l,`',
                borderBottomColor: '`).concat(l,`',
              });
            }, 500);
          },
      });
      `)})}h()}function N(e){var l,h=u.current;!h||!e||h==null||(l=h.contentWindow)===null||l===void 0||l.postMessage({type:"evaluateJavaScriptInWorkerCode",data:e})}(0,o.useEffect)(function(){r.length>0&&m()},[r]),(0,o.useEffect)(function(){P&&b()},[P]),(0,o.useEffect)(function(){var e=u.current;e&&(e.onload=function(){m(),window.setMsgToSim=N})},[u.current]);function R(e){if(e.data.type==="onAppReady"){var l=e.data.data;l&&(m(),b())}}return(0,o.useEffect)(function(){return window.addEventListener("message",R),function(){window.removeEventListener("message",R)}},[P]),(0,s.tZ)("div",{className:"previewer ".concat(!p||!Z?"hide":""," ").concat(r.includes("dark")?"theme-dark":"theme-light"),css:(0,s.iv)(n.previewerWrapper," ",r.includes("dark")?n.dark:n.light,";","")},!y&&(0,s.tZ)("div",{className:"previewer-loading"}),(0,s.tZ)("iframe",{ref:u,src:x,onLoad:function(){return I(!0)},allow:"clipboard-read; clipboard-write"}))},q=Q,_=a(96107),ee=768,A="dumi-theme-antd-site-state",J={theme:[],isMobile:!1,direction:"ltr",platform:"alipay",herboxUrl:""},te=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(function(t){return t==="dark"?O.Z.darkAlgorithm:t==="compact"?O.Z.compactAlgorithm:O.Z.defaultAlgorithm})},re=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},ae=function(n){var t=n,r=re(),d=(t==null?void 0:t.theme)||[],p=d.filter(function(f){return f==="auto"}).length>0;if(p){var g=d.filter(function(f){return f!=="auto"});g.push(r?"dark":"light"),t.theme=g}return Object.assign(J,t)},oe=function(){var n=(0,T.OI)(),t=E()(n,3),r=t[2],d=(0,_.Z)(),p=d.theme,g=d.ssr,f=d.prefersColor,y=(0,o.useState)(J),I=E()(y,2),u=I[0],c=u.theme,Z=u.isMobile,M=u.direction,L=u.platform,x=u.herboxUrl,P=I[1],m=(0,o.useCallback)(function(i){try{var C=JSON.parse(window.localStorage.getItem(A)||"{}"),U=Object.assign(C,i);window.localStorage.setItem(A,JSON.stringify(U)),P(function(W){return k()(k()({},W),i)})}catch(W){console.error(W)}},[]),b=(0,o.useCallback)(function(){m({isMobile:window.innerWidth<ee})},[m]);(0,o.useEffect)(function(){try{var i=JSON.parse(window.localStorage.getItem(A)||"{}");i!=null&&i.theme||(i.theme=[f.default]);var C=ae(i);m(C)}catch(U){console.error(U)}},[f,m]),(0,o.useEffect)(function(){return b(),r((c!=null?c:[]).indexOf("dark")>-1?"dark":"light"),window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}},[c,b,r]);var N=(0,o.useMemo)(function(){return{direction:M,isMobile:Z,theme:c,platform:L,herboxUrl:x,updateSiteConfig:m}},[Z,c,M,L,x,m]),R=o.useState(function(){return(0,w.createCache)()}),e=E()(R,1),l=e[0];(0,T.vj)(function(){var i=(0,w.extractStyle)(l,{plain:!0,types:"style"});return(0,s.tZ)("style",{"data-type":"antd-cssinjs",dangerouslySetInnerHTML:{__html:i}})}),(0,T.vj)(function(){var i=(0,w.extractStyle)(l,{plain:!0,types:["cssVar","token"]});return(0,s.tZ)("style",{"data-type":"antd-css-var","data-rc-order":"prepend","data-rc-priority":"-9999",dangerouslySetInnerHTML:{__html:i}})});var h=(0,s.tZ)(G.Z.Provider,{value:N},(0,s.tZ)(B.ZP,{theme:k()(k()({},p),{},{algorithm:te(c)})},(0,s.tZ)(T.j3,null),(0,s.tZ)(q,null))),S=(0,s.tZ)(w.StyleProvider,{cache:l,linters:[w.logicalPropertiesLinter,w.legacyNotSelectorLinter,w.parentSelectorLinter]},h);return g?(a.g.styleCache=l,S):h},ne=oe}}]);
